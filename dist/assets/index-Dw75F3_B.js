function UD(t,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();var Tg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function WD(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var s=t.default;if(typeof s=="function"){var r=function a(){return this instanceof a?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};r.prototype=s.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var n=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:function(){return t[a]}})}),r}var Ag={exports:{}},Eu={},Fg={exports:{}},zs={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function GD(){if(mN)return zs;mN=1;var t=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),i=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function f(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function g(H,F,I){this.props=H,this.context=F,this.refs=v,this.updater=I||N}g.prototype.isReactComponent={},g.prototype.setState=function(H,F){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,F,"setState")},g.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function y(){}y.prototype=g.prototype;function C(H,F,I){this.props=H,this.context=F,this.refs=v,this.updater=I||N}var j=C.prototype=new y;j.constructor=C,p(j,g.prototype),j.isPureReactComponent=!0;var S=Array.isArray,P=Object.prototype.hasOwnProperty,D={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function A(H,F,I){var U,k={},O=null,he=null;if(F!=null)for(U in F.ref!==void 0&&(he=F.ref),F.key!==void 0&&(O=""+F.key),F)P.call(F,U)&&!T.hasOwnProperty(U)&&(k[U]=F[U]);var ye=arguments.length-2;if(ye===1)k.children=I;else if(1<ye){for(var be=Array(ye),je=0;je<ye;je++)be[je]=arguments[je+2];k.children=be}if(H&&H.defaultProps)for(U in ye=H.defaultProps,ye)k[U]===void 0&&(k[U]=ye[U]);return{$$typeof:t,type:H,key:O,ref:he,props:k,_owner:D.current}}function M(H,F){return{$$typeof:t,type:H.type,key:F,ref:H.ref,props:H.props,_owner:H._owner}}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function q(H){var F={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(I){return F[I]})}var B=/\/+/g;function te(H,F){return typeof H=="object"&&H!==null&&H.key!=null?q(""+H.key):F.toString(36)}function oe(H,F,I,U,k){var O=typeof H;(O==="undefined"||O==="boolean")&&(H=null);var he=!1;if(H===null)he=!0;else switch(O){case"string":case"number":he=!0;break;case"object":switch(H.$$typeof){case t:case s:he=!0}}if(he)return he=H,k=k(he),H=U===""?"."+te(he,0):U,S(k)?(I="",H!=null&&(I=H.replace(B,"$&/")+"/"),oe(k,F,I,"",function(je){return je})):k!=null&&(L(k)&&(k=M(k,I+(!k.key||he&&he.key===k.key?"":(""+k.key).replace(B,"$&/")+"/")+H)),F.push(k)),1;if(he=0,U=U===""?".":U+":",S(H))for(var ye=0;ye<H.length;ye++){O=H[ye];var be=U+te(O,ye);he+=oe(O,F,I,be,k)}else if(be=f(H),typeof be=="function")for(H=be.call(H),ye=0;!(O=H.next()).done;)O=O.value,be=U+te(O,ye++),he+=oe(O,F,I,be,k);else if(O==="object")throw F=String(H),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return he}function fe(H,F,I){if(H==null)return H;var U=[],k=0;return oe(H,U,"","",function(O){return F.call(I,O,k++)}),U}function R(H){if(H._status===-1){var F=H._result;F=F(),F.then(function(I){(H._status===0||H._status===-1)&&(H._status=1,H._result=I)},function(I){(H._status===0||H._status===-1)&&(H._status=2,H._result=I)}),H._status===-1&&(H._status=0,H._result=F)}if(H._status===1)return H._result.default;throw H._result}var V={current:null},W={transition:null},ne={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:W,ReactCurrentOwner:D};function J(){throw Error("act(...) is not supported in production builds of React.")}return zs.Children={map:fe,forEach:function(H,F,I){fe(H,function(){F.apply(this,arguments)},I)},count:function(H){var F=0;return fe(H,function(){F++}),F},toArray:function(H){return fe(H,function(F){return F})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},zs.Component=g,zs.Fragment=r,zs.Profiler=n,zs.PureComponent=C,zs.StrictMode=a,zs.Suspense=x,zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,zs.act=J,zs.cloneElement=function(H,F,I){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var U=p({},H.props),k=H.key,O=H.ref,he=H._owner;if(F!=null){if(F.ref!==void 0&&(O=F.ref,he=D.current),F.key!==void 0&&(k=""+F.key),H.type&&H.type.defaultProps)var ye=H.type.defaultProps;for(be in F)P.call(F,be)&&!T.hasOwnProperty(be)&&(U[be]=F[be]===void 0&&ye!==void 0?ye[be]:F[be])}var be=arguments.length-2;if(be===1)U.children=I;else if(1<be){ye=Array(be);for(var je=0;je<be;je++)ye[je]=arguments[je+2];U.children=ye}return{$$typeof:t,type:H.type,key:k,ref:O,props:U,_owner:he}},zs.createContext=function(H){return H={$$typeof:i,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},zs.createElement=A,zs.createFactory=function(H){var F=A.bind(null,H);return F.type=H,F},zs.createRef=function(){return{current:null}},zs.forwardRef=function(H){return{$$typeof:d,render:H}},zs.isValidElement=L,zs.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:R}},zs.memo=function(H,F){return{$$typeof:h,type:H,compare:F===void 0?null:F}},zs.startTransition=function(H){var F=W.transition;W.transition={};try{H()}finally{W.transition=F}},zs.unstable_act=J,zs.useCallback=function(H,F){return V.current.useCallback(H,F)},zs.useContext=function(H){return V.current.useContext(H)},zs.useDebugValue=function(){},zs.useDeferredValue=function(H){return V.current.useDeferredValue(H)},zs.useEffect=function(H,F){return V.current.useEffect(H,F)},zs.useId=function(){return V.current.useId()},zs.useImperativeHandle=function(H,F,I){return V.current.useImperativeHandle(H,F,I)},zs.useInsertionEffect=function(H,F){return V.current.useInsertionEffect(H,F)},zs.useLayoutEffect=function(H,F){return V.current.useLayoutEffect(H,F)},zs.useMemo=function(H,F){return V.current.useMemo(H,F)},zs.useReducer=function(H,F,I){return V.current.useReducer(H,F,I)},zs.useRef=function(H){return V.current.useRef(H)},zs.useState=function(H){return V.current.useState(H)},zs.useSyncExternalStore=function(H,F,I){return V.current.useSyncExternalStore(H,F,I)},zs.useTransition=function(){return V.current.useTransition()},zs.version="18.3.1",zs}var pN;function sb(){return pN||(pN=1,Fg.exports=GD()),Fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function $D(){if(fN)return Eu;fN=1;var t=sb(),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(d,x,h){var m,b={},f=null,N=null;h!==void 0&&(f=""+h),x.key!==void 0&&(f=""+x.key),x.ref!==void 0&&(N=x.ref);for(m in x)a.call(x,m)&&!l.hasOwnProperty(m)&&(b[m]=x[m]);if(d&&d.defaultProps)for(m in x=d.defaultProps,x)b[m]===void 0&&(b[m]=x[m]);return{$$typeof:s,type:d,key:f,ref:N,props:b,_owner:n.current}}return Eu.Fragment=r,Eu.jsx=i,Eu.jsxs=i,Eu}var gN;function zD(){return gN||(gN=1,Ag.exports=$D()),Ag.exports}var e=zD(),_h={},Pg={exports:{}},qn={},Mg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function VD(){return yN||(yN=1,(function(t){function s(W,ne){var J=W.length;W.push(ne);e:for(;0<J;){var H=J-1>>>1,F=W[H];if(0<n(F,ne))W[H]=ne,W[J]=F,J=H;else break e}}function r(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ne=W[0],J=W.pop();if(J!==ne){W[0]=J;e:for(var H=0,F=W.length,I=F>>>1;H<I;){var U=2*(H+1)-1,k=W[U],O=U+1,he=W[O];if(0>n(k,J))O<F&&0>n(he,k)?(W[H]=he,W[O]=J,H=O):(W[H]=k,W[U]=J,H=U);else if(O<F&&0>n(he,J))W[H]=he,W[O]=J,H=O;else break e}}return ne}function n(W,ne){var J=W.sortIndex-ne.sortIndex;return J!==0?J:W.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,d=i.now();t.unstable_now=function(){return i.now()-d}}var x=[],h=[],m=1,b=null,f=3,N=!1,p=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var ne=r(h);ne!==null;){if(ne.callback===null)a(h);else if(ne.startTime<=W)a(h),ne.sortIndex=ne.expirationTime,s(x,ne);else break;ne=r(h)}}function S(W){if(v=!1,j(W),!p)if(r(x)!==null)p=!0,R(P);else{var ne=r(h);ne!==null&&V(S,ne.startTime-W)}}function P(W,ne){p=!1,v&&(v=!1,y(A),A=-1),N=!0;var J=f;try{for(j(ne),b=r(x);b!==null&&(!(b.expirationTime>ne)||W&&!q());){var H=b.callback;if(typeof H=="function"){b.callback=null,f=b.priorityLevel;var F=H(b.expirationTime<=ne);ne=t.unstable_now(),typeof F=="function"?b.callback=F:b===r(x)&&a(x),j(ne)}else a(x);b=r(x)}if(b!==null)var I=!0;else{var U=r(h);U!==null&&V(S,U.startTime-ne),I=!1}return I}finally{b=null,f=J,N=!1}}var D=!1,T=null,A=-1,M=5,L=-1;function q(){return!(t.unstable_now()-L<M)}function B(){if(T!==null){var W=t.unstable_now();L=W;var ne=!0;try{ne=T(!0,W)}finally{ne?te():(D=!1,T=null)}}else D=!1}var te;if(typeof C=="function")te=function(){C(B)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,fe=oe.port2;oe.port1.onmessage=B,te=function(){fe.postMessage(null)}}else te=function(){g(B,0)};function R(W){T=W,D||(D=!0,te())}function V(W,ne){A=g(function(){W(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){p||N||(p=!0,R(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(x)},t.unstable_next=function(W){switch(f){case 1:case 2:case 3:var ne=3;break;default:ne=f}var J=f;f=ne;try{return W()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ne){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=f;f=W;try{return ne()}finally{f=J}},t.unstable_scheduleCallback=function(W,ne,J){var H=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?H+J:H):J=H,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=J+F,W={id:m++,callback:ne,priorityLevel:W,startTime:J,expirationTime:F,sortIndex:-1},J>H?(W.sortIndex=J,s(h,W),r(x)===null&&W===r(h)&&(v?(y(A),A=-1):v=!0,V(S,J-H))):(W.sortIndex=F,s(x,W),p||N||(p=!0,R(P))),W},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(W){var ne=f;return function(){var J=f;f=ne;try{return W.apply(this,arguments)}finally{f=J}}}})(Ig)),Ig}var bN;function YD(){return bN||(bN=1,Mg.exports=VD()),Mg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function KD(){if(vN)return qn;vN=1;var t=sb(),s=YD();function r(c){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+c,w=1;w<arguments.length;w++)u+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,n={};function l(c,u){i(c,u),i(c+"Capture",u)}function i(c,u){for(n[c]=u,c=0;c<u.length;c++)a.add(u[c])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},b={};function f(c){return x.call(b,c)?!0:x.call(m,c)?!1:h.test(c)?b[c]=!0:(m[c]=!0,!1)}function N(c,u,w,E){if(w!==null&&w.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return E?!1:w!==null?!w.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function p(c,u,w,E){if(u===null||typeof u>"u"||N(c,u,w,E))return!0;if(E)return!1;if(w!==null)switch(w.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function v(c,u,w,E,K,le,Be){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=E,this.attributeNamespace=K,this.mustUseProperty=w,this.propertyName=c,this.type=u,this.sanitizeURL=le,this.removeEmptyString=Be}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){g[c]=new v(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var u=c[0];g[u]=new v(u,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){g[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){g[c]=new v(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){g[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){g[c]=new v(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){g[c]=new v(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){g[c]=new v(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){g[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function C(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var u=c.replace(y,C);g[u]=new v(u,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var u=c.replace(y,C);g[u]=new v(u,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var u=c.replace(y,C);g[u]=new v(u,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){g[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)}),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){g[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function j(c,u,w,E){var K=g.hasOwnProperty(u)?g[u]:null;(K!==null?K.type!==0:E||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(p(u,w,K,E)&&(w=null),E||K===null?f(u)&&(w===null?c.removeAttribute(u):c.setAttribute(u,""+w)):K.mustUseProperty?c[K.propertyName]=w===null?K.type===3?!1:"":w:(u=K.attributeName,E=K.attributeNamespace,w===null?c.removeAttribute(u):(K=K.type,w=K===3||K===4&&w===!0?"":""+w,E?c.setAttributeNS(E,u,w):c.setAttribute(u,w))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),D=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),q=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),W=Symbol.iterator;function ne(c){return c===null||typeof c!="object"?null:(c=W&&c[W]||c["@@iterator"],typeof c=="function"?c:null)}var J=Object.assign,H;function F(c){if(H===void 0)try{throw Error()}catch(w){var u=w.stack.trim().match(/\n( *(at )?)/);H=u&&u[1]||""}return`
`+H+c}var I=!1;function U(c,u){if(!c||I)return"";I=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(It){var E=It}Reflect.construct(c,[],u)}else{try{u.call()}catch(It){E=It}c.call(u.prototype)}else{try{throw Error()}catch(It){E=It}c()}}catch(It){if(It&&E&&typeof It.stack=="string"){for(var K=It.stack.split(`
`),le=E.stack.split(`
`),Be=K.length-1,st=le.length-1;1<=Be&&0<=st&&K[Be]!==le[st];)st--;for(;1<=Be&&0<=st;Be--,st--)if(K[Be]!==le[st]){if(Be!==1||st!==1)do if(Be--,st--,0>st||K[Be]!==le[st]){var ht=`
`+K[Be].replace(" at new "," at ");return c.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",c.displayName)),ht}while(1<=Be&&0<=st);break}}}finally{I=!1,Error.prepareStackTrace=w}return(c=c?c.displayName||c.name:"")?F(c):""}function k(c){switch(c.tag){case 5:return F(c.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return c=U(c.type,!1),c;case 11:return c=U(c.type.render,!1),c;case 1:return c=U(c.type,!0),c;default:return""}}function O(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case T:return"Fragment";case D:return"Portal";case M:return"Profiler";case A:return"StrictMode";case te:return"Suspense";case oe:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case q:return(c.displayName||"Context")+".Consumer";case L:return(c._context.displayName||"Context")+".Provider";case B:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case fe:return u=c.displayName||null,u!==null?u:O(c.type)||"Memo";case R:u=c._payload,c=c._init;try{return O(c(u))}catch{}}return null}function he(c){var u=c.type;switch(c.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=u.render,c=c.displayName||c.name||"",u.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(u);case 8:return u===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ye(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function be(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function je(c){var u=be(c)?"checked":"value",w=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),E=""+c[u];if(!c.hasOwnProperty(u)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var K=w.get,le=w.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return K.call(this)},set:function(Be){E=""+Be,le.call(this,Be)}}),Object.defineProperty(c,u,{enumerable:w.enumerable}),{getValue:function(){return E},setValue:function(Be){E=""+Be},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function ge(c){c._valueTracker||(c._valueTracker=je(c))}function xe(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var w=u.getValue(),E="";return c&&(E=be(c)?c.checked?"true":"false":c.value),c=E,c!==w?(u.setValue(c),!0):!1}function Se(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function De(c,u){var w=u.checked;return J({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??c._wrapperState.initialChecked})}function Fe(c,u){var w=u.defaultValue==null?"":u.defaultValue,E=u.checked!=null?u.checked:u.defaultChecked;w=ye(u.value!=null?u.value:w),c._wrapperState={initialChecked:E,initialValue:w,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ae(c,u){u=u.checked,u!=null&&j(c,"checked",u,!1)}function ze(c,u){Ae(c,u);var w=ye(u.value),E=u.type;if(w!=null)E==="number"?(w===0&&c.value===""||c.value!=w)&&(c.value=""+w):c.value!==""+w&&(c.value=""+w);else if(E==="submit"||E==="reset"){c.removeAttribute("value");return}u.hasOwnProperty("value")?Ve(c,u.type,w):u.hasOwnProperty("defaultValue")&&Ve(c,u.type,ye(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(c.defaultChecked=!!u.defaultChecked)}function He(c,u,w){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var E=u.type;if(!(E!=="submit"&&E!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+c._wrapperState.initialValue,w||u===c.value||(c.value=u),c.defaultValue=u}w=c.name,w!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,w!==""&&(c.name=w)}function Ve(c,u,w){(u!=="number"||Se(c.ownerDocument)!==c)&&(w==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+w&&(c.defaultValue=""+w))}var qe=Array.isArray;function ve(c,u,w,E){if(c=c.options,u){u={};for(var K=0;K<w.length;K++)u["$"+w[K]]=!0;for(w=0;w<c.length;w++)K=u.hasOwnProperty("$"+c[w].value),c[w].selected!==K&&(c[w].selected=K),K&&E&&(c[w].defaultSelected=!0)}else{for(w=""+ye(w),u=null,K=0;K<c.length;K++){if(c[K].value===w){c[K].selected=!0,E&&(c[K].defaultSelected=!0);return}u!==null||c[K].disabled||(u=c[K])}u!==null&&(u.selected=!0)}}function Me(c,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},u,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Te(c,u){var w=u.value;if(w==null){if(w=u.children,u=u.defaultValue,w!=null){if(u!=null)throw Error(r(92));if(qe(w)){if(1<w.length)throw Error(r(93));w=w[0]}u=w}u==null&&(u=""),w=u}c._wrapperState={initialValue:ye(w)}}function Le(c,u){var w=ye(u.value),E=ye(u.defaultValue);w!=null&&(w=""+w,w!==c.value&&(c.value=w),u.defaultValue==null&&c.defaultValue!==w&&(c.defaultValue=w)),E!=null&&(c.defaultValue=""+E)}function ot(c){var u=c.textContent;u===c._wrapperState.initialValue&&u!==""&&u!==null&&(c.value=u)}function Je(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(c,u){return c==null||c==="http://www.w3.org/1999/xhtml"?Je(u):c==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var et,yt=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,w,E,K){MSApp.execUnsafeLocalFunction(function(){return c(u,w,E,K)})}:c})(function(c,u){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=u;else{for(et=et||document.createElement("div"),et.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=et.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;u.firstChild;)c.appendChild(u.firstChild)}});function mt(c,u){if(u){var w=c.firstChild;if(w&&w===c.lastChild&&w.nodeType===3){w.nodeValue=u;return}}c.textContent=u}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(c){we.forEach(function(u){u=u+c.charAt(0).toUpperCase()+c.substring(1),jt[u]=jt[c]})});function Re(c,u,w){return u==null||typeof u=="boolean"||u===""?"":w||typeof u!="number"||u===0||jt.hasOwnProperty(c)&&jt[c]?(""+u).trim():u+"px"}function me(c,u){c=c.style;for(var w in u)if(u.hasOwnProperty(w)){var E=w.indexOf("--")===0,K=Re(w,u[w],E);w==="float"&&(w="cssFloat"),E?c.setProperty(w,K):c[w]=K}}var Ye=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(c,u){if(u){if(Ye[c]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ft(c,u){if(c.indexOf("-")===-1)return typeof u.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=null;function Lt(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Qe=null,gt=null,vt=null;function xt(c){if(c=Oc(c)){if(typeof Qe!="function")throw Error(r(280));var u=c.stateNode;u&&(u=$d(u),Qe(c.stateNode,c.type,u))}}function Ct(c){gt?vt?vt.push(c):vt=[c]:gt=c}function Nt(){if(gt){var c=gt,u=vt;if(vt=gt=null,xt(c),u)for(c=0;c<u.length;c++)xt(u[c])}}function $e(c,u){return c(u)}function Ke(){}var ce=!1;function Ee(c,u,w){if(ce)return c(u,w);ce=!0;try{return $e(c,u,w)}finally{ce=!1,(gt!==null||vt!==null)&&(Ke(),Nt())}}function pe(c,u){var w=c.stateNode;if(w===null)return null;var E=$d(w);if(E===null)return null;w=E[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(c=c.type,E=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!E;break e;default:c=!1}if(c)return null;if(w&&typeof w!="function")throw Error(r(231,u,typeof w));return w}var at=!1;if(d)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){at=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{at=!1}function _t(c,u,w,E,K,le,Be,st,ht){var It=Array.prototype.slice.call(arguments,3);try{u.apply(w,It)}catch(qt){this.onError(qt)}}var it=!1,bt=null,se=!1,ue=null,Z={onError:function(c){it=!0,bt=c}};function G(c,u,w,E,K,le,Be,st,ht){it=!1,bt=null,_t.apply(Z,arguments)}function Y(c,u,w,E,K,le,Be,st,ht){if(G.apply(this,arguments),it){if(it){var It=bt;it=!1,bt=null}else throw Error(r(198));se||(se=!0,ue=It)}}function _(c){var u=c,w=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(w=u.return),c=u.return;while(c)}return u.tag===3?w:null}function ie(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function _e(c){if(_(c)!==c)throw Error(r(188))}function Ie(c){var u=c.alternate;if(!u){if(u=_(c),u===null)throw Error(r(188));return u!==c?null:c}for(var w=c,E=u;;){var K=w.return;if(K===null)break;var le=K.alternate;if(le===null){if(E=K.return,E!==null){w=E;continue}break}if(K.child===le.child){for(le=K.child;le;){if(le===w)return _e(K),c;if(le===E)return _e(K),u;le=le.sibling}throw Error(r(188))}if(w.return!==E.return)w=K,E=le;else{for(var Be=!1,st=K.child;st;){if(st===w){Be=!0,w=K,E=le;break}if(st===E){Be=!0,E=K,w=le;break}st=st.sibling}if(!Be){for(st=le.child;st;){if(st===w){Be=!0,w=le,E=K;break}if(st===E){Be=!0,E=le,w=K;break}st=st.sibling}if(!Be)throw Error(r(189))}}if(w.alternate!==E)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?c:u}function ke(c){return c=Ie(c),c!==null?X(c):null}function X(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var u=X(c);if(u!==null)return u;c=c.sibling}return null}var Ne=s.unstable_scheduleCallback,ee=s.unstable_cancelCallback,de=s.unstable_shouldYield,re=s.unstable_requestPaint,We=s.unstable_now,ft=s.unstable_getCurrentPriorityLevel,$t=s.unstable_ImmediatePriority,z=s.unstable_UserBlockingPriority,Pe=s.unstable_NormalPriority,Xe=s.unstable_LowPriority,as=s.unstable_IdlePriority,us=null,tt=null;function Zt(c){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(us,c,void 0,(c.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Js,zt=Math.log,ds=Math.LN2;function Js(c){return c>>>=0,c===0?32:31-(zt(c)/ds|0)|0}var Tt=64,Ht=4194304;function ms(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Nr(c,u){var w=c.pendingLanes;if(w===0)return 0;var E=0,K=c.suspendedLanes,le=c.pingedLanes,Be=w&268435455;if(Be!==0){var st=Be&~K;st!==0?E=ms(st):(le&=Be,le!==0&&(E=ms(le)))}else Be=w&~K,Be!==0?E=ms(Be):le!==0&&(E=ms(le));if(E===0)return 0;if(u!==0&&u!==E&&(u&K)===0&&(K=E&-E,le=u&-u,K>=le||K===16&&(le&4194240)!==0))return u;if((E&4)!==0&&(E|=w&16),u=c.entangledLanes,u!==0)for(c=c.entanglements,u&=E;0<u;)w=31-kt(u),K=1<<w,E|=c[w],u&=~K;return E}function xr(c,u){switch(c){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(c,u){for(var w=c.suspendedLanes,E=c.pingedLanes,K=c.expirationTimes,le=c.pendingLanes;0<le;){var Be=31-kt(le),st=1<<Be,ht=K[Be];ht===-1?((st&w)===0||(st&E)!==0)&&(K[Be]=xr(st,u)):ht<=u&&(c.expiredLanes|=st),le&=~st}}function Br(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function ha(){var c=Tt;return Tt<<=1,(Tt&4194240)===0&&(Tt=64),c}function tr(c){for(var u=[],w=0;31>w;w++)u.push(c);return u}function sr(c,u,w){c.pendingLanes|=u,u!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,u=31-kt(u),c[u]=w}function Ca(c,u){var w=c.pendingLanes&~u;c.pendingLanes=u,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=u,c.mutableReadLanes&=u,c.entangledLanes&=u,u=c.entanglements;var E=c.eventTimes;for(c=c.expirationTimes;0<w;){var K=31-kt(w),le=1<<K;u[K]=0,E[K]=-1,c[K]=-1,w&=~le}}function ct(c,u){var w=c.entangledLanes|=u;for(c=c.entanglements;w;){var E=31-kt(w),K=1<<E;K&u|c[E]&u&&(c[E]|=u),w&=~K}}var Vt=0;function ws(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Ys,Ks,qs,lr,Xr,ir=!1,cr=[],vr=null,lt=null,os=null,Ds=new Map,mr=new Map,Qs=[],jr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oe(c,u){switch(c){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Ds.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(u.pointerId)}}function At(c,u,w,E,K,le){return c===null||c.nativeEvent!==le?(c={blockedOn:u,domEventName:w,eventSystemFlags:E,nativeEvent:le,targetContainers:[K]},u!==null&&(u=Oc(u),u!==null&&Ks(u)),c):(c.eventSystemFlags|=E,u=c.targetContainers,K!==null&&u.indexOf(K)===-1&&u.push(K),c)}function Mt(c,u,w,E,K){switch(u){case"focusin":return vr=At(vr,c,u,w,E,K),!0;case"dragenter":return lt=At(lt,c,u,w,E,K),!0;case"mouseover":return os=At(os,c,u,w,E,K),!0;case"pointerover":var le=K.pointerId;return Ds.set(le,At(Ds.get(le)||null,c,u,w,E,K)),!0;case"gotpointercapture":return le=K.pointerId,mr.set(le,At(mr.get(le)||null,c,u,w,E,K)),!0}return!1}function pr(c){var u=ni(c.target);if(u!==null){var w=_(u);if(w!==null){if(u=w.tag,u===13){if(u=ie(w),u!==null){c.blockedOn=u,Xr(c.priority,function(){qs(w)});return}}else if(u===3&&w.stateNode.current.memoizedState.isDehydrated){c.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Bs(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var w=Qr(c.domEventName,c.eventSystemFlags,u[0],c.nativeEvent);if(w===null){w=c.nativeEvent;var E=new w.constructor(w.type,w);Bt=E,w.target.dispatchEvent(E),Bt=null}else return u=Oc(w),u!==null&&Ks(u),c.blockedOn=w,!1;u.shift()}return!0}function Cr(c,u,w){Bs(c)&&w.delete(u)}function Ja(){ir=!1,vr!==null&&Bs(vr)&&(vr=null),lt!==null&&Bs(lt)&&(lt=null),os!==null&&Bs(os)&&(os=null),Ds.forEach(Cr),mr.forEach(Cr)}function dn(c,u){c.blockedOn===u&&(c.blockedOn=null,ir||(ir=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ja)))}function un(c){function u(K){return dn(K,c)}if(0<cr.length){dn(cr[0],c);for(var w=1;w<cr.length;w++){var E=cr[w];E.blockedOn===c&&(E.blockedOn=null)}}for(vr!==null&&dn(vr,c),lt!==null&&dn(lt,c),os!==null&&dn(os,c),Ds.forEach(u),mr.forEach(u),w=0;w<Qs.length;w++)E=Qs[w],E.blockedOn===c&&(E.blockedOn=null);for(;0<Qs.length&&(w=Qs[0],w.blockedOn===null);)pr(w),w.blockedOn===null&&Qs.shift()}var Ia=S.ReactCurrentBatchConfig,Qa=!0;function ao(c,u,w,E){var K=Vt,le=Ia.transition;Ia.transition=null;try{Vt=1,Un(c,u,w,E)}finally{Vt=K,Ia.transition=le}}function An(c,u,w,E){var K=Vt,le=Ia.transition;Ia.transition=null;try{Vt=4,Un(c,u,w,E)}finally{Vt=K,Ia.transition=le}}function Un(c,u,w,E){if(Qa){var K=Qr(c,u,w,E);if(K===null)lu(c,u,E,Jr,w),Oe(c,E);else if(Mt(K,c,u,w,E))E.stopPropagation();else if(Oe(c,E),u&4&&-1<jr.indexOf(c)){for(;K!==null;){var le=Oc(K);if(le!==null&&Ys(le),le=Qr(c,u,w,E),le===null&&lu(c,u,E,Jr,w),le===K)break;K=le}K!==null&&E.stopPropagation()}else lu(c,u,E,null,w)}}var Jr=null;function Qr(c,u,w,E){if(Jr=null,c=Lt(E),c=ni(c),c!==null)if(u=_(c),u===null)c=null;else if(w=u.tag,w===13){if(c=ie(u),c!==null)return c;c=null}else if(w===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null);return Jr=c,null}function no(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ft()){case $t:return 1;case z:return 4;case Pe:case Xe:return 16;case as:return 536870912;default:return 16}default:return 16}}var rt=null,fs=null,Os=null;function Xt(){if(Os)return Os;var c,u=fs,w=u.length,E,K="value"in rt?rt.value:rt.textContent,le=K.length;for(c=0;c<w&&u[c]===K[c];c++);var Be=w-c;for(E=1;E<=Be&&u[w-E]===K[le-E];E++);return Os=K.slice(c,1<E?1-E:void 0)}function Rr(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Zr(){return!0}function oa(){return!1}function wr(c){function u(w,E,K,le,Be){this._reactName=w,this._targetInst=K,this.type=E,this.nativeEvent=le,this.target=Be,this.currentTarget=null;for(var st in c)c.hasOwnProperty(st)&&(w=c[st],this[st]=w?w(le):le[st]);return this.isDefaultPrevented=(le.defaultPrevented!=null?le.defaultPrevented:le.returnValue===!1)?Zr:oa,this.isPropagationStopped=oa,this}return J(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),u}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=wr(dt),La=J({},dt,{view:0,detail:0}),xn=wr(La),oo,Ho,Uo,Wo=J({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Uo&&(Uo&&c.type==="mousemove"?(oo=c.screenX-Uo.screenX,Ho=c.screenY-Uo.screenY):Ho=oo=0,Uo=c),oo)},movementY:function(c){return"movementY"in c?c.movementY:Ho}}),Jl=wr(Wo),yl=J({},Wo,{dataTransfer:0}),Nc=wr(yl),_a=J({},La,{relatedTarget:0}),hn=wr(_a),Ql=J({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),bl=wr(Ql),Ei=J({},dt,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Go=wr(Ei),Ti=J({},dt,{data:0}),jo=wr(Ti),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=Ai[c])?!!u[c]:!1}function vl(){return zo}var Vo=J({},La,{key:function(c){if(c.key){var u=Co[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=Rr(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?$o[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(c){return c.type==="keypress"?Rr(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Rr(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Zl=wr(Vo),Yo=J({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=wr(Yo),Ed=J({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),Td=wr(Ed),Ad=J({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jc=wr(Ad),Fd=J({},Wo,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Cc=wr(Fd),J0=[9,13,27,32],Wn=d&&"CompositionEvent"in window,Nl=null;d&&"documentMode"in document&&(Nl=document.documentMode);var Pd=d&&"TextEvent"in window&&!Nl,Md=d&&(!Wn||Nl&&8<Nl&&11>=Nl),lo=" ",Sc=!1;function kc(c,u){switch(c){case"keyup":return J0.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Za=!1;function Q0(c,u){switch(c){case"compositionend":return Id(u);case"keypress":return u.which!==32?null:(Sc=!0,lo);case"textInput":return c=u.data,c===lo&&Sc?null:c;default:return null}}function Z0(c,u){if(Za)return c==="compositionend"||!Wn&&kc(c,u)?(c=Xt(),Os=fs=rt=null,Za=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Md&&u.locale!=="ko"?null:u.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ko(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Fi[c.type]:u==="textarea"}function ei(c,u,w,E){Ct(E),u=ai(u,"onChange"),0<u.length&&(w=new Ws("onChange","change",null,w,E),c.push({event:w,listeners:u}))}var jl=null,ti=null;function eu(c){Ud(c,0)}function Pi(c){var u=Ri(c);if(xe(u))return c}function Ld(c,u){if(c==="change")return u}var Oa=!1;if(d){var qo;if(d){var si="oninput"in document;if(!si){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),si=typeof Dc.oninput=="function"}qo=si}else qo=!1;Oa=qo&&(!document.documentMode||9<document.documentMode)}function Mi(){jl&&(jl.detachEvent("onpropertychange",_d),ti=jl=null)}function _d(c){if(c.propertyName==="value"&&Pi(ti)){var u=[];ei(u,ti,c,Lt(c)),Ee(eu,u)}}function Hx(c,u,w){c==="focusin"?(Mi(),jl=u,ti=w,jl.attachEvent("onpropertychange",_d)):c==="focusout"&&Mi()}function Dt(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Pi(ti)}function Ut(c,u){if(c==="click")return Pi(u)}function ma(c,u){if(c==="input"||c==="change")return Pi(u)}function Hv(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var io=typeof Object.is=="function"?Object.is:Hv;function Od(c,u){if(io(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var w=Object.keys(c),E=Object.keys(u);if(w.length!==E.length)return!1;for(E=0;E<w.length;E++){var K=w[E];if(!x.call(u,K)||!io(c[K],u[K]))return!1}return!0}function Ux(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function gf(c,u){var w=Ux(c);c=0;for(var E;w;){if(w.nodeType===3){if(E=c+w.textContent.length,c<=u&&E>=u)return{node:w,offset:u-c};c=E}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Ux(w)}}function Wx(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?Wx(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function yf(){for(var c=window,u=Se();u instanceof c.HTMLIFrameElement;){try{var w=typeof u.contentWindow.location.href=="string"}catch{w=!1}if(w)c=u.contentWindow;else break;u=Se(c.document)}return u}function Bd(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}function tu(c){var u=yf(),w=c.focusedElem,E=c.selectionRange;if(u!==w&&w&&w.ownerDocument&&Wx(w.ownerDocument.documentElement,w)){if(E!==null&&Bd(w)){if(u=E.start,c=E.end,c===void 0&&(c=u),"selectionStart"in w)w.selectionStart=u,w.selectionEnd=Math.min(c,w.value.length);else if(c=(u=w.ownerDocument||document)&&u.defaultView||window,c.getSelection){c=c.getSelection();var K=w.textContent.length,le=Math.min(E.start,K);E=E.end===void 0?le:Math.min(E.end,K),!c.extend&&le>E&&(K=E,E=le,le=K),K=gf(w,le);var Be=gf(w,E);K&&Be&&(c.rangeCount!==1||c.anchorNode!==K.node||c.anchorOffset!==K.offset||c.focusNode!==Be.node||c.focusOffset!==Be.offset)&&(u=u.createRange(),u.setStart(K.node,K.offset),c.removeAllRanges(),le>E?(c.addRange(u),c.extend(Be.node,Be.offset)):(u.setEnd(Be.node,Be.offset),c.addRange(u)))}}for(u=[],c=w;c=c.parentNode;)c.nodeType===1&&u.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<u.length;w++)c=u[w],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Gx=d&&"documentMode"in document&&11>=document.documentMode,Cl=null,su=null,Rd=null,ru=!1;function bf(c,u,w){var E=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;ru||Cl==null||Cl!==Se(E)||(E=Cl,"selectionStart"in E&&Bd(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Rd&&Od(Rd,E)||(Rd=E,E=ai(su,"onSelect"),0<E.length&&(u=new Ws("onSelect","select",null,u,w),c.push({event:u,listeners:E}),u.target=Cl)))}function Ec(c,u){var w={};return w[c.toLowerCase()]=u.toLowerCase(),w["Webkit"+c]="webkit"+u,w["Moz"+c]="moz"+u,w}var Sl={animationend:Ec("Animation","AnimationEnd"),animationiteration:Ec("Animation","AnimationIteration"),animationstart:Ec("Animation","AnimationStart"),transitionend:Ec("Transition","TransitionEnd")},au={},vf={};d&&(vf=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Hd(c){if(au[c])return au[c];if(!Sl[c])return c;var u=Sl[c],w;for(w in u)if(u.hasOwnProperty(w)&&w in vf)return au[c]=u[w];return c}var wf=Hd("animationend"),$x=Hd("animationiteration"),zx=Hd("animationstart"),Vx=Hd("transitionend"),Ii=new Map,Tc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(c,u){Ii.set(c,u),l(u,[c])}for(var ri=0;ri<Tc.length;ri++){var nu=Tc[ri],Nf=nu.toLowerCase(),jf=nu[0].toUpperCase()+nu.slice(1);Gn(Nf,"on"+jf)}Gn(wf,"onAnimationEnd"),Gn($x,"onAnimationIteration"),Gn(zx,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Vx,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function Fc(c,u,w){var E=c.type||"unknown-event";c.currentTarget=w,Y(E,u,void 0,c),c.currentTarget=null}function Ud(c,u){u=(u&4)!==0;for(var w=0;w<c.length;w++){var E=c[w],K=E.event;E=E.listeners;e:{var le=void 0;if(u)for(var Be=E.length-1;0<=Be;Be--){var st=E[Be],ht=st.instance,It=st.currentTarget;if(st=st.listener,ht!==le&&K.isPropagationStopped())break e;Fc(K,st,It),le=ht}else for(Be=0;Be<E.length;Be++){if(st=E[Be],ht=st.instance,It=st.currentTarget,st=st.listener,ht!==le&&K.isPropagationStopped())break e;Fc(K,st,It),le=ht}}}if(se)throw c=ue,se=!1,ue=null,c}function Lr(c,u){var w=u[uu];w===void 0&&(w=u[uu]=new Set);var E=c+"__bubble";w.has(E)||(Kx(u,c,2,!1),w.add(E))}function ou(c,u,w){var E=0;u&&(E|=4),Kx(w,c,E,u)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function Pc(c){if(!c[Wd]){c[Wd]=!0,a.forEach(function(w){w!=="selectionchange"&&(Yx.has(w)||ou(w,!1,c),ou(w,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[Wd]||(u[Wd]=!0,ou("selectionchange",!1,u))}}function Kx(c,u,w,E){switch(no(u)){case 1:var K=ao;break;case 4:K=An;break;default:K=Un}w=K.bind(null,u,w,c),K=void 0,!at||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(K=!0),E?K!==void 0?c.addEventListener(u,w,{capture:!0,passive:K}):c.addEventListener(u,w,!0):K!==void 0?c.addEventListener(u,w,{passive:K}):c.addEventListener(u,w,!1)}function lu(c,u,w,E,K){var le=E;if((u&1)===0&&(u&2)===0&&E!==null)e:for(;;){if(E===null)return;var Be=E.tag;if(Be===3||Be===4){var st=E.stateNode.containerInfo;if(st===K||st.nodeType===8&&st.parentNode===K)break;if(Be===4)for(Be=E.return;Be!==null;){var ht=Be.tag;if((ht===3||ht===4)&&(ht=Be.stateNode.containerInfo,ht===K||ht.nodeType===8&&ht.parentNode===K))return;Be=Be.return}for(;st!==null;){if(Be=ni(st),Be===null)return;if(ht=Be.tag,ht===5||ht===6){E=le=Be;continue e}st=st.parentNode}}E=E.return}Ee(function(){var It=le,qt=Lt(w),Jt=[];e:{var Kt=Ii.get(c);if(Kt!==void 0){var xs=Ws,ys=c;switch(c){case"keypress":if(Rr(w)===0)break e;case"keydown":case"keyup":xs=Zl;break;case"focusin":ys="focus",xs=hn;break;case"focusout":ys="blur",xs=hn;break;case"beforeblur":case"afterblur":xs=hn;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xs=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xs=Nc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xs=Td;break;case wf:case $x:case zx:xs=bl;break;case Vx:xs=jc;break;case"scroll":xs=xn;break;case"wheel":xs=Cc;break;case"copy":case"cut":case"paste":xs=Go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xs=wl}var js=(u&4)!==0,pa=!js&&c==="scroll",Et=js?Kt!==null?Kt+"Capture":null:Kt;js=[];for(var wt=It,Pt;wt!==null;){Pt=wt;var es=Pt.stateNode;if(Pt.tag===5&&es!==null&&(Pt=es,Et!==null&&(es=pe(wt,Et),es!=null&&js.push(Li(wt,es,Pt)))),pa)break;wt=wt.return}0<js.length&&(Kt=new xs(Kt,ys,null,w,qt),Jt.push({event:Kt,listeners:js}))}}if((u&7)===0){e:{if(Kt=c==="mouseover"||c==="pointerover",xs=c==="mouseout"||c==="pointerout",Kt&&w!==Bt&&(ys=w.relatedTarget||w.fromElement)&&(ni(ys)||ys[Jo]))break e;if((xs||Kt)&&(Kt=qt.window===qt?qt:(Kt=qt.ownerDocument)?Kt.defaultView||Kt.parentWindow:window,xs?(ys=w.relatedTarget||w.toElement,xs=It,ys=ys?ni(ys):null,ys!==null&&(pa=_(ys),ys!==pa||ys.tag!==5&&ys.tag!==6)&&(ys=null)):(xs=null,ys=It),xs!==ys)){if(js=Jl,es="onMouseLeave",Et="onMouseEnter",wt="mouse",(c==="pointerout"||c==="pointerover")&&(js=wl,es="onPointerLeave",Et="onPointerEnter",wt="pointer"),pa=xs==null?Kt:Ri(xs),Pt=ys==null?Kt:Ri(ys),Kt=new js(es,wt+"leave",xs,w,qt),Kt.target=pa,Kt.relatedTarget=Pt,es=null,ni(qt)===It&&(js=new js(Et,wt+"enter",ys,w,qt),js.target=Pt,js.relatedTarget=pa,es=js),pa=es,xs&&ys)t:{for(js=xs,Et=ys,wt=0,Pt=js;Pt;Pt=Xo(Pt))wt++;for(Pt=0,es=Et;es;es=Xo(es))Pt++;for(;0<wt-Pt;)js=Xo(js),wt--;for(;0<Pt-wt;)Et=Xo(Et),Pt--;for(;wt--;){if(js===Et||Et!==null&&js===Et.alternate)break t;js=Xo(js),Et=Xo(Et)}js=null}else js=null;xs!==null&&qx(Jt,Kt,xs,js,!1),ys!==null&&pa!==null&&qx(Jt,pa,ys,js,!0)}}e:{if(Kt=It?Ri(It):window,xs=Kt.nodeName&&Kt.nodeName.toLowerCase(),xs==="select"||xs==="input"&&Kt.type==="file")var Cs=Ld;else if(Ko(Kt))if(Oa)Cs=ma;else{Cs=Dt;var Es=Hx}else(xs=Kt.nodeName)&&xs.toLowerCase()==="input"&&(Kt.type==="checkbox"||Kt.type==="radio")&&(Cs=Ut);if(Cs&&(Cs=Cs(c,It))){ei(Jt,Cs,w,qt);break e}Es&&Es(c,Kt,It),c==="focusout"&&(Es=Kt._wrapperState)&&Es.controlled&&Kt.type==="number"&&Ve(Kt,"number",Kt.value)}switch(Es=It?Ri(It):window,c){case"focusin":(Ko(Es)||Es.contentEditable==="true")&&(Cl=Es,su=It,Rd=null);break;case"focusout":Rd=su=Cl=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,bf(Jt,w,qt);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":bf(Jt,w,qt)}var Ts;if(Wn)e:{switch(c){case"compositionstart":var _s="onCompositionStart";break e;case"compositionend":_s="onCompositionEnd";break e;case"compositionupdate":_s="onCompositionUpdate";break e}_s=void 0}else Za?kc(c,w)&&(_s="onCompositionEnd"):c==="keydown"&&w.keyCode===229&&(_s="onCompositionStart");_s&&(Md&&w.locale!=="ko"&&(Za||_s!=="onCompositionStart"?_s==="onCompositionEnd"&&Za&&(Ts=Xt()):(rt=qt,fs="value"in rt?rt.value:rt.textContent,Za=!0)),Es=ai(It,_s),0<Es.length&&(_s=new jo(_s,c,null,w,qt),Jt.push({event:_s,listeners:Es}),Ts?_s.data=Ts:(Ts=Id(w),Ts!==null&&(_s.data=Ts)))),(Ts=Pd?Q0(c,w):Z0(c,w))&&(It=ai(It,"onBeforeInput"),0<It.length&&(qt=new jo("onBeforeInput","beforeinput",null,w,qt),Jt.push({event:qt,listeners:It}),qt.data=Ts))}Ud(Jt,u)})}function Li(c,u,w){return{instance:c,listener:u,currentTarget:w}}function ai(c,u){for(var w=u+"Capture",E=[];c!==null;){var K=c,le=K.stateNode;K.tag===5&&le!==null&&(K=le,le=pe(c,w),le!=null&&E.unshift(Li(c,le,K)),le=pe(c,u),le!=null&&E.push(Li(c,le,K))),c=c.return}return E}function Xo(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function qx(c,u,w,E,K){for(var le=u._reactName,Be=[];w!==null&&w!==E;){var st=w,ht=st.alternate,It=st.stateNode;if(ht!==null&&ht===E)break;st.tag===5&&It!==null&&(st=It,K?(ht=pe(w,le),ht!=null&&Be.unshift(Li(w,ht,st))):K||(ht=pe(w,le),ht!=null&&Be.push(Li(w,ht,st)))),w=w.return}Be.length!==0&&c.push({event:u,listeners:Be})}var Cf=/\r\n?/g,Sf=/\u0000|\uFFFD/g;function Xx(c){return(typeof c=="string"?c:""+c).replace(Cf,`
`).replace(Sf,"")}function Gd(c,u,w){if(u=Xx(u),Xx(c)!==u&&w)throw Error(r(425))}function Mc(){}var _i=null,Oi=null;function iu(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var cu=typeof setTimeout=="function"?setTimeout:void 0,kf=typeof clearTimeout=="function"?clearTimeout:void 0,Jx=typeof Promise=="function"?Promise:void 0,Df=typeof queueMicrotask=="function"?queueMicrotask:typeof Jx<"u"?function(c){return Jx.resolve(null).then(c).catch(Ic)}:cu;function Ic(c){setTimeout(function(){throw c})}function du(c,u){var w=u,E=0;do{var K=w.nextSibling;if(c.removeChild(w),K&&K.nodeType===8)if(w=K.data,w==="/$"){if(E===0){c.removeChild(K),un(u);return}E--}else w!=="$"&&w!=="$?"&&w!=="$!"||E++;w=K}while(w);un(u)}function kl(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return c}function Qx(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var w=c.data;if(w==="$"||w==="$!"||w==="$?"){if(u===0)return c;u--}else w==="/$"&&u++}c=c.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),mn="__reactFiber$"+Bi,Lc="__reactProps$"+Bi,Jo="__reactContainer$"+Bi,uu="__reactEvents$"+Bi,Ef="__reactListeners$"+Bi,_c="__reactHandles$"+Bi;function ni(c){var u=c[mn];if(u)return u;for(var w=c.parentNode;w;){if(u=w[Jo]||w[mn]){if(w=u.alternate,u.child!==null||w!==null&&w.child!==null)for(c=Qx(c);c!==null;){if(w=c[mn])return w;c=Qx(c)}return u}c=w,w=c.parentNode}return null}function Oc(c){return c=c[mn]||c[Jo],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Ri(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function $d(c){return c[Lc]||null}var xu=[],Hi=-1;function Dl(c){return{current:c}}function _r(c){0>Hi||(c.current=xu[Hi],xu[Hi]=null,Hi--)}function Fr(c,u){Hi++,xu[Hi]=c.current,c.current=u}var El={},la=Dl(El),Gr=Dl(!1),Qo=El;function oi(c,u){var w=c.type.contextTypes;if(!w)return El;var E=c.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===u)return E.__reactInternalMemoizedMaskedChildContext;var K={},le;for(le in w)K[le]=u[le];return E&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=u,c.__reactInternalMemoizedMaskedChildContext=K),K}function en(c){return c=c.childContextTypes,c!=null}function zd(){_r(Gr),_r(la)}function Zx(c,u,w){if(la.current!==El)throw Error(r(168));Fr(la,u),Fr(Gr,w)}function eh(c,u,w){var E=c.stateNode;if(u=u.childContextTypes,typeof E.getChildContext!="function")return w;E=E.getChildContext();for(var K in E)if(!(K in u))throw Error(r(108,he(c)||"Unknown",K));return J({},w,E)}function Vd(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||El,Qo=la.current,Fr(la,c),Fr(Gr,Gr.current),!0}function th(c,u,w){var E=c.stateNode;if(!E)throw Error(r(169));w?(c=eh(c,u,Qo),E.__reactInternalMemoizedMergedChildContext=c,_r(Gr),_r(la),Fr(la,c)):_r(Gr),Fr(Gr,w)}var Zo=null,Yd=!1,hu=!1;function sh(c){Zo===null?Zo=[c]:Zo.push(c)}function Tf(c){Yd=!0,sh(c)}function pn(){if(!hu&&Zo!==null){hu=!0;var c=0,u=Vt;try{var w=Zo;for(Vt=1;c<w.length;c++){var E=w[c];do E=E(!0);while(E!==null)}Zo=null,Yd=!1}catch(K){throw Zo!==null&&(Zo=Zo.slice(c+1)),Ne($t,pn),K}finally{Vt=u,hu=!1}}return null}var Fn=[],Ui=0,Kd=null,qd=0,$n=[],zn=0,li=null,el=1,tl="";function Ce(c,u){Fn[Ui++]=qd,Fn[Ui++]=Kd,Kd=c,qd=u}function Ze(c,u,w){$n[zn++]=el,$n[zn++]=tl,$n[zn++]=li,li=c;var E=el;c=tl;var K=32-kt(E)-1;E&=~(1<<K),w+=1;var le=32-kt(u)+K;if(30<le){var Be=K-K%5;le=(E&(1<<Be)-1).toString(32),E>>=Be,K-=Be,el=1<<32-kt(u)+K|w<<K|E,tl=le+c}else el=1<<le|w<<K|E,tl=c}function St(c){c.return!==null&&(Ce(c,1),Ze(c,1,0))}function rs(c){for(;c===Kd;)Kd=Fn[--Ui],Fn[Ui]=null,qd=Fn[--Ui],Fn[Ui]=null;for(;c===li;)li=$n[--zn],$n[zn]=null,tl=$n[--zn],$n[zn]=null,el=$n[--zn],$n[zn]=null}var Fs=null,co=null,ea=!1,sl=null;function Uv(c,u){var w=Eo(5,null,null,0);w.elementType="DELETED",w.stateNode=u,w.return=c,u=c.deletions,u===null?(c.deletions=[w],c.flags|=16):u.push(w)}function Wv(c,u){switch(c.tag){case 5:var w=c.type;return u=u.nodeType!==1||w.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(c.stateNode=u,Fs=c,co=kl(u.firstChild),!0):!1;case 6:return u=c.pendingProps===""||u.nodeType!==3?null:u,u!==null?(c.stateNode=u,Fs=c,co=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(w=li!==null?{id:el,overflow:tl}:null,c.memoizedState={dehydrated:u,treeContext:w,retryLane:1073741824},w=Eo(18,null,null,0),w.stateNode=u,w.return=c,c.child=w,Fs=c,co=null,!0):!1;default:return!1}}function Af(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Ff(c){if(ea){var u=co;if(u){var w=u;if(!Wv(c,u)){if(Af(c))throw Error(r(418));u=kl(w.nextSibling);var E=Fs;u&&Wv(c,u)?Uv(E,w):(c.flags=c.flags&-4097|2,ea=!1,Fs=c)}}else{if(Af(c))throw Error(r(418));c.flags=c.flags&-4097|2,ea=!1,Fs=c}}}function Gv(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Fs=c}function rh(c){if(c!==Fs)return!1;if(!ea)return Gv(c),ea=!0,!1;var u;if((u=c.tag!==3)&&!(u=c.tag!==5)&&(u=c.type,u=u!=="head"&&u!=="body"&&!iu(c.type,c.memoizedProps)),u&&(u=co)){if(Af(c))throw $v(),Error(r(418));for(;u;)Uv(c,u),u=kl(u.nextSibling)}if(Gv(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8){var w=c.data;if(w==="/$"){if(u===0){co=kl(c.nextSibling);break e}u--}else w!=="$"&&w!=="$!"&&w!=="$?"||u++}c=c.nextSibling}co=null}}else co=Fs?kl(c.stateNode.nextSibling):null;return!0}function $v(){for(var c=co;c;)c=kl(c.nextSibling)}function Xd(){co=Fs=null,ea=!1}function Pf(c){sl===null?sl=[c]:sl.push(c)}var lD=S.ReactCurrentBatchConfig;function mu(c,u,w){if(c=w.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var E=w.stateNode}if(!E)throw Error(r(147,c));var K=E,le=""+c;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===le?u.ref:(u=function(Be){var st=K.refs;Be===null?delete st[le]:st[le]=Be},u._stringRef=le,u)}if(typeof c!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,c))}return c}function ah(c,u){throw c=Object.prototype.toString.call(u),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c))}function zv(c){var u=c._init;return u(c._payload)}function Vv(c){function u(Et,wt){if(c){var Pt=Et.deletions;Pt===null?(Et.deletions=[wt],Et.flags|=16):Pt.push(wt)}}function w(Et,wt){if(!c)return null;for(;wt!==null;)u(Et,wt),wt=wt.sibling;return null}function E(Et,wt){for(Et=new Map;wt!==null;)wt.key!==null?Et.set(wt.key,wt):Et.set(wt.index,wt),wt=wt.sibling;return Et}function K(Et,wt){return Et=qi(Et,wt),Et.index=0,Et.sibling=null,Et}function le(Et,wt,Pt){return Et.index=Pt,c?(Pt=Et.alternate,Pt!==null?(Pt=Pt.index,Pt<wt?(Et.flags|=2,wt):Pt):(Et.flags|=2,wt)):(Et.flags|=1048576,wt)}function Be(Et){return c&&Et.alternate===null&&(Et.flags|=2),Et}function st(Et,wt,Pt,es){return wt===null||wt.tag!==6?(wt=jg(Pt,Et.mode,es),wt.return=Et,wt):(wt=K(wt,Pt),wt.return=Et,wt)}function ht(Et,wt,Pt,es){var Cs=Pt.type;return Cs===T?qt(Et,wt,Pt.props.children,es,Pt.key):wt!==null&&(wt.elementType===Cs||typeof Cs=="object"&&Cs!==null&&Cs.$$typeof===R&&zv(Cs)===wt.type)?(es=K(wt,Pt.props),es.ref=mu(Et,wt,Pt),es.return=Et,es):(es=Eh(Pt.type,Pt.key,Pt.props,null,Et.mode,es),es.ref=mu(Et,wt,Pt),es.return=Et,es)}function It(Et,wt,Pt,es){return wt===null||wt.tag!==4||wt.stateNode.containerInfo!==Pt.containerInfo||wt.stateNode.implementation!==Pt.implementation?(wt=Cg(Pt,Et.mode,es),wt.return=Et,wt):(wt=K(wt,Pt.children||[]),wt.return=Et,wt)}function qt(Et,wt,Pt,es,Cs){return wt===null||wt.tag!==7?(wt=zc(Pt,Et.mode,es,Cs),wt.return=Et,wt):(wt=K(wt,Pt),wt.return=Et,wt)}function Jt(Et,wt,Pt){if(typeof wt=="string"&&wt!==""||typeof wt=="number")return wt=jg(""+wt,Et.mode,Pt),wt.return=Et,wt;if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case P:return Pt=Eh(wt.type,wt.key,wt.props,null,Et.mode,Pt),Pt.ref=mu(Et,null,wt),Pt.return=Et,Pt;case D:return wt=Cg(wt,Et.mode,Pt),wt.return=Et,wt;case R:var es=wt._init;return Jt(Et,es(wt._payload),Pt)}if(qe(wt)||ne(wt))return wt=zc(wt,Et.mode,Pt,null),wt.return=Et,wt;ah(Et,wt)}return null}function Kt(Et,wt,Pt,es){var Cs=wt!==null?wt.key:null;if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Cs!==null?null:st(Et,wt,""+Pt,es);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case P:return Pt.key===Cs?ht(Et,wt,Pt,es):null;case D:return Pt.key===Cs?It(Et,wt,Pt,es):null;case R:return Cs=Pt._init,Kt(Et,wt,Cs(Pt._payload),es)}if(qe(Pt)||ne(Pt))return Cs!==null?null:qt(Et,wt,Pt,es,null);ah(Et,Pt)}return null}function xs(Et,wt,Pt,es,Cs){if(typeof es=="string"&&es!==""||typeof es=="number")return Et=Et.get(Pt)||null,st(wt,Et,""+es,Cs);if(typeof es=="object"&&es!==null){switch(es.$$typeof){case P:return Et=Et.get(es.key===null?Pt:es.key)||null,ht(wt,Et,es,Cs);case D:return Et=Et.get(es.key===null?Pt:es.key)||null,It(wt,Et,es,Cs);case R:var Es=es._init;return xs(Et,wt,Pt,Es(es._payload),Cs)}if(qe(es)||ne(es))return Et=Et.get(Pt)||null,qt(wt,Et,es,Cs,null);ah(wt,es)}return null}function ys(Et,wt,Pt,es){for(var Cs=null,Es=null,Ts=wt,_s=wt=0,Ha=null;Ts!==null&&_s<Pt.length;_s++){Ts.index>_s?(Ha=Ts,Ts=null):Ha=Ts.sibling;var dr=Kt(Et,Ts,Pt[_s],es);if(dr===null){Ts===null&&(Ts=Ha);break}c&&Ts&&dr.alternate===null&&u(Et,Ts),wt=le(dr,wt,_s),Es===null?Cs=dr:Es.sibling=dr,Es=dr,Ts=Ha}if(_s===Pt.length)return w(Et,Ts),ea&&Ce(Et,_s),Cs;if(Ts===null){for(;_s<Pt.length;_s++)Ts=Jt(Et,Pt[_s],es),Ts!==null&&(wt=le(Ts,wt,_s),Es===null?Cs=Ts:Es.sibling=Ts,Es=Ts);return ea&&Ce(Et,_s),Cs}for(Ts=E(Et,Ts);_s<Pt.length;_s++)Ha=xs(Ts,Et,_s,Pt[_s],es),Ha!==null&&(c&&Ha.alternate!==null&&Ts.delete(Ha.key===null?_s:Ha.key),wt=le(Ha,wt,_s),Es===null?Cs=Ha:Es.sibling=Ha,Es=Ha);return c&&Ts.forEach(function(Xi){return u(Et,Xi)}),ea&&Ce(Et,_s),Cs}function js(Et,wt,Pt,es){var Cs=ne(Pt);if(typeof Cs!="function")throw Error(r(150));if(Pt=Cs.call(Pt),Pt==null)throw Error(r(151));for(var Es=Cs=null,Ts=wt,_s=wt=0,Ha=null,dr=Pt.next();Ts!==null&&!dr.done;_s++,dr=Pt.next()){Ts.index>_s?(Ha=Ts,Ts=null):Ha=Ts.sibling;var Xi=Kt(Et,Ts,dr.value,es);if(Xi===null){Ts===null&&(Ts=Ha);break}c&&Ts&&Xi.alternate===null&&u(Et,Ts),wt=le(Xi,wt,_s),Es===null?Cs=Xi:Es.sibling=Xi,Es=Xi,Ts=Ha}if(dr.done)return w(Et,Ts),ea&&Ce(Et,_s),Cs;if(Ts===null){for(;!dr.done;_s++,dr=Pt.next())dr=Jt(Et,dr.value,es),dr!==null&&(wt=le(dr,wt,_s),Es===null?Cs=dr:Es.sibling=dr,Es=dr);return ea&&Ce(Et,_s),Cs}for(Ts=E(Et,Ts);!dr.done;_s++,dr=Pt.next())dr=xs(Ts,Et,_s,dr.value,es),dr!==null&&(c&&dr.alternate!==null&&Ts.delete(dr.key===null?_s:dr.key),wt=le(dr,wt,_s),Es===null?Cs=dr:Es.sibling=dr,Es=dr);return c&&Ts.forEach(function(HD){return u(Et,HD)}),ea&&Ce(Et,_s),Cs}function pa(Et,wt,Pt,es){if(typeof Pt=="object"&&Pt!==null&&Pt.type===T&&Pt.key===null&&(Pt=Pt.props.children),typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case P:e:{for(var Cs=Pt.key,Es=wt;Es!==null;){if(Es.key===Cs){if(Cs=Pt.type,Cs===T){if(Es.tag===7){w(Et,Es.sibling),wt=K(Es,Pt.props.children),wt.return=Et,Et=wt;break e}}else if(Es.elementType===Cs||typeof Cs=="object"&&Cs!==null&&Cs.$$typeof===R&&zv(Cs)===Es.type){w(Et,Es.sibling),wt=K(Es,Pt.props),wt.ref=mu(Et,Es,Pt),wt.return=Et,Et=wt;break e}w(Et,Es);break}else u(Et,Es);Es=Es.sibling}Pt.type===T?(wt=zc(Pt.props.children,Et.mode,es,Pt.key),wt.return=Et,Et=wt):(es=Eh(Pt.type,Pt.key,Pt.props,null,Et.mode,es),es.ref=mu(Et,wt,Pt),es.return=Et,Et=es)}return Be(Et);case D:e:{for(Es=Pt.key;wt!==null;){if(wt.key===Es)if(wt.tag===4&&wt.stateNode.containerInfo===Pt.containerInfo&&wt.stateNode.implementation===Pt.implementation){w(Et,wt.sibling),wt=K(wt,Pt.children||[]),wt.return=Et,Et=wt;break e}else{w(Et,wt);break}else u(Et,wt);wt=wt.sibling}wt=Cg(Pt,Et.mode,es),wt.return=Et,Et=wt}return Be(Et);case R:return Es=Pt._init,pa(Et,wt,Es(Pt._payload),es)}if(qe(Pt))return ys(Et,wt,Pt,es);if(ne(Pt))return js(Et,wt,Pt,es);ah(Et,Pt)}return typeof Pt=="string"&&Pt!==""||typeof Pt=="number"?(Pt=""+Pt,wt!==null&&wt.tag===6?(w(Et,wt.sibling),wt=K(wt,Pt),wt.return=Et,Et=wt):(w(Et,wt),wt=jg(Pt,Et.mode,es),wt.return=Et,Et=wt),Be(Et)):w(Et,wt)}return pa}var Jd=Vv(!0),Yv=Vv(!1),nh=Dl(null),oh=null,Qd=null,Mf=null;function If(){Mf=Qd=oh=null}function Lf(c){var u=nh.current;_r(nh),c._currentValue=u}function _f(c,u,w){for(;c!==null;){var E=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,E!==null&&(E.childLanes|=u)):E!==null&&(E.childLanes&u)!==u&&(E.childLanes|=u),c===w)break;c=c.return}}function Zd(c,u){oh=c,Mf=Qd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&u)!==0&&(Vn=!0),c.firstContext=null)}function So(c){var u=c._currentValue;if(Mf!==c)if(c={context:c,memoizedValue:u,next:null},Qd===null){if(oh===null)throw Error(r(308));Qd=c,oh.dependencies={lanes:0,firstContext:c}}else Qd=Qd.next=c;return u}var Bc=null;function Of(c){Bc===null?Bc=[c]:Bc.push(c)}function Kv(c,u,w,E){var K=u.interleaved;return K===null?(w.next=w,Of(u)):(w.next=K.next,K.next=w),u.interleaved=w,ii(c,E)}function ii(c,u){c.lanes|=u;var w=c.alternate;for(w!==null&&(w.lanes|=u),w=c,c=c.return;c!==null;)c.childLanes|=u,w=c.alternate,w!==null&&(w.childLanes|=u),w=c,c=c.return;return w.tag===3?w.stateNode:null}var Wi=!1;function Bf(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qv(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ci(c,u){return{eventTime:c,lane:u,tag:0,payload:null,callback:null,next:null}}function Gi(c,u,w){var E=c.updateQueue;if(E===null)return null;if(E=E.shared,(rr&2)!==0){var K=E.pending;return K===null?u.next=u:(u.next=K.next,K.next=u),E.pending=u,ii(c,w)}return K=E.interleaved,K===null?(u.next=u,Of(E)):(u.next=K.next,K.next=u),E.interleaved=u,ii(c,w)}function lh(c,u,w){if(u=u.updateQueue,u!==null&&(u=u.shared,(w&4194240)!==0)){var E=u.lanes;E&=c.pendingLanes,w|=E,u.lanes=w,ct(c,w)}}function Xv(c,u){var w=c.updateQueue,E=c.alternate;if(E!==null&&(E=E.updateQueue,w===E)){var K=null,le=null;if(w=w.firstBaseUpdate,w!==null){do{var Be={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};le===null?K=le=Be:le=le.next=Be,w=w.next}while(w!==null);le===null?K=le=u:le=le.next=u}else K=le=u;w={baseState:E.baseState,firstBaseUpdate:K,lastBaseUpdate:le,shared:E.shared,effects:E.effects},c.updateQueue=w;return}c=w.lastBaseUpdate,c===null?w.firstBaseUpdate=u:c.next=u,w.lastBaseUpdate=u}function ih(c,u,w,E){var K=c.updateQueue;Wi=!1;var le=K.firstBaseUpdate,Be=K.lastBaseUpdate,st=K.shared.pending;if(st!==null){K.shared.pending=null;var ht=st,It=ht.next;ht.next=null,Be===null?le=It:Be.next=It,Be=ht;var qt=c.alternate;qt!==null&&(qt=qt.updateQueue,st=qt.lastBaseUpdate,st!==Be&&(st===null?qt.firstBaseUpdate=It:st.next=It,qt.lastBaseUpdate=ht))}if(le!==null){var Jt=K.baseState;Be=0,qt=It=ht=null,st=le;do{var Kt=st.lane,xs=st.eventTime;if((E&Kt)===Kt){qt!==null&&(qt=qt.next={eventTime:xs,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var ys=c,js=st;switch(Kt=u,xs=w,js.tag){case 1:if(ys=js.payload,typeof ys=="function"){Jt=ys.call(xs,Jt,Kt);break e}Jt=ys;break e;case 3:ys.flags=ys.flags&-65537|128;case 0:if(ys=js.payload,Kt=typeof ys=="function"?ys.call(xs,Jt,Kt):ys,Kt==null)break e;Jt=J({},Jt,Kt);break e;case 2:Wi=!0}}st.callback!==null&&st.lane!==0&&(c.flags|=64,Kt=K.effects,Kt===null?K.effects=[st]:Kt.push(st))}else xs={eventTime:xs,lane:Kt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},qt===null?(It=qt=xs,ht=Jt):qt=qt.next=xs,Be|=Kt;if(st=st.next,st===null){if(st=K.shared.pending,st===null)break;Kt=st,st=Kt.next,Kt.next=null,K.lastBaseUpdate=Kt,K.shared.pending=null}}while(!0);if(qt===null&&(ht=Jt),K.baseState=ht,K.firstBaseUpdate=It,K.lastBaseUpdate=qt,u=K.shared.interleaved,u!==null){K=u;do Be|=K.lane,K=K.next;while(K!==u)}else le===null&&(K.shared.lanes=0);Uc|=Be,c.lanes=Be,c.memoizedState=Jt}}function Jv(c,u,w){if(c=u.effects,u.effects=null,c!==null)for(u=0;u<c.length;u++){var E=c[u],K=E.callback;if(K!==null){if(E.callback=null,E=w,typeof K!="function")throw Error(r(191,K));K.call(E)}}}var pu={},Tl=Dl(pu),fu=Dl(pu),gu=Dl(pu);function Rc(c){if(c===pu)throw Error(r(174));return c}function Rf(c,u){switch(Fr(gu,u),Fr(fu,c),Fr(Tl,pu),c=u.nodeType,c){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Ge(null,"");break;default:c=c===8?u.parentNode:u,u=c.namespaceURI||null,c=c.tagName,u=Ge(u,c)}_r(Tl),Fr(Tl,u)}function e0(){_r(Tl),_r(fu),_r(gu)}function Qv(c){Rc(gu.current);var u=Rc(Tl.current),w=Ge(u,c.type);u!==w&&(Fr(fu,c),Fr(Tl,w))}function Hf(c){fu.current===c&&(_r(Tl),_r(fu))}var ta=Dl(0);function ch(c){for(var u=c;u!==null;){if(u.tag===13){var w=u.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Uf=[];function Wf(){for(var c=0;c<Uf.length;c++)Uf[c]._workInProgressVersionPrimary=null;Uf.length=0}var dh=S.ReactCurrentDispatcher,Gf=S.ReactCurrentBatchConfig,Hc=0,sa=null,Ta=null,Ba=null,uh=!1,yu=!1,bu=0,iD=0;function fn(){throw Error(r(321))}function $f(c,u){if(u===null)return!1;for(var w=0;w<u.length&&w<c.length;w++)if(!io(c[w],u[w]))return!1;return!0}function zf(c,u,w,E,K,le){if(Hc=le,sa=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,dh.current=c===null||c.memoizedState===null?xD:hD,c=w(E,K),yu){le=0;do{if(yu=!1,bu=0,25<=le)throw Error(r(301));le+=1,Ba=Ta=null,u.updateQueue=null,dh.current=mD,c=w(E,K)}while(yu)}if(dh.current=mh,u=Ta!==null&&Ta.next!==null,Hc=0,Ba=Ta=sa=null,uh=!1,u)throw Error(r(300));return c}function Vf(){var c=bu!==0;return bu=0,c}function Al(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ba===null?sa.memoizedState=Ba=c:Ba=Ba.next=c,Ba}function ko(){if(Ta===null){var c=sa.alternate;c=c!==null?c.memoizedState:null}else c=Ta.next;var u=Ba===null?sa.memoizedState:Ba.next;if(u!==null)Ba=u,Ta=c;else{if(c===null)throw Error(r(310));Ta=c,c={memoizedState:Ta.memoizedState,baseState:Ta.baseState,baseQueue:Ta.baseQueue,queue:Ta.queue,next:null},Ba===null?sa.memoizedState=Ba=c:Ba=Ba.next=c}return Ba}function vu(c,u){return typeof u=="function"?u(c):u}function Yf(c){var u=ko(),w=u.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=c;var E=Ta,K=E.baseQueue,le=w.pending;if(le!==null){if(K!==null){var Be=K.next;K.next=le.next,le.next=Be}E.baseQueue=K=le,w.pending=null}if(K!==null){le=K.next,E=E.baseState;var st=Be=null,ht=null,It=le;do{var qt=It.lane;if((Hc&qt)===qt)ht!==null&&(ht=ht.next={lane:0,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null}),E=It.hasEagerState?It.eagerState:c(E,It.action);else{var Jt={lane:qt,action:It.action,hasEagerState:It.hasEagerState,eagerState:It.eagerState,next:null};ht===null?(st=ht=Jt,Be=E):ht=ht.next=Jt,sa.lanes|=qt,Uc|=qt}It=It.next}while(It!==null&&It!==le);ht===null?Be=E:ht.next=st,io(E,u.memoizedState)||(Vn=!0),u.memoizedState=E,u.baseState=Be,u.baseQueue=ht,w.lastRenderedState=E}if(c=w.interleaved,c!==null){K=c;do le=K.lane,sa.lanes|=le,Uc|=le,K=K.next;while(K!==c)}else K===null&&(w.lanes=0);return[u.memoizedState,w.dispatch]}function Kf(c){var u=ko(),w=u.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=c;var E=w.dispatch,K=w.pending,le=u.memoizedState;if(K!==null){w.pending=null;var Be=K=K.next;do le=c(le,Be.action),Be=Be.next;while(Be!==K);io(le,u.memoizedState)||(Vn=!0),u.memoizedState=le,u.baseQueue===null&&(u.baseState=le),w.lastRenderedState=le}return[le,E]}function Zv(){}function ew(c,u){var w=sa,E=ko(),K=u(),le=!io(E.memoizedState,K);if(le&&(E.memoizedState=K,Vn=!0),E=E.queue,qf(rw.bind(null,w,E,c),[c]),E.getSnapshot!==u||le||Ba!==null&&Ba.memoizedState.tag&1){if(w.flags|=2048,wu(9,sw.bind(null,w,E,K,u),void 0,null),Ra===null)throw Error(r(349));(Hc&30)!==0||tw(w,u,K)}return K}function tw(c,u,w){c.flags|=16384,c={getSnapshot:u,value:w},u=sa.updateQueue,u===null?(u={lastEffect:null,stores:null},sa.updateQueue=u,u.stores=[c]):(w=u.stores,w===null?u.stores=[c]:w.push(c))}function sw(c,u,w,E){u.value=w,u.getSnapshot=E,aw(u)&&nw(c)}function rw(c,u,w){return w(function(){aw(u)&&nw(c)})}function aw(c){var u=c.getSnapshot;c=c.value;try{var w=u();return!io(c,w)}catch{return!0}}function nw(c){var u=ii(c,1);u!==null&&ol(u,c,1,-1)}function ow(c){var u=Al();return typeof c=="function"&&(c=c()),u.memoizedState=u.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:c},u.queue=c,c=c.dispatch=uD.bind(null,sa,c),[u.memoizedState,c]}function wu(c,u,w,E){return c={tag:c,create:u,destroy:w,deps:E,next:null},u=sa.updateQueue,u===null?(u={lastEffect:null,stores:null},sa.updateQueue=u,u.lastEffect=c.next=c):(w=u.lastEffect,w===null?u.lastEffect=c.next=c:(E=w.next,w.next=c,c.next=E,u.lastEffect=c)),c}function lw(){return ko().memoizedState}function xh(c,u,w,E){var K=Al();sa.flags|=c,K.memoizedState=wu(1|u,w,void 0,E===void 0?null:E)}function hh(c,u,w,E){var K=ko();E=E===void 0?null:E;var le=void 0;if(Ta!==null){var Be=Ta.memoizedState;if(le=Be.destroy,E!==null&&$f(E,Be.deps)){K.memoizedState=wu(u,w,le,E);return}}sa.flags|=c,K.memoizedState=wu(1|u,w,le,E)}function iw(c,u){return xh(8390656,8,c,u)}function qf(c,u){return hh(2048,8,c,u)}function cw(c,u){return hh(4,2,c,u)}function dw(c,u){return hh(4,4,c,u)}function uw(c,u){if(typeof u=="function")return c=c(),u(c),function(){u(null)};if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function xw(c,u,w){return w=w!=null?w.concat([c]):null,hh(4,4,uw.bind(null,u,c),w)}function Xf(){}function hw(c,u){var w=ko();u=u===void 0?null:u;var E=w.memoizedState;return E!==null&&u!==null&&$f(u,E[1])?E[0]:(w.memoizedState=[c,u],c)}function mw(c,u){var w=ko();u=u===void 0?null:u;var E=w.memoizedState;return E!==null&&u!==null&&$f(u,E[1])?E[0]:(c=c(),w.memoizedState=[c,u],c)}function pw(c,u,w){return(Hc&21)===0?(c.baseState&&(c.baseState=!1,Vn=!0),c.memoizedState=w):(io(w,u)||(w=ha(),sa.lanes|=w,Uc|=w,c.baseState=!0),u)}function cD(c,u){var w=Vt;Vt=w!==0&&4>w?w:4,c(!0);var E=Gf.transition;Gf.transition={};try{c(!1),u()}finally{Vt=w,Gf.transition=E}}function fw(){return ko().memoizedState}function dD(c,u,w){var E=Yi(c);if(w={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null},gw(c))yw(u,w);else if(w=Kv(c,u,w,E),w!==null){var K=Mn();ol(w,c,E,K),bw(w,u,E)}}function uD(c,u,w){var E=Yi(c),K={lane:E,action:w,hasEagerState:!1,eagerState:null,next:null};if(gw(c))yw(u,K);else{var le=c.alternate;if(c.lanes===0&&(le===null||le.lanes===0)&&(le=u.lastRenderedReducer,le!==null))try{var Be=u.lastRenderedState,st=le(Be,w);if(K.hasEagerState=!0,K.eagerState=st,io(st,Be)){var ht=u.interleaved;ht===null?(K.next=K,Of(u)):(K.next=ht.next,ht.next=K),u.interleaved=K;return}}catch{}finally{}w=Kv(c,u,K,E),w!==null&&(K=Mn(),ol(w,c,E,K),bw(w,u,E))}}function gw(c){var u=c.alternate;return c===sa||u!==null&&u===sa}function yw(c,u){yu=uh=!0;var w=c.pending;w===null?u.next=u:(u.next=w.next,w.next=u),c.pending=u}function bw(c,u,w){if((w&4194240)!==0){var E=u.lanes;E&=c.pendingLanes,w|=E,u.lanes=w,ct(c,w)}}var mh={readContext:So,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},xD={readContext:So,useCallback:function(c,u){return Al().memoizedState=[c,u===void 0?null:u],c},useContext:So,useEffect:iw,useImperativeHandle:function(c,u,w){return w=w!=null?w.concat([c]):null,xh(4194308,4,uw.bind(null,u,c),w)},useLayoutEffect:function(c,u){return xh(4194308,4,c,u)},useInsertionEffect:function(c,u){return xh(4,2,c,u)},useMemo:function(c,u){var w=Al();return u=u===void 0?null:u,c=c(),w.memoizedState=[c,u],c},useReducer:function(c,u,w){var E=Al();return u=w!==void 0?w(u):u,E.memoizedState=E.baseState=u,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:u},E.queue=c,c=c.dispatch=dD.bind(null,sa,c),[E.memoizedState,c]},useRef:function(c){var u=Al();return c={current:c},u.memoizedState=c},useState:ow,useDebugValue:Xf,useDeferredValue:function(c){return Al().memoizedState=c},useTransition:function(){var c=ow(!1),u=c[0];return c=cD.bind(null,c[1]),Al().memoizedState=c,[u,c]},useMutableSource:function(){},useSyncExternalStore:function(c,u,w){var E=sa,K=Al();if(ea){if(w===void 0)throw Error(r(407));w=w()}else{if(w=u(),Ra===null)throw Error(r(349));(Hc&30)!==0||tw(E,u,w)}K.memoizedState=w;var le={value:w,getSnapshot:u};return K.queue=le,iw(rw.bind(null,E,le,c),[c]),E.flags|=2048,wu(9,sw.bind(null,E,le,w,u),void 0,null),w},useId:function(){var c=Al(),u=Ra.identifierPrefix;if(ea){var w=tl,E=el;w=(E&~(1<<32-kt(E)-1)).toString(32)+w,u=":"+u+"R"+w,w=bu++,0<w&&(u+="H"+w.toString(32)),u+=":"}else w=iD++,u=":"+u+"r"+w.toString(32)+":";return c.memoizedState=u},unstable_isNewReconciler:!1},hD={readContext:So,useCallback:hw,useContext:So,useEffect:qf,useImperativeHandle:xw,useInsertionEffect:cw,useLayoutEffect:dw,useMemo:mw,useReducer:Yf,useRef:lw,useState:function(){return Yf(vu)},useDebugValue:Xf,useDeferredValue:function(c){var u=ko();return pw(u,Ta.memoizedState,c)},useTransition:function(){var c=Yf(vu)[0],u=ko().memoizedState;return[c,u]},useMutableSource:Zv,useSyncExternalStore:ew,useId:fw,unstable_isNewReconciler:!1},mD={readContext:So,useCallback:hw,useContext:So,useEffect:qf,useImperativeHandle:xw,useInsertionEffect:cw,useLayoutEffect:dw,useMemo:mw,useReducer:Kf,useRef:lw,useState:function(){return Kf(vu)},useDebugValue:Xf,useDeferredValue:function(c){var u=ko();return Ta===null?u.memoizedState=c:pw(u,Ta.memoizedState,c)},useTransition:function(){var c=Kf(vu)[0],u=ko().memoizedState;return[c,u]},useMutableSource:Zv,useSyncExternalStore:ew,useId:fw,unstable_isNewReconciler:!1};function rl(c,u){if(c&&c.defaultProps){u=J({},u),c=c.defaultProps;for(var w in c)u[w]===void 0&&(u[w]=c[w]);return u}return u}function Jf(c,u,w,E){u=c.memoizedState,w=w(E,u),w=w==null?u:J({},u,w),c.memoizedState=w,c.lanes===0&&(c.updateQueue.baseState=w)}var ph={isMounted:function(c){return(c=c._reactInternals)?_(c)===c:!1},enqueueSetState:function(c,u,w){c=c._reactInternals;var E=Mn(),K=Yi(c),le=ci(E,K);le.payload=u,w!=null&&(le.callback=w),u=Gi(c,le,K),u!==null&&(ol(u,c,K,E),lh(u,c,K))},enqueueReplaceState:function(c,u,w){c=c._reactInternals;var E=Mn(),K=Yi(c),le=ci(E,K);le.tag=1,le.payload=u,w!=null&&(le.callback=w),u=Gi(c,le,K),u!==null&&(ol(u,c,K,E),lh(u,c,K))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var w=Mn(),E=Yi(c),K=ci(w,E);K.tag=2,u!=null&&(K.callback=u),u=Gi(c,K,E),u!==null&&(ol(u,c,E,w),lh(u,c,E))}};function vw(c,u,w,E,K,le,Be){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(E,le,Be):u.prototype&&u.prototype.isPureReactComponent?!Od(w,E)||!Od(K,le):!0}function ww(c,u,w){var E=!1,K=El,le=u.contextType;return typeof le=="object"&&le!==null?le=So(le):(K=en(u)?Qo:la.current,E=u.contextTypes,le=(E=E!=null)?oi(c,K):El),u=new u(w,le),c.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ph,c.stateNode=u,u._reactInternals=c,E&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=K,c.__reactInternalMemoizedMaskedChildContext=le),u}function Nw(c,u,w,E){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(w,E),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(w,E),u.state!==c&&ph.enqueueReplaceState(u,u.state,null)}function Qf(c,u,w,E){var K=c.stateNode;K.props=w,K.state=c.memoizedState,K.refs={},Bf(c);var le=u.contextType;typeof le=="object"&&le!==null?K.context=So(le):(le=en(u)?Qo:la.current,K.context=oi(c,le)),K.state=c.memoizedState,le=u.getDerivedStateFromProps,typeof le=="function"&&(Jf(c,u,le,w),K.state=c.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(u=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),u!==K.state&&ph.enqueueReplaceState(K,K.state,null),ih(c,w,K,E),K.state=c.memoizedState),typeof K.componentDidMount=="function"&&(c.flags|=4194308)}function t0(c,u){try{var w="",E=u;do w+=k(E),E=E.return;while(E);var K=w}catch(le){K=`
Error generating stack: `+le.message+`
`+le.stack}return{value:c,source:u,stack:K,digest:null}}function Zf(c,u,w){return{value:c,source:null,stack:w??null,digest:u??null}}function eg(c,u){try{console.error(u.value)}catch(w){setTimeout(function(){throw w})}}var pD=typeof WeakMap=="function"?WeakMap:Map;function jw(c,u,w){w=ci(-1,w),w.tag=3,w.payload={element:null};var E=u.value;return w.callback=function(){Nh||(Nh=!0,pg=E),eg(c,u)},w}function Cw(c,u,w){w=ci(-1,w),w.tag=3;var E=c.type.getDerivedStateFromError;if(typeof E=="function"){var K=u.value;w.payload=function(){return E(K)},w.callback=function(){eg(c,u)}}var le=c.stateNode;return le!==null&&typeof le.componentDidCatch=="function"&&(w.callback=function(){eg(c,u),typeof E!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var Be=u.stack;this.componentDidCatch(u.value,{componentStack:Be!==null?Be:""})}),w}function Sw(c,u,w){var E=c.pingCache;if(E===null){E=c.pingCache=new pD;var K=new Set;E.set(u,K)}else K=E.get(u),K===void 0&&(K=new Set,E.set(u,K));K.has(w)||(K.add(w),c=TD.bind(null,c,u,w),u.then(c,c))}function kw(c){do{var u;if((u=c.tag===13)&&(u=c.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return c;c=c.return}while(c!==null);return null}function Dw(c,u,w,E,K){return(c.mode&1)===0?(c===u?c.flags|=65536:(c.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(u=ci(-1,1),u.tag=2,Gi(w,u,1))),w.lanes|=1),c):(c.flags|=65536,c.lanes=K,c)}var fD=S.ReactCurrentOwner,Vn=!1;function Pn(c,u,w,E){u.child=c===null?Yv(u,null,w,E):Jd(u,c.child,w,E)}function Ew(c,u,w,E,K){w=w.render;var le=u.ref;return Zd(u,K),E=zf(c,u,w,E,le,K),w=Vf(),c!==null&&!Vn?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~K,di(c,u,K)):(ea&&w&&St(u),u.flags|=1,Pn(c,u,E,K),u.child)}function Tw(c,u,w,E,K){if(c===null){var le=w.type;return typeof le=="function"&&!Ng(le)&&le.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(u.tag=15,u.type=le,Aw(c,u,le,E,K)):(c=Eh(w.type,null,E,u,u.mode,K),c.ref=u.ref,c.return=u,u.child=c)}if(le=c.child,(c.lanes&K)===0){var Be=le.memoizedProps;if(w=w.compare,w=w!==null?w:Od,w(Be,E)&&c.ref===u.ref)return di(c,u,K)}return u.flags|=1,c=qi(le,E),c.ref=u.ref,c.return=u,u.child=c}function Aw(c,u,w,E,K){if(c!==null){var le=c.memoizedProps;if(Od(le,E)&&c.ref===u.ref)if(Vn=!1,u.pendingProps=E=le,(c.lanes&K)!==0)(c.flags&131072)!==0&&(Vn=!0);else return u.lanes=c.lanes,di(c,u,K)}return tg(c,u,w,E,K)}function Fw(c,u,w){var E=u.pendingProps,K=E.children,le=c!==null?c.memoizedState:null;if(E.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(r0,uo),uo|=w;else{if((w&1073741824)===0)return c=le!==null?le.baseLanes|w:w,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:c,cachePool:null,transitions:null},u.updateQueue=null,Fr(r0,uo),uo|=c,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=le!==null?le.baseLanes:w,Fr(r0,uo),uo|=E}else le!==null?(E=le.baseLanes|w,u.memoizedState=null):E=w,Fr(r0,uo),uo|=E;return Pn(c,u,K,w),u.child}function Pw(c,u){var w=u.ref;(c===null&&w!==null||c!==null&&c.ref!==w)&&(u.flags|=512,u.flags|=2097152)}function tg(c,u,w,E,K){var le=en(w)?Qo:la.current;return le=oi(u,le),Zd(u,K),w=zf(c,u,w,E,le,K),E=Vf(),c!==null&&!Vn?(u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~K,di(c,u,K)):(ea&&E&&St(u),u.flags|=1,Pn(c,u,w,K),u.child)}function Mw(c,u,w,E,K){if(en(w)){var le=!0;Vd(u)}else le=!1;if(Zd(u,K),u.stateNode===null)gh(c,u),ww(u,w,E),Qf(u,w,E,K),E=!0;else if(c===null){var Be=u.stateNode,st=u.memoizedProps;Be.props=st;var ht=Be.context,It=w.contextType;typeof It=="object"&&It!==null?It=So(It):(It=en(w)?Qo:la.current,It=oi(u,It));var qt=w.getDerivedStateFromProps,Jt=typeof qt=="function"||typeof Be.getSnapshotBeforeUpdate=="function";Jt||typeof Be.UNSAFE_componentWillReceiveProps!="function"&&typeof Be.componentWillReceiveProps!="function"||(st!==E||ht!==It)&&Nw(u,Be,E,It),Wi=!1;var Kt=u.memoizedState;Be.state=Kt,ih(u,E,Be,K),ht=u.memoizedState,st!==E||Kt!==ht||Gr.current||Wi?(typeof qt=="function"&&(Jf(u,w,qt,E),ht=u.memoizedState),(st=Wi||vw(u,w,st,E,Kt,ht,It))?(Jt||typeof Be.UNSAFE_componentWillMount!="function"&&typeof Be.componentWillMount!="function"||(typeof Be.componentWillMount=="function"&&Be.componentWillMount(),typeof Be.UNSAFE_componentWillMount=="function"&&Be.UNSAFE_componentWillMount()),typeof Be.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Be.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=E,u.memoizedState=ht),Be.props=E,Be.state=ht,Be.context=It,E=st):(typeof Be.componentDidMount=="function"&&(u.flags|=4194308),E=!1)}else{Be=u.stateNode,qv(c,u),st=u.memoizedProps,It=u.type===u.elementType?st:rl(u.type,st),Be.props=It,Jt=u.pendingProps,Kt=Be.context,ht=w.contextType,typeof ht=="object"&&ht!==null?ht=So(ht):(ht=en(w)?Qo:la.current,ht=oi(u,ht));var xs=w.getDerivedStateFromProps;(qt=typeof xs=="function"||typeof Be.getSnapshotBeforeUpdate=="function")||typeof Be.UNSAFE_componentWillReceiveProps!="function"&&typeof Be.componentWillReceiveProps!="function"||(st!==Jt||Kt!==ht)&&Nw(u,Be,E,ht),Wi=!1,Kt=u.memoizedState,Be.state=Kt,ih(u,E,Be,K);var ys=u.memoizedState;st!==Jt||Kt!==ys||Gr.current||Wi?(typeof xs=="function"&&(Jf(u,w,xs,E),ys=u.memoizedState),(It=Wi||vw(u,w,It,E,Kt,ys,ht)||!1)?(qt||typeof Be.UNSAFE_componentWillUpdate!="function"&&typeof Be.componentWillUpdate!="function"||(typeof Be.componentWillUpdate=="function"&&Be.componentWillUpdate(E,ys,ht),typeof Be.UNSAFE_componentWillUpdate=="function"&&Be.UNSAFE_componentWillUpdate(E,ys,ht)),typeof Be.componentDidUpdate=="function"&&(u.flags|=4),typeof Be.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Be.componentDidUpdate!="function"||st===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=4),typeof Be.getSnapshotBeforeUpdate!="function"||st===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=1024),u.memoizedProps=E,u.memoizedState=ys),Be.props=E,Be.state=ys,Be.context=ht,E=It):(typeof Be.componentDidUpdate!="function"||st===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=4),typeof Be.getSnapshotBeforeUpdate!="function"||st===c.memoizedProps&&Kt===c.memoizedState||(u.flags|=1024),E=!1)}return sg(c,u,w,E,le,K)}function sg(c,u,w,E,K,le){Pw(c,u);var Be=(u.flags&128)!==0;if(!E&&!Be)return K&&th(u,w,!1),di(c,u,le);E=u.stateNode,fD.current=u;var st=Be&&typeof w.getDerivedStateFromError!="function"?null:E.render();return u.flags|=1,c!==null&&Be?(u.child=Jd(u,c.child,null,le),u.child=Jd(u,null,st,le)):Pn(c,u,st,le),u.memoizedState=E.state,K&&th(u,w,!0),u.child}function Iw(c){var u=c.stateNode;u.pendingContext?Zx(c,u.pendingContext,u.pendingContext!==u.context):u.context&&Zx(c,u.context,!1),Rf(c,u.containerInfo)}function Lw(c,u,w,E,K){return Xd(),Pf(K),u.flags|=256,Pn(c,u,w,E),u.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ag(c){return{baseLanes:c,cachePool:null,transitions:null}}function _w(c,u,w){var E=u.pendingProps,K=ta.current,le=!1,Be=(u.flags&128)!==0,st;if((st=Be)||(st=c!==null&&c.memoizedState===null?!1:(K&2)!==0),st?(le=!0,u.flags&=-129):(c===null||c.memoizedState!==null)&&(K|=1),Fr(ta,K&1),c===null)return Ff(u),c=u.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((u.mode&1)===0?u.lanes=1:c.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(Be=E.children,c=E.fallback,le?(E=u.mode,le=u.child,Be={mode:"hidden",children:Be},(E&1)===0&&le!==null?(le.childLanes=0,le.pendingProps=Be):le=Th(Be,E,0,null),c=zc(c,E,w,null),le.return=u,c.return=u,le.sibling=c,u.child=le,u.child.memoizedState=ag(w),u.memoizedState=rg,c):ng(u,Be));if(K=c.memoizedState,K!==null&&(st=K.dehydrated,st!==null))return gD(c,u,Be,E,st,K,w);if(le){le=E.fallback,Be=u.mode,K=c.child,st=K.sibling;var ht={mode:"hidden",children:E.children};return(Be&1)===0&&u.child!==K?(E=u.child,E.childLanes=0,E.pendingProps=ht,u.deletions=null):(E=qi(K,ht),E.subtreeFlags=K.subtreeFlags&14680064),st!==null?le=qi(st,le):(le=zc(le,Be,w,null),le.flags|=2),le.return=u,E.return=u,E.sibling=le,u.child=E,E=le,le=u.child,Be=c.child.memoizedState,Be=Be===null?ag(w):{baseLanes:Be.baseLanes|w,cachePool:null,transitions:Be.transitions},le.memoizedState=Be,le.childLanes=c.childLanes&~w,u.memoizedState=rg,E}return le=c.child,c=le.sibling,E=qi(le,{mode:"visible",children:E.children}),(u.mode&1)===0&&(E.lanes=w),E.return=u,E.sibling=null,c!==null&&(w=u.deletions,w===null?(u.deletions=[c],u.flags|=16):w.push(c)),u.child=E,u.memoizedState=null,E}function ng(c,u){return u=Th({mode:"visible",children:u},c.mode,0,null),u.return=c,c.child=u}function fh(c,u,w,E){return E!==null&&Pf(E),Jd(u,c.child,null,w),c=ng(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function gD(c,u,w,E,K,le,Be){if(w)return u.flags&256?(u.flags&=-257,E=Zf(Error(r(422))),fh(c,u,Be,E)):u.memoizedState!==null?(u.child=c.child,u.flags|=128,null):(le=E.fallback,K=u.mode,E=Th({mode:"visible",children:E.children},K,0,null),le=zc(le,K,Be,null),le.flags|=2,E.return=u,le.return=u,E.sibling=le,u.child=E,(u.mode&1)!==0&&Jd(u,c.child,null,Be),u.child.memoizedState=ag(Be),u.memoizedState=rg,le);if((u.mode&1)===0)return fh(c,u,Be,null);if(K.data==="$!"){if(E=K.nextSibling&&K.nextSibling.dataset,E)var st=E.dgst;return E=st,le=Error(r(419)),E=Zf(le,E,void 0),fh(c,u,Be,E)}if(st=(Be&c.childLanes)!==0,Vn||st){if(E=Ra,E!==null){switch(Be&-Be){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(E.suspendedLanes|Be))!==0?0:K,K!==0&&K!==le.retryLane&&(le.retryLane=K,ii(c,K),ol(E,c,K,-1))}return wg(),E=Zf(Error(r(421))),fh(c,u,Be,E)}return K.data==="$?"?(u.flags|=128,u.child=c.child,u=AD.bind(null,c),K._reactRetry=u,null):(c=le.treeContext,co=kl(K.nextSibling),Fs=u,ea=!0,sl=null,c!==null&&($n[zn++]=el,$n[zn++]=tl,$n[zn++]=li,el=c.id,tl=c.overflow,li=u),u=ng(u,E.children),u.flags|=4096,u)}function Ow(c,u,w){c.lanes|=u;var E=c.alternate;E!==null&&(E.lanes|=u),_f(c.return,u,w)}function og(c,u,w,E,K){var le=c.memoizedState;le===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:E,tail:w,tailMode:K}:(le.isBackwards=u,le.rendering=null,le.renderingStartTime=0,le.last=E,le.tail=w,le.tailMode=K)}function Bw(c,u,w){var E=u.pendingProps,K=E.revealOrder,le=E.tail;if(Pn(c,u,E.children,w),E=ta.current,(E&2)!==0)E=E&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Ow(c,w,u);else if(c.tag===19)Ow(c,w,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}E&=1}if(Fr(ta,E),(u.mode&1)===0)u.memoizedState=null;else switch(K){case"forwards":for(w=u.child,K=null;w!==null;)c=w.alternate,c!==null&&ch(c)===null&&(K=w),w=w.sibling;w=K,w===null?(K=u.child,u.child=null):(K=w.sibling,w.sibling=null),og(u,!1,K,w,le);break;case"backwards":for(w=null,K=u.child,u.child=null;K!==null;){if(c=K.alternate,c!==null&&ch(c)===null){u.child=K;break}c=K.sibling,K.sibling=w,w=K,K=c}og(u,!0,w,null,le);break;case"together":og(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function gh(c,u){(u.mode&1)===0&&c!==null&&(c.alternate=null,u.alternate=null,u.flags|=2)}function di(c,u,w){if(c!==null&&(u.dependencies=c.dependencies),Uc|=u.lanes,(w&u.childLanes)===0)return null;if(c!==null&&u.child!==c.child)throw Error(r(153));if(u.child!==null){for(c=u.child,w=qi(c,c.pendingProps),u.child=w,w.return=u;c.sibling!==null;)c=c.sibling,w=w.sibling=qi(c,c.pendingProps),w.return=u;w.sibling=null}return u.child}function yD(c,u,w){switch(u.tag){case 3:Iw(u),Xd();break;case 5:Qv(u);break;case 1:en(u.type)&&Vd(u);break;case 4:Rf(u,u.stateNode.containerInfo);break;case 10:var E=u.type._context,K=u.memoizedProps.value;Fr(nh,E._currentValue),E._currentValue=K;break;case 13:if(E=u.memoizedState,E!==null)return E.dehydrated!==null?(Fr(ta,ta.current&1),u.flags|=128,null):(w&u.child.childLanes)!==0?_w(c,u,w):(Fr(ta,ta.current&1),c=di(c,u,w),c!==null?c.sibling:null);Fr(ta,ta.current&1);break;case 19:if(E=(w&u.childLanes)!==0,(c.flags&128)!==0){if(E)return Bw(c,u,w);u.flags|=128}if(K=u.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),Fr(ta,ta.current),E)break;return null;case 22:case 23:return u.lanes=0,Fw(c,u,w)}return di(c,u,w)}var Rw,lg,Hw,Uw;Rw=function(c,u){for(var w=u.child;w!==null;){if(w.tag===5||w.tag===6)c.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===u)break;for(;w.sibling===null;){if(w.return===null||w.return===u)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},lg=function(){},Hw=function(c,u,w,E){var K=c.memoizedProps;if(K!==E){c=u.stateNode,Rc(Tl.current);var le=null;switch(w){case"input":K=De(c,K),E=De(c,E),le=[];break;case"select":K=J({},K,{value:void 0}),E=J({},E,{value:void 0}),le=[];break;case"textarea":K=Me(c,K),E=Me(c,E),le=[];break;default:typeof K.onClick!="function"&&typeof E.onClick=="function"&&(c.onclick=Mc)}pt(w,E);var Be;w=null;for(It in K)if(!E.hasOwnProperty(It)&&K.hasOwnProperty(It)&&K[It]!=null)if(It==="style"){var st=K[It];for(Be in st)st.hasOwnProperty(Be)&&(w||(w={}),w[Be]="")}else It!=="dangerouslySetInnerHTML"&&It!=="children"&&It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&It!=="autoFocus"&&(n.hasOwnProperty(It)?le||(le=[]):(le=le||[]).push(It,null));for(It in E){var ht=E[It];if(st=K?.[It],E.hasOwnProperty(It)&&ht!==st&&(ht!=null||st!=null))if(It==="style")if(st){for(Be in st)!st.hasOwnProperty(Be)||ht&&ht.hasOwnProperty(Be)||(w||(w={}),w[Be]="");for(Be in ht)ht.hasOwnProperty(Be)&&st[Be]!==ht[Be]&&(w||(w={}),w[Be]=ht[Be])}else w||(le||(le=[]),le.push(It,w)),w=ht;else It==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,st=st?st.__html:void 0,ht!=null&&st!==ht&&(le=le||[]).push(It,ht)):It==="children"?typeof ht!="string"&&typeof ht!="number"||(le=le||[]).push(It,""+ht):It!=="suppressContentEditableWarning"&&It!=="suppressHydrationWarning"&&(n.hasOwnProperty(It)?(ht!=null&&It==="onScroll"&&Lr("scroll",c),le||st===ht||(le=[])):(le=le||[]).push(It,ht))}w&&(le=le||[]).push("style",w);var It=le;(u.updateQueue=It)&&(u.flags|=4)}},Uw=function(c,u,w,E){w!==E&&(u.flags|=4)};function Nu(c,u){if(!ea)switch(c.tailMode){case"hidden":u=c.tail;for(var w=null;u!==null;)u.alternate!==null&&(w=u),u=u.sibling;w===null?c.tail=null:w.sibling=null;break;case"collapsed":w=c.tail;for(var E=null;w!==null;)w.alternate!==null&&(E=w),w=w.sibling;E===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:E.sibling=null}}function gn(c){var u=c.alternate!==null&&c.alternate.child===c.child,w=0,E=0;if(u)for(var K=c.child;K!==null;)w|=K.lanes|K.childLanes,E|=K.subtreeFlags&14680064,E|=K.flags&14680064,K.return=c,K=K.sibling;else for(K=c.child;K!==null;)w|=K.lanes|K.childLanes,E|=K.subtreeFlags,E|=K.flags,K.return=c,K=K.sibling;return c.subtreeFlags|=E,c.childLanes=w,u}function bD(c,u,w){var E=u.pendingProps;switch(rs(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(u),null;case 1:return en(u.type)&&zd(),gn(u),null;case 3:return E=u.stateNode,e0(),_r(Gr),_r(la),Wf(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(c===null||c.child===null)&&(rh(u)?u.flags|=4:c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,sl!==null&&(yg(sl),sl=null))),lg(c,u),gn(u),null;case 5:Hf(u);var K=Rc(gu.current);if(w=u.type,c!==null&&u.stateNode!=null)Hw(c,u,w,E,K),c.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!E){if(u.stateNode===null)throw Error(r(166));return gn(u),null}if(c=Rc(Tl.current),rh(u)){E=u.stateNode,w=u.type;var le=u.memoizedProps;switch(E[mn]=u,E[Lc]=le,c=(u.mode&1)!==0,w){case"dialog":Lr("cancel",E),Lr("close",E);break;case"iframe":case"object":case"embed":Lr("load",E);break;case"video":case"audio":for(K=0;K<Ac.length;K++)Lr(Ac[K],E);break;case"source":Lr("error",E);break;case"img":case"image":case"link":Lr("error",E),Lr("load",E);break;case"details":Lr("toggle",E);break;case"input":Fe(E,le),Lr("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!le.multiple},Lr("invalid",E);break;case"textarea":Te(E,le),Lr("invalid",E)}pt(w,le),K=null;for(var Be in le)if(le.hasOwnProperty(Be)){var st=le[Be];Be==="children"?typeof st=="string"?E.textContent!==st&&(le.suppressHydrationWarning!==!0&&Gd(E.textContent,st,c),K=["children",st]):typeof st=="number"&&E.textContent!==""+st&&(le.suppressHydrationWarning!==!0&&Gd(E.textContent,st,c),K=["children",""+st]):n.hasOwnProperty(Be)&&st!=null&&Be==="onScroll"&&Lr("scroll",E)}switch(w){case"input":ge(E),He(E,le,!0);break;case"textarea":ge(E),ot(E);break;case"select":case"option":break;default:typeof le.onClick=="function"&&(E.onclick=Mc)}E=K,u.updateQueue=E,E!==null&&(u.flags|=4)}else{Be=K.nodeType===9?K:K.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Je(w)),c==="http://www.w3.org/1999/xhtml"?w==="script"?(c=Be.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof E.is=="string"?c=Be.createElement(w,{is:E.is}):(c=Be.createElement(w),w==="select"&&(Be=c,E.multiple?Be.multiple=!0:E.size&&(Be.size=E.size))):c=Be.createElementNS(c,w),c[mn]=u,c[Lc]=E,Rw(c,u,!1,!1),u.stateNode=c;e:{switch(Be=Ft(w,E),w){case"dialog":Lr("cancel",c),Lr("close",c),K=E;break;case"iframe":case"object":case"embed":Lr("load",c),K=E;break;case"video":case"audio":for(K=0;K<Ac.length;K++)Lr(Ac[K],c);K=E;break;case"source":Lr("error",c),K=E;break;case"img":case"image":case"link":Lr("error",c),Lr("load",c),K=E;break;case"details":Lr("toggle",c),K=E;break;case"input":Fe(c,E),K=De(c,E),Lr("invalid",c);break;case"option":K=E;break;case"select":c._wrapperState={wasMultiple:!!E.multiple},K=J({},E,{value:void 0}),Lr("invalid",c);break;case"textarea":Te(c,E),K=Me(c,E),Lr("invalid",c);break;default:K=E}pt(w,K),st=K;for(le in st)if(st.hasOwnProperty(le)){var ht=st[le];le==="style"?me(c,ht):le==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,ht!=null&&yt(c,ht)):le==="children"?typeof ht=="string"?(w!=="textarea"||ht!=="")&&mt(c,ht):typeof ht=="number"&&mt(c,""+ht):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(n.hasOwnProperty(le)?ht!=null&&le==="onScroll"&&Lr("scroll",c):ht!=null&&j(c,le,ht,Be))}switch(w){case"input":ge(c),He(c,E,!1);break;case"textarea":ge(c),ot(c);break;case"option":E.value!=null&&c.setAttribute("value",""+ye(E.value));break;case"select":c.multiple=!!E.multiple,le=E.value,le!=null?ve(c,!!E.multiple,le,!1):E.defaultValue!=null&&ve(c,!!E.multiple,E.defaultValue,!0);break;default:typeof K.onClick=="function"&&(c.onclick=Mc)}switch(w){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return gn(u),null;case 6:if(c&&u.stateNode!=null)Uw(c,u,c.memoizedProps,E);else{if(typeof E!="string"&&u.stateNode===null)throw Error(r(166));if(w=Rc(gu.current),Rc(Tl.current),rh(u)){if(E=u.stateNode,w=u.memoizedProps,E[mn]=u,(le=E.nodeValue!==w)&&(c=Fs,c!==null))switch(c.tag){case 3:Gd(E.nodeValue,w,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Gd(E.nodeValue,w,(c.mode&1)!==0)}le&&(u.flags|=4)}else E=(w.nodeType===9?w:w.ownerDocument).createTextNode(E),E[mn]=u,u.stateNode=E}return gn(u),null;case 13:if(_r(ta),E=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(ea&&co!==null&&(u.mode&1)!==0&&(u.flags&128)===0)$v(),Xd(),u.flags|=98560,le=!1;else if(le=rh(u),E!==null&&E.dehydrated!==null){if(c===null){if(!le)throw Error(r(318));if(le=u.memoizedState,le=le!==null?le.dehydrated:null,!le)throw Error(r(317));le[mn]=u}else Xd(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;gn(u),le=!1}else sl!==null&&(yg(sl),sl=null),le=!0;if(!le)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=w,u):(E=E!==null,E!==(c!==null&&c.memoizedState!==null)&&E&&(u.child.flags|=8192,(u.mode&1)!==0&&(c===null||(ta.current&1)!==0?Aa===0&&(Aa=3):wg())),u.updateQueue!==null&&(u.flags|=4),gn(u),null);case 4:return e0(),lg(c,u),c===null&&Pc(u.stateNode.containerInfo),gn(u),null;case 10:return Lf(u.type._context),gn(u),null;case 17:return en(u.type)&&zd(),gn(u),null;case 19:if(_r(ta),le=u.memoizedState,le===null)return gn(u),null;if(E=(u.flags&128)!==0,Be=le.rendering,Be===null)if(E)Nu(le,!1);else{if(Aa!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(Be=ch(c),Be!==null){for(u.flags|=128,Nu(le,!1),E=Be.updateQueue,E!==null&&(u.updateQueue=E,u.flags|=4),u.subtreeFlags=0,E=w,w=u.child;w!==null;)le=w,c=E,le.flags&=14680066,Be=le.alternate,Be===null?(le.childLanes=0,le.lanes=c,le.child=null,le.subtreeFlags=0,le.memoizedProps=null,le.memoizedState=null,le.updateQueue=null,le.dependencies=null,le.stateNode=null):(le.childLanes=Be.childLanes,le.lanes=Be.lanes,le.child=Be.child,le.subtreeFlags=0,le.deletions=null,le.memoizedProps=Be.memoizedProps,le.memoizedState=Be.memoizedState,le.updateQueue=Be.updateQueue,le.type=Be.type,c=Be.dependencies,le.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),w=w.sibling;return Fr(ta,ta.current&1|2),u.child}c=c.sibling}le.tail!==null&&We()>a0&&(u.flags|=128,E=!0,Nu(le,!1),u.lanes=4194304)}else{if(!E)if(c=ch(Be),c!==null){if(u.flags|=128,E=!0,w=c.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),Nu(le,!0),le.tail===null&&le.tailMode==="hidden"&&!Be.alternate&&!ea)return gn(u),null}else 2*We()-le.renderingStartTime>a0&&w!==1073741824&&(u.flags|=128,E=!0,Nu(le,!1),u.lanes=4194304);le.isBackwards?(Be.sibling=u.child,u.child=Be):(w=le.last,w!==null?w.sibling=Be:u.child=Be,le.last=Be)}return le.tail!==null?(u=le.tail,le.rendering=u,le.tail=u.sibling,le.renderingStartTime=We(),u.sibling=null,w=ta.current,Fr(ta,E?w&1|2:w&1),u):(gn(u),null);case 22:case 23:return vg(),E=u.memoizedState!==null,c!==null&&c.memoizedState!==null!==E&&(u.flags|=8192),E&&(u.mode&1)!==0?(uo&1073741824)!==0&&(gn(u),u.subtreeFlags&6&&(u.flags|=8192)):gn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function vD(c,u){switch(rs(u),u.tag){case 1:return en(u.type)&&zd(),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return e0(),_r(Gr),_r(la),Wf(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 5:return Hf(u),null;case 13:if(_r(ta),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Xd()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return _r(ta),null;case 4:return e0(),null;case 10:return Lf(u.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var yh=!1,yn=!1,wD=typeof WeakSet=="function"?WeakSet:Set,ps=null;function s0(c,u){var w=c.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(E){ia(c,u,E)}else w.current=null}function ig(c,u,w){try{w()}catch(E){ia(c,u,E)}}var Ww=!1;function ND(c,u){if(_i=Qa,c=yf(),Bd(c)){if("selectionStart"in c)var w={start:c.selectionStart,end:c.selectionEnd};else e:{w=(w=c.ownerDocument)&&w.defaultView||window;var E=w.getSelection&&w.getSelection();if(E&&E.rangeCount!==0){w=E.anchorNode;var K=E.anchorOffset,le=E.focusNode;E=E.focusOffset;try{w.nodeType,le.nodeType}catch{w=null;break e}var Be=0,st=-1,ht=-1,It=0,qt=0,Jt=c,Kt=null;t:for(;;){for(var xs;Jt!==w||K!==0&&Jt.nodeType!==3||(st=Be+K),Jt!==le||E!==0&&Jt.nodeType!==3||(ht=Be+E),Jt.nodeType===3&&(Be+=Jt.nodeValue.length),(xs=Jt.firstChild)!==null;)Kt=Jt,Jt=xs;for(;;){if(Jt===c)break t;if(Kt===w&&++It===K&&(st=Be),Kt===le&&++qt===E&&(ht=Be),(xs=Jt.nextSibling)!==null)break;Jt=Kt,Kt=Jt.parentNode}Jt=xs}w=st===-1||ht===-1?null:{start:st,end:ht}}else w=null}w=w||{start:0,end:0}}else w=null;for(Oi={focusedElem:c,selectionRange:w},Qa=!1,ps=u;ps!==null;)if(u=ps,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,ps=c;else for(;ps!==null;){u=ps;try{var ys=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(ys!==null){var js=ys.memoizedProps,pa=ys.memoizedState,Et=u.stateNode,wt=Et.getSnapshotBeforeUpdate(u.elementType===u.type?js:rl(u.type,js),pa);Et.__reactInternalSnapshotBeforeUpdate=wt}break;case 3:var Pt=u.stateNode.containerInfo;Pt.nodeType===1?Pt.textContent="":Pt.nodeType===9&&Pt.documentElement&&Pt.removeChild(Pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(es){ia(u,u.return,es)}if(c=u.sibling,c!==null){c.return=u.return,ps=c;break}ps=u.return}return ys=Ww,Ww=!1,ys}function ju(c,u,w){var E=u.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var K=E=E.next;do{if((K.tag&c)===c){var le=K.destroy;K.destroy=void 0,le!==void 0&&ig(u,w,le)}K=K.next}while(K!==E)}}function bh(c,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var w=u=u.next;do{if((w.tag&c)===c){var E=w.create;w.destroy=E()}w=w.next}while(w!==u)}}function cg(c){var u=c.ref;if(u!==null){var w=c.stateNode;switch(c.tag){case 5:c=w;break;default:c=w}typeof u=="function"?u(c):u.current=c}}function Gw(c){var u=c.alternate;u!==null&&(c.alternate=null,Gw(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&(delete u[mn],delete u[Lc],delete u[uu],delete u[Ef],delete u[_c])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function $w(c){return c.tag===5||c.tag===3||c.tag===4}function zw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||$w(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function dg(c,u,w){var E=c.tag;if(E===5||E===6)c=c.stateNode,u?w.nodeType===8?w.parentNode.insertBefore(c,u):w.insertBefore(c,u):(w.nodeType===8?(u=w.parentNode,u.insertBefore(c,w)):(u=w,u.appendChild(c)),w=w._reactRootContainer,w!=null||u.onclick!==null||(u.onclick=Mc));else if(E!==4&&(c=c.child,c!==null))for(dg(c,u,w),c=c.sibling;c!==null;)dg(c,u,w),c=c.sibling}function ug(c,u,w){var E=c.tag;if(E===5||E===6)c=c.stateNode,u?w.insertBefore(c,u):w.appendChild(c);else if(E!==4&&(c=c.child,c!==null))for(ug(c,u,w),c=c.sibling;c!==null;)ug(c,u,w),c=c.sibling}var tn=null,al=!1;function $i(c,u,w){for(w=w.child;w!==null;)Vw(c,u,w),w=w.sibling}function Vw(c,u,w){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(us,w)}catch{}switch(w.tag){case 5:yn||s0(w,u);case 6:var E=tn,K=al;tn=null,$i(c,u,w),tn=E,al=K,tn!==null&&(al?(c=tn,w=w.stateNode,c.nodeType===8?c.parentNode.removeChild(w):c.removeChild(w)):tn.removeChild(w.stateNode));break;case 18:tn!==null&&(al?(c=tn,w=w.stateNode,c.nodeType===8?du(c.parentNode,w):c.nodeType===1&&du(c,w),un(c)):du(tn,w.stateNode));break;case 4:E=tn,K=al,tn=w.stateNode.containerInfo,al=!0,$i(c,u,w),tn=E,al=K;break;case 0:case 11:case 14:case 15:if(!yn&&(E=w.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){K=E=E.next;do{var le=K,Be=le.destroy;le=le.tag,Be!==void 0&&((le&2)!==0||(le&4)!==0)&&ig(w,u,Be),K=K.next}while(K!==E)}$i(c,u,w);break;case 1:if(!yn&&(s0(w,u),E=w.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=w.memoizedProps,E.state=w.memoizedState,E.componentWillUnmount()}catch(st){ia(w,u,st)}$i(c,u,w);break;case 21:$i(c,u,w);break;case 22:w.mode&1?(yn=(E=yn)||w.memoizedState!==null,$i(c,u,w),yn=E):$i(c,u,w);break;default:$i(c,u,w)}}function Yw(c){var u=c.updateQueue;if(u!==null){c.updateQueue=null;var w=c.stateNode;w===null&&(w=c.stateNode=new wD),u.forEach(function(E){var K=FD.bind(null,c,E);w.has(E)||(w.add(E),E.then(K,K))})}}function nl(c,u){var w=u.deletions;if(w!==null)for(var E=0;E<w.length;E++){var K=w[E];try{var le=c,Be=u,st=Be;e:for(;st!==null;){switch(st.tag){case 5:tn=st.stateNode,al=!1;break e;case 3:tn=st.stateNode.containerInfo,al=!0;break e;case 4:tn=st.stateNode.containerInfo,al=!0;break e}st=st.return}if(tn===null)throw Error(r(160));Vw(le,Be,K),tn=null,al=!1;var ht=K.alternate;ht!==null&&(ht.return=null),K.return=null}catch(It){ia(K,u,It)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Kw(u,c),u=u.sibling}function Kw(c,u){var w=c.alternate,E=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(nl(u,c),Fl(c),E&4){try{ju(3,c,c.return),bh(3,c)}catch(js){ia(c,c.return,js)}try{ju(5,c,c.return)}catch(js){ia(c,c.return,js)}}break;case 1:nl(u,c),Fl(c),E&512&&w!==null&&s0(w,w.return);break;case 5:if(nl(u,c),Fl(c),E&512&&w!==null&&s0(w,w.return),c.flags&32){var K=c.stateNode;try{mt(K,"")}catch(js){ia(c,c.return,js)}}if(E&4&&(K=c.stateNode,K!=null)){var le=c.memoizedProps,Be=w!==null?w.memoizedProps:le,st=c.type,ht=c.updateQueue;if(c.updateQueue=null,ht!==null)try{st==="input"&&le.type==="radio"&&le.name!=null&&Ae(K,le),Ft(st,Be);var It=Ft(st,le);for(Be=0;Be<ht.length;Be+=2){var qt=ht[Be],Jt=ht[Be+1];qt==="style"?me(K,Jt):qt==="dangerouslySetInnerHTML"?yt(K,Jt):qt==="children"?mt(K,Jt):j(K,qt,Jt,It)}switch(st){case"input":ze(K,le);break;case"textarea":Le(K,le);break;case"select":var Kt=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!le.multiple;var xs=le.value;xs!=null?ve(K,!!le.multiple,xs,!1):Kt!==!!le.multiple&&(le.defaultValue!=null?ve(K,!!le.multiple,le.defaultValue,!0):ve(K,!!le.multiple,le.multiple?[]:"",!1))}K[Lc]=le}catch(js){ia(c,c.return,js)}}break;case 6:if(nl(u,c),Fl(c),E&4){if(c.stateNode===null)throw Error(r(162));K=c.stateNode,le=c.memoizedProps;try{K.nodeValue=le}catch(js){ia(c,c.return,js)}}break;case 3:if(nl(u,c),Fl(c),E&4&&w!==null&&w.memoizedState.isDehydrated)try{un(u.containerInfo)}catch(js){ia(c,c.return,js)}break;case 4:nl(u,c),Fl(c);break;case 13:nl(u,c),Fl(c),K=c.child,K.flags&8192&&(le=K.memoizedState!==null,K.stateNode.isHidden=le,!le||K.alternate!==null&&K.alternate.memoizedState!==null||(mg=We())),E&4&&Yw(c);break;case 22:if(qt=w!==null&&w.memoizedState!==null,c.mode&1?(yn=(It=yn)||qt,nl(u,c),yn=It):nl(u,c),Fl(c),E&8192){if(It=c.memoizedState!==null,(c.stateNode.isHidden=It)&&!qt&&(c.mode&1)!==0)for(ps=c,qt=c.child;qt!==null;){for(Jt=ps=qt;ps!==null;){switch(Kt=ps,xs=Kt.child,Kt.tag){case 0:case 11:case 14:case 15:ju(4,Kt,Kt.return);break;case 1:s0(Kt,Kt.return);var ys=Kt.stateNode;if(typeof ys.componentWillUnmount=="function"){E=Kt,w=Kt.return;try{u=E,ys.props=u.memoizedProps,ys.state=u.memoizedState,ys.componentWillUnmount()}catch(js){ia(E,w,js)}}break;case 5:s0(Kt,Kt.return);break;case 22:if(Kt.memoizedState!==null){Jw(Jt);continue}}xs!==null?(xs.return=Kt,ps=xs):Jw(Jt)}qt=qt.sibling}e:for(qt=null,Jt=c;;){if(Jt.tag===5){if(qt===null){qt=Jt;try{K=Jt.stateNode,It?(le=K.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none"):(st=Jt.stateNode,ht=Jt.memoizedProps.style,Be=ht!=null&&ht.hasOwnProperty("display")?ht.display:null,st.style.display=Re("display",Be))}catch(js){ia(c,c.return,js)}}}else if(Jt.tag===6){if(qt===null)try{Jt.stateNode.nodeValue=It?"":Jt.memoizedProps}catch(js){ia(c,c.return,js)}}else if((Jt.tag!==22&&Jt.tag!==23||Jt.memoizedState===null||Jt===c)&&Jt.child!==null){Jt.child.return=Jt,Jt=Jt.child;continue}if(Jt===c)break e;for(;Jt.sibling===null;){if(Jt.return===null||Jt.return===c)break e;qt===Jt&&(qt=null),Jt=Jt.return}qt===Jt&&(qt=null),Jt.sibling.return=Jt.return,Jt=Jt.sibling}}break;case 19:nl(u,c),Fl(c),E&4&&Yw(c);break;case 21:break;default:nl(u,c),Fl(c)}}function Fl(c){var u=c.flags;if(u&2){try{e:{for(var w=c.return;w!==null;){if($w(w)){var E=w;break e}w=w.return}throw Error(r(160))}switch(E.tag){case 5:var K=E.stateNode;E.flags&32&&(mt(K,""),E.flags&=-33);var le=zw(c);ug(c,le,K);break;case 3:case 4:var Be=E.stateNode.containerInfo,st=zw(c);dg(c,st,Be);break;default:throw Error(r(161))}}catch(ht){ia(c,c.return,ht)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function jD(c,u,w){ps=c,qw(c)}function qw(c,u,w){for(var E=(c.mode&1)!==0;ps!==null;){var K=ps,le=K.child;if(K.tag===22&&E){var Be=K.memoizedState!==null||yh;if(!Be){var st=K.alternate,ht=st!==null&&st.memoizedState!==null||yn;st=yh;var It=yn;if(yh=Be,(yn=ht)&&!It)for(ps=K;ps!==null;)Be=ps,ht=Be.child,Be.tag===22&&Be.memoizedState!==null?Qw(K):ht!==null?(ht.return=Be,ps=ht):Qw(K);for(;le!==null;)ps=le,qw(le),le=le.sibling;ps=K,yh=st,yn=It}Xw(c)}else(K.subtreeFlags&8772)!==0&&le!==null?(le.return=K,ps=le):Xw(c)}}function Xw(c){for(;ps!==null;){var u=ps;if((u.flags&8772)!==0){var w=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:yn||bh(5,u);break;case 1:var E=u.stateNode;if(u.flags&4&&!yn)if(w===null)E.componentDidMount();else{var K=u.elementType===u.type?w.memoizedProps:rl(u.type,w.memoizedProps);E.componentDidUpdate(K,w.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var le=u.updateQueue;le!==null&&Jv(u,le,E);break;case 3:var Be=u.updateQueue;if(Be!==null){if(w=null,u.child!==null)switch(u.child.tag){case 5:w=u.child.stateNode;break;case 1:w=u.child.stateNode}Jv(u,Be,w)}break;case 5:var st=u.stateNode;if(w===null&&u.flags&4){w=st;var ht=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ht.autoFocus&&w.focus();break;case"img":ht.src&&(w.src=ht.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var It=u.alternate;if(It!==null){var qt=It.memoizedState;if(qt!==null){var Jt=qt.dehydrated;Jt!==null&&un(Jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}yn||u.flags&512&&cg(u)}catch(Kt){ia(u,u.return,Kt)}}if(u===c){ps=null;break}if(w=u.sibling,w!==null){w.return=u.return,ps=w;break}ps=u.return}}function Jw(c){for(;ps!==null;){var u=ps;if(u===c){ps=null;break}var w=u.sibling;if(w!==null){w.return=u.return,ps=w;break}ps=u.return}}function Qw(c){for(;ps!==null;){var u=ps;try{switch(u.tag){case 0:case 11:case 15:var w=u.return;try{bh(4,u)}catch(ht){ia(u,w,ht)}break;case 1:var E=u.stateNode;if(typeof E.componentDidMount=="function"){var K=u.return;try{E.componentDidMount()}catch(ht){ia(u,K,ht)}}var le=u.return;try{cg(u)}catch(ht){ia(u,le,ht)}break;case 5:var Be=u.return;try{cg(u)}catch(ht){ia(u,Be,ht)}}}catch(ht){ia(u,u.return,ht)}if(u===c){ps=null;break}var st=u.sibling;if(st!==null){st.return=u.return,ps=st;break}ps=u.return}}var CD=Math.ceil,vh=S.ReactCurrentDispatcher,xg=S.ReactCurrentOwner,Do=S.ReactCurrentBatchConfig,rr=0,Ra=null,Sa=null,sn=0,uo=0,r0=Dl(0),Aa=0,Cu=null,Uc=0,wh=0,hg=0,Su=null,Yn=null,mg=0,a0=1/0,ui=null,Nh=!1,pg=null,zi=null,jh=!1,Vi=null,Ch=0,ku=0,fg=null,Sh=-1,kh=0;function Mn(){return(rr&6)!==0?We():Sh!==-1?Sh:Sh=We()}function Yi(c){return(c.mode&1)===0?1:(rr&2)!==0&&sn!==0?sn&-sn:lD.transition!==null?(kh===0&&(kh=ha()),kh):(c=Vt,c!==0||(c=window.event,c=c===void 0?16:no(c.type)),c)}function ol(c,u,w,E){if(50<ku)throw ku=0,fg=null,Error(r(185));sr(c,w,E),((rr&2)===0||c!==Ra)&&(c===Ra&&((rr&2)===0&&(wh|=w),Aa===4&&Ki(c,sn)),Kn(c,E),w===1&&rr===0&&(u.mode&1)===0&&(a0=We()+500,Yd&&pn()))}function Kn(c,u){var w=c.callbackNode;hr(c,u);var E=Nr(c,c===Ra?sn:0);if(E===0)w!==null&&ee(w),c.callbackNode=null,c.callbackPriority=0;else if(u=E&-E,c.callbackPriority!==u){if(w!=null&&ee(w),u===1)c.tag===0?Tf(eN.bind(null,c)):sh(eN.bind(null,c)),Df(function(){(rr&6)===0&&pn()}),w=null;else{switch(ws(E)){case 1:w=$t;break;case 4:w=z;break;case 16:w=Pe;break;case 536870912:w=as;break;default:w=Pe}w=iN(w,Zw.bind(null,c))}c.callbackPriority=u,c.callbackNode=w}}function Zw(c,u){if(Sh=-1,kh=0,(rr&6)!==0)throw Error(r(327));var w=c.callbackNode;if(n0()&&c.callbackNode!==w)return null;var E=Nr(c,c===Ra?sn:0);if(E===0)return null;if((E&30)!==0||(E&c.expiredLanes)!==0||u)u=Dh(c,E);else{u=E;var K=rr;rr|=2;var le=sN();(Ra!==c||sn!==u)&&(ui=null,a0=We()+500,Gc(c,u));do try{DD();break}catch(st){tN(c,st)}while(!0);If(),vh.current=le,rr=K,Sa!==null?u=0:(Ra=null,sn=0,u=Aa)}if(u!==0){if(u===2&&(K=Br(c),K!==0&&(E=K,u=gg(c,K))),u===1)throw w=Cu,Gc(c,0),Ki(c,E),Kn(c,We()),w;if(u===6)Ki(c,E);else{if(K=c.current.alternate,(E&30)===0&&!SD(K)&&(u=Dh(c,E),u===2&&(le=Br(c),le!==0&&(E=le,u=gg(c,le))),u===1))throw w=Cu,Gc(c,0),Ki(c,E),Kn(c,We()),w;switch(c.finishedWork=K,c.finishedLanes=E,u){case 0:case 1:throw Error(r(345));case 2:$c(c,Yn,ui);break;case 3:if(Ki(c,E),(E&130023424)===E&&(u=mg+500-We(),10<u)){if(Nr(c,0)!==0)break;if(K=c.suspendedLanes,(K&E)!==E){Mn(),c.pingedLanes|=c.suspendedLanes&K;break}c.timeoutHandle=cu($c.bind(null,c,Yn,ui),u);break}$c(c,Yn,ui);break;case 4:if(Ki(c,E),(E&4194240)===E)break;for(u=c.eventTimes,K=-1;0<E;){var Be=31-kt(E);le=1<<Be,Be=u[Be],Be>K&&(K=Be),E&=~le}if(E=K,E=We()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*CD(E/1960))-E,10<E){c.timeoutHandle=cu($c.bind(null,c,Yn,ui),E);break}$c(c,Yn,ui);break;case 5:$c(c,Yn,ui);break;default:throw Error(r(329))}}}return Kn(c,We()),c.callbackNode===w?Zw.bind(null,c):null}function gg(c,u){var w=Su;return c.current.memoizedState.isDehydrated&&(Gc(c,u).flags|=256),c=Dh(c,u),c!==2&&(u=Yn,Yn=w,u!==null&&yg(u)),c}function yg(c){Yn===null?Yn=c:Yn.push.apply(Yn,c)}function SD(c){for(var u=c;;){if(u.flags&16384){var w=u.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var E=0;E<w.length;E++){var K=w[E],le=K.getSnapshot;K=K.value;try{if(!io(le(),K))return!1}catch{return!1}}}if(w=u.child,u.subtreeFlags&16384&&w!==null)w.return=u,u=w;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ki(c,u){for(u&=~hg,u&=~wh,c.suspendedLanes|=u,c.pingedLanes&=~u,c=c.expirationTimes;0<u;){var w=31-kt(u),E=1<<w;c[w]=-1,u&=~E}}function eN(c){if((rr&6)!==0)throw Error(r(327));n0();var u=Nr(c,0);if((u&1)===0)return Kn(c,We()),null;var w=Dh(c,u);if(c.tag!==0&&w===2){var E=Br(c);E!==0&&(u=E,w=gg(c,E))}if(w===1)throw w=Cu,Gc(c,0),Ki(c,u),Kn(c,We()),w;if(w===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=u,$c(c,Yn,ui),Kn(c,We()),null}function bg(c,u){var w=rr;rr|=1;try{return c(u)}finally{rr=w,rr===0&&(a0=We()+500,Yd&&pn())}}function Wc(c){Vi!==null&&Vi.tag===0&&(rr&6)===0&&n0();var u=rr;rr|=1;var w=Do.transition,E=Vt;try{if(Do.transition=null,Vt=1,c)return c()}finally{Vt=E,Do.transition=w,rr=u,(rr&6)===0&&pn()}}function vg(){uo=r0.current,_r(r0)}function Gc(c,u){c.finishedWork=null,c.finishedLanes=0;var w=c.timeoutHandle;if(w!==-1&&(c.timeoutHandle=-1,kf(w)),Sa!==null)for(w=Sa.return;w!==null;){var E=w;switch(rs(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&zd();break;case 3:e0(),_r(Gr),_r(la),Wf();break;case 5:Hf(E);break;case 4:e0();break;case 13:_r(ta);break;case 19:_r(ta);break;case 10:Lf(E.type._context);break;case 22:case 23:vg()}w=w.return}if(Ra=c,Sa=c=qi(c.current,null),sn=uo=u,Aa=0,Cu=null,hg=wh=Uc=0,Yn=Su=null,Bc!==null){for(u=0;u<Bc.length;u++)if(w=Bc[u],E=w.interleaved,E!==null){w.interleaved=null;var K=E.next,le=w.pending;if(le!==null){var Be=le.next;le.next=K,E.next=Be}w.pending=E}Bc=null}return c}function tN(c,u){do{var w=Sa;try{if(If(),dh.current=mh,uh){for(var E=sa.memoizedState;E!==null;){var K=E.queue;K!==null&&(K.pending=null),E=E.next}uh=!1}if(Hc=0,Ba=Ta=sa=null,yu=!1,bu=0,xg.current=null,w===null||w.return===null){Aa=1,Cu=u,Sa=null;break}e:{var le=c,Be=w.return,st=w,ht=u;if(u=sn,st.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var It=ht,qt=st,Jt=qt.tag;if((qt.mode&1)===0&&(Jt===0||Jt===11||Jt===15)){var Kt=qt.alternate;Kt?(qt.updateQueue=Kt.updateQueue,qt.memoizedState=Kt.memoizedState,qt.lanes=Kt.lanes):(qt.updateQueue=null,qt.memoizedState=null)}var xs=kw(Be);if(xs!==null){xs.flags&=-257,Dw(xs,Be,st,le,u),xs.mode&1&&Sw(le,It,u),u=xs,ht=It;var ys=u.updateQueue;if(ys===null){var js=new Set;js.add(ht),u.updateQueue=js}else ys.add(ht);break e}else{if((u&1)===0){Sw(le,It,u),wg();break e}ht=Error(r(426))}}else if(ea&&st.mode&1){var pa=kw(Be);if(pa!==null){(pa.flags&65536)===0&&(pa.flags|=256),Dw(pa,Be,st,le,u),Pf(t0(ht,st));break e}}le=ht=t0(ht,st),Aa!==4&&(Aa=2),Su===null?Su=[le]:Su.push(le),le=Be;do{switch(le.tag){case 3:le.flags|=65536,u&=-u,le.lanes|=u;var Et=jw(le,ht,u);Xv(le,Et);break e;case 1:st=ht;var wt=le.type,Pt=le.stateNode;if((le.flags&128)===0&&(typeof wt.getDerivedStateFromError=="function"||Pt!==null&&typeof Pt.componentDidCatch=="function"&&(zi===null||!zi.has(Pt)))){le.flags|=65536,u&=-u,le.lanes|=u;var es=Cw(le,st,u);Xv(le,es);break e}}le=le.return}while(le!==null)}aN(w)}catch(Cs){u=Cs,Sa===w&&w!==null&&(Sa=w=w.return);continue}break}while(!0)}function sN(){var c=vh.current;return vh.current=mh,c===null?mh:c}function wg(){(Aa===0||Aa===3||Aa===2)&&(Aa=4),Ra===null||(Uc&268435455)===0&&(wh&268435455)===0||Ki(Ra,sn)}function Dh(c,u){var w=rr;rr|=2;var E=sN();(Ra!==c||sn!==u)&&(ui=null,Gc(c,u));do try{kD();break}catch(K){tN(c,K)}while(!0);if(If(),rr=w,vh.current=E,Sa!==null)throw Error(r(261));return Ra=null,sn=0,Aa}function kD(){for(;Sa!==null;)rN(Sa)}function DD(){for(;Sa!==null&&!de();)rN(Sa)}function rN(c){var u=lN(c.alternate,c,uo);c.memoizedProps=c.pendingProps,u===null?aN(c):Sa=u,xg.current=null}function aN(c){var u=c;do{var w=u.alternate;if(c=u.return,(u.flags&32768)===0){if(w=bD(w,u,uo),w!==null){Sa=w;return}}else{if(w=vD(w,u),w!==null){w.flags&=32767,Sa=w;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{Aa=6,Sa=null;return}}if(u=u.sibling,u!==null){Sa=u;return}Sa=u=c}while(u!==null);Aa===0&&(Aa=5)}function $c(c,u,w){var E=Vt,K=Do.transition;try{Do.transition=null,Vt=1,ED(c,u,w,E)}finally{Do.transition=K,Vt=E}return null}function ED(c,u,w,E){do n0();while(Vi!==null);if((rr&6)!==0)throw Error(r(327));w=c.finishedWork;var K=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var le=w.lanes|w.childLanes;if(Ca(c,le),c===Ra&&(Sa=Ra=null,sn=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||jh||(jh=!0,iN(Pe,function(){return n0(),null})),le=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||le){le=Do.transition,Do.transition=null;var Be=Vt;Vt=1;var st=rr;rr|=4,xg.current=null,ND(c,w),Kw(w,c),tu(Oi),Qa=!!_i,Oi=_i=null,c.current=w,jD(w),re(),rr=st,Vt=Be,Do.transition=le}else c.current=w;if(jh&&(jh=!1,Vi=c,Ch=K),le=c.pendingLanes,le===0&&(zi=null),Zt(w.stateNode),Kn(c,We()),u!==null)for(E=c.onRecoverableError,w=0;w<u.length;w++)K=u[w],E(K.value,{componentStack:K.stack,digest:K.digest});if(Nh)throw Nh=!1,c=pg,pg=null,c;return(Ch&1)!==0&&c.tag!==0&&n0(),le=c.pendingLanes,(le&1)!==0?c===fg?ku++:(ku=0,fg=c):ku=0,pn(),null}function n0(){if(Vi!==null){var c=ws(Ch),u=Do.transition,w=Vt;try{if(Do.transition=null,Vt=16>c?16:c,Vi===null)var E=!1;else{if(c=Vi,Vi=null,Ch=0,(rr&6)!==0)throw Error(r(331));var K=rr;for(rr|=4,ps=c.current;ps!==null;){var le=ps,Be=le.child;if((ps.flags&16)!==0){var st=le.deletions;if(st!==null){for(var ht=0;ht<st.length;ht++){var It=st[ht];for(ps=It;ps!==null;){var qt=ps;switch(qt.tag){case 0:case 11:case 15:ju(8,qt,le)}var Jt=qt.child;if(Jt!==null)Jt.return=qt,ps=Jt;else for(;ps!==null;){qt=ps;var Kt=qt.sibling,xs=qt.return;if(Gw(qt),qt===It){ps=null;break}if(Kt!==null){Kt.return=xs,ps=Kt;break}ps=xs}}}var ys=le.alternate;if(ys!==null){var js=ys.child;if(js!==null){ys.child=null;do{var pa=js.sibling;js.sibling=null,js=pa}while(js!==null)}}ps=le}}if((le.subtreeFlags&2064)!==0&&Be!==null)Be.return=le,ps=Be;else e:for(;ps!==null;){if(le=ps,(le.flags&2048)!==0)switch(le.tag){case 0:case 11:case 15:ju(9,le,le.return)}var Et=le.sibling;if(Et!==null){Et.return=le.return,ps=Et;break e}ps=le.return}}var wt=c.current;for(ps=wt;ps!==null;){Be=ps;var Pt=Be.child;if((Be.subtreeFlags&2064)!==0&&Pt!==null)Pt.return=Be,ps=Pt;else e:for(Be=wt;ps!==null;){if(st=ps,(st.flags&2048)!==0)try{switch(st.tag){case 0:case 11:case 15:bh(9,st)}}catch(Cs){ia(st,st.return,Cs)}if(st===Be){ps=null;break e}var es=st.sibling;if(es!==null){es.return=st.return,ps=es;break e}ps=st.return}}if(rr=K,pn(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(us,c)}catch{}E=!0}return E}finally{Vt=w,Do.transition=u}}return!1}function nN(c,u,w){u=t0(w,u),u=jw(c,u,1),c=Gi(c,u,1),u=Mn(),c!==null&&(sr(c,1,u),Kn(c,u))}function ia(c,u,w){if(c.tag===3)nN(c,c,w);else for(;u!==null;){if(u.tag===3){nN(u,c,w);break}else if(u.tag===1){var E=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(zi===null||!zi.has(E))){c=t0(w,c),c=Cw(u,c,1),u=Gi(u,c,1),c=Mn(),u!==null&&(sr(u,1,c),Kn(u,c));break}}u=u.return}}function TD(c,u,w){var E=c.pingCache;E!==null&&E.delete(u),u=Mn(),c.pingedLanes|=c.suspendedLanes&w,Ra===c&&(sn&w)===w&&(Aa===4||Aa===3&&(sn&130023424)===sn&&500>We()-mg?Gc(c,0):hg|=w),Kn(c,u)}function oN(c,u){u===0&&((c.mode&1)===0?u=1:(u=Ht,Ht<<=1,(Ht&130023424)===0&&(Ht=4194304)));var w=Mn();c=ii(c,u),c!==null&&(sr(c,u,w),Kn(c,w))}function AD(c){var u=c.memoizedState,w=0;u!==null&&(w=u.retryLane),oN(c,w)}function FD(c,u){var w=0;switch(c.tag){case 13:var E=c.stateNode,K=c.memoizedState;K!==null&&(w=K.retryLane);break;case 19:E=c.stateNode;break;default:throw Error(r(314))}E!==null&&E.delete(u),oN(c,w)}var lN;lN=function(c,u,w){if(c!==null)if(c.memoizedProps!==u.pendingProps||Gr.current)Vn=!0;else{if((c.lanes&w)===0&&(u.flags&128)===0)return Vn=!1,yD(c,u,w);Vn=(c.flags&131072)!==0}else Vn=!1,ea&&(u.flags&1048576)!==0&&Ze(u,qd,u.index);switch(u.lanes=0,u.tag){case 2:var E=u.type;gh(c,u),c=u.pendingProps;var K=oi(u,la.current);Zd(u,w),K=zf(null,u,E,c,K,w);var le=Vf();return u.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,en(E)?(le=!0,Vd(u)):le=!1,u.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,Bf(u),K.updater=ph,u.stateNode=K,K._reactInternals=u,Qf(u,E,c,w),u=sg(null,u,E,!0,le,w)):(u.tag=0,ea&&le&&St(u),Pn(null,u,K,w),u=u.child),u;case 16:E=u.elementType;e:{switch(gh(c,u),c=u.pendingProps,K=E._init,E=K(E._payload),u.type=E,K=u.tag=MD(E),c=rl(E,c),K){case 0:u=tg(null,u,E,c,w);break e;case 1:u=Mw(null,u,E,c,w);break e;case 11:u=Ew(null,u,E,c,w);break e;case 14:u=Tw(null,u,E,rl(E.type,c),w);break e}throw Error(r(306,E,""))}return u;case 0:return E=u.type,K=u.pendingProps,K=u.elementType===E?K:rl(E,K),tg(c,u,E,K,w);case 1:return E=u.type,K=u.pendingProps,K=u.elementType===E?K:rl(E,K),Mw(c,u,E,K,w);case 3:e:{if(Iw(u),c===null)throw Error(r(387));E=u.pendingProps,le=u.memoizedState,K=le.element,qv(c,u),ih(u,E,null,w);var Be=u.memoizedState;if(E=Be.element,le.isDehydrated)if(le={element:E,isDehydrated:!1,cache:Be.cache,pendingSuspenseBoundaries:Be.pendingSuspenseBoundaries,transitions:Be.transitions},u.updateQueue.baseState=le,u.memoizedState=le,u.flags&256){K=t0(Error(r(423)),u),u=Lw(c,u,E,w,K);break e}else if(E!==K){K=t0(Error(r(424)),u),u=Lw(c,u,E,w,K);break e}else for(co=kl(u.stateNode.containerInfo.firstChild),Fs=u,ea=!0,sl=null,w=Yv(u,null,E,w),u.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Xd(),E===K){u=di(c,u,w);break e}Pn(c,u,E,w)}u=u.child}return u;case 5:return Qv(u),c===null&&Ff(u),E=u.type,K=u.pendingProps,le=c!==null?c.memoizedProps:null,Be=K.children,iu(E,K)?Be=null:le!==null&&iu(E,le)&&(u.flags|=32),Pw(c,u),Pn(c,u,Be,w),u.child;case 6:return c===null&&Ff(u),null;case 13:return _w(c,u,w);case 4:return Rf(u,u.stateNode.containerInfo),E=u.pendingProps,c===null?u.child=Jd(u,null,E,w):Pn(c,u,E,w),u.child;case 11:return E=u.type,K=u.pendingProps,K=u.elementType===E?K:rl(E,K),Ew(c,u,E,K,w);case 7:return Pn(c,u,u.pendingProps,w),u.child;case 8:return Pn(c,u,u.pendingProps.children,w),u.child;case 12:return Pn(c,u,u.pendingProps.children,w),u.child;case 10:e:{if(E=u.type._context,K=u.pendingProps,le=u.memoizedProps,Be=K.value,Fr(nh,E._currentValue),E._currentValue=Be,le!==null)if(io(le.value,Be)){if(le.children===K.children&&!Gr.current){u=di(c,u,w);break e}}else for(le=u.child,le!==null&&(le.return=u);le!==null;){var st=le.dependencies;if(st!==null){Be=le.child;for(var ht=st.firstContext;ht!==null;){if(ht.context===E){if(le.tag===1){ht=ci(-1,w&-w),ht.tag=2;var It=le.updateQueue;if(It!==null){It=It.shared;var qt=It.pending;qt===null?ht.next=ht:(ht.next=qt.next,qt.next=ht),It.pending=ht}}le.lanes|=w,ht=le.alternate,ht!==null&&(ht.lanes|=w),_f(le.return,w,u),st.lanes|=w;break}ht=ht.next}}else if(le.tag===10)Be=le.type===u.type?null:le.child;else if(le.tag===18){if(Be=le.return,Be===null)throw Error(r(341));Be.lanes|=w,st=Be.alternate,st!==null&&(st.lanes|=w),_f(Be,w,u),Be=le.sibling}else Be=le.child;if(Be!==null)Be.return=le;else for(Be=le;Be!==null;){if(Be===u){Be=null;break}if(le=Be.sibling,le!==null){le.return=Be.return,Be=le;break}Be=Be.return}le=Be}Pn(c,u,K.children,w),u=u.child}return u;case 9:return K=u.type,E=u.pendingProps.children,Zd(u,w),K=So(K),E=E(K),u.flags|=1,Pn(c,u,E,w),u.child;case 14:return E=u.type,K=rl(E,u.pendingProps),K=rl(E.type,K),Tw(c,u,E,K,w);case 15:return Aw(c,u,u.type,u.pendingProps,w);case 17:return E=u.type,K=u.pendingProps,K=u.elementType===E?K:rl(E,K),gh(c,u),u.tag=1,en(E)?(c=!0,Vd(u)):c=!1,Zd(u,w),ww(u,E,K),Qf(u,E,K,w),sg(null,u,E,!0,c,w);case 19:return Bw(c,u,w);case 22:return Fw(c,u,w)}throw Error(r(156,u.tag))};function iN(c,u){return Ne(c,u)}function PD(c,u,w,E){this.tag=c,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(c,u,w,E){return new PD(c,u,w,E)}function Ng(c){return c=c.prototype,!(!c||!c.isReactComponent)}function MD(c){if(typeof c=="function")return Ng(c)?1:0;if(c!=null){if(c=c.$$typeof,c===B)return 11;if(c===fe)return 14}return 2}function qi(c,u){var w=c.alternate;return w===null?(w=Eo(c.tag,u,c.key,c.mode),w.elementType=c.elementType,w.type=c.type,w.stateNode=c.stateNode,w.alternate=c,c.alternate=w):(w.pendingProps=u,w.type=c.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=c.flags&14680064,w.childLanes=c.childLanes,w.lanes=c.lanes,w.child=c.child,w.memoizedProps=c.memoizedProps,w.memoizedState=c.memoizedState,w.updateQueue=c.updateQueue,u=c.dependencies,w.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},w.sibling=c.sibling,w.index=c.index,w.ref=c.ref,w}function Eh(c,u,w,E,K,le){var Be=2;if(E=c,typeof c=="function")Ng(c)&&(Be=1);else if(typeof c=="string")Be=5;else e:switch(c){case T:return zc(w.children,K,le,u);case A:Be=8,K|=8;break;case M:return c=Eo(12,w,u,K|2),c.elementType=M,c.lanes=le,c;case te:return c=Eo(13,w,u,K),c.elementType=te,c.lanes=le,c;case oe:return c=Eo(19,w,u,K),c.elementType=oe,c.lanes=le,c;case V:return Th(w,K,le,u);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case L:Be=10;break e;case q:Be=9;break e;case B:Be=11;break e;case fe:Be=14;break e;case R:Be=16,E=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return u=Eo(Be,w,u,K),u.elementType=c,u.type=E,u.lanes=le,u}function zc(c,u,w,E){return c=Eo(7,c,E,u),c.lanes=w,c}function Th(c,u,w,E){return c=Eo(22,c,E,u),c.elementType=V,c.lanes=w,c.stateNode={isHidden:!1},c}function jg(c,u,w){return c=Eo(6,c,null,u),c.lanes=w,c}function Cg(c,u,w){return u=Eo(4,c.children!==null?c.children:[],c.key,u),u.lanes=w,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function ID(c,u,w,E,K){this.tag=u,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tr(0),this.expirationTimes=tr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tr(0),this.identifierPrefix=E,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function Sg(c,u,w,E,K,le,Be,st,ht){return c=new ID(c,u,w,st,ht),u===1?(u=1,le===!0&&(u|=8)):u=0,le=Eo(3,null,null,u),c.current=le,le.stateNode=c,le.memoizedState={element:E,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bf(le),c}function LD(c,u,w){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:E==null?null:""+E,children:c,containerInfo:u,implementation:w}}function cN(c){if(!c)return El;c=c._reactInternals;e:{if(_(c)!==c||c.tag!==1)throw Error(r(170));var u=c;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(en(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(c.tag===1){var w=c.type;if(en(w))return eh(c,w,u)}return u}function dN(c,u,w,E,K,le,Be,st,ht){return c=Sg(w,E,!0,c,K,le,Be,st,ht),c.context=cN(null),w=c.current,E=Mn(),K=Yi(w),le=ci(E,K),le.callback=u??null,Gi(w,le,K),c.current.lanes=K,sr(c,K,E),Kn(c,E),c}function Ah(c,u,w,E){var K=u.current,le=Mn(),Be=Yi(K);return w=cN(w),u.context===null?u.context=w:u.pendingContext=w,u=ci(le,Be),u.payload={element:c},E=E===void 0?null:E,E!==null&&(u.callback=E),c=Gi(K,u,Be),c!==null&&(ol(c,K,Be,le),lh(c,K,Be)),Be}function Fh(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function uN(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var w=c.retryLane;c.retryLane=w!==0&&w<u?w:u}}function kg(c,u){uN(c,u),(c=c.alternate)&&uN(c,u)}function _D(){return null}var xN=typeof reportError=="function"?reportError:function(c){console.error(c)};function Dg(c){this._internalRoot=c}Ph.prototype.render=Dg.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(r(409));Ah(c,u,null,null)},Ph.prototype.unmount=Dg.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;Wc(function(){Ah(null,c,null,null)}),u[Jo]=null}};function Ph(c){this._internalRoot=c}Ph.prototype.unstable_scheduleHydration=function(c){if(c){var u=lr();c={blockedOn:null,target:c,priority:u};for(var w=0;w<Qs.length&&u!==0&&u<Qs[w].priority;w++);Qs.splice(w,0,c),w===0&&pr(c)}};function Eg(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Mh(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function hN(){}function OD(c,u,w,E,K){if(K){if(typeof E=="function"){var le=E;E=function(){var It=Fh(Be);le.call(It)}}var Be=dN(u,E,c,0,null,!1,!1,"",hN);return c._reactRootContainer=Be,c[Jo]=Be.current,Pc(c.nodeType===8?c.parentNode:c),Wc(),Be}for(;K=c.lastChild;)c.removeChild(K);if(typeof E=="function"){var st=E;E=function(){var It=Fh(ht);st.call(It)}}var ht=Sg(c,0,!1,null,null,!1,!1,"",hN);return c._reactRootContainer=ht,c[Jo]=ht.current,Pc(c.nodeType===8?c.parentNode:c),Wc(function(){Ah(u,ht,w,E)}),ht}function Ih(c,u,w,E,K){var le=w._reactRootContainer;if(le){var Be=le;if(typeof K=="function"){var st=K;K=function(){var ht=Fh(Be);st.call(ht)}}Ah(u,Be,c,K)}else Be=OD(w,u,c,K,E);return Fh(Be)}Ys=function(c){switch(c.tag){case 3:var u=c.stateNode;if(u.current.memoizedState.isDehydrated){var w=ms(u.pendingLanes);w!==0&&(ct(u,w|1),Kn(u,We()),(rr&6)===0&&(a0=We()+500,pn()))}break;case 13:Wc(function(){var E=ii(c,1);if(E!==null){var K=Mn();ol(E,c,1,K)}}),kg(c,1)}},Ks=function(c){if(c.tag===13){var u=ii(c,134217728);if(u!==null){var w=Mn();ol(u,c,134217728,w)}kg(c,134217728)}},qs=function(c){if(c.tag===13){var u=Yi(c),w=ii(c,u);if(w!==null){var E=Mn();ol(w,c,u,E)}kg(c,u)}},lr=function(){return Vt},Xr=function(c,u){var w=Vt;try{return Vt=c,u()}finally{Vt=w}},Qe=function(c,u,w){switch(u){case"input":if(ze(c,w),u=w.name,w.type==="radio"&&u!=null){for(w=c;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<w.length;u++){var E=w[u];if(E!==c&&E.form===c.form){var K=$d(E);if(!K)throw Error(r(90));xe(E),ze(E,K)}}}break;case"textarea":Le(c,w);break;case"select":u=w.value,u!=null&&ve(c,!!w.multiple,u,!1)}},$e=bg,Ke=Wc;var BD={usingClientEntryPoint:!1,Events:[Oc,Ri,$d,Ct,Nt,bg]},Du={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RD={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=ke(c),c===null?null:c.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||_D,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{us=Lh.inject(RD),tt=Lh}catch{}}return qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BD,qn.createPortal=function(c,u){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eg(u))throw Error(r(200));return LD(c,u,null,w)},qn.createRoot=function(c,u){if(!Eg(c))throw Error(r(299));var w=!1,E="",K=xN;return u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(K=u.onRecoverableError)),u=Sg(c,1,!1,null,null,w,!1,E,K),c[Jo]=u.current,Pc(c.nodeType===8?c.parentNode:c),new Dg(u)},qn.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=ke(u),c=c===null?null:c.stateNode,c},qn.flushSync=function(c){return Wc(c)},qn.hydrate=function(c,u,w){if(!Mh(u))throw Error(r(200));return Ih(null,c,u,!0,w)},qn.hydrateRoot=function(c,u,w){if(!Eg(c))throw Error(r(405));var E=w!=null&&w.hydratedSources||null,K=!1,le="",Be=xN;if(w!=null&&(w.unstable_strictMode===!0&&(K=!0),w.identifierPrefix!==void 0&&(le=w.identifierPrefix),w.onRecoverableError!==void 0&&(Be=w.onRecoverableError)),u=dN(u,null,c,1,w??null,K,!1,le,Be),c[Jo]=u.current,Pc(c),E)for(c=0;c<E.length;c++)w=E[c],K=w._getVersion,K=K(w._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[w,K]:u.mutableSourceEagerHydrationData.push(w,K);return new Ph(u)},qn.render=function(c,u,w){if(!Mh(u))throw Error(r(200));return Ih(null,c,u,!1,w)},qn.unmountComponentAtNode=function(c){if(!Mh(c))throw Error(r(40));return c._reactRootContainer?(Wc(function(){Ih(null,null,c,!1,function(){c._reactRootContainer=null,c[Jo]=null})}),!0):!1},qn.unstable_batchedUpdates=bg,qn.unstable_renderSubtreeIntoContainer=function(c,u,w,E){if(!Mh(w))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return Ih(c,u,w,!1,E)},qn.version="18.3.1-next-f1338f8080-20240426",qn}var wN;function V2(){if(wN)return Pg.exports;wN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Pg.exports=KD(),Pg.exports}var NN;function qD(){if(NN)return _h;NN=1;var t=V2();return _h.createRoot=t.createRoot,_h.hydrateRoot=t.hydrateRoot,_h}var XD=qD(),o=sb();const Y2=tb(o),K2=UD({__proto__:null,default:Y2},[o]);function q2(t,s){return function(){return t.apply(s,arguments)}}const{toString:JD}=Object.prototype,{getPrototypeOf:rb}=Object,{iterator:Hp,toStringTag:X2}=Symbol,Up=(t=>s=>{const r=JD.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gl=t=>(t=t.toLowerCase(),s=>Up(s)===t),Wp=t=>s=>typeof s===t,{isArray:_0}=Array,C0=Wp("undefined");function dx(t){return t!==null&&!C0(t)&&t.constructor!==null&&!C0(t.constructor)&&Qn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const J2=gl("ArrayBuffer");function QD(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&J2(t.buffer),s}const ZD=Wp("string"),Qn=Wp("function"),Q2=Wp("number"),ux=t=>t!==null&&typeof t=="object",e6=t=>t===!0||t===!1,ym=t=>{if(Up(t)!=="object")return!1;const s=rb(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(X2 in t)&&!(Hp in t)},t6=t=>{if(!ux(t)||dx(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},s6=gl("Date"),r6=gl("File"),a6=gl("Blob"),n6=gl("FileList"),o6=t=>ux(t)&&Qn(t.pipe),l6=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Qn(t.append)&&((s=Up(t))==="formdata"||s==="object"&&Qn(t.toString)&&t.toString()==="[object FormData]"))},i6=gl("URLSearchParams"),[c6,d6,u6,x6]=["ReadableStream","Request","Response","Headers"].map(gl),h6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xx(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),_0(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(dx(t))return;const l=r?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let d;for(a=0;a<i;a++)d=l[a],s.call(null,t[d],d,t)}}function Z2(t,s){if(dx(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,e4=t=>!C0(t)&&t!==Zc;function Sy(){const{caseless:t,skipUndefined:s}=e4(this)&&this||{},r={},a=(n,l)=>{if(l==="__proto__"||l==="constructor"||l==="prototype")return;const i=t&&Z2(r,l)||l;ym(r[i])&&ym(n)?r[i]=Sy(r[i],n):ym(n)?r[i]=Sy({},n):_0(n)?r[i]=n.slice():(!s||!C0(n))&&(r[i]=n)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&xx(arguments[n],a);return r}const m6=(t,s,r,{allOwnKeys:a}={})=>(xx(s,(n,l)=>{r&&Qn(n)?Object.defineProperty(t,l,{value:q2(n,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,l,{value:n,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:a}),t),p6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),f6=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},g6=(t,s,r,a)=>{let n,l,i;const d={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),l=n.length;l-- >0;)i=n[l],(!a||a(i,t,s))&&!d[i]&&(s[i]=t[i],d[i]=!0);t=r!==!1&&rb(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},y6=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},b6=t=>{if(!t)return null;if(_0(t))return t;let s=t.length;if(!Q2(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},v6=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&rb(Uint8Array)),w6=(t,s)=>{const a=(t&&t[Hp]).call(t);let n;for(;(n=a.next())&&!n.done;){const l=n.value;s.call(t,l[0],l[1])}},N6=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},j6=gl("HTMLFormElement"),C6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),jN=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),S6=gl("RegExp"),t4=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};xx(r,(n,l)=>{let i;(i=s(n,l,t))!==!1&&(a[l]=i||n)}),Object.defineProperties(t,a)},k6=t=>{t4(t,(s,r)=>{if(Qn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Qn(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},D6=(t,s)=>{const r={},a=n=>{n.forEach(l=>{r[l]=!0})};return _0(t)?a(t):a(String(t).split(s)),r},E6=()=>{},T6=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function A6(t){return!!(t&&Qn(t.append)&&t[X2]==="FormData"&&t[Hp])}const F6=t=>{const s=new Array(10),r=(a,n)=>{if(ux(a)){if(s.indexOf(a)>=0)return;if(dx(a))return a;if(!("toJSON"in a)){s[n]=a;const l=_0(a)?[]:{};return xx(a,(i,d)=>{const x=r(i,n+1);!C0(x)&&(l[d]=x)}),s[n]=void 0,l}}return a};return r(t,0)},P6=gl("AsyncFunction"),M6=t=>t&&(ux(t)||Qn(t))&&Qn(t.then)&&Qn(t.catch),s4=((t,s)=>t?setImmediate:s?((r,a)=>(Zc.addEventListener("message",({source:n,data:l})=>{n===Zc&&l===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Zc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qn(Zc.postMessage)),I6=typeof queueMicrotask<"u"?queueMicrotask.bind(Zc):typeof process<"u"&&process.nextTick||s4,L6=t=>t!=null&&Qn(t[Hp]),Ot={isArray:_0,isArrayBuffer:J2,isBuffer:dx,isFormData:l6,isArrayBufferView:QD,isString:ZD,isNumber:Q2,isBoolean:e6,isObject:ux,isPlainObject:ym,isEmptyObject:t6,isReadableStream:c6,isRequest:d6,isResponse:u6,isHeaders:x6,isUndefined:C0,isDate:s6,isFile:r6,isBlob:a6,isRegExp:S6,isFunction:Qn,isStream:o6,isURLSearchParams:i6,isTypedArray:v6,isFileList:n6,forEach:xx,merge:Sy,extend:m6,trim:h6,stripBOM:p6,inherits:f6,toFlatObject:g6,kindOf:Up,kindOfTest:gl,endsWith:y6,toArray:b6,forEachEntry:w6,matchAll:N6,isHTMLForm:j6,hasOwnProperty:jN,hasOwnProp:jN,reduceDescriptors:t4,freezeMethods:k6,toObjectSet:D6,toCamelCase:C6,noop:E6,toFiniteNumber:T6,findKey:Z2,global:Zc,isContextDefined:e4,isSpecCompliantForm:A6,toJSONObject:F6,isAsyncFn:P6,isThenable:M6,setImmediate:s4,asap:I6,isIterable:L6};let Ls=class r4 extends Error{static from(s,r,a,n,l,i){const d=new r4(s.message,r||s.code,a,n,l);return d.cause=s,d.name=s.name,i&&Object.assign(d,i),d}constructor(s,r,a,n,l){super(s),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),a&&(this.config=a),n&&(this.request=n),l&&(this.response=l,this.status=l.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ot.toJSONObject(this.config),code:this.code,status:this.status}}};Ls.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ls.ERR_BAD_OPTION="ERR_BAD_OPTION";Ls.ECONNABORTED="ECONNABORTED";Ls.ETIMEDOUT="ETIMEDOUT";Ls.ERR_NETWORK="ERR_NETWORK";Ls.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ls.ERR_DEPRECATED="ERR_DEPRECATED";Ls.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ls.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ls.ERR_CANCELED="ERR_CANCELED";Ls.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ls.ERR_INVALID_URL="ERR_INVALID_URL";const _6=null;function ky(t){return Ot.isPlainObject(t)||Ot.isArray(t)}function a4(t){return Ot.endsWith(t,"[]")?t.slice(0,-2):t}function CN(t,s,r){return t?t.concat(s).map(function(n,l){return n=a4(n),!r&&l?"["+n+"]":n}).join(r?".":""):s}function O6(t){return Ot.isArray(t)&&!t.some(ky)}const B6=Ot.toFlatObject(Ot,{},null,function(s){return/^is[A-Z]/.test(s)});function Gp(t,s,r){if(!Ot.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=Ot.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!Ot.isUndefined(g[v])});const a=r.metaTokens,n=r.visitor||m,l=r.dots,i=r.indexes,x=(r.Blob||typeof Blob<"u"&&Blob)&&Ot.isSpecCompliantForm(s);if(!Ot.isFunction(n))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(Ot.isDate(p))return p.toISOString();if(Ot.isBoolean(p))return p.toString();if(!x&&Ot.isBlob(p))throw new Ls("Blob is not supported. Use a Buffer instead.");return Ot.isArrayBuffer(p)||Ot.isTypedArray(p)?x&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function m(p,v,g){let y=p;if(p&&!g&&typeof p=="object"){if(Ot.endsWith(v,"{}"))v=a?v:v.slice(0,-2),p=JSON.stringify(p);else if(Ot.isArray(p)&&O6(p)||(Ot.isFileList(p)||Ot.endsWith(v,"[]"))&&(y=Ot.toArray(p)))return v=a4(v),y.forEach(function(j,S){!(Ot.isUndefined(j)||j===null)&&s.append(i===!0?CN([v],S,l):i===null?v:v+"[]",h(j))}),!1}return ky(p)?!0:(s.append(CN(g,v,l),h(p)),!1)}const b=[],f=Object.assign(B6,{defaultVisitor:m,convertValue:h,isVisitable:ky});function N(p,v){if(!Ot.isUndefined(p)){if(b.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));b.push(p),Ot.forEach(p,function(y,C){(!(Ot.isUndefined(y)||y===null)&&n.call(s,y,Ot.isString(C)?C.trim():C,v,f))===!0&&N(y,v?v.concat(C):[C])}),b.pop()}}if(!Ot.isObject(t))throw new TypeError("data must be an object");return N(t),s}function SN(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function ab(t,s){this._pairs=[],t&&Gp(t,this,s)}const n4=ab.prototype;n4.append=function(s,r){this._pairs.push([s,r])};n4.toString=function(s){const r=s?function(a){return s.call(this,a,SN)}:SN;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function R6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function o4(t,s,r){if(!s)return t;const a=r&&r.encode||R6,n=Ot.isFunction(r)?{serialize:r}:r,l=n&&n.serialize;let i;if(l?i=l(s,n):i=Ot.isURLSearchParams(s)?s.toString():new ab(s,n).toString(a),i){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class kN{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Ot.forEach(this.handlers,function(a){a!==null&&s(a)})}}const nb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},H6=typeof URLSearchParams<"u"?URLSearchParams:ab,U6=typeof FormData<"u"?FormData:null,W6=typeof Blob<"u"?Blob:null,G6={isBrowser:!0,classes:{URLSearchParams:H6,FormData:U6,Blob:W6},protocols:["http","https","file","blob","url","data"]},ob=typeof window<"u"&&typeof document<"u",Dy=typeof navigator=="object"&&navigator||void 0,$6=ob&&(!Dy||["ReactNative","NativeScript","NS"].indexOf(Dy.product)<0),z6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V6=ob&&window.location.href||"http://localhost",Y6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ob,hasStandardBrowserEnv:$6,hasStandardBrowserWebWorkerEnv:z6,navigator:Dy,origin:V6},Symbol.toStringTag,{value:"Module"})),jn={...Y6,...G6};function K6(t,s){return Gp(t,new jn.classes.URLSearchParams,{visitor:function(r,a,n,l){return jn.isNode&&Ot.isBuffer(r)?(this.append(a,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function q6(t){return Ot.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function X6(t){const s={},r=Object.keys(t);let a;const n=r.length;let l;for(a=0;a<n;a++)l=r[a],s[l]=t[l];return s}function l4(t){function s(r,a,n,l){let i=r[l++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),x=l>=r.length;return i=!i&&Ot.isArray(n)?n.length:i,x?(Ot.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!d):((!n[i]||!Ot.isObject(n[i]))&&(n[i]=[]),s(r,a,n[i],l)&&Ot.isArray(n[i])&&(n[i]=X6(n[i])),!d)}if(Ot.isFormData(t)&&Ot.isFunction(t.entries)){const r={};return Ot.forEachEntry(t,(a,n)=>{s(q6(a),n,r,0)}),r}return null}function J6(t,s,r){if(Ot.isString(t))try{return(s||JSON.parse)(t),Ot.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const hx={transitional:nb,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,l=Ot.isObject(s);if(l&&Ot.isHTMLForm(s)&&(s=new FormData(s)),Ot.isFormData(s))return n?JSON.stringify(l4(s)):s;if(Ot.isArrayBuffer(s)||Ot.isBuffer(s)||Ot.isStream(s)||Ot.isFile(s)||Ot.isBlob(s)||Ot.isReadableStream(s))return s;if(Ot.isArrayBufferView(s))return s.buffer;if(Ot.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return K6(s,this.formSerializer).toString();if((d=Ot.isFileList(s))||a.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Gp(d?{"files[]":s}:s,x&&new x,this.formSerializer)}}return l||n?(r.setContentType("application/json",!1),J6(s)):s}],transformResponse:[function(s){const r=this.transitional||hx.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(Ot.isResponse(s)||Ot.isReadableStream(s))return s;if(s&&Ot.isString(s)&&(a&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(d){if(i)throw d.name==="SyntaxError"?Ls.from(d,Ls.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jn.classes.FormData,Blob:jn.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ot.forEach(["delete","get","head","post","put","patch"],t=>{hx.headers[t]={}});const Q6=Ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z6=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!r||s[r]&&Q6[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},DN=Symbol("internals");function Tu(t){return t&&String(t).trim().toLowerCase()}function bm(t){return t===!1||t==null?t:Ot.isArray(t)?t.map(bm):String(t)}function e5(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const t5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lg(t,s,r,a,n){if(Ot.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!Ot.isString(s)){if(Ot.isString(a))return s.indexOf(a)!==-1;if(Ot.isRegExp(a))return a.test(s)}}function s5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function r5(t,s){const r=Ot.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,l,i){return this[a].call(this,s,n,l,i)},configurable:!0})})}let Zn=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function l(d,x,h){const m=Tu(x);if(!m)throw new Error("header name must be a non-empty string");const b=Ot.findKey(n,m);(!b||n[b]===void 0||h===!0||h===void 0&&n[b]!==!1)&&(n[b||x]=bm(d))}const i=(d,x)=>Ot.forEach(d,(h,m)=>l(h,m,x));if(Ot.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(Ot.isString(s)&&(s=s.trim())&&!t5(s))i(Z6(s),r);else if(Ot.isObject(s)&&Ot.isIterable(s)){let d={},x,h;for(const m of s){if(!Ot.isArray(m))throw TypeError("Object iterator must return a key-value pair");d[h=m[0]]=(x=d[h])?Ot.isArray(x)?[...x,m[1]]:[x,m[1]]:m[1]}i(d,r)}else s!=null&&l(r,s,a);return this}get(s,r){if(s=Tu(s),s){const a=Ot.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return e5(n);if(Ot.isFunction(r))return r.call(this,n,a);if(Ot.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=Tu(s),s){const a=Ot.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Lg(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function l(i){if(i=Tu(i),i){const d=Ot.findKey(a,i);d&&(!r||Lg(a,a[d],d,r))&&(delete a[d],n=!0)}}return Ot.isArray(s)?s.forEach(l):l(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const l=r[a];(!s||Lg(this,this[l],l,s,!0))&&(delete this[l],n=!0)}return n}normalize(s){const r=this,a={};return Ot.forEach(this,(n,l)=>{const i=Ot.findKey(a,l);if(i){r[i]=bm(n),delete r[l];return}const d=s?s5(l):String(l).trim();d!==l&&delete r[l],r[d]=bm(n),a[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return Ot.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&Ot.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[DN]=this[DN]={accessors:{}}).accessors,n=this.prototype;function l(i){const d=Tu(i);a[d]||(r5(n,i),a[d]=!0)}return Ot.isArray(s)?s.forEach(l):l(s),this}};Zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ot.reduceDescriptors(Zn.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});Ot.freezeMethods(Zn);function _g(t,s){const r=this||hx,a=s||r,n=Zn.from(a.headers);let l=a.data;return Ot.forEach(t,function(d){l=d.call(r,l,n.normalize(),s?s.status:void 0)}),n.normalize(),l}function i4(t){return!!(t&&t.__CANCEL__)}let mx=class extends Ls{constructor(s,r,a){super(s??"canceled",Ls.ERR_CANCELED,r,a),this.name="CanceledError",this.__CANCEL__=!0}};function c4(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Ls("Request failed with status code "+r.status,[Ls.ERR_BAD_REQUEST,Ls.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function a5(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function n5(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,l=0,i;return s=s!==void 0?s:1e3,function(x){const h=Date.now(),m=a[l];i||(i=h),r[n]=x,a[n]=h;let b=l,f=0;for(;b!==n;)f+=r[b++],b=b%t;if(n=(n+1)%t,n===l&&(l=(l+1)%t),h-i<s)return;const N=m&&h-m;return N?Math.round(f*1e3/N):void 0}}function o5(t,s){let r=0,a=1e3/s,n,l;const i=(h,m=Date.now())=>{r=m,n=null,l&&(clearTimeout(l),l=null),t(...h)};return[(...h)=>{const m=Date.now(),b=m-r;b>=a?i(h,m):(n=h,l||(l=setTimeout(()=>{l=null,i(n)},a-b)))},()=>n&&i(n)]}const lp=(t,s,r=3)=>{let a=0;const n=n5(50,250);return o5(l=>{const i=l.loaded,d=l.lengthComputable?l.total:void 0,x=i-a,h=n(x),m=i<=d;a=i;const b={loaded:i,total:d,progress:d?i/d:void 0,bytes:x,rate:h||void 0,estimated:h&&d&&m?(d-i)/h:void 0,event:l,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(b)},r)},EN=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},TN=t=>(...s)=>Ot.asap(()=>t(...s)),l5=jn.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,jn.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(jn.origin),jn.navigator&&/(msie|trident)/i.test(jn.navigator.userAgent)):()=>!0,i5=jn.hasStandardBrowserEnv?{write(t,s,r,a,n,l,i){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(s)}`];Ot.isNumber(r)&&d.push(`expires=${new Date(r).toUTCString()}`),Ot.isString(a)&&d.push(`path=${a}`),Ot.isString(n)&&d.push(`domain=${n}`),l===!0&&d.push("secure"),Ot.isString(i)&&d.push(`SameSite=${i}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function c5(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function d5(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function d4(t,s,r){let a=!c5(s);return t&&(a||r==!1)?d5(t,s):s}const AN=t=>t instanceof Zn?{...t}:t;function ld(t,s){s=s||{};const r={};function a(h,m,b,f){return Ot.isPlainObject(h)&&Ot.isPlainObject(m)?Ot.merge.call({caseless:f},h,m):Ot.isPlainObject(m)?Ot.merge({},m):Ot.isArray(m)?m.slice():m}function n(h,m,b,f){if(Ot.isUndefined(m)){if(!Ot.isUndefined(h))return a(void 0,h,b,f)}else return a(h,m,b,f)}function l(h,m){if(!Ot.isUndefined(m))return a(void 0,m)}function i(h,m){if(Ot.isUndefined(m)){if(!Ot.isUndefined(h))return a(void 0,h)}else return a(void 0,m)}function d(h,m,b){if(b in s)return a(h,m);if(b in t)return a(void 0,h)}const x={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(h,m,b)=>n(AN(h),AN(m),b,!0)};return Ot.forEach(Object.keys({...t,...s}),function(m){if(m==="__proto__"||m==="constructor"||m==="prototype")return;const b=Ot.hasOwnProp(x,m)?x[m]:n,f=b(t[m],s[m],m);Ot.isUndefined(f)&&b!==d||(r[m]=f)}),r}const u4=t=>{const s=ld({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:d}=s;if(s.headers=i=Zn.from(i),s.url=o4(d4(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Ot.isFormData(r)){if(jn.hasStandardBrowserEnv||jn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ot.isFunction(r.getHeaders)){const x=r.getHeaders(),h=["content-type","content-length"];Object.entries(x).forEach(([m,b])=>{h.includes(m.toLowerCase())&&i.set(m,b)})}}if(jn.hasStandardBrowserEnv&&(a&&Ot.isFunction(a)&&(a=a(s)),a||a!==!1&&l5(s.url))){const x=n&&l&&i5.read(l);x&&i.set(n,x)}return s},u5=typeof XMLHttpRequest<"u",x5=u5&&function(t){return new Promise(function(r,a){const n=u4(t);let l=n.data;const i=Zn.from(n.headers).normalize();let{responseType:d,onUploadProgress:x,onDownloadProgress:h}=n,m,b,f,N,p;function v(){N&&N(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function y(){if(!g)return;const j=Zn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),P={data:!d||d==="text"||d==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:t,request:g};c4(function(T){r(T),v()},function(T){a(T),v()},P),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(a(new Ls("Request aborted",Ls.ECONNABORTED,t,g)),g=null)},g.onerror=function(S){const P=S&&S.message?S.message:"Network Error",D=new Ls(P,Ls.ERR_NETWORK,t,g);D.event=S||null,a(D),g=null},g.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const P=n.transitional||nb;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),a(new Ls(S,P.clarifyTimeoutError?Ls.ETIMEDOUT:Ls.ECONNABORTED,t,g)),g=null},l===void 0&&i.setContentType(null),"setRequestHeader"in g&&Ot.forEach(i.toJSON(),function(S,P){g.setRequestHeader(P,S)}),Ot.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),d&&d!=="json"&&(g.responseType=n.responseType),h&&([f,p]=lp(h,!0),g.addEventListener("progress",f)),x&&g.upload&&([b,N]=lp(x),g.upload.addEventListener("progress",b),g.upload.addEventListener("loadend",N)),(n.cancelToken||n.signal)&&(m=j=>{g&&(a(!j||j.type?new mx(null,t,g):j),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const C=a5(n.url);if(C&&jn.protocols.indexOf(C)===-1){a(new Ls("Unsupported protocol "+C+":",Ls.ERR_BAD_REQUEST,t));return}g.send(l||null)})},h5=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const l=function(h){if(!n){n=!0,d();const m=h instanceof Error?h:this.reason;a.abort(m instanceof Ls?m:new mx(m instanceof Error?m.message:m))}};let i=s&&setTimeout(()=>{i=null,l(new Ls(`timeout of ${s}ms exceeded`,Ls.ETIMEDOUT))},s);const d=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),t=null)};t.forEach(h=>h.addEventListener("abort",l));const{signal:x}=a;return x.unsubscribe=()=>Ot.asap(d),x}},m5=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},p5=async function*(t,s){for await(const r of f5(t))yield*m5(r,s)},f5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},FN=(t,s,r,a)=>{const n=p5(t,s);let l=0,i,d=x=>{i||(i=!0,a&&a(x))};return new ReadableStream({async pull(x){try{const{done:h,value:m}=await n.next();if(h){d(),x.close();return}let b=m.byteLength;if(r){let f=l+=b;r(f)}x.enqueue(new Uint8Array(m))}catch(h){throw d(h),h}},cancel(x){return d(x),n.return()}},{highWaterMark:2})},PN=64*1024,{isFunction:Oh}=Ot,g5=(({Request:t,Response:s})=>({Request:t,Response:s}))(Ot.global),{ReadableStream:MN,TextEncoder:IN}=Ot.global,LN=(t,...s)=>{try{return!!t(...s)}catch{return!1}},y5=t=>{t=Ot.merge.call({skipUndefined:!0},g5,t);const{fetch:s,Request:r,Response:a}=t,n=s?Oh(s):typeof fetch=="function",l=Oh(r),i=Oh(a);if(!n)return!1;const d=n&&Oh(MN),x=n&&(typeof IN=="function"?(p=>v=>p.encode(v))(new IN):async p=>new Uint8Array(await new r(p).arrayBuffer())),h=l&&d&&LN(()=>{let p=!1;const v=new r(jn.origin,{body:new MN,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),m=i&&d&&LN(()=>Ot.isReadableStream(new a("").body)),b={stream:m&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!b[p]&&(b[p]=(v,g)=>{let y=v&&v[p];if(y)return y.call(v);throw new Ls(`Response type '${p}' is not supported`,Ls.ERR_NOT_SUPPORT,g)})});const f=async p=>{if(p==null)return 0;if(Ot.isBlob(p))return p.size;if(Ot.isSpecCompliantForm(p))return(await new r(jn.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Ot.isArrayBufferView(p)||Ot.isArrayBuffer(p))return p.byteLength;if(Ot.isURLSearchParams(p)&&(p=p+""),Ot.isString(p))return(await x(p)).byteLength},N=async(p,v)=>{const g=Ot.toFiniteNumber(p.getContentLength());return g??f(v)};return async p=>{let{url:v,method:g,data:y,signal:C,cancelToken:j,timeout:S,onDownloadProgress:P,onUploadProgress:D,responseType:T,headers:A,withCredentials:M="same-origin",fetchOptions:L}=u4(p),q=s||fetch;T=T?(T+"").toLowerCase():"text";let B=h5([C,j&&j.toAbortSignal()],S),te=null;const oe=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let fe;try{if(D&&h&&g!=="get"&&g!=="head"&&(fe=await N(A,y))!==0){let H=new r(v,{method:"POST",body:y,duplex:"half"}),F;if(Ot.isFormData(y)&&(F=H.headers.get("content-type"))&&A.setContentType(F),H.body){const[I,U]=EN(fe,lp(TN(D)));y=FN(H.body,PN,I,U)}}Ot.isString(M)||(M=M?"include":"omit");const R=l&&"credentials"in r.prototype,V={...L,signal:B,method:g.toUpperCase(),headers:A.normalize().toJSON(),body:y,duplex:"half",credentials:R?M:void 0};te=l&&new r(v,V);let W=await(l?q(te,L):q(v,V));const ne=m&&(T==="stream"||T==="response");if(m&&(P||ne&&oe)){const H={};["status","statusText","headers"].forEach(k=>{H[k]=W[k]});const F=Ot.toFiniteNumber(W.headers.get("content-length")),[I,U]=P&&EN(F,lp(TN(P),!0))||[];W=new a(FN(W.body,PN,I,()=>{U&&U(),oe&&oe()}),H)}T=T||"text";let J=await b[Ot.findKey(b,T)||"text"](W,p);return!ne&&oe&&oe(),await new Promise((H,F)=>{c4(H,F,{data:J,headers:Zn.from(W.headers),status:W.status,statusText:W.statusText,config:p,request:te})})}catch(R){throw oe&&oe(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Ls("Network Error",Ls.ERR_NETWORK,p,te,R&&R.response),{cause:R.cause||R}):Ls.from(R,R&&R.code,p,te,R&&R.response)}}},b5=new Map,x4=t=>{let s=t&&t.env||{};const{fetch:r,Request:a,Response:n}=s,l=[a,n,r];let i=l.length,d=i,x,h,m=b5;for(;d--;)x=l[d],h=m.get(x),h===void 0&&m.set(x,h=d?new Map:y5(s)),m=h;return h};x4();const lb={http:_6,xhr:x5,fetch:{get:x4}};Ot.forEach(lb,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const _N=t=>`- ${t}`,v5=t=>Ot.isFunction(t)||t===null||t===!1;function w5(t,s){t=Ot.isArray(t)?t:[t];const{length:r}=t;let a,n;const l={};for(let i=0;i<r;i++){a=t[i];let d;if(n=a,!v5(a)&&(n=lb[(d=String(a)).toLowerCase()],n===void 0))throw new Ls(`Unknown adapter '${d}'`);if(n&&(Ot.isFunction(n)||(n=n.get(s))))break;l[d||"#"+i]=n}if(!n){const i=Object.entries(l).map(([x,h])=>`adapter ${x} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=r?i.length>1?`since :
`+i.map(_N).join(`
`):" "+_N(i[0]):"as no adapter specified";throw new Ls("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return n}const h4={getAdapter:w5,adapters:lb};function Og(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mx(null,t)}function ON(t){return Og(t),t.headers=Zn.from(t.headers),t.data=_g.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),h4.getAdapter(t.adapter||hx.adapter,t)(t).then(function(a){return Og(t),a.data=_g.call(t,t.transformResponse,a),a.headers=Zn.from(a.headers),a},function(a){return i4(a)||(Og(t),a&&a.response&&(a.response.data=_g.call(t,t.transformResponse,a.response),a.response.headers=Zn.from(a.response.headers))),Promise.reject(a)})}const m4="1.13.5",$p={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{$p[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const BN={};$p.transitional=function(s,r,a){function n(l,i){return"[Axios v"+m4+"] Transitional option '"+l+"'"+i+(a?". "+a:"")}return(l,i,d)=>{if(s===!1)throw new Ls(n(i," has been removed"+(r?" in "+r:"")),Ls.ERR_DEPRECATED);return r&&!BN[i]&&(BN[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,d):!0}};$p.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function N5(t,s,r){if(typeof t!="object")throw new Ls("options must be an object",Ls.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const l=a[n],i=s[l];if(i){const d=t[l],x=d===void 0||i(d,l,t);if(x!==!0)throw new Ls("option "+l+" must be "+x,Ls.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ls("Unknown option "+l,Ls.ERR_BAD_OPTION)}}const vm={assertOptions:N5,validators:$p},To=vm.validators;let td=class{constructor(s){this.defaults=s||{},this.interceptors={request:new kN,response:new kN}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=ld(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:l}=r;a!==void 0&&vm.assertOptions(a,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean),legacyInterceptorReqResOrdering:To.transitional(To.boolean)},!1),n!=null&&(Ot.isFunction(n)?r.paramsSerializer={serialize:n}:vm.assertOptions(n,{encode:To.function,serialize:To.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),vm.assertOptions(r,{baseUrl:To.spelling("baseURL"),withXsrfToken:To.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&Ot.merge(l.common,l[r.method]);l&&Ot.forEach(["delete","get","head","post","put","patch","common"],p=>{delete l[p]}),r.headers=Zn.concat(i,l);const d=[];let x=!0;this.interceptors.request.forEach(function(v){if(typeof v.runWhen=="function"&&v.runWhen(r)===!1)return;x=x&&v.synchronous;const g=r.transitional||nb;g&&g.legacyInterceptorReqResOrdering?d.unshift(v.fulfilled,v.rejected):d.push(v.fulfilled,v.rejected)});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let m,b=0,f;if(!x){const p=[ON.bind(this),void 0];for(p.unshift(...d),p.push(...h),f=p.length,m=Promise.resolve(r);b<f;)m=m.then(p[b++],p[b++]);return m}f=d.length;let N=r;for(;b<f;){const p=d[b++],v=d[b++];try{N=p(N)}catch(g){v.call(this,g);break}}try{m=ON.call(this,N)}catch(p){return Promise.reject(p)}for(b=0,f=h.length;b<f;)m=m.then(h[b++],h[b++]);return m}getUri(s){s=ld(this.defaults,s);const r=d4(s.baseURL,s.url,s.allowAbsoluteUrls);return o4(r,s.params,s.paramsSerializer)}};Ot.forEach(["delete","get","head","options"],function(s){td.prototype[s]=function(r,a){return this.request(ld(a||{},{method:s,url:r,data:(a||{}).data}))}});Ot.forEach(["post","put","patch"],function(s){function r(a){return function(l,i,d){return this.request(ld(d||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}td.prototype[s]=r(),td.prototype[s+"Form"]=r(!0)});let j5=class p4{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const a=this;this.promise.then(n=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](n);a._listeners=null}),this.promise.then=n=>{let l;const i=new Promise(d=>{a.subscribe(d),l=d}).then(n);return i.cancel=function(){a.unsubscribe(l)},i},s(function(l,i,d){a.reason||(a.reason=new mx(l,i,d),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new p4(function(n){s=n}),cancel:s}}};function C5(t){return function(r){return t.apply(null,r)}}function S5(t){return Ot.isObject(t)&&t.isAxiosError===!0}const Ey={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ey).forEach(([t,s])=>{Ey[s]=t});function f4(t){const s=new td(t),r=q2(td.prototype.request,s);return Ot.extend(r,td.prototype,s,{allOwnKeys:!0}),Ot.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return f4(ld(t,n))},r}const va=f4(hx);va.Axios=td;va.CanceledError=mx;va.CancelToken=j5;va.isCancel=i4;va.VERSION=m4;va.toFormData=Gp;va.AxiosError=Ls;va.Cancel=va.CanceledError;va.all=function(s){return Promise.all(s)};va.spread=C5;va.isAxiosError=S5;va.mergeConfig=ld;va.AxiosHeaders=Zn;va.formToJSON=t=>l4(Ot.isHTMLForm(t)?new FormData(t):t);va.getAdapter=h4.getAdapter;va.HttpStatusCode=Ey;va.default=va;const{Axios:QQ,AxiosError:ZQ,CanceledError:eZ,isCancel:tZ,CancelToken:sZ,VERSION:rZ,all:aZ,Cancel:nZ,isAxiosError:oZ,spread:lZ,toFormData:iZ,AxiosHeaders:cZ,HttpStatusCode:dZ,formToJSON:uZ,getAdapter:xZ,mergeConfig:hZ}=va,ae=va.create({baseURL:"https://demo.128techconsultinginc.com/DEMO_128_TKS/api"});/*!
* sweetalert2 v11.26.17
* Released under the MIT License.
*/function g4(t,s,r){if(typeof t=="function"?t===s:t.has(s))return arguments.length<3?s:r;throw new TypeError("Private element is not present on this object")}function k5(t,s){if(s.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function RN(t,s){return t.get(g4(t,s))}function D5(t,s,r){k5(t,s),s.set(t,r)}function E5(t,s,r){return t.set(g4(t,s),r),r}const T5=100,Ss={},A5=()=>{Ss.previousActiveElement instanceof HTMLElement?(Ss.previousActiveElement.focus(),Ss.previousActiveElement=null):document.body&&document.body.focus()},F5=t=>new Promise(s=>{if(!t)return s();const r=window.scrollX,a=window.scrollY;Ss.restoreFocusTimeout=setTimeout(()=>{A5(),s()},T5),window.scrollTo(r,a)}),y4="swal2-",P5=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Rt=P5.reduce((t,s)=>(t[s]=y4+s,t),{}),M5=["success","warning","info","question","error"],ip=M5.reduce((t,s)=>(t[s]=y4+s,t),{}),b4="SweetAlert2:",ib=t=>t.charAt(0).toUpperCase()+t.slice(1),Rn=t=>{console.warn(`${b4} ${typeof t=="object"?t.join(" "):t}`)},gd=t=>{console.error(`${b4} ${t}`)},HN=[],I5=t=>{HN.includes(t)||(HN.push(t),Rn(t))},v4=(t,s=null)=>{I5(`"${t}" is deprecated and will be removed in the next major release.${s?` Use "${s}" instead.`:""}`)},zp=t=>typeof t=="function"?t():t,cb=t=>t&&typeof t.toPromise=="function",px=t=>cb(t)?t.toPromise():Promise.resolve(t),db=t=>t&&Promise.resolve(t)===t,Hn=()=>document.body.querySelector(`.${Rt.container}`),fx=t=>{const s=Hn();return s?s.querySelector(t):null},wo=t=>fx(`.${t}`),br=()=>wo(Rt.popup),O0=()=>wo(Rt.icon),L5=()=>wo(Rt["icon-content"]),w4=()=>wo(Rt.title),ub=()=>wo(Rt["html-container"]),N4=()=>wo(Rt.image),xb=()=>wo(Rt["progress-steps"]),Vp=()=>wo(Rt["validation-message"]),Wl=()=>fx(`.${Rt.actions} .${Rt.confirm}`),B0=()=>fx(`.${Rt.actions} .${Rt.cancel}`),yd=()=>fx(`.${Rt.actions} .${Rt.deny}`),_5=()=>wo(Rt["input-label"]),R0=()=>fx(`.${Rt.loader}`),gx=()=>wo(Rt.actions),j4=()=>wo(Rt.footer),Yp=()=>wo(Rt["timer-progress-bar"]),hb=()=>wo(Rt.close),O5=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,mb=()=>{const t=br();if(!t)return[];const s=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(s).sort((l,i)=>{const d=parseInt(l.getAttribute("tabindex")||"0"),x=parseInt(i.getAttribute("tabindex")||"0");return d>x?1:d<x?-1:0}),a=t.querySelectorAll(O5),n=Array.from(a).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(n))].filter(l=>eo(l))},pb=()=>pi(document.body,Rt.shown)&&!pi(document.body,Rt["toast-shown"])&&!pi(document.body,Rt["no-backdrop"]),Kp=()=>{const t=br();return t?pi(t,Rt.toast):!1},B5=()=>{const t=br();return t?t.hasAttribute("data-loading"):!1},No=(t,s)=>{if(t.textContent="",s){const a=new DOMParser().parseFromString(s,"text/html"),n=a.querySelector("head");n&&Array.from(n.childNodes).forEach(i=>{t.appendChild(i)});const l=a.querySelector("body");l&&Array.from(l.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?t.appendChild(i.cloneNode(!0)):t.appendChild(i)})}},pi=(t,s)=>{if(!s)return!1;const r=s.split(/\s+/);for(let a=0;a<r.length;a++)if(!t.classList.contains(r[a]))return!1;return!0},R5=(t,s)=>{Array.from(t.classList).forEach(r=>{!Object.values(Rt).includes(r)&&!Object.values(ip).includes(r)&&!Object.values(s.showClass||{}).includes(r)&&t.classList.remove(r)})},yo=(t,s,r)=>{if(R5(t,s),!s.customClass)return;const a=s.customClass[r];if(a){if(typeof a!="string"&&!a.forEach){Rn(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof a}"`);return}gr(t,a)}},qp=(t,s)=>{if(!s)return null;switch(s){case"select":case"textarea":case"file":return t.querySelector(`.${Rt.popup} > .${Rt[s]}`);case"checkbox":return t.querySelector(`.${Rt.popup} > .${Rt.checkbox} input`);case"radio":return t.querySelector(`.${Rt.popup} > .${Rt.radio} input:checked`)||t.querySelector(`.${Rt.popup} > .${Rt.radio} input:first-child`);case"range":return t.querySelector(`.${Rt.popup} > .${Rt.range} input`);default:return t.querySelector(`.${Rt.popup} > .${Rt.input}`)}},C4=t=>{if(t.focus(),t.type!=="file"){const s=t.value;t.value="",t.value=s}},S4=(t,s,r)=>{!t||!s||(typeof s=="string"&&(s=s.split(/\s+/).filter(Boolean)),s.forEach(a=>{Array.isArray(t)?t.forEach(n=>{r?n.classList.add(a):n.classList.remove(a)}):r?t.classList.add(a):t.classList.remove(a)}))},gr=(t,s)=>{S4(t,s,!0)},Oo=(t,s)=>{S4(t,s,!1)},tc=(t,s)=>{const r=Array.from(t.children);for(let a=0;a<r.length;a++){const n=r[a];if(n instanceof HTMLElement&&pi(n,s))return n}},sd=(t,s,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?t.style.setProperty(s,typeof r=="number"?`${r}px`:r):t.style.removeProperty(s)},Ka=(t,s="flex")=>{t&&(t.style.display=s)},kn=t=>{t&&(t.style.display="none")},fb=(t,s="block")=>{t&&new MutationObserver(()=>{yx(t,t.innerHTML,s)}).observe(t,{childList:!0,subtree:!0})},UN=(t,s,r,a)=>{const n=t.querySelector(s);n&&n.style.setProperty(r,a)},yx=(t,s,r="flex")=>{s?Ka(t,r):kn(t)},eo=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),H5=()=>!eo(Wl())&&!eo(yd())&&!eo(B0()),Ty=t=>t.scrollHeight>t.clientHeight,U5=(t,s)=>{let r=t;for(;r&&r!==s;){if(Ty(r))return!0;r=r.parentElement}return!1},k4=t=>{const s=window.getComputedStyle(t),r=parseFloat(s.getPropertyValue("animation-duration")||"0"),a=parseFloat(s.getPropertyValue("transition-duration")||"0");return r>0||a>0},gb=(t,s=!1)=>{const r=Yp();r&&eo(r)&&(s&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},W5=()=>{const t=Yp();if(!t)return;const s=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),a=s/r*100;t.style.width=`${a}%`},G5=()=>typeof window>"u"||typeof document>"u",$5=`
 <div aria-labelledby="${Rt.title}" aria-describedby="${Rt["html-container"]}" class="${Rt.popup}" tabindex="-1">
   <button type="button" class="${Rt.close}"></button>
   <ul class="${Rt["progress-steps"]}"></ul>
   <div class="${Rt.icon}"></div>
   <img class="${Rt.image}" />
   <h2 class="${Rt.title}" id="${Rt.title}"></h2>
   <div class="${Rt["html-container"]}" id="${Rt["html-container"]}"></div>
   <input class="${Rt.input}" id="${Rt.input}" />
   <input type="file" class="${Rt.file}" />
   <div class="${Rt.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Rt.select}" id="${Rt.select}"></select>
   <div class="${Rt.radio}"></div>
   <label class="${Rt.checkbox}">
     <input type="checkbox" id="${Rt.checkbox}" />
     <span class="${Rt.label}"></span>
   </label>
   <textarea class="${Rt.textarea}" id="${Rt.textarea}"></textarea>
   <div class="${Rt["validation-message"]}" id="${Rt["validation-message"]}"></div>
   <div class="${Rt.actions}">
     <div class="${Rt.loader}"></div>
     <button type="button" class="${Rt.confirm}"></button>
     <button type="button" class="${Rt.deny}"></button>
     <button type="button" class="${Rt.cancel}"></button>
   </div>
   <div class="${Rt.footer}"></div>
   <div class="${Rt["timer-progress-bar-container"]}">
     <div class="${Rt["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),z5=()=>{const t=Hn();return t?(t.remove(),Oo([document.documentElement,document.body],[Rt["no-backdrop"],Rt["toast-shown"],Rt["has-column"]]),!0):!1},Vc=()=>{Ss.currentInstance&&Ss.currentInstance.resetValidationMessage()},V5=()=>{const t=br();if(!t)return;const s=tc(t,Rt.input),r=tc(t,Rt.file),a=t.querySelector(`.${Rt.range} input`),n=t.querySelector(`.${Rt.range} output`),l=tc(t,Rt.select),i=t.querySelector(`.${Rt.checkbox} input`),d=tc(t,Rt.textarea);s&&(s.oninput=Vc),r&&(r.onchange=Vc),l&&(l.onchange=Vc),i&&(i.onchange=Vc),d&&(d.oninput=Vc),a&&n&&(a.oninput=()=>{Vc(),n.value=a.value},a.onchange=()=>{Vc(),n.value=a.value})},Y5=t=>{if(typeof t=="string"){const s=document.querySelector(t);if(!s)throw new Error(`Target element "${t}" not found`);return s}return t},K5=t=>{const s=br();s&&(s.setAttribute("role",t.toast?"alert":"dialog"),s.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||s.setAttribute("aria-modal","true"))},q5=t=>{window.getComputedStyle(t).direction==="rtl"&&(gr(Hn(),Rt.rtl),Ss.isRTL=!0)},X5=t=>{const s=z5();if(G5()){gd("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=Rt.container,s&&gr(r,Rt["no-transition"]),No(r,$5),r.dataset.swal2Theme=t.theme;const a=Y5(t.target||"body");a.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),K5(t),q5(a),V5()},yb=(t,s)=>{t instanceof HTMLElement?s.appendChild(t):typeof t=="object"?J5(t,s):t&&No(s,t)},J5=(t,s)=>{"jquery"in t?Q5(s,t):No(s,t.toString())},Q5=(t,s)=>{if(t.textContent="",0 in s)for(let r=0;r in s;r++)t.appendChild(s[r].cloneNode(!0));else t.appendChild(s.cloneNode(!0))},Z5=(t,s)=>{const r=gx(),a=R0();!r||!a||(!s.showConfirmButton&&!s.showDenyButton&&!s.showCancelButton?kn(r):Ka(r),yo(r,s,"actions"),eE(r,a,s),No(a,s.loaderHtml||""),yo(a,s,"loader"))};function eE(t,s,r){const a=Wl(),n=yd(),l=B0();!a||!n||!l||(Rg(a,"confirm",r),Rg(n,"deny",r),Rg(l,"cancel",r),tE(a,n,l,r),r.reverseButtons&&(r.toast?(t.insertBefore(l,a),t.insertBefore(n,a)):(t.insertBefore(l,s),t.insertBefore(n,s),t.insertBefore(a,s))))}function tE(t,s,r,a){if(!a.buttonsStyling){Oo([t,s,r],Rt.styled);return}gr([t,s,r],Rt.styled),a.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",a.confirmButtonColor),a.denyButtonColor&&s.style.setProperty("--swal2-deny-button-background-color",a.denyButtonColor),a.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",a.cancelButtonColor),Bg(t),Bg(s),Bg(r)}function Bg(t){const s=window.getComputedStyle(t);if(s.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=s.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",s.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function Rg(t,s,r){const a=ib(s);yx(t,r[`show${a}Button`],"inline-block"),No(t,r[`${s}ButtonText`]||""),t.setAttribute("aria-label",r[`${s}ButtonAriaLabel`]||""),t.className=Rt[s],yo(t,r,`${s}Button`)}const sE=(t,s)=>{const r=hb();r&&(No(r,s.closeButtonHtml||""),yo(r,s,"closeButton"),yx(r,s.showCloseButton),r.setAttribute("aria-label",s.closeButtonAriaLabel||""))},rE=(t,s)=>{const r=Hn();r&&(aE(r,s.backdrop),nE(r,s.position),oE(r,s.grow),yo(r,s,"container"))};function aE(t,s){typeof s=="string"?t.style.background=s:s||gr([document.documentElement,document.body],Rt["no-backdrop"])}function nE(t,s){s&&(s in Rt?gr(t,Rt[s]):(Rn('The "position" parameter is not valid, defaulting to "center"'),gr(t,Rt.center)))}function oE(t,s){s&&gr(t,Rt[`grow-${s}`])}var Ur={innerParams:new WeakMap,domCache:new WeakMap};const lE=["input","file","range","select","radio","checkbox","textarea"],iE=(t,s)=>{const r=br();if(!r)return;const a=Ur.innerParams.get(t),n=!a||s.input!==a.input;lE.forEach(l=>{const i=tc(r,Rt[l]);i&&(uE(l,s.inputAttributes),i.className=Rt[l],n&&kn(i))}),s.input&&(n&&cE(s),xE(s))},cE=t=>{if(!t.input)return;if(!ga[t.input]){gd(`Unexpected type of input! Expected ${Object.keys(ga).join(" | ")}, got "${t.input}"`);return}const s=D4(t.input);if(!s)return;const r=ga[t.input](s,t);Ka(s),t.inputAutoFocus&&setTimeout(()=>{C4(r)})},dE=t=>{for(let s=0;s<t.attributes.length;s++){const r=t.attributes[s].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},uE=(t,s)=>{const r=br();if(!r)return;const a=qp(r,t);if(a){dE(a);for(const n in s)a.setAttribute(n,s[n])}},xE=t=>{if(!t.input)return;const s=D4(t.input);s&&yo(s,t,"input")},bb=(t,s)=>{!t.placeholder&&s.inputPlaceholder&&(t.placeholder=s.inputPlaceholder)},bx=(t,s,r)=>{if(r.inputLabel){const a=document.createElement("label"),n=Rt["input-label"];a.setAttribute("for",t.id),a.className=n,typeof r.customClass=="object"&&gr(a,r.customClass.inputLabel),a.innerText=r.inputLabel,s.insertAdjacentElement("beforebegin",a)}},D4=t=>{const s=br();if(s)return tc(s,Rt[t]||Rt.input)},cp=(t,s)=>{["string","number"].includes(typeof s)?t.value=`${s}`:db(s)||Rn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof s}"`)},ga={};ga.text=ga.email=ga.password=ga.number=ga.tel=ga.url=ga.search=ga.date=ga["datetime-local"]=ga.time=ga.week=ga.month=(t,s)=>{const r=t;return cp(r,s.inputValue),bx(r,r,s),bb(r,s),r.type=s.input,r};ga.file=(t,s)=>{const r=t;return bx(r,r,s),bb(r,s),r};ga.range=(t,s)=>{const r=t,a=r.querySelector("input"),n=r.querySelector("output");return a&&(cp(a,s.inputValue),a.type=s.input,bx(a,t,s)),n&&cp(n,s.inputValue),t};ga.select=(t,s)=>{const r=t;if(r.textContent="",s.inputPlaceholder){const a=document.createElement("option");No(a,s.inputPlaceholder),a.value="",a.disabled=!0,a.selected=!0,r.appendChild(a)}return bx(r,r,s),r};ga.radio=t=>{const s=t;return s.textContent="",t};ga.checkbox=(t,s)=>{const r=br();if(!r)throw new Error("Popup not found");const a=qp(r,"checkbox");if(!a)throw new Error("Checkbox input not found");a.value="1",a.checked=!!s.inputValue;const l=t.querySelector("span");if(l){const i=s.inputPlaceholder||s.inputLabel;i&&No(l,i)}return a};ga.textarea=(t,s)=>{const r=t;cp(r,s.inputValue),bb(r,s),bx(r,r,s);const a=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=br();if(!n)return;const l=parseInt(window.getComputedStyle(n).width),i=()=>{if(!document.body.contains(r))return;const d=r.offsetWidth+a(r),x=br();x&&(d>l?x.style.width=`${d}px`:sd(x,"width",s.width))};new MutationObserver(i).observe(r,{attributes:!0,attributeFilter:["style"]})}}),r};const hE=(t,s)=>{const r=ub();r&&(fb(r),yo(r,s,"htmlContainer"),s.html?(yb(s.html,r),Ka(r,"block")):s.text?(r.textContent=s.text,Ka(r,"block")):kn(r),iE(t,s))},mE=(t,s)=>{const r=j4();r&&(fb(r),yx(r,!!s.footer,"block"),s.footer&&yb(s.footer,r),yo(r,s,"footer"))},pE=(t,s)=>{const r=Ur.innerParams.get(t),a=O0();if(!a)return;if(r&&s.icon===r.icon){GN(a,s),WN(a,s);return}if(!s.icon&&!s.iconHtml){kn(a);return}if(s.icon&&Object.keys(ip).indexOf(s.icon)===-1){gd(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${s.icon}"`),kn(a);return}Ka(a),GN(a,s),WN(a,s),gr(a,s.showClass&&s.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",E4)},WN=(t,s)=>{for(const[r,a]of Object.entries(ip))s.icon!==r&&Oo(t,a);gr(t,s.icon&&ip[s.icon]),yE(t,s),E4(),yo(t,s,"icon")},E4=()=>{const t=br();if(!t)return;const s=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let a=0;a<r.length;a++)r[a].style.backgroundColor=s},fE=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,gE=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,GN=(t,s)=>{if(!s.icon&&!s.iconHtml)return;let r=t.innerHTML,a="";s.iconHtml?a=$N(s.iconHtml):s.icon==="success"?(a=fE(s),r=r.replace(/ style=".*?"/g,"")):s.icon==="error"?a=gE:s.icon&&(a=$N({question:"?",warning:"!",info:"i"}[s.icon])),r.trim()!==a.trim()&&No(t,a)},yE=(t,s)=>{if(s.iconColor){t.style.color=s.iconColor,t.style.borderColor=s.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])UN(t,r,"background-color",s.iconColor);UN(t,".swal2-success-ring","border-color",s.iconColor)}},$N=t=>`<div class="${Rt["icon-content"]}">${t}</div>`,bE=(t,s)=>{const r=N4();if(r){if(!s.imageUrl){kn(r);return}Ka(r,""),r.setAttribute("src",s.imageUrl),r.setAttribute("alt",s.imageAlt||""),sd(r,"width",s.imageWidth),sd(r,"height",s.imageHeight),r.className=Rt.image,yo(r,s,"image")}};let vb=!1,T4=0,A4=0,F4=0,P4=0;const vE=t=>{t.addEventListener("mousedown",dp),document.body.addEventListener("mousemove",up),t.addEventListener("mouseup",xp),t.addEventListener("touchstart",dp),document.body.addEventListener("touchmove",up),t.addEventListener("touchend",xp)},wE=t=>{t.removeEventListener("mousedown",dp),document.body.removeEventListener("mousemove",up),t.removeEventListener("mouseup",xp),t.removeEventListener("touchstart",dp),document.body.removeEventListener("touchmove",up),t.removeEventListener("touchend",xp)},dp=t=>{const s=br();if(!s)return;const r=O0();if(t.target===s||r&&r.contains(t.target)){vb=!0;const a=M4(t);T4=a.clientX,A4=a.clientY,F4=parseInt(s.style.insetInlineStart)||0,P4=parseInt(s.style.insetBlockStart)||0,gr(s,"swal2-dragging")}},up=t=>{const s=br();if(s&&vb){let{clientX:r,clientY:a}=M4(t);const n=r-T4;s.style.insetInlineStart=`${F4+(Ss.isRTL?-n:n)}px`,s.style.insetBlockStart=`${P4+(a-A4)}px`}},xp=()=>{const t=br();vb=!1,Oo(t,"swal2-dragging")},M4=t=>{let s=0,r=0;return t.type.startsWith("mouse")?(s=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(s=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:s,clientY:r}},NE=(t,s)=>{const r=Hn(),a=br();if(!(!r||!a)){if(s.toast){sd(r,"width",s.width),a.style.width="100%";const n=R0();n&&a.insertBefore(n,O0())}else sd(a,"width",s.width);sd(a,"padding",s.padding),s.color&&(a.style.color=s.color),s.background&&(a.style.background=s.background),kn(Vp()),jE(a,s),s.draggable&&!s.toast?(gr(a,Rt.draggable),vE(a)):(Oo(a,Rt.draggable),wE(a))}},jE=(t,s)=>{const r=s.showClass||{};t.className=`${Rt.popup} ${eo(t)?r.popup:""}`,s.toast?(gr([document.documentElement,document.body],Rt["toast-shown"]),gr(t,Rt.toast)):gr(t,Rt.modal),yo(t,s,"popup"),typeof s.customClass=="string"&&gr(t,s.customClass),s.icon&&gr(t,Rt[`icon-${s.icon}`])},CE=(t,s)=>{const r=xb();if(!r)return;const{progressSteps:a,currentProgressStep:n}=s;if(!a||a.length===0||n===void 0){kn(r);return}Ka(r),r.textContent="",n>=a.length&&Rn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),a.forEach((l,i)=>{const d=SE(l);if(r.appendChild(d),i===n&&gr(d,Rt["active-progress-step"]),i!==a.length-1){const x=kE(s);r.appendChild(x)}})},SE=t=>{const s=document.createElement("li");return gr(s,Rt["progress-step"]),No(s,t),s},kE=t=>{const s=document.createElement("li");return gr(s,Rt["progress-step-line"]),t.progressStepsDistance&&sd(s,"width",t.progressStepsDistance),s},DE=(t,s)=>{const r=w4();r&&(fb(r),yx(r,!!(s.title||s.titleText),"block"),s.title&&yb(s.title,r),s.titleText&&(r.innerText=s.titleText),yo(r,s,"title"))},I4=(t,s)=>{var r;NE(t,s),rE(t,s),CE(t,s),pE(t,s),bE(t,s),DE(t,s),sE(t,s),hE(t,s),Z5(t,s),mE(t,s);const a=br();typeof s.didRender=="function"&&a&&s.didRender(a),(r=Ss.eventEmitter)===null||r===void 0||r.emit("didRender",a)},EE=()=>eo(br()),L4=()=>{var t;return(t=Wl())===null||t===void 0?void 0:t.click()},TE=()=>{var t;return(t=yd())===null||t===void 0?void 0:t.click()},AE=()=>{var t;return(t=B0())===null||t===void 0?void 0:t.click()},H0=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_4=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const s=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",s,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},FE=(t,s,r)=>{if(_4(t),!s.toast){const a=l=>ME(s,l,r);t.keydownHandler=a;const n=s.keydownListenerCapture?window:br();if(n){t.keydownTarget=n,t.keydownListenerCapture=s.keydownListenerCapture;const l=a;t.keydownTarget.addEventListener("keydown",l,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},Ay=(t,s)=>{var r;const a=mb();if(a.length){t=t+s,t===-2&&(t=a.length-1),t===a.length?t=0:t===-1&&(t=a.length-1),a[t].focus();return}(r=br())===null||r===void 0||r.focus()},O4=["ArrowRight","ArrowDown"],PE=["ArrowLeft","ArrowUp"],ME=(t,s,r)=>{t&&(s.isComposing||s.keyCode===229||(t.stopKeydownPropagation&&s.stopPropagation(),s.key==="Enter"?IE(s,t):s.key==="Tab"?LE(s):[...O4,...PE].includes(s.key)?_E(s.key):s.key==="Escape"&&OE(s,t,r)))},IE=(t,s)=>{if(!zp(s.allowEnterKey))return;const r=br();if(!r||!s.input)return;const a=qp(r,s.input);if(t.target&&a&&t.target instanceof HTMLElement&&t.target.outerHTML===a.outerHTML){if(["textarea","file"].includes(s.input))return;L4(),t.preventDefault()}},LE=t=>{const s=t.target,r=mb();let a=-1;for(let n=0;n<r.length;n++)if(s===r[n]){a=n;break}t.shiftKey?Ay(a,-1):Ay(a,1),t.stopPropagation(),t.preventDefault()},_E=t=>{const s=gx(),r=Wl(),a=yd(),n=B0();if(!s||!r||!a||!n)return;const l=[r,a,n];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const i=O4.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let x=0;x<s.children.length;x++){if(d=d[i],!d)return;if(d instanceof HTMLButtonElement&&eo(d))break}d instanceof HTMLButtonElement&&d.focus()}},OE=(t,s,r)=>{t.preventDefault(),zp(s.allowEscapeKey)&&r(H0.esc)};var S0={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const BE=()=>{const t=Hn();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},B4=()=>{Array.from(document.body.children).forEach(s=>{s.hasAttribute("data-previous-aria-hidden")?(s.setAttribute("aria-hidden",s.getAttribute("data-previous-aria-hidden")||""),s.removeAttribute("data-previous-aria-hidden")):s.removeAttribute("aria-hidden")})},R4=typeof window<"u"&&!!window.GestureEvent,RE=()=>{if(R4&&!pi(document.body,Rt.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,gr(document.body,Rt.iosfix),HE()}},HE=()=>{const t=Hn();if(!t)return;let s;t.ontouchstart=r=>{s=UE(r)},t.ontouchmove=r=>{s&&(r.preventDefault(),r.stopPropagation())}},UE=t=>{const s=t.target,r=Hn(),a=ub();return!r||!a||WE(t)||GE(t)?!1:s===r||!Ty(r)&&s instanceof HTMLElement&&!U5(s,a)&&s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!(Ty(a)&&a.contains(s))},WE=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),GE=t=>t.touches&&t.touches.length>1,$E=()=>{if(pi(document.body,Rt.iosfix)){const t=parseInt(document.body.style.top,10);Oo(document.body,Rt.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},zE=()=>{const t=document.createElement("div");t.className=Rt["scrollbar-measure"],document.body.appendChild(t);const s=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),s};let g0=null;const VE=t=>{g0===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(g0=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${g0+zE()}px`)},YE=()=>{g0!==null&&(document.body.style.paddingRight=`${g0}px`,g0=null)};function H4(t,s,r,a){Kp()?zN(t,a):(F5(r).then(()=>zN(t,a)),_4(Ss)),R4?(s.setAttribute("style","display:none !important"),s.removeAttribute("class"),s.innerHTML=""):s.remove(),pb()&&(YE(),$E(),B4()),KE()}function KE(){Oo([document.documentElement,document.body],[Rt.shown,Rt["height-auto"],Rt["no-backdrop"],Rt["toast-shown"]])}function sc(t){t=XE(t);const s=S0.swalPromiseResolve.get(this),r=qE(this);this.isAwaitingPromise?t.isDismissed||(vx(this),s(t)):r&&s(t)}const qE=t=>{const s=br();if(!s)return!1;const r=Ur.innerParams.get(t);if(!r||pi(s,r.hideClass.popup))return!1;Oo(s,r.showClass.popup),gr(s,r.hideClass.popup);const a=Hn();return Oo(a,r.showClass.backdrop),gr(a,r.hideClass.backdrop),JE(t,s,r),!0};function U4(t){const s=S0.swalPromiseReject.get(this);vx(this),s&&s(t)}const vx=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ur.innerParams.get(t)||t._destroy())},XE=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),JE=(t,s,r)=>{var a;const n=Hn(),l=k4(s);typeof r.willClose=="function"&&r.willClose(s),(a=Ss.eventEmitter)===null||a===void 0||a.emit("willClose",s),l&&n?QE(t,s,n,!!r.returnFocus,r.didClose):n&&H4(t,n,!!r.returnFocus,r.didClose)},QE=(t,s,r,a,n)=>{Ss.swalCloseEventFinishedCallback=H4.bind(null,t,r,a,n);const l=function(i){if(i.target===s){var d;(d=Ss.swalCloseEventFinishedCallback)===null||d===void 0||d.call(Ss),delete Ss.swalCloseEventFinishedCallback,s.removeEventListener("animationend",l),s.removeEventListener("transitionend",l)}};s.addEventListener("animationend",l),s.addEventListener("transitionend",l)},zN=(t,s)=>{setTimeout(()=>{var r;typeof s=="function"&&s.bind(t.params)(),(r=Ss.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},k0=t=>{let s=br();if(s||new Q,s=br(),!s)return;const r=R0();Kp()?kn(O0()):ZE(s,t),Ka(r),s.setAttribute("data-loading","true"),s.setAttribute("aria-busy","true"),s.focus()},ZE=(t,s)=>{const r=gx(),a=R0();!r||!a||(!s&&eo(Wl())&&(s=Wl()),Ka(r),s&&(kn(s),a.setAttribute("data-button-to-replace",s.className),r.insertBefore(a,s)),gr([t,r],Rt.loading))},eT=(t,s)=>{s.input==="select"||s.input==="radio"?nT(t,s):["text","email","number","tel","textarea"].some(r=>r===s.input)&&(cb(s.inputValue)||db(s.inputValue))&&(k0(Wl()),oT(t,s))},tT=(t,s)=>{const r=t.getInput();if(!r)return null;switch(s.input){case"checkbox":return sT(r);case"radio":return rT(r);case"file":return aT(r);default:return s.inputAutoTrim?r.value.trim():r.value}},sT=t=>t.checked?1:0,rT=t=>t.checked?t.value:null,aT=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,nT=(t,s)=>{const r=br();if(!r)return;const a=n=>{s.input==="select"?lT(r,hp(n),s):s.input==="radio"&&iT(r,hp(n),s)};cb(s.inputOptions)||db(s.inputOptions)?(k0(Wl()),px(s.inputOptions).then(n=>{t.hideLoading(),a(n)})):typeof s.inputOptions=="object"?a(s.inputOptions):gd(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof s.inputOptions}`)},oT=(t,s)=>{const r=t.getInput();r&&(kn(r),px(s.inputValue).then(a=>{r.value=s.input==="number"?`${parseFloat(a)||0}`:`${a}`,Ka(r),r.focus(),t.hideLoading()}).catch(a=>{gd(`Error in inputValue promise: ${a}`),r.value="",Ka(r),r.focus(),t.hideLoading()}))};function lT(t,s,r){const a=tc(t,Rt.select);if(!a)return;const n=(l,i,d)=>{const x=document.createElement("option");x.value=d,No(x,i),x.selected=W4(d,r.inputValue),l.appendChild(x)};s.forEach(l=>{const i=l[0],d=l[1];if(Array.isArray(d)){const x=document.createElement("optgroup");x.label=i,x.disabled=!1,a.appendChild(x),d.forEach(h=>n(x,h[1],h[0]))}else n(a,d,i)}),a.focus()}function iT(t,s,r){const a=tc(t,Rt.radio);if(!a)return;s.forEach(l=>{const i=l[0],d=l[1],x=document.createElement("input"),h=document.createElement("label");x.type="radio",x.name=Rt.radio,x.value=i,W4(i,r.inputValue)&&(x.checked=!0);const m=document.createElement("span");No(m,d),m.className=Rt.label,h.appendChild(x),h.appendChild(m),a.appendChild(h)});const n=a.querySelectorAll("input");n.length&&n[0].focus()}const hp=t=>{const s=[];return t instanceof Map?t.forEach((r,a)=>{let n=r;typeof n=="object"&&(n=hp(n)),s.push([a,n])}):Object.keys(t).forEach(r=>{let a=t[r];typeof a=="object"&&(a=hp(a)),s.push([r,a])}),s},W4=(t,s)=>!!s&&s!==null&&s!==void 0&&s.toString()===t.toString(),cT=t=>{const s=Ur.innerParams.get(t);t.disableButtons(),s.input?G4(t,"confirm"):Nb(t,!0)},dT=t=>{const s=Ur.innerParams.get(t);t.disableButtons(),s.returnInputValueOnDeny?G4(t,"deny"):wb(t,!1)},uT=(t,s)=>{t.disableButtons(),s(H0.cancel)},G4=(t,s)=>{const r=Ur.innerParams.get(t);if(!r.input){gd(`The "input" parameter is needed to be set when using returnInputValueOn${ib(s)}`);return}const a=t.getInput(),n=tT(t,r);r.inputValidator?xT(t,n,s):a&&!a.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||a.validationMessage)):s==="deny"?wb(t,n):Nb(t,n)},xT=(t,s,r)=>{const a=Ur.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>px(a.inputValidator(s,a.validationMessage))).then(l=>{t.enableButtons(),t.enableInput(),l?t.showValidationMessage(l):r==="deny"?wb(t,s):Nb(t,s)})},wb=(t,s)=>{const r=Ur.innerParams.get(t);r.showLoaderOnDeny&&k0(yd()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>px(r.preDeny(s,r.validationMessage))).then(n=>{n===!1?(t.hideLoading(),vx(t)):t.close({isDenied:!0,value:typeof n>"u"?s:n})}).catch(n=>$4(t,n))):t.close({isDenied:!0,value:s})},VN=(t,s)=>{t.close({isConfirmed:!0,value:s})},$4=(t,s)=>{t.rejectPromise(s)},Nb=(t,s)=>{const r=Ur.innerParams.get(t);r.showLoaderOnConfirm&&k0(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>px(r.preConfirm(s,r.validationMessage))).then(n=>{eo(Vp())||n===!1?(t.hideLoading(),vx(t)):VN(t,typeof n>"u"?s:n)}).catch(n=>$4(t,n))):VN(t,s)};function mp(){const t=Ur.innerParams.get(this);if(!t)return;const s=Ur.domCache.get(this);kn(s.loader),Kp()?t.icon&&Ka(O0()):hT(s),Oo([s.popup,s.actions],Rt.loading),s.popup.removeAttribute("aria-busy"),s.popup.removeAttribute("data-loading"),s.confirmButton.disabled=!1,s.denyButton.disabled=!1,s.cancelButton.disabled=!1}const hT=t=>{const s=t.loader.getAttribute("data-button-to-replace"),r=s?t.popup.getElementsByClassName(s):[];r.length?Ka(r[0],"inline-block"):H5()&&kn(t.actions)};function z4(){const t=Ur.innerParams.get(this),s=Ur.domCache.get(this);return s?qp(s.popup,t.input):null}function V4(t,s,r){const a=Ur.domCache.get(t);s.forEach(n=>{a[n].disabled=r})}function Y4(t,s){const r=br();if(!(!r||!t))if(t.type==="radio"){const a=r.querySelectorAll(`[name="${Rt.radio}"]`);for(let n=0;n<a.length;n++)a[n].disabled=s}else t.disabled=s}function K4(){V4(this,["confirmButton","denyButton","cancelButton"],!1)}function q4(){V4(this,["confirmButton","denyButton","cancelButton"],!0)}function X4(){Y4(this.getInput(),!1)}function J4(){Y4(this.getInput(),!0)}function Q4(t){const s=Ur.domCache.get(this),r=Ur.innerParams.get(this);No(s.validationMessage,t),s.validationMessage.className=Rt["validation-message"],r.customClass&&r.customClass.validationMessage&&gr(s.validationMessage,r.customClass.validationMessage),Ka(s.validationMessage);const a=this.getInput();a&&(a.setAttribute("aria-invalid","true"),a.setAttribute("aria-describedby",Rt["validation-message"]),C4(a),gr(a,Rt.inputerror))}function Z4(){const t=Ur.domCache.get(this);t.validationMessage&&kn(t.validationMessage);const s=this.getInput();s&&(s.removeAttribute("aria-invalid"),s.removeAttribute("aria-describedby"),Oo(s,Rt.inputerror))}const rc={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},mT=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],pT={allowEnterKey:void 0},fT=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],eC=t=>Object.prototype.hasOwnProperty.call(rc,t),tC=t=>mT.indexOf(t)!==-1,sC=t=>pT[t],gT=t=>{eC(t)||Rn(`Unknown parameter "${t}"`)},yT=t=>{fT.includes(t)&&Rn(`The parameter "${t}" is incompatible with toasts`)},bT=t=>{const s=sC(t);s&&v4(t,s)},rC=t=>{t.backdrop===!1&&t.allowOutsideClick&&Rn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Rn(`Invalid theme "${t.theme}"`);for(const s in t)gT(s),t.toast&&yT(s),bT(s)};function aC(t){const s=Hn(),r=br(),a=Ur.innerParams.get(this);if(!r||pi(r,a.hideClass.popup)){Rn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const n=vT(t),l=Object.assign({},a,n);rC(l),s&&(s.dataset.swal2Theme=l.theme),I4(this,l),Ur.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const vT=t=>{const s={};return Object.keys(t).forEach(r=>{if(tC(r)){const a=t;s[r]=a[r]}else Rn(`Invalid parameter to update: ${r}`)}),s};function nC(){var t;const s=Ur.domCache.get(this),r=Ur.innerParams.get(this);if(!r){oC(this);return}s.popup&&Ss.swalCloseEventFinishedCallback&&(Ss.swalCloseEventFinishedCallback(),delete Ss.swalCloseEventFinishedCallback),typeof r.didDestroy=="function"&&r.didDestroy(),(t=Ss.eventEmitter)===null||t===void 0||t.emit("didDestroy"),wT(this)}const wT=t=>{oC(t),delete t.params,delete Ss.keydownHandler,delete Ss.keydownTarget,delete Ss.currentInstance},oC=t=>{t.isAwaitingPromise?(Hg(Ur,t),t.isAwaitingPromise=!0):(Hg(S0,t),Hg(Ur,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Hg=(t,s)=>{for(const r in t)t[r].delete(s)};var NT=Object.freeze({__proto__:null,_destroy:nC,close:sc,closeModal:sc,closePopup:sc,closeToast:sc,disableButtons:q4,disableInput:J4,disableLoading:mp,enableButtons:K4,enableInput:X4,getInput:z4,handleAwaitingPromise:vx,hideLoading:mp,rejectPromise:U4,resetValidationMessage:Z4,showValidationMessage:Q4,update:aC});const jT=(t,s,r)=>{t.toast?CT(t,s,r):(kT(s),DT(s),ET(t,s,r))},CT=(t,s,r)=>{s.popup.onclick=()=>{t&&(ST(t)||t.timer||t.input)||r(H0.close)}},ST=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let pp=!1;const kT=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(s){t.container.onmouseup=()=>{},s.target===t.container&&(pp=!0)}}},DT=t=>{t.container.onmousedown=s=>{s.target===t.container&&s.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(pp=!0)}}},ET=(t,s,r)=>{s.container.onclick=a=>{if(pp){pp=!1;return}a.target===s.container&&zp(t.allowOutsideClick)&&r(H0.backdrop)}},TT=t=>typeof t=="object"&&t.jquery,YN=t=>t instanceof Element||TT(t),AT=t=>{const s={};return typeof t[0]=="object"&&!YN(t[0])?Object.assign(s,t[0]):["title","html","icon"].forEach((r,a)=>{const n=t[a];typeof n=="string"||YN(n)?s[r]=n:n!==void 0&&gd(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof n}`)}),s};function FT(...t){return new this(...t)}function PT(t){class s extends this{_main(a,n){return super._main(a,Object.assign({},t,n))}}return s}const MT=()=>Ss.timeout&&Ss.timeout.getTimerLeft(),lC=()=>{if(Ss.timeout)return W5(),Ss.timeout.stop()},iC=()=>{if(Ss.timeout){const t=Ss.timeout.start();return gb(t),t}},IT=()=>{const t=Ss.timeout;return t&&(t.running?lC():iC())},LT=t=>{if(Ss.timeout){const s=Ss.timeout.increase(t);return gb(s,!0),s}},_T=()=>!!(Ss.timeout&&Ss.timeout.isRunning());let KN=!1;const Fy={};function OT(t="data-swal-template"){Fy[t]=this,KN||(document.body.addEventListener("click",BT),KN=!0)}const BT=t=>{for(let s=t.target;s&&s!==document;s=s.parentNode)for(const r in Fy){const a=s.getAttribute&&s.getAttribute(r);if(a){Fy[r].fire({template:a});return}}};class RT{constructor(){this.events={}}_getHandlersByEventName(s){return typeof this.events[s]>"u"&&(this.events[s]=[]),this.events[s]}on(s,r){const a=this._getHandlersByEventName(s);a.includes(r)||a.push(r)}once(s,r){const a=(...n)=>{this.removeListener(s,a),r.apply(this,n)};this.on(s,a)}emit(s,...r){this._getHandlersByEventName(s).forEach(a=>{try{a.apply(this,r)}catch(n){console.error(n)}})}removeListener(s,r){const a=this._getHandlersByEventName(s),n=a.indexOf(r);n>-1&&a.splice(n,1)}removeAllListeners(s){this.events[s]!==void 0&&(this.events[s].length=0)}reset(){this.events={}}}Ss.eventEmitter=new RT;const HT=(t,s)=>{Ss.eventEmitter&&Ss.eventEmitter.on(t,s)},UT=(t,s)=>{Ss.eventEmitter&&Ss.eventEmitter.once(t,s)},WT=(t,s)=>{if(Ss.eventEmitter){if(!t){Ss.eventEmitter.reset();return}s?Ss.eventEmitter.removeListener(t,s):Ss.eventEmitter.removeAllListeners(t)}};var GT=Object.freeze({__proto__:null,argsToParams:AT,bindClickHandler:OT,clickCancel:AE,clickConfirm:L4,clickDeny:TE,enableLoading:k0,fire:FT,getActions:gx,getCancelButton:B0,getCloseButton:hb,getConfirmButton:Wl,getContainer:Hn,getDenyButton:yd,getFocusableElements:mb,getFooter:j4,getHtmlContainer:ub,getIcon:O0,getIconContent:L5,getImage:N4,getInputLabel:_5,getLoader:R0,getPopup:br,getProgressSteps:xb,getTimerLeft:MT,getTimerProgressBar:Yp,getTitle:w4,getValidationMessage:Vp,increaseTimer:LT,isDeprecatedParameter:sC,isLoading:B5,isTimerRunning:_T,isUpdatableParameter:tC,isValidParameter:eC,isVisible:EE,mixin:PT,off:WT,on:HT,once:UT,resumeTimer:iC,showLoading:k0,stopTimer:lC,toggleTimer:IT});class $T{constructor(s,r){this.callback=s,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(s){const r=this.running;return r&&this.stop(),this.remaining+=s,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const cC=["swal-title","swal-html","swal-footer"],zT=t=>{const s=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!s)return{};const r=s.content;return ZT(r),Object.assign(VT(r),YT(r),KT(r),qT(r),XT(r),JT(r),QT(r,cC))},VT=t=>{const s={};return Array.from(t.querySelectorAll("swal-param")).forEach(a=>{id(a,["name","value"]);const n=a.getAttribute("name"),l=a.getAttribute("value");!n||!l||(n in rc&&typeof rc[n]=="boolean"?s[n]=l!=="false":n in rc&&typeof rc[n]=="object"?s[n]=JSON.parse(l):s[n]=l)}),s},YT=t=>{const s={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(a=>{const n=a.getAttribute("name"),l=a.getAttribute("value");!n||!l||(s[n]=new Function(`return ${l}`)())}),s},KT=t=>{const s={};return Array.from(t.querySelectorAll("swal-button")).forEach(a=>{id(a,["type","color","aria-label"]);const n=a.getAttribute("type");if(!(!n||!["confirm","cancel","deny"].includes(n))){if(s[`${n}ButtonText`]=a.innerHTML,s[`show${ib(n)}Button`]=!0,a.hasAttribute("color")){const l=a.getAttribute("color");l!==null&&(s[`${n}ButtonColor`]=l)}if(a.hasAttribute("aria-label")){const l=a.getAttribute("aria-label");l!==null&&(s[`${n}ButtonAriaLabel`]=l)}}}),s},qT=t=>{const s={},r=t.querySelector("swal-image");return r&&(id(r,["src","width","height","alt"]),r.hasAttribute("src")&&(s.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(s.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(s.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(s.imageAlt=r.getAttribute("alt")||void 0)),s},XT=t=>{const s={},r=t.querySelector("swal-icon");return r&&(id(r,["type","color"]),r.hasAttribute("type")&&(s.icon=r.getAttribute("type")),r.hasAttribute("color")&&(s.iconColor=r.getAttribute("color")),s.iconHtml=r.innerHTML),s},JT=t=>{const s={},r=t.querySelector("swal-input");r&&(id(r,["type","label","placeholder","value"]),s.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(s.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(s.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(s.inputValue=r.getAttribute("value")));const a=Array.from(t.querySelectorAll("swal-input-option"));return a.length&&(s.inputOptions={},a.forEach(n=>{id(n,["value"]);const l=n.getAttribute("value");if(!l)return;const i=n.innerHTML;s.inputOptions[l]=i})),s},QT=(t,s)=>{const r={};for(const a in s){const n=s[a],l=t.querySelector(n);l&&(id(l,[]),r[n.replace(/^swal-/,"")]=l.innerHTML.trim())}return r},ZT=t=>{const s=cC.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const a=r.tagName.toLowerCase();s.includes(a)||Rn(`Unrecognized element <${a}>`)})},id=(t,s)=>{Array.from(t.attributes).forEach(r=>{s.indexOf(r.name)===-1&&Rn([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${s.length?`Allowed attributes are: ${s.join(", ")}`:"To set the value, use HTML within the element."}`])})},dC=10,eA=t=>{var s,r;const a=Hn(),n=br();if(!a||!n)return;typeof t.willOpen=="function"&&t.willOpen(n),(s=Ss.eventEmitter)===null||s===void 0||s.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;if(rA(a,n,t),setTimeout(()=>{tA(a,n)},dC),pb()&&(sA(a,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,i),BE()),!Kp()&&!Ss.previousActiveElement&&(Ss.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const d=t.didOpen;setTimeout(()=>d(n))}(r=Ss.eventEmitter)===null||r===void 0||r.emit("didOpen",n)},fp=t=>{const s=br();if(!s||t.target!==s)return;const r=Hn();r&&(s.removeEventListener("animationend",fp),s.removeEventListener("transitionend",fp),r.style.overflowY="auto",Oo(r,Rt["no-transition"]))},tA=(t,s)=>{k4(s)?(t.style.overflowY="hidden",s.addEventListener("animationend",fp),s.addEventListener("transitionend",fp)):t.style.overflowY="auto"},sA=(t,s,r)=>{RE(),s&&r!=="hidden"&&VE(r),setTimeout(()=>{t.scrollTop=0})},rA=(t,s,r)=>{var a;(a=r.showClass)!==null&&a!==void 0&&a.backdrop&&gr(t,r.showClass.backdrop),r.animation?(s.style.setProperty("opacity","0","important"),Ka(s,"grid"),setTimeout(()=>{var n;(n=r.showClass)!==null&&n!==void 0&&n.popup&&gr(s,r.showClass.popup),s.style.removeProperty("opacity")},dC)):Ka(s,"grid"),gr([document.documentElement,document.body],Rt.shown),r.heightAuto&&r.backdrop&&!r.toast&&gr([document.documentElement,document.body],Rt["height-auto"])};var qN={email:(t,s)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(s||"Invalid email address"),url:(t,s)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(s||"Invalid URL")};function aA(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=qN.email),t.input==="url"&&(t.inputValidator=qN.url))}function nA(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Rn('Target parameter is not valid, defaulting to "body"'),t.target="body")}function oA(t){aA(t),t.showLoaderOnConfirm&&!t.preConfirm&&Rn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),nA(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),X5(t)}let _l;var Bh=new WeakMap;class wa{constructor(...s){if(D5(this,Bh,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;_l=this;const r=Object.freeze(this.constructor.argsToParams(s));this.params=r,this.isAwaitingPromise=!1,E5(Bh,this,this._main(_l.params))}_main(s,r={}){if(rC(Object.assign({},r,s)),Ss.currentInstance){const l=S0.swalPromiseResolve.get(Ss.currentInstance),{isAwaitingPromise:i}=Ss.currentInstance;Ss.currentInstance._destroy(),i||l({isDismissed:!0}),pb()&&B4()}Ss.currentInstance=_l;const a=iA(s,r);oA(a),Object.freeze(a),Ss.timeout&&(Ss.timeout.stop(),delete Ss.timeout),clearTimeout(Ss.restoreFocusTimeout);const n=cA(_l);return I4(_l,a),Ur.innerParams.set(_l,a),lA(_l,n,a)}then(s){return RN(Bh,this).then(s)}finally(s){return RN(Bh,this).finally(s)}}const lA=(t,s,r)=>new Promise((a,n)=>{const l=i=>{t.close({isDismissed:!0,dismiss:i,isConfirmed:!1,isDenied:!1})};S0.swalPromiseResolve.set(t,a),S0.swalPromiseReject.set(t,n),s.confirmButton.onclick=()=>{cT(t)},s.denyButton.onclick=()=>{dT(t)},s.cancelButton.onclick=()=>{uT(t,l)},s.closeButton.onclick=()=>{l(H0.close)},jT(r,s,l),FE(Ss,r,l),eT(t,r),eA(r),dA(Ss,r,l),uA(s,r),setTimeout(()=>{s.container.scrollTop=0})}),iA=(t,s)=>{const r=zT(t),a=Object.assign({},rc,s,r,t);return a.showClass=Object.assign({},rc.showClass,a.showClass),a.hideClass=Object.assign({},rc.hideClass,a.hideClass),a.animation===!1&&(a.showClass={backdrop:"swal2-noanimation"},a.hideClass={}),a},cA=t=>{const s={popup:br(),container:Hn(),actions:gx(),confirmButton:Wl(),denyButton:yd(),cancelButton:B0(),loader:R0(),closeButton:hb(),validationMessage:Vp(),progressSteps:xb()};return Ur.domCache.set(t,s),s},dA=(t,s,r)=>{const a=Yp();kn(a),s.timer&&(t.timeout=new $T(()=>{r("timer"),delete t.timeout},s.timer),s.timerProgressBar&&a&&(Ka(a),yo(a,s,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&gb(s.timer)})))},uA=(t,s)=>{if(!s.toast){if(!zp(s.allowEnterKey)){v4("allowEnterKey"),mA();return}xA(t)||hA(t,s)||Ay(-1,1)}},xA=t=>{const s=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of s)if(r instanceof HTMLElement&&eo(r))return r.focus(),!0;return!1},hA=(t,s)=>s.focusDeny&&eo(t.denyButton)?(t.denyButton.focus(),!0):s.focusCancel&&eo(t.cancelButton)?(t.cancelButton.focus(),!0):s.focusConfirm&&eo(t.confirmButton)?(t.confirmButton.focus(),!0):!1,mA=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};wa.prototype.disableButtons=q4;wa.prototype.enableButtons=K4;wa.prototype.getInput=z4;wa.prototype.disableInput=J4;wa.prototype.enableInput=X4;wa.prototype.hideLoading=mp;wa.prototype.disableLoading=mp;wa.prototype.showValidationMessage=Q4;wa.prototype.resetValidationMessage=Z4;wa.prototype.close=sc;wa.prototype.closePopup=sc;wa.prototype.closeModal=sc;wa.prototype.closeToast=sc;wa.prototype.rejectPromise=U4;wa.prototype.update=aC;wa.prototype._destroy=nC;Object.assign(wa,GT);Object.keys(NT).forEach(t=>{wa[t]=function(...s){if(_l&&_l[t])return _l[t](...s)}});wa.DismissReason=H0;wa.version="11.26.17";const Q=wa;Q.default=Q;typeof document<"u"&&(function(t,s){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=s);else try{r.innerHTML=s}catch{r.innerText=s}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,r,a)=>a?a.toUpperCase():r.toLowerCase()),XN=t=>{const s=fA(t);return s.charAt(0).toUpperCase()+s.slice(1)},uC=(...t)=>t.filter((s,r,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=o.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:l,iconNode:i,...d},x)=>o.createElement("svg",{ref:x,...gA,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:uC("lucide",n),...d},[...i.map(([h,m])=>o.createElement(h,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=(t,s)=>{const r=o.forwardRef(({className:a,...n},l)=>o.createElement(yA,{ref:l,iconNode:s,className:uC(`lucide-${pA(XN(t))}`,`lucide-${t}`,a),...n}));return r.displayName=XN(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vA=ls("arrow-left",bA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],NA=ls("arrow-right",wA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ug=ls("arrow-up-down",jA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jb=ls("award",CA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],cn=ls("box",SA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zs=ls("briefcase",kA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],er=ls("building-2",DA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],TA=ls("calculator",EA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Or=ls("calendar-clock",AA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xC=ls("calendar-days",FA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],MA=ls("calendar-x",PA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cs=ls("calendar",IA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_A=ls("camera",LA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hC=ls("chart-column",OA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ue=ls("check",BA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lc=ls("chevron-down",RA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],U0=ls("chevron-left",HA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fi=ls("chevron-right",UA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],D0=ls("chevron-up",WA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],$A=ls("chevrons-left",GA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],VA=ls("chevrons-right",zA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yr=ls("circle-alert",YA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zl=ls("circle-check-big",KA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],mC=ls("circle-pause",qA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],JA=ls("circle-play",XA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Cb=ls("circle-x",QA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Sb=ls("clipboard-list",ZA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],fr=ls("clock",eF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],gp=ls("database",tF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rF=ls("dollar-sign",sF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ln=ls("download",aF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],JN=ls("external-link",nF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lF=ls("eye",oF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],cF=ls("file-pen-line",iF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vi=ls("file-text",dF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],xF=ls("file-x",uF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Mr=ls("grid-3x3",hF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],pF=ls("house",mF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xp=ls("info",fF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pC=ls("layers",gF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Vu=ls("layout-grid",yF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Er=ls("loader-circle",bF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wF=ls("lock",vF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],jF=ls("log-in",NF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],fC=ls("log-out",CF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],gC=ls("mail",SF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],DF=ls("menu",kF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M5 12h14",key:"1ays0h"}]],TF=ls("minus",EF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Na=ls("network",AF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],dl=ls("pencil",FF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],kb=ls("play",PF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gs=ls("plus",MF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],LF=ls("printer",IF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dn=ls("refresh-cw",_F);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],W0=ls("rotate-ccw",OF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ar=ls("save",BF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Gt=ls("search",RF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yC=ls("send",HF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wx=ls("settings",UF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yp=ls("shield",WF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],$F=ls("smartphone",GF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],VF=ls("square-check-big",zF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ns=ls("square-pen",YF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M21 12h.01",key:"msek7k"}],["path",{d:"M21 18h.01",key:"1e8rq1"}],["path",{d:"M21 6h.01",key:"1koanj"}]],qF=ls("table-of-contents",KF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],bC=ls("tag",XF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],is=ls("trash-2",JF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],ZF=ls("trending-down",QF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],t7=ls("trending-up",e7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],r7=ls("triangle-alert",s7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ua=ls("upload",a7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],QN=ls("user-plus",n7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],l7=ls("user-x",o7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bp=ls("user",i7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Us=ls("users",c7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ir=ls("wallet",d7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],x7=ls("wrench",u7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nt=ls("x",h7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],p7=ls("zap",m7);var wm={exports:{}};function f7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nm={exports:{}};const g7={},y7=Object.freeze(Object.defineProperty({__proto__:null,default:g7},Symbol.toStringTag,{value:"Module"})),b7=WD(y7);var v7=Nm.exports,ZN;function Xs(){return ZN||(ZN=1,(function(t,s){(function(r,a){t.exports=a()})(v7,function(){var r=r||(function(a,n){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof Tg<"u"&&Tg.crypto&&(l=Tg.crypto),!l&&typeof f7=="function")try{l=b7}catch{}var i=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||(function(){function C(){}return function(j){var S;return C.prototype=j,S=new C,C.prototype=null,S}})(),x={},h=x.lib={},m=h.Base=(function(){return{extend:function(C){var j=d(this);return C&&j.mixIn(C),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var j in C)C.hasOwnProperty(j)&&(this[j]=C[j]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),b=h.WordArray=m.extend({init:function(C,j){C=this.words=C||[],j!=n?this.sigBytes=j:this.sigBytes=C.length*4},toString:function(C){return(C||N).stringify(this)},concat:function(C){var j=this.words,S=C.words,P=this.sigBytes,D=C.sigBytes;if(this.clamp(),P%4)for(var T=0;T<D;T++){var A=S[T>>>2]>>>24-T%4*8&255;j[P+T>>>2]|=A<<24-(P+T)%4*8}else for(var M=0;M<D;M+=4)j[P+M>>>2]=S[M>>>2];return this.sigBytes+=D,this},clamp:function(){var C=this.words,j=this.sigBytes;C[j>>>2]&=4294967295<<32-j%4*8,C.length=a.ceil(j/4)},clone:function(){var C=m.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var j=[],S=0;S<C;S+=4)j.push(i());return new b.init(j,C)}}),f=x.enc={},N=f.Hex={stringify:function(C){for(var j=C.words,S=C.sigBytes,P=[],D=0;D<S;D++){var T=j[D>>>2]>>>24-D%4*8&255;P.push((T>>>4).toString(16)),P.push((T&15).toString(16))}return P.join("")},parse:function(C){for(var j=C.length,S=[],P=0;P<j;P+=2)S[P>>>3]|=parseInt(C.substr(P,2),16)<<24-P%8*4;return new b.init(S,j/2)}},p=f.Latin1={stringify:function(C){for(var j=C.words,S=C.sigBytes,P=[],D=0;D<S;D++){var T=j[D>>>2]>>>24-D%4*8&255;P.push(String.fromCharCode(T))}return P.join("")},parse:function(C){for(var j=C.length,S=[],P=0;P<j;P++)S[P>>>2]|=(C.charCodeAt(P)&255)<<24-P%4*8;return new b.init(S,j)}},v=f.Utf8={stringify:function(C){try{return decodeURIComponent(escape(p.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return p.parse(unescape(encodeURIComponent(C)))}},g=h.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=v.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var j,S=this._data,P=S.words,D=S.sigBytes,T=this.blockSize,A=T*4,M=D/A;C?M=a.ceil(M):M=a.max((M|0)-this._minBufferSize,0);var L=M*T,q=a.min(L*4,D);if(L){for(var B=0;B<L;B+=T)this._doProcessBlock(P,B);j=P.splice(0,L),S.sigBytes-=q}return new b.init(j,q)},clone:function(){var C=m.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});h.Hasher=g.extend({cfg:m.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(C){return function(j,S){return new C.init(S).finalize(j)}},_createHmacHelper:function(C){return function(j,S){return new y.HMAC.init(C,S).finalize(j)}}});var y=x.algo={};return x})(Math);return r})})(Nm)),Nm.exports}var jm={exports:{}},w7=jm.exports,ej;function Jp(){return ej||(ej=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(w7,function(r){return(function(a){var n=r,l=n.lib,i=l.Base,d=l.WordArray,x=n.x64={};x.Word=i.extend({init:function(h,m){this.high=h,this.low=m}}),x.WordArray=i.extend({init:function(h,m){h=this.words=h||[],m!=a?this.sigBytes=m:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,m=h.length,b=[],f=0;f<m;f++){var N=h[f];b.push(N.high),b.push(N.low)}return d.create(b,this.sigBytes)},clone:function(){for(var h=i.clone.call(this),m=h.words=this.words.slice(0),b=m.length,f=0;f<b;f++)m[f]=m[f].clone();return h}})})(),r})})(jm)),jm.exports}var Cm={exports:{}},N7=Cm.exports,tj;function j7(){return tj||(tj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(N7,function(r){return(function(){if(typeof ArrayBuffer=="function"){var a=r,n=a.lib,l=n.WordArray,i=l.init,d=l.init=function(x){if(x instanceof ArrayBuffer&&(x=new Uint8Array(x)),(x instanceof Int8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)&&(x=new Uint8Array(x.buffer,x.byteOffset,x.byteLength)),x instanceof Uint8Array){for(var h=x.byteLength,m=[],b=0;b<h;b++)m[b>>>2]|=x[b]<<24-b%4*8;i.call(this,m,h)}else i.apply(this,arguments)};d.prototype=l}})(),r.lib.WordArray})})(Cm)),Cm.exports}var Sm={exports:{}},C7=Sm.exports,sj;function S7(){return sj||(sj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(C7,function(r){return(function(){var a=r,n=a.lib,l=n.WordArray,i=a.enc;i.Utf16=i.Utf16BE={stringify:function(x){for(var h=x.words,m=x.sigBytes,b=[],f=0;f<m;f+=2){var N=h[f>>>2]>>>16-f%4*8&65535;b.push(String.fromCharCode(N))}return b.join("")},parse:function(x){for(var h=x.length,m=[],b=0;b<h;b++)m[b>>>1]|=x.charCodeAt(b)<<16-b%2*16;return l.create(m,h*2)}},i.Utf16LE={stringify:function(x){for(var h=x.words,m=x.sigBytes,b=[],f=0;f<m;f+=2){var N=d(h[f>>>2]>>>16-f%4*8&65535);b.push(String.fromCharCode(N))}return b.join("")},parse:function(x){for(var h=x.length,m=[],b=0;b<h;b++)m[b>>>1]|=d(x.charCodeAt(b)<<16-b%2*16);return l.create(m,h*2)}};function d(x){return x<<8&4278255360|x>>>8&16711935}})(),r.enc.Utf16})})(Sm)),Sm.exports}var km={exports:{}},k7=km.exports,rj;function bd(){return rj||(rj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(k7,function(r){return(function(){var a=r,n=a.lib,l=n.WordArray,i=a.enc;i.Base64={stringify:function(x){var h=x.words,m=x.sigBytes,b=this._map;x.clamp();for(var f=[],N=0;N<m;N+=3)for(var p=h[N>>>2]>>>24-N%4*8&255,v=h[N+1>>>2]>>>24-(N+1)%4*8&255,g=h[N+2>>>2]>>>24-(N+2)%4*8&255,y=p<<16|v<<8|g,C=0;C<4&&N+C*.75<m;C++)f.push(b.charAt(y>>>6*(3-C)&63));var j=b.charAt(64);if(j)for(;f.length%4;)f.push(j);return f.join("")},parse:function(x){var h=x.length,m=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var f=0;f<m.length;f++)b[m.charCodeAt(f)]=f}var N=m.charAt(64);if(N){var p=x.indexOf(N);p!==-1&&(h=p)}return d(x,h,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function d(x,h,m){for(var b=[],f=0,N=0;N<h;N++)if(N%4){var p=m[x.charCodeAt(N-1)]<<N%4*2,v=m[x.charCodeAt(N)]>>>6-N%4*2,g=p|v;b[f>>>2]|=g<<24-f%4*8,f++}return l.create(b,f)}})(),r.enc.Base64})})(km)),km.exports}var Dm={exports:{}},D7=Dm.exports,aj;function E7(){return aj||(aj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(D7,function(r){return(function(){var a=r,n=a.lib,l=n.WordArray,i=a.enc;i.Base64url={stringify:function(x,h){h===void 0&&(h=!0);var m=x.words,b=x.sigBytes,f=h?this._safe_map:this._map;x.clamp();for(var N=[],p=0;p<b;p+=3)for(var v=m[p>>>2]>>>24-p%4*8&255,g=m[p+1>>>2]>>>24-(p+1)%4*8&255,y=m[p+2>>>2]>>>24-(p+2)%4*8&255,C=v<<16|g<<8|y,j=0;j<4&&p+j*.75<b;j++)N.push(f.charAt(C>>>6*(3-j)&63));var S=f.charAt(64);if(S)for(;N.length%4;)N.push(S);return N.join("")},parse:function(x,h){h===void 0&&(h=!0);var m=x.length,b=h?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var N=0;N<b.length;N++)f[b.charCodeAt(N)]=N}var p=b.charAt(64);if(p){var v=x.indexOf(p);v!==-1&&(m=v)}return d(x,m,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function d(x,h,m){for(var b=[],f=0,N=0;N<h;N++)if(N%4){var p=m[x.charCodeAt(N-1)]<<N%4*2,v=m[x.charCodeAt(N)]>>>6-N%4*2,g=p|v;b[f>>>2]|=g<<24-f%4*8,f++}return l.create(b,f)}})(),r.enc.Base64url})})(Dm)),Dm.exports}var Em={exports:{}},T7=Em.exports,nj;function vd(){return nj||(nj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(T7,function(r){return(function(a){var n=r,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.algo,h=[];(function(){for(var v=0;v<64;v++)h[v]=a.abs(a.sin(v+1))*4294967296|0})();var m=x.MD5=d.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,g){for(var y=0;y<16;y++){var C=g+y,j=v[C];v[C]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var S=this._hash.words,P=v[g+0],D=v[g+1],T=v[g+2],A=v[g+3],M=v[g+4],L=v[g+5],q=v[g+6],B=v[g+7],te=v[g+8],oe=v[g+9],fe=v[g+10],R=v[g+11],V=v[g+12],W=v[g+13],ne=v[g+14],J=v[g+15],H=S[0],F=S[1],I=S[2],U=S[3];H=b(H,F,I,U,P,7,h[0]),U=b(U,H,F,I,D,12,h[1]),I=b(I,U,H,F,T,17,h[2]),F=b(F,I,U,H,A,22,h[3]),H=b(H,F,I,U,M,7,h[4]),U=b(U,H,F,I,L,12,h[5]),I=b(I,U,H,F,q,17,h[6]),F=b(F,I,U,H,B,22,h[7]),H=b(H,F,I,U,te,7,h[8]),U=b(U,H,F,I,oe,12,h[9]),I=b(I,U,H,F,fe,17,h[10]),F=b(F,I,U,H,R,22,h[11]),H=b(H,F,I,U,V,7,h[12]),U=b(U,H,F,I,W,12,h[13]),I=b(I,U,H,F,ne,17,h[14]),F=b(F,I,U,H,J,22,h[15]),H=f(H,F,I,U,D,5,h[16]),U=f(U,H,F,I,q,9,h[17]),I=f(I,U,H,F,R,14,h[18]),F=f(F,I,U,H,P,20,h[19]),H=f(H,F,I,U,L,5,h[20]),U=f(U,H,F,I,fe,9,h[21]),I=f(I,U,H,F,J,14,h[22]),F=f(F,I,U,H,M,20,h[23]),H=f(H,F,I,U,oe,5,h[24]),U=f(U,H,F,I,ne,9,h[25]),I=f(I,U,H,F,A,14,h[26]),F=f(F,I,U,H,te,20,h[27]),H=f(H,F,I,U,W,5,h[28]),U=f(U,H,F,I,T,9,h[29]),I=f(I,U,H,F,B,14,h[30]),F=f(F,I,U,H,V,20,h[31]),H=N(H,F,I,U,L,4,h[32]),U=N(U,H,F,I,te,11,h[33]),I=N(I,U,H,F,R,16,h[34]),F=N(F,I,U,H,ne,23,h[35]),H=N(H,F,I,U,D,4,h[36]),U=N(U,H,F,I,M,11,h[37]),I=N(I,U,H,F,B,16,h[38]),F=N(F,I,U,H,fe,23,h[39]),H=N(H,F,I,U,W,4,h[40]),U=N(U,H,F,I,P,11,h[41]),I=N(I,U,H,F,A,16,h[42]),F=N(F,I,U,H,q,23,h[43]),H=N(H,F,I,U,oe,4,h[44]),U=N(U,H,F,I,V,11,h[45]),I=N(I,U,H,F,J,16,h[46]),F=N(F,I,U,H,T,23,h[47]),H=p(H,F,I,U,P,6,h[48]),U=p(U,H,F,I,B,10,h[49]),I=p(I,U,H,F,ne,15,h[50]),F=p(F,I,U,H,L,21,h[51]),H=p(H,F,I,U,V,6,h[52]),U=p(U,H,F,I,A,10,h[53]),I=p(I,U,H,F,fe,15,h[54]),F=p(F,I,U,H,D,21,h[55]),H=p(H,F,I,U,te,6,h[56]),U=p(U,H,F,I,J,10,h[57]),I=p(I,U,H,F,q,15,h[58]),F=p(F,I,U,H,W,21,h[59]),H=p(H,F,I,U,M,6,h[60]),U=p(U,H,F,I,R,10,h[61]),I=p(I,U,H,F,T,15,h[62]),F=p(F,I,U,H,oe,21,h[63]),S[0]=S[0]+H|0,S[1]=S[1]+F|0,S[2]=S[2]+I|0,S[3]=S[3]+U|0},_doFinalize:function(){var v=this._data,g=v.words,y=this._nDataBytes*8,C=v.sigBytes*8;g[C>>>5]|=128<<24-C%32;var j=a.floor(y/4294967296),S=y;g[(C+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,g[(C+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,v.sigBytes=(g.length+1)*4,this._process();for(var P=this._hash,D=P.words,T=0;T<4;T++){var A=D[T];D[T]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return P},clone:function(){var v=d.clone.call(this);return v._hash=this._hash.clone(),v}});function b(v,g,y,C,j,S,P){var D=v+(g&y|~g&C)+j+P;return(D<<S|D>>>32-S)+g}function f(v,g,y,C,j,S,P){var D=v+(g&C|y&~C)+j+P;return(D<<S|D>>>32-S)+g}function N(v,g,y,C,j,S,P){var D=v+(g^y^C)+j+P;return(D<<S|D>>>32-S)+g}function p(v,g,y,C,j,S,P){var D=v+(y^(g|~C))+j+P;return(D<<S|D>>>32-S)+g}n.MD5=d._createHelper(m),n.HmacMD5=d._createHmacHelper(m)})(Math),r.MD5})})(Em)),Em.exports}var Tm={exports:{}},A7=Tm.exports,oj;function vC(){return oj||(oj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(A7,function(r){return(function(){var a=r,n=a.lib,l=n.WordArray,i=n.Hasher,d=a.algo,x=[],h=d.SHA1=i.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,b){for(var f=this._hash.words,N=f[0],p=f[1],v=f[2],g=f[3],y=f[4],C=0;C<80;C++){if(C<16)x[C]=m[b+C]|0;else{var j=x[C-3]^x[C-8]^x[C-14]^x[C-16];x[C]=j<<1|j>>>31}var S=(N<<5|N>>>27)+y+x[C];C<20?S+=(p&v|~p&g)+1518500249:C<40?S+=(p^v^g)+1859775393:C<60?S+=(p&v|p&g|v&g)-1894007588:S+=(p^v^g)-899497514,y=g,g=v,v=p<<30|p>>>2,p=N,N=S}f[0]=f[0]+N|0,f[1]=f[1]+p|0,f[2]=f[2]+v|0,f[3]=f[3]+g|0,f[4]=f[4]+y|0},_doFinalize:function(){var m=this._data,b=m.words,f=this._nDataBytes*8,N=m.sigBytes*8;return b[N>>>5]|=128<<24-N%32,b[(N+64>>>9<<4)+14]=Math.floor(f/4294967296),b[(N+64>>>9<<4)+15]=f,m.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m}});a.SHA1=i._createHelper(h),a.HmacSHA1=i._createHmacHelper(h)})(),r.SHA1})})(Tm)),Tm.exports}var Am={exports:{}},F7=Am.exports,lj;function Db(){return lj||(lj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(F7,function(r){return(function(a){var n=r,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.algo,h=[],m=[];(function(){function N(y){for(var C=a.sqrt(y),j=2;j<=C;j++)if(!(y%j))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var v=2,g=0;g<64;)N(v)&&(g<8&&(h[g]=p(a.pow(v,1/2))),m[g]=p(a.pow(v,1/3)),g++),v++})();var b=[],f=x.SHA256=d.extend({_doReset:function(){this._hash=new i.init(h.slice(0))},_doProcessBlock:function(N,p){for(var v=this._hash.words,g=v[0],y=v[1],C=v[2],j=v[3],S=v[4],P=v[5],D=v[6],T=v[7],A=0;A<64;A++){if(A<16)b[A]=N[p+A]|0;else{var M=b[A-15],L=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,q=b[A-2],B=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;b[A]=L+b[A-7]+B+b[A-16]}var te=S&P^~S&D,oe=g&y^g&C^y&C,fe=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),R=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),V=T+R+te+m[A]+b[A],W=fe+oe;T=D,D=P,P=S,S=j+V|0,j=C,C=y,y=g,g=V+W|0}v[0]=v[0]+g|0,v[1]=v[1]+y|0,v[2]=v[2]+C|0,v[3]=v[3]+j|0,v[4]=v[4]+S|0,v[5]=v[5]+P|0,v[6]=v[6]+D|0,v[7]=v[7]+T|0},_doFinalize:function(){var N=this._data,p=N.words,v=this._nDataBytes*8,g=N.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=a.floor(v/4294967296),p[(g+64>>>9<<4)+15]=v,N.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var N=d.clone.call(this);return N._hash=this._hash.clone(),N}});n.SHA256=d._createHelper(f),n.HmacSHA256=d._createHmacHelper(f)})(Math),r.SHA256})})(Am)),Am.exports}var Fm={exports:{}},P7=Fm.exports,ij;function M7(){return ij||(ij=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Db())})(P7,function(r){return(function(){var a=r,n=a.lib,l=n.WordArray,i=a.algo,d=i.SHA256,x=i.SHA224=d.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=d._doFinalize.call(this);return h.sigBytes-=4,h}});a.SHA224=d._createHelper(x),a.HmacSHA224=d._createHmacHelper(x)})(),r.SHA224})})(Fm)),Fm.exports}var Pm={exports:{}},I7=Pm.exports,cj;function wC(){return cj||(cj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Jp())})(I7,function(r){return(function(){var a=r,n=a.lib,l=n.Hasher,i=a.x64,d=i.Word,x=i.WordArray,h=a.algo;function m(){return d.create.apply(d,arguments)}var b=[m(1116352408,3609767458),m(1899447441,602891725),m(3049323471,3964484399),m(3921009573,2173295548),m(961987163,4081628472),m(1508970993,3053834265),m(2453635748,2937671579),m(2870763221,3664609560),m(3624381080,2734883394),m(310598401,1164996542),m(607225278,1323610764),m(1426881987,3590304994),m(1925078388,4068182383),m(2162078206,991336113),m(2614888103,633803317),m(3248222580,3479774868),m(3835390401,2666613458),m(4022224774,944711139),m(264347078,2341262773),m(604807628,2007800933),m(770255983,1495990901),m(1249150122,1856431235),m(1555081692,3175218132),m(1996064986,2198950837),m(2554220882,3999719339),m(2821834349,766784016),m(2952996808,2566594879),m(3210313671,3203337956),m(3336571891,1034457026),m(3584528711,2466948901),m(113926993,3758326383),m(338241895,168717936),m(666307205,1188179964),m(773529912,1546045734),m(1294757372,1522805485),m(1396182291,2643833823),m(1695183700,2343527390),m(1986661051,1014477480),m(2177026350,1206759142),m(2456956037,344077627),m(2730485921,1290863460),m(2820302411,3158454273),m(3259730800,3505952657),m(3345764771,106217008),m(3516065817,3606008344),m(3600352804,1432725776),m(4094571909,1467031594),m(275423344,851169720),m(430227734,3100823752),m(506948616,1363258195),m(659060556,3750685593),m(883997877,3785050280),m(958139571,3318307427),m(1322822218,3812723403),m(1537002063,2003034995),m(1747873779,3602036899),m(1955562222,1575990012),m(2024104815,1125592928),m(2227730452,2716904306),m(2361852424,442776044),m(2428436474,593698344),m(2756734187,3733110249),m(3204031479,2999351573),m(3329325298,3815920427),m(3391569614,3928383900),m(3515267271,566280711),m(3940187606,3454069534),m(4118630271,4000239992),m(116418474,1914138554),m(174292421,2731055270),m(289380356,3203993006),m(460393269,320620315),m(685471733,587496836),m(852142971,1086792851),m(1017036298,365543100),m(1126000580,2618297676),m(1288033470,3409855158),m(1501505948,4234509866),m(1607167915,987167468),m(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=m()})();var N=h.SHA512=l.extend({_doReset:function(){this._hash=new x.init([new d.init(1779033703,4089235720),new d.init(3144134277,2227873595),new d.init(1013904242,4271175723),new d.init(2773480762,1595750129),new d.init(1359893119,2917565137),new d.init(2600822924,725511199),new d.init(528734635,4215389547),new d.init(1541459225,327033209)])},_doProcessBlock:function(p,v){for(var g=this._hash.words,y=g[0],C=g[1],j=g[2],S=g[3],P=g[4],D=g[5],T=g[6],A=g[7],M=y.high,L=y.low,q=C.high,B=C.low,te=j.high,oe=j.low,fe=S.high,R=S.low,V=P.high,W=P.low,ne=D.high,J=D.low,H=T.high,F=T.low,I=A.high,U=A.low,k=M,O=L,he=q,ye=B,be=te,je=oe,ge=fe,xe=R,Se=V,De=W,Fe=ne,Ae=J,ze=H,He=F,Ve=I,qe=U,ve=0;ve<80;ve++){var Me,Te,Le=f[ve];if(ve<16)Te=Le.high=p[v+ve*2]|0,Me=Le.low=p[v+ve*2+1]|0;else{var ot=f[ve-15],Je=ot.high,Ge=ot.low,et=(Je>>>1|Ge<<31)^(Je>>>8|Ge<<24)^Je>>>7,yt=(Ge>>>1|Je<<31)^(Ge>>>8|Je<<24)^(Ge>>>7|Je<<25),mt=f[ve-2],jt=mt.high,we=mt.low,Re=(jt>>>19|we<<13)^(jt<<3|we>>>29)^jt>>>6,me=(we>>>19|jt<<13)^(we<<3|jt>>>29)^(we>>>6|jt<<26),Ye=f[ve-7],pt=Ye.high,Ft=Ye.low,Bt=f[ve-16],Lt=Bt.high,Qe=Bt.low;Me=yt+Ft,Te=et+pt+(Me>>>0<yt>>>0?1:0),Me=Me+me,Te=Te+Re+(Me>>>0<me>>>0?1:0),Me=Me+Qe,Te=Te+Lt+(Me>>>0<Qe>>>0?1:0),Le.high=Te,Le.low=Me}var gt=Se&Fe^~Se&ze,vt=De&Ae^~De&He,xt=k&he^k&be^he&be,Ct=O&ye^O&je^ye&je,Nt=(k>>>28|O<<4)^(k<<30|O>>>2)^(k<<25|O>>>7),$e=(O>>>28|k<<4)^(O<<30|k>>>2)^(O<<25|k>>>7),Ke=(Se>>>14|De<<18)^(Se>>>18|De<<14)^(Se<<23|De>>>9),ce=(De>>>14|Se<<18)^(De>>>18|Se<<14)^(De<<23|Se>>>9),Ee=b[ve],pe=Ee.high,at=Ee.low,ut=qe+ce,_t=Ve+Ke+(ut>>>0<qe>>>0?1:0),ut=ut+vt,_t=_t+gt+(ut>>>0<vt>>>0?1:0),ut=ut+at,_t=_t+pe+(ut>>>0<at>>>0?1:0),ut=ut+Me,_t=_t+Te+(ut>>>0<Me>>>0?1:0),it=$e+Ct,bt=Nt+xt+(it>>>0<$e>>>0?1:0);Ve=ze,qe=He,ze=Fe,He=Ae,Fe=Se,Ae=De,De=xe+ut|0,Se=ge+_t+(De>>>0<xe>>>0?1:0)|0,ge=be,xe=je,be=he,je=ye,he=k,ye=O,O=ut+it|0,k=_t+bt+(O>>>0<ut>>>0?1:0)|0}L=y.low=L+O,y.high=M+k+(L>>>0<O>>>0?1:0),B=C.low=B+ye,C.high=q+he+(B>>>0<ye>>>0?1:0),oe=j.low=oe+je,j.high=te+be+(oe>>>0<je>>>0?1:0),R=S.low=R+xe,S.high=fe+ge+(R>>>0<xe>>>0?1:0),W=P.low=W+De,P.high=V+Se+(W>>>0<De>>>0?1:0),J=D.low=J+Ae,D.high=ne+Fe+(J>>>0<Ae>>>0?1:0),F=T.low=F+He,T.high=H+ze+(F>>>0<He>>>0?1:0),U=A.low=U+qe,A.high=I+Ve+(U>>>0<qe>>>0?1:0)},_doFinalize:function(){var p=this._data,v=p.words,g=this._nDataBytes*8,y=p.sigBytes*8;v[y>>>5]|=128<<24-y%32,v[(y+128>>>10<<5)+30]=Math.floor(g/4294967296),v[(y+128>>>10<<5)+31]=g,p.sigBytes=v.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});a.SHA512=l._createHelper(N),a.HmacSHA512=l._createHmacHelper(N)})(),r.SHA512})})(Pm)),Pm.exports}var Mm={exports:{}},L7=Mm.exports,dj;function _7(){return dj||(dj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Jp(),wC())})(L7,function(r){return(function(){var a=r,n=a.x64,l=n.Word,i=n.WordArray,d=a.algo,x=d.SHA512,h=d.SHA384=x.extend({_doReset:function(){this._hash=new i.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var m=x._doFinalize.call(this);return m.sigBytes-=16,m}});a.SHA384=x._createHelper(h),a.HmacSHA384=x._createHmacHelper(h)})(),r.SHA384})})(Mm)),Mm.exports}var Im={exports:{}},O7=Im.exports,uj;function B7(){return uj||(uj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Jp())})(O7,function(r){return(function(a){var n=r,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.x64,h=x.Word,m=n.algo,b=[],f=[],N=[];(function(){for(var g=1,y=0,C=0;C<24;C++){b[g+5*y]=(C+1)*(C+2)/2%64;var j=y%5,S=(2*g+3*y)%5;g=j,y=S}for(var g=0;g<5;g++)for(var y=0;y<5;y++)f[g+5*y]=y+(2*g+3*y)%5*5;for(var P=1,D=0;D<24;D++){for(var T=0,A=0,M=0;M<7;M++){if(P&1){var L=(1<<M)-1;L<32?A^=1<<L:T^=1<<L-32}P&128?P=P<<1^113:P<<=1}N[D]=h.create(T,A)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=h.create()})();var v=m.SHA3=d.extend({cfg:d.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],y=0;y<25;y++)g[y]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,y){for(var C=this._state,j=this.blockSize/2,S=0;S<j;S++){var P=g[y+2*S],D=g[y+2*S+1];P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var T=C[S];T.high^=D,T.low^=P}for(var A=0;A<24;A++){for(var M=0;M<5;M++){for(var L=0,q=0,B=0;B<5;B++){var T=C[M+5*B];L^=T.high,q^=T.low}var te=p[M];te.high=L,te.low=q}for(var M=0;M<5;M++)for(var oe=p[(M+4)%5],fe=p[(M+1)%5],R=fe.high,V=fe.low,L=oe.high^(R<<1|V>>>31),q=oe.low^(V<<1|R>>>31),B=0;B<5;B++){var T=C[M+5*B];T.high^=L,T.low^=q}for(var W=1;W<25;W++){var L,q,T=C[W],ne=T.high,J=T.low,H=b[W];H<32?(L=ne<<H|J>>>32-H,q=J<<H|ne>>>32-H):(L=J<<H-32|ne>>>64-H,q=ne<<H-32|J>>>64-H);var F=p[f[W]];F.high=L,F.low=q}var I=p[0],U=C[0];I.high=U.high,I.low=U.low;for(var M=0;M<5;M++)for(var B=0;B<5;B++){var W=M+5*B,T=C[W],k=p[W],O=p[(M+1)%5+5*B],he=p[(M+2)%5+5*B];T.high=k.high^~O.high&he.high,T.low=k.low^~O.low&he.low}var T=C[0],ye=N[A];T.high^=ye.high,T.low^=ye.low}},_doFinalize:function(){var g=this._data,y=g.words;this._nDataBytes*8;var C=g.sigBytes*8,j=this.blockSize*32;y[C>>>5]|=1<<24-C%32,y[(a.ceil((C+1)/j)*j>>>5)-1]|=128,g.sigBytes=y.length*4,this._process();for(var S=this._state,P=this.cfg.outputLength/8,D=P/8,T=[],A=0;A<D;A++){var M=S[A],L=M.high,q=M.low;L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,T.push(q),T.push(L)}return new i.init(T,P)},clone:function(){for(var g=d.clone.call(this),y=g._state=this._state.slice(0),C=0;C<25;C++)y[C]=y[C].clone();return g}});n.SHA3=d._createHelper(v),n.HmacSHA3=d._createHmacHelper(v)})(Math),r.SHA3})})(Im)),Im.exports}var Lm={exports:{}},R7=Lm.exports,xj;function H7(){return xj||(xj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(R7,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(a){var n=r,l=n.lib,i=l.WordArray,d=l.Hasher,x=n.algo,h=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),b=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),N=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),v=x.RIPEMD160=d.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,T){for(var A=0;A<16;A++){var M=T+A,L=D[M];D[M]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360}var q=this._hash.words,B=N.words,te=p.words,oe=h.words,fe=m.words,R=b.words,V=f.words,W,ne,J,H,F,I,U,k,O,he;I=W=q[0],U=ne=q[1],k=J=q[2],O=H=q[3],he=F=q[4];for(var ye,A=0;A<80;A+=1)ye=W+D[T+oe[A]]|0,A<16?ye+=g(ne,J,H)+B[0]:A<32?ye+=y(ne,J,H)+B[1]:A<48?ye+=C(ne,J,H)+B[2]:A<64?ye+=j(ne,J,H)+B[3]:ye+=S(ne,J,H)+B[4],ye=ye|0,ye=P(ye,R[A]),ye=ye+F|0,W=F,F=H,H=P(J,10),J=ne,ne=ye,ye=I+D[T+fe[A]]|0,A<16?ye+=S(U,k,O)+te[0]:A<32?ye+=j(U,k,O)+te[1]:A<48?ye+=C(U,k,O)+te[2]:A<64?ye+=y(U,k,O)+te[3]:ye+=g(U,k,O)+te[4],ye=ye|0,ye=P(ye,V[A]),ye=ye+he|0,I=he,he=O,O=P(k,10),k=U,U=ye;ye=q[1]+J+O|0,q[1]=q[2]+H+he|0,q[2]=q[3]+F+I|0,q[3]=q[4]+W+U|0,q[4]=q[0]+ne+k|0,q[0]=ye},_doFinalize:function(){var D=this._data,T=D.words,A=this._nDataBytes*8,M=D.sigBytes*8;T[M>>>5]|=128<<24-M%32,T[(M+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,D.sigBytes=(T.length+1)*4,this._process();for(var L=this._hash,q=L.words,B=0;B<5;B++){var te=q[B];q[B]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}return L},clone:function(){var D=d.clone.call(this);return D._hash=this._hash.clone(),D}});function g(D,T,A){return D^T^A}function y(D,T,A){return D&T|~D&A}function C(D,T,A){return(D|~T)^A}function j(D,T,A){return D&A|T&~A}function S(D,T,A){return D^(T|~A)}function P(D,T){return D<<T|D>>>32-T}n.RIPEMD160=d._createHelper(v),n.HmacRIPEMD160=d._createHmacHelper(v)})(),r.RIPEMD160})})(Lm)),Lm.exports}var _m={exports:{}},U7=_m.exports,hj;function Eb(){return hj||(hj=1,(function(t,s){(function(r,a){t.exports=a(Xs())})(U7,function(r){(function(){var a=r,n=a.lib,l=n.Base,i=a.enc,d=i.Utf8,x=a.algo;x.HMAC=l.extend({init:function(h,m){h=this._hasher=new h.init,typeof m=="string"&&(m=d.parse(m));var b=h.blockSize,f=b*4;m.sigBytes>f&&(m=h.finalize(m)),m.clamp();for(var N=this._oKey=m.clone(),p=this._iKey=m.clone(),v=N.words,g=p.words,y=0;y<b;y++)v[y]^=1549556828,g[y]^=909522486;N.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var m=this._hasher,b=m.finalize(h);m.reset();var f=m.finalize(this._oKey.clone().concat(b));return f}})})()})})(_m)),_m.exports}var Om={exports:{}},W7=Om.exports,mj;function G7(){return mj||(mj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Db(),Eb())})(W7,function(r){return(function(){var a=r,n=a.lib,l=n.Base,i=n.WordArray,d=a.algo,x=d.SHA256,h=d.HMAC,m=d.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:x,iterations:25e4}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,f){for(var N=this.cfg,p=h.create(N.hasher,b),v=i.create(),g=i.create([1]),y=v.words,C=g.words,j=N.keySize,S=N.iterations;y.length<j;){var P=p.update(f).finalize(g);p.reset();for(var D=P.words,T=D.length,A=P,M=1;M<S;M++){A=p.finalize(A),p.reset();for(var L=A.words,q=0;q<T;q++)D[q]^=L[q]}v.concat(P),C[0]++}return v.sigBytes=j*4,v}});a.PBKDF2=function(b,f,N){return m.create(N).compute(b,f)}})(),r.PBKDF2})})(Om)),Om.exports}var Bm={exports:{}},$7=Bm.exports,pj;function fc(){return pj||(pj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),vC(),Eb())})($7,function(r){return(function(){var a=r,n=a.lib,l=n.Base,i=n.WordArray,d=a.algo,x=d.MD5,h=d.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:x,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,b){for(var f,N=this.cfg,p=N.hasher.create(),v=i.create(),g=v.words,y=N.keySize,C=N.iterations;g.length<y;){f&&p.update(f),f=p.update(m).finalize(b),p.reset();for(var j=1;j<C;j++)f=p.finalize(f),p.reset();v.concat(f)}return v.sigBytes=y*4,v}});a.EvpKDF=function(m,b,f){return h.create(f).compute(m,b)}})(),r.EvpKDF})})(Bm)),Bm.exports}var Rm={exports:{}},z7=Rm.exports,fj;function Xa(){return fj||(fj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),fc())})(z7,function(r){r.lib.Cipher||(function(a){var n=r,l=n.lib,i=l.Base,d=l.WordArray,x=l.BufferedBlockAlgorithm,h=n.enc;h.Utf8;var m=h.Base64,b=n.algo,f=b.EvpKDF,N=l.Cipher=x.extend({cfg:i.extend(),createEncryptor:function(L,q){return this.create(this._ENC_XFORM_MODE,L,q)},createDecryptor:function(L,q){return this.create(this._DEC_XFORM_MODE,L,q)},init:function(L,q,B){this.cfg=this.cfg.extend(B),this._xformMode=L,this._key=q,this.reset()},reset:function(){x.reset.call(this),this._doReset()},process:function(L){return this._append(L),this._process()},finalize:function(L){L&&this._append(L);var q=this._doFinalize();return q},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function L(q){return typeof q=="string"?M:D}return function(q){return{encrypt:function(B,te,oe){return L(te).encrypt(q,B,te,oe)},decrypt:function(B,te,oe){return L(te).decrypt(q,B,te,oe)}}}})()});l.StreamCipher=N.extend({_doFinalize:function(){var L=this._process(!0);return L},blockSize:1});var p=n.mode={},v=l.BlockCipherMode=i.extend({createEncryptor:function(L,q){return this.Encryptor.create(L,q)},createDecryptor:function(L,q){return this.Decryptor.create(L,q)},init:function(L,q){this._cipher=L,this._iv=q}}),g=p.CBC=(function(){var L=v.extend();L.Encryptor=L.extend({processBlock:function(B,te){var oe=this._cipher,fe=oe.blockSize;q.call(this,B,te,fe),oe.encryptBlock(B,te),this._prevBlock=B.slice(te,te+fe)}}),L.Decryptor=L.extend({processBlock:function(B,te){var oe=this._cipher,fe=oe.blockSize,R=B.slice(te,te+fe);oe.decryptBlock(B,te),q.call(this,B,te,fe),this._prevBlock=R}});function q(B,te,oe){var fe,R=this._iv;R?(fe=R,this._iv=a):fe=this._prevBlock;for(var V=0;V<oe;V++)B[te+V]^=fe[V]}return L})(),y=n.pad={},C=y.Pkcs7={pad:function(L,q){for(var B=q*4,te=B-L.sigBytes%B,oe=te<<24|te<<16|te<<8|te,fe=[],R=0;R<te;R+=4)fe.push(oe);var V=d.create(fe,te);L.concat(V)},unpad:function(L){var q=L.words[L.sigBytes-1>>>2]&255;L.sigBytes-=q}};l.BlockCipher=N.extend({cfg:N.cfg.extend({mode:g,padding:C}),reset:function(){var L;N.reset.call(this);var q=this.cfg,B=q.iv,te=q.mode;this._xformMode==this._ENC_XFORM_MODE?L=te.createEncryptor:(L=te.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==L?this._mode.init(this,B&&B.words):(this._mode=L.call(te,this,B&&B.words),this._mode.__creator=L)},_doProcessBlock:function(L,q){this._mode.processBlock(L,q)},_doFinalize:function(){var L,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),L=this._process(!0)):(L=this._process(!0),q.unpad(L)),L},blockSize:128/32});var j=l.CipherParams=i.extend({init:function(L){this.mixIn(L)},toString:function(L){return(L||this.formatter).stringify(this)}}),S=n.format={},P=S.OpenSSL={stringify:function(L){var q,B=L.ciphertext,te=L.salt;return te?q=d.create([1398893684,1701076831]).concat(te).concat(B):q=B,q.toString(m)},parse:function(L){var q,B=m.parse(L),te=B.words;return te[0]==1398893684&&te[1]==1701076831&&(q=d.create(te.slice(2,4)),te.splice(0,4),B.sigBytes-=16),j.create({ciphertext:B,salt:q})}},D=l.SerializableCipher=i.extend({cfg:i.extend({format:P}),encrypt:function(L,q,B,te){te=this.cfg.extend(te);var oe=L.createEncryptor(B,te),fe=oe.finalize(q),R=oe.cfg;return j.create({ciphertext:fe,key:B,iv:R.iv,algorithm:L,mode:R.mode,padding:R.padding,blockSize:L.blockSize,formatter:te.format})},decrypt:function(L,q,B,te){te=this.cfg.extend(te),q=this._parse(q,te.format);var oe=L.createDecryptor(B,te).finalize(q.ciphertext);return oe},_parse:function(L,q){return typeof L=="string"?q.parse(L,this):L}}),T=n.kdf={},A=T.OpenSSL={execute:function(L,q,B,te,oe){if(te||(te=d.random(64/8)),oe)var fe=f.create({keySize:q+B,hasher:oe}).compute(L,te);else var fe=f.create({keySize:q+B}).compute(L,te);var R=d.create(fe.words.slice(q),B*4);return fe.sigBytes=q*4,j.create({key:fe,iv:R,salt:te})}},M=l.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:A}),encrypt:function(L,q,B,te){te=this.cfg.extend(te);var oe=te.kdf.execute(B,L.keySize,L.ivSize,te.salt,te.hasher);te.iv=oe.iv;var fe=D.encrypt.call(this,L,q,oe.key,te);return fe.mixIn(oe),fe},decrypt:function(L,q,B,te){te=this.cfg.extend(te),q=this._parse(q,te.format);var oe=te.kdf.execute(B,L.keySize,L.ivSize,q.salt,te.hasher);te.iv=oe.iv;var fe=D.decrypt.call(this,L,q,oe.key,te);return fe}})})()})})(Rm)),Rm.exports}var Hm={exports:{}},V7=Hm.exports,gj;function Y7(){return gj||(gj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(V7,function(r){return r.mode.CFB=(function(){var a=r.lib.BlockCipherMode.extend();a.Encryptor=a.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize;n.call(this,l,i,x,d),this._prevBlock=l.slice(i,i+x)}}),a.Decryptor=a.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize,h=l.slice(i,i+x);n.call(this,l,i,x,d),this._prevBlock=h}});function n(l,i,d,x){var h,m=this._iv;m?(h=m.slice(0),this._iv=void 0):h=this._prevBlock,x.encryptBlock(h,0);for(var b=0;b<d;b++)l[i+b]^=h[b]}return a})(),r.mode.CFB})})(Hm)),Hm.exports}var Um={exports:{}},K7=Um.exports,yj;function q7(){return yj||(yj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(K7,function(r){return r.mode.CTR=(function(){var a=r.lib.BlockCipherMode.extend(),n=a.Encryptor=a.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize,h=this._iv,m=this._counter;h&&(m=this._counter=h.slice(0),this._iv=void 0);var b=m.slice(0);d.encryptBlock(b,0),m[x-1]=m[x-1]+1|0;for(var f=0;f<x;f++)l[i+f]^=b[f]}});return a.Decryptor=n,a})(),r.mode.CTR})})(Um)),Um.exports}var Wm={exports:{}},X7=Wm.exports,bj;function J7(){return bj||(bj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(X7,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=(function(){var a=r.lib.BlockCipherMode.extend();function n(d){if((d>>24&255)===255){var x=d>>16&255,h=d>>8&255,m=d&255;x===255?(x=0,h===255?(h=0,m===255?m=0:++m):++h):++x,d=0,d+=x<<16,d+=h<<8,d+=m}else d+=1<<24;return d}function l(d){return(d[0]=n(d[0]))===0&&(d[1]=n(d[1])),d}var i=a.Encryptor=a.extend({processBlock:function(d,x){var h=this._cipher,m=h.blockSize,b=this._iv,f=this._counter;b&&(f=this._counter=b.slice(0),this._iv=void 0),l(f);var N=f.slice(0);h.encryptBlock(N,0);for(var p=0;p<m;p++)d[x+p]^=N[p]}});return a.Decryptor=i,a})(),r.mode.CTRGladman})})(Wm)),Wm.exports}var Gm={exports:{}},Q7=Gm.exports,vj;function Z7(){return vj||(vj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(Q7,function(r){return r.mode.OFB=(function(){var a=r.lib.BlockCipherMode.extend(),n=a.Encryptor=a.extend({processBlock:function(l,i){var d=this._cipher,x=d.blockSize,h=this._iv,m=this._keystream;h&&(m=this._keystream=h.slice(0),this._iv=void 0),d.encryptBlock(m,0);for(var b=0;b<x;b++)l[i+b]^=m[b]}});return a.Decryptor=n,a})(),r.mode.OFB})})(Gm)),Gm.exports}var $m={exports:{}},eP=$m.exports,wj;function tP(){return wj||(wj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(eP,function(r){return r.mode.ECB=(function(){var a=r.lib.BlockCipherMode.extend();return a.Encryptor=a.extend({processBlock:function(n,l){this._cipher.encryptBlock(n,l)}}),a.Decryptor=a.extend({processBlock:function(n,l){this._cipher.decryptBlock(n,l)}}),a})(),r.mode.ECB})})($m)),$m.exports}var zm={exports:{}},sP=zm.exports,Nj;function rP(){return Nj||(Nj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(sP,function(r){return r.pad.AnsiX923={pad:function(a,n){var l=a.sigBytes,i=n*4,d=i-l%i,x=l+d-1;a.clamp(),a.words[x>>>2]|=d<<24-x%4*8,a.sigBytes+=d},unpad:function(a){var n=a.words[a.sigBytes-1>>>2]&255;a.sigBytes-=n}},r.pad.Ansix923})})(zm)),zm.exports}var Vm={exports:{}},aP=Vm.exports,jj;function nP(){return jj||(jj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(aP,function(r){return r.pad.Iso10126={pad:function(a,n){var l=n*4,i=l-a.sigBytes%l;a.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(a){var n=a.words[a.sigBytes-1>>>2]&255;a.sigBytes-=n}},r.pad.Iso10126})})(Vm)),Vm.exports}var Ym={exports:{}},oP=Ym.exports,Cj;function lP(){return Cj||(Cj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(oP,function(r){return r.pad.Iso97971={pad:function(a,n){a.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(a,n)},unpad:function(a){r.pad.ZeroPadding.unpad(a),a.sigBytes--}},r.pad.Iso97971})})(Ym)),Ym.exports}var Km={exports:{}},iP=Km.exports,Sj;function cP(){return Sj||(Sj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(iP,function(r){return r.pad.ZeroPadding={pad:function(a,n){var l=n*4;a.clamp(),a.sigBytes+=l-(a.sigBytes%l||l)},unpad:function(a){for(var n=a.words,l=a.sigBytes-1,l=a.sigBytes-1;l>=0;l--)if(n[l>>>2]>>>24-l%4*8&255){a.sigBytes=l+1;break}}},r.pad.ZeroPadding})})(Km)),Km.exports}var qm={exports:{}},dP=qm.exports,kj;function uP(){return kj||(kj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(dP,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})})(qm)),qm.exports}var Xm={exports:{}},xP=Xm.exports,Dj;function hP(){return Dj||(Dj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Xa())})(xP,function(r){return(function(a){var n=r,l=n.lib,i=l.CipherParams,d=n.enc,x=d.Hex,h=n.format;h.Hex={stringify:function(m){return m.ciphertext.toString(x)},parse:function(m){var b=x.parse(m);return i.create({ciphertext:b})}}})(),r.format.Hex})})(Xm)),Xm.exports}var Jm={exports:{}},mP=Jm.exports,Ej;function pP(){return Ej||(Ej=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),bd(),vd(),fc(),Xa())})(mP,function(r){return(function(){var a=r,n=a.lib,l=n.BlockCipher,i=a.algo,d=[],x=[],h=[],m=[],b=[],f=[],N=[],p=[],v=[],g=[];(function(){for(var j=[],S=0;S<256;S++)S<128?j[S]=S<<1:j[S]=S<<1^283;for(var P=0,D=0,S=0;S<256;S++){var T=D^D<<1^D<<2^D<<3^D<<4;T=T>>>8^T&255^99,d[P]=T,x[T]=P;var A=j[P],M=j[A],L=j[M],q=j[T]*257^T*16843008;h[P]=q<<24|q>>>8,m[P]=q<<16|q>>>16,b[P]=q<<8|q>>>24,f[P]=q;var q=L*16843009^M*65537^A*257^P*16843008;N[T]=q<<24|q>>>8,p[T]=q<<16|q>>>16,v[T]=q<<8|q>>>24,g[T]=q,P?(P=A^j[j[j[L^A]]],D^=j[j[D]]):P=D=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],C=i.AES=l.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,P=S.words,D=S.sigBytes/4,T=this._nRounds=D+6,A=(T+1)*4,M=this._keySchedule=[],L=0;L<A;L++)L<D?M[L]=P[L]:(j=M[L-1],L%D?D>6&&L%D==4&&(j=d[j>>>24]<<24|d[j>>>16&255]<<16|d[j>>>8&255]<<8|d[j&255]):(j=j<<8|j>>>24,j=d[j>>>24]<<24|d[j>>>16&255]<<16|d[j>>>8&255]<<8|d[j&255],j^=y[L/D|0]<<24),M[L]=M[L-D]^j);for(var q=this._invKeySchedule=[],B=0;B<A;B++){var L=A-B;if(B%4)var j=M[L];else var j=M[L-4];B<4||L<=4?q[B]=j:q[B]=N[d[j>>>24]]^p[d[j>>>16&255]]^v[d[j>>>8&255]]^g[d[j&255]]}}},encryptBlock:function(j,S){this._doCryptBlock(j,S,this._keySchedule,h,m,b,f,d)},decryptBlock:function(j,S){var P=j[S+1];j[S+1]=j[S+3],j[S+3]=P,this._doCryptBlock(j,S,this._invKeySchedule,N,p,v,g,x);var P=j[S+1];j[S+1]=j[S+3],j[S+3]=P},_doCryptBlock:function(j,S,P,D,T,A,M,L){for(var q=this._nRounds,B=j[S]^P[0],te=j[S+1]^P[1],oe=j[S+2]^P[2],fe=j[S+3]^P[3],R=4,V=1;V<q;V++){var W=D[B>>>24]^T[te>>>16&255]^A[oe>>>8&255]^M[fe&255]^P[R++],ne=D[te>>>24]^T[oe>>>16&255]^A[fe>>>8&255]^M[B&255]^P[R++],J=D[oe>>>24]^T[fe>>>16&255]^A[B>>>8&255]^M[te&255]^P[R++],H=D[fe>>>24]^T[B>>>16&255]^A[te>>>8&255]^M[oe&255]^P[R++];B=W,te=ne,oe=J,fe=H}var W=(L[B>>>24]<<24|L[te>>>16&255]<<16|L[oe>>>8&255]<<8|L[fe&255])^P[R++],ne=(L[te>>>24]<<24|L[oe>>>16&255]<<16|L[fe>>>8&255]<<8|L[B&255])^P[R++],J=(L[oe>>>24]<<24|L[fe>>>16&255]<<16|L[B>>>8&255]<<8|L[te&255])^P[R++],H=(L[fe>>>24]<<24|L[B>>>16&255]<<16|L[te>>>8&255]<<8|L[oe&255])^P[R++];j[S]=W,j[S+1]=ne,j[S+2]=J,j[S+3]=H},keySize:256/32});a.AES=l._createHelper(C)})(),r.AES})})(Jm)),Jm.exports}var Qm={exports:{}},fP=Qm.exports,Tj;function gP(){return Tj||(Tj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),bd(),vd(),fc(),Xa())})(fP,function(r){return(function(){var a=r,n=a.lib,l=n.WordArray,i=n.BlockCipher,d=a.algo,x=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],m=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],N=d.DES=i.extend({_doReset:function(){for(var y=this._key,C=y.words,j=[],S=0;S<56;S++){var P=x[S]-1;j[S]=C[P>>>5]>>>31-P%32&1}for(var D=this._subKeys=[],T=0;T<16;T++){for(var A=D[T]=[],M=m[T],S=0;S<24;S++)A[S/6|0]|=j[(h[S]-1+M)%28]<<31-S%6,A[4+(S/6|0)]|=j[28+(h[S+24]-1+M)%28]<<31-S%6;A[0]=A[0]<<1|A[0]>>>31;for(var S=1;S<7;S++)A[S]=A[S]>>>(S-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var L=this._invSubKeys=[],S=0;S<16;S++)L[S]=D[15-S]},encryptBlock:function(y,C){this._doCryptBlock(y,C,this._subKeys)},decryptBlock:function(y,C){this._doCryptBlock(y,C,this._invSubKeys)},_doCryptBlock:function(y,C,j){this._lBlock=y[C],this._rBlock=y[C+1],p.call(this,4,252645135),p.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),p.call(this,1,1431655765);for(var S=0;S<16;S++){for(var P=j[S],D=this._lBlock,T=this._rBlock,A=0,M=0;M<8;M++)A|=b[M][((T^P[M])&f[M])>>>0];this._lBlock=T,this._rBlock=D^A}var L=this._lBlock;this._lBlock=this._rBlock,this._rBlock=L,p.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[C]=this._lBlock,y[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,C){var j=(this._lBlock>>>y^this._rBlock)&C;this._rBlock^=j,this._lBlock^=j<<y}function v(y,C){var j=(this._rBlock>>>y^this._lBlock)&C;this._lBlock^=j,this._rBlock^=j<<y}a.DES=i._createHelper(N);var g=d.TripleDES=i.extend({_doReset:function(){var y=this._key,C=y.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var j=C.slice(0,2),S=C.length<4?C.slice(0,2):C.slice(2,4),P=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=N.createEncryptor(l.create(j)),this._des2=N.createEncryptor(l.create(S)),this._des3=N.createEncryptor(l.create(P))},encryptBlock:function(y,C){this._des1.encryptBlock(y,C),this._des2.decryptBlock(y,C),this._des3.encryptBlock(y,C)},decryptBlock:function(y,C){this._des3.decryptBlock(y,C),this._des2.encryptBlock(y,C),this._des1.decryptBlock(y,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});a.TripleDES=i._createHelper(g)})(),r.TripleDES})})(Qm)),Qm.exports}var Zm={exports:{}},yP=Zm.exports,Aj;function bP(){return Aj||(Aj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),bd(),vd(),fc(),Xa())})(yP,function(r){return(function(){var a=r,n=a.lib,l=n.StreamCipher,i=a.algo,d=i.RC4=l.extend({_doReset:function(){for(var m=this._key,b=m.words,f=m.sigBytes,N=this._S=[],p=0;p<256;p++)N[p]=p;for(var p=0,v=0;p<256;p++){var g=p%f,y=b[g>>>2]>>>24-g%4*8&255;v=(v+N[p]+y)%256;var C=N[p];N[p]=N[v],N[v]=C}this._i=this._j=0},_doProcessBlock:function(m,b){m[b]^=x.call(this)},keySize:256/32,ivSize:0});function x(){for(var m=this._S,b=this._i,f=this._j,N=0,p=0;p<4;p++){b=(b+1)%256,f=(f+m[b])%256;var v=m[b];m[b]=m[f],m[f]=v,N|=m[(m[b]+m[f])%256]<<24-p*8}return this._i=b,this._j=f,N}a.RC4=l._createHelper(d);var h=i.RC4Drop=d.extend({cfg:d.cfg.extend({drop:192}),_doReset:function(){d._doReset.call(this);for(var m=this.cfg.drop;m>0;m--)x.call(this)}});a.RC4Drop=l._createHelper(h)})(),r.RC4})})(Zm)),Zm.exports}var ep={exports:{}},vP=ep.exports,Fj;function wP(){return Fj||(Fj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),bd(),vd(),fc(),Xa())})(vP,function(r){return(function(){var a=r,n=a.lib,l=n.StreamCipher,i=a.algo,d=[],x=[],h=[],m=i.Rabbit=l.extend({_doReset:function(){for(var f=this._key.words,N=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)b.call(this);for(var p=0;p<8;p++)g[p]^=v[p+4&7];if(N){var y=N.words,C=y[0],j=y[1],S=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,P=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,D=S>>>16|P&4294901760,T=P<<16|S&65535;g[0]^=S,g[1]^=D,g[2]^=P,g[3]^=T,g[4]^=S,g[5]^=D,g[6]^=P,g[7]^=T;for(var p=0;p<4;p++)b.call(this)}},_doProcessBlock:function(f,N){var p=this._X;b.call(this),d[0]=p[0]^p[5]>>>16^p[3]<<16,d[1]=p[2]^p[7]>>>16^p[5]<<16,d[2]=p[4]^p[1]>>>16^p[7]<<16,d[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)d[v]=(d[v]<<8|d[v]>>>24)&16711935|(d[v]<<24|d[v]>>>8)&4278255360,f[N+v]^=d[v]},blockSize:128/32,ivSize:64/32});function b(){for(var f=this._X,N=this._C,p=0;p<8;p++)x[p]=N[p];N[0]=N[0]+1295307597+this._b|0,N[1]=N[1]+3545052371+(N[0]>>>0<x[0]>>>0?1:0)|0,N[2]=N[2]+886263092+(N[1]>>>0<x[1]>>>0?1:0)|0,N[3]=N[3]+1295307597+(N[2]>>>0<x[2]>>>0?1:0)|0,N[4]=N[4]+3545052371+(N[3]>>>0<x[3]>>>0?1:0)|0,N[5]=N[5]+886263092+(N[4]>>>0<x[4]>>>0?1:0)|0,N[6]=N[6]+1295307597+(N[5]>>>0<x[5]>>>0?1:0)|0,N[7]=N[7]+3545052371+(N[6]>>>0<x[6]>>>0?1:0)|0,this._b=N[7]>>>0<x[7]>>>0?1:0;for(var p=0;p<8;p++){var v=f[p]+N[p],g=v&65535,y=v>>>16,C=((g*g>>>17)+g*y>>>15)+y*y,j=((v&4294901760)*v|0)+((v&65535)*v|0);h[p]=C^j}f[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,f[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,f[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,f[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,f[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,f[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,f[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,f[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}a.Rabbit=l._createHelper(m)})(),r.Rabbit})})(ep)),ep.exports}var tp={exports:{}},NP=tp.exports,Pj;function jP(){return Pj||(Pj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),bd(),vd(),fc(),Xa())})(NP,function(r){return(function(){var a=r,n=a.lib,l=n.StreamCipher,i=a.algo,d=[],x=[],h=[],m=i.RabbitLegacy=l.extend({_doReset:function(){var f=this._key.words,N=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)b.call(this);for(var g=0;g<8;g++)v[g]^=p[g+4&7];if(N){var y=N.words,C=y[0],j=y[1],S=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,P=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,D=S>>>16|P&4294901760,T=P<<16|S&65535;v[0]^=S,v[1]^=D,v[2]^=P,v[3]^=T,v[4]^=S,v[5]^=D,v[6]^=P,v[7]^=T;for(var g=0;g<4;g++)b.call(this)}},_doProcessBlock:function(f,N){var p=this._X;b.call(this),d[0]=p[0]^p[5]>>>16^p[3]<<16,d[1]=p[2]^p[7]>>>16^p[5]<<16,d[2]=p[4]^p[1]>>>16^p[7]<<16,d[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)d[v]=(d[v]<<8|d[v]>>>24)&16711935|(d[v]<<24|d[v]>>>8)&4278255360,f[N+v]^=d[v]},blockSize:128/32,ivSize:64/32});function b(){for(var f=this._X,N=this._C,p=0;p<8;p++)x[p]=N[p];N[0]=N[0]+1295307597+this._b|0,N[1]=N[1]+3545052371+(N[0]>>>0<x[0]>>>0?1:0)|0,N[2]=N[2]+886263092+(N[1]>>>0<x[1]>>>0?1:0)|0,N[3]=N[3]+1295307597+(N[2]>>>0<x[2]>>>0?1:0)|0,N[4]=N[4]+3545052371+(N[3]>>>0<x[3]>>>0?1:0)|0,N[5]=N[5]+886263092+(N[4]>>>0<x[4]>>>0?1:0)|0,N[6]=N[6]+1295307597+(N[5]>>>0<x[5]>>>0?1:0)|0,N[7]=N[7]+3545052371+(N[6]>>>0<x[6]>>>0?1:0)|0,this._b=N[7]>>>0<x[7]>>>0?1:0;for(var p=0;p<8;p++){var v=f[p]+N[p],g=v&65535,y=v>>>16,C=((g*g>>>17)+g*y>>>15)+y*y,j=((v&4294901760)*v|0)+((v&65535)*v|0);h[p]=C^j}f[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,f[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,f[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,f[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,f[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,f[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,f[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,f[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}a.RabbitLegacy=l._createHelper(m)})(),r.RabbitLegacy})})(tp)),tp.exports}var sp={exports:{}},CP=sp.exports,Mj;function SP(){return Mj||(Mj=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),bd(),vd(),fc(),Xa())})(CP,function(r){return(function(){var a=r,n=a.lib,l=n.BlockCipher,i=a.algo;const d=16,x=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var m={pbox:[],sbox:[]};function b(g,y){let C=y>>24&255,j=y>>16&255,S=y>>8&255,P=y&255,D=g.sbox[0][C]+g.sbox[1][j];return D=D^g.sbox[2][S],D=D+g.sbox[3][P],D}function f(g,y,C){let j=y,S=C,P;for(let D=0;D<d;++D)j=j^g.pbox[D],S=b(g,j)^S,P=j,j=S,S=P;return P=j,j=S,S=P,S=S^g.pbox[d],j=j^g.pbox[d+1],{left:j,right:S}}function N(g,y,C){let j=y,S=C,P;for(let D=d+1;D>1;--D)j=j^g.pbox[D],S=b(g,j)^S,P=j,j=S,S=P;return P=j,j=S,S=P,S=S^g.pbox[1],j=j^g.pbox[0],{left:j,right:S}}function p(g,y,C){for(let T=0;T<4;T++){g.sbox[T]=[];for(let A=0;A<256;A++)g.sbox[T][A]=h[T][A]}let j=0;for(let T=0;T<d+2;T++)g.pbox[T]=x[T]^y[j],j++,j>=C&&(j=0);let S=0,P=0,D=0;for(let T=0;T<d+2;T+=2)D=f(g,S,P),S=D.left,P=D.right,g.pbox[T]=S,g.pbox[T+1]=P;for(let T=0;T<4;T++)for(let A=0;A<256;A+=2)D=f(g,S,P),S=D.left,P=D.right,g.sbox[T][A]=S,g.sbox[T][A+1]=P;return!0}var v=i.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,y=g.words,C=g.sigBytes/4;p(m,y,C)}},encryptBlock:function(g,y){var C=f(m,g[y],g[y+1]);g[y]=C.left,g[y+1]=C.right},decryptBlock:function(g,y){var C=N(m,g[y],g[y+1]);g[y]=C.left,g[y+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});a.Blowfish=l._createHelper(v)})(),r.Blowfish})})(sp)),sp.exports}var kP=wm.exports,Ij;function DP(){return Ij||(Ij=1,(function(t,s){(function(r,a,n){t.exports=a(Xs(),Jp(),j7(),S7(),bd(),E7(),vd(),vC(),Db(),M7(),wC(),_7(),B7(),H7(),Eb(),G7(),fc(),Xa(),Y7(),q7(),J7(),Z7(),tP(),rP(),nP(),lP(),cP(),uP(),hP(),pP(),gP(),bP(),wP(),jP(),SP())})(kP,function(r){return r})})(wm)),wm.exports}var EP=DP();const za=tb(EP),TP="128bl3$$1ng$",AP="bl3$$1ng$128";let Rh=null;function FP(){if(Rh)return Rh;const t=za.enc.Utf16LE.parse(AP),s=za.PBKDF2(TP,t,{keySize:12,iterations:1e3,hasher:za.algo.SHA1});return Rh={iv:za.lib.WordArray.create(s.words.slice(0,4)),key:za.lib.WordArray.create(s.words.slice(4,12))},Rh}const ns=t=>{if(!t||t==="string")return"";try{const{key:s,iv:r}=FP(),a=t.trim().replace(/\s/g,"+");return za.AES.decrypt(a,s,{iv:r,mode:za.mode.CBC,padding:za.pad.Pkcs7}).toString(za.enc.Utf16LE)}catch(s){return console.error("Decryption Error:",s),""}};function PP({onLogout:t,activeSection:s,setActiveSection:r}){const[a,n]=o.useState(null),[l,i]=o.useState(null),[d,x]=o.useState(!1),[h,m]=o.useState(!1),[b,f]=o.useState(!1),N=o.useRef(null),p=o.useRef(null),v=o.useRef(null),g=900*1e3,[y,C]=o.useState({});o.useEffect(()=>{const R=()=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{j()},g)},V=["mousedown","mousemove","keypress","scroll","touchstart","click"];return V.forEach(W=>{document.addEventListener(W,R)}),R(),()=>{V.forEach(W=>{document.removeEventListener(W,R)}),v.current&&clearTimeout(v.current)}},[]);const j=async()=>{f(!0);try{const R=localStorage.getItem("userData"),V=R?JSON.parse(R):{},W=V.userID||V.userId||V.id||0;await ae.post("UserLogin/logout",{userId:W}),localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),await Q.fire({icon:"warning",title:"Session Expired",text:"You have been logged out due to inactivity.",timer:2e3,showConfirmButton:!1}),t()}catch(R){console.error("Auto logout error:",R),localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),t()}};o.useEffect(()=>{S()},[]);const S=()=>{const R=localStorage.getItem("loginPayload");if(R)try{const ne=(JSON.parse(R).permissions||[]).filter(H=>ns(H.formName)==="BranchSetup"),J={};ne.forEach(H=>{const F=ns(H.accessTypeName);F&&(J[F]=!0)}),C(J)}catch(V){console.error("Error parsing or decrypting payload",V)}},P=async()=>{f(!0);try{const R=localStorage.getItem("userData"),V=R?JSON.parse(R):{},W=V.userID||V.userId||V.id||0;await ae.post("UserLogin/logout",{userId:W}),localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),await Q.fire({icon:"success",title:"Logout Successful",text:"You have been logged out.",timer:1500,showConfirmButton:!1}),t()}catch(R){const V=R.response?.data?.message||R.message||"Logout failed";await Q.fire({icon:"error",title:"Logout Error",text:V}),console.error("Logout error:",R),f(!1)}},D=[{id:"home",label:"Home",icon:pF},{id:"file-setup",label:"File Setup",icon:vi,submenu:[{label:"System",isCategory:!0,children:[{label:"Company Information",formName:"",action:"company-information"}]},{label:"Process",isCategory:!0,children:[{label:"Allowance and Earnings",hasSubmenu:!0,children:[{label:"Allowance Bracket Code Setup",action:"allowance-bracket-code-setup"},{label:"Allowance Bracketing Setup",action:"allowance-bracketing-setup"},{label:"Allowance per Classification Setup",action:"allowance-per-classification-setup"},{label:"Classification Setup",action:"classification-setup"},{label:"Earning Setup",action:"earning-setup"}]},{label:"Calendar Setup",action:"calendar-setup"},{label:"Day Type Setup",action:"day-type-setup"},{label:"Device",hasSubmenu:!0,children:[{label:"AMS Database Configuration Setup",action:"ams-database-configuration-setup"},{label:"Borrowed Device Name",action:"borrowed-device-name"},{label:"Coordinates Setup",action:"coordinates-setup"},{label:"Device Type Setup",action:"device-type-setup"},{label:"DTR Flag Setup",action:"dtr-flag-setup"},{label:"DTR Log Fields Setup",action:"dtr-log-fields-setup"},{label:"SDK List Setup",action:"sdk-list-setup"},{label:"MYSQL Database Configuration Setup",action:"mysql-database-configuration-setup"}]},{label:"Equivalent Hours Deduction Setup",action:"equivalent-hours-deduction-setup"},{label:"Group Schedule Setup",action:"group-schedule-setup"},{label:"Help Setup",action:"help-setup"},{label:"Leave Type Setup",action:"leave-type-setup"},{label:"Overtime",hasSubmenu:!0,children:[{label:"Additional OT Hours Per Week",action:"additional-ot-hours-per-week"},{label:"Holiday OT Rates Setup",action:"holiday-ot-rates-setup"},{label:"Overtime Setup",action:"overtime-setup"},{label:"Regular Overtime Setup",action:"regular-overtime-setup"},{label:"RestDay Overtime Setup",action:"rest-day-overtime-setup"}]},{label:"Payroll Location Setup",action:"payroll-location-setup"},{label:"System Configuration Setup",action:"system-configuration-setup"},{label:"Tardiness/Undertime/Accumulation Bracket",hasSubmenu:!0,children:[{label:"Bracket Code Setup",action:"bracket-code-setup"},{label:"Tardiness/ Undertime/ Accumulation Table Setup",action:"tardiness-undertime-accumulation-table-setup"}]},{label:"Timekeep Group Setup",action:"timekeep-group-setup"},{label:"Workshift and Restday",hasSubmenu:!0,children:[{label:"Daily Schedule Setup",action:"daily-schedule-setup"},{label:"Restday Setup",action:"rest-day-setup"},{label:"Workshift Setup",action:"workshift-setup"}]},{label:"Unpaid Lunch Deduction Bracket Setup",action:"unpaid-lunch-deduction-bracket-setup"}]},{label:"Employment",isCategory:!0,children:[{label:"Area Setup",action:"area-setup"},{label:"Branch Setup",action:"branch-setup"},{label:"Department Setup",action:"department-setup"},{label:"Division Setup",action:"division-setup"},{label:"Employee Designation Setup",action:"employee-designation-setup"},{label:"Employee Status Setup",action:"employee-status-setup"},{label:"Group Setup",action:"group-setup"},{label:"Job Level Setup",action:"job-level-setup"},{label:"Location Setup",action:"location-setup"},{label:"Pay House Setup",action:"pay-house-setup"},{label:"Online Approval Setup",action:"online-approval-setup"},{label:"Section Setup",action:"section-setup"},{label:"Unit Setup",action:"unit-setup"}]}]},{id:"maintenance",label:"Maintenance",icon:wx,submenu:[{label:"Employee Management",isCategory:!0,children:[{label:"Employee Master File",action:"employee-master-file"},{label:"Employee Timekeep Configuration",action:"employee-timekeep-configuration"},{separator:!0},{label:"Rawdata",action:"raw-data"},{label:"Rawdata Ot Gap",action:"rawdata-ot-gap"},{label:"Rawdata On Straight Duty",action:"rawdata-on-straight-duty"},{separator:!0},{label:"Processed Data",action:"processed-data"}]},{label:"2 Shifts In A Day",isCategory:!0,children:[{label:"2 Shifts In A Day - Employee Timekeep Configuration",action:"2-shifts-employee-timekeep-config"},{label:"2 Shifts In A Day - Rawdata",action:"2-shifts-rawdata"}]}]},{id:"process",label:"Process",icon:kb,submenu:[{label:"Process Data",action:"process-data"},{label:"Process 2 Shifts In A Day Payroll",action:"process-2-shifts-payroll"}]},{id:"utilities",label:"Utilities",icon:x7,submenu:[{isCategory:!0,label:"Utility On Employee Configuration",children:[{label:"Update Status",action:"update-status"},{label:"Update Employee Overtime Application",action:"update-employee-overtime-application"},{label:"Update Employee Workshift",action:"update-employee-workshift"},{label:"Update Employee Leave Application",action:"update-employee-leave-application"},{label:"Update Employee Pay House",action:"update-employee-pay-house"},{label:"Update Batch Restday",action:"update-batch-rest-day"},{label:"Update Employee Classification",action:"update-employee-classification"},{label:"Delete Employee Transactions",action:"delete-employee-transactions"},{label:"Update Rawdata Online",action:"update-rawdata-online"}]},{isCategory:!0,label:"Utility On Rawdata",children:[{label:"Update Daytype In Rawdata",action:"update-daytype-rawdata"},{label:"Update Workshift In Rawdata",action:"update-workshift-rawdata"},{label:"Delete Incomplete Logs",action:"delete-incomplete-logs"},{label:"Delete Rawdata",action:"delete-rawdata"}]},{isCategory:!0,label:"Utility On Processed Data",children:[{label:"Unpost Transaction",action:"unpost-transaction"},{label:"Additional Hours Per Week",action:"additional-hours-per-week"},{label:"Apply Ot Allowance",action:"apply-ot-allowances"},{label:"Apply Break1 And Break3 Overbreak",action:"apply-break-overbreak"},{label:"Update Allowance Per Bracket",action:"update-allowance-per-bracket"},{label:"Update SSS Notification",action:"update-sss-notification"},{label:"Update No. Of Hours Per Week",action:"update-hours-per-week"},{label:"Update Tardiness Penalty",action:"update-tardiness-penalty"},{label:"Deduct Tardiness To Overtime Of The Day",action:"deduct-tardiness-to-overtime"},{label:"Delete Ot During Restday If Absent Or Incomplete In Previous Day",action:"delete-ot-restday-absent"},{label:"Process Overtime Per Cut-Off",action:"process-overtime-cutoff"},{label:"Update Assumed Days",action:"update-assumed-days"},{label:"Process Overtime 24 Hours Rule",action:"process-overtime-24hours"},{label:"Deduct Absences In Excess Of Total Hours With Pay If With Filed Leave",action:"deduct-absences-excess"},{label:"Post Processed Timekeeping Transactions",action:"post-processed-timekeeping"},{label:"Utility To Update The Time Flag Based On Set Policy Of Breaks",action:"update-time-flag-breaks"},{label:"Unpaid Lunch Deduction",action:"unpaid-lunch-deduction"},{label:"Update Flexi Break",action:"update-flexi-break"},{label:"Update GL Code Utility",action:"update-gl-code-utility"}]}]},{id:"reports",label:"Reports",icon:hC,submenu:[{label:"Daily Time Record Monitoring",action:"daily-time-record-monitoring"}]},{id:"import",label:"Import",icon:ua,submenu:[{label:"1 shift in a Day",isCategory:!0,children:[{label:"Import Workshift Variable",action:"import-workshift-variable"},{label:"Import Leave Application",action:"import-leave-application"},{label:"Import Overtime Application",action:"import-overtime-application"},{label:"Import Device Code",action:"import-device-code"},{label:"Import Employee Masterfile",action:"import-employee-masterfile"},{label:"Import Logs From Device V2",action:"import-logs-from-device-v2"},{label:"Update Raw Data",action:"update-rawdata-import"},{label:"Import Adjustment",action:"import-adjustment"}]},{label:"2 Shift in a Day",isCategory:!0,children:[{label:"Import Overtime Application",action:"overtime-application-2-shifts"},{label:"Import Workshift Variable",action:"workshift-variable-2-shifts"},{label:"Import Logs From Device V2",action:"logs-from-device-2-shifts"}]}]},{id:"export",label:"Export",icon:ln,submenu:[{label:"Payroll Data",action:"export-payroll-data"},{label:"Export NAV",action:"export-nav"},{label:"Payroll DTR Allowance",action:"payroll-dtr-allowance"}]},{id:"security",label:"Security",icon:yp,submenu:[{label:"Security Manager",action:"security-manager"},{label:"Audit Trail",action:"audit-trail"},{label:"Email Configuration",action:"email-configuration"},{label:"Create New Database",action:"create-new-database"}]}];o.useEffect(()=>{function R(V){N.current&&!N.current.contains(V.target)&&n(null)}return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const T=R=>{D.find(W=>W.id===R)?.submenu?n(a===R?null:R):(r(R),n(null))},A=R=>{r(R),n(null)},M=R=>{if(R.id===s)return!0;if(!R.submenu)return!1;const V=W=>W.some(ne=>ne.action===s?!0:ne.children?V(ne.children):!1);return V(R.submenu)},L=R=>{const V=R.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[900px]",children:V.map((W,ne)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-green-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((J,H)=>J.hasSubmenu&&J.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-full text-left px-2 py-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors duration-150 text-sm rounded flex items-center justify-between cursor-pointer",onMouseEnter:()=>i(`file-setup-${ne}-${H}`),onMouseLeave:()=>i(null),children:[e.jsx("span",{children:J.label}),e.jsx(fi,{className:"w-3 h-3"})]}),l===`file-setup-${ne}-${H}`&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-72 z-50 animate-slideRight",onMouseEnter:()=>i(`file-setup-${ne}-${H}`),onMouseLeave:()=>i(null),children:J.children.map((F,I)=>e.jsx("button",{onClick:()=>A(F.action||""),className:`w-full text-left px-4 py-2 transition-colors duration-150 text-sm ${s===F.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:F.label},I))})]},H):J.children?e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-gray-800 font-medium text-sm mb-1 px-2",children:J.label}),e.jsx("div",{className:"space-y-0.5 pl-2",children:J.children.map((F,I)=>e.jsx("button",{onClick:()=>A(F.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===F.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:F.label},I))})]},H):e.jsx("button",{onClick:()=>A(J.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===J.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:J.label},H))})]},ne))})},q=R=>{const V=R.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[800px]",children:V.map((W,ne)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((J,H)=>J.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},H):e.jsx("button",{onClick:()=>A(J.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===J.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:J.label},H))})]},ne))})},B=R=>e.jsx("div",{className:"py-2",children:R.map((V,W)=>fe(V,W,"process"))}),te=R=>{const V=R.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[900px]",children:V.map((W,ne)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((J,H)=>J.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},H):e.jsx("button",{onClick:()=>A(J.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===J.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:J.label},H))})]},ne))})},oe=R=>{const V=R.filter(W=>W.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[800px]",children:V.map((W,ne)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:W.label}),e.jsx("div",{className:"space-y-0.5",children:W.children?.map((J,H)=>J.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},H):e.jsx("button",{onClick:()=>A(J.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${s===J.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:J.label},H))})]},ne))})},fe=(R,V,W="submenu")=>{const ne=`${W}-${V}`;return R.separator?e.jsx("div",{className:"my-1 border-t border-gray-200"},ne):R.isCategory&&R.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-900 font-semibold text-sm flex items-center justify-between hover:bg-gray-50 cursor-default",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(ne)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:[R.label,e.jsx(fi,{className:"w-4 h-4 text-gray-400"})]}),a===ne&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-80 max-h-[70vh] overflow-y-auto animate-slideRight z-50",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(ne)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:R.children.map((J,H)=>fe(J,H,ne))})]},ne):R.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150 text-sm flex items-center justify-between cursor-pointer",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(ne)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:[R.label,e.jsx(fi,{className:"w-4 h-4"})]}),a===ne&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-80 max-h-[70vh] overflow-y-auto animate-slideRight z-50",onMouseEnter:()=>{p.current&&(clearTimeout(p.current),p.current=null),n(ne)},onMouseLeave:()=>{p.current=window.setTimeout(()=>{n(null)},200)},children:R.children.map((J,H)=>fe(J,H,ne))})]},ne):R.action?e.jsx("button",{onClick:()=>A(R.action||""),className:`w-full text-left px-4 py-2 transition-colors duration-150 text-sm ${s===R.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"}`,children:R.label},ne):null};return e.jsx(e.Fragment,{children:e.jsxs("nav",{className:"bg-green-600 border-b border-green-600 sticky top-0 z-50 shadow-lg",children:[e.jsxs("div",{className:"px-4 lg:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg shadow-md",children:e.jsx(fr,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsx("div",{children:e.jsx("h1",{className:"text-white text-lg",children:"DEMO ACCOUNT"})})]}),e.jsx("div",{ref:N,className:"hidden lg:flex items-center space-x-1",children:D.map(R=>e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>T(R.id),className:`flex items-center space-x-2 px-4 py-3 rounded-lg transition-all duration-200 ${M(R)?"bg-amber-100 text-gray text-bold":"text-slate-200 hover:bg--amber-100 hover:text-white text-bold"}`,children:[e.jsx(R.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:R.label}),R.submenu&&e.jsx(lc,{className:`w-4 h-4 transition-transform duration-200 ${a===R.id?"rotate-180":""}`})]}),R.submenu&&a===R.id&&e.jsx("div",{className:`absolute top-full left-0 mt-1 bg-white rounded-lg shadow-xl border border-gray-200 animate-slideDown ${R.id==="file-setup"||R.id==="maintenance"||R.id==="utilities"||R.id==="import"?"":R.id==="process"?"py-2":"py-2 w-56"} ${R.id==="process"?"w-80":""}`,children:R.id==="file-setup"?L(R.submenu):R.id==="maintenance"?q(R.submenu):R.id==="process"?B(R.submenu):R.id==="utilities"?te(R.submenu):R.id==="import"?oe(R.submenu):R.submenu.map((V,W)=>fe(V,W))})]},R.id))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-2 bg-slate-600 rounded-lg relative cursor-pointer",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsx(bp,{className:"w-4 h-4 text-slate-200"}),e.jsx("span",{className:"text-slate-200 text-sm",children:"Admin"}),h&&e.jsxs("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-2 rounded shadow-lg whitespace-nowrap z-50 animate-fadeIn",children:[e.jsx("div",{className:"text-sm",children:"v910.000 20251201"}),e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-500 rotate-45"})]})]}),e.jsxs("button",{onClick:P,disabled:b,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(fC,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:b?"Logging out...":"Logout"})]}),e.jsx("button",{onClick:()=>x(!d),className:"lg:hidden flex items-center justify-center w-10 h-10 text-slate-200 hover:text-white hover:bg-slate-600 rounded-lg transition-all duration-200",children:d?e.jsx(nt,{className:"w-6 h-6"}):e.jsx(DF,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"lg:hidden pb-3 space-y-1",children:D.map(R=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>T(R.id),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg transition-all duration-200 ${s===R.id?"bg-slate-600 text-white":"text-slate-200 hover:bg-slate-600"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:R.label})]}),R.submenu&&e.jsx(lc,{className:`w-4 h-4 transition-transform duration-200 ${a===R.id?"rotate-180":""}`})]}),R.submenu&&a===R.id&&e.jsx("div",{className:"ml-6 mt-1 space-y-1 max-h-[60vh] overflow-y-auto",children:R.submenu.map((V,W)=>fe(V,W))})]},R.id))})]}),e.jsx("style",{children:`
          @keyframes slideDown {
            from {
              opacity: 0;
              transform: translateY(-10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-slideDown {
            animation: slideDown 0.2s ease-out;
          }

          @keyframes slideRight {
            from {
              opacity: 0;
              transform: translateX(-10px);
            }
            to {
              opacity: 1;
              transform: translateX(0);
            }
          }
          .animate-slideRight {
            animation: slideRight 0.2s ease-out;
          }

          @keyframes fadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 1;
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.2s ease-out;
          }
        `})]})})}function oc(t,s,{checkForDefaultPrevented:r=!0}={}){return function(n){if(t?.(n),r===!1||!n.defaultPrevented)return s?.(n)}}function Lj(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function Tb(...t){return s=>{let r=!1;const a=t.map(n=>{const l=Lj(n,s);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let n=0;n<a.length;n++){const l=a[n];typeof l=="function"?l():Lj(t[n],null)}}}}function gc(...t){return o.useCallback(Tb(...t),t)}function NC(t,s=[]){let r=[];function a(l,i){const d=o.createContext(i),x=r.length;r=[...r,i];const h=b=>{const{scope:f,children:N,...p}=b,v=f?.[t]?.[x]||d,g=o.useMemo(()=>p,Object.values(p));return e.jsx(v.Provider,{value:g,children:N})};h.displayName=l+"Provider";function m(b,f){const N=f?.[t]?.[x]||d,p=o.useContext(N);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[h,m]}const n=()=>{const l=r.map(i=>o.createContext(i));return function(d){const x=d?.[t]||l;return o.useMemo(()=>({[`__scope${t}`]:{...d,[t]:x}}),[d,x])}};return n.scopeName=t,[a,MP(n,...s)]}function MP(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(l){const i=a.reduce((d,{useScope:x,scopeName:h})=>{const b=x(l)[`__scope${h}`];return{...d,...b}},{});return o.useMemo(()=>({[`__scope${s.scopeName}`]:i}),[i])}};return r.scopeName=s.scopeName,r}var Qp=V2();const IP=tb(Qp);function LP(t){const s=_P(t),r=o.forwardRef((a,n)=>{const{children:l,...i}=a,d=o.Children.toArray(l),x=d.find(BP);if(x){const h=x.props.children,m=d.map(b=>b===x?o.Children.count(h)>1?o.Children.only(null):o.isValidElement(h)?h.props.children:null:b);return e.jsx(s,{...i,ref:n,children:o.isValidElement(h)?o.cloneElement(h,void 0,m):null})}return e.jsx(s,{...i,ref:n,children:l})});return r.displayName=`${t}.Slot`,r}function _P(t){const s=o.forwardRef((r,a)=>{const{children:n,...l}=r;if(o.isValidElement(n)){const i=HP(n),d=RP(l,n.props);return n.type!==o.Fragment&&(d.ref=a?Tb(a,i):i),o.cloneElement(n,d)}return o.Children.count(n)>1?o.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var OP=Symbol("radix.slottable");function BP(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===OP}function RP(t,s){const r={...s};for(const a in s){const n=t[a],l=s[a];/^on[A-Z]/.test(a)?n&&l?r[a]=(...d)=>{const x=l(...d);return n(...d),x}:n&&(r[a]=n):a==="style"?r[a]={...n,...l}:a==="className"&&(r[a]=[n,l].filter(Boolean).join(" "))}return{...t,...r}}function HP(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var UP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ci=UP.reduce((t,s)=>{const r=LP(`Primitive.${s}`),a=o.forwardRef((n,l)=>{const{asChild:i,...d}=n,x=i?r:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(x,{...d,ref:l})});return a.displayName=`Primitive.${s}`,{...t,[s]:a}},{});function WP(t,s){t&&Qp.flushSync(()=>t.dispatchEvent(s))}function E0(t){const s=o.useRef(t);return o.useEffect(()=>{s.current=t}),o.useMemo(()=>(...r)=>s.current?.(...r),[])}function GP(t,s=globalThis?.document){const r=E0(t);o.useEffect(()=>{const a=n=>{n.key==="Escape"&&r(n)};return s.addEventListener("keydown",a,{capture:!0}),()=>s.removeEventListener("keydown",a,{capture:!0})},[r,s])}var $P="DismissableLayer",Py="dismissableLayer.update",zP="dismissableLayer.pointerDownOutside",VP="dismissableLayer.focusOutside",_j,jC=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),CC=o.forwardRef((t,s)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:l,onInteractOutside:i,onDismiss:d,...x}=t,h=o.useContext(jC),[m,b]=o.useState(null),f=m?.ownerDocument??globalThis?.document,[,N]=o.useState({}),p=gc(s,T=>b(T)),v=Array.from(h.layers),[g]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),C=m?v.indexOf(m):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,S=C>=y,P=qP(T=>{const A=T.target,M=[...h.branches].some(L=>L.contains(A));!S||M||(n?.(T),i?.(T),T.defaultPrevented||d?.())},f),D=XP(T=>{const A=T.target;[...h.branches].some(L=>L.contains(A))||(l?.(T),i?.(T),T.defaultPrevented||d?.())},f);return GP(T=>{C===h.layers.size-1&&(a?.(T),!T.defaultPrevented&&d&&(T.preventDefault(),d()))},f),o.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(_j=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Oj(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_j)}},[m,f,r,h]),o.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Oj())},[m,h]),o.useEffect(()=>{const T=()=>N({});return document.addEventListener(Py,T),()=>document.removeEventListener(Py,T)},[]),e.jsx(Ci.div,{...x,ref:p,style:{pointerEvents:j?S?"auto":"none":void 0,...t.style},onFocusCapture:oc(t.onFocusCapture,D.onFocusCapture),onBlurCapture:oc(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:oc(t.onPointerDownCapture,P.onPointerDownCapture)})});CC.displayName=$P;var YP="DismissableLayerBranch",KP=o.forwardRef((t,s)=>{const r=o.useContext(jC),a=o.useRef(null),n=gc(s,a);return o.useEffect(()=>{const l=a.current;if(l)return r.branches.add(l),()=>{r.branches.delete(l)}},[r.branches]),e.jsx(Ci.div,{...t,ref:n})});KP.displayName=YP;function qP(t,s=globalThis?.document){const r=E0(t),a=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{const l=d=>{if(d.target&&!a.current){let x=function(){SC(zP,r,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(s.removeEventListener("click",n.current),n.current=x,s.addEventListener("click",n.current,{once:!0})):x()}else s.removeEventListener("click",n.current);a.current=!1},i=window.setTimeout(()=>{s.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),s.removeEventListener("pointerdown",l),s.removeEventListener("click",n.current)}},[s,r]),{onPointerDownCapture:()=>a.current=!0}}function XP(t,s=globalThis?.document){const r=E0(t),a=o.useRef(!1);return o.useEffect(()=>{const n=l=>{l.target&&!a.current&&SC(VP,r,{originalEvent:l},{discrete:!1})};return s.addEventListener("focusin",n),()=>s.removeEventListener("focusin",n)},[s,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Oj(){const t=new CustomEvent(Py);document.dispatchEvent(t)}function SC(t,s,r,{discrete:a}){const n=r.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});s&&n.addEventListener(t,s,{once:!0}),a?WP(n,l):n.dispatchEvent(l)}var Wg=0;function JP(){o.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Bj()),document.body.insertAdjacentElement("beforeend",t[1]??Bj()),Wg++,()=>{Wg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Wg--}},[])}function Bj(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Gg="focusScope.autoFocusOnMount",$g="focusScope.autoFocusOnUnmount",Rj={bubbles:!1,cancelable:!0},QP="FocusScope",kC=o.forwardRef((t,s)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:l,...i}=t,[d,x]=o.useState(null),h=E0(n),m=E0(l),b=o.useRef(null),f=gc(s,v=>x(v)),N=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(a){let v=function(j){if(N.paused||!d)return;const S=j.target;d.contains(S)?b.current=S:ec(b.current,{select:!0})},g=function(j){if(N.paused||!d)return;const S=j.relatedTarget;S!==null&&(d.contains(S)||ec(b.current,{select:!0}))},y=function(j){if(document.activeElement===document.body)for(const P of j)P.removedNodes.length>0&&ec(d)};document.addEventListener("focusin",v),document.addEventListener("focusout",g);const C=new MutationObserver(y);return d&&C.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",g),C.disconnect()}}},[a,d,N.paused]),o.useEffect(()=>{if(d){Uj.add(N);const v=document.activeElement;if(!d.contains(v)){const y=new CustomEvent(Gg,Rj);d.addEventListener(Gg,h),d.dispatchEvent(y),y.defaultPrevented||(ZP(aM(DC(d)),{select:!0}),document.activeElement===v&&ec(d))}return()=>{d.removeEventListener(Gg,h),setTimeout(()=>{const y=new CustomEvent($g,Rj);d.addEventListener($g,m),d.dispatchEvent(y),y.defaultPrevented||ec(v??document.body,{select:!0}),d.removeEventListener($g,m),Uj.remove(N)},0)}}},[d,h,m,N]);const p=o.useCallback(v=>{if(!r&&!a||N.paused)return;const g=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(g&&y){const C=v.currentTarget,[j,S]=eM(C);j&&S?!v.shiftKey&&y===S?(v.preventDefault(),r&&ec(j,{select:!0})):v.shiftKey&&y===j&&(v.preventDefault(),r&&ec(S,{select:!0})):y===C&&v.preventDefault()}},[r,a,N.paused]);return e.jsx(Ci.div,{tabIndex:-1,...i,ref:f,onKeyDown:p})});kC.displayName=QP;function ZP(t,{select:s=!1}={}){const r=document.activeElement;for(const a of t)if(ec(a,{select:s}),document.activeElement!==r)return}function eM(t){const s=DC(t),r=Hj(s,t),a=Hj(s.reverse(),t);return[r,a]}function DC(t){const s=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Hj(t,s){for(const r of t)if(!tM(r,{upTo:s}))return r}function tM(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function sM(t){return t instanceof HTMLInputElement&&"select"in t}function ec(t,{select:s=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&sM(t)&&s&&t.select()}}var Uj=rM();function rM(){let t=[];return{add(s){const r=t[0];s!==r&&r?.pause(),t=Wj(t,s),t.unshift(s)},remove(s){t=Wj(t,s),t[0]?.resume()}}}function Wj(t,s){const r=[...t],a=r.indexOf(s);return a!==-1&&r.splice(a,1),r}function aM(t){return t.filter(s=>s.tagName!=="A")}var ic=globalThis?.document?o.useLayoutEffect:()=>{},nM=K2[" useId ".trim().toString()]||(()=>{}),oM=0;function lM(t){const[s,r]=o.useState(nM());return ic(()=>{r(a=>a??String(oM++))},[t]),t||(s?`radix-${s}`:"")}const iM=["top","right","bottom","left"],cc=Math.min,xo=Math.max,vp=Math.round,Hh=Math.floor,Ul=t=>({x:t,y:t}),cM={left:"right",right:"left",bottom:"top",top:"bottom"},dM={start:"end",end:"start"};function My(t,s,r){return xo(t,cc(s,r))}function wi(t,s){return typeof t=="function"?t(s):t}function Ni(t){return t.split("-")[0]}function G0(t){return t.split("-")[1]}function Ab(t){return t==="x"?"y":"x"}function Fb(t){return t==="y"?"height":"width"}const uM=new Set(["top","bottom"]);function Bl(t){return uM.has(Ni(t))?"y":"x"}function Pb(t){return Ab(Bl(t))}function xM(t,s,r){r===void 0&&(r=!1);const a=G0(t),n=Pb(t),l=Fb(n);let i=n==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return s.reference[l]>s.floating[l]&&(i=wp(i)),[i,wp(i)]}function hM(t){const s=wp(t);return[Iy(t),s,Iy(s)]}function Iy(t){return t.replace(/start|end/g,s=>dM[s])}const Gj=["left","right"],$j=["right","left"],mM=["top","bottom"],pM=["bottom","top"];function fM(t,s,r){switch(t){case"top":case"bottom":return r?s?$j:Gj:s?Gj:$j;case"left":case"right":return s?mM:pM;default:return[]}}function gM(t,s,r,a){const n=G0(t);let l=fM(Ni(t),r==="start",a);return n&&(l=l.map(i=>i+"-"+n),s&&(l=l.concat(l.map(Iy)))),l}function wp(t){return t.replace(/left|right|bottom|top/g,s=>cM[s])}function yM(t){return{top:0,right:0,bottom:0,left:0,...t}}function EC(t){return typeof t!="number"?yM(t):{top:t,right:t,bottom:t,left:t}}function Np(t){const{x:s,y:r,width:a,height:n}=t;return{width:a,height:n,top:r,left:s,right:s+a,bottom:r+n,x:s,y:r}}function zj(t,s,r){let{reference:a,floating:n}=t;const l=Bl(s),i=Pb(s),d=Fb(i),x=Ni(s),h=l==="y",m=a.x+a.width/2-n.width/2,b=a.y+a.height/2-n.height/2,f=a[d]/2-n[d]/2;let N;switch(x){case"top":N={x:m,y:a.y-n.height};break;case"bottom":N={x:m,y:a.y+a.height};break;case"right":N={x:a.x+a.width,y:b};break;case"left":N={x:a.x-n.width,y:b};break;default:N={x:a.x,y:a.y}}switch(G0(s)){case"start":N[i]-=f*(r&&h?-1:1);break;case"end":N[i]+=f*(r&&h?-1:1);break}return N}const bM=async(t,s,r)=>{const{placement:a="bottom",strategy:n="absolute",middleware:l=[],platform:i}=r,d=l.filter(Boolean),x=await(i.isRTL==null?void 0:i.isRTL(s));let h=await i.getElementRects({reference:t,floating:s,strategy:n}),{x:m,y:b}=zj(h,a,x),f=a,N={},p=0;for(let v=0;v<d.length;v++){const{name:g,fn:y}=d[v],{x:C,y:j,data:S,reset:P}=await y({x:m,y:b,initialPlacement:a,placement:f,strategy:n,middlewareData:N,rects:h,platform:i,elements:{reference:t,floating:s}});m=C??m,b=j??b,N={...N,[g]:{...N[g],...S}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(f=P.placement),P.rects&&(h=P.rects===!0?await i.getElementRects({reference:t,floating:s,strategy:n}):P.rects),{x:m,y:b}=zj(h,f,x)),v=-1)}return{x:m,y:b,placement:f,strategy:n,middlewareData:N}};async function Yu(t,s){var r;s===void 0&&(s={});const{x:a,y:n,platform:l,rects:i,elements:d,strategy:x}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:b="floating",altBoundary:f=!1,padding:N=0}=wi(s,t),p=EC(N),g=d[f?b==="floating"?"reference":"floating":b],y=Np(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(g)))==null||r?g:g.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:x})),C=b==="floating"?{x:a,y:n,width:i.floating.width,height:i.floating.height}:i.reference,j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),S=await(l.isElement==null?void 0:l.isElement(j))?await(l.getScale==null?void 0:l.getScale(j))||{x:1,y:1}:{x:1,y:1},P=Np(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:C,offsetParent:j,strategy:x}):C);return{top:(y.top-P.top+p.top)/S.y,bottom:(P.bottom-y.bottom+p.bottom)/S.y,left:(y.left-P.left+p.left)/S.x,right:(P.right-y.right+p.right)/S.x}}const vM=t=>({name:"arrow",options:t,async fn(s){const{x:r,y:a,placement:n,rects:l,platform:i,elements:d,middlewareData:x}=s,{element:h,padding:m=0}=wi(t,s)||{};if(h==null)return{};const b=EC(m),f={x:r,y:a},N=Pb(n),p=Fb(N),v=await i.getDimensions(h),g=N==="y",y=g?"top":"left",C=g?"bottom":"right",j=g?"clientHeight":"clientWidth",S=l.reference[p]+l.reference[N]-f[N]-l.floating[p],P=f[N]-l.reference[N],D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(h));let T=D?D[j]:0;(!T||!await(i.isElement==null?void 0:i.isElement(D)))&&(T=d.floating[j]||l.floating[p]);const A=S/2-P/2,M=T/2-v[p]/2-1,L=cc(b[y],M),q=cc(b[C],M),B=L,te=T-v[p]-q,oe=T/2-v[p]/2+A,fe=My(B,oe,te),R=!x.arrow&&G0(n)!=null&&oe!==fe&&l.reference[p]/2-(oe<B?L:q)-v[p]/2<0,V=R?oe<B?oe-B:oe-te:0;return{[N]:f[N]+V,data:{[N]:fe,centerOffset:oe-fe-V,...R&&{alignmentOffset:V}},reset:R}}}),wM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var r,a;const{placement:n,middlewareData:l,rects:i,initialPlacement:d,platform:x,elements:h}=s,{mainAxis:m=!0,crossAxis:b=!0,fallbackPlacements:f,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...g}=wi(t,s);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const y=Ni(n),C=Bl(d),j=Ni(d)===d,S=await(x.isRTL==null?void 0:x.isRTL(h.floating)),P=f||(j||!v?[wp(d)]:hM(d)),D=p!=="none";!f&&D&&P.push(...gM(d,v,p,S));const T=[d,...P],A=await Yu(s,g),M=[];let L=((a=l.flip)==null?void 0:a.overflows)||[];if(m&&M.push(A[y]),b){const oe=xM(n,i,S);M.push(A[oe[0]],A[oe[1]])}if(L=[...L,{placement:n,overflows:M}],!M.every(oe=>oe<=0)){var q,B;const oe=(((q=l.flip)==null?void 0:q.index)||0)+1,fe=T[oe];if(fe&&(!(b==="alignment"?C!==Bl(fe):!1)||L.every(W=>Bl(W.placement)===C?W.overflows[0]>0:!0)))return{data:{index:oe,overflows:L},reset:{placement:fe}};let R=(B=L.filter(V=>V.overflows[0]<=0).sort((V,W)=>V.overflows[1]-W.overflows[1])[0])==null?void 0:B.placement;if(!R)switch(N){case"bestFit":{var te;const V=(te=L.filter(W=>{if(D){const ne=Bl(W.placement);return ne===C||ne==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ne=>ne>0).reduce((ne,J)=>ne+J,0)]).sort((W,ne)=>W[1]-ne[1])[0])==null?void 0:te[0];V&&(R=V);break}case"initialPlacement":R=d;break}if(n!==R)return{reset:{placement:R}}}return{}}}};function Vj(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function Yj(t){return iM.some(s=>t[s]>=0)}const NM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:r}=s,{strategy:a="referenceHidden",...n}=wi(t,s);switch(a){case"referenceHidden":{const l=await Yu(s,{...n,elementContext:"reference"}),i=Vj(l,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Yj(i)}}}case"escaped":{const l=await Yu(s,{...n,altBoundary:!0}),i=Vj(l,r.floating);return{data:{escapedOffsets:i,escaped:Yj(i)}}}default:return{}}}}},TC=new Set(["left","top"]);async function jM(t,s){const{placement:r,platform:a,elements:n}=t,l=await(a.isRTL==null?void 0:a.isRTL(n.floating)),i=Ni(r),d=G0(r),x=Bl(r)==="y",h=TC.has(i)?-1:1,m=l&&x?-1:1,b=wi(s,t);let{mainAxis:f,crossAxis:N,alignmentAxis:p}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return d&&typeof p=="number"&&(N=d==="end"?p*-1:p),x?{x:N*m,y:f*h}:{x:f*h,y:N*m}}const CM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var r,a;const{x:n,y:l,placement:i,middlewareData:d}=s,x=await jM(s,t);return i===((r=d.offset)==null?void 0:r.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:n+x.x,y:l+x.y,data:{...x,placement:i}}}}},SM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:r,y:a,placement:n}=s,{mainAxis:l=!0,crossAxis:i=!1,limiter:d={fn:g=>{let{x:y,y:C}=g;return{x:y,y:C}}},...x}=wi(t,s),h={x:r,y:a},m=await Yu(s,x),b=Bl(Ni(n)),f=Ab(b);let N=h[f],p=h[b];if(l){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",C=N+m[g],j=N-m[y];N=My(C,N,j)}if(i){const g=b==="y"?"top":"left",y=b==="y"?"bottom":"right",C=p+m[g],j=p-m[y];p=My(C,p,j)}const v=d.fn({...s,[f]:N,[b]:p});return{...v,data:{x:v.x-r,y:v.y-a,enabled:{[f]:l,[b]:i}}}}}},kM=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:r,y:a,placement:n,rects:l,middlewareData:i}=s,{offset:d=0,mainAxis:x=!0,crossAxis:h=!0}=wi(t,s),m={x:r,y:a},b=Bl(n),f=Ab(b);let N=m[f],p=m[b];const v=wi(d,s),g=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(x){const j=f==="y"?"height":"width",S=l.reference[f]-l.floating[j]+g.mainAxis,P=l.reference[f]+l.reference[j]-g.mainAxis;N<S?N=S:N>P&&(N=P)}if(h){var y,C;const j=f==="y"?"width":"height",S=TC.has(Ni(n)),P=l.reference[b]-l.floating[j]+(S&&((y=i.offset)==null?void 0:y[b])||0)+(S?0:g.crossAxis),D=l.reference[b]+l.reference[j]+(S?0:((C=i.offset)==null?void 0:C[b])||0)-(S?g.crossAxis:0);p<P?p=P:p>D&&(p=D)}return{[f]:N,[b]:p}}}},DM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var r,a;const{placement:n,rects:l,platform:i,elements:d}=s,{apply:x=()=>{},...h}=wi(t,s),m=await Yu(s,h),b=Ni(n),f=G0(n),N=Bl(n)==="y",{width:p,height:v}=l.floating;let g,y;b==="top"||b==="bottom"?(g=b,y=f===(await(i.isRTL==null?void 0:i.isRTL(d.floating))?"start":"end")?"left":"right"):(y=b,g=f==="end"?"top":"bottom");const C=v-m.top-m.bottom,j=p-m.left-m.right,S=cc(v-m[g],C),P=cc(p-m[y],j),D=!s.middlewareData.shift;let T=S,A=P;if((r=s.middlewareData.shift)!=null&&r.enabled.x&&(A=j),(a=s.middlewareData.shift)!=null&&a.enabled.y&&(T=C),D&&!f){const L=xo(m.left,0),q=xo(m.right,0),B=xo(m.top,0),te=xo(m.bottom,0);N?A=p-2*(L!==0||q!==0?L+q:xo(m.left,m.right)):T=v-2*(B!==0||te!==0?B+te:xo(m.top,m.bottom))}await x({...s,availableWidth:A,availableHeight:T});const M=await i.getDimensions(d.floating);return p!==M.width||v!==M.height?{reset:{rects:!0}}:{}}}};function Zp(){return typeof window<"u"}function $0(t){return AC(t)?(t.nodeName||"").toLowerCase():"#document"}function go(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Vl(t){var s;return(s=(AC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function AC(t){return Zp()?t instanceof Node||t instanceof go(t).Node:!1}function hl(t){return Zp()?t instanceof Element||t instanceof go(t).Element:!1}function Gl(t){return Zp()?t instanceof HTMLElement||t instanceof go(t).HTMLElement:!1}function Kj(t){return!Zp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof go(t).ShadowRoot}const EM=new Set(["inline","contents"]);function Nx(t){const{overflow:s,overflowX:r,overflowY:a,display:n}=ml(t);return/auto|scroll|overlay|hidden|clip/.test(s+a+r)&&!EM.has(n)}const TM=new Set(["table","td","th"]);function AM(t){return TM.has($0(t))}const FM=[":popover-open",":modal"];function ef(t){return FM.some(s=>{try{return t.matches(s)}catch{return!1}})}const PM=["transform","translate","scale","rotate","perspective"],MM=["transform","translate","scale","rotate","perspective","filter"],IM=["paint","layout","strict","content"];function Mb(t){const s=Ib(),r=hl(t)?ml(t):t;return PM.some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!s&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!s&&(r.filter?r.filter!=="none":!1)||MM.some(a=>(r.willChange||"").includes(a))||IM.some(a=>(r.contain||"").includes(a))}function LM(t){let s=dc(t);for(;Gl(s)&&!T0(s);){if(Mb(s))return s;if(ef(s))return null;s=dc(s)}return null}function Ib(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _M=new Set(["html","body","#document"]);function T0(t){return _M.has($0(t))}function ml(t){return go(t).getComputedStyle(t)}function tf(t){return hl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dc(t){if($0(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Kj(t)&&t.host||Vl(t);return Kj(s)?s.host:s}function FC(t){const s=dc(t);return T0(s)?t.ownerDocument?t.ownerDocument.body:t.body:Gl(s)&&Nx(s)?s:FC(s)}function Ku(t,s,r){var a;s===void 0&&(s=[]),r===void 0&&(r=!0);const n=FC(t),l=n===((a=t.ownerDocument)==null?void 0:a.body),i=go(n);if(l){const d=Ly(i);return s.concat(i,i.visualViewport||[],Nx(n)?n:[],d&&r?Ku(d):[])}return s.concat(n,Ku(n,[],r))}function Ly(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PC(t){const s=ml(t);let r=parseFloat(s.width)||0,a=parseFloat(s.height)||0;const n=Gl(t),l=n?t.offsetWidth:r,i=n?t.offsetHeight:a,d=vp(r)!==l||vp(a)!==i;return d&&(r=l,a=i),{width:r,height:a,$:d}}function Lb(t){return hl(t)?t:t.contextElement}function y0(t){const s=Lb(t);if(!Gl(s))return Ul(1);const r=s.getBoundingClientRect(),{width:a,height:n,$:l}=PC(s);let i=(l?vp(r.width):r.width)/a,d=(l?vp(r.height):r.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!d||!Number.isFinite(d))&&(d=1),{x:i,y:d}}const OM=Ul(0);function MC(t){const s=go(t);return!Ib()||!s.visualViewport?OM:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function BM(t,s,r){return s===void 0&&(s=!1),!r||s&&r!==go(t)?!1:s}function cd(t,s,r,a){s===void 0&&(s=!1),r===void 0&&(r=!1);const n=t.getBoundingClientRect(),l=Lb(t);let i=Ul(1);s&&(a?hl(a)&&(i=y0(a)):i=y0(t));const d=BM(l,r,a)?MC(l):Ul(0);let x=(n.left+d.x)/i.x,h=(n.top+d.y)/i.y,m=n.width/i.x,b=n.height/i.y;if(l){const f=go(l),N=a&&hl(a)?go(a):a;let p=f,v=Ly(p);for(;v&&a&&N!==p;){const g=y0(v),y=v.getBoundingClientRect(),C=ml(v),j=y.left+(v.clientLeft+parseFloat(C.paddingLeft))*g.x,S=y.top+(v.clientTop+parseFloat(C.paddingTop))*g.y;x*=g.x,h*=g.y,m*=g.x,b*=g.y,x+=j,h+=S,p=go(v),v=Ly(p)}}return Np({width:m,height:b,x,y:h})}function sf(t,s){const r=tf(t).scrollLeft;return s?s.left+r:cd(Vl(t)).left+r}function IC(t,s){const r=t.getBoundingClientRect(),a=r.left+s.scrollLeft-sf(t,r),n=r.top+s.scrollTop;return{x:a,y:n}}function RM(t){let{elements:s,rect:r,offsetParent:a,strategy:n}=t;const l=n==="fixed",i=Vl(a),d=s?ef(s.floating):!1;if(a===i||d&&l)return r;let x={scrollLeft:0,scrollTop:0},h=Ul(1);const m=Ul(0),b=Gl(a);if((b||!b&&!l)&&(($0(a)!=="body"||Nx(i))&&(x=tf(a)),Gl(a))){const N=cd(a);h=y0(a),m.x=N.x+a.clientLeft,m.y=N.y+a.clientTop}const f=i&&!b&&!l?IC(i,x):Ul(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-x.scrollLeft*h.x+m.x+f.x,y:r.y*h.y-x.scrollTop*h.y+m.y+f.y}}function HM(t){return Array.from(t.getClientRects())}function UM(t){const s=Vl(t),r=tf(t),a=t.ownerDocument.body,n=xo(s.scrollWidth,s.clientWidth,a.scrollWidth,a.clientWidth),l=xo(s.scrollHeight,s.clientHeight,a.scrollHeight,a.clientHeight);let i=-r.scrollLeft+sf(t);const d=-r.scrollTop;return ml(a).direction==="rtl"&&(i+=xo(s.clientWidth,a.clientWidth)-n),{width:n,height:l,x:i,y:d}}const qj=25;function WM(t,s){const r=go(t),a=Vl(t),n=r.visualViewport;let l=a.clientWidth,i=a.clientHeight,d=0,x=0;if(n){l=n.width,i=n.height;const m=Ib();(!m||m&&s==="fixed")&&(d=n.offsetLeft,x=n.offsetTop)}const h=sf(a);if(h<=0){const m=a.ownerDocument,b=m.body,f=getComputedStyle(b),N=m.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(a.clientWidth-b.clientWidth-N);p<=qj&&(l-=p)}else h<=qj&&(l+=h);return{width:l,height:i,x:d,y:x}}const GM=new Set(["absolute","fixed"]);function $M(t,s){const r=cd(t,!0,s==="fixed"),a=r.top+t.clientTop,n=r.left+t.clientLeft,l=Gl(t)?y0(t):Ul(1),i=t.clientWidth*l.x,d=t.clientHeight*l.y,x=n*l.x,h=a*l.y;return{width:i,height:d,x,y:h}}function Xj(t,s,r){let a;if(s==="viewport")a=WM(t,r);else if(s==="document")a=UM(Vl(t));else if(hl(s))a=$M(s,r);else{const n=MC(t);a={x:s.x-n.x,y:s.y-n.y,width:s.width,height:s.height}}return Np(a)}function LC(t,s){const r=dc(t);return r===s||!hl(r)||T0(r)?!1:ml(r).position==="fixed"||LC(r,s)}function zM(t,s){const r=s.get(t);if(r)return r;let a=Ku(t,[],!1).filter(d=>hl(d)&&$0(d)!=="body"),n=null;const l=ml(t).position==="fixed";let i=l?dc(t):t;for(;hl(i)&&!T0(i);){const d=ml(i),x=Mb(i);!x&&d.position==="fixed"&&(n=null),(l?!x&&!n:!x&&d.position==="static"&&!!n&&GM.has(n.position)||Nx(i)&&!x&&LC(t,i))?a=a.filter(m=>m!==i):n=d,i=dc(i)}return s.set(t,a),a}function VM(t){let{element:s,boundary:r,rootBoundary:a,strategy:n}=t;const i=[...r==="clippingAncestors"?ef(s)?[]:zM(s,this._c):[].concat(r),a],d=i[0],x=i.reduce((h,m)=>{const b=Xj(s,m,n);return h.top=xo(b.top,h.top),h.right=cc(b.right,h.right),h.bottom=cc(b.bottom,h.bottom),h.left=xo(b.left,h.left),h},Xj(s,d,n));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function YM(t){const{width:s,height:r}=PC(t);return{width:s,height:r}}function KM(t,s,r){const a=Gl(s),n=Vl(s),l=r==="fixed",i=cd(t,!0,l,s);let d={scrollLeft:0,scrollTop:0};const x=Ul(0);function h(){x.x=sf(n)}if(a||!a&&!l)if(($0(s)!=="body"||Nx(n))&&(d=tf(s)),a){const N=cd(s,!0,l,s);x.x=N.x+s.clientLeft,x.y=N.y+s.clientTop}else n&&h();l&&!a&&n&&h();const m=n&&!a&&!l?IC(n,d):Ul(0),b=i.left+d.scrollLeft-x.x-m.x,f=i.top+d.scrollTop-x.y-m.y;return{x:b,y:f,width:i.width,height:i.height}}function zg(t){return ml(t).position==="static"}function Jj(t,s){if(!Gl(t)||ml(t).position==="fixed")return null;if(s)return s(t);let r=t.offsetParent;return Vl(t)===r&&(r=r.ownerDocument.body),r}function _C(t,s){const r=go(t);if(ef(t))return r;if(!Gl(t)){let n=dc(t);for(;n&&!T0(n);){if(hl(n)&&!zg(n))return n;n=dc(n)}return r}let a=Jj(t,s);for(;a&&AM(a)&&zg(a);)a=Jj(a,s);return a&&T0(a)&&zg(a)&&!Mb(a)?r:a||LM(t)||r}const qM=async function(t){const s=this.getOffsetParent||_C,r=this.getDimensions,a=await r(t.floating);return{reference:KM(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function XM(t){return ml(t).direction==="rtl"}const JM={convertOffsetParentRelativeRectToViewportRelativeRect:RM,getDocumentElement:Vl,getClippingRect:VM,getOffsetParent:_C,getElementRects:qM,getClientRects:HM,getDimensions:YM,getScale:y0,isElement:hl,isRTL:XM};function OC(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function QM(t,s){let r=null,a;const n=Vl(t);function l(){var d;clearTimeout(a),(d=r)==null||d.disconnect(),r=null}function i(d,x){d===void 0&&(d=!1),x===void 0&&(x=1),l();const h=t.getBoundingClientRect(),{left:m,top:b,width:f,height:N}=h;if(d||s(),!f||!N)return;const p=Hh(b),v=Hh(n.clientWidth-(m+f)),g=Hh(n.clientHeight-(b+N)),y=Hh(m),j={rootMargin:-p+"px "+-v+"px "+-g+"px "+-y+"px",threshold:xo(0,cc(1,x))||1};let S=!0;function P(D){const T=D[0].intersectionRatio;if(T!==x){if(!S)return i();T?i(!1,T):a=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!OC(h,t.getBoundingClientRect())&&i(),S=!1}try{r=new IntersectionObserver(P,{...j,root:n.ownerDocument})}catch{r=new IntersectionObserver(P,j)}r.observe(t)}return i(!0),l}function ZM(t,s,r,a){a===void 0&&(a={});const{ancestorScroll:n=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:x=!1}=a,h=Lb(t),m=n||l?[...h?Ku(h):[],...Ku(s)]:[];m.forEach(y=>{n&&y.addEventListener("scroll",r,{passive:!0}),l&&y.addEventListener("resize",r)});const b=h&&d?QM(h,r):null;let f=-1,N=null;i&&(N=new ResizeObserver(y=>{let[C]=y;C&&C.target===h&&N&&(N.unobserve(s),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var j;(j=N)==null||j.observe(s)})),r()}),h&&!x&&N.observe(h),N.observe(s));let p,v=x?cd(t):null;x&&g();function g(){const y=cd(t);v&&!OC(v,y)&&r(),v=y,p=requestAnimationFrame(g)}return r(),()=>{var y;m.forEach(C=>{n&&C.removeEventListener("scroll",r),l&&C.removeEventListener("resize",r)}),b?.(),(y=N)==null||y.disconnect(),N=null,x&&cancelAnimationFrame(p)}}const eI=CM,tI=SM,sI=wM,rI=DM,aI=NM,Qj=vM,nI=kM,oI=(t,s,r)=>{const a=new Map,n={platform:JM,...r},l={...n.platform,_c:a};return bM(t,s,{...n,platform:l})};var lI=typeof document<"u",iI=function(){},rp=lI?o.useLayoutEffect:iI;function jp(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let r,a,n;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==s.length)return!1;for(a=r;a--!==0;)if(!jp(t[a],s[a]))return!1;return!0}if(n=Object.keys(t),r=n.length,r!==Object.keys(s).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(s,n[a]))return!1;for(a=r;a--!==0;){const l=n[a];if(!(l==="_owner"&&t.$$typeof)&&!jp(t[l],s[l]))return!1}return!0}return t!==t&&s!==s}function BC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zj(t,s){const r=BC(t);return Math.round(s*r)/r}function Vg(t){const s=o.useRef(t);return rp(()=>{s.current=t}),s}function cI(t){t===void 0&&(t={});const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:n,elements:{reference:l,floating:i}={},transform:d=!0,whileElementsMounted:x,open:h}=t,[m,b]=o.useState({x:0,y:0,strategy:r,placement:s,middlewareData:{},isPositioned:!1}),[f,N]=o.useState(a);jp(f,a)||N(a);const[p,v]=o.useState(null),[g,y]=o.useState(null),C=o.useCallback(W=>{W!==D.current&&(D.current=W,v(W))},[]),j=o.useCallback(W=>{W!==T.current&&(T.current=W,y(W))},[]),S=l||p,P=i||g,D=o.useRef(null),T=o.useRef(null),A=o.useRef(m),M=x!=null,L=Vg(x),q=Vg(n),B=Vg(h),te=o.useCallback(()=>{if(!D.current||!T.current)return;const W={placement:s,strategy:r,middleware:f};q.current&&(W.platform=q.current),oI(D.current,T.current,W).then(ne=>{const J={...ne,isPositioned:B.current!==!1};oe.current&&!jp(A.current,J)&&(A.current=J,Qp.flushSync(()=>{b(J)}))})},[f,s,r,q,B]);rp(()=>{h===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,b(W=>({...W,isPositioned:!1})))},[h]);const oe=o.useRef(!1);rp(()=>(oe.current=!0,()=>{oe.current=!1}),[]),rp(()=>{if(S&&(D.current=S),P&&(T.current=P),S&&P){if(L.current)return L.current(S,P,te);te()}},[S,P,te,L,M]);const fe=o.useMemo(()=>({reference:D,floating:T,setReference:C,setFloating:j}),[C,j]),R=o.useMemo(()=>({reference:S,floating:P}),[S,P]),V=o.useMemo(()=>{const W={position:r,left:0,top:0};if(!R.floating)return W;const ne=Zj(R.floating,m.x),J=Zj(R.floating,m.y);return d?{...W,transform:"translate("+ne+"px, "+J+"px)",...BC(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ne,top:J}},[r,d,R.floating,m.x,m.y]);return o.useMemo(()=>({...m,update:te,refs:fe,elements:R,floatingStyles:V}),[m,te,fe,R,V])}const dI=t=>{function s(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:a,padding:n}=typeof t=="function"?t(r):t;return a&&s(a)?a.current!=null?Qj({element:a.current,padding:n}).fn(r):{}:a?Qj({element:a,padding:n}).fn(r):{}}}},uI=(t,s)=>({...eI(t),options:[t,s]}),xI=(t,s)=>({...tI(t),options:[t,s]}),hI=(t,s)=>({...nI(t),options:[t,s]}),mI=(t,s)=>({...sI(t),options:[t,s]}),pI=(t,s)=>({...rI(t),options:[t,s]}),fI=(t,s)=>({...aI(t),options:[t,s]}),gI=(t,s)=>({...dI(t),options:[t,s]});var yI="Arrow",RC=o.forwardRef((t,s)=>{const{children:r,width:a=10,height:n=5,...l}=t;return e.jsx(Ci.svg,{...l,ref:s,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});RC.displayName=yI;var bI=RC;function vI(t){const[s,r]=o.useState(void 0);return ic(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const l=n[0];let i,d;if("borderBoxSize"in l){const x=l.borderBoxSize,h=Array.isArray(x)?x[0]:x;i=h.inlineSize,d=h.blockSize}else i=t.offsetWidth,d=t.offsetHeight;r({width:i,height:d})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else r(void 0)},[t]),s}var _b="Popper",[HC,UC]=NC(_b),[wI,WC]=HC(_b),GC=t=>{const{__scopePopper:s,children:r}=t,[a,n]=o.useState(null);return e.jsx(wI,{scope:s,anchor:a,onAnchorChange:n,children:r})};GC.displayName=_b;var $C="PopperAnchor",zC=o.forwardRef((t,s)=>{const{__scopePopper:r,virtualRef:a,...n}=t,l=WC($C,r),i=o.useRef(null),d=gc(s,i),x=o.useRef(null);return o.useEffect(()=>{const h=x.current;x.current=a?.current||i.current,h!==x.current&&l.onAnchorChange(x.current)}),a?null:e.jsx(Ci.div,{...n,ref:d})});zC.displayName=$C;var Ob="PopperContent",[NI,jI]=HC(Ob),VC=o.forwardRef((t,s)=>{const{__scopePopper:r,side:a="bottom",sideOffset:n=0,align:l="center",alignOffset:i=0,arrowPadding:d=0,avoidCollisions:x=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:b="partial",hideWhenDetached:f=!1,updatePositionStrategy:N="optimized",onPlaced:p,...v}=t,g=WC(Ob,r),[y,C]=o.useState(null),j=gc(s,he=>C(he)),[S,P]=o.useState(null),D=vI(S),T=D?.width??0,A=D?.height??0,M=a+(l!=="center"?"-"+l:""),L=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},q=Array.isArray(h)?h:[h],B=q.length>0,te={padding:L,boundary:q.filter(SI),altBoundary:B},{refs:oe,floatingStyles:fe,placement:R,isPositioned:V,middlewareData:W}=cI({strategy:"fixed",placement:M,whileElementsMounted:(...he)=>ZM(...he,{animationFrame:N==="always"}),elements:{reference:g.anchor},middleware:[uI({mainAxis:n+A,alignmentAxis:i}),x&&xI({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?hI():void 0,...te}),x&&mI({...te}),pI({...te,apply:({elements:he,rects:ye,availableWidth:be,availableHeight:je})=>{const{width:ge,height:xe}=ye.reference,Se=he.floating.style;Se.setProperty("--radix-popper-available-width",`${be}px`),Se.setProperty("--radix-popper-available-height",`${je}px`),Se.setProperty("--radix-popper-anchor-width",`${ge}px`),Se.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),S&&gI({element:S,padding:d}),kI({arrowWidth:T,arrowHeight:A}),f&&fI({strategy:"referenceHidden",...te})]}),[ne,J]=qC(R),H=E0(p);ic(()=>{V&&H?.()},[V,H]);const F=W.arrow?.x,I=W.arrow?.y,U=W.arrow?.centerOffset!==0,[k,O]=o.useState();return ic(()=>{y&&O(window.getComputedStyle(y).zIndex)},[y]),e.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:V?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:k,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(NI,{scope:r,placedSide:ne,onArrowChange:P,arrowX:F,arrowY:I,shouldHideArrow:U,children:e.jsx(Ci.div,{"data-side":ne,"data-align":J,...v,ref:j,style:{...v.style,animation:V?void 0:"none"}})})})});VC.displayName=Ob;var YC="PopperArrow",CI={top:"bottom",right:"left",bottom:"top",left:"right"},KC=o.forwardRef(function(s,r){const{__scopePopper:a,...n}=s,l=jI(YC,a),i=CI[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(bI,{...n,ref:r,style:{...n.style,display:"block"}})})});KC.displayName=YC;function SI(t){return t!==null}var kI=t=>({name:"transformOrigin",options:t,fn(s){const{placement:r,rects:a,middlewareData:n}=s,i=n.arrow?.centerOffset!==0,d=i?0:t.arrowWidth,x=i?0:t.arrowHeight,[h,m]=qC(r),b={start:"0%",center:"50%",end:"100%"}[m],f=(n.arrow?.x??0)+d/2,N=(n.arrow?.y??0)+x/2;let p="",v="";return h==="bottom"?(p=i?b:`${f}px`,v=`${-x}px`):h==="top"?(p=i?b:`${f}px`,v=`${a.floating.height+x}px`):h==="right"?(p=`${-x}px`,v=i?b:`${N}px`):h==="left"&&(p=`${a.floating.width+x}px`,v=i?b:`${N}px`),{data:{x:p,y:v}}}});function qC(t){const[s,r="center"]=t.split("-");return[s,r]}var DI=GC,XC=zC,EI=VC,TI=KC,AI="Portal",JC=o.forwardRef((t,s)=>{const{container:r,...a}=t,[n,l]=o.useState(!1);ic(()=>l(!0),[]);const i=r||n&&globalThis?.document?.body;return i?IP.createPortal(e.jsx(Ci.div,{...a,ref:s}),i):null});JC.displayName=AI;function FI(t,s){return o.useReducer((r,a)=>s[r][a]??r,t)}var Bb=t=>{const{present:s,children:r}=t,a=PI(s),n=typeof r=="function"?r({present:a.isPresent}):o.Children.only(r),l=gc(a.ref,MI(n));return typeof r=="function"||a.isPresent?o.cloneElement(n,{ref:l}):null};Bb.displayName="Presence";function PI(t){const[s,r]=o.useState(),a=o.useRef(null),n=o.useRef(t),l=o.useRef("none"),i=t?"mounted":"unmounted",[d,x]=FI(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const h=Uh(a.current);l.current=d==="mounted"?h:"none"},[d]),ic(()=>{const h=a.current,m=n.current;if(m!==t){const f=l.current,N=Uh(h);t?x("MOUNT"):N==="none"||h?.display==="none"?x("UNMOUNT"):x(m&&f!==N?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,x]),ic(()=>{if(s){let h;const m=s.ownerDocument.defaultView??window,b=N=>{const v=Uh(a.current).includes(CSS.escape(N.animationName));if(N.target===s&&v&&(x("ANIMATION_END"),!n.current)){const g=s.style.animationFillMode;s.style.animationFillMode="forwards",h=m.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=g)})}},f=N=>{N.target===s&&(l.current=Uh(a.current))};return s.addEventListener("animationstart",f),s.addEventListener("animationcancel",b),s.addEventListener("animationend",b),()=>{m.clearTimeout(h),s.removeEventListener("animationstart",f),s.removeEventListener("animationcancel",b),s.removeEventListener("animationend",b)}}else x("ANIMATION_END")},[s,x]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:o.useCallback(h=>{a.current=h?getComputedStyle(h):null,r(h)},[])}}function Uh(t){return t?.animationName||"none"}function MI(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function II(t){const s=LI(t),r=o.forwardRef((a,n)=>{const{children:l,...i}=a,d=o.Children.toArray(l),x=d.find(OI);if(x){const h=x.props.children,m=d.map(b=>b===x?o.Children.count(h)>1?o.Children.only(null):o.isValidElement(h)?h.props.children:null:b);return e.jsx(s,{...i,ref:n,children:o.isValidElement(h)?o.cloneElement(h,void 0,m):null})}return e.jsx(s,{...i,ref:n,children:l})});return r.displayName=`${t}.Slot`,r}function LI(t){const s=o.forwardRef((r,a)=>{const{children:n,...l}=r;if(o.isValidElement(n)){const i=RI(n),d=BI(l,n.props);return n.type!==o.Fragment&&(d.ref=a?Tb(a,i):i),o.cloneElement(n,d)}return o.Children.count(n)>1?o.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var _I=Symbol("radix.slottable");function OI(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_I}function BI(t,s){const r={...s};for(const a in s){const n=t[a],l=s[a];/^on[A-Z]/.test(a)?n&&l?r[a]=(...d)=>{const x=l(...d);return n(...d),x}:n&&(r[a]=n):a==="style"?r[a]={...n,...l}:a==="className"&&(r[a]=[n,l].filter(Boolean).join(" "))}return{...t,...r}}function RI(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=s&&"isReactWarning"in s&&s.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var HI=K2[" useInsertionEffect ".trim().toString()]||ic;function UI({prop:t,defaultProp:s,onChange:r=()=>{},caller:a}){const[n,l,i]=WI({defaultProp:s,onChange:r}),d=t!==void 0,x=d?t:n;{const m=o.useRef(t!==void 0);o.useEffect(()=>{const b=m.current;b!==d&&console.warn(`${a} is changing from ${b?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,a])}const h=o.useCallback(m=>{if(d){const b=GI(m)?m(t):m;b!==t&&i.current?.(b)}else l(m)},[d,t,l,i]);return[x,h]}function WI({defaultProp:t,onChange:s}){const[r,a]=o.useState(t),n=o.useRef(r),l=o.useRef(s);return HI(()=>{l.current=s},[s]),o.useEffect(()=>{n.current!==r&&(l.current?.(r),n.current=r)},[r,n]),[r,a,l]}function GI(t){return typeof t=="function"}var $I=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},o0=new WeakMap,Wh=new WeakMap,Gh={},Yg=0,QC=function(t){return t&&(t.host||QC(t.parentNode))},zI=function(t,s){return s.map(function(r){if(t.contains(r))return r;var a=QC(r);return a&&t.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},VI=function(t,s,r,a){var n=zI(s,Array.isArray(t)?t:[t]);Gh[r]||(Gh[r]=new WeakMap);var l=Gh[r],i=[],d=new Set,x=new Set(n),h=function(b){!b||d.has(b)||(d.add(b),h(b.parentNode))};n.forEach(h);var m=function(b){!b||x.has(b)||Array.prototype.forEach.call(b.children,function(f){if(d.has(f))m(f);else try{var N=f.getAttribute(a),p=N!==null&&N!=="false",v=(o0.get(f)||0)+1,g=(l.get(f)||0)+1;o0.set(f,v),l.set(f,g),i.push(f),v===1&&p&&Wh.set(f,!0),g===1&&f.setAttribute(r,"true"),p||f.setAttribute(a,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return m(s),d.clear(),Yg++,function(){i.forEach(function(b){var f=o0.get(b)-1,N=l.get(b)-1;o0.set(b,f),l.set(b,N),f||(Wh.has(b)||b.removeAttribute(a),Wh.delete(b)),N||b.removeAttribute(r)}),Yg--,Yg||(o0=new WeakMap,o0=new WeakMap,Wh=new WeakMap,Gh={})}},YI=function(t,s,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),n=$I(t);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),VI(a,n,r,"aria-hidden")):function(){return null}},Ol=function(){return Ol=Object.assign||function(s){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},Ol.apply(this,arguments)};function ZC(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)s.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(r[a[n]]=t[a[n]]);return r}function KI(t,s,r){if(r||arguments.length===2)for(var a=0,n=s.length,l;a<n;a++)(l||!(a in s))&&(l||(l=Array.prototype.slice.call(s,0,a)),l[a]=s[a]);return t.concat(l||Array.prototype.slice.call(s))}var ap="right-scroll-bar-position",np="width-before-scroll-bar",qI="with-scroll-bars-hidden",XI="--removed-body-scroll-bar-size";function Kg(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function JI(t,s){var r=o.useState(function(){return{value:t,callback:s,facade:{get current(){return r.value},set current(a){var n=r.value;n!==a&&(r.value=a,r.callback(a,n))}}}})[0];return r.callback=s,r.facade}var QI=typeof window<"u"?o.useLayoutEffect:o.useEffect,e1=new WeakMap;function ZI(t,s){var r=JI(null,function(a){return t.forEach(function(n){return Kg(n,a)})});return QI(function(){var a=e1.get(r);if(a){var n=new Set(a),l=new Set(t),i=r.current;n.forEach(function(d){l.has(d)||Kg(d,null)}),l.forEach(function(d){n.has(d)||Kg(d,i)})}e1.set(r,t)},[t]),r}function eL(t){return t}function tL(t,s){s===void 0&&(s=eL);var r=[],a=!1,n={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(l){var i=s(l,a);return r.push(i),function(){r=r.filter(function(d){return d!==i})}},assignSyncMedium:function(l){for(a=!0;r.length;){var i=r;r=[],i.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){a=!0;var i=[];if(r.length){var d=r;r=[],d.forEach(l),i=r}var x=function(){var m=i;i=[],m.forEach(l)},h=function(){return Promise.resolve().then(x)};h(),r={push:function(m){i.push(m),h()},filter:function(m){return i=i.filter(m),r}}}};return n}function sL(t){t===void 0&&(t={});var s=tL(null);return s.options=Ol({async:!0,ssr:!1},t),s}var eS=function(t){var s=t.sideCar,r=ZC(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=s.read();if(!a)throw new Error("Sidecar medium not found");return o.createElement(a,Ol({},r))};eS.isSideCarExport=!0;function rL(t,s){return t.useMedium(s),eS}var tS=sL(),qg=function(){},rf=o.forwardRef(function(t,s){var r=o.useRef(null),a=o.useState({onScrollCapture:qg,onWheelCapture:qg,onTouchMoveCapture:qg}),n=a[0],l=a[1],i=t.forwardProps,d=t.children,x=t.className,h=t.removeScrollBar,m=t.enabled,b=t.shards,f=t.sideCar,N=t.noRelative,p=t.noIsolation,v=t.inert,g=t.allowPinchZoom,y=t.as,C=y===void 0?"div":y,j=t.gapMode,S=ZC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=f,D=ZI([r,s]),T=Ol(Ol({},S),n);return o.createElement(o.Fragment,null,m&&o.createElement(P,{sideCar:tS,removeScrollBar:h,shards:b,noRelative:N,noIsolation:p,inert:v,setCallbacks:l,allowPinchZoom:!!g,lockRef:r,gapMode:j}),i?o.cloneElement(o.Children.only(d),Ol(Ol({},T),{ref:D})):o.createElement(C,Ol({},T,{className:x,ref:D}),d))});rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};rf.classNames={fullWidth:np,zeroRight:ap};var aL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=aL();return s&&t.setAttribute("nonce",s),t}function oL(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function lL(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var iL=function(){var t=0,s=null;return{add:function(r){t==0&&(s=nL())&&(oL(s,r),lL(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},cL=function(){var t=iL();return function(s,r){o.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&r])}},sS=function(){var t=cL(),s=function(r){var a=r.styles,n=r.dynamic;return t(a,n),null};return s},dL={left:0,top:0,right:0,gap:0},Xg=function(t){return parseInt(t||"",10)||0},uL=function(t){var s=window.getComputedStyle(document.body),r=s[t==="padding"?"paddingLeft":"marginLeft"],a=s[t==="padding"?"paddingTop":"marginTop"],n=s[t==="padding"?"paddingRight":"marginRight"];return[Xg(r),Xg(a),Xg(n)]},xL=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return dL;var s=uL(t),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,a-r+s[2]-s[0])}},hL=sS(),b0="data-scroll-locked",mL=function(t,s,r,a){var n=t.left,l=t.top,i=t.right,d=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(qI,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(b0,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ap,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(np,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(ap," .").concat(ap,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(np," .").concat(np,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(b0,`] {
    `).concat(XI,": ").concat(d,`px;
  }
`)},t1=function(){var t=parseInt(document.body.getAttribute(b0)||"0",10);return isFinite(t)?t:0},pL=function(){o.useEffect(function(){return document.body.setAttribute(b0,(t1()+1).toString()),function(){var t=t1()-1;t<=0?document.body.removeAttribute(b0):document.body.setAttribute(b0,t.toString())}},[])},fL=function(t){var s=t.noRelative,r=t.noImportant,a=t.gapMode,n=a===void 0?"margin":a;pL();var l=o.useMemo(function(){return xL(n)},[n]);return o.createElement(hL,{styles:mL(l,!s,n,r?"":"!important")})},_y=!1;if(typeof window<"u")try{var $h=Object.defineProperty({},"passive",{get:function(){return _y=!0,!0}});window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{_y=!1}var l0=_y?{passive:!1}:!1,gL=function(t){return t.tagName==="TEXTAREA"},rS=function(t,s){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!gL(t)&&r[s]==="visible")},yL=function(t){return rS(t,"overflowY")},bL=function(t){return rS(t,"overflowX")},s1=function(t,s){var r=s.ownerDocument,a=s;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var n=aS(t,a);if(n){var l=nS(t,a),i=l[1],d=l[2];if(i>d)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},vL=function(t){var s=t.scrollTop,r=t.scrollHeight,a=t.clientHeight;return[s,r,a]},wL=function(t){var s=t.scrollLeft,r=t.scrollWidth,a=t.clientWidth;return[s,r,a]},aS=function(t,s){return t==="v"?yL(s):bL(s)},nS=function(t,s){return t==="v"?vL(s):wL(s)},NL=function(t,s){return t==="h"&&s==="rtl"?-1:1},jL=function(t,s,r,a,n){var l=NL(t,window.getComputedStyle(s).direction),i=l*a,d=r.target,x=s.contains(d),h=!1,m=i>0,b=0,f=0;do{if(!d)break;var N=nS(t,d),p=N[0],v=N[1],g=N[2],y=v-g-l*p;(p||y)&&aS(t,d)&&(b+=y,f+=p);var C=d.parentNode;d=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!x&&d!==document.body||x&&(s.contains(d)||s===d));return(m&&Math.abs(b)<1||!m&&Math.abs(f)<1)&&(h=!0),h},zh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},r1=function(t){return[t.deltaX,t.deltaY]},a1=function(t){return t&&"current"in t?t.current:t},CL=function(t,s){return t[0]===s[0]&&t[1]===s[1]},SL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},kL=0,i0=[];function DL(t){var s=o.useRef([]),r=o.useRef([0,0]),a=o.useRef(),n=o.useState(kL++)[0],l=o.useState(sS)[0],i=o.useRef(t);o.useEffect(function(){i.current=t},[t]),o.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var v=KI([t.lockRef.current],(t.shards||[]).map(a1),!0).filter(Boolean);return v.forEach(function(g){return g.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),v.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var d=o.useCallback(function(v,g){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var y=zh(v),C=r.current,j="deltaX"in v?v.deltaX:C[0]-y[0],S="deltaY"in v?v.deltaY:C[1]-y[1],P,D=v.target,T=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in v&&T==="h"&&D.type==="range")return!1;var A=window.getSelection(),M=A&&A.anchorNode,L=M?M===D||M.contains(D):!1;if(L)return!1;var q=s1(T,D);if(!q)return!0;if(q?P=T:(P=T==="v"?"h":"v",q=s1(T,D)),!q)return!1;if(!a.current&&"changedTouches"in v&&(j||S)&&(a.current=P),!P)return!0;var B=a.current||P;return jL(B,g,v,B==="h"?j:S)},[]),x=o.useCallback(function(v){var g=v;if(!(!i0.length||i0[i0.length-1]!==l)){var y="deltaY"in g?r1(g):zh(g),C=s.current.filter(function(P){return P.name===g.type&&(P.target===g.target||g.target===P.shadowParent)&&CL(P.delta,y)})[0];if(C&&C.should){g.cancelable&&g.preventDefault();return}if(!C){var j=(i.current.shards||[]).map(a1).filter(Boolean).filter(function(P){return P.contains(g.target)}),S=j.length>0?d(g,j[0]):!i.current.noIsolation;S&&g.cancelable&&g.preventDefault()}}},[]),h=o.useCallback(function(v,g,y,C){var j={name:v,delta:g,target:y,should:C,shadowParent:EL(y)};s.current.push(j),setTimeout(function(){s.current=s.current.filter(function(S){return S!==j})},1)},[]),m=o.useCallback(function(v){r.current=zh(v),a.current=void 0},[]),b=o.useCallback(function(v){h(v.type,r1(v),v.target,d(v,t.lockRef.current))},[]),f=o.useCallback(function(v){h(v.type,zh(v),v.target,d(v,t.lockRef.current))},[]);o.useEffect(function(){return i0.push(l),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:f}),document.addEventListener("wheel",x,l0),document.addEventListener("touchmove",x,l0),document.addEventListener("touchstart",m,l0),function(){i0=i0.filter(function(v){return v!==l}),document.removeEventListener("wheel",x,l0),document.removeEventListener("touchmove",x,l0),document.removeEventListener("touchstart",m,l0)}},[]);var N=t.removeScrollBar,p=t.inert;return o.createElement(o.Fragment,null,p?o.createElement(l,{styles:SL(n)}):null,N?o.createElement(fL,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function EL(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const TL=rL(tS,DL);var oS=o.forwardRef(function(t,s){return o.createElement(rf,Ol({},t,{ref:s,sideCar:TL}))});oS.classNames=rf.classNames;var af="Popover",[lS]=NC(af,[UC]),jx=UC(),[AL,yc]=lS(af),iS=t=>{const{__scopePopover:s,children:r,open:a,defaultOpen:n,onOpenChange:l,modal:i=!1}=t,d=jx(s),x=o.useRef(null),[h,m]=o.useState(!1),[b,f]=UI({prop:a,defaultProp:n??!1,onChange:l,caller:af});return e.jsx(DI,{...d,children:e.jsx(AL,{scope:s,contentId:lM(),triggerRef:x,open:b,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(N=>!N),[f]),hasCustomAnchor:h,onCustomAnchorAdd:o.useCallback(()=>m(!0),[]),onCustomAnchorRemove:o.useCallback(()=>m(!1),[]),modal:i,children:r})})};iS.displayName=af;var cS="PopoverAnchor",FL=o.forwardRef((t,s)=>{const{__scopePopover:r,...a}=t,n=yc(cS,r),l=jx(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=n;return o.useEffect(()=>(i(),()=>d()),[i,d]),e.jsx(XC,{...l,...a,ref:s})});FL.displayName=cS;var dS="PopoverTrigger",uS=o.forwardRef((t,s)=>{const{__scopePopover:r,...a}=t,n=yc(dS,r),l=jx(r),i=gc(s,n.triggerRef),d=e.jsx(Ci.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":fS(n.open),...a,ref:i,onClick:oc(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?d:e.jsx(XC,{asChild:!0,...l,children:d})});uS.displayName=dS;var Rb="PopoverPortal",[PL,ML]=lS(Rb,{forceMount:void 0}),xS=t=>{const{__scopePopover:s,forceMount:r,children:a,container:n}=t,l=yc(Rb,s);return e.jsx(PL,{scope:s,forceMount:r,children:e.jsx(Bb,{present:r||l.open,children:e.jsx(JC,{asChild:!0,container:n,children:a})})})};xS.displayName=Rb;var A0="PopoverContent",hS=o.forwardRef((t,s)=>{const r=ML(A0,t.__scopePopover),{forceMount:a=r.forceMount,...n}=t,l=yc(A0,t.__scopePopover);return e.jsx(Bb,{present:a||l.open,children:l.modal?e.jsx(LL,{...n,ref:s}):e.jsx(_L,{...n,ref:s})})});hS.displayName=A0;var IL=II("PopoverContent.RemoveScroll"),LL=o.forwardRef((t,s)=>{const r=yc(A0,t.__scopePopover),a=o.useRef(null),n=gc(s,a),l=o.useRef(!1);return o.useEffect(()=>{const i=a.current;if(i)return YI(i)},[]),e.jsx(oS,{as:IL,allowPinchZoom:!0,children:e.jsx(mS,{...t,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oc(t.onCloseAutoFocus,i=>{i.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:oc(t.onPointerDownOutside,i=>{const d=i.detail.originalEvent,x=d.button===0&&d.ctrlKey===!0,h=d.button===2||x;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:oc(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),_L=o.forwardRef((t,s)=>{const r=yc(A0,t.__scopePopover),a=o.useRef(!1),n=o.useRef(!1);return e.jsx(mS,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(a.current||r.triggerRef.current?.focus(),l.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=l.target;r.triggerRef.current?.contains(i)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&n.current&&l.preventDefault()}})}),mS=o.forwardRef((t,s)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:x,onFocusOutside:h,onInteractOutside:m,...b}=t,f=yc(A0,r),N=jx(r);return JP(),e.jsx(kC,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:l,children:e.jsx(CC,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:m,onEscapeKeyDown:d,onPointerDownOutside:x,onFocusOutside:h,onDismiss:()=>f.onOpenChange(!1),children:e.jsx(EI,{"data-state":fS(f.open),role:"dialog",id:f.contentId,...N,...b,ref:s,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),pS="PopoverClose",OL=o.forwardRef((t,s)=>{const{__scopePopover:r,...a}=t,n=yc(pS,r);return e.jsx(Ci.button,{type:"button",...a,ref:s,onClick:oc(t.onClick,()=>n.onOpenChange(!1))})});OL.displayName=pS;var BL="PopoverArrow",RL=o.forwardRef((t,s)=>{const{__scopePopover:r,...a}=t,n=jx(r);return e.jsx(TI,{...n,...a,ref:s})});RL.displayName=BL;function fS(t){return t?"open":"closed"}var Cx=iS,Sx=uS,kx=xS,Dx=hS;function qa({date:t,onChange:s,label:r}){const[a,n]=o.useState(!1),[l,i]=o.useState(new Date),d=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),x=new Date(l.getFullYear(),l.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=new Date().getFullYear(),b=[];for(let j=1900;j<=m+10;j++)b.push(j);const f=()=>{i(new Date(l.getFullYear(),l.getMonth()-1))},N=()=>{i(new Date(l.getFullYear(),l.getMonth()+1))},p=j=>{i(new Date(l.getFullYear(),j,1))},v=j=>{i(new Date(j,l.getMonth(),1))},g=j=>{const S=(l.getMonth()+1).toString().padStart(2,"0"),P=j.toString().padStart(2,"0"),D=l.getFullYear();s(`${S}/${P}/${D}`),n(!1)},y=()=>{const j=new Date,S=(j.getMonth()+1).toString().padStart(2,"0"),P=j.getDate().toString().padStart(2,"0"),D=j.getFullYear();s(`${S}/${P}/${D}`),n(!1)},C=[];for(let j=0;j<x;j++)C.push(e.jsx("div",{className:"h-8"},`empty-${j}`));for(let j=1;j<=d;j++)C.push(e.jsx("button",{onClick:()=>g(j),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:j},j));return e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:r}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1 flex items-center",children:[e.jsx(cs,{className:"absolute left-3 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"text",value:t,onChange:j=>s(j.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs(Cx,{open:a,onOpenChange:n,children:[e.jsx(Sx,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:e.jsx(cs,{className:"w-5 h-5"})})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(U0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:l.getMonth(),onChange:j=>p(Number(j.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map((j,S)=>e.jsx("option",{value:S,children:j},j))}),e.jsx("select",{value:l.getFullYear(),onChange:j=>v(Number(j.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:b.map(j=>e.jsx("option",{value:j,children:j},j))})]}),e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(j=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:j},j))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:C}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:y,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})]})]})}function Qt(){return e.jsx("div",{className:"w-full bg-green-600 text-white py-3",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white text-sm",children:" 128 Tech Consulting Inc. 2025. All Rights Reserved."})})})}function Yl({selectedCodes:t,onToggle:s,onSelectAll:r}){const[a,n]=o.useState(""),[l,i]=o.useState(1),[d,x]=o.useState("code"),[h,m]=o.useState("asc"),b=10,[f,N]=o.useState([]),[p,v]=o.useState(!1),[g,y]=o.useState(null);o.useEffect(()=>{C()},[]);const C=async()=>{v(!0);try{const q=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(q.data){const B=q.data.map(te=>({id:te.id||te.ID||"",groupCode:te.groupCode||te.GroupCode||"",groupDescription:te.groupDescription||te.GroupDescription||""}));N(B)}}catch(q){const B=q.response?.data?.message||q.message||"Failed to load TKS Group";y(B),console.error("Error fetching TKSGroup:",q)}finally{}},j=q=>{d===q?m(h==="asc"?"desc":"asc"):(x(q),m("asc")),i(1)},S=f.filter(q=>q.groupCode.toLowerCase().includes(a.toLowerCase())||q.groupDescription.toLowerCase().includes(a.toLowerCase())),P=Math.ceil(S.length/b),D=(l-1)*b,T=D+b,A=S.slice(D,T),M=()=>{const q=[];if(P<=7)for(let B=1;B<=P;B++)q.push(B);else if(l<=4){for(let B=1;B<=5;B++)q.push(B);q.push("..."),q.push(P)}else if(l>=P-3){q.push(1),q.push("...");for(let B=P-4;B<=P;B++)q.push(B)}else{q.push(1),q.push("...");for(let B=l-1;B<=l+1;B++)q.push(B);q.push("..."),q.push(P)}return q},L=({field:q})=>d!==q?e.jsxs("div",{className:"flex flex-col ml-1",children:[e.jsx(D0,{className:"w-3 h-3 text-gray-400"}),e.jsx(lc,{className:"w-3 h-3 text-gray-400 -mt-1"})]}):h==="asc"?e.jsx(D0,{className:"w-3 h-3 text-blue-600 ml-1"}):e.jsx(lc,{className:"w-3 h-3 text-blue-600 ml-1"});return o.useEffect(()=>{i(1)},[a]),e.jsxs("div",{className:"lg:col-span-2 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[t.length," selected"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search codes...",value:a,onChange:q=>{n(q.target.value),i(1)},className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-auto",style:{maxHeight:"400px"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",style:{width:"40px"},children:e.jsx("input",{type:"checkbox",checked:t.length===f.length,onChange:r,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",style:{width:"80px"},children:e.jsxs("button",{onClick:()=>j("code"),className:"flex items-center hover:text-gray-900",children:["Code",e.jsx(L,{field:"code"})]})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>j("code"),className:"flex items-center hover:text-gray-900",children:["Description",e.jsx(L,{field:"description"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:A.map(q=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:t.includes(q.id),onChange:()=>s(q.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:q.groupCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:q.groupDescription})]},q.id))})]})})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",D+1," to ",Math.min(T,S.length)," of ",S.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>i(q=>Math.max(1,q-1)),disabled:l===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),M().map((q,B)=>typeof q=="number"?e.jsx("button",{onClick:()=>i(q),className:`px-2 py-1 rounded text-xs ${l===q?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:q},B):e.jsx("span",{className:"px-2",children:q},B)),e.jsx("button",{onClick:()=>i(q=>Math.min(P,q+1)),disabled:l===P,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function n1(){const[t,s]=o.useState([]),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(!1),[f,N]=o.useState("workshift-variable"),[p,v]=o.useState([]),[g,y]=o.useState(null),C=o.useRef(null),[j,S]=o.useState([]),[P,D]=o.useState(!1),[T,A]=o.useState(1),M=10,[L,q]=o.useState(null),[B,te]=o.useState([]);o.useEffect(()=>{oe()},[]);const oe=async()=>{D(!0);try{const ge=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(ge.data){const xe=ge.data.map(Se=>({id:Se.id||Se.ID||"",groupCode:Se.groupCode||Se.GroupCode||"",groupDescription:Se.groupDescription||Se.GroupDescription||""}));v(xe)}}catch(ge){const xe=ge.response?.data?.message||ge.message||"Failed to load TKS Group";q(xe),console.error("Error fetching TKSGroup:",ge)}finally{}},fe=ge=>{s(xe=>xe.includes(ge)?xe.filter(Se=>Se!==ge):[...xe,ge])},R=()=>{t.length===p.length?s([]):s(p.map(ge=>ge.id))},V=ge=>{const xe=ge.target.files?.[0]??null;xe&&(y(xe),a(xe.name))},[W,ne]=o.useState(!1),J=(ge,xe)=>{const Se=window.URL.createObjectURL(ge),De=document.createElement("a");De.href=Se,De.download=xe,document.body.appendChild(De),De.click(),document.body.removeChild(De),window.URL.revokeObjectURL(Se)},H=async()=>{ne(!0);try{const ge=await ae.get("downloads/DownloadTemplate?filename=ImportWorkShift_Template_Variable.xlsx",{responseType:"blob"}),xe=ge.headers["content-type"],Se=new Blob([ge.data],{type:xe});J(Se,"ImportWorkShift_Template_Variable.xlsx")}finally{}},F=async()=>{ne(!0);try{const ge=await ae.get("downloads/DownloadTemplate?filename=ImportWorkshiftWithRestDay_Template.xlsx",{responseType:"blob"}),xe=ge.headers["content-type"],Se=new Blob([ge.data],{type:xe});J(Se,"ImportWorkshiftWithRestDay_Template.xlsx")}finally{ne(!1)}},I=async()=>{if(!g){q("Please select a file to import."),Q.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){Q.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!i||!x){Q.fire({icon:"error",title:"Error",text:"Please select date."});return}const ge=new FormData;if(ge.append("dateFrom",i),ge.append("dateTo",x),ge.append("isDeleteExistingRecord",String(m)),ge.append("file",g,r),console.log(i,x),f=="workshift-variable")try{const xe=await ae.post("/Utilities/Import/ImportWorkshiftVariable",ge);te(xe.data.resultData),xe.data.errors.length>0?(console.log(xe.data.errors),te([]),Q.fire({icon:"error",title:"Error",text:xe.data.resultData?.[0]?.message??xe.data.errors}),S(xe.data.errors)):Q.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{ne(!1),l(!0)}else if(f=="workshift-restday")try{const xe=await ae.post("/Utilities/ImportRestDay/ImportRestDay",ge);te(xe.data.resultData),xe.data.errors.length>0?(te([]),await Q.fire({icon:"error",title:"Error",text:xe.data.resultData[0].message}),S(xe.data.errors)):Q.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{l(!0)}};function U(ge){if(!ge)return null;const xe=new Date(ge);return xe.setDate(xe.getDate()+1),xe.toISOString()}const k=async()=>{const ge={dateFrom:U(i),dateTo:U(x),isDeleteExistingRecord:m,imports:B.filter(xe=>!xe.message)};console.log(ge,i,x);try{const xe=await ae.post("/Utilities/ImportRestDay/UpdateWorkshiftRestDay",ge);te(xe.data.resultData),xe.data.errors.length>0?(te([]),await Q.fire({icon:"error",title:"Error",text:xe.data.messages}),S(xe.data.errors)):Q.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{ne(!1)}},O=Math.ceil(B.length/M),he=(T-1)*M,ye=he+M,be=B.slice(he,he+M),je=()=>{const ge=[];if(O<=7)for(let xe=1;xe<=O;xe++)ge.push(xe);else if(T<=4){for(let xe=1;xe<=5;xe++)ge.push(xe);ge.push("..."),ge.push(O)}else if(T>=O-3){ge.push(1),ge.push("...");for(let xe=O-4;xe<=O;xe++)ge.push(xe)}else{ge.push(1),ge.push("...");for(let xe=T-1;xe<=T+1;xe++)ge.push(xe);ge.push("..."),ge.push(O)}return ge};return console.log(f),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Workshift Variable"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Batch import workshift schedules and rest day assignments for employees. Upload Excel files to configure work schedules across multiple employee groups efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import workshift schedules by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure rest days for employee groups"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:t,onToggle:fe,onSelectAll:R}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[g&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:r}),g&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:C,onChange:V,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:i,onChange:d,label:"Date From"}),e.jsx(qa,{date:x,onChange:h,label:"Date To"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Import Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 border-blue-500 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-variable",checked:f==="workshift-variable",onChange:ge=>N(ge.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift Variable"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-restday",checked:f==="workshift-restday",onChange:ge=>N(ge.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift with Restday"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download Templates:"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",onClick:H,children:[e.jsx(ln,{className:"w-3 h-3",onClick:H}),"Download Template (Workshift Variable)"]}),e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",onClick:F,children:[e.jsx(ln,{className:"w-3 h-3",onClick:F}),"Download Template (Workshift w/ Rest Day)"]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:m,onChange:ge=>b(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Workshift and RestDay"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing workshift and rest day records before importing new data"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:I,children:[e.jsx(ua,{className:"w-4 h-4",onClick:I}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:k,children:[e.jsx(zl,{className:"w-4 h-4",onClick:k}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),n&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:Array.isArray(be)&&be.map((ge,xe)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:ge.empCode}),e.jsx("td",{className:"px-4 py-2",children:ge.employeeName}),e.jsx("td",{className:"px-4 py-2",children:ge.dateFrom?new Date(ge.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ge.dateTo?new Date(ge.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ge.workshiftCode}),e.jsx("td",{className:"px-4 py-2",children:t})]},xe))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!n&&e.jsxs("span",{children:["Showing ",Math.min(ye,B.length)," of ",B.length," entries"]}),n&&e.jsxs("span",{children:["Showing ",he+1," to ",Math.min(ye,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(ge=>Math.max(1,ge-1)),disabled:T===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),je().map((ge,xe)=>typeof ge=="number"?e.jsx("button",{onClick:()=>A(ge),className:`px-2 py-1 rounded text-xs ${T===ge?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ge},xe):e.jsx("span",{className:"px-2",children:ge},xe)),e.jsx("button",{onClick:()=>A(ge=>Math.min(O,ge+1)),disabled:T===O,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function HL(){const[t,s]=o.useState([]),[r,a]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(!1),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(!1),[p,v]=o.useState([]),[g,y]=o.useState(null),C=o.useRef(null),[j,S]=o.useState([]),[P,D]=o.useState(!1),[T,A]=o.useState(1),M=10,[L,q]=o.useState(null),[B,te]=o.useState([]),[oe,fe]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{R()},[]);const R=async()=>{D(!0);try{const je=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(je.data){const ge=je.data.map(xe=>({id:xe.id||xe.ID||"",groupCode:xe.groupCode||xe.GroupCode||"",groupDescription:xe.groupDescription||xe.GroupDescription||""}));v(ge)}}catch(je){const ge=je.response?.data?.message||je.message||"Failed to load TKS Group";q(ge),console.error("Error fetching TKSGroup:",je)}finally{}},V=je=>{s(ge=>ge.includes(je)?ge.filter(xe=>xe!==je):[...ge,je])},W=()=>{t.length===p.length?s([]):s(p.map(je=>je.id))},ne=je=>{const ge=je.target.files?.[0]??null;ge&&(y(ge),l(ge.name))},J=(je,ge)=>{const xe=window.URL.createObjectURL(je),Se=document.createElement("a");Se.href=xe,Se.download=ge,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(xe)},H=async()=>{a(!0);try{const je=await ae.get("downloads/DownloadTemplate?filename=ImportAdjustment_Template.xlsx",{responseType:"blob"}),ge=je.headers["content-type"],xe=new Blob([je.data],{type:ge});J(xe,"ImportAdjustment_Template.xlsx")}finally{}},F=async()=>{if(!g){q("Please select a file to import."),Q.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){Q.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!x||!m){Q.fire({icon:"error",title:"Error",text:"Please select date."});return}a(!0);const je=new FormData;je.append("dateFrom",x),je.append("dateTo",m),je.append("file",g,n);try{const ge=await ae.post("/Utilities/Import/ImportAdjustment",je);te(ge.data.resultData),ge.data.errors.length>0?(console.log(ge.data.errors),te([]),Q.fire({icon:"error",title:"Error",text:ge.data.resultData?.[0]?.message??ge.data.errors}),S(ge.data.errors)):Q.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{a(!1),d(!0)}};function I(je){if(!je)return null;const ge=new Date(je);return ge.setDate(ge.getDate()+1),ge.toISOString()}const U=async()=>{const je={dateFrom:I(x),dateTo:I(m),isDeleteExistingRecord:f,imports:B.filter(ge=>!ge.message)};console.log(je,x,m),console.log(g);try{const ge=await ae.post("/Utilities/Import/UpdateImportAdjustment",je);te(ge.data.resultData),ge.data.errors.length>0?(te([]),Q.fire({icon:"error",title:"Error",text:ge.data.resultData?.[0]?.message??ge.data.errors}),S(ge.data.errors)):Q.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{a(!1)}},k=Math.ceil(B.length/M),O=(T-1)*M,he=O+M,ye=B.slice(O,O+M),be=()=>{const je=[];if(k<=7)for(let ge=1;ge<=k;ge++)je.push(ge);else if(T<=4){for(let ge=1;ge<=5;ge++)je.push(ge);je.push("..."),je.push(k)}else if(T>=k-3){je.push(1),je.push("...");for(let ge=k-4;ge<=k;ge++)je.push(ge)}else{je.push(1),je.push("...");for(let ge=T-1;ge<=T+1;ge++)je.push(ge);je.push("..."),je.push(k)}return je};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Adjustment"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import time and attendance adjustments for employee records. Upload Excel files to batch update employee timekeeping data with corrections and modifications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import adjustment records by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Apply corrections to employee time records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new adjustments"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:t,onToggle:V,onSelectAll:W}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[g&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),g&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:C,onChange:ne,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:x,onChange:h,label:"From:"}),e.jsx(qa,{date:m,onChange:b,label:"To:"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:H}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:H,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:F,children:[e.jsx(ua,{className:"w-4 h-4",onClick:F}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:U,children:[e.jsx(zl,{className:"w-4 h-4",onClick:U}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TransactionDate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TransactionType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"LeaveType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OvertimeCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NoOfHours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AdjustType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFiling"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFilingActualDate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Status"})]})}),e.jsx("tbody",{children:Array.isArray(ye)&&ye.map((je,ge)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:je.empCode}),e.jsx("td",{className:"px-4 py-2",children:je.empName}),e.jsx("td",{className:"px-4 py-2",children:je.transactionDate?new Date(je.transactionDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:je.transactionType}),e.jsx("td",{className:"px-4 py-2",children:je.leaveType}),e.jsx("td",{className:"px-4 py-2",children:je.overtimeCode}),e.jsx("td",{className:"px-4 py-2",children:je.noOfHours}),e.jsx("td",{className:"px-4 py-2",children:je.adjustType}),e.jsx("td",{className:"px-4 py-2",children:je.remarks}),e.jsx("td",{className:"px-4 py-2",children:je.isLateFiling}),e.jsx("td",{className:"px-4 py-2",children:je.isLateFilingActualDate?new Date(je.isLateFilingActualDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:je.status})]},ge))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(he,B.length)," of ",B.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",O+1," to ",Math.min(he,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(je=>Math.max(1,je-1)),disabled:T===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),be().map((je,ge)=>typeof je=="number"?e.jsx("button",{onClick:()=>A(je),className:`px-2 py-1 rounded text-xs ${T===je?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:je},ge):e.jsx("span",{className:"px-2",children:je},ge)),e.jsx("button",{onClick:()=>A(je=>Math.min(k,je+1)),disabled:T===k,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}const uc=[{id:1,code:"100",description:""},{id:2,code:"2",description:"Batangas Balagtas Satellite Monthly Cash"},{id:3,code:"95",description:"Batangas - Balagtas Satellite Monthly cash 2"},{id:4,code:"4",description:"Batangas Cavite Satelite Monthly Cash"},{id:5,code:"5",description:"Batangas Cavite Satellite"},{id:6,code:"3",description:"Batangas Cavite Satellite Daily Cash"},{id:7,code:"6",description:"Batangas Daily"},{id:8,code:"7",description:"Batangas Daily Cash Payroll with Paycard"},{id:9,code:"8",description:"Batangas Employees with the same employee number"},{id:10,code:"11",description:"Batangas Monthly"},{id:11,code:"9",description:"Batangas Monthly Cash 2"},{id:12,code:"10",description:"Batangas Monthly Cash Payroll with Paycard"},{id:13,code:"12",description:"Batangas Resigned - Daily Payroll"},{id:14,code:"13",description:"Batangas Resigned - Monthly Payroll"},{id:15,code:"94",description:"Batangas Confi Managers"},{id:16,code:"85",description:"Batangas Confi Supervisor"},{id:17,code:"1",description:"Batangas1 Balagtas Monthly Payroll"},{id:18,code:"97",description:"Batangas-Balagtas Satellite Resigned"},{id:19,code:"15",description:"Bicol Daily"},{id:20,code:"16",description:"Bicol Daily Cash Payroll with Paycard"},{id:21,code:"18",description:"Bicol Daraga Satelitte Cash"},{id:22,code:"17",description:"Bicol Daraga Satellite"},{id:23,code:"19",description:"Bicol Legazpi Satellite - Monthly cash Payroll"},{id:24,code:"20",description:"Bicol Legazpi Satellite - Monthly Payroll"},{id:25,code:"22",description:"Bicol Monthly"},{id:26,code:"23",description:"Bicol Monthly Cash Payroll 2"},{id:27,code:"21",description:"Bicol Monthly Cash Payroll with Paycard"},{id:28,code:"24",description:"Bicol Resigned - Daily Payroll"},{id:29,code:"26",description:"Bicol Resigned - Monthly Payroll"},{id:30,code:"25",description:"Bicol Resigned Daraga Satellite"},{id:31,code:"27",description:"Bohol Daily"},{id:32,code:"28",description:"Bohol Monthly"},{id:33,code:"29",description:"Bukidnon Monthly"},{id:34,code:"30",description:"Cagayan de Oro Daily"},{id:35,code:"31",description:"Cagayan de Oro Monthly"},{id:36,code:"32",description:"Cavite Daily"},{id:37,code:"33",description:"Cavite Monthly"},{id:38,code:"34",description:"Cebu Daily"},{id:39,code:"35",description:"Cebu Monthly"},{id:40,code:"36",description:"Davao Daily"},{id:41,code:"37",description:"Davao Monthly"},{id:42,code:"38",description:"Iloilo Daily"},{id:43,code:"39",description:"Iloilo Monthly"},{id:44,code:"40",description:"Laguna Daily"},{id:45,code:"41",description:"Laguna Monthly"},{id:46,code:"42",description:"Leyte Daily"},{id:47,code:"43",description:"Leyte Monthly"},{id:48,code:"44",description:"Manila Daily"},{id:49,code:"45",description:"Manila Monthly"},{id:50,code:"46",description:"Mindoro Daily"},{id:51,code:"47",description:"Mindoro Monthly"},{id:52,code:"48",description:"Negros Daily"},{id:53,code:"49",description:"Negros Monthly"},{id:54,code:"50",description:"Palawan Daily"},{id:55,code:"51",description:"Palawan Monthly"},{id:56,code:"52",description:"Pampanga Daily"},{id:57,code:"53",description:"Pampanga Monthly"},{id:58,code:"54",description:"Pangasinan Daily"},{id:59,code:"55",description:"Pangasinan Monthly"},{id:60,code:"56",description:"Quezon Daily"},{id:61,code:"57",description:"Quezon Monthly"},{id:62,code:"58",description:"Rizal Daily"},{id:63,code:"59",description:"Rizal Monthly"},{id:64,code:"60",description:"Samar Daily"},{id:65,code:"61",description:"Samar Monthly"},{id:66,code:"62",description:"Zambales Daily"},{id:67,code:"63",description:"Zambales Monthly"},{id:68,code:"64",description:"Zamboanga Daily"},{id:69,code:"65",description:"Zamboanga Monthly"},{id:70,code:"66",description:"Head Office Daily"},{id:71,code:"67",description:"Head Office Monthly"},{id:72,code:"68",description:"Regional Office 1 Daily"},{id:73,code:"69",description:"Regional Office 1 Monthly"},{id:74,code:"70",description:"Regional Office 2 Daily"},{id:75,code:"71",description:"Regional Office 2 Monthly"},{id:76,code:"72",description:"Regional Office 3 Daily"},{id:77,code:"73",description:"Regional Office 3 Monthly"},{id:78,code:"74",description:"Regional Office 4 Daily"},{id:79,code:"75",description:"Regional Office 4 Monthly"},{id:80,code:"76",description:"Training Center Daily"},{id:81,code:"77",description:"Training Center Monthly"},{id:82,code:"78",description:"Warehouse Daily"},{id:83,code:"79",description:"Warehouse Monthly"},{id:84,code:"80",description:"IT Department Daily"},{id:85,code:"81",description:"IT Department Monthly"},{id:86,code:"82",description:"HR Department Daily"},{id:87,code:"83",description:"HR Department Monthly"},{id:88,code:"84",description:"Finance Department Daily"},{id:89,code:"85",description:"Finance Department Monthly"},{id:90,code:"86",description:"Marketing Department Daily"},{id:91,code:"87",description:"Marketing Department Monthly"},{id:92,code:"88",description:"Operations Department Daily"},{id:93,code:"89",description:"Operations Department Monthly"},{id:94,code:"90",description:"Sales Department Daily"},{id:95,code:"91",description:"Sales Department Monthly"},{id:96,code:"92",description:"Customer Service Daily"},{id:97,code:"93",description:"Customer Service Monthly"},{id:98,code:"96",description:"Security Personnel Daily"},{id:99,code:"98",description:"Security Personnel Monthly"},{id:100,code:"99",description:"Janitorial Staff Daily"},{id:101,code:"101",description:"Janitorial Staff Monthly"},{id:102,code:"102",description:"Contract Workers Daily"},{id:103,code:"103",description:"Contract Workers Monthly"},{id:104,code:"104",description:"Probationary Employees Daily"},{id:105,code:"105",description:"Probationary Employees Monthly"},{id:106,code:"106",description:"Regular Employees Daily"},{id:107,code:"107",description:"Regular Employees Monthly"},{id:108,code:"108",description:"Supervisory Level Daily"},{id:109,code:"109",description:"Supervisory Level Monthly"},{id:110,code:"110",description:"Managerial Level Daily"},{id:111,code:"111",description:"Managerial Level Monthly"},{id:112,code:"112",description:"Executive Level Daily"},{id:113,code:"113",description:"Executive Level Monthly"},{id:114,code:"114",description:"Special Projects Team"}];function UL(){const[t,s]=o.useState(""),[r,a]=o.useState(""),[n,l]=o.useState([2,3,4,5,6,7,8,9,10]),[i,d]=o.useState("3/1/2020"),[x,h]=o.useState("03/15/2020"),[m,b]=o.useState(null),f=o.useRef(null),[N,p]=o.useState(!1),[v,g]=o.useState(!1),[y,C]=o.useState(!1),[j,S]=o.useState(!1),[P,D]=o.useState("B3-TFT-U_DATFILE"),[T,A]=o.useState([]),[M,L]=o.useState(""),[q,B]=o.useState(!1),[te,oe]=o.useState(null),[fe,R]=o.useState(""),[V,W]=o.useState("active"),[ne,J]=o.useState(!1),[H,F]=o.useState(""),U=[{id:1,code:"001",name:"Juan Dela Cruz"},{id:2,code:"002",name:"Maria Santos"},{id:3,code:"003",name:"Pedro Reyes"},{id:4,code:"004",name:"Ana Garcia"},{id:5,code:"005",name:"Jose Hernandez"},{id:6,code:"006",name:"Carmen Lopez"},{id:7,code:"007",name:"Miguel Torres"},{id:8,code:"008",name:"Isabel Ramirez"},{id:9,code:"009",name:"Carlos Flores"},{id:10,code:"010",name:"Rosa Morales"}].filter(ye=>ye.code.toLowerCase().includes(fe.toLowerCase())||ye.name.toLowerCase().includes(fe.toLowerCase())),k=(ye,be)=>{s(ye),a(be),J(!1),F("")};o.useEffect(()=>{O()},[]);const O=async()=>{C(!0);try{const ye=await ae.get("/Fs/Process/Device/DeviceTypeSetUp");if(ye.data){const be=ye.data.map(je=>({deviceName:je.deviceName||je.DeviceName||""}));A(be)}}catch(ye){const be=ye.response?.data?.message||ye.message||"Failed to Devices";oe(be),console.error("Error fetching Devices",ye)}finally{}};o.useEffect(()=>{const ye=be=>{be.key==="Escape"&&ne&&J(!1)};return ne&&document.addEventListener("keydown",ye),()=>{document.removeEventListener("keydown",ye)}},[ne]);const he=ye=>{const be=ye.target.files?.[0];be&&(L(be.name),B(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:i,onChange:d,label:"From:"}),e.jsx(qa,{date:x,onChange:h,label:"To:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsx("select",{value:P,onChange:ye=>D(ye.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:T.map(ye=>e.jsx("option",{value:ye.deviceName,children:ye.deviceName},ye.deviceName))})]}),e.jsx("div",{className:"grid grid-cols-2 space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:ye=>p(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[m&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:M}),m&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:f,onChange:he,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:ye=>g(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:r,onChange:ye=>s(ye.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!0}),e.jsx("button",{onClick:()=>J(!0),className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s(""),a("")},className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:e.jsx(is,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx(zl,{className:"w-4 h-4"}),"Update"]})]})]})]})}),ne&&e.jsx("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>J(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>J(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Select Employee"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:H,onChange:ye=>F(ye.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Group Code"})]})}),e.jsx("tbody",{children:U.map((ye,be)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>k(ye.code,ye.name),children:[e.jsx("td",{className:"px-3 py-1.5",children:ye.id}),e.jsx("td",{className:"px-3 py-1.5",children:ye.name}),e.jsx("td",{className:"px-3 py-1.5",children:ye.code})]},ye.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 10 of 1,658 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"5"}),e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"166"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Cp={};Cp.version="0.18.5";var gS=1252,WL=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Hb={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Ub=function(t){WL.indexOf(t)!=-1&&(gS=Hb[0]=t)};function GL(){Ub(1252)}var il=function(t){Ub(t)};function Wb(){il(1200),GL()}function o1(t){for(var s=[],r=0,a=t.length;r<a;++r)s[r]=t.charCodeAt(r);return s}function $L(t){for(var s=[],r=0;r<t.length>>1;++r)s[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return s.join("")}function yS(t){for(var s=[],r=0;r<t.length>>1;++r)s[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return s.join("")}var Lu=function(t){var s=t.charCodeAt(0),r=t.charCodeAt(1);return s==255&&r==254?$L(t.slice(2)):s==254&&r==255?yS(t.slice(2)):s==65279?t.slice(1):t},Vh=function(s){return String.fromCharCode(s)},l1=function(s){return String.fromCharCode(s)},qu,ac="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Xu(t){for(var s="",r=0,a=0,n=0,l=0,i=0,d=0,x=0,h=0;h<t.length;)r=t.charCodeAt(h++),l=r>>2,a=t.charCodeAt(h++),i=(r&3)<<4|a>>4,n=t.charCodeAt(h++),d=(a&15)<<2|n>>6,x=n&63,isNaN(a)?d=x=64:isNaN(n)&&(x=64),s+=ac.charAt(l)+ac.charAt(i)+ac.charAt(d)+ac.charAt(x);return s}function bo(t){var s="",r=0,a=0,n=0,l=0,i=0,d=0,x=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)l=ac.indexOf(t.charAt(h++)),i=ac.indexOf(t.charAt(h++)),r=l<<2|i>>4,s+=String.fromCharCode(r),d=ac.indexOf(t.charAt(h++)),a=(i&15)<<4|d>>2,d!==64&&(s+=String.fromCharCode(a)),x=ac.indexOf(t.charAt(h++)),n=(d&3)<<6|x,x!==64&&(s+=String.fromCharCode(n));return s}var $s=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Si=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(s,r){return r?new Buffer(s,r):new Buffer(s)}:Buffer.from.bind(Buffer)}return function(){}})();function xc(t){return $s?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function i1(t){return $s?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var po=function(s){return $s?Si(s,"binary"):s.split("").map(function(r){return r.charCodeAt(0)&255})};function nf(t){if(typeof ArrayBuffer>"u")return po(t);for(var s=new ArrayBuffer(t.length),r=new Uint8Array(s),a=0;a!=t.length;++a)r[a]=t.charCodeAt(a)&255;return s}function bc(t){if(Array.isArray(t))return t.map(function(a){return String.fromCharCode(a)}).join("");for(var s=[],r=0;r<t.length;++r)s[r]=String.fromCharCode(t[r]);return s.join("")}function zL(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function Gb(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Gb(new Uint8Array(t));for(var s=new Array(t.length),r=0;r<t.length;++r)s[r]=t[r];return s}var Va=$s?function(t){return Buffer.concat(t.map(function(s){return Buffer.isBuffer(s)?s:Si(s)}))}:function(t){if(typeof Uint8Array<"u"){var s=0,r=0;for(s=0;s<t.length;++s)r+=t[s].length;var a=new Uint8Array(r),n=0;for(s=0,r=0;s<t.length;r+=n,++s)if(n=t[s].length,t[s]instanceof Uint8Array)a.set(t[s],r);else{if(typeof t[s]=="string")throw"wtf";a.set(new Uint8Array(t[s]),r)}return a}return[].concat.apply([],t.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function VL(t){for(var s=[],r=0,a=t.length+250,n=xc(t.length+255),l=0;l<t.length;++l){var i=t.charCodeAt(l);if(i<128)n[r++]=i;else if(i<2048)n[r++]=192|i>>6&31,n[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var d=t.charCodeAt(++l)&1023;n[r++]=240|i>>8&7,n[r++]=128|i>>2&63,n[r++]=128|d>>6&15|(i&3)<<4,n[r++]=128|d&63}else n[r++]=224|i>>12&15,n[r++]=128|i>>6&63,n[r++]=128|i&63;r>a&&(s.push(n.slice(0,r)),r=0,n=xc(65535),a=65530)}return s.push(n.slice(0,r)),Va(s)}var Bn=/\u0000/g,_u=/[\u0001-\u0006]/g;function v0(t){for(var s="",r=t.length-1;r>=0;)s+=t.charAt(r--);return s}function cl(t,s){var r=""+t;return r.length>=s?r:ca("0",s-r.length)+r}function $b(t,s){var r=""+t;return r.length>=s?r:ca(" ",s-r.length)+r}function Sp(t,s){var r=""+t;return r.length>=s?r:r+ca(" ",s-r.length)}function YL(t,s){var r=""+Math.round(t);return r.length>=s?r:ca("0",s-r.length)+r}function KL(t,s){var r=""+t;return r.length>=s?r:ca("0",s-r.length)+r}var c1=Math.pow(2,32);function c0(t,s){if(t>c1||t<-c1)return YL(t,s);var r=Math.round(t);return KL(r,s)}function kp(t,s){return s=s||0,t.length>=7+s&&(t.charCodeAt(s)|32)===103&&(t.charCodeAt(s+1)|32)===101&&(t.charCodeAt(s+2)|32)===110&&(t.charCodeAt(s+3)|32)===101&&(t.charCodeAt(s+4)|32)===114&&(t.charCodeAt(s+5)|32)===97&&(t.charCodeAt(s+6)|32)===108}var d1=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Jg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function qL(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var As={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},u1={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},XL={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Dp(t,s,r){for(var a=t<0?-1:1,n=t*a,l=0,i=1,d=0,x=1,h=0,m=0,b=Math.floor(n);h<s&&(b=Math.floor(n),d=b*i+l,m=b*h+x,!(n-b<5e-8));)n=1/(n-b),l=i,i=d,x=h,h=m;if(m>s&&(h>s?(m=x,d=l):(m=h,d=i)),!r)return[0,a*d,m];var f=Math.floor(a*d/m);return[f,a*d-f*m,m]}function ed(t,s,r){if(t>2958465||t<0)return null;var a=t|0,n=Math.floor(86400*(t-a)),l=0,i=[],d={D:a,T:n,u:86400*(t-a)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),s&&s.date1904&&(a+=1462),d.u>.9999&&(d.u=0,++n==86400&&(d.T=n=0,++a,++d.D)),a===60)i=r?[1317,10,29]:[1900,2,29],l=3;else if(a===0)i=r?[1317,8,29]:[1900,1,0],l=6;else{a>60&&--a;var x=new Date(1900,0,1);x.setDate(x.getDate()+a-1),i=[x.getFullYear(),x.getMonth()+1,x.getDate()],l=x.getDay(),a<60&&(l=(l+6)%7),r&&(l=s8(x,i))}return d.y=i[0],d.m=i[1],d.d=i[2],d.S=n%60,n=Math.floor(n/60),d.M=n%60,n=Math.floor(n/60),d.H=n,d.q=l,d}var bS=new Date(1899,11,31,0,0,0),JL=bS.getTime(),QL=new Date(1900,2,1,0,0,0);function vS(t,s){var r=t.getTime();return s?r-=1461*24*60*60*1e3:t>=QL&&(r+=1440*60*1e3),(r-(JL+(t.getTimezoneOffset()-bS.getTimezoneOffset())*6e4))/(1440*60*1e3)}function zb(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ZL(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function e8(t){var s=t<0?12:11,r=zb(t.toFixed(12));return r.length<=s||(r=t.toPrecision(10),r.length<=s)?r:t.toExponential(5)}function t8(t){var s=zb(t.toFixed(11));return s.length>(t<0?12:11)||s==="0"||s==="-0"?t.toPrecision(6):s}function Ju(t){var s=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return s>=-4&&s<=-1?r=t.toPrecision(10+s):Math.abs(s)<=9?r=e8(t):s===10?r=t.toFixed(10).substr(0,12):r=t8(t),zb(ZL(r.toUpperCase()))}function dd(t,s){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Ju(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Bo(14,vS(t,s&&s.date1904),s)}throw new Error("unsupported value in General format: "+t)}function s8(t,s){s[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function r8(t,s,r,a){var n="",l=0,i=0,d=r.y,x,h=0;switch(t){case 98:d=r.y+543;case 121:switch(s.length){case 1:case 2:x=d%100,h=2;break;default:x=d%1e4,h=4;break}break;case 109:switch(s.length){case 1:case 2:x=r.m,h=s.length;break;case 3:return Jg[r.m-1][1];case 5:return Jg[r.m-1][0];default:return Jg[r.m-1][2]}break;case 100:switch(s.length){case 1:case 2:x=r.d,h=s.length;break;case 3:return d1[r.q][0];default:return d1[r.q][1]}break;case 104:switch(s.length){case 1:case 2:x=1+(r.H+11)%12,h=s.length;break;default:throw"bad hour format: "+s}break;case 72:switch(s.length){case 1:case 2:x=r.H,h=s.length;break;default:throw"bad hour format: "+s}break;case 77:switch(s.length){case 1:case 2:x=r.M,h=s.length;break;default:throw"bad minute format: "+s}break;case 115:if(s!="s"&&s!="ss"&&s!=".0"&&s!=".00"&&s!=".000")throw"bad second format: "+s;return r.u===0&&(s=="s"||s=="ss")?cl(r.S,s.length):(a>=2?i=a===3?1e3:100:i=a===1?10:1,l=Math.round(i*(r.S+r.u)),l>=60*i&&(l=0),s==="s"?l===0?"0":""+l/i:(n=cl(l,2+a),s==="ss"?n.substr(0,2):"."+n.substr(2,s.length-1)));case 90:switch(s){case"[h]":case"[hh]":x=r.D*24+r.H;break;case"[m]":case"[mm]":x=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":x=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+s}h=s.length===3?1:2;break;case 101:x=d,h=1;break}var m=h>0?cl(x,h):"";return m}function nc(t){var s=3;if(t.length<=s)return t;for(var r=t.length%s,a=t.substr(0,r);r!=t.length;r+=s)a+=(a.length>0?",":"")+t.substr(r,s);return a}var wS=/%/g;function a8(t,s,r){var a=s.replace(wS,""),n=s.length-a.length;return gi(t,a,r*Math.pow(10,2*n))+ca("%",n)}function n8(t,s,r){for(var a=s.length-1;s.charCodeAt(a-1)===44;)--a;return gi(t,s.substr(0,a),r/Math.pow(10,3*(s.length-a)))}function NS(t,s){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+NS(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var l=Math.floor(Math.log(s)*Math.LOG10E)%n;if(l<0&&(l+=n),r=(s/Math.pow(10,l)).toPrecision(a+1+(n+l)%n),r.indexOf("e")===-1){var i=Math.floor(Math.log(s)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+l):r+="E+"+(i-l);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,n)+"."+r.substr(2+n),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,x,h,m){return x+h+m.substr(0,(n+l)%n)+"."+m.substr(l)+"E"})}else r=s.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var jS=/# (\?+)( ?)\/( ?)(\d+)/;function o8(t,s,r){var a=parseInt(t[4],10),n=Math.round(s*a),l=Math.floor(n/a),i=n-l*a,d=a;return r+(l===0?"":""+l)+" "+(i===0?ca(" ",t[1].length+1+t[4].length):$b(i,t[1].length)+t[2]+"/"+t[3]+cl(d,t[4].length))}function l8(t,s,r){return r+(s===0?"":""+s)+ca(" ",t[1].length+2+t[4].length)}var CS=/^#*0*\.([0#]+)/,SS=/\).*[0#]/,kS=/\(###\) ###\\?-####/;function In(t){for(var s="",r,a=0;a!=t.length;++a)switch(r=t.charCodeAt(a)){case 35:break;case 63:s+=" ";break;case 48:s+="0";break;default:s+=String.fromCharCode(r)}return s}function x1(t,s){var r=Math.pow(10,s);return""+Math.round(t*r)/r}function h1(t,s){var r=t-Math.floor(t),a=Math.pow(10,s);return s<(""+Math.round(r*a)).length?0:Math.round(r*a)}function i8(t,s){return s<(""+Math.round((t-Math.floor(t))*Math.pow(10,s))).length?1:0}function c8(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Fo(t,s,r){if(t.charCodeAt(0)===40&&!s.match(SS)){var a=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fo("n",a,r):"("+Fo("n",a,-r)+")"}if(s.charCodeAt(s.length-1)===44)return n8(t,s,r);if(s.indexOf("%")!==-1)return a8(t,s,r);if(s.indexOf("E")!==-1)return NS(s,r);if(s.charCodeAt(0)===36)return"$"+Fo(t,s.substr(s.charAt(1)==" "?2:1),r);var n,l,i,d,x=Math.abs(r),h=r<0?"-":"";if(s.match(/^00+$/))return h+c0(x,s.length);if(s.match(/^[#?]+$/))return n=c0(r,0),n==="0"&&(n=""),n.length>s.length?n:In(s.substr(0,s.length-n.length))+n;if(l=s.match(jS))return o8(l,x,h);if(s.match(/^#+0+$/))return h+c0(x,s.length-s.indexOf("0"));if(l=s.match(CS))return n=x1(r,l[1].length).replace(/^([^\.]+)$/,"$1."+In(l[1])).replace(/\.$/,"."+In(l[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+ca("0",In(l[1]).length-v.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),l=s.match(/^(0*)\.(#*)$/))return h+x1(x,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=s.match(/^#{1,3},##0(\.?)$/))return h+nc(c0(x,0));if(l=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fo(t,s,-r):nc(""+(Math.floor(r)+i8(r,l[1].length)))+"."+cl(h1(r,l[1].length),l[1].length);if(l=s.match(/^#,#*,#0/))return Fo(t,s.replace(/^#,#*,/,""),r);if(l=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=v0(Fo(t,s.replace(/[\\-]/g,""),r)),i=0,v0(v0(s.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<n.length?n.charAt(i++):p==="0"?"0":""}));if(s.match(kS))return n=Fo(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(l=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(l[4].length,7),d=Dp(x,Math.pow(10,i)-1,!1),n=""+h,m=gi("n",l[1],d[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+l[2]+"/"+l[3],m=Sp(d[2],i),m.length<l[4].length&&(m=In(l[4].substr(l[4].length-m.length))+m),n+=m,n;if(l=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(l[1].length,l[4].length),7),d=Dp(x,Math.pow(10,i)-1,!0),h+(d[0]||(d[1]?"":"0"))+" "+(d[1]?$b(d[1],i)+l[2]+"/"+l[3]+Sp(d[2],i):ca(" ",2*i+1+l[2].length+l[3].length));if(l=s.match(/^[#0?]+$/))return n=c0(r,0),s.length<=n.length?n:In(s.substr(0,s.length-n.length))+n;if(l=s.match(/^([#0?]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var b=s.indexOf(".")-i,f=s.length-n.length-b;return In(s.substr(0,b)+n+s.substr(s.length-f))}if(l=s.match(/^00,000\.([#0]*0)$/))return i=h1(r,l[1].length),r<0?"-"+Fo(t,s,-r):nc(c8(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?cl(0,3-p.length):"")+p})+"."+cl(i,l[1].length);switch(s){case"###,##0.00":return Fo(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var N=nc(c0(x,0));return N!=="0"?h+N:"";case"###,###.00":return Fo(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Fo(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+s+"|")}function d8(t,s,r){for(var a=s.length-1;s.charCodeAt(a-1)===44;)--a;return gi(t,s.substr(0,a),r/Math.pow(10,3*(s.length-a)))}function u8(t,s,r){var a=s.replace(wS,""),n=s.length-a.length;return gi(t,a,r*Math.pow(10,2*n))+ca("%",n)}function DS(t,s){var r,a=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(s==0)return"0.0E+0";if(s<0)return"-"+DS(t,-s);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var l=Math.floor(Math.log(s)*Math.LOG10E)%n;if(l<0&&(l+=n),r=(s/Math.pow(10,l)).toPrecision(a+1+(n+l)%n),!r.match(/[Ee]/)){var i=Math.floor(Math.log(s)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+l):r+="E+"+(i-l),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,x,h,m){return x+h+m.substr(0,(n+l)%n)+"."+m.substr(l)+"E"})}else r=s.toExponential(a);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Il(t,s,r){if(t.charCodeAt(0)===40&&!s.match(SS)){var a=s.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Il("n",a,r):"("+Il("n",a,-r)+")"}if(s.charCodeAt(s.length-1)===44)return d8(t,s,r);if(s.indexOf("%")!==-1)return u8(t,s,r);if(s.indexOf("E")!==-1)return DS(s,r);if(s.charCodeAt(0)===36)return"$"+Il(t,s.substr(s.charAt(1)==" "?2:1),r);var n,l,i,d,x=Math.abs(r),h=r<0?"-":"";if(s.match(/^00+$/))return h+cl(x,s.length);if(s.match(/^[#?]+$/))return n=""+r,r===0&&(n=""),n.length>s.length?n:In(s.substr(0,s.length-n.length))+n;if(l=s.match(jS))return l8(l,x,h);if(s.match(/^#+0+$/))return h+cl(x,s.length-s.indexOf("0"));if(l=s.match(CS))return n=(""+r).replace(/^([^\.]+)$/,"$1."+In(l[1])).replace(/\.$/,"."+In(l[1])),n=n.replace(/\.(\d*)$/,function(p,v){return"."+v+ca("0",In(l[1]).length-v.length)}),s.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(s=s.replace(/^#+([0.])/,"$1"),l=s.match(/^(0*)\.(#*)$/))return h+(""+x).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=s.match(/^#{1,3},##0(\.?)$/))return h+nc(""+x);if(l=s.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Il(t,s,-r):nc(""+r)+"."+ca("0",l[1].length);if(l=s.match(/^#,#*,#0/))return Il(t,s.replace(/^#,#*,/,""),r);if(l=s.match(/^([0#]+)(\\?-([0#]+))+$/))return n=v0(Il(t,s.replace(/[\\-]/g,""),r)),i=0,v0(v0(s.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<n.length?n.charAt(i++):p==="0"?"0":""}));if(s.match(kS))return n=Il(t,"##########",r),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(l=s.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(l[4].length,7),d=Dp(x,Math.pow(10,i)-1,!1),n=""+h,m=gi("n",l[1],d[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+l[2]+"/"+l[3],m=Sp(d[2],i),m.length<l[4].length&&(m=In(l[4].substr(l[4].length-m.length))+m),n+=m,n;if(l=s.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(l[1].length,l[4].length),7),d=Dp(x,Math.pow(10,i)-1,!0),h+(d[0]||(d[1]?"":"0"))+" "+(d[1]?$b(d[1],i)+l[2]+"/"+l[3]+Sp(d[2],i):ca(" ",2*i+1+l[2].length+l[3].length));if(l=s.match(/^[#0?]+$/))return n=""+r,s.length<=n.length?n:In(s.substr(0,s.length-n.length))+n;if(l=s.match(/^([#0]+)\.([#0]+)$/)){n=""+r.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var b=s.indexOf(".")-i,f=s.length-n.length-b;return In(s.substr(0,b)+n+s.substr(s.length-f))}if(l=s.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Il(t,s,-r):nc(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?cl(0,3-p.length):"")+p})+"."+cl(0,l[1].length);switch(s){case"###,###":case"##,###":case"#,###":var N=nc(""+x);return N!=="0"?h+N:"";default:if(s.match(/\.[0#?]*$/))return Il(t,s.slice(0,s.lastIndexOf(".")),r)+In(s.slice(s.lastIndexOf(".")))}throw new Error("unsupported format |"+s+"|")}function gi(t,s,r){return(r|0)===r?Il(t,s,r):Fo(t,s,r)}function x8(t){for(var s=[],r=!1,a=0,n=0;a<t.length;++a)switch(t.charCodeAt(a)){case 34:r=!r;break;case 95:case 42:case 92:++a;break;case 59:s[s.length]=t.substr(n,a-n),n=a+1}if(s[s.length]=t.substr(n),r===!0)throw new Error("Format |"+t+"| unterminated string ");return s}var ES=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function z0(t){for(var s=0,r="",a="";s<t.length;)switch(r=t.charAt(s)){case"G":kp(t,s)&&(s+=6),s++;break;case'"':for(;t.charCodeAt(++s)!==34&&s<t.length;);++s;break;case"\\":s+=2;break;case"_":s+=2;break;case"@":++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(s,3).toUpperCase()==="A/P"||t.substr(s,5).toUpperCase()==="AM/PM"||t.substr(s,5).toUpperCase()==="/")return!0;++s;break;case"[":for(a=r;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.match(ES))return!0;break;case".":case"0":case"#":for(;s<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++s))>-1||r=="\\"&&t.charAt(s+1)=="-"&&"0#".indexOf(t.charAt(s+2))>-1););break;case"?":for(;t.charAt(++s)===r;);break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;);break;case" ":++s;break;default:++s;break}return!1}function h8(t,s,r,a){for(var n=[],l="",i=0,d="",x="t",h,m,b,f="H";i<t.length;)switch(d=t.charAt(i)){case"G":if(!kp(t,i))throw new Error("unrecognized character "+d+" in "+t);n[n.length]={t:"G",v:"General"},i+=7;break;case'"':for(l="";(b=t.charCodeAt(++i))!==34&&i<t.length;)l+=String.fromCharCode(b);n[n.length]={t:"t",v:l},++i;break;case"\\":var N=t.charAt(++i),p=N==="("||N===")"?N:"t";n[n.length]={t:p,v:N},++i;break;case"_":n[n.length]={t:"t",v:" "},i+=2;break;case"@":n[n.length]={t:"T",v:s},++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2"){if(h==null&&(h=ed(s,r,t.charAt(i+1)==="2"),h==null))return"";n[n.length]={t:"X",v:t.substr(i,2)},x=d,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(s<0||h==null&&(h=ed(s,r),h==null))return"";for(l=d;++i<t.length&&t.charAt(i).toLowerCase()===d;)l+=d;d==="m"&&x.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=f),n[n.length]={t:d,v:l},x=d;break;case"A":case"a":case"":var v={t:d,v:d};if(h==null&&(h=ed(s,r)),t.substr(i,3).toUpperCase()==="A/P"?(h!=null&&(v.v=h.H>=12?"P":"A"),v.t="T",f="h",i+=3):t.substr(i,5).toUpperCase()==="AM/PM"?(h!=null&&(v.v=h.H>=12?"PM":"AM"),v.t="T",i+=5,f="h"):t.substr(i,5).toUpperCase()==="/"?(h!=null&&(v.v=h.H>=12?"":""),v.t="T",i+=5,f="h"):(v.t="t",++i),h==null&&v.t==="T")return"";n[n.length]=v,x=d;break;case"[":for(l=d;t.charAt(i++)!=="]"&&i<t.length;)l+=t.charAt(i);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(ES)){if(h==null&&(h=ed(s,r),h==null))return"";n[n.length]={t:"Z",v:l.toLowerCase()},x=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",z0(t)||(n[n.length]={t:"t",v:l}));break;case".":if(h!=null){for(l=d;++i<t.length&&(d=t.charAt(i))==="0";)l+=d;n[n.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++i<t.length&&"0#?.,E+-%".indexOf(d=t.charAt(i))>-1;)l+=d;n[n.length]={t:"n",v:l};break;case"?":for(l=d;t.charAt(++i)===d;)l+=d;n[n.length]={t:d,v:l},x=d;break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":n[n.length]={t:a===1?"t":d,v:d},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;)l+=t.charAt(i);n[n.length]={t:"D",v:l};break;case" ":n[n.length]={t:d,v:d},++i;break;case"$":n[n.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+t);n[n.length]={t:"t",v:d},++i;break}var g=0,y=0,C;for(i=n.length-1,x="t";i>=0;--i)switch(n[i].t){case"h":case"H":n[i].t=f,x="h",g<1&&(g=1);break;case"s":(C=n[i].v.match(/\.0+$/))&&(y=Math.max(y,C[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":x=n[i].t;break;case"m":x==="s"&&(n[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&n[i].v.match(/[Hh]/)&&(g=1),g<2&&n[i].v.match(/[Mm]/)&&(g=2),g<3&&n[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var j="",S;for(i=0;i<n.length;++i)switch(n[i].t){case"t":case"T":case" ":case"D":break;case"X":n[i].v="",n[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[i].v=r8(n[i].t.charCodeAt(0),n[i].v,h,y),n[i].t="t";break;case"n":case"?":for(S=i+1;n[S]!=null&&((d=n[S].t)==="?"||d==="D"||(d===" "||d==="t")&&n[S+1]!=null&&(n[S+1].t==="?"||n[S+1].t==="t"&&n[S+1].v==="/")||n[i].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(n[S].v==="/"||n[S].v===" "&&n[S+1]!=null&&n[S+1].t=="?"));)n[i].v+=n[S].v,n[S]={v:"",t:";"},++S;j+=n[i].v,i=S-1;break;case"G":n[i].t="t",n[i].v=dd(s,r);break}var P="",D,T;if(j.length>0){j.charCodeAt(0)==40?(D=s<0&&j.charCodeAt(0)===45?-s:s,T=gi("n",j,D)):(D=s<0&&a>1?-s:s,T=gi("n",j,D),D<0&&n[0]&&n[0].t=="t"&&(T=T.substr(1),n[0].v="-"+n[0].v)),S=T.length-1;var A=n.length;for(i=0;i<n.length;++i)if(n[i]!=null&&n[i].t!="t"&&n[i].v.indexOf(".")>-1){A=i;break}var M=n.length;if(A===n.length&&T.indexOf("E")===-1){for(i=n.length-1;i>=0;--i)n[i]==null||"n?".indexOf(n[i].t)===-1||(S>=n[i].v.length-1?(S-=n[i].v.length,n[i].v=T.substr(S+1,n[i].v.length)):S<0?n[i].v="":(n[i].v=T.substr(0,S+1),S=-1),n[i].t="t",M=i);S>=0&&M<n.length&&(n[M].v=T.substr(0,S+1)+n[M].v)}else if(A!==n.length&&T.indexOf("E")===-1){for(S=T.indexOf(".")-1,i=A;i>=0;--i)if(!(n[i]==null||"n?".indexOf(n[i].t)===-1)){for(m=n[i].v.indexOf(".")>-1&&i===A?n[i].v.indexOf(".")-1:n[i].v.length-1,P=n[i].v.substr(m+1);m>=0;--m)S>=0&&(n[i].v.charAt(m)==="0"||n[i].v.charAt(m)==="#")&&(P=T.charAt(S--)+P);n[i].v=P,n[i].t="t",M=i}for(S>=0&&M<n.length&&(n[M].v=T.substr(0,S+1)+n[M].v),S=T.indexOf(".")+1,i=A;i<n.length;++i)if(!(n[i]==null||"n?(".indexOf(n[i].t)===-1&&i!==A)){for(m=n[i].v.indexOf(".")>-1&&i===A?n[i].v.indexOf(".")+1:0,P=n[i].v.substr(0,m);m<n[i].v.length;++m)S<T.length&&(P+=T.charAt(S++));n[i].v=P,n[i].t="t",M=i}}}for(i=0;i<n.length;++i)n[i]!=null&&"n?".indexOf(n[i].t)>-1&&(D=a>1&&s<0&&i>0&&n[i-1].v==="-"?-s:s,n[i].v=gi(n[i].t,n[i].v,D),n[i].t="t");var L="";for(i=0;i!==n.length;++i)n[i]!=null&&(L+=n[i].v);return L}var m1=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function p1(t,s){if(s==null)return!1;var r=parseFloat(s[2]);switch(s[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function m8(t,s){var r=x8(t),a=r.length,n=r[a-1].indexOf("@");if(a<4&&n>-1&&--a,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof s!="number")return[4,r.length===4||n>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=n>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=n>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=n>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var l=s>0?r[0]:s<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[a,l];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(m1),d=r[1].match(m1);return p1(s,i)?[a,r[0]]:p1(s,d)?[a,r[1]]:[a,r[i!=null&&d!=null?2:1]]}return[a,l]}function Bo(t,s,r){r==null&&(r={});var a="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?a=r.dateNF:a=t;break;case"number":t==14&&r.dateNF?a=r.dateNF:a=(r.table!=null?r.table:As)[t],a==null&&(a=r.table&&r.table[u1[t]]||As[u1[t]]),a==null&&(a=XL[t]||"General");break}if(kp(a,0))return dd(s,r);s instanceof Date&&(s=vS(s,r.date1904));var n=m8(a,s);if(kp(n[1]))return dd(s,r);if(s===!0)s="TRUE";else if(s===!1)s="FALSE";else if(s===""||s==null)return"";return h8(n[1],s,r,n[0])}function yi(t,s){if(typeof s!="number"){s=+s||-1;for(var r=0;r<392;++r){if(As[r]==null){s<0&&(s=r);continue}if(As[r]==t){s=r;break}}s<0&&(s=391)}return As[s]=t,s}function of(t){for(var s=0;s!=392;++s)t[s]!==void 0&&yi(t[s],s)}function V0(){As=qL()}var p8={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},TS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function f8(t){var s=typeof t=="number"?As[t]:t;return s=s.replace(TS,"(\\d+)"),new RegExp("^"+s+"$")}function g8(t,s,r){var a=-1,n=-1,l=-1,i=-1,d=-1,x=-1;(s.match(TS)||[]).forEach(function(b,f){var N=parseInt(r[f+1],10);switch(b.toLowerCase().charAt(0)){case"y":a=N;break;case"d":l=N;break;case"h":i=N;break;case"s":x=N;break;case"m":i>=0?d=N:n=N;break}}),x>=0&&d==-1&&n>=0&&(d=n,n=-1);var h=(""+(a>=0?a:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(x>=0?x:0)).slice(-2);return i==-1&&d==-1&&x==-1?h:a==-1&&n==-1&&l==-1?m:h+"T"+m}var y8=(function(){var t={};t.version="1.2.0";function s(){for(var T=0,A=new Array(256),M=0;M!=256;++M)T=M,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,A[M]=T;return typeof Int32Array<"u"?new Int32Array(A):A}var r=s();function a(T){var A=0,M=0,L=0,q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)q[L]=T[L];for(L=0;L!=256;++L)for(M=T[L],A=256+L;A<4096;A+=256)M=q[A]=M>>>8^T[M&255];var B=[];for(L=1;L!=16;++L)B[L-1]=typeof Int32Array<"u"?q.subarray(L*256,L*256+256):q.slice(L*256,L*256+256);return B}var n=a(r),l=n[0],i=n[1],d=n[2],x=n[3],h=n[4],m=n[5],b=n[6],f=n[7],N=n[8],p=n[9],v=n[10],g=n[11],y=n[12],C=n[13],j=n[14];function S(T,A){for(var M=A^-1,L=0,q=T.length;L<q;)M=M>>>8^r[(M^T.charCodeAt(L++))&255];return~M}function P(T,A){for(var M=A^-1,L=T.length-15,q=0;q<L;)M=j[T[q++]^M&255]^C[T[q++]^M>>8&255]^y[T[q++]^M>>16&255]^g[T[q++]^M>>>24]^v[T[q++]]^p[T[q++]]^N[T[q++]]^f[T[q++]]^b[T[q++]]^m[T[q++]]^h[T[q++]]^x[T[q++]]^d[T[q++]]^i[T[q++]]^l[T[q++]]^r[T[q++]];for(L+=15;q<L;)M=M>>>8^r[(M^T[q++])&255];return~M}function D(T,A){for(var M=A^-1,L=0,q=T.length,B=0,te=0;L<q;)B=T.charCodeAt(L++),B<128?M=M>>>8^r[(M^B)&255]:B<2048?(M=M>>>8^r[(M^(192|B>>6&31))&255],M=M>>>8^r[(M^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,te=T.charCodeAt(L++)&1023,M=M>>>8^r[(M^(240|B>>8&7))&255],M=M>>>8^r[(M^(128|B>>2&63))&255],M=M>>>8^r[(M^(128|te>>6&15|(B&3)<<4))&255],M=M>>>8^r[(M^(128|te&63))&255]):(M=M>>>8^r[(M^(224|B>>12&15))&255],M=M>>>8^r[(M^(128|B>>6&63))&255],M=M>>>8^r[(M^(128|B&63))&255]);return~M}return t.table=r,t.bstr=S,t.buf=P,t.str=D,t})(),ks=(function(){var s={};s.version="1.2.1";function r(se,ue){for(var Z=se.split("/"),G=ue.split("/"),Y=0,_=0,ie=Math.min(Z.length,G.length);Y<ie;++Y){if(_=Z[Y].length-G[Y].length)return _;if(Z[Y]!=G[Y])return Z[Y]<G[Y]?-1:1}return Z.length-G.length}function a(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:a(se.slice(0,-1));var ue=se.lastIndexOf("/");return ue===-1?se:se.slice(0,ue+1)}function n(se){if(se.charAt(se.length-1)=="/")return n(se.slice(0,-1));var ue=se.lastIndexOf("/");return ue===-1?se:se.slice(ue+1)}function l(se,ue){typeof ue=="string"&&(ue=new Date(ue));var Z=ue.getHours();Z=Z<<6|ue.getMinutes(),Z=Z<<5|ue.getSeconds()>>>1,se.write_shift(2,Z);var G=ue.getFullYear()-1980;G=G<<4|ue.getMonth()+1,G=G<<5|ue.getDate(),se.write_shift(2,G)}function i(se){var ue=se.read_shift(2)&65535,Z=se.read_shift(2)&65535,G=new Date,Y=Z&31;Z>>>=5;var _=Z&15;Z>>>=4,G.setMilliseconds(0),G.setFullYear(Z+1980),G.setMonth(_-1),G.setDate(Y);var ie=ue&31;ue>>>=5;var _e=ue&63;return ue>>>=6,G.setHours(ue),G.setMinutes(_e),G.setSeconds(ie<<1),G}function d(se){nn(se,0);for(var ue={},Z=0;se.l<=se.length-4;){var G=se.read_shift(2),Y=se.read_shift(2),_=se.l+Y,ie={};switch(G){case 21589:Z=se.read_shift(1),Z&1&&(ie.mtime=se.read_shift(4)),Y>5&&(Z&2&&(ie.atime=se.read_shift(4)),Z&4&&(ie.ctime=se.read_shift(4))),ie.mtime&&(ie.mt=new Date(ie.mtime*1e3));break}se.l=_,ue[G]=ie}return ue}var x;function h(){return x||(x={})}function m(se,ue){if(se[0]==80&&se[1]==75)return Qe(se,ue);if((se[0]|32)==109&&(se[1]|32)==105)return Ee(se,ue);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var Z=3,G=512,Y=0,_=0,ie=0,_e=0,Ie=0,ke=[],X=se.slice(0,512);nn(X,0);var Ne=b(X);switch(Z=Ne[0],Z){case 3:G=512;break;case 4:G=4096;break;case 0:if(Ne[1]==0)return Qe(se,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}G!==512&&(X=se.slice(0,G),nn(X,28));var ee=se.slice(0,G);f(X,Z);var de=X.read_shift(4,"i");if(Z===3&&de!==0)throw new Error("# Directory Sectors: Expected 0 saw "+de);X.l+=4,ie=X.read_shift(4,"i"),X.l+=4,X.chk("00100000","Mini Stream Cutoff Size: "),_e=X.read_shift(4,"i"),Y=X.read_shift(4,"i"),Ie=X.read_shift(4,"i"),_=X.read_shift(4,"i");for(var re=-1,We=0;We<109&&(re=X.read_shift(4,"i"),!(re<0));++We)ke[We]=re;var ft=N(se,G);g(Ie,_,ft,G,ke);var $t=C(ft,ie,ke,G);$t[ie].name="!Directory",Y>0&&_e!==te&&($t[_e].name="!MiniFAT"),$t[ke[0]].name="!FAT",$t.fat_addrs=ke,$t.ssz=G;var z={},Pe=[],Xe=[],as=[];j(ie,$t,ft,Pe,Y,z,Xe,_e),p(Xe,as,Pe),Pe.shift();var us={FileIndex:Xe,FullPaths:as};return ue&&ue.raw&&(us.raw={header:ee,sectors:ft}),us}function b(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(oe,"Header Signature: "),se.l+=16;var ue=se.read_shift(2,"u");return[se.read_shift(2,"u"),ue]}function f(se,ue){var Z=9;switch(se.l+=2,Z=se.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function N(se,ue){for(var Z=Math.ceil(se.length/ue)-1,G=[],Y=1;Y<Z;++Y)G[Y-1]=se.slice(Y*ue,(Y+1)*ue);return G[Z-1]=se.slice(Z*ue),G}function p(se,ue,Z){for(var G=0,Y=0,_=0,ie=0,_e=0,Ie=Z.length,ke=[],X=[];G<Ie;++G)ke[G]=X[G]=G,ue[G]=Z[G];for(;_e<X.length;++_e)G=X[_e],Y=se[G].L,_=se[G].R,ie=se[G].C,ke[G]===G&&(Y!==-1&&ke[Y]!==Y&&(ke[G]=ke[Y]),_!==-1&&ke[_]!==_&&(ke[G]=ke[_])),ie!==-1&&(ke[ie]=G),Y!==-1&&G!=ke[G]&&(ke[Y]=ke[G],X.lastIndexOf(Y)<_e&&X.push(Y)),_!==-1&&G!=ke[G]&&(ke[_]=ke[G],X.lastIndexOf(_)<_e&&X.push(_));for(G=1;G<Ie;++G)ke[G]===G&&(_!==-1&&ke[_]!==_?ke[G]=ke[_]:Y!==-1&&ke[Y]!==Y&&(ke[G]=ke[Y]));for(G=1;G<Ie;++G)if(se[G].type!==0){if(_e=G,_e!=ke[_e])do _e=ke[_e],ue[G]=ue[_e]+"/"+ue[G];while(_e!==0&&ke[_e]!==-1&&_e!=ke[_e]);ke[G]=-1}for(ue[0]+="/",G=1;G<Ie;++G)se[G].type!==2&&(ue[G]+="/")}function v(se,ue,Z){for(var G=se.start,Y=se.size,_=[],ie=G;Z&&Y>0&&ie>=0;)_.push(ue.slice(ie*B,ie*B+B)),Y-=B,ie=Qc(Z,ie*4);return _.length===0?Wt(0):Va(_).slice(0,se.size)}function g(se,ue,Z,G,Y){var _=te;if(se===te){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var ie=Z[se],_e=(G>>>2)-1;if(!ie)return;for(var Ie=0;Ie<_e&&(_=Qc(ie,Ie*4))!==te;++Ie)Y.push(_);g(Qc(ie,G-4),ue-1,Z,G,Y)}}function y(se,ue,Z,G,Y){var _=[],ie=[];Y||(Y=[]);var _e=G-1,Ie=0,ke=0;for(Ie=ue;Ie>=0;){Y[Ie]=!0,_[_.length]=Ie,ie.push(se[Ie]);var X=Z[Math.floor(Ie*4/G)];if(ke=Ie*4&_e,G<4+ke)throw new Error("FAT boundary crossed: "+Ie+" 4 "+G);if(!se[X])break;Ie=Qc(se[X],ke)}return{nodes:_,data:D1([ie])}}function C(se,ue,Z,G){var Y=se.length,_=[],ie=[],_e=[],Ie=[],ke=G-1,X=0,Ne=0,ee=0,de=0;for(X=0;X<Y;++X)if(_e=[],ee=X+ue,ee>=Y&&(ee-=Y),!ie[ee]){Ie=[];var re=[];for(Ne=ee;Ne>=0;){re[Ne]=!0,ie[Ne]=!0,_e[_e.length]=Ne,Ie.push(se[Ne]);var We=Z[Math.floor(Ne*4/G)];if(de=Ne*4&ke,G<4+de)throw new Error("FAT boundary crossed: "+Ne+" 4 "+G);if(!se[We]||(Ne=Qc(se[We],de),re[Ne]))break}_[ee]={nodes:_e,data:D1([Ie])}}return _}function j(se,ue,Z,G,Y,_,ie,_e){for(var Ie=0,ke=G.length?2:0,X=ue[se].data,Ne=0,ee=0,de;Ne<X.length;Ne+=128){var re=X.slice(Ne,Ne+128);nn(re,64),ee=re.read_shift(2),de=Qb(re,0,ee-ke),G.push(de);var We={name:de,type:re.read_shift(1),color:re.read_shift(1),L:re.read_shift(4,"i"),R:re.read_shift(4,"i"),C:re.read_shift(4,"i"),clsid:re.read_shift(16),state:re.read_shift(4,"i"),start:0,size:0},ft=re.read_shift(2)+re.read_shift(2)+re.read_shift(2)+re.read_shift(2);ft!==0&&(We.ct=S(re,re.l-8));var $t=re.read_shift(2)+re.read_shift(2)+re.read_shift(2)+re.read_shift(2);$t!==0&&(We.mt=S(re,re.l-8)),We.start=re.read_shift(4,"i"),We.size=re.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=te,We.name=""),We.type===5?(Ie=We.start,Y>0&&Ie!==te&&(ue[Ie].name="!StreamData")):We.size>=4096?(We.storage="fat",ue[We.start]===void 0&&(ue[We.start]=y(Z,We.start,ue.fat_addrs,ue.ssz)),ue[We.start].name=We.name,We.content=ue[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:Ie!==te&&We.start!==te&&ue[Ie]&&(We.content=v(We,ue[Ie].data,(ue[_e]||{}).data))),We.content&&nn(We.content,0),_[de]=We,ie.push(We)}}function S(se,ue){return new Date((mo(se,ue+4)/1e7*Math.pow(2,32)+mo(se,ue)/1e7-11644473600)*1e3)}function P(se,ue){return h(),m(x.readFileSync(se),ue)}function D(se,ue){var Z=ue&&ue.type;switch(Z||$s&&Buffer.isBuffer(se)&&(Z="buffer"),Z||"base64"){case"file":return P(se,ue);case"base64":return m(po(bo(se)),ue);case"binary":return m(po(se),ue)}return m(se,ue)}function T(se,ue){var Z=ue||{},G=Z.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=G+"/",se.FileIndex[0]={name:G,type:5}),Z.CLSID&&(se.FileIndex[0].clsid=Z.CLSID),A(se)}function A(se){var ue="Sh33tJ5";if(!ks.find(se,"/"+ue)){var Z=Wt(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,se.FileIndex.push({name:ue,type:2,content:Z,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+ue),M(se)}}function M(se,ue){T(se);for(var Z=!1,G=!1,Y=se.FullPaths.length-1;Y>=0;--Y){var _=se.FileIndex[Y];switch(_.type){case 0:G?Z=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:G=!0,isNaN(_.R*_.L*_.C)&&(Z=!0),_.R>-1&&_.L>-1&&_.R==_.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!ue)){var ie=new Date(1987,1,19),_e=0,Ie=Object.create?Object.create(null):{},ke=[];for(Y=0;Y<se.FullPaths.length;++Y)Ie[se.FullPaths[Y]]=!0,se.FileIndex[Y].type!==0&&ke.push([se.FullPaths[Y],se.FileIndex[Y]]);for(Y=0;Y<ke.length;++Y){var X=a(ke[Y][0]);G=Ie[X],G||(ke.push([X,{name:n(X).replace("/",""),type:1,clsid:R,ct:ie,mt:ie,content:null}]),Ie[X]=!0)}for(ke.sort(function(de,re){return r(de[0],re[0])}),se.FullPaths=[],se.FileIndex=[],Y=0;Y<ke.length;++Y)se.FullPaths[Y]=ke[Y][0],se.FileIndex[Y]=ke[Y][1];for(Y=0;Y<ke.length;++Y){var Ne=se.FileIndex[Y],ee=se.FullPaths[Y];if(Ne.name=n(ee).replace("/",""),Ne.L=Ne.R=Ne.C=-(Ne.color=1),Ne.size=Ne.content?Ne.content.length:0,Ne.start=0,Ne.clsid=Ne.clsid||R,Y===0)Ne.C=ke.length>1?1:-1,Ne.size=0,Ne.type=5;else if(ee.slice(-1)=="/"){for(_e=Y+1;_e<ke.length&&a(se.FullPaths[_e])!=ee;++_e);for(Ne.C=_e>=ke.length?-1:_e,_e=Y+1;_e<ke.length&&a(se.FullPaths[_e])!=a(ee);++_e);Ne.R=_e>=ke.length?-1:_e,Ne.type=1}else a(se.FullPaths[Y+1]||"")==a(ee)&&(Ne.R=Y+1),Ne.type=2}}}function L(se,ue){var Z=ue||{};if(Z.fileType=="mad")return pe(se,Z);switch(M(se),Z.fileType){case"zip":return vt(se,Z)}var G=(function(de){for(var re=0,We=0,ft=0;ft<de.FileIndex.length;++ft){var $t=de.FileIndex[ft];if($t.content){var z=$t.content.length;z>0&&(z<4096?re+=z+63>>6:We+=z+511>>9)}}for(var Pe=de.FullPaths.length+3>>2,Xe=re+7>>3,as=re+127>>7,us=Xe+We+Pe+as,tt=us+127>>7,Zt=tt<=109?0:Math.ceil((tt-109)/127);us+tt+Zt+127>>7>tt;)Zt=++tt<=109?0:Math.ceil((tt-109)/127);var kt=[1,Zt,tt,as,Pe,We,re,0];return de.FileIndex[0].size=re<<6,kt[7]=(de.FileIndex[0].start=kt[0]+kt[1]+kt[2]+kt[3]+kt[4]+kt[5])+(kt[6]+7>>3),kt})(se),Y=Wt(G[7]<<9),_=0,ie=0;{for(_=0;_<8;++_)Y.write_shift(1,fe[_]);for(_=0;_<8;++_)Y.write_shift(2,0);for(Y.write_shift(2,62),Y.write_shift(2,3),Y.write_shift(2,65534),Y.write_shift(2,9),Y.write_shift(2,6),_=0;_<3;++_)Y.write_shift(2,0);for(Y.write_shift(4,0),Y.write_shift(4,G[2]),Y.write_shift(4,G[0]+G[1]+G[2]+G[3]-1),Y.write_shift(4,0),Y.write_shift(4,4096),Y.write_shift(4,G[3]?G[0]+G[1]+G[2]-1:te),Y.write_shift(4,G[3]),Y.write_shift(-4,G[1]?G[0]-1:te),Y.write_shift(4,G[1]),_=0;_<109;++_)Y.write_shift(-4,_<G[2]?G[1]+_:-1)}if(G[1])for(ie=0;ie<G[1];++ie){for(;_<236+ie*127;++_)Y.write_shift(-4,_<G[2]?G[1]+_:-1);Y.write_shift(-4,ie===G[1]-1?te:ie+1)}var _e=function(de){for(ie+=de;_<ie-1;++_)Y.write_shift(-4,_+1);de&&(++_,Y.write_shift(-4,te))};for(ie=_=0,ie+=G[1];_<ie;++_)Y.write_shift(-4,V.DIFSECT);for(ie+=G[2];_<ie;++_)Y.write_shift(-4,V.FATSECT);_e(G[3]),_e(G[4]);for(var Ie=0,ke=0,X=se.FileIndex[0];Ie<se.FileIndex.length;++Ie)X=se.FileIndex[Ie],X.content&&(ke=X.content.length,!(ke<4096)&&(X.start=ie,_e(ke+511>>9)));for(_e(G[6]+7>>3);Y.l&511;)Y.write_shift(-4,V.ENDOFCHAIN);for(ie=_=0,Ie=0;Ie<se.FileIndex.length;++Ie)X=se.FileIndex[Ie],X.content&&(ke=X.content.length,!(!ke||ke>=4096)&&(X.start=ie,_e(ke+63>>6)));for(;Y.l&511;)Y.write_shift(-4,V.ENDOFCHAIN);for(_=0;_<G[4]<<2;++_){var Ne=se.FullPaths[_];if(!Ne||Ne.length===0){for(Ie=0;Ie<17;++Ie)Y.write_shift(4,0);for(Ie=0;Ie<3;++Ie)Y.write_shift(4,-1);for(Ie=0;Ie<12;++Ie)Y.write_shift(4,0);continue}X=se.FileIndex[_],_===0&&(X.start=X.size?X.start-1:te);var ee=_===0&&Z.root||X.name;if(ke=2*(ee.length+1),Y.write_shift(64,ee,"utf16le"),Y.write_shift(2,ke),Y.write_shift(1,X.type),Y.write_shift(1,X.color),Y.write_shift(-4,X.L),Y.write_shift(-4,X.R),Y.write_shift(-4,X.C),X.clsid)Y.write_shift(16,X.clsid,"hex");else for(Ie=0;Ie<4;++Ie)Y.write_shift(4,0);Y.write_shift(4,X.state||0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,X.start),Y.write_shift(4,X.size),Y.write_shift(4,0)}for(_=1;_<se.FileIndex.length;++_)if(X=se.FileIndex[_],X.size>=4096)if(Y.l=X.start+1<<9,$s&&Buffer.isBuffer(X.content))X.content.copy(Y,Y.l,0,X.size),Y.l+=X.size+511&-512;else{for(Ie=0;Ie<X.size;++Ie)Y.write_shift(1,X.content[Ie]);for(;Ie&511;++Ie)Y.write_shift(1,0)}for(_=1;_<se.FileIndex.length;++_)if(X=se.FileIndex[_],X.size>0&&X.size<4096)if($s&&Buffer.isBuffer(X.content))X.content.copy(Y,Y.l,0,X.size),Y.l+=X.size+63&-64;else{for(Ie=0;Ie<X.size;++Ie)Y.write_shift(1,X.content[Ie]);for(;Ie&63;++Ie)Y.write_shift(1,0)}if($s)Y.l=Y.length;else for(;Y.l<Y.length;)Y.write_shift(1,0);return Y}function q(se,ue){var Z=se.FullPaths.map(function(Ie){return Ie.toUpperCase()}),G=Z.map(function(Ie){var ke=Ie.split("/");return ke[ke.length-(Ie.slice(-1)=="/"?2:1)]}),Y=!1;ue.charCodeAt(0)===47?(Y=!0,ue=Z[0].slice(0,-1)+ue):Y=ue.indexOf("/")!==-1;var _=ue.toUpperCase(),ie=Y===!0?Z.indexOf(_):G.indexOf(_);if(ie!==-1)return se.FileIndex[ie];var _e=!_.match(_u);for(_=_.replace(Bn,""),_e&&(_=_.replace(_u,"!")),ie=0;ie<Z.length;++ie)if((_e?Z[ie].replace(_u,"!"):Z[ie]).replace(Bn,"")==_||(_e?G[ie].replace(_u,"!"):G[ie]).replace(Bn,"")==_)return se.FileIndex[ie];return null}var B=64,te=-2,oe="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],R="00000000000000000000000000000000",V={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:te,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:R,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function W(se,ue,Z){h();var G=L(se,Z);x.writeFileSync(ue,G)}function ne(se){for(var ue=new Array(se.length),Z=0;Z<se.length;++Z)ue[Z]=String.fromCharCode(se[Z]);return ue.join("")}function J(se,ue){var Z=L(se,ue);switch(ue&&ue.type||"buffer"){case"file":return h(),x.writeFileSync(ue.filename,Z),Z;case"binary":return typeof Z=="string"?Z:ne(Z);case"base64":return Xu(typeof Z=="string"?Z:ne(Z));case"buffer":if($s)return Buffer.isBuffer(Z)?Z:Si(Z);case"array":return typeof Z=="string"?po(Z):Z}return Z}var H;function F(se){try{var ue=se.InflateRaw,Z=new ue;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)H=se;else throw new Error("zlib does not expose bytesRead")}catch(G){console.error("cannot use native zlib: "+(G.message||G))}}function I(se,ue){if(!H)return Bt(se,ue);var Z=H.InflateRaw,G=new Z,Y=G._processChunk(se.slice(se.l),G._finishFlushFlag);return se.l+=G.bytesRead,Y}function U(se){return H?H.deflateRawSync(se):mt(se)}var k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],he=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ye(se){var ue=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var be=typeof Uint8Array<"u",je=be?new Uint8Array(256):[],ge=0;ge<256;++ge)je[ge]=ye(ge);function xe(se,ue){var Z=je[se&255];return ue<=8?Z>>>8-ue:(Z=Z<<8|je[se>>8&255],ue<=16?Z>>>16-ue:(Z=Z<<8|je[se>>16&255],Z>>>24-ue))}function Se(se,ue){var Z=ue&7,G=ue>>>3;return(se[G]|(Z<=6?0:se[G+1]<<8))>>>Z&3}function De(se,ue){var Z=ue&7,G=ue>>>3;return(se[G]|(Z<=5?0:se[G+1]<<8))>>>Z&7}function Fe(se,ue){var Z=ue&7,G=ue>>>3;return(se[G]|(Z<=4?0:se[G+1]<<8))>>>Z&15}function Ae(se,ue){var Z=ue&7,G=ue>>>3;return(se[G]|(Z<=3?0:se[G+1]<<8))>>>Z&31}function ze(se,ue){var Z=ue&7,G=ue>>>3;return(se[G]|(Z<=1?0:se[G+1]<<8))>>>Z&127}function He(se,ue,Z){var G=ue&7,Y=ue>>>3,_=(1<<Z)-1,ie=se[Y]>>>G;return Z<8-G||(ie|=se[Y+1]<<8-G,Z<16-G)||(ie|=se[Y+2]<<16-G,Z<24-G)||(ie|=se[Y+3]<<24-G),ie&_}function Ve(se,ue,Z){var G=ue&7,Y=ue>>>3;return G<=5?se[Y]|=(Z&7)<<G:(se[Y]|=Z<<G&255,se[Y+1]=(Z&7)>>8-G),ue+3}function qe(se,ue,Z){var G=ue&7,Y=ue>>>3;return Z=(Z&1)<<G,se[Y]|=Z,ue+1}function ve(se,ue,Z){var G=ue&7,Y=ue>>>3;return Z<<=G,se[Y]|=Z&255,Z>>>=8,se[Y+1]=Z,ue+8}function Me(se,ue,Z){var G=ue&7,Y=ue>>>3;return Z<<=G,se[Y]|=Z&255,Z>>>=8,se[Y+1]=Z&255,se[Y+2]=Z>>>8,ue+16}function Te(se,ue){var Z=se.length,G=2*Z>ue?2*Z:ue+5,Y=0;if(Z>=ue)return se;if($s){var _=i1(G);if(se.copy)se.copy(_);else for(;Y<se.length;++Y)_[Y]=se[Y];return _}else if(be){var ie=new Uint8Array(G);if(ie.set)ie.set(se);else for(;Y<Z;++Y)ie[Y]=se[Y];return ie}return se.length=G,se}function Le(se){for(var ue=new Array(se),Z=0;Z<se;++Z)ue[Z]=0;return ue}function ot(se,ue,Z){var G=1,Y=0,_=0,ie=0,_e=0,Ie=se.length,ke=be?new Uint16Array(32):Le(32);for(_=0;_<32;++_)ke[_]=0;for(_=Ie;_<Z;++_)se[_]=0;Ie=se.length;var X=be?new Uint16Array(Ie):Le(Ie);for(_=0;_<Ie;++_)ke[Y=se[_]]++,G<Y&&(G=Y),X[_]=0;for(ke[0]=0,_=1;_<=G;++_)ke[_+16]=_e=_e+ke[_-1]<<1;for(_=0;_<Ie;++_)_e=se[_],_e!=0&&(X[_]=ke[_e+16]++);var Ne=0;for(_=0;_<Ie;++_)if(Ne=se[_],Ne!=0)for(_e=xe(X[_],G)>>G-Ne,ie=(1<<G+4-Ne)-1;ie>=0;--ie)ue[_e|ie<<Ne]=Ne&15|_<<4;return G}var Je=be?new Uint16Array(512):Le(512),Ge=be?new Uint16Array(32):Le(32);if(!be){for(var et=0;et<512;++et)Je[et]=0;for(et=0;et<32;++et)Ge[et]=0}(function(){for(var se=[],ue=0;ue<32;ue++)se.push(5);ot(se,Ge,32);var Z=[];for(ue=0;ue<=143;ue++)Z.push(8);for(;ue<=255;ue++)Z.push(9);for(;ue<=279;ue++)Z.push(7);for(;ue<=287;ue++)Z.push(8);ot(Z,Je,288)})();var yt=(function(){for(var ue=be?new Uint8Array(32768):[],Z=0,G=0;Z<he.length-1;++Z)for(;G<he[Z+1];++G)ue[G]=Z;for(;G<32768;++G)ue[G]=29;var Y=be?new Uint8Array(259):[];for(Z=0,G=0;Z<O.length-1;++Z)for(;G<O[Z+1];++G)Y[G]=Z;function _(_e,Ie){for(var ke=0;ke<_e.length;){var X=Math.min(65535,_e.length-ke),Ne=ke+X==_e.length;for(Ie.write_shift(1,+Ne),Ie.write_shift(2,X),Ie.write_shift(2,~X&65535);X-- >0;)Ie[Ie.l++]=_e[ke++]}return Ie.l}function ie(_e,Ie){for(var ke=0,X=0,Ne=be?new Uint16Array(32768):[];X<_e.length;){var ee=Math.min(65535,_e.length-X);if(ee<10){for(ke=Ve(Ie,ke,+(X+ee==_e.length)),ke&7&&(ke+=8-(ke&7)),Ie.l=ke/8|0,Ie.write_shift(2,ee),Ie.write_shift(2,~ee&65535);ee-- >0;)Ie[Ie.l++]=_e[X++];ke=Ie.l*8;continue}ke=Ve(Ie,ke,+(X+ee==_e.length)+2);for(var de=0;ee-- >0;){var re=_e[X];de=(de<<5^re)&32767;var We=-1,ft=0;if((We=Ne[de])&&(We|=X&-32768,We>X&&(We-=32768),We<X))for(;_e[We+ft]==_e[X+ft]&&ft<250;)++ft;if(ft>2){re=Y[ft],re<=22?ke=ve(Ie,ke,je[re+1]>>1)-1:(ve(Ie,ke,3),ke+=5,ve(Ie,ke,je[re-23]>>5),ke+=3);var $t=re<8?0:re-4>>2;$t>0&&(Me(Ie,ke,ft-O[re]),ke+=$t),re=ue[X-We],ke=ve(Ie,ke,je[re]>>3),ke-=3;var z=re<4?0:re-2>>1;z>0&&(Me(Ie,ke,X-We-he[re]),ke+=z);for(var Pe=0;Pe<ft;++Pe)Ne[de]=X&32767,de=(de<<5^_e[X])&32767,++X;ee-=ft-1}else re<=143?re=re+48:ke=qe(Ie,ke,1),ke=ve(Ie,ke,je[re]),Ne[de]=X&32767,++X}ke=ve(Ie,ke,0)-1}return Ie.l=(ke+7)/8|0,Ie.l}return function(Ie,ke){return Ie.length<8?_(Ie,ke):ie(Ie,ke)}})();function mt(se){var ue=Wt(50+Math.floor(se.length*1.1)),Z=yt(se,ue);return ue.slice(0,Z)}var jt=be?new Uint16Array(32768):Le(32768),we=be?new Uint16Array(32768):Le(32768),Re=be?new Uint16Array(128):Le(128),me=1,Ye=1;function pt(se,ue){var Z=Ae(se,ue)+257;ue+=5;var G=Ae(se,ue)+1;ue+=5;var Y=Fe(se,ue)+4;ue+=4;for(var _=0,ie=be?new Uint8Array(19):Le(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ie=1,ke=be?new Uint8Array(8):Le(8),X=be?new Uint8Array(8):Le(8),Ne=ie.length,ee=0;ee<Y;++ee)ie[k[ee]]=_=De(se,ue),Ie<_&&(Ie=_),ke[_]++,ue+=3;var de=0;for(ke[0]=0,ee=1;ee<=Ie;++ee)X[ee]=de=de+ke[ee-1]<<1;for(ee=0;ee<Ne;++ee)(de=ie[ee])!=0&&(_e[ee]=X[de]++);var re=0;for(ee=0;ee<Ne;++ee)if(re=ie[ee],re!=0){de=je[_e[ee]]>>8-re;for(var We=(1<<7-re)-1;We>=0;--We)Re[de|We<<re]=re&7|ee<<3}var ft=[];for(Ie=1;ft.length<Z+G;)switch(de=Re[ze(se,ue)],ue+=de&7,de>>>=3){case 16:for(_=3+Se(se,ue),ue+=2,de=ft[ft.length-1];_-- >0;)ft.push(de);break;case 17:for(_=3+De(se,ue),ue+=3;_-- >0;)ft.push(0);break;case 18:for(_=11+ze(se,ue),ue+=7;_-- >0;)ft.push(0);break;default:ft.push(de),Ie<de&&(Ie=de);break}var $t=ft.slice(0,Z),z=ft.slice(Z);for(ee=Z;ee<286;++ee)$t[ee]=0;for(ee=G;ee<30;++ee)z[ee]=0;return me=ot($t,jt,286),Ye=ot(z,we,30),ue}function Ft(se,ue){if(se[0]==3&&!(se[1]&3))return[xc(ue),2];for(var Z=0,G=0,Y=i1(ue||1<<18),_=0,ie=Y.length>>>0,_e=0,Ie=0;(G&1)==0;){if(G=De(se,Z),Z+=3,G>>>1)G>>1==1?(_e=9,Ie=5):(Z=pt(se,Z),_e=me,Ie=Ye);else{Z&7&&(Z+=8-(Z&7));var ke=se[Z>>>3]|se[(Z>>>3)+1]<<8;if(Z+=32,ke>0)for(!ue&&ie<_+ke&&(Y=Te(Y,_+ke),ie=Y.length);ke-- >0;)Y[_++]=se[Z>>>3],Z+=8;continue}for(;;){!ue&&ie<_+32767&&(Y=Te(Y,_+32767),ie=Y.length);var X=He(se,Z,_e),Ne=G>>>1==1?Je[X]:jt[X];if(Z+=Ne&15,Ne>>>=4,(Ne>>>8&255)===0)Y[_++]=Ne;else{if(Ne==256)break;Ne-=257;var ee=Ne<8?0:Ne-4>>2;ee>5&&(ee=0);var de=_+O[Ne];ee>0&&(de+=He(se,Z,ee),Z+=ee),X=He(se,Z,Ie),Ne=G>>>1==1?Ge[X]:we[X],Z+=Ne&15,Ne>>>=4;var re=Ne<4?0:Ne-2>>1,We=he[Ne];for(re>0&&(We+=He(se,Z,re),Z+=re),!ue&&ie<de&&(Y=Te(Y,de+100),ie=Y.length);_<de;)Y[_]=Y[_-We],++_}}}return ue?[Y,Z+7>>>3]:[Y.slice(0,_),Z+7>>>3]}function Bt(se,ue){var Z=se.slice(se.l||0),G=Ft(Z,ue);return se.l+=G[1],G[0]}function Lt(se,ue){if(se)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function Qe(se,ue){var Z=se;nn(Z,0);var G=[],Y=[],_={FileIndex:G,FullPaths:Y};T(_,{root:ue.root});for(var ie=Z.length-4;(Z[ie]!=80||Z[ie+1]!=75||Z[ie+2]!=5||Z[ie+3]!=6)&&ie>=0;)--ie;Z.l=ie+4,Z.l+=4;var _e=Z.read_shift(2);Z.l+=6;var Ie=Z.read_shift(4);for(Z.l=Ie,ie=0;ie<_e;++ie){Z.l+=20;var ke=Z.read_shift(4),X=Z.read_shift(4),Ne=Z.read_shift(2),ee=Z.read_shift(2),de=Z.read_shift(2);Z.l+=8;var re=Z.read_shift(4),We=d(Z.slice(Z.l+Ne,Z.l+Ne+ee));Z.l+=Ne+ee+de;var ft=Z.l;Z.l=re+4,gt(Z,ke,X,_,We),Z.l=ft}return _}function gt(se,ue,Z,G,Y){se.l+=2;var _=se.read_shift(2),ie=se.read_shift(2),_e=i(se);if(_&8257)throw new Error("Unsupported ZIP encryption");for(var Ie=se.read_shift(4),ke=se.read_shift(4),X=se.read_shift(4),Ne=se.read_shift(2),ee=se.read_shift(2),de="",re=0;re<Ne;++re)de+=String.fromCharCode(se[se.l++]);if(ee){var We=d(se.slice(se.l,se.l+ee));(We[21589]||{}).mt&&(_e=We[21589].mt),((Y||{})[21589]||{}).mt&&(_e=Y[21589].mt)}se.l+=ee;var ft=se.slice(se.l,se.l+ke);switch(ie){case 8:ft=I(se,X);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ie)}var $t=!1;_&8&&(Ie=se.read_shift(4),Ie==134695760&&(Ie=se.read_shift(4),$t=!0),ke=se.read_shift(4),X=se.read_shift(4)),ke!=ue&&Lt($t,"Bad compressed size: "+ue+" != "+ke),X!=Z&&Lt($t,"Bad uncompressed size: "+Z+" != "+X),ut(G,de,ft,{unsafe:!0,mt:_e})}function vt(se,ue){var Z=ue||{},G=[],Y=[],_=Wt(1),ie=Z.compression?8:0,_e=0,Ie=0,ke=0,X=0,Ne=0,ee=se.FullPaths[0],de=ee,re=se.FileIndex[0],We=[],ft=0;for(Ie=1;Ie<se.FullPaths.length;++Ie)if(de=se.FullPaths[Ie].slice(ee.length),re=se.FileIndex[Ie],!(!re.size||!re.content||de=="Sh33tJ5")){var $t=X,z=Wt(de.length);for(ke=0;ke<de.length;++ke)z.write_shift(1,de.charCodeAt(ke)&127);z=z.slice(0,z.l),We[Ne]=y8.buf(re.content,0);var Pe=re.content;ie==8&&(Pe=U(Pe)),_=Wt(30),_.write_shift(4,67324752),_.write_shift(2,20),_.write_shift(2,_e),_.write_shift(2,ie),re.mt?l(_,re.mt):_.write_shift(4,0),_.write_shift(-4,We[Ne]),_.write_shift(4,Pe.length),_.write_shift(4,re.content.length),_.write_shift(2,z.length),_.write_shift(2,0),X+=_.length,G.push(_),X+=z.length,G.push(z),X+=Pe.length,G.push(Pe),_=Wt(46),_.write_shift(4,33639248),_.write_shift(2,0),_.write_shift(2,20),_.write_shift(2,_e),_.write_shift(2,ie),_.write_shift(4,0),_.write_shift(-4,We[Ne]),_.write_shift(4,Pe.length),_.write_shift(4,re.content.length),_.write_shift(2,z.length),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(4,0),_.write_shift(4,$t),ft+=_.l,Y.push(_),ft+=z.length,Y.push(z),++Ne}return _=Wt(22),_.write_shift(4,101010256),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,Ne),_.write_shift(2,Ne),_.write_shift(4,ft),_.write_shift(4,X),_.write_shift(2,0),Va([Va(G),Va(Y),_])}var xt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ct(se,ue){if(se.ctype)return se.ctype;var Z=se.name||"",G=Z.match(/\.([^\.]+)$/);return G&&xt[G[1]]||ue&&(G=(Z=ue).match(/[\.\\]([^\.\\])+$/),G&&xt[G[1]])?xt[G[1]]:"application/octet-stream"}function Nt(se){for(var ue=Xu(se),Z=[],G=0;G<ue.length;G+=76)Z.push(ue.slice(G,G+76));return Z.join(`\r
`)+`\r
`}function $e(se){var ue=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ke){var X=ke.charCodeAt(0).toString(16).toUpperCase();return"="+(X.length==1?"0"+X:X)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],G=ue.split(`\r
`),Y=0;Y<G.length;++Y){var _=G[Y];if(_.length==0){Z.push("");continue}for(var ie=0;ie<_.length;){var _e=76,Ie=_.slice(ie,ie+_e);Ie.charAt(_e-1)=="="?_e--:Ie.charAt(_e-2)=="="?_e-=2:Ie.charAt(_e-3)=="="&&(_e-=3),Ie=_.slice(ie,ie+_e),ie+=_e,ie<_.length&&(Ie+="="),Z.push(Ie)}}return Z.join(`\r
`)}function Ke(se){for(var ue=[],Z=0;Z<se.length;++Z){for(var G=se[Z];Z<=se.length&&G.charAt(G.length-1)=="=";)G=G.slice(0,G.length-1)+se[++Z];ue.push(G)}for(var Y=0;Y<ue.length;++Y)ue[Y]=ue[Y].replace(/[=][0-9A-Fa-f]{2}/g,function(_){return String.fromCharCode(parseInt(_.slice(1),16))});return po(ue.join(`\r
`))}function ce(se,ue,Z){for(var G="",Y="",_="",ie,_e=0;_e<10;++_e){var Ie=ue[_e];if(!Ie||Ie.match(/^\s*$/))break;var ke=Ie.match(/^(.*?):\s*([^\s].*)$/);if(ke)switch(ke[1].toLowerCase()){case"content-location":G=ke[2].trim();break;case"content-type":_=ke[2].trim();break;case"content-transfer-encoding":Y=ke[2].trim();break}}switch(++_e,Y.toLowerCase()){case"base64":ie=po(bo(ue.slice(_e).join("")));break;case"quoted-printable":ie=Ke(ue.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Y)}var X=ut(se,G.slice(Z.length),ie,{unsafe:!0});_&&(X.ctype=_)}function Ee(se,ue){if(ne(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=ue&&ue.root||"",G=($s&&Buffer.isBuffer(se)?se.toString("binary"):ne(se)).split(`\r
`),Y=0,_="";for(Y=0;Y<G.length;++Y)if(_=G[Y],!!/^Content-Location:/i.test(_)&&(_=_.slice(_.indexOf("file")),Z||(Z=_.slice(0,_.lastIndexOf("/")+1)),_.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),_.slice(0,Z.length)!=Z););var ie=(G[1]||"").match(/boundary="(.*?)"/);if(!ie)throw new Error("MAD cannot find boundary");var _e="--"+(ie[1]||""),Ie=[],ke=[],X={FileIndex:Ie,FullPaths:ke};T(X);var Ne,ee=0;for(Y=0;Y<G.length;++Y){var de=G[Y];de!==_e&&de!==_e+"--"||(ee++&&ce(X,G.slice(Ne,Y),Z),Ne=Y)}return X}function pe(se,ue){var Z=ue||{},G=Z.boundary||"SheetJS";G="------="+G;for(var Y=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+G.slice(2)+'"',"","",""],_=se.FullPaths[0],ie=_,_e=se.FileIndex[0],Ie=1;Ie<se.FullPaths.length;++Ie)if(ie=se.FullPaths[Ie].slice(_.length),_e=se.FileIndex[Ie],!(!_e.size||!_e.content||ie=="Sh33tJ5")){ie=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ft){return"_x"+ft.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ft){return"_u"+ft.charCodeAt(0).toString(16)+"_"});for(var ke=_e.content,X=$s&&Buffer.isBuffer(ke)?ke.toString("binary"):ne(ke),Ne=0,ee=Math.min(1024,X.length),de=0,re=0;re<=ee;++re)(de=X.charCodeAt(re))>=32&&de<128&&++Ne;var We=Ne>=ee*4/5;Y.push(G),Y.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+ie),Y.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),Y.push("Content-Type: "+Ct(_e,ie)),Y.push(""),Y.push(We?$e(X):Nt(X))}return Y.push(G+`--\r
`),Y.join(`\r
`)}function at(se){var ue={};return T(ue,se),ue}function ut(se,ue,Z,G){var Y=G&&G.unsafe;Y||T(se);var _=!Y&&ks.find(se,ue);if(!_){var ie=se.FullPaths[0];ue.slice(0,ie.length)==ie?ie=ue:(ie.slice(-1)!="/"&&(ie+="/"),ie=(ie+ue).replace("//","/")),_={name:n(ue),type:2},se.FileIndex.push(_),se.FullPaths.push(ie),Y||ks.utils.cfb_gc(se)}return _.content=Z,_.size=Z?Z.length:0,G&&(G.CLSID&&(_.clsid=G.CLSID),G.mt&&(_.mt=G.mt),G.ct&&(_.ct=G.ct)),_}function _t(se,ue){T(se);var Z=ks.find(se,ue);if(Z){for(var G=0;G<se.FileIndex.length;++G)if(se.FileIndex[G]==Z)return se.FileIndex.splice(G,1),se.FullPaths.splice(G,1),!0}return!1}function it(se,ue,Z){T(se);var G=ks.find(se,ue);if(G){for(var Y=0;Y<se.FileIndex.length;++Y)if(se.FileIndex[Y]==G)return se.FileIndex[Y].name=n(Z),se.FullPaths[Y]=Z,!0}return!1}function bt(se){M(se,!0)}return s.find=q,s.read=D,s.parse=m,s.write=J,s.writeFile=W,s.utils={cfb_new:at,cfb_add:ut,cfb_del:_t,cfb_mov:it,cfb_gc:bt,ReadShift:Bu,CheckField:JS,prep_blob:nn,bconcat:Va,use_zlib:F,_deflateRaw:mt,_inflateRaw:Bt,consts:V},s})();function b8(t){return typeof t=="string"?nf(t):Array.isArray(t)?zL(t):t}function Ex(t,s,r){if(typeof Deno<"u"){if(r&&typeof s=="string")switch(r){case"utf8":s=new TextEncoder(r).encode(s);break;case"binary":s=nf(s);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,s)}var a=r=="utf8"?Rl(s):s;if(typeof IE_SaveFile<"u")return IE_SaveFile(a,t);if(typeof Blob<"u"){var n=new Blob([b8(a)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,t);if(typeof saveAs<"u")return saveAs(n,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:t,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=t,i.href=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(t);return d.open("w"),d.encoding="binary",Array.isArray(s)&&(s=bc(s)),d.write(s),d.close(),s}catch(x){if(!x.message||!x.message.match(/onstruct/))throw x}throw new Error("cannot save file "+t)}function v8(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var s=File(t);s.open("r"),s.encoding="binary";var r=s.read();return s.close(),r}catch(a){if(!a.message||!a.message.match(/onstruct/))throw a}throw new Error("Cannot access file "+t)}function xa(t){for(var s=Object.keys(t),r=[],a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t,s[a])&&r.push(s[a]);return r}function f1(t,s){for(var r=[],a=xa(t),n=0;n!==a.length;++n)r[t[a[n]][s]]==null&&(r[t[a[n]][s]]=a[n]);return r}function lf(t){for(var s=[],r=xa(t),a=0;a!==r.length;++a)s[t[r[a]]]=r[a];return s}function cf(t){for(var s=[],r=xa(t),a=0;a!==r.length;++a)s[t[r[a]]]=parseInt(r[a],10);return s}function w8(t){for(var s=[],r=xa(t),a=0;a!==r.length;++a)s[t[r[a]]]==null&&(s[t[r[a]]]=[]),s[t[r[a]]].push(r[a]);return s}var Ep=new Date(1899,11,30,0,0,0);function Ma(t,s){var r=t.getTime(),a=Ep.getTime()+(t.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4;return(r-a)/(1440*60*1e3)}var AS=new Date,N8=Ep.getTime()+(AS.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4,g1=AS.getTimezoneOffset();function df(t){var s=new Date;return s.setTime(t*24*60*60*1e3+N8),s.getTimezoneOffset()!==g1&&s.setTime(s.getTime()+(s.getTimezoneOffset()-g1)*6e4),s}function j8(t){var s=0,r=0,a=!1,n=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var l=1;l!=n.length;++l)if(n[l]){switch(r=1,l>3&&(a=!0),n[l].slice(n[l].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[l].slice(n[l].length-1));case"D":r*=24;case"H":r*=60;case"M":if(a)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}s+=r*parseInt(n[l],10)}return s}var y1=new Date("2017-02-19T19:06:09.000Z"),FS=isNaN(y1.getFullYear())?new Date("2/19/17"):y1,C8=FS.getFullYear()==2017;function Kr(t,s){var r=new Date(t);if(C8)return s>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):s<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(FS.getFullYear()==1917&&!isNaN(r.getFullYear())){var a=r.getFullYear();return t.indexOf(""+a)>-1||r.setFullYear(r.getFullYear()+100),r}var n=t.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return t.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function ud(t,s){if($s&&Buffer.isBuffer(t)){if(s){if(t[0]==255&&t[1]==254)return Rl(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Rl(yS(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(s){if(t[0]==255&&t[1]==254)return Rl(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Rl(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(l){return r[l]||l})}catch{}for(var a=[],n=0;n!=t.length;++n)a.push(String.fromCharCode(t[n]));return a.join("")}function qr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=qr(t[r]));return s}function ca(t,s){for(var r="";r.length<s;)r+=t;return r}function ul(t){var s=Number(t);if(!isNaN(s))return isFinite(s)?s:NaN;if(!/\d/.test(t))return s;var r=1,a=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(s=Number(a))||(a=a.replace(/[(](.*)[)]/,function(n,l){return r=-r,l}),!isNaN(s=Number(a)))?s/r:s}var S8=["january","february","march","april","may","june","july","august","september","october","november","december"];function F0(t){var s=new Date(t),r=new Date(NaN),a=s.getYear(),n=s.getMonth(),l=s.getDate();if(isNaN(l))return r;var i=t.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&S8.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return a<0||a>8099?r:(n>0||l>1)&&a!=101?s:t.match(/[^-0-9:,\/\\]/)?r:s}var k8=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,a,n){if(t||typeof a=="string")return r.split(a);for(var l=r.split(a),i=[l[0]],d=1;d<l.length;++d)i.push(n),i.push(l[d]);return i}})();function PS(t){return t?t.content&&t.type?ud(t.content,!0):t.data?Lu(t.data):t.asNodeBuffer&&$s?Lu(t.asNodeBuffer().toString("binary")):t.asBinary?Lu(t.asBinary()):t._data&&t._data.getContent?Lu(ud(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function MS(t){if(!t)return null;if(t.data)return o1(t.data);if(t.asNodeBuffer&&$s)return t.asNodeBuffer();if(t._data&&t._data.getContent){var s=t._data.getContent();return typeof s=="string"?o1(s):Array.prototype.slice.call(s)}return t.content&&t.type?t.content:null}function D8(t){return t&&t.name.slice(-4)===".bin"?MS(t):PS(t)}function Io(t,s){for(var r=t.FullPaths||xa(t.files),a=s.toLowerCase().replace(/[\/]/g,"\\"),n=a.replace(/\\/g,"/"),l=0;l<r.length;++l){var i=r[l].replace(/^Root Entry[\/]/,"").toLowerCase();if(a==i||n==i)return t.files?t.files[r[l]]:t.FileIndex[l]}return null}function Vb(t,s){var r=Io(t,s);if(r==null)throw new Error("Cannot find file "+s+" in zip");return r}function Da(t,s,r){if(!r)return D8(Vb(t,s));if(!s)return null;try{return Da(t,s)}catch{return null}}function fo(t,s,r){if(!r)return PS(Vb(t,s));if(!s)return null;try{return fo(t,s)}catch{return null}}function E8(t,s,r){return MS(Vb(t,s))}function b1(t){for(var s=t.FullPaths||xa(t.files),r=[],a=0;a<s.length;++a)s[a].slice(-1)!="/"&&r.push(s[a].replace(/^Root Entry[\/]/,""));return r.sort()}function Hs(t,s,r){if(t.FullPaths){if(typeof r=="string"){var a;return $s?a=Si(r):a=VL(r),ks.utils.cfb_add(t,s,a)}ks.utils.cfb_add(t,s,r)}else t.file(s,r)}function Yb(){return ks.utils.cfb_new()}function IS(t,s){switch(s.type){case"base64":return ks.read(t,{type:"base64"});case"binary":return ks.read(t,{type:"binary"});case"buffer":case"array":return ks.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+s.type)}function Ou(t,s){if(t.charAt(0)=="/")return t.slice(1);var r=s.split("/");s.slice(-1)!="/"&&r.pop();for(var a=t.split("/");a.length!==0;){var n=a.shift();n===".."?r.pop():n!=="."&&r.push(n)}return r.join("/")}var ja=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,T8=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,v1=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,A8=/<[^>]*>/g,Tn=ja.match(v1)?v1:A8,F8=/<\w*:/,P8=/<(\/?)\w+:/;function Is(t,s,r){for(var a={},n=0,l=0;n!==t.length&&!((l=t.charCodeAt(n))===32||l===10||l===13);++n);if(s||(a[0]=t.slice(0,n)),n===t.length)return a;var i=t.match(T8),d=0,x="",h=0,m="",b="",f=1;if(i)for(h=0;h!=i.length;++h){for(b=i[h],l=0;l!=b.length&&b.charCodeAt(l)!==61;++l);for(m=b.slice(0,l).trim();b.charCodeAt(l+1)==32;)++l;for(f=(n=b.charCodeAt(l+1))==34||n==39?1:0,x=b.slice(l+1+f,b.length-f),d=0;d!=m.length&&m.charCodeAt(d)!==58;++d);if(d===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),a[m]=x,a[m.toLowerCase()]=x;else{var N=(d===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(d+1);if(a[N]&&m.slice(d-3,d)=="ext")continue;a[N]=x,a[N.toLowerCase()]=x}}return a}function Kl(t){return t.replace(P8,"<$1")}var LS={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Kb=lf(LS),ar=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,s=/_x([\da-fA-F]{4})_/ig;return function r(a){var n=a+"",l=n.indexOf("<![CDATA[");if(l==-1)return n.replace(t,function(d,x){return LS[d]||String.fromCharCode(parseInt(x,d.indexOf("x")>-1?16:10))||d}).replace(s,function(d,x){return String.fromCharCode(parseInt(x,16))});var i=n.indexOf("]]>");return r(n.slice(0,l))+n.slice(l+9,i)+r(n.slice(i+3))}})(),qb=/[&<>'"]/g,M8=/[\u0000-\u0008\u000b-\u001f]/g;function Tr(t){var s=t+"";return s.replace(qb,function(r){return Kb[r]}).replace(M8,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function w1(t){return Tr(t).replace(/ /g,"_x0020_")}var _S=/[\u0000-\u001f]/g;function Xb(t){var s=t+"";return s.replace(qb,function(r){return Kb[r]}).replace(/\n/g,"<br/>").replace(_S,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function I8(t){var s=t+"";return s.replace(qb,function(r){return Kb[r]}).replace(_S,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var N1=(function(){var t=/&#(\d+);/g;function s(r,a){return String.fromCharCode(parseInt(a,10))}return function(a){return a.replace(t,s)}})();function L8(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Yr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Qg(t){for(var s="",r=0,a=0,n=0,l=0,i=0,d=0;r<t.length;){if(a=t.charCodeAt(r++),a<128){s+=String.fromCharCode(a);continue}if(n=t.charCodeAt(r++),a>191&&a<224){i=(a&31)<<6,i|=n&63,s+=String.fromCharCode(i);continue}if(l=t.charCodeAt(r++),a<240){s+=String.fromCharCode((a&15)<<12|(n&63)<<6|l&63);continue}i=t.charCodeAt(r++),d=((a&7)<<18|(n&63)<<12|(l&63)<<6|i&63)-65536,s+=String.fromCharCode(55296+(d>>>10&1023)),s+=String.fromCharCode(56320+(d&1023))}return s}function j1(t){var s=xc(2*t.length),r,a,n=1,l=0,i=0,d;for(a=0;a<t.length;a+=n)n=1,(d=t.charCodeAt(a))<128?r=d:d<224?(r=(d&31)*64+(t.charCodeAt(a+1)&63),n=2):d<240?(r=(d&15)*4096+(t.charCodeAt(a+1)&63)*64+(t.charCodeAt(a+2)&63),n=3):(n=4,r=(d&7)*262144+(t.charCodeAt(a+1)&63)*4096+(t.charCodeAt(a+2)&63)*64+(t.charCodeAt(a+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(s[l++]=i&255,s[l++]=i>>>8,i=0),s[l++]=r%256,s[l++]=r>>>8;return s.slice(0,l).toString("ucs2")}function C1(t){return Si(t,"binary").toString("utf8")}var Yh="foo bar baz",Pr=$s&&(C1(Yh)==Qg(Yh)&&C1||j1(Yh)==Qg(Yh)&&j1)||Qg,Rl=$s?function(t){return Si(t,"utf8").toString("binary")}:function(t){for(var s=[],r=0,a=0,n=0;r<t.length;)switch(a=t.charCodeAt(r++),!0){case a<128:s.push(String.fromCharCode(a));break;case a<2048:s.push(String.fromCharCode(192+(a>>6))),s.push(String.fromCharCode(128+(a&63)));break;case(a>=55296&&a<57344):a-=55296,n=t.charCodeAt(r++)-56320+(a<<10),s.push(String.fromCharCode(240+(n>>18&7))),s.push(String.fromCharCode(144+(n>>12&63))),s.push(String.fromCharCode(128+(n>>6&63))),s.push(String.fromCharCode(128+(n&63)));break;default:s.push(String.fromCharCode(224+(a>>12))),s.push(String.fromCharCode(128+(a>>6&63))),s.push(String.fromCharCode(128+(a&63)))}return s.join("")},Qu=(function(){var t={};return function(r,a){var n=r+"|"+(a||"");return t[n]?t[n]:t[n]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",a||"")}})(),OS=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(s){return[new RegExp("&"+s[0]+";","ig"),s[1]]});return function(r){for(var a=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<t.length;++n)a=a.replace(t[n][0],t[n][1]);return a}})(),_8=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),O8=/<\/?(?:vt:)?variant>/g,B8=/<(?:vt:)([^>]*)>([\s\S]*)</;function S1(t,s){var r=Is(t),a=t.match(_8(r.baseType))||[],n=[];if(a.length!=r.size){if(s.WTF)throw new Error("unexpected vector length "+a.length+" != "+r.size);return n}return a.forEach(function(l){var i=l.replace(O8,"").match(B8);i&&n.push({v:Pr(i[2]),t:i[1]})}),n}var BS=/(^\s|\s$|\n)/;function on(t,s){return"<"+t+(s.match(BS)?' xml:space="preserve"':"")+">"+s+"</"+t+">"}function Zu(t){return xa(t).map(function(s){return" "+s+'="'+t[s]+'"'}).join("")}function ts(t,s,r){return"<"+t+(r!=null?Zu(r):"")+(s!=null?(s.match(BS)?' xml:space="preserve"':"")+">"+s+"</"+t:"/")+">"}function Oy(t,s){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(s)throw r}return""}function R8(t,s){switch(typeof t){case"string":var r=ts("vt:lpwstr",Tr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ts((t|0)==t?"vt:i4":"vt:r8",Tr(String(t)));case"boolean":return ts("vt:bool",t?"true":"false")}if(t instanceof Date)return ts("vt:filetime",Oy(t));throw new Error("Unable to serialize "+t)}function Jb(t){if($s&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Pr(bc(Gb(t)));throw new Error("Bad input format: expected Buffer or string")}var ex=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Pa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},wd=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ho={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function H8(t,s){for(var r=1-2*(t[s+7]>>>7),a=((t[s+7]&127)<<4)+(t[s+6]>>>4&15),n=t[s+6]&15,l=5;l>=0;--l)n=n*256+t[s+l];return a==2047?n==0?r*(1/0):NaN:(a==0?a=-1022:(a-=1023,n+=Math.pow(2,52)),r*Math.pow(2,a-52)*n)}function U8(t,s,r){var a=(s<0||1/s==-1/0?1:0)<<7,n=0,l=0,i=a?-s:s;isFinite(i)?i==0?n=l=0:(n=Math.floor(Math.log(i)/Math.LN2),l=i*Math.pow(2,52-n),n<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?n=-1022:(l-=Math.pow(2,52),n+=1023)):(n=2047,l=isNaN(s)?26985:0);for(var d=0;d<=5;++d,l/=256)t[r+d]=l&255;t[r+6]=(n&15)<<4|l&15,t[r+7]=n>>4|a}var k1=function(t){for(var s=[],r=10240,a=0;a<t[0].length;++a)if(t[0][a])for(var n=0,l=t[0][a].length;n<l;n+=r)s.push.apply(s,t[0][a].slice(n,n+r));return s},D1=$s?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(s){return Buffer.isBuffer(s)?s:Si(s)})):k1(t)}:k1,E1=function(t,s,r){for(var a=[],n=s;n<r;n+=2)a.push(String.fromCharCode(mi(t,n)));return a.join("").replace(Bn,"")},Qb=$s?function(t,s,r){return Buffer.isBuffer(t)?t.toString("utf16le",s,r).replace(Bn,""):E1(t,s,r)}:E1,T1=function(t,s,r){for(var a=[],n=s;n<s+r;++n)a.push(("0"+t[n].toString(16)).slice(-2));return a.join("")},RS=$s?function(t,s,r){return Buffer.isBuffer(t)?t.toString("hex",s,s+r):T1(t,s,r)}:T1,A1=function(t,s,r){for(var a=[],n=s;n<r;n++)a.push(String.fromCharCode(p0(t,n)));return a.join("")},Tx=$s?function(s,r,a){return Buffer.isBuffer(s)?s.toString("utf8",r,a):A1(s,r,a)}:A1,HS=function(t,s){var r=mo(t,s);return r>0?Tx(t,s+4,s+4+r-1):""},US=HS,WS=function(t,s){var r=mo(t,s);return r>0?Tx(t,s+4,s+4+r-1):""},GS=WS,$S=function(t,s){var r=2*mo(t,s);return r>0?Tx(t,s+4,s+4+r-1):""},zS=$S,VS=function(s,r){var a=mo(s,r);return a>0?Qb(s,r+4,r+4+a):""},YS=VS,KS=function(t,s){var r=mo(t,s);return r>0?Tx(t,s+4,s+4+r):""},qS=KS,XS=function(t,s){return H8(t,s)},Tp=XS,Zb=function(s){return Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array};$s&&(US=function(s,r){if(!Buffer.isBuffer(s))return HS(s,r);var a=s.readUInt32LE(r);return a>0?s.toString("utf8",r+4,r+4+a-1):""},GS=function(s,r){if(!Buffer.isBuffer(s))return WS(s,r);var a=s.readUInt32LE(r);return a>0?s.toString("utf8",r+4,r+4+a-1):""},zS=function(s,r){if(!Buffer.isBuffer(s))return $S(s,r);var a=2*s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+a-1)},YS=function(s,r){if(!Buffer.isBuffer(s))return VS(s,r);var a=s.readUInt32LE(r);return s.toString("utf16le",r+4,r+4+a)},qS=function(s,r){if(!Buffer.isBuffer(s))return KS(s,r);var a=s.readUInt32LE(r);return s.toString("utf8",r+4,r+4+a)},Tp=function(s,r){return Buffer.isBuffer(s)?s.readDoubleLE(r):XS(s,r)},Zb=function(s){return Buffer.isBuffer(s)||Array.isArray(s)||typeof Uint8Array<"u"&&s instanceof Uint8Array});var p0=function(t,s){return t[s]},mi=function(t,s){return t[s+1]*256+t[s]},W8=function(t,s){var r=t[s+1]*256+t[s];return r<32768?r:(65535-r+1)*-1},mo=function(t,s){return t[s+3]*(1<<24)+(t[s+2]<<16)+(t[s+1]<<8)+t[s]},Qc=function(t,s){return t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]},G8=function(t,s){return t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]};function Bu(t,s){var r="",a,n,l=[],i,d,x,h;switch(s){case"dbcs":if(h=this.l,$s&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(x=0;x<t;++x)r+=String.fromCharCode(mi(this,h)),h+=2;t*=2;break;case"utf8":r=Tx(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Qb(this,this.l,this.l+t);break;case"wstr":return Bu.call(this,t,"dbcs");case"lpstr-ansi":r=US(this,this.l),t=4+mo(this,this.l);break;case"lpstr-cp":r=GS(this,this.l),t=4+mo(this,this.l);break;case"lpwstr":r=zS(this,this.l),t=4+2*mo(this,this.l);break;case"lpp4":t=4+mo(this,this.l),r=YS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+mo(this,this.l),r=qS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(i=p0(this,this.l+t++))!==0;)l.push(Vh(i));r=l.join("");break;case"_wstr":for(t=0,r="";(i=mi(this,this.l+t))!==0;)l.push(Vh(i)),t+=2;t+=2,r=l.join("");break;case"dbcs-cont":for(r="",h=this.l,x=0;x<t;++x){if(this.lens&&this.lens.indexOf(h)!==-1)return i=p0(this,h),this.l=h+1,d=Bu.call(this,t-x,i?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(Vh(mi(this,h))),h+=2}r=l.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,x=0;x!=t;++x){if(this.lens&&this.lens.indexOf(h)!==-1)return i=p0(this,h),this.l=h+1,d=Bu.call(this,t-x,i?"dbcs-cont":"sbcs-cont"),l.join("")+d;l.push(Vh(p0(this,h))),h+=1}r=l.join("");break;default:switch(t){case 1:return a=p0(this,this.l),this.l++,a;case 2:return a=(s==="i"?W8:mi)(this,this.l),this.l+=2,a;case 4:case-4:return s==="i"||(this[this.l+3]&128)===0?(a=(t>0?Qc:G8)(this,this.l),this.l+=4,a):(n=mo(this,this.l),this.l+=4,n);case 8:case-8:if(s==="f")return t==8?n=Tp(this,this.l):n=Tp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;t=8;case 16:r=RS(this,this.l,t);break}}return this.l+=t,r}var $8=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255,t[r+2]=s>>>16&255,t[r+3]=s>>>24&255},z8=function(t,s,r){t[r]=s&255,t[r+1]=s>>8&255,t[r+2]=s>>16&255,t[r+3]=s>>24&255},V8=function(t,s,r){t[r]=s&255,t[r+1]=s>>>8&255};function Y8(t,s,r){var a=0,n=0;if(r==="dbcs"){for(n=0;n!=s.length;++n)V8(this,s.charCodeAt(n),this.l+2*n);a=2*s.length}else if(r==="sbcs"){for(s=s.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=s.length;++n)this[this.l+n]=s.charCodeAt(n)&255;a=s.length}else if(r==="hex"){for(;n<t;++n)this[this.l++]=parseInt(s.slice(2*n,2*n+2),16)||0;return this}else if(r==="utf16le"){var l=Math.min(this.l+t,this.length);for(n=0;n<Math.min(s.length,t);++n){var i=s.charCodeAt(n);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(t){case 1:a=1,this[this.l]=s&255;break;case 2:a=2,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255;break;case 3:a=3,this[this.l]=s&255,s>>>=8,this[this.l+1]=s&255,s>>>=8,this[this.l+2]=s&255;break;case 4:a=4,$8(this,s,this.l);break;case 8:if(a=8,r==="f"){U8(this,s,this.l);break}case 16:break;case-4:a=4,z8(this,s,this.l);break}return this.l+=a,this}function JS(t,s){var r=RS(this,this.l,t.length>>1);if(r!==t)throw new Error(s+"Expected "+t+" saw "+r);this.l+=t.length>>1}function nn(t,s){t.l=s,t.read_shift=Bu,t.chk=JS,t.write_shift=Y8}function En(t,s){t.l+=s}function Wt(t){var s=xc(t);return nn(s,0),s}function ki(t,s,r){if(t){var a,n,l;nn(t,t.l||0);for(var i=t.length,d=0,x=0;t.l<i;){d=t.read_shift(1),d&128&&(d=(d&127)+((t.read_shift(1)&127)<<7));var h=ox[d]||ox[65535];for(a=t.read_shift(1),l=a&127,n=1;n<4&&a&128;++n)l+=((a=t.read_shift(1))&127)<<7*n;x=t.l+l;var m=h.f&&h.f(t,l,r);if(t.l=x,s(m,h,d))return}}}function to(){var t=[],s=$s?256:2048,r=function(h){var m=Wt(h);return nn(m,0),m},a=r(s),n=function(){a&&(a.length>a.l&&(a=a.slice(0,a.l),a.l=a.length),a.length>0&&t.push(a),a=null)},l=function(h){return a&&h<a.length-a.l?a:(n(),a=r(Math.max(h+1,s)))},i=function(){return n(),Va(t)},d=function(h){n(),a=h,a.l==null&&(a.l=a.length),l(s)};return{next:l,push:d,end:i,_bufs:t}}function Yt(t,s,r,a){var n=+s,l;if(!isNaN(n)){a||(a=ox[n].p||(r||[]).length||0),l=1+(n>=128?1:0)+1,a>=128&&++l,a>=16384&&++l,a>=2097152&&++l;var i=t.next(l);n<=127?i.write_shift(1,n):(i.write_shift(1,(n&127)+128),i.write_shift(1,n>>7));for(var d=0;d!=4;++d)if(a>=128)i.write_shift(1,(a&127)+128),a>>=7;else{i.write_shift(1,a);break}a>0&&Zb(r)&&t.push(r)}}function Ru(t,s,r){var a=qr(t);if(s.s?(a.cRel&&(a.c+=s.s.c),a.rRel&&(a.r+=s.s.r)):(a.cRel&&(a.c+=s.c),a.rRel&&(a.r+=s.r)),!r||r.biff<12){for(;a.c>=256;)a.c-=256;for(;a.r>=65536;)a.r-=65536}return a}function F1(t,s,r){var a=qr(t);return a.s=Ru(a.s,s.s,r),a.e=Ru(a.e,s.s,r),a}function Hu(t,s){if(t.cRel&&t.c<0)for(t=qr(t);t.c<0;)t.c+=s>8?16384:256;if(t.rRel&&t.r<0)for(t=qr(t);t.r<0;)t.r+=s>8?1048576:s>5?65536:16384;var r=Ps(t);return!t.cRel&&t.cRel!=null&&(r=X8(r)),!t.rRel&&t.rRel!=null&&(r=K8(r)),r}function Zg(t,s){return t.s.r==0&&!t.s.rRel&&t.e.r==(s.biff>=12?1048575:s.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ra(t.s.c)+":"+(t.e.cRel?"":"$")+ra(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(s.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ba(t.s.r)+":"+(t.e.rRel?"":"$")+ba(t.e.r):Hu(t.s,s.biff)+":"+Hu(t.e,s.biff)}function ev(t){return parseInt(q8(t),10)-1}function ba(t){return""+(t+1)}function K8(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function q8(t){return t.replace(/\$(\d+)$/,"$1")}function tv(t){for(var s=J8(t),r=0,a=0;a!==s.length;++a)r=26*r+s.charCodeAt(a)-64;return r-1}function ra(t){if(t<0)throw new Error("invalid column "+t);var s="";for(++t;t;t=Math.floor((t-1)/26))s=String.fromCharCode((t-1)%26+65)+s;return s}function X8(t){return t.replace(/^([A-Z])/,"$$$1")}function J8(t){return t.replace(/^\$([A-Z])/,"$1")}function Q8(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function aa(t){for(var s=0,r=0,a=0;a<t.length;++a){var n=t.charCodeAt(a);n>=48&&n<=57?s=10*s+(n-48):n>=65&&n<=90&&(r=26*r+(n-64))}return{c:r-1,r:s-1}}function Ps(t){for(var s=t.c+1,r="";s;s=(s-1)/26|0)r=String.fromCharCode((s-1)%26+65)+r;return r+(t.r+1)}function ro(t){var s=t.indexOf(":");return s==-1?{s:aa(t),e:aa(t)}:{s:aa(t.slice(0,s)),e:aa(t.slice(s+1))}}function Rs(t,s){return typeof s>"u"||typeof s=="number"?Rs(t.s,t.e):(typeof t!="string"&&(t=Ps(t)),typeof s!="string"&&(s=Ps(s)),t==s?t:t+":"+s)}function nr(t){var s={s:{c:0,r:0},e:{c:0,r:0}},r=0,a=0,n=0,l=t.length;for(r=0;a<l&&!((n=t.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(s.s.c=--r,r=0;a<l&&!((n=t.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;if(s.s.r=--r,a===l||n!=10)return s.e.c=s.s.c,s.e.r=s.s.r,s;for(++a,r=0;a!=l&&!((n=t.charCodeAt(a)-64)<1||n>26);++a)r=26*r+n;for(s.e.c=--r,r=0;a!=l&&!((n=t.charCodeAt(a)-48)<0||n>9);++a)r=10*r+n;return s.e.r=--r,s}function P1(t,s){var r=t.t=="d"&&s instanceof Date;if(t.z!=null)try{return t.w=Bo(t.z,r?Ma(s):s)}catch{}try{return t.w=Bo((t.XF||{}).numFmtId||(r?14:0),r?Ma(s):s)}catch{return""+s}}function ji(t,s,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Di[t.v]||t.v:s==null?P1(t,t.v):P1(t,s))}function vc(t,s){var r=s&&s.sheet?s.sheet:"Sheet1",a={};return a[r]=t,{SheetNames:[r],Sheets:a}}function QS(t,s,r){var a=r||{},n=t?Array.isArray(t):a.dense,l=t||(n?[]:{}),i=0,d=0;if(l&&a.origin!=null){if(typeof a.origin=="number")i=a.origin;else{var x=typeof a.origin=="string"?aa(a.origin):a.origin;i=x.r,d=x.c}l["!ref"]||(l["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var m=nr(l["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),i==-1&&(h.e.r=i=m.e.r+1)}for(var b=0;b!=s.length;++b)if(s[b]){if(!Array.isArray(s[b]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=s[b].length;++f)if(!(typeof s[b][f]>"u")){var N={v:s[b][f]},p=i+b,v=d+f;if(h.s.r>p&&(h.s.r=p),h.s.c>v&&(h.s.c=v),h.e.r<p&&(h.e.r=p),h.e.c<v&&(h.e.c=v),s[b][f]&&typeof s[b][f]=="object"&&!Array.isArray(s[b][f])&&!(s[b][f]instanceof Date))N=s[b][f];else if(Array.isArray(N.v)&&(N.f=s[b][f][1],N.v=N.v[0]),N.v===null)if(N.f)N.t="n";else if(a.nullError)N.t="e",N.v=0;else if(a.sheetStubs)N.t="z";else continue;else typeof N.v=="number"?N.t="n":typeof N.v=="boolean"?N.t="b":N.v instanceof Date?(N.z=a.dateNF||As[14],a.cellDates?(N.t="d",N.w=Bo(N.z,Ma(N.v))):(N.t="n",N.v=Ma(N.v),N.w=Bo(N.z,N.v))):N.t="s";if(n)l[p]||(l[p]=[]),l[p][v]&&l[p][v].z&&(N.z=l[p][v].z),l[p][v]=N;else{var g=Ps({c:v,r:p});l[g]&&l[g].z&&(N.z=l[g].z),l[g]=N}}}return h.s.c<1e7&&(l["!ref"]=Rs(h)),l}function Y0(t,s){return QS(null,t,s)}function Z8(t){return t.read_shift(4,"i")}function xl(t,s){return s||(s=Wt(4)),s.write_shift(4,t),s}function Sn(t){var s=t.read_shift(4);return s===0?"":t.read_shift(s,"dbcs")}function Ya(t,s){var r=!1;return s==null&&(r=!0,s=Wt(4+2*t.length)),s.write_shift(4,t.length),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}function e_(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function t_(t,s){return s||(s=Wt(4)),s.write_shift(2,0),s.write_shift(2,0),s}function sv(t,s){var r=t.l,a=t.read_shift(1),n=Sn(t),l=[],i={t:n,h:n};if((a&1)!==0){for(var d=t.read_shift(4),x=0;x!=d;++x)l.push(e_(t));i.r=l}else i.r=[{ich:0,ifnt:0}];return t.l=r+s,i}function s_(t,s){var r=!1;return s==null&&(r=!0,s=Wt(15+4*t.t.length)),s.write_shift(1,0),Ya(t.t,s),r?s.slice(0,s.l):s}var r_=sv;function a_(t,s){var r=!1;return s==null&&(r=!0,s=Wt(23+4*t.t.length)),s.write_shift(1,1),Ya(t.t,s),s.write_shift(4,1),t_({},s),r?s.slice(0,s.l):s}function Ro(t){var s=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:s,iStyleRef:r}}function Nd(t,s){return s==null&&(s=Wt(8)),s.write_shift(-4,t.c),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}function jd(t){var s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:s}}function Cd(t,s){return s==null&&(s=Wt(4)),s.write_shift(3,t.iStyleRef||t.s),s.write_shift(1,0),s}var n_=Sn,ZS=Ya;function rv(t){var s=t.read_shift(4);return s===0||s===4294967295?"":t.read_shift(s,"dbcs")}function Ap(t,s){var r=!1;return s==null&&(r=!0,s=Wt(127)),s.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&s.write_shift(0,t,"dbcs"),r?s.slice(0,s.l):s}var o_=Sn,By=rv,av=Ap;function nv(t){var s=t.slice(t.l,t.l+4),r=s[0]&1,a=s[0]&2;t.l+=4;var n=a===0?Tp([0,0,0,0,s[0]&252,s[1],s[2],s[3]],0):Qc(s,0)>>2;return r?n/100:n}function ek(t,s){s==null&&(s=Wt(4));var r=0,a=0,n=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?a=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(a=1,r=1),a)s.write_shift(-4,((r?n:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function tk(t){var s={s:{},e:{}};return s.s.r=t.read_shift(4),s.e.r=t.read_shift(4),s.s.c=t.read_shift(4),s.e.c=t.read_shift(4),s}function l_(t,s){return s||(s=Wt(16)),s.write_shift(4,t.s.r),s.write_shift(4,t.e.r),s.write_shift(4,t.s.c),s.write_shift(4,t.e.c),s}var Sd=tk,K0=l_;function Cn(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function xd(t,s){return(s||Wt(8)).write_shift(8,t,"f")}function i_(t){var s={},r=t.read_shift(1),a=r>>>1,n=t.read_shift(1),l=t.read_shift(2,"i"),i=t.read_shift(1),d=t.read_shift(1),x=t.read_shift(1);switch(t.l++,a){case 0:s.auto=1;break;case 1:s.index=n;var h=rd[n];h&&(s.rgb=sx(h));break;case 2:s.rgb=sx([i,d,x]);break;case 3:s.theme=n;break}return l!=0&&(s.tint=l>0?l/32767:l/32768),s}function Fp(t,s){if(s||(s=Wt(8)),!t||t.auto)return s.write_shift(4,0),s.write_shift(4,0),s;t.index!=null?(s.write_shift(1,2),s.write_shift(1,t.index)):t.theme!=null?(s.write_shift(1,6),s.write_shift(1,t.theme)):(s.write_shift(1,5),s.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),s.write_shift(2,r),!t.rgb||t.theme!=null)s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);else{var a=t.rgb||"FFFFFF";typeof a=="number"&&(a=("000000"+a.toString(16)).slice(-6)),s.write_shift(1,parseInt(a.slice(0,2),16)),s.write_shift(1,parseInt(a.slice(2,4),16)),s.write_shift(1,parseInt(a.slice(4,6),16)),s.write_shift(1,255)}return s}function c_(t){var s=t.read_shift(1);t.l++;var r={fBold:s&1,fItalic:s&2,fUnderline:s&4,fStrikeout:s&8,fOutline:s&16,fShadow:s&32,fCondense:s&64,fExtend:s&128};return r}function d_(t,s){s||(s=Wt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return s.write_shift(1,r),s.write_shift(1,0),s}function sk(t,s){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},a=t.read_shift(4);switch(a){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(a>400)throw new Error("Unsupported Clipboard: "+a.toString(16));return t.l-=4,t.read_shift(0,s==1?"lpstr":"lpwstr")}function u_(t){return sk(t,1)}function x_(t){return sk(t,2)}var ov=2,Xn=3,Kh=11,M1=12,Pp=19,qh=64,h_=65,m_=71,p_=4108,f_=4126,$a=80,rk=81,g_=[$a,rk],Ry={1:{n:"CodePage",t:ov},2:{n:"Category",t:$a},3:{n:"PresentationFormat",t:$a},4:{n:"ByteCount",t:Xn},5:{n:"LineCount",t:Xn},6:{n:"ParagraphCount",t:Xn},7:{n:"SlideCount",t:Xn},8:{n:"NoteCount",t:Xn},9:{n:"HiddenCount",t:Xn},10:{n:"MultimediaClipCount",t:Xn},11:{n:"ScaleCrop",t:Kh},12:{n:"HeadingPairs",t:p_},13:{n:"TitlesOfParts",t:f_},14:{n:"Manager",t:$a},15:{n:"Company",t:$a},16:{n:"LinksUpToDate",t:Kh},17:{n:"CharacterCount",t:Xn},19:{n:"SharedDoc",t:Kh},22:{n:"HyperlinksChanged",t:Kh},23:{n:"AppVersion",t:Xn,p:"version"},24:{n:"DigSig",t:h_},26:{n:"ContentType",t:$a},27:{n:"ContentStatus",t:$a},28:{n:"Language",t:$a},29:{n:"Version",t:$a},255:{},2147483648:{n:"Locale",t:Pp},2147483651:{n:"Behavior",t:Pp},1919054434:{}},Hy={1:{n:"CodePage",t:ov},2:{n:"Title",t:$a},3:{n:"Subject",t:$a},4:{n:"Author",t:$a},5:{n:"Keywords",t:$a},6:{n:"Comments",t:$a},7:{n:"Template",t:$a},8:{n:"LastAuthor",t:$a},9:{n:"RevNumber",t:$a},10:{n:"EditTime",t:qh},11:{n:"LastPrinted",t:qh},12:{n:"CreatedDate",t:qh},13:{n:"ModifiedDate",t:qh},14:{n:"PageCount",t:Xn},15:{n:"WordCount",t:Xn},16:{n:"CharCount",t:Xn},17:{n:"Thumbnail",t:m_},18:{n:"Application",t:$a},19:{n:"DocSecurity",t:Xn},255:{},2147483648:{n:"Locale",t:Pp},2147483651:{n:"Behavior",t:Pp},1919054434:{}},I1={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},y_=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function b_(t){return t.map(function(s){return[s>>16&255,s>>8&255,s&255]})}var v_=b_([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),rd=qr(v_),Di={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ak={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Uy={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Xh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function lv(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function w_(t){var s=lv();if(!t||!t.match)return s;var r={};if((t.match(Tn)||[]).forEach(function(a){var n=Is(a);switch(n[0].replace(F8,"<")){case"<?xml":break;case"<Types":s.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":s[Uy[n.ContentType]]!==void 0&&s[Uy[n.ContentType]].push(n.PartName);break}}),s.xmlns!==Pa.CT)throw new Error("Unknown Namespace: "+s.xmlns);return s.calcchain=s.calcchains.length>0?s.calcchains[0]:"",s.sst=s.strs.length>0?s.strs[0]:"",s.style=s.styles.length>0?s.styles[0]:"",s.defaults=r,delete s.calcchains,s}function nk(t,s){var r=w8(Uy),a=[],n;a[a.length]=ja,a[a.length]=ts("Types",null,{xmlns:Pa.CT,"xmlns:xsd":Pa.xsd,"xmlns:xsi":Pa.xsi}),a=a.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(x){return ts("Default",null,{Extension:x[0],ContentType:x[1]})}));var l=function(x){t[x]&&t[x].length>0&&(n=t[x][0],a[a.length]=ts("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Xh[x][s.bookType]||Xh[x].xlsx}))},i=function(x){(t[x]||[]).forEach(function(h){a[a.length]=ts("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Xh[x][s.bookType]||Xh[x].xlsx})})},d=function(x){(t[x]||[]).forEach(function(h){a[a.length]=ts("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[x][0]})})};return l("workbooks"),i("sheets"),i("charts"),d("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),i("metadata"),d("people"),a.length>2&&(a[a.length]="</Types>",a[1]=a[1].replace("/>",">")),a.join("")}var Vs={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function tx(t){var s=t.lastIndexOf("/");return t.slice(0,s+1)+"_rels/"+t.slice(s+1)+".rels"}function Uu(t,s){var r={"!id":{}};if(!t)return r;s.charAt(0)!=="/"&&(s="/"+s);var a={};return(t.match(Tn)||[]).forEach(function(n){var l=Is(n);if(l[0]==="<Relationship"){var i={};i.Type=l.Type,i.Target=l.Target,i.Id=l.Id,l.TargetMode&&(i.TargetMode=l.TargetMode);var d=l.TargetMode==="External"?l.Target:Ou(l.Target,s);r[d]=i,a[l.Id]=i}}),r["!id"]=a,r}function w0(t){var s=[ja,ts("Relationships",null,{xmlns:Pa.RELS})];return xa(t["!id"]).forEach(function(r){s[s.length]=ts("Relationship",null,t["!id"][r])}),s.length>2&&(s[s.length]="</Relationships>",s[1]=s[1].replace("/>",">")),s.join("")}function Dr(t,s,r,a,n,l){if(n||(n={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),s<0)for(s=t["!idx"];t["!id"]["rId"+s];++s);if(t["!idx"]=s+1,n.Id="rId"+s,n.Type=a,n.Target=r,[Vs.HLINK,Vs.XPATH,Vs.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),t["!id"][n.Id])throw new Error("Cannot rewrite rId "+s);return t["!id"][n.Id]=n,t[("/"+n.Target).replace("//","/")]=n,s}var N_="application/vnd.oasis.opendocument.spreadsheet";function j_(t,s){for(var r=Jb(t),a,n;a=ex.exec(r);)switch(a[3]){case"manifest":break;case"file-entry":if(n=Is(a[0],!1),n.path=="/"&&n.type!==N_)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(s&&s.WTF)throw a}}function C_(t){var s=[ja];s.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),s.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)s.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return s.push("</manifest:manifest>"),s.join("")}function L1(t,s,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+s+`"/>
`,`  </rdf:Description>
`].join("")}function S_(t,s){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+s+`"/>
`,`  </rdf:Description>
`].join("")}function k_(t){var s=[ja];s.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)s.push(L1(t[r][0],t[r][1])),s.push(S_("",t[r][0]));return s.push(L1("","Document","pkg")),s.push("</rdf:RDF>"),s.join("")}function ok(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Cp.version+"</meta:generator></office:meta></office:document-meta>"}var _o=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],D_=(function(){for(var t=new Array(_o.length),s=0;s<_o.length;++s){var r=_o[s],a="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[s]=new RegExp("<"+a+"[^>]*>([\\s\\S]*?)</"+a+">")}return t})();function lk(t){var s={};t=Pr(t);for(var r=0;r<_o.length;++r){var a=_o[r],n=t.match(D_[r]);n!=null&&n.length>0&&(s[a[1]]=ar(n[1])),a[2]==="date"&&s[a[1]]&&(s[a[1]]=Kr(s[a[1]]))}return s}function ey(t,s,r,a,n){n[t]!=null||s==null||s===""||(n[t]=s,s=Tr(s),a[a.length]=r?ts(t,s,r):on(t,s))}function ik(t,s){var r=s||{},a=[ja,ts("cp:coreProperties",null,{"xmlns:cp":Pa.CORE_PROPS,"xmlns:dc":Pa.dc,"xmlns:dcterms":Pa.dcterms,"xmlns:dcmitype":Pa.dcmitype,"xmlns:xsi":Pa.xsi})],n={};if(!t&&!r.Props)return a.join("");t&&(t.CreatedDate!=null&&ey("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Oy(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n),t.ModifiedDate!=null&&ey("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Oy(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},a,n));for(var l=0;l!=_o.length;++l){var i=_o[l],d=r.Props&&r.Props[i[1]]!=null?r.Props[i[1]]:t?t[i[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&ey(i[0],d,null,a,n)}return a.length>2&&(a[a.length]="</cp:coreProperties>",a[1]=a[1].replace("/>",">")),a.join("")}var ad=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ck=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function dk(t,s,r,a){var n=[];if(typeof t=="string")n=S1(t,a);else for(var l=0;l<t.length;++l)n=n.concat(t[l].map(function(m){return{v:m}}));var i=typeof s=="string"?S1(s,a).map(function(m){return m.v}):s,d=0,x=0;if(i.length>0)for(var h=0;h!==n.length;h+=2){switch(x=+n[h+1].v,n[h].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=x,r.SheetNames=i.slice(d,d+x);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=x,r.DefinedNames=i.slice(d,d+x);break;case"Charts":case"Diagramme":r.Chartsheets=x,r.ChartNames=i.slice(d,d+x);break}d+=x}}function E_(t,s,r){var a={};return s||(s={}),t=Pr(t),ad.forEach(function(n){var l=(t.match(Qu(n[0]))||[])[1];switch(n[2]){case"string":l&&(s[n[1]]=ar(l));break;case"bool":s[n[1]]=l==="true";break;case"raw":var i=t.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));i&&i.length>0&&(a[n[1]]=i[1]);break}}),a.HeadingPairs&&a.TitlesOfParts&&dk(a.HeadingPairs,a.TitlesOfParts,s,r),s}function uk(t){var s=[],r=ts;return t||(t={}),t.Application="SheetJS",s[s.length]=ja,s[s.length]=ts("Properties",null,{xmlns:Pa.EXT_PROPS,"xmlns:vt":Pa.vt}),ad.forEach(function(a){if(t[a[1]]!==void 0){var n;switch(a[2]){case"string":n=Tr(String(t[a[1]]));break;case"bool":n=t[a[1]]?"true":"false";break}n!==void 0&&(s[s.length]=r(a[0],n))}}),s[s.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),s[s.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(a){return"<vt:lpstr>"+Tr(a)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var T_=/<[^>]+>[^<]*/g;function A_(t,s){var r={},a="",n=t.match(T_);if(n)for(var l=0;l!=n.length;++l){var i=n[l],d=Is(i);switch(d[0]){case"<?xml":break;case"<Properties":break;case"<property":a=ar(d.name);break;case"</property>":a=null;break;default:if(i.indexOf("<vt:")===0){var x=i.split(">"),h=x[0].slice(4),m=x[1];switch(h){case"lpstr":case"bstr":case"lpwstr":r[a]=ar(m);break;case"bool":r[a]=Yr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[a]=parseInt(m,10);break;case"r4":case"r8":case"decimal":r[a]=parseFloat(m);break;case"filetime":case"date":r[a]=Kr(m);break;case"cy":case"error":r[a]=ar(m);break;default:if(h.slice(-1)=="/")break;s.WTF&&typeof console<"u"&&console.warn("Unexpected",i,h,x)}}else if(i.slice(0,2)!=="</"){if(s.WTF)throw new Error(i)}}}return r}function xk(t){var s=[ja,ts("Properties",null,{xmlns:Pa.CUST_PROPS,"xmlns:vt":Pa.vt})];if(!t)return s.join("");var r=1;return xa(t).forEach(function(n){++r,s[s.length]=ts("property",R8(t[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Tr(n)})}),s.length>2&&(s[s.length]="</Properties>",s[1]=s[1].replace("/>",">")),s.join("")}var Wy={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},ty;function F_(t,s,r){ty||(ty=lf(Wy)),s=ty[s]||s,t[s]=r}function P_(t,s){var r=[];return xa(Wy).map(function(a){for(var n=0;n<_o.length;++n)if(_o[n][1]==a)return _o[n];for(n=0;n<ad.length;++n)if(ad[n][1]==a)return ad[n];throw a}).forEach(function(a){if(t[a[1]]!=null){var n=s&&s.Props&&s.Props[a[1]]!=null?s.Props[a[1]]:t[a[1]];switch(a[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),r.push(on(Wy[a[1]]||a[1],n))}}),ts("DocumentProperties",r.join(""),{xmlns:ho.o})}function M_(t,s){var r=["Worksheets","SheetNames"],a="CustomDocumentProperties",n=[];return t&&xa(t).forEach(function(l){if(Object.prototype.hasOwnProperty.call(t,l)){for(var i=0;i<_o.length;++i)if(l==_o[i][1])return;for(i=0;i<ad.length;++i)if(l==ad[i][1])return;for(i=0;i<r.length;++i)if(l==r[i])return;var d=t[l],x="string";typeof d=="number"?(x="float",d=String(d)):d===!0||d===!1?(x="boolean",d=d?"1":"0"):d=String(d),n.push(ts(w1(l),d,{"dt:dt":x}))}}),s&&xa(s).forEach(function(l){if(Object.prototype.hasOwnProperty.call(s,l)&&!(t&&Object.prototype.hasOwnProperty.call(t,l))){var i=s[l],d="string";typeof i=="number"?(d="float",i=String(i)):i===!0||i===!1?(d="boolean",i=i?"1":"0"):i instanceof Date?(d="dateTime.tz",i=i.toISOString()):i=String(i),n.push(ts(w1(l),i,{"dt:dt":d}))}}),"<"+a+' xmlns="'+ho.o+'">'+n.join("")+"</"+a+">"}function iv(t){var s=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+s/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function I_(t){var s=typeof t=="string"?new Date(Date.parse(t)):t,r=s.getTime()/1e3+11644473600,a=r%Math.pow(2,32),n=(r-a)/Math.pow(2,32);a*=1e7,n*=1e7;var l=a/Math.pow(2,32)|0;l>0&&(a=a%Math.pow(2,32),n+=l);var i=Wt(8);return i.write_shift(4,a),i.write_shift(4,n),i}function hk(t,s,r){var a=t.l,n=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-a&3;)++t.l;return n}function mk(t,s,r){var a=t.read_shift(0,"lpwstr");return a}function pk(t,s,r){return s===31?mk(t):hk(t,s,r)}function Gy(t,s,r){return pk(t,s,r===!1?0:4)}function L_(t,s){if(!s)throw new Error("VtUnalignedString must have positive length");return pk(t,s,0)}function __(t){for(var s=t.read_shift(4),r=[],a=0;a!=s;++a){var n=t.l;r[a]=t.read_shift(0,"lpwstr").replace(Bn,""),t.l-n&2&&(t.l+=2)}return r}function O_(t){for(var s=t.read_shift(4),r=[],a=0;a!=s;++a)r[a]=t.read_shift(0,"lpstr-cp").replace(Bn,"");return r}function B_(t){var s=t.l,r=Mp(t,rk);t[t.l]==0&&t[t.l+1]==0&&t.l-s&2&&(t.l+=2);var a=Mp(t,Xn);return[r,a]}function R_(t){for(var s=t.read_shift(4),r=[],a=0;a<s/2;++a)r.push(B_(t));return r}function _1(t,s){for(var r=t.read_shift(4),a={},n=0;n!=r;++n){var l=t.read_shift(4),i=t.read_shift(4);a[l]=t.read_shift(i,s===1200?"utf16le":"utf8").replace(Bn,"").replace(_u,"!"),s===1200&&i%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),a}function fk(t){var s=t.read_shift(4),r=t.slice(t.l,t.l+s);return t.l+=s,(s&3)>0&&(t.l+=4-(s&3)&3),r}function H_(t){var s={};return s.Size=t.read_shift(4),t.l+=s.Size+3-(s.Size-1)%4,s}function Mp(t,s,r){var a=t.read_shift(2),n,l=r||{};if(t.l+=2,s!==M1&&a!==s&&g_.indexOf(s)===-1&&!((s&65534)==4126&&(a&65534)==4126))throw new Error("Expected type "+s+" saw "+a);switch(s===M1?a:s){case 2:return n=t.read_shift(2,"i"),l.raw||(t.l+=2),n;case 3:return n=t.read_shift(4,"i"),n;case 11:return t.read_shift(4)!==0;case 19:return n=t.read_shift(4),n;case 30:return hk(t,a,4).replace(Bn,"");case 31:return mk(t);case 64:return iv(t);case 65:return fk(t);case 71:return H_(t);case 80:return Gy(t,a,!l.raw).replace(Bn,"");case 81:return L_(t,a).replace(Bn,"");case 4108:return R_(t);case 4126:case 4127:return a==4127?__(t):O_(t);default:throw new Error("TypedPropertyValue unrecognized type "+s+" "+a)}}function O1(t,s){var r=Wt(4),a=Wt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:a.write_shift(-4,s);break;case 5:a=Wt(8),a.write_shift(8,s,"f");break;case 11:a.write_shift(4,s?1:0);break;case 64:a=I_(s);break;case 31:case 80:for(a=Wt(4+2*(s.length+1)+(s.length%2?0:2)),a.write_shift(4,s.length+1),a.write_shift(0,s,"dbcs");a.l!=a.length;)a.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}return Va([r,a])}function B1(t,s){var r=t.l,a=t.read_shift(4),n=t.read_shift(4),l=[],i=0,d=0,x=-1,h={};for(i=0;i!=n;++i){var m=t.read_shift(4),b=t.read_shift(4);l[i]=[m,b+r]}l.sort(function(C,j){return C[1]-j[1]});var f={};for(i=0;i!=n;++i){if(t.l!==l[i][1]){var N=!0;if(i>0&&s)switch(s[l[i-1][0]].t){case 2:t.l+2===l[i][1]&&(t.l+=2,N=!1);break;case 80:t.l<=l[i][1]&&(t.l=l[i][1],N=!1);break;case 4108:t.l<=l[i][1]&&(t.l=l[i][1],N=!1);break}if((!s||i==0)&&t.l<=l[i][1]&&(N=!1,t.l=l[i][1]),N)throw new Error("Read Error: Expected address "+l[i][1]+" at "+t.l+" :"+i)}if(s){var p=s[l[i][0]];if(f[p.n]=Mp(t,p.t,{raw:!0}),p.p==="version"&&(f[p.n]=String(f[p.n]>>16)+"."+("0000"+String(f[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(f[p.n]){case 0:f[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:il(d=f[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+f[p.n])}}else if(l[i][0]===1){if(d=f.CodePage=Mp(t,ov),il(d),x!==-1){var v=t.l;t.l=l[x][1],h=_1(t,d),t.l=v}}else if(l[i][0]===0){if(d===0){x=i,t.l=l[i+1][1];continue}h=_1(t,d)}else{var g=h[l[i][0]],y;switch(t[t.l]){case 65:t.l+=4,y=fk(t);break;case 30:t.l+=4,y=Gy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,y=Gy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,y=t.read_shift(4,"i");break;case 19:t.l+=4,y=t.read_shift(4);break;case 5:t.l+=4,y=t.read_shift(8,"f");break;case 11:t.l+=4,y=fa(t,4);break;case 64:t.l+=4,y=Kr(iv(t));break;default:throw new Error("unparsed value: "+t[t.l])}f[g]=y}}return t.l=r+a,f}var gk=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function U_(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function R1(t,s,r){var a=Wt(8),n=[],l=[],i=8,d=0,x=Wt(8),h=Wt(8);if(x.write_shift(4,2),x.write_shift(4,1200),h.write_shift(4,1),l.push(x),n.push(h),i+=8+x.length,!s){h=Wt(8),h.write_shift(4,0),n.unshift(h);var m=[Wt(4)];for(m[0].write_shift(4,t.length),d=0;d<t.length;++d){var b=t[d][0];for(x=Wt(8+2*(b.length+1)+(b.length%2?0:2)),x.write_shift(4,d+2),x.write_shift(4,b.length+1),x.write_shift(0,b,"dbcs");x.l!=x.length;)x.write_shift(1,0);m.push(x)}x=Va(m),l.unshift(x),i+=8+x.length}for(d=0;d<t.length;++d)if(!(s&&!s[t[d][0]])&&!(gk.indexOf(t[d][0])>-1||ck.indexOf(t[d][0])>-1)&&t[d][1]!=null){var f=t[d][1],N=0;if(s){N=+s[t[d][0]];var p=r[N];if(p.p=="version"&&typeof f=="string"){var v=f.split(".");f=(+v[0]<<16)+(+v[1]||0)}x=O1(p.t,f)}else{var g=U_(f);g==-1&&(g=31,f=String(f)),x=O1(g,f)}l.push(x),h=Wt(8),h.write_shift(4,s?N:2+d),n.push(h),i+=8+x.length}var y=8*(l.length+1);for(d=0;d<l.length;++d)n[d].write_shift(4,y),y+=l[d].length;return a.write_shift(4,i),a.write_shift(4,l.length),Va([a].concat(n).concat(l))}function H1(t,s,r){var a=t.content;if(!a)return{};nn(a,0);var n,l,i,d,x=0;a.chk("feff","Byte Order: "),a.read_shift(2);var h=a.read_shift(4),m=a.read_shift(16);if(m!==ks.utils.consts.HEADER_CLSID&&m!==r)throw new Error("Bad PropertySet CLSID "+m);if(n=a.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(l=a.read_shift(16),d=a.read_shift(4),n===1&&d!==a.l)throw new Error("Length mismatch: "+d+" !== "+a.l);n===2&&(i=a.read_shift(16),x=a.read_shift(4));var b=B1(a,s),f={SystemIdentifier:h};for(var N in b)f[N]=b[N];if(f.FMTID=l,n===1)return f;if(x-a.l==2&&(a.l+=2),a.l!==x)throw new Error("Length mismatch 2: "+a.l+" !== "+x);var p;try{p=B1(a,null)}catch{}for(N in p)f[N]=p[N];return f.FMTID=[l,i],f}function U1(t,s,r,a,n,l){var i=Wt(n?68:48),d=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,ks.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,n?2:1),i.write_shift(16,s,"hex"),i.write_shift(4,n?68:48);var x=R1(t,r,a);if(d.push(x),n){var h=R1(n,null,null);i.write_shift(16,l,"hex"),i.write_shift(4,68+x.length),d.push(h)}return Va(d)}function Ji(t,s){return t.read_shift(s),null}function W_(t,s){s||(s=Wt(t));for(var r=0;r<t;++r)s.write_shift(1,0);return s}function G_(t,s,r){for(var a=[],n=t.l+s;t.l<n;)a.push(r(t,n-t.l));if(n!==t.l)throw new Error("Slurp error");return a}function fa(t,s){return t.read_shift(s)===1}function Ln(t,s){return s||(s=Wt(2)),s.write_shift(2,+!!t),s}function Ea(t){return t.read_shift(2,"u")}function Lo(t,s){return s||(s=Wt(2)),s.write_shift(2,t),s}function yk(t,s){return G_(t,s,Ea)}function $_(t){var s=t.read_shift(1),r=t.read_shift(1);return r===1?s:s===1}function bk(t,s,r){return r||(r=Wt(2)),r.write_shift(1,s=="e"?+t:+!!t),r.write_shift(1,s=="e"?1:0),r}function Ax(t,s,r){var a=t.read_shift(r&&r.biff>=12?2:1),n="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var l=t.read_shift(1);l&&(n="dbcs-cont")}else r.biff==12&&(n="wstr");r.biff>=2&&r.biff<=5&&(n="cpstr");var i=a?t.read_shift(a,n):"";return i}function z_(t){var s=t.read_shift(2),r=t.read_shift(1),a=r&4,n=r&8,l=1+(r&1),i=0,d,x={};n&&(i=t.read_shift(2)),a&&(d=t.read_shift(4));var h=l==2?"dbcs-cont":"sbcs-cont",m=s===0?"":t.read_shift(s,h);return n&&(t.l+=4*i),a&&(t.l+=d),x.t=m,n||(x.raw="<t>"+x.t+"</t>",x.r=x.t),x}function V_(t){var s=t.t||"",r=Wt(3);r.write_shift(2,s.length),r.write_shift(1,1);var a=Wt(2*s.length);a.write_shift(2*s.length,s,"utf16le");var n=[r,a];return Va(n)}function hd(t,s,r){var a;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(s,"cpstr");if(r.biff>=12)return t.read_shift(s,"dbcs-cont")}var n=t.read_shift(1);return n===0?a=t.read_shift(s,"sbcs-cont"):a=t.read_shift(s,"dbcs-cont"),a}function Fx(t,s,r){var a=t.read_shift(r&&r.biff==2?1:2);return a===0?(t.l++,""):hd(t,a,r)}function kd(t,s,r){if(r.biff>5)return Fx(t,s,r);var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function vk(t,s,r){return r||(r=Wt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Y_(t){var s=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[s,r]}function K_(t){var s=t.read_shift(4),r=t.l,a=!1;s>24&&(t.l+=s-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(a=!0),t.l=r);var n=t.read_shift((a?s-24:s)>>1,"utf16le").replace(Bn,"");return a&&(t.l+=24),n}function q_(t){for(var s=t.read_shift(2),r="";s-- >0;)r+="../";var a=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=t.read_shift(4);if(n===0)return r+a.replace(/\\/g,"/");var l=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=t.read_shift(l>>1,"utf16le").replace(Bn,"");return r+i}function X_(t,s){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return K_(t);case"0303000000000000c000000000000046":return q_(t);default:throw new Error("Unsupported Moniker "+r)}}function Jh(t){var s=t.read_shift(4),r=s>0?t.read_shift(s,"utf16le").replace(Bn,""):"";return r}function W1(t,s){s||(s=Wt(6+t.length*2)),s.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)s.write_shift(2,t.charCodeAt(r));return s.write_shift(2,0),s}function J_(t,s){var r=t.l+s,a=t.read_shift(4);if(a!==2)throw new Error("Unrecognized streamVersion: "+a);var n=t.read_shift(2);t.l+=2;var l,i,d,x,h="",m,b;n&16&&(l=Jh(t,r-t.l)),n&128&&(i=Jh(t,r-t.l)),(n&257)===257&&(d=Jh(t,r-t.l)),(n&257)===1&&(x=X_(t,r-t.l)),n&8&&(h=Jh(t,r-t.l)),n&32&&(m=t.read_shift(16)),n&64&&(b=iv(t)),t.l=r;var f=i||d||x||"";f&&h&&(f+="#"+h),f||(f="#"+h),n&2&&f.charAt(0)=="/"&&f.charAt(1)!="/"&&(f="file://"+f);var N={Target:f};return m&&(N.guid=m),b&&(N.time=b),l&&(N.Tooltip=l),N}function Q_(t){var s=Wt(512),r=0,a=t.Target;a.slice(0,7)=="file://"&&(a=a.slice(7));var n=a.indexOf("#"),l=n>-1?31:23;switch(a.charAt(0)){case"#":l=28;break;case".":l&=-3;break}s.write_shift(4,2),s.write_shift(4,l);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)s.write_shift(4,i[r]);if(l==28)a=a.slice(1),W1(a,s);else if(l&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)s.write_shift(1,parseInt(i[r],16));var d=n>-1?a.slice(0,n):a;for(s.write_shift(4,2*(d.length+1)),r=0;r<d.length;++r)s.write_shift(2,d.charCodeAt(r));s.write_shift(2,0),l&8&&W1(n>-1?a.slice(n+1):"",s)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)s.write_shift(1,parseInt(i[r],16));for(var x=0;a.slice(x*3,x*3+3)=="../"||a.slice(x*3,x*3+3)=="..\\";)++x;for(s.write_shift(2,x),s.write_shift(4,a.length-3*x+1),r=0;r<a.length-3*x;++r)s.write_shift(1,a.charCodeAt(r+3*x)&255);for(s.write_shift(1,0),s.write_shift(2,65535),s.write_shift(2,57005),r=0;r<6;++r)s.write_shift(4,0)}return s.slice(0,s.l)}function wk(t){var s=t.read_shift(1),r=t.read_shift(1),a=t.read_shift(1),n=t.read_shift(1);return[s,r,a,n]}function Nk(t,s){var r=wk(t);return r[3]=0,r}function ql(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2);return{r:s,c:r,ixfe:a}}function md(t,s,r,a){return a||(a=Wt(6)),a.write_shift(2,t),a.write_shift(2,s),a.write_shift(2,r||0),a}function Z_(t){var s=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:s,flags:r}}function eO(t,s,r){return s===0?"":kd(t,s,r)}function tO(t,s,r){var a=r.biff>8?4:2,n=t.read_shift(a),l=t.read_shift(a,"i"),i=t.read_shift(a,"i");return[n,l,i]}function jk(t){var s=t.read_shift(2),r=nv(t);return[s,r]}function sO(t,s,r){t.l+=4,s-=4;var a=t.l+s,n=Ax(t,s,r),l=t.read_shift(2);if(a-=t.l,l!==a)throw new Error("Malformed AddinUdf: padding = "+a+" != "+l);return t.l+=l,n}function uf(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2);return{s:{c:a,r:s},e:{c:n,r}}}function Ck(t,s){return s||(s=Wt(8)),s.write_shift(2,t.s.r),s.write_shift(2,t.e.r),s.write_shift(2,t.s.c),s.write_shift(2,t.e.c),s}function Sk(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(1),n=t.read_shift(1);return{s:{c:a,r:s},e:{c:n,r}}}var rO=Sk;function kk(t){t.l+=4;var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2);return t.l+=12,[r,s,a]}function aO(t){var s={};return t.l+=4,t.l+=16,s.fSharedNote=t.read_shift(2),t.l+=4,s}function nO(t){var s={};return t.l+=4,t.cf=t.read_shift(2),s}function bn(t){t.l+=2,t.l+=t.read_shift(2)}var oO={0:bn,4:bn,5:bn,6:bn,7:nO,8:bn,9:bn,10:bn,11:bn,12:bn,13:aO,14:bn,15:bn,16:bn,17:bn,18:bn,19:bn,20:bn,21:kk};function lO(t,s){for(var r=t.l+s,a=[];t.l<r;){var n=t.read_shift(2);t.l-=2;try{a.push(oO[n](t,r-t.l))}catch{return t.l=r,a}}return t.l!=r&&(t.l=r),a}function Qh(t,s){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),s-=2,s>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(s>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(s),r}function cv(t,s,r){var a=1536,n=16;switch(r.bookType){case"biff8":break;case"biff5":a=1280,n=8;break;case"biff4":a=4,n=6;break;case"biff3":a=3,n=6;break;case"biff2":a=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=Wt(n);return l.write_shift(2,a),l.write_shift(2,s),n>4&&l.write_shift(2,29282),n>6&&l.write_shift(2,1997),n>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function iO(t,s){return s===0||t.read_shift(2),1200}function cO(t,s,r){if(r.enc)return t.l+=s,"";var a=t.l,n=kd(t,0,r);return t.read_shift(s+a-t.l),n}function dO(t,s){var r=!s||s.biff==8,a=Wt(r?112:54);for(a.write_shift(s.biff==8?2:1,7),r&&a.write_shift(1,0),a.write_shift(4,859007059),a.write_shift(4,5458548|(r?0:536870912));a.l<a.length;)a.write_shift(1,r?0:32);return a}function uO(t,s,r){var a=r&&r.biff==8||s==2?t.read_shift(2):(t.l+=s,0);return{fDialog:a&16,fBelow:a&64,fRight:a&128}}function xO(t,s,r){var a=t.read_shift(4),n=t.read_shift(1)&3,l=t.read_shift(1);switch(l){case 0:l="Worksheet";break;case 1:l="Macrosheet";break;case 2:l="Chartsheet";break;case 6:l="VBAModule";break}var i=Ax(t,0,r);return i.length===0&&(i="Sheet1"),{pos:a,hs:n,dt:l,name:i}}function hO(t,s){var r=!s||s.biff>=8?2:1,a=Wt(8+r*t.name.length);a.write_shift(4,t.pos),a.write_shift(1,t.hs||0),a.write_shift(1,t.dt),a.write_shift(1,t.name.length),s.biff>=8&&a.write_shift(1,1),a.write_shift(r*t.name.length,t.name,s.biff<8?"sbcs":"utf16le");var n=a.slice(0,a.l);return n.l=a.l,n}function mO(t,s){for(var r=t.l+s,a=t.read_shift(4),n=t.read_shift(4),l=[],i=0;i!=n&&t.l<r;++i)l.push(z_(t));return l.Count=a,l.Unique=n,l}function pO(t,s){var r=Wt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var a=[],n=0;n<t.length;++n)a[n]=V_(t[n]);var l=Va([r].concat(a));return l.parts=[r.length].concat(a.map(function(i){return i.length})),l}function fO(t,s){var r={};return r.dsst=t.read_shift(2),t.l+=s-2,r}function gO(t){var s={};s.r=t.read_shift(2),s.c=t.read_shift(2),s.cnt=t.read_shift(2)-s.c;var r=t.read_shift(2);t.l+=4;var a=t.read_shift(1);return t.l+=3,a&7&&(s.level=a&7),a&32&&(s.hidden=!0),a&64&&(s.hpt=r/20),s}function yO(t){var s=Z_(t);if(s.type!=2211)throw new Error("Invalid Future Record "+s.type);var r=t.read_shift(4);return r!==0}function bO(t){return t.read_shift(2),t.read_shift(4)}function G1(t,s,r){var a=0;r&&r.biff==2||(a=t.read_shift(2));var n=t.read_shift(2);r&&r.biff==2&&(a=1-(n>>15),n&=32767);var l={Unsynced:a&1,DyZero:(a&2)>>1,ExAsc:(a&4)>>2,ExDsc:(a&8)>>3};return[l,n]}function vO(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2),i=t.read_shift(2),d=t.read_shift(2),x=t.read_shift(2),h=t.read_shift(2);return{Pos:[s,r],Dim:[a,n],Flags:l,CurTab:i,FirstTab:d,Selected:x,TabRatio:h}}function wO(){var t=Wt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function NO(t,s,r){if(r&&r.biff>=2&&r.biff<5)return{};var a=t.read_shift(2);return{RTL:a&64}}function jO(t){var s=Wt(18),r=1718;return t&&t.RTL&&(r|=64),s.write_shift(2,r),s.write_shift(4,0),s.write_shift(4,64),s.write_shift(4,0),s.write_shift(4,0),s}function CO(){}function SO(t,s,r){var a={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return a.name=Ax(t,0,r),a}function kO(t,s){var r=t.name||"Arial",a=s&&s.biff==5,n=a?15+r.length:16+2*r.length,l=Wt(n);return l.write_shift(2,t.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,r.length),a||l.write_shift(1,1),l.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le"),l}function DO(t){var s=ql(t);return s.isst=t.read_shift(4),s}function EO(t,s,r,a){var n=Wt(10);return md(t,s,a,n),n.write_shift(4,r),n}function TO(t,s,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=t.l+s,n=ql(t);r.biff==2&&t.l++;var l=Fx(t,a-t.l,r);return n.val=l,n}function AO(t,s,r,a,n){var l=!n||n.biff==8,i=Wt(8+ +l+(1+l)*r.length);return md(t,s,a,i),i.write_shift(2,r.length),l&&i.write_shift(1,1),i.write_shift((1+l)*r.length,r,l?"utf16le":"sbcs"),i}function FO(t,s,r){var a=t.read_shift(2),n=kd(t,0,r);return[a,n]}function PO(t,s,r,a){var n=r&&r.biff==5;a||(a=Wt(n?3+s.length:5+2*s.length)),a.write_shift(2,t),a.write_shift(n?1:2,s.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*s.length,s,n?"sbcs":"utf16le");var l=a.length>a.l?a.slice(0,a.l):a;return l.l==null&&(l.l=l.length),l}var MO=kd;function $1(t,s,r){var a=t.l+s,n=r.biff==8||!r.biff?4:2,l=t.read_shift(n),i=t.read_shift(n),d=t.read_shift(2),x=t.read_shift(2);return t.l=a,{s:{r:l,c:d},e:{r:i,c:x}}}function IO(t,s){var r=s.biff==8||!s.biff?4:2,a=Wt(2*r+6);return a.write_shift(r,t.s.r),a.write_shift(r,t.e.r+1),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c+1),a.write_shift(2,0),a}function LO(t){var s=t.read_shift(2),r=t.read_shift(2),a=jk(t);return{r:s,c:r,ixfe:a[0],rknum:a[1]}}function _O(t,s){for(var r=t.l+s-2,a=t.read_shift(2),n=t.read_shift(2),l=[];t.l<r;)l.push(jk(t));if(t.l!==r)throw new Error("MulRK read error");var i=t.read_shift(2);if(l.length!=i-n+1)throw new Error("MulRK length mismatch");return{r:a,c:n,C:i,rkrec:l}}function OO(t,s){for(var r=t.l+s-2,a=t.read_shift(2),n=t.read_shift(2),l=[];t.l<r;)l.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var i=t.read_shift(2);if(l.length!=i-n+1)throw new Error("MulBlank length mismatch");return{r:a,c:n,C:i,ixfe:l}}function BO(t,s,r,a){var n={},l=t.read_shift(4),i=t.read_shift(4),d=t.read_shift(4),x=t.read_shift(2);return n.patternType=y_[d>>26],a.cellStyles&&(n.alc=l&7,n.fWrap=l>>3&1,n.alcV=l>>4&7,n.fJustLast=l>>7&1,n.trot=l>>8&255,n.cIndent=l>>16&15,n.fShrinkToFit=l>>20&1,n.iReadOrder=l>>22&2,n.fAtrNum=l>>26&1,n.fAtrFnt=l>>27&1,n.fAtrAlc=l>>28&1,n.fAtrBdr=l>>29&1,n.fAtrPat=l>>30&1,n.fAtrProt=l>>31&1,n.dgLeft=i&15,n.dgRight=i>>4&15,n.dgTop=i>>8&15,n.dgBottom=i>>12&15,n.icvLeft=i>>16&127,n.icvRight=i>>23&127,n.grbitDiag=i>>30&3,n.icvTop=d&127,n.icvBottom=d>>7&127,n.icvDiag=d>>14&127,n.dgDiag=d>>21&15,n.icvFore=x&127,n.icvBack=x>>7&127,n.fsxButton=x>>14&1),n}function RO(t,s,r){var a={};return a.ifnt=t.read_shift(2),a.numFmtId=t.read_shift(2),a.flags=t.read_shift(2),a.fStyle=a.flags>>2&1,s-=6,a.data=BO(t,s,a.fStyle,r),a}function z1(t,s,r,a){var n=r&&r.biff==5;a||(a=Wt(n?16:20)),a.write_shift(2,0),t.style?(a.write_shift(2,t.numFmtId||0),a.write_shift(2,65524)):(a.write_shift(2,t.numFmtId||0),a.write_shift(2,s<<4));var l=0;return t.numFmtId>0&&n&&(l|=1024),a.write_shift(4,l),a.write_shift(4,0),n||a.write_shift(4,0),a.write_shift(2,0),a}function HO(t){t.l+=4;var s=[t.read_shift(2),t.read_shift(2)];if(s[0]!==0&&s[0]--,s[1]!==0&&s[1]--,s[0]>7||s[1]>7)throw new Error("Bad Gutters: "+s.join("|"));return s}function UO(t){var s=Wt(8);return s.write_shift(4,0),s.write_shift(2,0),s.write_shift(2,0),s}function V1(t,s,r){var a=ql(t);(r.biff==2||s==9)&&++t.l;var n=$_(t);return a.val=n,a.t=n===!0||n===!1?"b":"e",a}function WO(t,s,r,a,n,l){var i=Wt(8);return md(t,s,a,i),bk(r,l,i),i}function GO(t,s,r){r.biffguess&&r.biff==2&&(r.biff=5);var a=ql(t),n=Cn(t);return a.val=n,a}function $O(t,s,r,a){var n=Wt(14);return md(t,s,a,n),xd(r,n),n}var Y1=eO;function zO(t,s,r){var a=t.l+s,n=t.read_shift(2),l=t.read_shift(2);if(r.sbcch=l,l==1025||l==14849)return[l,n];if(l<1||l>255)throw new Error("Unexpected SupBook type: "+l);for(var i=hd(t,l),d=[];a>t.l;)d.push(Fx(t));return[l,n,i,d]}function K1(t,s,r){var a=t.read_shift(2),n,l={fBuiltIn:a&1,fWantAdvise:a>>>1&1,fWantPict:a>>>2&1,fOle:a>>>3&1,fOleLink:a>>>4&1,cf:a>>>5&1023,fIcon:a>>>15&1};return r.sbcch===14849&&(n=sO(t,s-2,r)),l.body=n||t.read_shift(s-2),typeof n=="string"&&(l.Name=n),l}var VO=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function q1(t,s,r){var a=t.l+s,n=t.read_shift(2),l=t.read_shift(1),i=t.read_shift(1),d=t.read_shift(r&&r.biff==2?1:2),x=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),x=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var h=hd(t,i,r);n&32&&(h=VO[h.charCodeAt(0)]);var m=a-t.l;r&&r.biff==2&&--m;var b=a==t.l||d===0||!(m>0)?[]:lU(t,m,r,d);return{chKey:l,Name:h,itab:x,rgce:b}}function Dk(t,s,r){if(r.biff<8)return YO(t,s,r);for(var a=[],n=t.l+s,l=t.read_shift(r.biff>8?4:2);l--!==0;)a.push(tO(t,r.biff>8?12:6,r));if(t.l!=n)throw new Error("Bad ExternSheet: "+t.l+" != "+n);return a}function YO(t,s,r){t[t.l+1]==3&&t[t.l]++;var a=Ax(t,s,r);return a.charCodeAt(0)==3?a.slice(1):a}function KO(t,s,r){if(r.biff<8){t.l+=s;return}var a=t.read_shift(2),n=t.read_shift(2),l=hd(t,a,r),i=hd(t,n,r);return[l,i]}function qO(t,s,r){var a=Sk(t);t.l++;var n=t.read_shift(1);return s-=8,[iU(t,s,r),n,a]}function X1(t,s,r){var a=rO(t);switch(r.biff){case 2:t.l++,s-=7;break;case 3:case 4:t.l+=2,s-=8;break;default:t.l+=6,s-=12}return[a,nU(t,s,r)]}function XO(t){var s=t.read_shift(4)!==0,r=t.read_shift(4)!==0,a=t.read_shift(4);return[s,r,a]}function JO(t,s,r){if(!(r.biff<8)){var a=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2),i=t.read_shift(2),d=kd(t,0,r);return r.biff<8&&t.read_shift(1),[{r:a,c:n},d,i,l]}}function QO(t,s,r){return JO(t,s,r)}function ZO(t,s){for(var r=[],a=t.read_shift(2);a--;)r.push(uf(t));return r}function eB(t){var s=Wt(2+t.length*8);s.write_shift(2,t.length);for(var r=0;r<t.length;++r)Ck(t[r],s);return s}function tB(t,s,r){if(r&&r.biff<8)return rB(t,s,r);var a=kk(t),n=lO(t,s-22,a[1]);return{cmo:a,ft:n}}var sB={8:function(t,s){var r=t.l+s;t.l+=10;var a=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var n=t.read_shift(1);return t.l+=n,t.l=r,{fmt:a}}};function rB(t,s,r){t.l+=4;var a=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,s-=36;var i=[];return i.push((sB[a]||En)(t,s,r)),{cmo:[n,a,l],ft:i}}function aB(t,s,r){var a=t.l,n="";try{t.l+=4;var l=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(l)==-1?t.l+=6:i=Y_(t,6,r);var d=t.read_shift(2);t.read_shift(2),Ea(t,2);var x=t.read_shift(2);t.l+=x;for(var h=1;h<t.lens.length-1;++h){if(t.l-a!=t.lens[h])throw new Error("TxO: bad continue record");var m=t[t.l],b=hd(t,t.lens[h+1]-t.lens[h]-1);if(n+=b,n.length>=(m?d:2*d))break}if(n.length!==d&&n.length!==d*2)throw new Error("cchText: "+d+" != "+n.length);return t.l=a+s,{t:n}}catch{return t.l=a+s,{t:n}}}function nB(t,s){var r=uf(t);t.l+=16;var a=J_(t,s-24);return[r,a]}function oB(t){var s=Wt(24),r=aa(t[0]);s.write_shift(2,r.r),s.write_shift(2,r.r),s.write_shift(2,r.c),s.write_shift(2,r.c);for(var a="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)s.write_shift(1,parseInt(a[n],16));return Va([s,Q_(t[1])])}function lB(t,s){t.read_shift(2);var r=uf(t),a=t.read_shift((s-10)/2,"dbcs-cont");return a=a.replace(Bn,""),[r,a]}function iB(t){var s=t[1].Tooltip,r=Wt(10+2*(s.length+1));r.write_shift(2,2048);var a=aa(t[0]);r.write_shift(2,a.r),r.write_shift(2,a.r),r.write_shift(2,a.c),r.write_shift(2,a.c);for(var n=0;n<s.length;++n)r.write_shift(2,s.charCodeAt(n));return r.write_shift(2,0),r}function cB(t){var s=[0,0],r;return r=t.read_shift(2),s[0]=I1[r]||r,r=t.read_shift(2),s[1]=I1[r]||r,s}function dB(t){return t||(t=Wt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function uB(t){for(var s=t.read_shift(2),r=[];s-- >0;)r.push(Nk(t));return r}function xB(t){for(var s=t.read_shift(2),r=[];s-- >0;)r.push(Nk(t));return r}function hB(t){t.l+=2;var s={cxfs:0,crc:0};return s.cxfs=t.read_shift(2),s.crc=t.read_shift(4),s}function Ek(t,s,r){if(!r.cellStyles)return En(t,s);var a=r&&r.biff>=12?4:2,n=t.read_shift(a),l=t.read_shift(a),i=t.read_shift(a),d=t.read_shift(a),x=t.read_shift(2);a==2&&(t.l+=2);var h={s:n,e:l,w:i,ixfe:d,flags:x};return(r.biff>=5||!r.biff)&&(h.level=x>>8&7),h}function mB(t,s){var r=Wt(12);r.write_shift(2,s),r.write_shift(2,s),r.write_shift(2,t.width*256),r.write_shift(2,0);var a=0;return t.hidden&&(a|=1),r.write_shift(1,a),a=t.level||0,r.write_shift(1,a),r.write_shift(2,0),r}function pB(t,s){var r={};return s<32||(t.l+=16,r.header=Cn(t),r.footer=Cn(t),t.l+=2),r}function fB(t,s,r){var a={area:!1};if(r.biff!=5)return t.l+=s,a;var n=t.read_shift(1);return t.l+=3,n&16&&(a.area=!0),a}function gB(t){for(var s=Wt(2*t),r=0;r<t;++r)s.write_shift(2,r+1);return s}var yB=ql,bB=yk,vB=Fx;function wB(t){var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(4),n={fmt:s,env:r,len:a,data:t.slice(t.l,t.l+a)};return t.l+=a,n}function NB(t,s,r){r.biffguess&&r.biff==5&&(r.biff=2);var a=ql(t);++t.l;var n=kd(t,s-7,r);return a.t="str",a.val=n,a}function jB(t){var s=ql(t);++t.l;var r=Cn(t);return s.t="n",s.val=r,s}function CB(t,s,r){var a=Wt(15);return Lx(a,t,s),a.write_shift(8,r,"f"),a}function SB(t){var s=ql(t);++t.l;var r=t.read_shift(2);return s.t="n",s.val=r,s}function kB(t,s,r){var a=Wt(9);return Lx(a,t,s),a.write_shift(2,r),a}function DB(t){var s=t.read_shift(1);return s===0?(t.l++,""):t.read_shift(s,"sbcs-cont")}function EB(t,s){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=s-13}function TB(t,s,r){var a=t.l+s,n=ql(t),l=t.read_shift(2),i=hd(t,l,r);return t.l=a,n.t="str",n.val=i,n}var AB=[2,3,48,49,131,139,140,245],$y=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},s=lf({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(d,x){var h=[],m=xc(1);switch(x.type){case"base64":m=po(bo(d));break;case"binary":m=po(d);break;case"buffer":case"array":m=d;break}nn(m,0);var b=m.read_shift(1),f=!!(b&136),N=!1,p=!1;switch(b){case 2:break;case 3:break;case 48:N=!0,f=!0;break;case 49:N=!0,f=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+b.toString(16))}var v=0,g=521;b==2&&(v=m.read_shift(2)),m.l+=3,b!=2&&(v=m.read_shift(4)),v>1048576&&(v=1e6),b!=2&&(g=m.read_shift(2));var y=m.read_shift(2),C=x.codepage||1252;b!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(C=t[m[m.l]]),m.l+=1,m.l+=2),p&&(m.l+=36);for(var j=[],S={},P=Math.min(m.length,b==2?521:g-10-(N?264:0)),D=p?32:11;m.l<P&&m[m.l]!=13;)switch(S={},S.name=qu.utils.decode(C,m.slice(m.l,m.l+D)).replace(/[\u0000\r\n].*$/g,""),m.l+=D,S.type=String.fromCharCode(m.read_shift(1)),b!=2&&!p&&(S.offset=m.read_shift(4)),S.len=m.read_shift(1),b==2&&(S.offset=m.read_shift(2)),S.dec=m.read_shift(1),S.name.length&&j.push(S),b!=2&&(m.l+=p?13:14),S.type){case"B":(!N||S.len!=8)&&x.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":x.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(m[m.l]!==13&&(m.l=g-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=g;var T=0,A=0;for(h[0]=[],A=0;A!=j.length;++A)h[0][A]=j[A].name;for(;v-- >0;){if(m[m.l]===42){m.l+=y;continue}for(++m.l,h[++T]=[],A=0,A=0;A!=j.length;++A){var M=m.slice(m.l,m.l+j[A].len);m.l+=j[A].len,nn(M,0);var L=qu.utils.decode(C,M);switch(j[A].type){case"C":L.trim().length&&(h[T][A]=L.replace(/\s+$/,""));break;case"D":L.length===8?h[T][A]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):h[T][A]=L;break;case"F":h[T][A]=parseFloat(L.trim());break;case"+":case"I":h[T][A]=p?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":h[T][A]=!0;break;case"N":case"F":h[T][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+b.toString(16));h[T][A]="##MEMO##"+(p?parseInt(L.trim(),10):M.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(h[T][A]=+L||0);break;case"@":h[T][A]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":h[T][A]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":h[T][A]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[T][A]=-M.read_shift(-8,"f");break;case"B":if(N&&j[A].len==8){h[T][A]=M.read_shift(8,"f");break}case"G":case"P":M.l+=j[A].len;break;case"0":if(j[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[A].type)}}}if(b!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return x&&x.sheetRows&&(h=h.slice(0,x.sheetRows)),x.DBF=j,h}function a(d,x){var h=x||{};h.dateNF||(h.dateNF="yyyymmdd");var m=Y0(r(d,h),h);return m["!cols"]=h.DBF.map(function(b){return{wch:b.len,DBF:b}}),delete h.DBF,m}function n(d,x){try{return vc(a(d,x),x)}catch(h){if(x&&x.WTF)throw h}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function i(d,x){var h=x||{};if(+h.codepage>=0&&il(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=to(),b=_p(d,{header:1,raw:!0,cellDates:!0}),f=b[0],N=b.slice(1),p=d["!cols"]||[],v=0,g=0,y=0,C=1;for(v=0;v<f.length;++v){if(((p[v]||{}).DBF||{}).name){f[v]=p[v].DBF.name,++y;continue}if(f[v]!=null){if(++y,typeof f[v]=="number"&&(f[v]=f[v].toString(10)),typeof f[v]!="string")throw new Error("DBF Invalid column name "+f[v]+" |"+typeof f[v]+"|");if(f.indexOf(f[v])!==v){for(g=0;g<1024;++g)if(f.indexOf(f[v]+"_"+g)==-1){f[v]+="_"+g;break}}}}var j=nr(d["!ref"]),S=[],P=[],D=[];for(v=0;v<=j.e.c-j.s.c;++v){var T="",A="",M=0,L=[];for(g=0;g<N.length;++g)N[g][v]!=null&&L.push(N[g][v]);if(L.length==0||f[v]==null){S[v]="?";continue}for(g=0;g<L.length;++g){switch(typeof L[g]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=L[g]instanceof Date?"D":"C";break;default:A="C"}M=Math.max(M,String(L[g]).length),T=T&&T!=A?"C":A}M>250&&(M=250),A=((p[v]||{}).DBF||{}).type,A=="C"&&p[v].DBF.len>M&&(M=p[v].DBF.len),T=="B"&&A=="N"&&(T="N",D[v]=p[v].DBF.dec,M=p[v].DBF.len),P[v]=T=="C"||A=="N"?M:l[T]||0,C+=P[v],S[v]=T}var q=m.next(32);for(q.write_shift(4,318902576),q.write_shift(4,N.length),q.write_shift(2,296+32*y),q.write_shift(2,C),v=0;v<4;++v)q.write_shift(4,0);for(q.write_shift(4,0|(+s[gS]||3)<<8),v=0,g=0;v<f.length;++v)if(f[v]!=null){var B=m.next(32),te=(f[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,te,"sbcs"),B.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),B.write_shift(4,g),B.write_shift(1,P[v]||l[S[v]]||0),B.write_shift(1,D[v]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),g+=P[v]||l[S[v]]||0}var oe=m.next(264);for(oe.write_shift(4,13),v=0;v<65;++v)oe.write_shift(4,0);for(v=0;v<N.length;++v){var fe=m.next(C);for(fe.write_shift(1,0),g=0;g<f.length;++g)if(f[g]!=null)switch(S[g]){case"L":fe.write_shift(1,N[v][g]==null?63:N[v][g]?84:70);break;case"B":fe.write_shift(8,N[v][g]||0,"f");break;case"N":var R="0";for(typeof N[v][g]=="number"&&(R=N[v][g].toFixed(D[g]||0)),y=0;y<P[g]-R.length;++y)fe.write_shift(1,32);fe.write_shift(1,R,"sbcs");break;case"D":N[v][g]?(fe.write_shift(4,("0000"+N[v][g].getFullYear()).slice(-4),"sbcs"),fe.write_shift(2,("00"+(N[v][g].getMonth()+1)).slice(-2),"sbcs"),fe.write_shift(2,("00"+N[v][g].getDate()).slice(-2),"sbcs")):fe.write_shift(8,"00000000","sbcs");break;case"C":var V=String(N[v][g]!=null?N[v][g]:"").slice(0,P[g]);for(fe.write_shift(1,V,"sbcs"),y=0;y<P[g]-V.length;++y)fe.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:n,to_sheet:a,from_sheet:i}})(),Tk=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},s=new RegExp("\x1BN("+xa(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(f,N){var p=t[N];return typeof p=="number"?l1(p):p},a=function(f,N,p){var v=N.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?f:l1(v)};t["|"]=254;function n(f,N){switch(N.type){case"base64":return l(bo(f),N);case"binary":return l(f,N);case"buffer":return l($s&&Buffer.isBuffer(f)?f.toString("binary"):bc(f),N);case"array":return l(ud(f),N)}throw new Error("Unrecognized type "+N.type)}function l(f,N){var p=f.split(/[\n\r]+/),v=-1,g=-1,y=0,C=0,j=[],S=[],P=null,D={},T=[],A=[],M=[],L=0,q;for(+N.codepage>=0&&il(+N.codepage);y!==p.length;++y){L=0;var B=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,a).replace(s,r),te=B.replace(/;;/g,"\0").split(";").map(function(k){return k.replace(/\u0000/g,";")}),oe=te[0],fe;if(B.length>0)switch(oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":te[1].charAt(0)=="P"&&S.push(B.slice(3).replace(/;;/g,";"));break;case"C":var R=!1,V=!1,W=!1,ne=!1,J=-1,H=-1;for(C=1;C<te.length;++C)switch(te[C].charAt(0)){case"A":break;case"X":g=parseInt(te[C].slice(1))-1,V=!0;break;case"Y":for(v=parseInt(te[C].slice(1))-1,V||(g=0),q=j.length;q<=v;++q)j[q]=[];break;case"K":fe=te[C].slice(1),fe.charAt(0)==='"'?fe=fe.slice(1,fe.length-1):fe==="TRUE"?fe=!0:fe==="FALSE"?fe=!1:isNaN(ul(fe))?isNaN(F0(fe).getDate())||(fe=Kr(fe)):(fe=ul(fe),P!==null&&z0(P)&&(fe=df(fe))),R=!0;break;case"E":ne=!0;var F=N0(te[C].slice(1),{r:v,c:g});j[v][g]=[j[v][g],F];break;case"S":W=!0,j[v][g]=[j[v][g],"S5S"];break;case"G":break;case"R":J=parseInt(te[C].slice(1))-1;break;case"C":H=parseInt(te[C].slice(1))-1;break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+B)}if(R&&(j[v][g]&&j[v][g].length==2?j[v][g][0]=fe:j[v][g]=fe,P=null),W){if(ne)throw new Error("SYLK shared formula cannot have own formula");var I=J>-1&&j[J][H];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");j[v][g][1]=Yk(I[1],{r:v-J,c:g-H})}break;case"F":var U=0;for(C=1;C<te.length;++C)switch(te[C].charAt(0)){case"X":g=parseInt(te[C].slice(1))-1,++U;break;case"Y":for(v=parseInt(te[C].slice(1))-1,q=j.length;q<=v;++q)j[q]=[];break;case"M":L=parseInt(te[C].slice(1))/20;break;case"F":break;case"G":break;case"P":P=S[parseInt(te[C].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=te[C].slice(1).split(" "),q=parseInt(M[0],10);q<=parseInt(M[1],10);++q)L=parseInt(M[2],10),A[q-1]=L===0?{hidden:!0}:{wch:L},hc(A[q-1]);break;case"C":g=parseInt(te[C].slice(1))-1,A[g]||(A[g]={});break;case"R":v=parseInt(te[C].slice(1))-1,T[v]||(T[v]={}),L>0?(T[v].hpt=L,T[v].hpx=M0(L)):L===0&&(T[v].hidden=!0);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+B)}U<1&&(P=null);break;default:if(N&&N.WTF)throw new Error("SYLK bad record "+B)}}return T.length>0&&(D["!rows"]=T),A.length>0&&(D["!cols"]=A),N&&N.sheetRows&&(j=j.slice(0,N.sheetRows)),[j,D]}function i(f,N){var p=n(f,N),v=p[0],g=p[1],y=Y0(v,N);return xa(g).forEach(function(C){y[C]=g[C]}),y}function d(f,N){return vc(i(f,N),N)}function x(f,N,p,v){var g="C;Y"+(p+1)+";X"+(v+1)+";K";switch(f.t){case"n":g+=f.v||0,f.f&&!f.F&&(g+=";E"+pv(f.f,{r:p,c:v}));break;case"b":g+=f.v?"TRUE":"FALSE";break;case"e":g+=f.w||f.v;break;case"d":g+='"'+(f.w||f.v)+'"';break;case"s":g+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function h(f,N){N.forEach(function(p,v){var g="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?g+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=rx(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=ax(p.wpx)),typeof p.wch=="number"&&(g+=Math.round(p.wch))),g.charAt(g.length-1)!=" "&&f.push(g)})}function m(f,N){N.forEach(function(p,v){var g="F;";p.hidden?g+="M0;":p.hpt?g+="M"+20*p.hpt+";":p.hpx&&(g+="M"+20*nx(p.hpx)+";"),g.length>2&&f.push(g+"R"+(v+1))})}function b(f,N){var p=["ID;PWXL;N;E"],v=[],g=nr(f["!ref"]),y,C=Array.isArray(f),j=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),f["!cols"]&&h(p,f["!cols"]),f["!rows"]&&m(p,f["!rows"]),p.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var S=g.s.r;S<=g.e.r;++S)for(var P=g.s.c;P<=g.e.c;++P){var D=Ps({r:S,c:P});y=C?(f[S]||[])[P]:f[D],!(!y||y.v==null&&(!y.f||y.F))&&v.push(x(y,f,S,P))}return p.join(j)+j+v.join(j)+j+"E"+j}return{to_workbook:d,to_sheet:i,from_sheet:b}})(),Ak=(function(){function t(l,i){switch(i.type){case"base64":return s(bo(l),i);case"binary":return s(l,i);case"buffer":return s($s&&Buffer.isBuffer(l)?l.toString("binary"):bc(l),i);case"array":return s(ud(l),i)}throw new Error("Unrecognized type "+i.type)}function s(l,i){for(var d=l.split(`
`),x=-1,h=-1,m=0,b=[];m!==d.length;++m){if(d[m].trim()==="BOT"){b[++x]=[],h=0;continue}if(!(x<0)){var f=d[m].trim().split(","),N=f[0],p=f[1];++m;for(var v=d[m]||"";(v.match(/["]/g)||[]).length&1&&m<d.length-1;)v+=`
`+d[++m];switch(v=v.trim(),+N){case-1:if(v==="BOT"){b[++x]=[],h=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?b[x][h]=!0:v==="FALSE"?b[x][h]=!1:isNaN(ul(p))?isNaN(F0(p).getDate())?b[x][h]=p:b[x][h]=Kr(p):b[x][h]=ul(p),++h;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),b[x][h++]=v!==""?v:null;break}if(v==="EOD")break}}return i&&i.sheetRows&&(b=b.slice(0,i.sheetRows)),b}function r(l,i){return Y0(t(l,i),i)}function a(l,i){return vc(r(l,i),i)}var n=(function(){var l=function(x,h,m,b,f){x.push(h),x.push(m+","+b),x.push('"'+f.replace(/"/g,'""')+'"')},i=function(x,h,m,b){x.push(h+","+m),x.push(h==1?'"'+b.replace(/"/g,'""')+'"':b)};return function(x){var h=[],m=nr(x["!ref"]),b,f=Array.isArray(x);l(h,"TABLE",0,1,"sheetjs"),l(h,"VECTORS",0,m.e.r-m.s.r+1,""),l(h,"TUPLES",0,m.e.c-m.s.c+1,""),l(h,"DATA",0,0,"");for(var N=m.s.r;N<=m.e.r;++N){i(h,-1,0,"BOT");for(var p=m.s.c;p<=m.e.c;++p){var v=Ps({r:N,c:p});if(b=f?(x[N]||[])[p]:x[v],!b){i(h,1,0,"");continue}switch(b.t){case"n":var g=b.w;!g&&b.v!=null&&(g=b.v),g==null?b.f&&!b.F?i(h,1,0,"="+b.f):i(h,1,0,""):i(h,0,g,"V");break;case"b":i(h,0,b.v?1:0,b.v?"TRUE":"FALSE");break;case"s":i(h,1,0,isNaN(b.v)?b.v:'="'+b.v+'"');break;case"d":b.w||(b.w=Bo(b.z||As[14],Ma(Kr(b.v)))),i(h,0,b.w,"V");break;default:i(h,1,0,"")}}}i(h,-1,0,"EOD");var y=`\r
`,C=h.join(y);return C}})();return{to_workbook:a,to_sheet:r,from_sheet:n}})(),Fk=(function(){function t(b){return b.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function s(b){return b.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(b,f){for(var N=b.split(`
`),p=-1,v=-1,g=0,y=[];g!==N.length;++g){var C=N[g].trim().split(":");if(C[0]==="cell"){var j=aa(C[1]);if(y.length<=j.r)for(p=y.length;p<=j.r;++p)y[p]||(y[p]=[]);switch(p=j.r,v=j.c,C[2]){case"t":y[p][v]=t(C[3]);break;case"v":y[p][v]=+C[3];break;case"vtf":var S=C[C.length-1];case"vtc":switch(C[3]){case"nl":y[p][v]=!!+C[4];break;default:y[p][v]=+C[4];break}C[2]=="vtf"&&(y[p][v]=[y[p][v],S])}}}return f&&f.sheetRows&&(y=y.slice(0,f.sheetRows)),y}function a(b,f){return Y0(r(b,f),f)}function n(b,f){return vc(a(b,f),f)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),x="--SocialCalcSpreadsheetControlSave--";function h(b){if(!b||!b["!ref"])return"";for(var f=[],N=[],p,v="",g=ro(b["!ref"]),y=Array.isArray(b),C=g.s.r;C<=g.e.r;++C)for(var j=g.s.c;j<=g.e.c;++j)if(v=Ps({r:C,c:j}),p=y?(b[C]||[])[j]:b[v],!(!p||p.v==null||p.t==="z")){switch(N=["cell",v,"t"],p.t){case"s":case"str":N.push(s(p.v));break;case"n":p.f?(N[2]="vtf",N[3]="n",N[4]=p.v,N[5]=s(p.f)):(N[2]="v",N[3]=p.v);break;case"b":N[2]="vt"+(p.f?"f":"c"),N[3]="nl",N[4]=p.v?"1":"0",N[5]=s(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var S=Ma(Kr(p.v));N[2]="vtc",N[3]="nd",N[4]=""+S,N[5]=p.w||Bo(p.z||As[14],S);break;case"e":continue}f.push(N.join(":"))}return f.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function m(b){return[l,i,d,i,h(b),x].join(`
`)}return{to_workbook:n,to_sheet:a,from_sheet:m}})(),P0=(function(){function t(m,b,f,N,p){p.raw?b[f][N]=m:m===""||(m==="TRUE"?b[f][N]=!0:m==="FALSE"?b[f][N]=!1:isNaN(ul(m))?isNaN(F0(m).getDate())?b[f][N]=m:b[f][N]=Kr(m):b[f][N]=ul(m))}function s(m,b){var f=b||{},N=[];if(!m||m.length===0)return N;for(var p=m.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var g=10,y=0,C=0;C<=v;++C)y=p[C].indexOf(" "),y==-1?y=p[C].length:y++,g=Math.max(g,y);for(C=0;C<=v;++C){N[C]=[];var j=0;for(t(p[C].slice(0,g).trim(),N,C,j,f),j=1;j<=(p[C].length-g)/10+1;++j)t(p[C].slice(g+(j-1)*10,g+j*10).trim(),N,C,j,f)}return f.sheetRows&&(N=N.slice(0,f.sheetRows)),N}var r={44:",",9:"	",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function n(m){for(var b={},f=!1,N=0,p=0;N<m.length;++N)(p=m.charCodeAt(N))==34?f=!f:!f&&p in r&&(b[p]=(b[p]||0)+1);p=[];for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&p.push([b[N],N]);if(!p.length){b=a;for(N in b)Object.prototype.hasOwnProperty.call(b,N)&&p.push([b[N],N])}return p.sort(function(v,g){return v[0]-g[0]||a[v[1]]-a[g[1]]}),r[p.pop()[1]]||44}function l(m,b){var f=b||{},N="",p=f.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(N=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(N=m.charAt(4),m=m.slice(6)):N=n(m.slice(0,1024)):f&&f.FS?N=f.FS:N=n(m.slice(0,1024));var g=0,y=0,C=0,j=0,S=0,P=N.charCodeAt(0),D=!1,T=0,A=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var M=f.dateNF!=null?f8(f.dateNF):null;function L(){var q=m.slice(j,S),B={};if(q.charAt(0)=='"'&&q.charAt(q.length-1)=='"'&&(q=q.slice(1,-1).replace(/""/g,'"')),q.length===0)B.t="z";else if(f.raw)B.t="s",B.v=q;else if(q.trim().length===0)B.t="s",B.v=q;else if(q.charCodeAt(0)==61)q.charCodeAt(1)==34&&q.charCodeAt(q.length-1)==34?(B.t="s",B.v=q.slice(2,-1).replace(/""/g,'"')):z9(q)?(B.t="n",B.f=q.slice(1)):(B.t="s",B.v=q);else if(q=="TRUE")B.t="b",B.v=!0;else if(q=="FALSE")B.t="b",B.v=!1;else if(!isNaN(C=ul(q)))B.t="n",f.cellText!==!1&&(B.w=q),B.v=C;else if(!isNaN(F0(q).getDate())||M&&q.match(M)){B.z=f.dateNF||As[14];var te=0;M&&q.match(M)&&(q=g8(q,f.dateNF,q.match(M)||[]),te=1),f.cellDates?(B.t="d",B.v=Kr(q,te)):(B.t="n",B.v=Ma(Kr(q,te))),f.cellText!==!1&&(B.w=Bo(B.z,B.v instanceof Date?Ma(B.v):B.v)),f.cellNF||delete B.z}else B.t="s",B.v=q;if(B.t=="z"||(f.dense?(p[g]||(p[g]=[]),p[g][y]=B):p[Ps({c:y,r:g})]=B),j=S+1,A=m.charCodeAt(j),v.e.c<y&&(v.e.c=y),v.e.r<g&&(v.e.r=g),T==P)++y;else if(y=0,++g,f.sheetRows&&f.sheetRows<=g)return!0}e:for(;S<m.length;++S)switch(T=m.charCodeAt(S)){case 34:A===34&&(D=!D);break;case P:case 10:case 13:if(!D&&L())break e;break}return S-j>0&&L(),p["!ref"]=Rs(v),p}function i(m,b){return!(b&&b.PRN)||b.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?l(m,b):Y0(s(m,b),b)}function d(m,b){var f="",N=b.type=="string"?[0,0,0,0]:jv(m,b);switch(b.type){case"base64":f=bo(m);break;case"binary":f=m;break;case"buffer":b.codepage==65001?f=m.toString("utf8"):b.codepage&&typeof qu<"u"||(f=$s&&Buffer.isBuffer(m)?m.toString("binary"):bc(m));break;case"array":f=ud(m);break;case"string":f=m;break;default:throw new Error("Unrecognized type "+b.type)}return N[0]==239&&N[1]==187&&N[2]==191?f=Pr(f.slice(3)):b.type!="string"&&b.type!="buffer"&&b.codepage==65001?f=Pr(f):b.type=="binary"&&typeof qu<"u",f.slice(0,19)=="socialcalc:version:"?Fk.to_sheet(b.type=="string"?f:Pr(f),b):i(f,b)}function x(m,b){return vc(d(m,b),b)}function h(m){for(var b=[],f=nr(m["!ref"]),N,p=Array.isArray(m),v=f.s.r;v<=f.e.r;++v){for(var g=[],y=f.s.c;y<=f.e.c;++y){var C=Ps({r:v,c:y});if(N=p?(m[v]||[])[y]:m[C],!N||N.v==null){g.push("          ");continue}for(var j=(N.w||(ji(N),N.w)||"").slice(0,10);j.length<10;)j+=" ";g.push(j+(y===0?" ":""))}b.push(g.join(""))}return b.join(`
`)}return{to_workbook:x,to_sheet:d,from_sheet:h}})();function FB(t,s){var r=s||{},a=!!r.WTF;r.WTF=!0;try{var n=Tk.to_workbook(t,r);return r.WTF=a,n}catch(l){if(r.WTF=a,!l.message.match(/SYLK bad record ID/)&&a)throw l;return P0.to_workbook(t,s)}}var nd=(function(){function t(F,I,U){if(F){nn(F,F.l||0);for(var k=U.Enum||J;F.l<F.length;){var O=F.read_shift(2),he=k[O]||k[65535],ye=F.read_shift(2),be=F.l+ye,je=he.f&&he.f(F,ye,U);if(F.l=be,I(je,he,O))return}}}function s(F,I){switch(I.type){case"base64":return r(po(bo(F)),I);case"binary":return r(po(F),I);case"buffer":case"array":return r(F,I)}throw"Unsupported type "+I.type}function r(F,I){if(!F)return F;var U=I||{},k=U.dense?[]:{},O="Sheet1",he="",ye=0,be={},je=[],ge=[],xe={s:{r:0,c:0},e:{r:0,c:0}},Se=U.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)U.Enum=J,t(F,function(ze,He,Ve){switch(Ve){case 0:U.vers=ze,ze>=4096&&(U.qpro=!0);break;case 6:xe=ze;break;case 204:ze&&(he=ze);break;case 222:he=ze;break;case 15:case 51:U.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=U.dateNF||As[14],U.cellDates&&(ze[1].t="d",ze[1].v=df(ze[1].v))),U.qpro&&ze[3]>ye&&(k["!ref"]=Rs(xe),be[O]=k,je.push(O),k=U.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},ye=ze[3],O=he||"Sheet"+(ye+1),he="");var qe=U.dense?(k[ze[0].r]||[])[ze[0].c]:k[Ps(ze[0])];if(qe){qe.t=ze[1].t,qe.v=ze[1].v,ze[1].z!=null&&(qe.z=ze[1].z),ze[1].f!=null&&(qe.f=ze[1].f);break}U.dense?(k[ze[0].r]||(k[ze[0].r]=[]),k[ze[0].r][ze[0].c]=ze[1]):k[Ps(ze[0])]=ze[1];break}},U);else if(F[2]==26||F[2]==14)U.Enum=H,F[2]==14&&(U.qpro=!0,F.l=0),t(F,function(ze,He,Ve){switch(Ve){case 204:O=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>ye&&(k["!ref"]=Rs(xe),be[O]=k,je.push(O),k=U.dense?[]:{},xe={s:{r:0,c:0},e:{r:0,c:0}},ye=ze[3],O="Sheet"+(ye+1)),Se>0&&ze[0].r>=Se)break;U.dense?(k[ze[0].r]||(k[ze[0].r]=[]),k[ze[0].r][ze[0].c]=ze[1]):k[Ps(ze[0])]=ze[1],xe.e.c<ze[0].c&&(xe.e.c=ze[0].c),xe.e.r<ze[0].r&&(xe.e.r=ze[0].r);break;case 27:ze[14e3]&&(ge[ze[14e3][0]]=ze[14e3][1]);break;case 1537:ge[ze[0]]=ze[1],ze[0]==ye&&(O=ze[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(k["!ref"]=Rs(xe),be[he||O]=k,je.push(he||O),!ge.length)return{SheetNames:je,Sheets:be};for(var De={},Fe=[],Ae=0;Ae<ge.length;++Ae)be[je[Ae]]?(Fe.push(ge[Ae]||je[Ae]),De[ge[Ae]]=be[ge[Ae]]||be[je[Ae]]):(Fe.push(ge[Ae]),De[ge[Ae]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:De}}function a(F,I){var U=I||{};if(+U.codepage>=0&&il(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var k=to(),O=nr(F["!ref"]),he=Array.isArray(F),ye=[];ss(k,0,l(1030)),ss(k,6,x(O));for(var be=Math.min(O.e.r,8191),je=O.s.r;je<=be;++je)for(var ge=ba(je),xe=O.s.c;xe<=O.e.c;++xe){je===O.s.r&&(ye[xe]=ra(xe));var Se=ye[xe]+ge,De=he?(F[je]||[])[xe]:F[Se];if(!(!De||De.t=="z"))if(De.t=="n")(De.v|0)==De.v&&De.v>=-32768&&De.v<=32767?ss(k,13,N(je,xe,De.v)):ss(k,14,v(je,xe,De.v));else{var Fe=ji(De);ss(k,15,b(je,xe,Fe.slice(0,239)))}}return ss(k,1),k.end()}function n(F,I){var U=I||{};if(+U.codepage>=0&&il(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var k=to();ss(k,0,i(F));for(var O=0,he=0;O<F.SheetNames.length;++O)(F.Sheets[F.SheetNames[O]]||{})["!ref"]&&ss(k,27,ne(F.SheetNames[O],he++));var ye=0;for(O=0;O<F.SheetNames.length;++O){var be=F.Sheets[F.SheetNames[O]];if(!(!be||!be["!ref"])){for(var je=nr(be["!ref"]),ge=Array.isArray(be),xe=[],Se=Math.min(je.e.r,8191),De=je.s.r;De<=Se;++De)for(var Fe=ba(De),Ae=je.s.c;Ae<=je.e.c;++Ae){De===je.s.r&&(xe[Ae]=ra(Ae));var ze=xe[Ae]+Fe,He=ge?(be[De]||[])[Ae]:be[ze];if(!(!He||He.t=="z"))if(He.t=="n")ss(k,23,L(De,Ae,ye,He.v));else{var Ve=ji(He);ss(k,22,T(De,Ae,ye,Ve.slice(0,239)))}}++ye}}return ss(k,1),k.end()}function l(F){var I=Wt(2);return I.write_shift(2,F),I}function i(F){var I=Wt(26);I.write_shift(2,4096),I.write_shift(2,4),I.write_shift(4,0);for(var U=0,k=0,O=0,he=0;he<F.SheetNames.length;++he){var ye=F.SheetNames[he],be=F.Sheets[ye];if(!(!be||!be["!ref"])){++O;var je=ro(be["!ref"]);U<je.e.r&&(U=je.e.r),k<je.e.c&&(k=je.e.c)}}return U>8191&&(U=8191),I.write_shift(2,U),I.write_shift(1,O),I.write_shift(1,k),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(1,1),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(4,0),I}function d(F,I,U){var k={s:{c:0,r:0},e:{c:0,r:0}};return I==8&&U.qpro?(k.s.c=F.read_shift(1),F.l++,k.s.r=F.read_shift(2),k.e.c=F.read_shift(1),F.l++,k.e.r=F.read_shift(2),k):(k.s.c=F.read_shift(2),k.s.r=F.read_shift(2),I==12&&U.qpro&&(F.l+=2),k.e.c=F.read_shift(2),k.e.r=F.read_shift(2),I==12&&U.qpro&&(F.l+=2),k.s.c==65535&&(k.s.c=k.e.c=k.s.r=k.e.r=0),k)}function x(F){var I=Wt(8);return I.write_shift(2,F.s.c),I.write_shift(2,F.s.r),I.write_shift(2,F.e.c),I.write_shift(2,F.e.r),I}function h(F,I,U){var k=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(k[0].c=F.read_shift(1),k[3]=F.read_shift(1),k[0].r=F.read_shift(2),F.l+=2):(k[2]=F.read_shift(1),k[0].c=F.read_shift(2),k[0].r=F.read_shift(2)),k}function m(F,I,U){var k=F.l+I,O=h(F,I,U);if(O[1].t="s",U.vers==20768){F.l++;var he=F.read_shift(1);return O[1].v=F.read_shift(he,"utf8"),O}return U.qpro&&F.l++,O[1].v=F.read_shift(k-F.l,"cstr"),O}function b(F,I,U){var k=Wt(7+U.length);k.write_shift(1,255),k.write_shift(2,I),k.write_shift(2,F),k.write_shift(1,39);for(var O=0;O<k.length;++O){var he=U.charCodeAt(O);k.write_shift(1,he>=128?95:he)}return k.write_shift(1,0),k}function f(F,I,U){var k=h(F,I,U);return k[1].v=F.read_shift(2,"i"),k}function N(F,I,U){var k=Wt(7);return k.write_shift(1,255),k.write_shift(2,I),k.write_shift(2,F),k.write_shift(2,U,"i"),k}function p(F,I,U){var k=h(F,I,U);return k[1].v=F.read_shift(8,"f"),k}function v(F,I,U){var k=Wt(13);return k.write_shift(1,255),k.write_shift(2,I),k.write_shift(2,F),k.write_shift(8,U,"f"),k}function g(F,I,U){var k=F.l+I,O=h(F,I,U);if(O[1].v=F.read_shift(8,"f"),U.qpro)F.l=k;else{var he=F.read_shift(2);S(F.slice(F.l,F.l+he),O),F.l+=he}return O}function y(F,I,U){var k=I&32768;return I&=-32769,I=(k?F:0)+(I>=8192?I-16384:I),(k?"":"$")+(U?ra(I):ba(I))}var C={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(F,I){nn(F,0);for(var U=[],k=0,O="",he="",ye="",be="";F.l<F.length;){var je=F[F.l++];switch(je){case 0:U.push(F.read_shift(8,"f"));break;case 1:he=y(I[0].c,F.read_shift(2),!0),O=y(I[0].r,F.read_shift(2),!1),U.push(he+O);break;case 2:{var ge=y(I[0].c,F.read_shift(2),!0),xe=y(I[0].r,F.read_shift(2),!1);he=y(I[0].c,F.read_shift(2),!0),O=y(I[0].r,F.read_shift(2),!1),U.push(ge+xe+":"+he+O)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(F.read_shift(2));break;case 6:{for(var Se="";je=F[F.l++];)Se+=String.fromCharCode(je);U.push('"'+Se.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:be=U.pop(),ye=U.pop(),U.push(["AND","OR"][je-20]+"("+ye+","+be+")");break;default:if(je<32&&j[je])be=U.pop(),ye=U.pop(),U.push(ye+j[je]+be);else if(C[je]){if(k=C[je][1],k==69&&(k=F[F.l++]),k>U.length){console.error("WK1 bad formula parse 0x"+je.toString(16)+":|"+U.join("|")+"|");return}var De=U.slice(-k);U.length-=k,U.push(C[je][0]+"("+De.join(",")+")")}else return je<=7?console.error("WK1 invalid opcode "+je.toString(16)):je<=24?console.error("WK1 unsupported op "+je.toString(16)):je<=30?console.error("WK1 invalid opcode "+je.toString(16)):je<=115?console.error("WK1 unsupported function opcode "+je.toString(16)):console.error("WK1 unrecognized opcode "+je.toString(16))}}U.length==1?I[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function P(F){var I=[{c:0,r:0},{t:"n",v:0},0];return I[0].r=F.read_shift(2),I[3]=F[F.l++],I[0].c=F[F.l++],I}function D(F,I){var U=P(F);return U[1].t="s",U[1].v=F.read_shift(I-4,"cstr"),U}function T(F,I,U,k){var O=Wt(6+k.length);O.write_shift(2,F),O.write_shift(1,U),O.write_shift(1,I),O.write_shift(1,39);for(var he=0;he<k.length;++he){var ye=k.charCodeAt(he);O.write_shift(1,ye>=128?95:ye)}return O.write_shift(1,0),O}function A(F,I){var U=P(F);U[1].v=F.read_shift(2);var k=U[1].v>>1;if(U[1].v&1)switch(k&7){case 0:k=(k>>3)*5e3;break;case 1:k=(k>>3)*500;break;case 2:k=(k>>3)/20;break;case 3:k=(k>>3)/200;break;case 4:k=(k>>3)/2e3;break;case 5:k=(k>>3)/2e4;break;case 6:k=(k>>3)/16;break;case 7:k=(k>>3)/64;break}return U[1].v=k,U}function M(F,I){var U=P(F),k=F.read_shift(4),O=F.read_shift(4),he=F.read_shift(2);if(he==65535)return k===0&&O===3221225472?(U[1].t="e",U[1].v=15):k===0&&O===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var ye=he&32768;return he=(he&32767)-16446,U[1].v=(1-ye*2)*(O*Math.pow(2,he+32)+k*Math.pow(2,he)),U}function L(F,I,U,k){var O=Wt(14);if(O.write_shift(2,F),O.write_shift(1,U),O.write_shift(1,I),k==0)return O.write_shift(4,0),O.write_shift(4,0),O.write_shift(2,65535),O;var he=0,ye=0,be=0,je=0;return k<0&&(he=1,k=-k),ye=Math.log2(k)|0,k/=Math.pow(2,ye-31),je=k>>>0,(je&2147483648)==0&&(k/=2,++ye,je=k>>>0),k-=je,je|=2147483648,je>>>=0,k*=Math.pow(2,32),be=k>>>0,O.write_shift(4,be),O.write_shift(4,je),ye+=16383+(he?32768:0),O.write_shift(2,ye),O}function q(F,I){var U=M(F);return F.l+=I-14,U}function B(F,I){var U=P(F),k=F.read_shift(4);return U[1].v=k>>6,U}function te(F,I){var U=P(F),k=F.read_shift(8,"f");return U[1].v=k,U}function oe(F,I){var U=te(F);return F.l+=I-10,U}function fe(F,I){return F[F.l+I-1]==0?F.read_shift(I,"cstr"):""}function R(F,I){var U=F[F.l++];U>I-1&&(U=I-1);for(var k="";k.length<U;)k+=String.fromCharCode(F[F.l++]);return k}function V(F,I,U){if(!(!U.qpro||I<21)){var k=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var O=F.read_shift(I-21,"cstr");return[k,O]}}function W(F,I){for(var U={},k=F.l+I;F.l<k;){var O=F.read_shift(2);if(O==14e3){for(U[O]=[0,""],U[O][0]=F.read_shift(2);F[F.l];)U[O][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return U}function ne(F,I){var U=Wt(5+F.length);U.write_shift(2,14e3),U.write_shift(2,I);for(var k=0;k<F.length;++k){var O=F.charCodeAt(k);U[U.l++]=O>127?95:O}return U[U.l++]=0,U}var J={0:{n:"BOF",f:Ea},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:fe},222:{n:"SHEETNAMELP",f:R},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:W},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:te},40:{n:"FORMULA28",f:oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:V},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:a,book_to_wk3:n,to_workbook:s}})();function PB(t){var s={},r=t.match(Tn),a=0,n=!1;if(r)for(;a!=r.length;++a){var l=Is(r[a]);switch(l[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!l.val)break;case"<shadow>":case"<shadow/>":s.shadow=1;break;case"</shadow>":break;case"<charset":if(l.val=="1")break;s.cp=Hb[parseInt(l.val,10)];break;case"<outline":if(!l.val)break;case"<outline>":case"<outline/>":s.outline=1;break;case"</outline>":break;case"<rFont":s.name=l.val;break;case"<sz":s.sz=l.val;break;case"<strike":if(!l.val)break;case"<strike>":case"<strike/>":s.strike=1;break;case"</strike>":break;case"<u":if(!l.val)break;switch(l.val){case"double":s.uval="double";break;case"singleAccounting":s.uval="single-accounting";break;case"doubleAccounting":s.uval="double-accounting";break}case"<u>":case"<u/>":s.u=1;break;case"</u>":break;case"<b":if(l.val=="0")break;case"<b>":case"<b/>":s.b=1;break;case"</b>":break;case"<i":if(l.val=="0")break;case"<i>":case"<i/>":s.i=1;break;case"</i>":break;case"<color":l.rgb&&(s.color=l.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":s.family=l.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":s.valign=l.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(l[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+l[0])}}return s}var MB=(function(){var t=Qu("t"),s=Qu("rPr");function r(l){var i=l.match(t);if(!i)return{t:"s",v:""};var d={t:"s",v:ar(i[1])},x=l.match(s);return x&&(d.s=PB(x[1])),d}var a=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(i){return i.replace(a,"").split(n).map(r).filter(function(d){return d.v})}})(),IB=(function(){var s=/(\r\n|\n)/g;function r(n,l,i){var d=[];n.u&&d.push("text-decoration: underline;"),n.uval&&d.push("text-underline-style:"+n.uval+";"),n.sz&&d.push("font-size:"+n.sz+"pt;"),n.outline&&d.push("text-effect: outline;"),n.shadow&&d.push("text-shadow: auto;"),l.push('<span style="'+d.join("")+'">'),n.b&&(l.push("<b>"),i.push("</b>")),n.i&&(l.push("<i>"),i.push("</i>")),n.strike&&(l.push("<s>"),i.push("</s>"));var x=n.valign||"";return x=="superscript"||x=="super"?x="sup":x=="subscript"&&(x="sub"),x!=""&&(l.push("<"+x+">"),i.push("</"+x+">")),i.push("</span>"),n}function a(n){var l=[[],n.v,[]];return n.v?(n.s&&r(n.s,l[0],l[2]),l[0].join("")+l[1].replace(s,"<br/>")+l[2].join("")):""}return function(l){return l.map(a).join("")}})(),LB=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_B=/<(?:\w+:)?r>/,OB=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function dv(t,s){var r=s?s.cellHTML:!0,a={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(a.t=ar(Pr(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),a.r=Pr(t),r&&(a.h=Xb(a.t))):t.match(_B)&&(a.r=Pr(t),a.t=ar(Pr((t.replace(OB,"").match(LB)||[]).join("").replace(Tn,""))),r&&(a.h=IB(MB(a.r)))),a):{t:""}}var BB=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,RB=/<(?:\w+:)?(?:si|sstItem)>/g,HB=/<\/(?:\w+:)?(?:si|sstItem)>/;function UB(t,s){var r=[],a="";if(!t)return r;var n=t.match(BB);if(n){a=n[2].replace(RB,"").split(HB);for(var l=0;l!=a.length;++l){var i=dv(a[l].trim(),s);i!=null&&(r[r.length]=i)}n=Is(n[1]),r.Count=n.count,r.Unique=n.uniqueCount}return r}var WB=/^\s|\s$|[\t\n\r]/;function Pk(t,s){if(!s.bookSST)return"";var r=[ja];r[r.length]=ts("sst",null,{xmlns:wd[0],count:t.Count,uniqueCount:t.Unique});for(var a=0;a!=t.length;++a)if(t[a]!=null){var n=t[a],l="<si>";n.r?l+=n.r:(l+="<t",n.t||(n.t=""),n.t.match(WB)&&(l+=' xml:space="preserve"'),l+=">"+Tr(n.t)+"</t>"),l+="</si>",r[r.length]=l}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function GB(t){return[t.read_shift(4),t.read_shift(4)]}function $B(t,s){var r=[],a=!1;return ki(t,function(l,i,d){switch(d){case 159:r.Count=l[0],r.Unique=l[1];break;case 19:r.push(l);break;case 160:return!0;case 35:a=!0;break;case 36:a=!1;break;default:if(i.T,!a||s.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}function zB(t,s){return s||(s=Wt(8)),s.write_shift(4,t.Count),s.write_shift(4,t.Unique),s}var VB=s_;function YB(t){var s=to();Yt(s,159,zB(t));for(var r=0;r<t.length;++r)Yt(s,19,VB(t[r]));return Yt(s,160),s.end()}function Mk(t){for(var s=[],r=t.split(""),a=0;a<r.length;++a)s[a]=r[a].charCodeAt(0);return s}function bi(t,s){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),s>=4&&(t.l+=s-4),r}function KB(t){var s={};return s.id=t.read_shift(0,"lpp4"),s.R=bi(t,4),s.U=bi(t,4),s.W=bi(t,4),s}function qB(t){for(var s=t.read_shift(4),r=t.l+s-4,a={},n=t.read_shift(4),l=[];n-- >0;)l.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(a.name=t.read_shift(0,"lpp4"),a.comps=l,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return a}function XB(t){var s=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)s.push(qB(t));return s}function JB(t){var s=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)s.push(t.read_shift(0,"lpp4"));return s}function QB(t){var s={};return t.read_shift(4),t.l+=4,s.id=t.read_shift(0,"lpp4"),s.name=t.read_shift(0,"lpp4"),s.R=bi(t,4),s.U=bi(t,4),s.W=bi(t,4),s}function ZB(t){var s=QB(t);if(s.ename=t.read_shift(0,"8lpp4"),s.blksz=t.read_shift(4),s.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return s}function Ik(t,s){var r=t.l+s,a={};a.Flags=t.read_shift(4)&63,t.l+=4,a.AlgID=t.read_shift(4);var n=!1;switch(a.AlgID){case 26126:case 26127:case 26128:n=a.Flags==36;break;case 26625:n=a.Flags==4;break;case 0:n=a.Flags==16||a.Flags==4||a.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+a.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return a.AlgIDHash=t.read_shift(4),a.KeySize=t.read_shift(4),a.ProviderType=t.read_shift(4),t.l+=8,a.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,a}function Lk(t,s){var r={},a=t.l+s;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,a),t.l=a,r}function eR(t){var s=bi(t);switch(s.Minor){case 2:return[s.Minor,tR(t)];case 3:return[s.Minor,sR()];case 4:return[s.Minor,rR(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+s.Minor)}function tR(t){var s=t.read_shift(4);if((s&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),a=Ik(t,r),n=Lk(t,t.length-t.l);return{t:"Std",h:a,v:n}}function sR(){throw new Error("File is password-protected: ECMA-376 Extensible")}function rR(t){var s=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),a={};return r.replace(Tn,function(l){var i=Is(l);switch(Kl(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":s.forEach(function(d){a[d]=i[d]});break;case"<dataIntegrity":a.encryptedHmacKey=i.encryptedHmacKey,a.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":a.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":a.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":a.encs.push(i);break;default:throw i[0]}}),a}function aR(t,s){var r={},a=r.EncryptionVersionInfo=bi(t,4);if(s-=4,a.Minor!=2)throw new Error("unrecognized minor version code: "+a.Minor);if(a.Major>4||a.Major<2)throw new Error("unrecognized major version code: "+a.Major);r.Flags=t.read_shift(4),s-=4;var n=t.read_shift(4);return s-=4,r.EncryptionHeader=Ik(t,n),s-=n,r.EncryptionVerifier=Lk(t,s),r}function nR(t){var s={},r=s.EncryptionVersionInfo=bi(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return s.Salt=t.read_shift(16),s.EncryptedVerifier=t.read_shift(16),s.EncryptedVerifierHash=t.read_shift(16),s}function uv(t){var s=0,r,a=Mk(t),n=a.length+1,l,i,d,x,h;for(r=xc(n),r[0]=a.length,l=1;l!=n;++l)r[l]=a[l-1];for(l=n-1;l>=0;--l)i=r[l],d=(s&16384)===0?0:1,x=s<<1&32767,h=d|x,s=h^i;return s^52811}var _k=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],s=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],a=function(i){return(i/2|i*128)&255},n=function(i,d){return a(i^d)},l=function(i){for(var d=s[i.length-1],x=104,h=i.length-1;h>=0;--h)for(var m=i[h],b=0;b!=7;++b)m&64&&(d^=r[x]),m*=2,--x;return d};return function(i){for(var d=Mk(i),x=l(d),h=d.length,m=xc(16),b=0;b!=16;++b)m[b]=0;var f,N,p;for((h&1)===1&&(f=x>>8,m[h]=n(t[0],f),--h,f=x&255,N=d[d.length-1],m[h]=n(N,f));h>0;)--h,f=x>>8,m[h]=n(d[h],f),--h,f=x&255,m[h]=n(d[h],f);for(h=15,p=15-d.length;p>0;)f=x>>8,m[h]=n(t[p],f),--h,--p,f=x&255,m[h]=n(d[h],f),--h,--p;return m}})(),oR=function(t,s,r,a,n){n||(n=s),a||(a=_k(t));var l,i;for(l=0;l!=s.length;++l)i=s[l],i^=a[r],i=(i>>5|i<<3)&255,n[l]=i,++r;return[n,r,a]},lR=function(t){var s=0,r=_k(t);return function(a){var n=oR("",a,s,r);return s=n[1],n[0]}};function iR(t,s,r,a){var n={key:Ea(t),verificationBytes:Ea(t)};return r.password&&(n.verifier=uv(r.password)),a.valid=n.verificationBytes===n.verifier,a.valid&&(a.insitu=lR(r.password)),n}function cR(t,s,r){var a=r||{};return a.Info=t.read_shift(2),t.l-=2,a.Info===1?a.Data=nR(t):a.Data=aR(t,s),a}function dR(t,s,r){var a={Type:r.biff>=8?t.read_shift(2):0};return a.Type?cR(t,s-2,a):iR(t,r.biff>=8?s:s-2,r,a),a}var Ok=(function(){function t(n,l){switch(l.type){case"base64":return s(bo(n),l);case"binary":return s(n,l);case"buffer":return s($s&&Buffer.isBuffer(n)?n.toString("binary"):bc(n),l);case"array":return s(ud(n),l)}throw new Error("Unrecognized type "+l.type)}function s(n,l){var i=l||{},d=i.dense?[]:{},x=n.match(/\\trowd.*?\\row\b/g);if(!x.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:x.length-1}};return x.forEach(function(m,b){Array.isArray(d)&&(d[b]=[]);for(var f=/\\\w+\b/g,N=0,p,v=-1;p=f.exec(m);){switch(p[0]){case"\\cell":var g=m.slice(N,f.lastIndex-p[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var y={v:g,t:"s"};Array.isArray(d)?d[b][v]=y:d[Ps({r:b,c:v})]=y}break}N=f.lastIndex}v>h.e.c&&(h.e.c=v)}),d["!ref"]=Rs(h),d}function r(n,l){return vc(t(n,l),l)}function a(n){for(var l=["{\\rtf1\\ansi"],i=nr(n["!ref"]),d,x=Array.isArray(n),h=i.s.r;h<=i.e.r;++h){l.push("\\trowd\\trautofit1");for(var m=i.s.c;m<=i.e.c;++m)l.push("\\cellx"+(m+1));for(l.push("\\pard\\intbl"),m=i.s.c;m<=i.e.c;++m){var b=Ps({r:h,c:m});d=x?(n[h]||[])[m]:n[b],!(!d||d.v==null&&(!d.f||d.F))&&(l.push(" "+(d.w||(ji(d),d.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:a}})();function uR(t){var s=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)]}function sx(t){for(var s=0,r=1;s!=3;++s)r=r*256+(t[s]>255?255:t[s]<0?0:t[s]);return r.toString(16).toUpperCase().slice(1)}function xR(t){var s=t[0]/255,r=t[1]/255,a=t[2]/255,n=Math.max(s,r,a),l=Math.min(s,r,a),i=n-l;if(i===0)return[0,0,s];var d=0,x=0,h=n+l;switch(x=i/(h>1?2-h:h),n){case s:d=((r-a)/i+6)%6;break;case r:d=(a-s)/i+2;break;case a:d=(s-r)/i+4;break}return[d/6,x,h/2]}function hR(t){var s=t[0],r=t[1],a=t[2],n=r*2*(a<.5?a:1-a),l=a-n/2,i=[l,l,l],d=6*s,x;if(r!==0)switch(d|0){case 0:case 6:x=n*d,i[0]+=n,i[1]+=x;break;case 1:x=n*(2-d),i[0]+=x,i[1]+=n;break;case 2:x=n*(d-2),i[1]+=n,i[2]+=x;break;case 3:x=n*(4-d),i[1]+=x,i[2]+=n;break;case 4:x=n*(d-4),i[2]+=n,i[0]+=x;break;case 5:x=n*(6-d),i[2]+=x,i[0]+=n;break}for(var h=0;h!=3;++h)i[h]=Math.round(i[h]*255);return i}function Ip(t,s){if(s===0)return t;var r=xR(uR(t));return s<0?r[2]=r[2]*(1+s):r[2]=1-(1-r[2])*(1-s),sx(hR(r))}var Bk=6,mR=15,pR=1,Nn=Bk;function rx(t){return Math.floor((t+Math.round(128/Nn)/256)*Nn)}function ax(t){return Math.floor((t-5)/Nn*100+.5)/100}function Lp(t){return Math.round((t*Nn+5)/Nn*256)/256}function sy(t){return Lp(ax(rx(t)))}function xv(t){var s=Math.abs(t-sy(t)),r=Nn;if(s>.005)for(Nn=pR;Nn<mR;++Nn)Math.abs(t-sy(t))<=s&&(s=Math.abs(t-sy(t)),r=Nn);Nn=r}function hc(t){t.width?(t.wpx=rx(t.width),t.wch=ax(t.wpx),t.MDW=Nn):t.wpx?(t.wch=ax(t.wpx),t.width=Lp(t.wch),t.MDW=Nn):typeof t.wch=="number"&&(t.width=Lp(t.wch),t.wpx=rx(t.width),t.MDW=Nn),t.customWidth&&delete t.customWidth}var fR=96,Rk=fR;function nx(t){return t*96/Rk}function M0(t){return t*Rk/96}var gR={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function yR(t,s,r,a){s.Borders=[];var n={},l=!1;(t[0].match(Tn)||[]).forEach(function(i){var d=Is(i);switch(Kl(d[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},d.diagonalUp&&(n.diagonalUp=Yr(d.diagonalUp)),d.diagonalDown&&(n.diagonalDown=Yr(d.diagonalDown)),s.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(a&&a.WTF&&!l)throw new Error("unrecognized "+d[0]+" in borders")}})}function bR(t,s,r,a){s.Fills=[];var n={},l=!1;(t[0].match(Tn)||[]).forEach(function(i){var d=Is(i);switch(Kl(d[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},s.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":s.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":d.patternType&&(n.patternType=d.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),d.indexed&&(n.bgColor.indexed=parseInt(d.indexed,10)),d.theme&&(n.bgColor.theme=parseInt(d.theme,10)),d.tint&&(n.bgColor.tint=parseFloat(d.tint)),d.rgb&&(n.bgColor.rgb=d.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),d.theme&&(n.fgColor.theme=parseInt(d.theme,10)),d.tint&&(n.fgColor.tint=parseFloat(d.tint)),d.rgb!=null&&(n.fgColor.rgb=d.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(a&&a.WTF&&!l)throw new Error("unrecognized "+d[0]+" in fills")}})}function vR(t,s,r,a){s.Fonts=[];var n={},l=!1;(t[0].match(Tn)||[]).forEach(function(i){var d=Is(i);switch(Kl(d[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":s.Fonts.push(n),n={};break;case"<name":d.val&&(n.name=Pr(d.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=d.val?Yr(d.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=d.val?Yr(d.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(d.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=d.val?Yr(d.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=d.val?Yr(d.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=d.val?Yr(d.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=d.val?Yr(d.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=d.val?Yr(d.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":d.val&&(n.sz=+d.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":d.val&&(n.vertAlign=d.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":d.val&&(n.family=parseInt(d.val,10));break;case"<family/>":case"</family>":break;case"<scheme":d.val&&(n.scheme=d.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(d.val=="1")break;d.codepage=Hb[parseInt(d.val,10)];break;case"<color":if(n.color||(n.color={}),d.auto&&(n.color.auto=Yr(d.auto)),d.rgb)n.color.rgb=d.rgb.slice(-6);else if(d.indexed){n.color.index=parseInt(d.indexed,10);var x=rd[n.color.index];n.color.index==81&&(x=rd[1]),x||(x=rd[1]),n.color.rgb=x[0].toString(16)+x[1].toString(16)+x[2].toString(16)}else d.theme&&(n.color.theme=parseInt(d.theme,10),d.tint&&(n.color.tint=parseFloat(d.tint)),d.theme&&r.themeElements&&r.themeElements.clrScheme&&(n.color.rgb=Ip(r.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":l=!0;break;case"</AlternateContent>":l=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(a&&a.WTF&&!l)throw new Error("unrecognized "+d[0]+" in fonts")}})}function wR(t,s,r){s.NumberFmt=[];for(var a=xa(As),n=0;n<a.length;++n)s.NumberFmt[a[n]]=As[a[n]];var l=t[0].match(Tn);if(l)for(n=0;n<l.length;++n){var i=Is(l[n]);switch(Kl(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var d=ar(Pr(i.formatCode)),x=parseInt(i.numFmtId,10);if(s.NumberFmt[x]=d,x>0){if(x>392){for(x=392;x>60&&s.NumberFmt[x]!=null;--x);s.NumberFmt[x]=d}yi(d,x)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function NR(t){var s=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&(s[s.length]=ts("numFmt",null,{numFmtId:a,formatCode:Tr(t[a])}))}),s.length===1?"":(s[s.length]="</numFmts>",s[0]=ts("numFmts",null,{count:s.length-2}).replace("/>",">"),s.join(""))}var Zh=["numFmtId","fillId","fontId","borderId","xfId"],em=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function jR(t,s,r){s.CellXf=[];var a,n=!1;(t[0].match(Tn)||[]).forEach(function(l){var i=Is(l),d=0;switch(Kl(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(a=i,delete a[0],d=0;d<Zh.length;++d)a[Zh[d]]&&(a[Zh[d]]=parseInt(a[Zh[d]],10));for(d=0;d<em.length;++d)a[em[d]]&&(a[em[d]]=Yr(a[em[d]]));if(s.NumberFmt&&a.numFmtId>392){for(d=392;d>60;--d)if(s.NumberFmt[a.numFmtId]==s.NumberFmt[d]){a.numFmtId=d;break}}s.CellXf.push(a);break;case"</xf>":break;case"<alignment":case"<alignment/>":var x={};i.vertical&&(x.vertical=i.vertical),i.horizontal&&(x.horizontal=i.horizontal),i.textRotation!=null&&(x.textRotation=i.textRotation),i.indent&&(x.indent=i.indent),i.wrapText&&(x.wrapText=Yr(i.wrapText)),a.alignment=x;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(r&&r.WTF&&!n)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function CR(t){var s=[];return s[s.length]=ts("cellXfs",null),t.forEach(function(r){s[s.length]=ts("xf",null,r)}),s[s.length]="</cellXfs>",s.length===2?"":(s[0]=ts("cellXfs",null,{count:s.length-2}).replace("/>",">"),s.join(""))}var SR=(function(){var s=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,a=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,l=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(d,x,h){var m={};if(!d)return m;d=d.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var b;return(b=d.match(s))&&wR(b,m,h),(b=d.match(n))&&vR(b,m,x,h),(b=d.match(a))&&bR(b,m,x,h),(b=d.match(l))&&yR(b,m,x,h),(b=d.match(r))&&jR(b,m,h),m}})();function Hk(t,s){var r=[ja,ts("styleSheet",null,{xmlns:wd[0],"xmlns:vt":Pa.vt})],a;return t.SSF&&(a=NR(t.SSF))!=null&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=CR(s.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function kR(t,s){var r=t.read_shift(2),a=Sn(t);return[r,a]}function DR(t,s,r){r||(r=Wt(6+4*s.length)),r.write_shift(2,t),Ya(s,r);var a=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),a}function ER(t,s,r){var a={};a.sz=t.read_shift(2)/20;var n=c_(t);n.fItalic&&(a.italic=1),n.fCondense&&(a.condense=1),n.fExtend&&(a.extend=1),n.fShadow&&(a.shadow=1),n.fOutline&&(a.outline=1),n.fStrikeout&&(a.strike=1);var l=t.read_shift(2);switch(l===700&&(a.bold=1),t.read_shift(2)){case 1:a.vertAlign="superscript";break;case 2:a.vertAlign="subscript";break}var i=t.read_shift(1);i!=0&&(a.underline=i);var d=t.read_shift(1);d>0&&(a.family=d);var x=t.read_shift(1);switch(x>0&&(a.charset=x),t.l++,a.color=i_(t),t.read_shift(1)){case 1:a.scheme="major";break;case 2:a.scheme="minor";break}return a.name=Sn(t),a}function TR(t,s){s||(s=Wt(153)),s.write_shift(2,t.sz*20),d_(t,s),s.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),s.write_shift(2,r),s.write_shift(1,t.underline||0),s.write_shift(1,t.family||0),s.write_shift(1,t.charset||0),s.write_shift(1,0),Fp(t.color,s);var a=0;return a=2,s.write_shift(1,a),Ya(t.name,s),s.length>s.l?s.slice(0,s.l):s}var AR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ry,FR=En;function J1(t,s){s||(s=Wt(84)),ry||(ry=lf(AR));var r=ry[t.patternType];r==null&&(r=40),s.write_shift(4,r);var a=0;if(r!=40)for(Fp({auto:1},s),Fp({auto:1},s);a<12;++a)s.write_shift(4,0);else{for(;a<4;++a)s.write_shift(4,0);for(;a<12;++a)s.write_shift(4,0)}return s.length>s.l?s.slice(0,s.l):s}function PR(t,s){var r=t.l+s,a=t.read_shift(2),n=t.read_shift(2);return t.l=r,{ixfe:a,numFmtId:n}}function Uk(t,s,r){r||(r=Wt(16)),r.write_shift(2,s||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var a=0;return r.write_shift(1,a),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Au(t,s){return s||(s=Wt(10)),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(4,0),s}var MR=En;function IR(t,s){return s||(s=Wt(51)),s.write_shift(1,0),Au(null,s),Au(null,s),Au(null,s),Au(null,s),Au(null,s),s.length>s.l?s.slice(0,s.l):s}function LR(t,s){return s||(s=Wt(52)),s.write_shift(4,t.xfId),s.write_shift(2,1),s.write_shift(1,0),s.write_shift(1,0),Ap(t.name||"",s),s.length>s.l?s.slice(0,s.l):s}function _R(t,s,r){var a=Wt(2052);return a.write_shift(4,t),Ap(s,a),Ap(r,a),a.length>a.l?a.slice(0,a.l):a}function OR(t,s,r){var a={};a.NumberFmt=[];for(var n in As)a.NumberFmt[n]=As[n];a.CellXf=[],a.Fonts=[];var l=[],i=!1;return ki(t,function(x,h,m){switch(m){case 44:a.NumberFmt[x[0]]=x[1],yi(x[1],x[0]);break;case 43:a.Fonts.push(x),x.color.theme!=null&&s&&s.themeElements&&s.themeElements.clrScheme&&(x.color.rgb=Ip(s.themeElements.clrScheme[x.color.theme].rgb,x.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:l[l.length-1]==617&&a.CellXf.push(x);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:l.push(m),i=!0;break;case 38:l.pop(),i=!1;break;default:if(h.T>0)l.push(m);else if(h.T<0)l.pop();else if(!i||r.WTF&&l[l.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),a}function BR(t,s){if(s){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)s[n]!=null&&++r}),r!=0&&(Yt(t,615,xl(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)s[n]!=null&&Yt(t,44,DR(n,s[n]))}),Yt(t,616))}}function RR(t){var s=1;Yt(t,611,xl(s)),Yt(t,43,TR({sz:12,color:{theme:1},name:"Calibri",family:2})),Yt(t,612)}function HR(t){var s=2;Yt(t,603,xl(s)),Yt(t,45,J1({patternType:"none"})),Yt(t,45,J1({patternType:"gray125"})),Yt(t,604)}function UR(t){var s=1;Yt(t,613,xl(s)),Yt(t,46,IR()),Yt(t,614)}function WR(t){var s=1;Yt(t,626,xl(s)),Yt(t,47,Uk({numFmtId:0},65535)),Yt(t,627)}function GR(t,s){Yt(t,617,xl(s.length)),s.forEach(function(r){Yt(t,47,Uk(r,0))}),Yt(t,618)}function $R(t){var s=1;Yt(t,619,xl(s)),Yt(t,48,LR({xfId:0,name:"Normal"})),Yt(t,620)}function zR(t){var s=0;Yt(t,505,xl(s)),Yt(t,506)}function VR(t){var s=0;Yt(t,508,_R(s,"TableStyleMedium9","PivotStyleMedium4")),Yt(t,509)}function YR(t,s){var r=to();return Yt(r,278),BR(r,t.SSF),RR(r),HR(r),UR(r),WR(r),GR(r,s.cellXfs),$R(r),zR(r),VR(r),Yt(r,279),r.end()}var KR=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function qR(t,s,r){s.themeElements.clrScheme=[];var a={};(t[0].match(Tn)||[]).forEach(function(n){var l=Is(n);switch(l[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":a.rgb=l.val;break;case"<a:sysClr":a.rgb=l.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":l[0].charAt(1)==="/"?(s.themeElements.clrScheme[KR.indexOf(l[0])]=a,a={}):a.name=l[0].slice(3,l[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+l[0]+" in clrScheme")}})}function XR(){}function JR(){}var QR=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ZR=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,e9=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function t9(t,s,r){s.themeElements={};var a;[["clrScheme",QR,qR],["fontScheme",ZR,XR],["fmtScheme",e9,JR]].forEach(function(n){if(!(a=t.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](a,s,r)})}var s9=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Wk(t,s){(!t||t.length===0)&&(t=hv());var r,a={};if(!(r=t.match(s9)))throw new Error("themeElements not found in theme");return t9(r[0],a,s),a.raw=t,a}function hv(t,s){if(s&&s.themeXLSX)return s.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[ja];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function r9(t,s,r){var a=t.l+s,n=t.read_shift(4);if(n!==124226){if(!r.cellStyles){t.l=a;return}var l=t.slice(t.l);t.l=a;var i;try{i=IS(l,{type:"array"})}catch{return}var d=fo(i,"theme/theme/theme1.xml",!0);if(d)return Wk(d,r)}}function a9(t){return t.read_shift(4)}function n9(t){var s={};switch(s.xclrType=t.read_shift(2),s.nTintShade=t.read_shift(2),s.xclrType){case 0:t.l+=4;break;case 1:s.xclrValue=o9(t,4);break;case 2:s.xclrValue=wk(t);break;case 3:s.xclrValue=a9(t);break;case 4:t.l+=4;break}return t.l+=8,s}function o9(t,s){return En(t,s)}function l9(t,s){return En(t,s)}function i9(t){var s=t.read_shift(2),r=t.read_shift(2)-4,a=[s];switch(s){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:a[1]=n9(t);break;case 6:a[1]=l9(t,r);break;case 14:case 15:a[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+s+" "+r)}return a}function c9(t,s){var r=t.l+s;t.l+=2;var a=t.read_shift(2);t.l+=2;for(var n=t.read_shift(2),l=[];n-- >0;)l.push(i9(t,r-t.l));return{ixfe:a,ext:l}}function d9(t,s){s.forEach(function(r){r[0]})}function u9(t,s){return{flags:t.read_shift(4),version:t.read_shift(4),name:Sn(t)}}function x9(t){var s=Wt(12+2*t.name.length);return s.write_shift(4,t.flags),s.write_shift(4,t.version),Ya(t.name,s),s.slice(0,s.l)}function h9(t){for(var s=[],r=t.read_shift(4);r-- >0;)s.push([t.read_shift(4),t.read_shift(4)]);return s}function m9(t){var s=Wt(4+8*t.length);s.write_shift(4,t.length);for(var r=0;r<t.length;++r)s.write_shift(4,t[r][0]),s.write_shift(4,t[r][1]);return s}function p9(t,s){var r=Wt(8+2*s.length);return r.write_shift(4,t),Ya(s,r),r.slice(0,r.l)}function f9(t){return t.l+=4,t.read_shift(4)!=0}function g9(t,s){var r=Wt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function y9(t,s,r){var a={Types:[],Cell:[],Value:[]},n=r||{},l=[],i=!1,d=2;return ki(t,function(x,h,m){switch(m){case 335:a.Types.push({name:x.name});break;case 51:x.forEach(function(b){d==1?a.Cell.push({type:a.Types[b[0]-1].name,index:b[1]}):d==0&&a.Value.push({type:a.Types[b[0]-1].name,index:b[1]})});break;case 337:d=x?1:0;break;case 338:d=2;break;case 35:l.push(m),i=!0;break;case 36:l.pop(),i=!1;break;default:if(!h.T){if(!i||n.WTF&&l[l.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),a}function b9(){var t=to();return Yt(t,332),Yt(t,334,xl(1)),Yt(t,335,x9({name:"XLDAPR",version:12e4,flags:3496657072})),Yt(t,336),Yt(t,339,p9(1,"XLDAPR")),Yt(t,52),Yt(t,35,xl(514)),Yt(t,4096,xl(0)),Yt(t,4097,Lo(1)),Yt(t,36),Yt(t,53),Yt(t,340),Yt(t,337,g9(1)),Yt(t,51,m9([[1,0]])),Yt(t,338),Yt(t,333),t.end()}function v9(t,s,r){var a={Types:[],Cell:[],Value:[]};if(!t)return a;var n=!1,l=2,i;return t.replace(Tn,function(d){var x=Is(d);switch(Kl(x[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":a.Types.push({name:x.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<a.Types.length;++h)a.Types[h].name==x.name&&(i=a.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":l==1?a.Cell.push({type:a.Types[x.t-1].name,index:+x.v}):l==0&&a.Value.push({type:a.Types[x.t-1].name,index:+x.v});break;case"</rc>":break;case"<cellMetadata":l=1;break;case"</cellMetadata>":l=2;break;case"<valueMetadata":l=0;break;case"</valueMetadata>":l=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+x.i);break;default:if(!n&&r.WTF)throw new Error("unrecognized "+x[0]+" in metadata")}return d}),a}function Gk(){var t=[ja];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function w9(t){var s=[];if(!t)return s;var r=1;return(t.match(Tn)||[]).forEach(function(a){var n=Is(a);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,s.push(n);break}}),s}function N9(t){var s={};s.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),s.r=Ps(r);var a=t.read_shift(1);return a&2&&(s.l="1"),a&8&&(s.a="1"),s}function j9(t,s,r){var a=[];return ki(t,function(l,i,d){switch(d){case 63:a.push(l);break;default:if(!i.T)throw new Error("Unexpected record 0x"+d.toString(16))}}),a}function C9(t,s,r,a){if(!t)return t;var n=a||{},l=!1;ki(t,function(d,x,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:l=!0;break;case 36:l=!1;break;default:if(!x.T){if(!l||n.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},n)}function S9(t,s){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return s["!id"][r].Target}var f0=1024;function $k(t,s){for(var r=[21600,21600],a=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),n=[ts("xml",null,{"xmlns:v":ho.v,"xmlns:o":ho.o,"xmlns:x":ho.x,"xmlns:mv":ho.mv}).replace(/\/>/,">"),ts("o:shapelayout",ts("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ts("v:shapetype",[ts("v:stroke",null,{joinstyle:"miter"}),ts("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:a})];f0<t*1e3;)f0+=1e3;return s.forEach(function(l){var i=aa(l[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var x=d.type=="gradient"?ts("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=ts("v:fill",x,d),m={on:"t",obscured:"t"};++f0,n=n.concat(["<v:shape"+Zu({id:"_x0000_s"+f0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,ts("v:shadow",null,m),ts("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",on("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),on("x:AutoFill","False"),on("x:Row",String(i.r)),on("x:Column",String(i.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function Q1(t,s,r,a){var n=Array.isArray(t),l;s.forEach(function(i){var d=aa(i.ref);if(n?(t[d.r]||(t[d.r]=[]),l=t[d.r][d.c]):l=t[i.ref],!l){l={t:"z"},n?t[d.r][d.c]=l:t[i.ref]=l;var x=nr(t["!ref"]||"BDWGO1000001:A1");x.s.r>d.r&&(x.s.r=d.r),x.e.r<d.r&&(x.e.r=d.r),x.s.c>d.c&&(x.s.c=d.c),x.e.c<d.c&&(x.e.c=d.c);var h=Rs(x);h!==t["!ref"]&&(t["!ref"]=h)}l.c||(l.c=[]);var m={a:i.author,t:i.t,r:i.r,T:r};i.h&&(m.h=i.h);for(var b=l.c.length-1;b>=0;--b){if(!r&&l.c[b].T)return;r&&!l.c[b].T&&l.c.splice(b,1)}if(r&&a){for(b=0;b<a.length;++b)if(m.a==a[b].id){m.a=a[b].name||m.a;break}}l.c.push(m)})}function k9(t,s){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],a=[],n=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var d=i.match(/<(?:\w+:)?author[^>]*>(.*)/);d&&r.push(d[1])}});var l=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return l&&l[1]&&l[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var d=i.match(/<(?:\w+:)?comment[^>]*>/);if(d){var x=Is(d[0]),h={author:x.authorId&&r[x.authorId]||"sheetjsghost",ref:x.ref,guid:x.guid},m=aa(x.ref);if(!(s.sheetRows&&s.sheetRows<=m.r)){var b=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),f=!!b&&!!b[1]&&dv(b[1])||{r:"",t:"",h:""};h.r=f.r,f.r=="<t></t>"&&(f.t=f.h=""),h.t=(f.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),s.cellHTML&&(h.h=f.h),a.push(h)}}}}),a}function zk(t){var s=[ja,ts("comments",null,{xmlns:wd[0]})],r=[];return s.push("<authors>"),t.forEach(function(a){a[1].forEach(function(n){var l=Tr(n.a);r.indexOf(l)==-1&&(r.push(l),s.push("<author>"+l+"</author>")),n.T&&n.ID&&r.indexOf("tc="+n.ID)==-1&&(r.push("tc="+n.ID),s.push("<author>tc="+n.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),s.push("<author>SheetJ5</author>")),s.push("</authors>"),s.push("<commentList>"),t.forEach(function(a){var n=0,l=[];if(a[1][0]&&a[1][0].T&&a[1][0].ID?n=r.indexOf("tc="+a[1][0].ID):a[1].forEach(function(x){x.a&&(n=r.indexOf(Tr(x.a))),l.push(x.t||"")}),s.push('<comment ref="'+a[0]+'" authorId="'+n+'"><text>'),l.length<=1)s.push(on("t",Tr(l[0]||"")));else{for(var i=`Comment:
    `+l[0]+`
`,d=1;d<l.length;++d)i+=`Reply:
    `+l[d]+`
`;s.push(on("t",Tr(i)))}s.push("</text></comment>")}),s.push("</commentList>"),s.length>2&&(s[s.length]="</comments>",s[1]=s[1].replace("/>",">")),s.join("")}function D9(t,s){var r=[],a=!1,n={},l=0;return t.replace(Tn,function(d,x){var h=Is(d);switch(Kl(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":n.t!=null&&r.push(n);break;case"<text>":case"<text":l=x+d.length;break;case"</text>":n.t=t.slice(l,x).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":a=!0;break;case"</mentions>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&s.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return d}),r}function E9(t,s,r){var a=[ja,ts("ThreadedComments",null,{xmlns:Pa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(n){var l="";(n[1]||[]).forEach(function(i,d){if(!i.T){delete i.ID;return}i.a&&s.indexOf(i.a)==-1&&s.push(i.a);var x={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};d==0?l=x.id:x.parentId=l,i.ID=x.id,i.a&&(x.personId="{54EE7950-7262-4200-6969-"+("000000000000"+s.indexOf(i.a)).slice(-12)+"}"),a.push(ts("threadedComment",on("text",i.t||""),x))})}),a.push("</ThreadedComments>"),a.join("")}function T9(t,s){var r=[],a=!1;return t.replace(Tn,function(l){var i=Is(l);switch(Kl(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(!a&&s.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return l}),r}function A9(t){var s=[ja,ts("personList",null,{xmlns:Pa.TCMNT,"xmlns:x":wd[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,a){s.push(ts("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:r,providerId:"None"}))}),s.push("</personList>"),s.join("")}function F9(t){var s={};s.iauthor=t.read_shift(4);var r=Sd(t);return s.rfx=r.s,s.ref=Ps(r.s),t.l+=16,s}function P9(t,s){return s==null&&(s=Wt(36)),s.write_shift(4,t[1].iauthor),K0(t[0],s),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s}var M9=Sn;function I9(t){return Ya(t.slice(0,54))}function L9(t,s){var r=[],a=[],n={},l=!1;return ki(t,function(d,x,h){switch(h){case 632:a.push(d);break;case 635:n=d;break;case 637:n.t=d.t,n.h=d.h,n.r=d.r;break;case 636:if(n.author=a[n.iauthor],delete n.iauthor,s.sheetRows&&n.rfx&&s.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,r.push(n);break;case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!x.T){if(!l||s.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function _9(t){var s=to(),r=[];return Yt(s,628),Yt(s,630),t.forEach(function(a){a[1].forEach(function(n){r.indexOf(n.a)>-1||(r.push(n.a.slice(0,54)),Yt(s,632,I9(n.a)))})}),Yt(s,631),Yt(s,633),t.forEach(function(a){a[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var l={s:aa(a[0]),e:aa(a[0])};Yt(s,635,P9([l,n])),n.t&&n.t.length>0&&Yt(s,637,a_(n)),Yt(s,636),delete n.iauthor})}),Yt(s,634),Yt(s,629),s.end()}var O9="application/vnd.ms-office.vbaProject";function B9(t){var s=ks.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,a){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var n=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ks.utils.cfb_add(s,n,t.FileIndex[a].content)}}),ks.write(s)}function R9(t,s){s.FullPaths.forEach(function(r,a){if(a!=0){var n=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&ks.utils.cfb_add(t,n,s.FileIndex[a].content)}})}var Vk=["xlsb","xlsm","xlam","biff8","xla"];function H9(){return{"!type":"dialog"}}function U9(){return{"!type":"dialog"}}function W9(){return{"!type":"macro"}}function G9(){return{"!type":"macro"}}var N0=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,s={r:0,c:0};function r(a,n,l,i){var d=!1,x=!1;l.length==0?x=!0:l.charAt(0)=="["&&(x=!0,l=l.slice(1,-1)),i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1));var h=l.length>0?parseInt(l,10)|0:0,m=i.length>0?parseInt(i,10)|0:0;return d?m+=s.c:--m,x?h+=s.r:--h,n+(d?"":"$")+ra(m)+(x?"":"$")+ba(h)}return function(n,l){return s=l,n.replace(t,r)}})(),mv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pv=(function(){return function(s,r){return s.replace(mv,function(a,n,l,i,d,x){var h=tv(i)-(l?0:r.c),m=ev(x)-(d?0:r.r),b=m==0?"":d?m+1:"["+m+"]",f=h==0?"":l?h+1:"["+h+"]";return n+"R"+b+"C"+f})}})();function Yk(t,s){return t.replace(mv,function(r,a,n,l,i,d){return a+(n=="$"?n+l:ra(tv(l)+s.c))+(i=="$"?i+d:ba(ev(d)+s.r))})}function $9(t,s,r){var a=ro(s),n=a.s,l=aa(r),i={r:l.r-n.r,c:l.c-n.c};return Yk(t,i)}function z9(t){return t.length!=1}function Z1(t){return t.replace(/_xlfn\./g,"")}function ka(t){t.l+=1}function mc(t,s){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Kk(t,s,r){var a=2;if(r){if(r.biff>=2&&r.biff<=5)return qk(t);r.biff==12&&(a=4)}var n=t.read_shift(a),l=t.read_shift(a),i=mc(t),d=mc(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:l,c:d[0],cRel:d[1],rRel:d[2]}}}function qk(t){var s=mc(t),r=mc(t),a=t.read_shift(1),n=t.read_shift(1);return{s:{r:s[0],c:a,cRel:s[1],rRel:s[2]},e:{r:r[0],c:n,cRel:r[1],rRel:r[2]}}}function V9(t,s,r){if(r.biff<8)return qk(t);var a=t.read_shift(r.biff==12?4:2),n=t.read_shift(r.biff==12?4:2),l=mc(t),i=mc(t);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:n,c:i[0],cRel:i[1],rRel:i[2]}}}function Xk(t,s,r){if(r&&r.biff>=2&&r.biff<=5)return Y9(t);var a=t.read_shift(r&&r.biff==12?4:2),n=mc(t);return{r:a,c:n[0],cRel:n[1],rRel:n[2]}}function Y9(t){var s=mc(t),r=t.read_shift(1);return{r:s[0],c:r,cRel:s[1],rRel:s[2]}}function K9(t){var s=t.read_shift(2),r=t.read_shift(2);return{r:s,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function q9(t,s,r){var a=r&&r.biff?r.biff:8;if(a>=2&&a<=5)return X9(t);var n=t.read_shift(a>=12?4:2),l=t.read_shift(2),i=(l&16384)>>14,d=(l&32768)>>15;if(l&=16383,d==1)for(;n>524287;)n-=1048576;if(i==1)for(;l>8191;)l=l-16384;return{r:n,c:l,cRel:i,rRel:d}}function X9(t){var s=t.read_shift(2),r=t.read_shift(1),a=(s&32768)>>15,n=(s&16384)>>14;return s&=16383,a==1&&s>=8192&&(s=s-16384),n==1&&r>=128&&(r=r-256),{r:s,c:r,cRel:n,rRel:a}}function J9(t,s,r){var a=(t[t.l++]&96)>>5,n=Kk(t,r.biff>=2&&r.biff<=5?6:8,r);return[a,n]}function Q9(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2,"i"),l=8;if(r)switch(r.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}var i=Kk(t,l,r);return[a,n,i]}function Z9(t,s,r){var a=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[a]}function eH(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2),l=8;if(r)switch(r.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}return t.l+=l,[a,n]}function tH(t,s,r){var a=(t[t.l++]&96)>>5,n=V9(t,s-1,r);return[a,n]}function sH(t,s,r){var a=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[a]}function e2(t){var s=t[t.l+1]&1,r=1;return t.l+=4,[s,r]}function rH(t,s,r){t.l+=2;for(var a=t.read_shift(r&&r.biff==2?1:2),n=[],l=0;l<=a;++l)n.push(t.read_shift(r&&r.biff==2?1:2));return n}function aH(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function nH(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(r&&r.biff==2?1:2)]}function oH(t){var s=t[t.l+1]&255?1:0;return t.l+=2,[s,t.read_shift(2)]}function lH(t,s,r){var a=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[a]}function Jk(t){var s=t.read_shift(1),r=t.read_shift(1);return[s,r]}function iH(t){return t.read_shift(2),Jk(t)}function cH(t){return t.read_shift(2),Jk(t)}function dH(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=Xk(t,0,r);return[a,n]}function uH(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=q9(t,0,r);return[a,n]}function xH(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var l=Xk(t,0,r);return[a,n,l]}function hH(t,s,r){var a=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(r&&r.biff<=3?1:2);return[fU[n],e3[n],a]}function mH(t,s,r){var a=t[t.l++],n=t.read_shift(1),l=r&&r.biff<=3?[a==88?-1:0,t.read_shift(1)]:pH(t);return[n,(l[0]===0?e3:pU)[l[1]]]}function pH(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function fH(t,s,r){t.l+=r&&r.biff==2?3:4}function gH(t,s,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var a=t.read_shift(2),n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function yH(t){return t.l++,Di[t.read_shift(1)]}function bH(t){return t.l++,t.read_shift(2)}function vH(t){return t.l++,t.read_shift(1)!==0}function wH(t){return t.l++,Cn(t)}function NH(t,s,r){return t.l++,Ax(t,s-1,r)}function jH(t,s){var r=[t.read_shift(1)];if(s==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fa(t,1)?"TRUE":"FALSE",s!=12&&(t.l+=7);break;case 37:case 16:r[1]=Di[t[t.l]],t.l+=s==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Cn(t);break;case 2:r[1]=kd(t,0,{biff:s>0&&s<8?2:s});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function CH(t,s,r){for(var a=t.read_shift(r.biff==12?4:2),n=[],l=0;l!=a;++l)n.push((r.biff==12?Sd:uf)(t));return n}function SH(t,s,r){var a=0,n=0;r.biff==12?(a=t.read_shift(4),n=t.read_shift(4)):(n=1+t.read_shift(1),a=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--a,--n==0&&(n=256));for(var l=0,i=[];l!=a&&(i[l]=[]);++l)for(var d=0;d!=n;++d)i[l][d]=jH(t,r.biff);return i}function kH(t,s,r){var a=t.read_shift(1)>>>5&3,n=!r||r.biff>=8?4:2,l=t.read_shift(n);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[a,0,l]}function DH(t,s,r){if(r.biff==5)return EH(t);var a=t.read_shift(1)>>>5&3,n=t.read_shift(2),l=t.read_shift(4);return[a,n,l]}function EH(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var a=t.read_shift(2);return t.l+=12,[s,r,a]}function TH(t,s,r){var a=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function AH(t,s,r){var a=t.read_shift(1)>>>5&3,n=t.read_shift(r&&r.biff==2?1:2);return[a,n]}function FH(t,s,r){var a=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[a]}function PH(t,s,r){var a=(t[t.l++]&96)>>5,n=t.read_shift(2),l=4;if(r)switch(r.biff){case 5:l=15;break;case 12:l=6;break}return t.l+=l,[a,n]}var MH=En,IH=En,LH=En;function Px(t,s,r){return t.l+=2,[K9(t)]}function fv(t){return t.l+=6,[]}var _H=Px,OH=fv,BH=fv,RH=Px;function Qk(t){return t.l+=2,[Ea(t),t.read_shift(2)&1]}var HH=Px,UH=Qk,WH=fv,GH=Px,$H=Px,zH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function VH(t){t.l+=2;var s=t.read_shift(2),r=t.read_shift(2),a=t.read_shift(4),n=t.read_shift(2),l=t.read_shift(2),i=zH[r>>2&31];return{ixti:s,coltype:r&3,rt:i,idx:a,c:n,C:l}}function YH(t){return t.l+=2,[t.read_shift(4)]}function KH(t,s,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function qH(t,s,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function XH(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function JH(t){var s=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[s,r]}function QH(t){return t.l+=4,[0,0]}var t2={1:{n:"PtgExp",f:gH},2:{n:"PtgTbl",f:LH},3:{n:"PtgAdd",f:ka},4:{n:"PtgSub",f:ka},5:{n:"PtgMul",f:ka},6:{n:"PtgDiv",f:ka},7:{n:"PtgPower",f:ka},8:{n:"PtgConcat",f:ka},9:{n:"PtgLt",f:ka},10:{n:"PtgLe",f:ka},11:{n:"PtgEq",f:ka},12:{n:"PtgGe",f:ka},13:{n:"PtgGt",f:ka},14:{n:"PtgNe",f:ka},15:{n:"PtgIsect",f:ka},16:{n:"PtgUnion",f:ka},17:{n:"PtgRange",f:ka},18:{n:"PtgUplus",f:ka},19:{n:"PtgUminus",f:ka},20:{n:"PtgPercent",f:ka},21:{n:"PtgParen",f:ka},22:{n:"PtgMissArg",f:ka},23:{n:"PtgStr",f:NH},26:{n:"PtgSheet",f:KH},27:{n:"PtgEndSheet",f:qH},28:{n:"PtgErr",f:yH},29:{n:"PtgBool",f:vH},30:{n:"PtgInt",f:bH},31:{n:"PtgNum",f:wH},32:{n:"PtgArray",f:sH},33:{n:"PtgFunc",f:hH},34:{n:"PtgFuncVar",f:mH},35:{n:"PtgName",f:kH},36:{n:"PtgRef",f:dH},37:{n:"PtgArea",f:J9},38:{n:"PtgMemArea",f:TH},39:{n:"PtgMemErr",f:MH},40:{n:"PtgMemNoMem",f:IH},41:{n:"PtgMemFunc",f:AH},42:{n:"PtgRefErr",f:FH},43:{n:"PtgAreaErr",f:Z9},44:{n:"PtgRefN",f:uH},45:{n:"PtgAreaN",f:tH},46:{n:"PtgMemAreaN",f:XH},47:{n:"PtgMemNoMemN",f:JH},57:{n:"PtgNameX",f:DH},58:{n:"PtgRef3d",f:xH},59:{n:"PtgArea3d",f:Q9},60:{n:"PtgRefErr3d",f:PH},61:{n:"PtgAreaErr3d",f:eH},255:{}},ZH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},eU={1:{n:"PtgElfLel",f:Qk},2:{n:"PtgElfRw",f:GH},3:{n:"PtgElfCol",f:_H},6:{n:"PtgElfRwV",f:$H},7:{n:"PtgElfColV",f:RH},10:{n:"PtgElfRadical",f:HH},11:{n:"PtgElfRadicalS",f:WH},13:{n:"PtgElfColS",f:OH},15:{n:"PtgElfColSV",f:BH},16:{n:"PtgElfRadicalLel",f:UH},25:{n:"PtgList",f:VH},29:{n:"PtgSxName",f:YH},255:{}},tU={0:{n:"PtgAttrNoop",f:QH},1:{n:"PtgAttrSemi",f:lH},2:{n:"PtgAttrIf",f:nH},4:{n:"PtgAttrChoose",f:rH},8:{n:"PtgAttrGoto",f:aH},16:{n:"PtgAttrSum",f:fH},32:{n:"PtgAttrBaxcel",f:e2},33:{n:"PtgAttrBaxcel",f:e2},64:{n:"PtgAttrSpace",f:iH},65:{n:"PtgAttrSpaceSemi",f:cH},128:{n:"PtgAttrIfError",f:oH},255:{}};function Mx(t,s,r,a){if(a.biff<8)return En(t,s);for(var n=t.l+s,l=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=SH(t,0,a),l.push(r[i][1]);break;case"PtgMemArea":r[i][2]=CH(t,r[i][1],a),l.push(r[i][2]);break;case"PtgExp":a&&a.biff==12&&(r[i][1][1]=t.read_shift(4),l.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return s=n-t.l,s!==0&&l.push(En(t,s)),l}function Ix(t,s,r){for(var a=t.l+s,n,l,i=[];a!=t.l;)s=a-t.l,l=t[t.l],n=t2[l]||t2[ZH[l]],(l===24||l===25)&&(n=(l===24?eU:tU)[t[t.l+1]]),!n||!n.f?En(t,s):i.push([n.n,n.f(t,s,r)]);return i}function sU(t){for(var s=[],r=0;r<t.length;++r){for(var a=t[r],n=[],l=0;l<a.length;++l){var i=a[l];if(i)switch(i[0]){case 2:n.push('"'+i[1].replace(/"/g,'""')+'"');break;default:n.push(i[1])}else n.push("")}s.push(n.join(","))}return s.join(";")}var rU={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function aU(t,s){if(!t&&!(s&&s.biff<=5&&s.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Zk(t,s,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[s]))return t.SheetNames[s];if(!t.XTI)return"SH33TJSERR6";var a=t.XTI[s];if(r.biff<8)return s>1e4&&(s-=65536),s<0&&(s=-s),s==0?"":t.XTI[s-1];if(!a)return"SH33TJSERR1";var n="";if(r.biff>8)switch(t[a[0]][0]){case 357:return n=a[1]==-1?"#REF":t.SheetNames[a[1]],a[1]==a[2]?n:n+":"+t.SheetNames[a[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[a[0]][0];case 355:default:return"SH33TJSSRC"+t[a[0]][0]}switch(t[a[0]][0][0]){case 1025:return n=a[1]==-1?"#REF":t.SheetNames[a[1]]||"SH33TJSERR3",a[1]==a[2]?n:n+":"+t.SheetNames[a[2]];case 14849:return t[a[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return t[a[0]][0][3]?(n=a[1]==-1?"#REF":t[a[0]][0][3][a[1]]||"SH33TJSERR4",a[1]==a[2]?n:n+":"+t[a[0]][0][3][a[2]]):"SH33TJSERR2"}}function s2(t,s,r){var a=Zk(t,s,r);return a=="#REF"?a:aU(a,r)}function wn(t,s,r,a,n){var l=n&&n.biff||8,i={s:{c:0,r:0}},d=[],x,h,m,b=0,f=0,N,p="";if(!t[0]||!t[0][0])return"";for(var v=-1,g="",y=0,C=t[0].length;y<C;++y){var j=t[0][y];switch(j[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(x=d.pop(),h=d.pop(),v>=0){switch(t[0][v][1][0]){case 0:g=ca(" ",t[0][v][1][1]);break;case 1:g=ca("\r",t[0][v][1][1]);break;default:if(g="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}h=h+g,v=-1}d.push(h+rU[j[0]]+x);break;case"PtgIsect":x=d.pop(),h=d.pop(),d.push(h+" "+x);break;case"PtgUnion":x=d.pop(),h=d.pop(),d.push(h+","+x);break;case"PtgRange":x=d.pop(),h=d.pop(),d.push(h+":"+x);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=Ru(j[1][1],i,n),d.push(Hu(m,l));break;case"PtgRefN":m=r?Ru(j[1][1],r,n):j[1][1],d.push(Hu(m,l));break;case"PtgRef3d":b=j[1][1],m=Ru(j[1][2],i,n),p=s2(a,b,n),d.push(p+"!"+Hu(m,l));break;case"PtgFunc":case"PtgFuncVar":var S=j[1][0],P=j[1][1];S||(S=0),S&=127;var D=S==0?[]:d.slice(-S);d.length-=S,P==="User"&&(P=D.shift()),d.push(P+"("+D.join(",")+")");break;case"PtgBool":d.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(j[1]);break;case"PtgNum":d.push(String(j[1]));break;case"PtgStr":d.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(j[1]);break;case"PtgAreaN":N=F1(j[1][1],r?{s:r}:i,n),d.push(Zg(N,n));break;case"PtgArea":N=F1(j[1][1],i,n),d.push(Zg(N,n));break;case"PtgArea3d":b=j[1][1],N=j[1][2],p=s2(a,b,n),d.push(p+"!"+Zg(N,n));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=j[1][2];var T=(a.names||[])[f-1]||(a[0]||[])[f],A=T?T.Name:"SH33TJSNAME"+String(f);A&&A.slice(0,6)=="_xlfn."&&!n.xlfn&&(A=A.slice(6)),d.push(A);break;case"PtgNameX":var M=j[1][1];f=j[1][2];var L;if(n.biff<=5)M<0&&(M=-M),a[M]&&(L=a[M][f]);else{var q="";if(((a[M]||[])[0]||[])[0]==14849||(((a[M]||[])[0]||[])[0]==1025?a[M][f]&&a[M][f].itab>0&&(q=a.SheetNames[a[M][f].itab-1]+"!"):q=a.SheetNames[f-1]+"!"),a[M]&&a[M][f])q+=a[M][f].Name;else if(a[0]&&a[0][f])q+=a[0][f].Name;else{var B=(Zk(a,M,n)||"").split(";;");B[f-1]?q=B[f-1]:q+="SH33TJSERRX"}d.push(q);break}L||(L={Name:"SH33TJSERRY"}),d.push(L.Name);break;case"PtgParen":var te="(",oe=")";if(v>=0){switch(g="",t[0][v][1][0]){case 2:te=ca(" ",t[0][v][1][1])+te;break;case 3:te=ca("\r",t[0][v][1][1])+te;break;case 4:oe=ca(" ",t[0][v][1][1])+oe;break;case 5:oe=ca("\r",t[0][v][1][1])+oe;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}d.push(te+d.pop()+oe);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":m={c:j[1][1],r:j[1][0]};var fe={c:r.c,r:r.r};if(a.sharedf[Ps(m)]){var R=a.sharedf[Ps(m)];d.push(wn(R,i,fe,a,n))}else{var V=!1;for(x=0;x!=a.arrayf.length;++x)if(h=a.arrayf[x],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){d.push(wn(h[1],i,fe,a,n)),V=!0;break}V||d.push(j[1])}break;case"PtgArray":d.push("{"+sU(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var W=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&v>=0&&W.indexOf(t[0][y][0])==-1){j=t[0][v];var ne=!0;switch(j[1][0]){case 4:ne=!1;case 0:g=ca(" ",j[1][1]);break;case 5:ne=!1;case 1:g=ca("\r",j[1][1]);break;default:if(g="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}d.push((ne?g:"")+d.pop()+(ne?"":g)),v=-1}}if(d.length>1&&n.WTF)throw new Error("bad formula stack");return d[0]}function nU(t,s,r){var a=t.l+s,n=r.biff==2?1:2,l,i=t.read_shift(n);if(i==65535)return[[],En(t,s-2)];var d=Ix(t,i,r);return s!==i+n&&(l=Mx(t,s-i-n,d,r)),t.l=a,[d,l]}function oU(t,s,r){var a=t.l+s,n=r.biff==2?1:2,l,i=t.read_shift(n);if(i==65535)return[[],En(t,s-2)];var d=Ix(t,i,r);return s!==i+n&&(l=Mx(t,s-i-n,d,r)),t.l=a,[d,l]}function lU(t,s,r,a){var n=t.l+s,l=Ix(t,a,r),i;return n!==t.l&&(i=Mx(t,n-t.l,l,r)),[l,i]}function iU(t,s,r){var a=t.l+s,n,l=t.read_shift(2),i=Ix(t,l,r);return l==65535?[[],En(t,s-2)]:(s!==l+2&&(n=Mx(t,a-l-2,i,r)),[i,n])}function cU(t){var s;if(mi(t,t.l+6)!==65535)return[Cn(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return s=t[t.l+2]===1,t.l+=8,[s,"b"];case 2:return s=t[t.l+2],t.l+=8,[s,"e"];case 3:return t.l+=8,["","s"]}return[]}function dU(t){if(t==null){var s=Wt(8);return s.write_shift(1,3),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,65535),s}else if(typeof t=="number")return xd(t);return xd(0)}function ay(t,s,r){var a=t.l+s,n=ql(t);r.biff==2&&++t.l;var l=cU(t),i=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var d=oU(t,a-t.l,r);return{cell:n,val:l[0],formula:d,shared:i>>3&1,tt:l[1]}}function uU(t,s,r,a,n){var l=md(s,r,n),i=dU(t.v),d=Wt(6),x=33;d.write_shift(2,x),d.write_shift(4,0);for(var h=Wt(t.bf.length),m=0;m<t.bf.length;++m)h[m]=t.bf[m];var b=Va([l,i,d,h]);return b}function xf(t,s,r){var a=t.read_shift(4),n=Ix(t,a,r),l=t.read_shift(4),i=l>0?Mx(t,l,n,r):null;return[n,i]}var xU=xf,hf=xf,hU=xf,mU=xf,pU={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},e3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fU={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function r2(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(s,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function gU(t){var s="of:="+t.replace(mv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return s.replace(/;/g,"|").replace(/,/g,";")}function ny(t){var s=t.split(":"),r=s[0].split(".")[0];return[r,s[0].split(".")[1]+(s.length>1?":"+(s[1].split(".")[1]||s[1].split(".")[0]):"")]}function yU(t){return t.replace(/\./,"!")}var Wu={},j0={},Gu=typeof Map<"u";function gv(t,s,r){var a=0,n=t.length;if(r){if(Gu?r.has(s):Object.prototype.hasOwnProperty.call(r,s)){for(var l=Gu?r.get(s):r[s];a<l.length;++a)if(t[l[a]].t===s)return t.Count++,l[a]}}else for(;a<n;++a)if(t[a].t===s)return t.Count++,a;return t[n]={t:s},t.Count++,t.Unique++,r&&(Gu?(r.has(s)||r.set(s,[]),r.get(s).push(n)):(Object.prototype.hasOwnProperty.call(r,s)||(r[s]=[]),r[s].push(n))),n}function mf(t,s){var r={min:t+1,max:t+1},a=-1;return s.MDW&&(Nn=s.MDW),s.width!=null?r.customWidth=1:s.wpx!=null?a=ax(s.wpx):s.wch!=null&&(a=s.wch),a>-1?(r.width=Lp(a),r.customWidth=1):s.width!=null&&(r.width=s.width),s.hidden&&(r.hidden=!0),s.level!=null&&(r.outlineLevel=r.level=s.level),r}function od(t,s){if(t){var r=[.7,.7,.75,.75,.3,.3];s=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function wc(t,s,r){var a=r.revssf[s.z!=null?s.z:"General"],n=60,l=t.length;if(a==null&&r.ssf){for(;n<392;++n)if(r.ssf[n]==null){yi(s.z,n),r.ssf[n]=s.z,r.revssf[s.z]=a=n;break}}for(n=0;n!=l;++n)if(t[n].numFmtId===a)return n;return t[l]={numFmtId:a,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function t3(t,s,r,a,n,l){try{a.cellNF&&(t.z=As[s])}catch(d){if(a.WTF)throw d}if(!(t.t==="z"&&!a.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Kr(t.v)),(!a||a.cellText!==!1)&&t.t!=="z")try{if(As[s]==null&&yi(p8[s]||"General",s),t.t==="e")t.w=t.w||Di[t.v];else if(s===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ju(t.v);else if(t.t==="d"){var i=Ma(t.v);(i|0)===i?t.w=i.toString(10):t.w=Ju(i)}else{if(t.v===void 0)return"";t.w=dd(t.v,j0)}else t.t==="d"?t.w=Bo(s,Ma(t.v),j0):t.w=Bo(s,t.v,j0)}catch(d){if(a.WTF)throw d}if(a.cellStyles&&r!=null)try{t.s=l.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Ip(n.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),a.WTF&&(t.s.fgColor.raw_rgb=n.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Ip(n.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),a.WTF&&(t.s.bgColor.raw_rgb=n.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(d){if(a.WTF&&l.Fills)throw d}}}function bU(t,s,r){if(t&&t["!ref"]){var a=nr(t["!ref"]);if(a.e.c<a.s.c||a.e.r<a.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function vU(t,s){var r=nr(s);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Rs(r))}var wU=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,NU=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,jU=/<(?:\w:)?hyperlink [^>]*>/mg,CU=/"(\w*:\w*)"/,SU=/<(?:\w:)?col\b[^>]*[\/]?>/g,kU=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,DU=/<(?:\w:)?pageMargins[^>]*\/>/g,s3=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,EU=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,TU=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function AU(t,s,r,a,n,l,i){if(!t)return t;a||(a={"!id":{}});var d=s.dense?[]:{},x={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",m="",b=t.match(NU);b?(h=t.slice(0,b.index),m=t.slice(b.index+b[0].length)):h=m=t;var f=h.match(s3);f?yv(f[0],d,n,r):(f=h.match(EU))&&PU(f[0],f[1]||"",d,n,r);var N=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(N>0){var p=h.slice(N,N+50).match(CU);p&&vU(d,p[1])}var v=h.match(TU);v&&v[1]&&zU(v[1],n);var g=[];if(s.cellStyles){var y=h.match(SU);y&&HU(g,y)}b&&KU(b[1],d,s,x,l,i);var C=m.match(kU);C&&(d["!autofilter"]=WU(C[0]));var j=[],S=m.match(wU);if(S)for(N=0;N!=S.length;++N)j[N]=nr(S[N].slice(S[N].indexOf('"')+1));var P=m.match(jU);P&&OU(d,P,a);var D=m.match(DU);if(D&&(d["!margins"]=BU(Is(D[0]))),!d["!ref"]&&x.e.c>=x.s.c&&x.e.r>=x.s.r&&(d["!ref"]=Rs(x)),s.sheetRows>0&&d["!ref"]){var T=nr(d["!ref"]);s.sheetRows<=+T.e.r&&(T.e.r=s.sheetRows-1,T.e.r>x.e.r&&(T.e.r=x.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>x.e.c&&(T.e.c=x.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),d["!fullref"]=d["!ref"],d["!ref"]=Rs(T))}return g.length>0&&(d["!cols"]=g),j.length>0&&(d["!merges"]=j),d}function FU(t){if(t.length===0)return"";for(var s='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)s+='<mergeCell ref="'+Rs(t[r])+'"/>';return s+"</mergeCells>"}function yv(t,s,r,a){var n=Is(t);r.Sheets[a]||(r.Sheets[a]={}),n.codeName&&(r.Sheets[a].CodeName=ar(Pr(n.codeName)))}function PU(t,s,r,a,n){yv(t.slice(0,t.indexOf(">")),r,a,n)}function MU(t,s,r,a,n){var l=!1,i={},d=null;if(a.bookType!=="xlsx"&&s.vbaraw){var x=s.SheetNames[r];try{s.Workbook&&(x=s.Workbook.Sheets[r].CodeName||x)}catch{}l=!0,i.codeName=Rl(Tr(x))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),d=(d||"")+ts("outlinePr",null,h)}!l&&!d||(n[n.length]=ts("sheetPr",d,i))}var IU=["objects","scenarios","selectLockedCells","selectUnlockedCells"],LU=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _U(t){var s={sheet:1};return IU.forEach(function(r){t[r]!=null&&t[r]&&(s[r]="1")}),LU.forEach(function(r){t[r]!=null&&!t[r]&&(s[r]="0")}),t.password&&(s.password=uv(t.password).toString(16).toUpperCase()),ts("sheetProtection",null,s)}function OU(t,s,r){for(var a=Array.isArray(t),n=0;n!=s.length;++n){var l=Is(Pr(s[n]),!0);if(!l.ref)return;var i=((r||{})["!id"]||[])[l.id];i?(l.Target=i.Target,l.location&&(l.Target+="#"+ar(l.location))):(l.Target="#"+ar(l.location),i={Target:l.Target,TargetMode:"Internal"}),l.Rel=i,l.tooltip&&(l.Tooltip=l.tooltip,delete l.tooltip);for(var d=nr(l.ref),x=d.s.r;x<=d.e.r;++x)for(var h=d.s.c;h<=d.e.c;++h){var m=Ps({c:h,r:x});a?(t[x]||(t[x]=[]),t[x][h]||(t[x][h]={t:"z",v:void 0}),t[x][h].l=l):(t[m]||(t[m]={t:"z",v:void 0}),t[m].l=l)}}}function BU(t){var s={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(s[r]=parseFloat(t[r]))}),s}function RU(t){return od(t),ts("pageMargins",null,t)}function HU(t,s){for(var r=!1,a=0;a!=s.length;++a){var n=Is(s[a],!0);n.hidden&&(n.hidden=Yr(n.hidden));var l=parseInt(n.min,10)-1,i=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!r&&n.width&&(r=!0,xv(n.width)),hc(n);l<=i;)t[l++]=qr(n)}}function UU(t,s){for(var r=["<cols>"],a,n=0;n!=s.length;++n)(a=s[n])&&(r[r.length]=ts("col",null,mf(n,a)));return r[r.length]="</cols>",r.join("")}function WU(t){var s={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return s}function GU(t,s,r,a){var n=typeof t.ref=="string"?t.ref:Rs(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,i=ro(n);i.s.r==i.e.r&&(i.e.r=ro(s["!ref"]).e.r,n=Rs(i));for(var d=0;d<l.length;++d){var x=l[d];if(x.Name=="_xlnm._FilterDatabase"&&x.Sheet==a){x.Ref="'"+r.SheetNames[a]+"'!"+n;break}}return d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+n}),ts("autoFilter",null,{ref:n})}var $U=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zU(t,s){s.Views||(s.Views=[{}]),(t.match($U)||[]).forEach(function(r,a){var n=Is(r);s.Views[a]||(s.Views[a]={}),+n.zoomScale&&(s.Views[a].zoom=+n.zoomScale),Yr(n.rightToLeft)&&(s.Views[a].RTL=!0)})}function VU(t,s,r,a){var n={workbookViewId:"0"};return(((a||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=a.Workbook.Views[0].RTL?"1":"0"),ts("sheetViews",ts("sheetView",null,n),{})}function YU(t,s,r,a){if(t.c&&r["!comments"].push([s,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var n="",l=t.t,i=t.v;if(t.t!=="z")switch(t.t){case"b":n=t.v?"1":"0";break;case"n":n=""+t.v;break;case"e":n=Di[t.v];break;case"d":a&&a.cellDates?n=Kr(t.v,-1).toISOString():(t=qr(t),t.t="n",n=""+(t.v=Ma(Kr(t.v)))),typeof t.z>"u"&&(t.z=As[14]);break;default:n=t.v;break}var d=on("v",Tr(n)),x={r:s},h=wc(a.cellXfs,t,a);switch(h!==0&&(x.s=h),t.t){case"n":break;case"d":x.t="d";break;case"b":x.t="b";break;case"e":x.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(a&&a.bookSST){d=on("v",""+gv(a.Strings,t.v,a.revStrings)),x.t="s";break}x.t="str";break}if(t.t!=l&&(t.t=l,t.v=i),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,s.length)==s?{t:"array",ref:t.F}:null;d=ts("f",Tr(t.f),m)+(t.v!=null?d:"")}return t.l&&r["!links"].push([s,t.l]),t.D&&(x.cm=1),ts("c",d,x)}var KU=(function(){var t=/<(?:\w+:)?c[ \/>]/,s=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,a=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,l=Qu("v"),i=Qu("f");return function(x,h,m,b,f,N){for(var p=0,v="",g=[],y=[],C=0,j=0,S=0,P="",D,T,A=0,M=0,L,q,B=0,te=0,oe=Array.isArray(N.CellXf),fe,R=[],V=[],W=Array.isArray(h),ne=[],J={},H=!1,F=!!m.sheetStubs,I=x.split(s),U=0,k=I.length;U!=k;++U){v=I[U].trim();var O=v.length;if(O!==0){var he=0;e:for(p=0;p<O;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(m&&m.cellStyles){if(T=Is(v.slice(he,p),!0),A=T.r!=null?parseInt(T.r,10):A+1,M=-1,m.sheetRows&&m.sheetRows<A)continue;J={},H=!1,T.ht&&(H=!0,J.hpt=parseFloat(T.ht),J.hpx=M0(J.hpt)),T.hidden=="1"&&(H=!0,J.hidden=!0),T.outlineLevel!=null&&(H=!0,J.level=+T.outlineLevel),H&&(ne[A-1]=J)}break;case"<":he=p;break}if(he>=p)break;if(T=Is(v.slice(he,p),!0),A=T.r!=null?parseInt(T.r,10):A+1,M=-1,!(m.sheetRows&&m.sheetRows<A)){b.s.r>A-1&&(b.s.r=A-1),b.e.r<A-1&&(b.e.r=A-1),m&&m.cellStyles&&(J={},H=!1,T.ht&&(H=!0,J.hpt=parseFloat(T.ht),J.hpx=M0(J.hpt)),T.hidden=="1"&&(H=!0,J.hidden=!0),T.outlineLevel!=null&&(H=!0,J.level=+T.outlineLevel),H&&(ne[A-1]=J)),g=v.slice(p).split(t);for(var ye=0;ye!=g.length&&g[ye].trim().charAt(0)=="<";++ye);for(g=g.slice(ye),p=0;p!=g.length;++p)if(v=g[p].trim(),v.length!==0){if(y=v.match(r),C=p,j=0,S=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,y!=null&&y.length===2){for(C=0,P=y[1],j=0;j!=P.length&&!((S=P.charCodeAt(j)-64)<1||S>26);++j)C=26*C+S;--C,M=C}else++M;for(j=0;j!=v.length&&v.charCodeAt(j)!==62;++j);if(++j,T=Is(v.slice(0,j),!0),T.r||(T.r=Ps({r:A-1,c:M})),P=v.slice(j),D={t:""},(y=P.match(l))!=null&&y[1]!==""&&(D.v=ar(y[1])),m.cellFormula){if((y=P.match(i))!=null&&y[1]!==""){if(D.f=ar(Pr(y[1])).replace(/\r\n/g,`
`),m.xlfn||(D.f=Z1(D.f)),y[0].indexOf('t="array"')>-1)D.F=(P.match(n)||[])[1],D.F.indexOf(":")>-1&&R.push([nr(D.F),D.F]);else if(y[0].indexOf('t="shared"')>-1){q=Is(y[0]);var be=ar(Pr(y[1]));m.xlfn||(be=Z1(be)),V[parseInt(q.si,10)]=[q,be,T.r]}}else(y=P.match(/<f[^>]*\/>/))&&(q=Is(y[0]),V[q.si]&&(D.f=$9(V[q.si][1],V[q.si][2],T.r)));var je=aa(T.r);for(j=0;j<R.length;++j)je.r>=R[j][0].s.r&&je.r<=R[j][0].e.r&&je.c>=R[j][0].s.c&&je.c<=R[j][0].e.c&&(D.F=R[j][1])}if(T.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(F)D.t="z";else continue;else D.t=T.t||"n";switch(b.s.c>M&&(b.s.c=M),b.e.c<M&&(b.e.c=M),D.t){case"n":if(D.v==""||D.v==null){if(!F)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!F)continue;D.t="z"}else L=Wu[parseInt(D.v,10)],D.v=L.t,D.r=L.r,m.cellHTML&&(D.h=L.h);break;case"str":D.t="s",D.v=D.v!=null?Pr(D.v):"",m.cellHTML&&(D.h=Xb(D.v));break;case"inlineStr":y=P.match(a),D.t="s",y!=null&&(L=dv(y[1]))?(D.v=L.t,m.cellHTML&&(D.h=L.h)):D.v="";break;case"b":D.v=Yr(D.v);break;case"d":m.cellDates?D.v=Kr(D.v,1):(D.v=Ma(Kr(D.v,1)),D.t="n");break;case"e":(!m||m.cellText!==!1)&&(D.w=D.v),D.v=ak[D.v];break}if(B=te=0,fe=null,oe&&T.s!==void 0&&(fe=N.CellXf[T.s],fe!=null&&(fe.numFmtId!=null&&(B=fe.numFmtId),m.cellStyles&&fe.fillId!=null&&(te=fe.fillId))),t3(D,B,te,m,f,N),m.cellDates&&oe&&D.t=="n"&&z0(As[B])&&(D.t="d",D.v=df(D.v)),T.cm&&m.xlmeta){var ge=(m.xlmeta.Cell||[])[+T.cm-1];ge&&ge.type=="XLDAPR"&&(D.D=!0)}if(W){var xe=aa(T.r);h[xe.r]||(h[xe.r]=[]),h[xe.r][xe.c]=D}else h[T.r]=D}}}}ne.length>0&&(h["!rows"]=ne)}})();function qU(t,s,r,a){var n=[],l=[],i=nr(t["!ref"]),d="",x,h="",m=[],b=0,f=0,N=t["!rows"],p=Array.isArray(t),v={r:h},g,y=-1;for(f=i.s.c;f<=i.e.c;++f)m[f]=ra(f);for(b=i.s.r;b<=i.e.r;++b){for(l=[],h=ba(b),f=i.s.c;f<=i.e.c;++f){x=m[f]+h;var C=p?(t[b]||[])[f]:t[x];C!==void 0&&(d=YU(C,x,t,s))!=null&&l.push(d)}(l.length>0||N&&N[b])&&(v={r:h},N&&N[b]&&(g=N[b],g.hidden&&(v.hidden=1),y=-1,g.hpx?y=nx(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(v.ht=y,v.customHeight=1),g.level&&(v.outlineLevel=g.level)),n[n.length]=ts("row",l.join(""),v))}if(N)for(;b<N.length;++b)N&&N[b]&&(v={r:b+1},g=N[b],g.hidden&&(v.hidden=1),y=-1,g.hpx?y=nx(g.hpx):g.hpt&&(y=g.hpt),y>-1&&(v.ht=y,v.customHeight=1),g.level&&(v.outlineLevel=g.level),n[n.length]=ts("row","",v));return n.join("")}function r3(t,s,r,a){var n=[ja,ts("worksheet",null,{xmlns:wd[0],"xmlns:r":Pa.r})],l=r.SheetNames[t],i=0,d="",x=r.Sheets[l];x==null&&(x={});var h=x["!ref"]||"A1",m=nr(h);if(m.e.c>16383||m.e.r>1048575){if(s.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=Rs(m)}a||(a={}),x["!comments"]=[];var b=[];MU(x,r,t,s,n),n[n.length]=ts("dimension",null,{ref:h}),n[n.length]=VU(x,s,t,r),s.sheetFormat&&(n[n.length]=ts("sheetFormatPr",null,{defaultRowHeight:s.sheetFormat.defaultRowHeight||"16",baseColWidth:s.sheetFormat.baseColWidth||"10",outlineLevelRow:s.sheetFormat.outlineLevelRow||"7"})),x["!cols"]!=null&&x["!cols"].length>0&&(n[n.length]=UU(x,x["!cols"])),n[i=n.length]="<sheetData/>",x["!links"]=[],x["!ref"]!=null&&(d=qU(x,s),d.length>0&&(n[n.length]=d)),n.length>i+1&&(n[n.length]="</sheetData>",n[i]=n[i].replace("/>",">")),x["!protect"]&&(n[n.length]=_U(x["!protect"])),x["!autofilter"]!=null&&(n[n.length]=GU(x["!autofilter"],x,r,t)),x["!merges"]!=null&&x["!merges"].length>0&&(n[n.length]=FU(x["!merges"]));var f=-1,N,p=-1;return x["!links"].length>0&&(n[n.length]="<hyperlinks>",x["!links"].forEach(function(v){v[1].Target&&(N={ref:v[0]},v[1].Target.charAt(0)!="#"&&(p=Dr(a,-1,Tr(v[1].Target).replace(/#.*$/,""),Vs.HLINK),N["r:id"]="rId"+p),(f=v[1].Target.indexOf("#"))>-1&&(N.location=Tr(v[1].Target.slice(f+1))),v[1].Tooltip&&(N.tooltip=Tr(v[1].Tooltip)),n[n.length]=ts("hyperlink",null,N))}),n[n.length]="</hyperlinks>"),delete x["!links"],x["!margins"]!=null&&(n[n.length]=RU(x["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&(n[n.length]=on("ignoredErrors",ts("ignoredError",null,{numberStoredAsText:1,sqref:h}))),b.length>0&&(p=Dr(a,-1,"../drawings/drawing"+(t+1)+".xml",Vs.DRAW),n[n.length]=ts("drawing",null,{"r:id":"rId"+p}),x["!drawing"]=b),x["!comments"].length>0&&(p=Dr(a,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Vs.VML),n[n.length]=ts("legacyDrawing",null,{"r:id":"rId"+p}),x["!legacy"]=p),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function XU(t,s){var r={},a=t.l+s;r.r=t.read_shift(4),t.l+=4;var n=t.read_shift(2);t.l+=1;var l=t.read_shift(1);return t.l=a,l&7&&(r.level=l&7),l&16&&(r.hidden=!0),l&32&&(r.hpt=n/20),r}function JU(t,s,r){var a=Wt(145),n=(r["!rows"]||[])[t]||{};a.write_shift(4,t),a.write_shift(4,0);var l=320;n.hpx?l=nx(n.hpx)*20:n.hpt&&(l=n.hpt*20),a.write_shift(2,l),a.write_shift(1,0);var i=0;n.level&&(i|=n.level),n.hidden&&(i|=16),(n.hpx||n.hpt)&&(i|=32),a.write_shift(1,i),a.write_shift(1,0);var d=0,x=a.l;a.l+=4;for(var h={r:t,c:0},m=0;m<16;++m)if(!(s.s.c>m+1<<10||s.e.c<m<<10)){for(var b=-1,f=-1,N=m<<10;N<m+1<<10;++N){h.c=N;var p=Array.isArray(r)?(r[h.r]||[])[h.c]:r[Ps(h)];p&&(b<0&&(b=N),f=N)}b<0||(++d,a.write_shift(4,b),a.write_shift(4,f))}var v=a.l;return a.l=x,a.write_shift(4,d),a.l=v,a.length>a.l?a.slice(0,a.l):a}function QU(t,s,r,a){var n=JU(a,r,s);(n.length>17||(s["!rows"]||[])[a])&&Yt(t,0,n)}var ZU=Sd,eW=K0;function tW(){}function sW(t,s){var r={},a=t[t.l];return++t.l,r.above=!(a&64),r.left=!(a&128),t.l+=18,r.name=n_(t),r}function rW(t,s,r){r==null&&(r=Wt(84+4*t.length));var a=192;s&&(s.above&&(a&=-65),s.left&&(a&=-129)),r.write_shift(1,a);for(var n=1;n<3;++n)r.write_shift(1,0);return Fp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),ZS(t,r),r.slice(0,r.l)}function aW(t){var s=Ro(t);return[s]}function nW(t,s,r){return r==null&&(r=Wt(8)),Nd(s,r)}function oW(t){var s=jd(t);return[s]}function lW(t,s,r){return r==null&&(r=Wt(4)),Cd(s,r)}function iW(t){var s=Ro(t),r=t.read_shift(1);return[s,r,"b"]}function cW(t,s,r){return r==null&&(r=Wt(9)),Nd(s,r),r.write_shift(1,t.v?1:0),r}function dW(t){var s=jd(t),r=t.read_shift(1);return[s,r,"b"]}function uW(t,s,r){return r==null&&(r=Wt(5)),Cd(s,r),r.write_shift(1,t.v?1:0),r}function xW(t){var s=Ro(t),r=t.read_shift(1);return[s,r,"e"]}function hW(t,s,r){return r==null&&(r=Wt(9)),Nd(s,r),r.write_shift(1,t.v),r}function mW(t){var s=jd(t),r=t.read_shift(1);return[s,r,"e"]}function pW(t,s,r){return r==null&&(r=Wt(8)),Cd(s,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function fW(t){var s=Ro(t),r=t.read_shift(4);return[s,r,"s"]}function gW(t,s,r){return r==null&&(r=Wt(12)),Nd(s,r),r.write_shift(4,s.v),r}function yW(t){var s=jd(t),r=t.read_shift(4);return[s,r,"s"]}function bW(t,s,r){return r==null&&(r=Wt(8)),Cd(s,r),r.write_shift(4,s.v),r}function vW(t){var s=Ro(t),r=Cn(t);return[s,r,"n"]}function wW(t,s,r){return r==null&&(r=Wt(16)),Nd(s,r),xd(t.v,r),r}function a3(t){var s=jd(t),r=Cn(t);return[s,r,"n"]}function NW(t,s,r){return r==null&&(r=Wt(12)),Cd(s,r),xd(t.v,r),r}function jW(t){var s=Ro(t),r=nv(t);return[s,r,"n"]}function CW(t,s,r){return r==null&&(r=Wt(12)),Nd(s,r),ek(t.v,r),r}function SW(t){var s=jd(t),r=nv(t);return[s,r,"n"]}function kW(t,s,r){return r==null&&(r=Wt(8)),Cd(s,r),ek(t.v,r),r}function DW(t){var s=Ro(t),r=sv(t);return[s,r,"is"]}function EW(t){var s=Ro(t),r=Sn(t);return[s,r,"str"]}function TW(t,s,r){return r==null&&(r=Wt(12+4*t.v.length)),Nd(s,r),Ya(t.v,r),r.length>r.l?r.slice(0,r.l):r}function AW(t){var s=jd(t),r=Sn(t);return[s,r,"str"]}function FW(t,s,r){return r==null&&(r=Wt(8+4*t.v.length)),Cd(s,r),Ya(t.v,r),r.length>r.l?r.slice(0,r.l):r}function PW(t,s,r){var a=t.l+s,n=Ro(t);n.r=r["!row"];var l=t.read_shift(1),i=[n,l,"b"];if(r.cellFormula){t.l+=2;var d=hf(t,a-t.l,r);i[3]=wn(d,null,n,r.supbooks,r)}else t.l=a;return i}function MW(t,s,r){var a=t.l+s,n=Ro(t);n.r=r["!row"];var l=t.read_shift(1),i=[n,l,"e"];if(r.cellFormula){t.l+=2;var d=hf(t,a-t.l,r);i[3]=wn(d,null,n,r.supbooks,r)}else t.l=a;return i}function IW(t,s,r){var a=t.l+s,n=Ro(t);n.r=r["!row"];var l=Cn(t),i=[n,l,"n"];if(r.cellFormula){t.l+=2;var d=hf(t,a-t.l,r);i[3]=wn(d,null,n,r.supbooks,r)}else t.l=a;return i}function LW(t,s,r){var a=t.l+s,n=Ro(t);n.r=r["!row"];var l=Sn(t),i=[n,l,"str"];if(r.cellFormula){t.l+=2;var d=hf(t,a-t.l,r);i[3]=wn(d,null,n,r.supbooks,r)}else t.l=a;return i}var _W=Sd,OW=K0;function BW(t,s){return s==null&&(s=Wt(4)),s.write_shift(4,t),s}function RW(t,s){var r=t.l+s,a=Sd(t),n=rv(t),l=Sn(t),i=Sn(t),d=Sn(t);t.l=r;var x={rfx:a,relId:n,loc:l,display:d};return i&&(x.Tooltip=i),x}function HW(t,s){var r=Wt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));K0({s:aa(t[0]),e:aa(t[0])},r),av("rId"+s,r);var a=t[1].Target.indexOf("#"),n=a==-1?"":t[1].Target.slice(a+1);return Ya(n||"",r),Ya(t[1].Tooltip||"",r),Ya("",r),r.slice(0,r.l)}function UW(){}function WW(t,s,r){var a=t.l+s,n=tk(t),l=t.read_shift(1),i=[n];if(i[2]=l,r.cellFormula){var d=xU(t,a-t.l,r);i[1]=d}else t.l=a;return i}function GW(t,s,r){var a=t.l+s,n=Sd(t),l=[n];if(r.cellFormula){var i=mU(t,a-t.l,r);l[1]=i,t.l=a}else t.l=a;return l}function $W(t,s,r){r==null&&(r=Wt(18));var a=mf(t,s);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(a.width||10)*256),r.write_shift(4,0);var n=0;return s.hidden&&(n|=1),typeof a.width=="number"&&(n|=2),s.level&&(n|=s.level<<8),r.write_shift(2,n),r}var n3=["left","right","top","bottom","header","footer"];function zW(t){var s={};return n3.forEach(function(r){s[r]=Cn(t)}),s}function VW(t,s){return s==null&&(s=Wt(48)),od(t),n3.forEach(function(r){xd(t[r],s)}),s}function YW(t){var s=t.read_shift(2);return t.l+=28,{RTL:s&32}}function KW(t,s,r){r==null&&(r=Wt(30));var a=924;return(((s||{}).Views||[])[0]||{}).RTL&&(a|=32),r.write_shift(2,a),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function qW(t){var s=Wt(24);return s.write_shift(4,4),s.write_shift(4,1),K0(t,s),s}function XW(t,s){return s==null&&(s=Wt(66)),s.write_shift(2,t.password?uv(t.password):0),s.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?s.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):s.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),s}function JW(){}function QW(){}function ZW(t,s,r,a,n,l,i){if(!t)return t;var d=s||{};a||(a={"!id":{}});var x=d.dense?[]:{},h,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=!1,f=!1,N,p,v,g,y,C,j,S,P,D=[];d.biff=12,d["!row"]=0;var T=0,A=!1,M=[],L={},q=d.supbooks||n.supbooks||[[]];if(q.sharedf=L,q.arrayf=M,q.SheetNames=n.SheetNames||n.Sheets.map(function(W){return W.name}),!d.supbooks&&(d.supbooks=q,n.Names))for(var B=0;B<n.Names.length;++B)q[0][B+1]=n.Names[B];var te=[],oe=[],fe=!1;ox[16]={n:"BrtShortReal",f:a3};var R;if(ki(t,function(ne,J,H){if(!f)switch(H){case 148:h=ne;break;case 0:N=ne,d.sheetRows&&d.sheetRows<=N.r&&(f=!0),S=ba(g=N.r),d["!row"]=N.r,(ne.hidden||ne.hpt||ne.level!=null)&&(ne.hpt&&(ne.hpx=M0(ne.hpt)),oe[ne.r]=ne);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:ne[2]},ne[2]){case"n":p.v=ne[1];break;case"s":j=Wu[ne[1]],p.v=j.t,p.r=j.r;break;case"b":p.v=!!ne[1];break;case"e":p.v=ne[1],d.cellText!==!1&&(p.w=Di[p.v]);break;case"str":p.t="s",p.v=ne[1];break;case"is":p.t="s",p.v=ne[1].t;break}if((v=i.CellXf[ne[0].iStyleRef])&&t3(p,v.numFmtId,null,d,l,i),y=ne[0].c==-1?y+1:ne[0].c,d.dense?(x[g]||(x[g]=[]),x[g][y]=p):x[ra(y)+S]=p,d.cellFormula){for(A=!1,T=0;T<M.length;++T){var F=M[T];N.r>=F[0].s.r&&N.r<=F[0].e.r&&y>=F[0].s.c&&y<=F[0].e.c&&(p.F=Rs(F[0]),A=!0)}!A&&ne.length>3&&(p.f=ne[3])}if(m.s.r>N.r&&(m.s.r=N.r),m.s.c>y&&(m.s.c=y),m.e.r<N.r&&(m.e.r=N.r),m.e.c<y&&(m.e.c=y),d.cellDates&&v&&p.t=="n"&&z0(As[v.numFmtId])){var I=ed(p.v);I&&(p.t="d",p.v=new Date(I.y,I.m-1,I.d,I.H,I.M,I.S,I.u))}R&&(R.type=="XLDAPR"&&(p.D=!0),R=void 0);break;case 1:case 12:if(!d.sheetStubs||b)break;p={t:"z",v:void 0},y=ne[0].c==-1?y+1:ne[0].c,d.dense?(x[g]||(x[g]=[]),x[g][y]=p):x[ra(y)+S]=p,m.s.r>N.r&&(m.s.r=N.r),m.s.c>y&&(m.s.c=y),m.e.r<N.r&&(m.e.r=N.r),m.e.c<y&&(m.e.c=y),R&&(R.type=="XLDAPR"&&(p.D=!0),R=void 0);break;case 176:D.push(ne);break;case 49:R=((d.xlmeta||{}).Cell||[])[ne-1];break;case 494:var U=a["!id"][ne.relId];for(U?(ne.Target=U.Target,ne.loc&&(ne.Target+="#"+ne.loc),ne.Rel=U):ne.relId==""&&(ne.Target="#"+ne.loc),g=ne.rfx.s.r;g<=ne.rfx.e.r;++g)for(y=ne.rfx.s.c;y<=ne.rfx.e.c;++y)d.dense?(x[g]||(x[g]=[]),x[g][y]||(x[g][y]={t:"z",v:void 0}),x[g][y].l=ne):(C=Ps({c:y,r:g}),x[C]||(x[C]={t:"z",v:void 0}),x[C].l=ne);break;case 426:if(!d.cellFormula)break;M.push(ne),P=d.dense?x[g][y]:x[ra(y)+S],P.f=wn(ne[1],m,{r:N.r,c:y},q,d),P.F=Rs(ne[0]);break;case 427:if(!d.cellFormula)break;L[Ps(ne[0].s)]=ne[1],P=d.dense?x[g][y]:x[ra(y)+S],P.f=wn(ne[1],m,{r:N.r,c:y},q,d);break;case 60:if(!d.cellStyles)break;for(;ne.e>=ne.s;)te[ne.e--]={width:ne.w/256,hidden:!!(ne.flags&1),level:ne.level},fe||(fe=!0,xv(ne.w/256)),hc(te[ne.e+1]);break;case 161:x["!autofilter"]={ref:Rs(ne)};break;case 476:x["!margins"]=ne;break;case 147:n.Sheets[r]||(n.Sheets[r]={}),ne.name&&(n.Sheets[r].CodeName=ne.name),(ne.above||ne.left)&&(x["!outline"]={above:ne.above,left:ne.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),ne.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:b=!0;break;case 36:b=!1;break;case 37:b=!0;break;case 38:b=!1;break;default:if(!J.T){if(!b||d.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},d),delete d.supbooks,delete d["!row"],!x["!ref"]&&(m.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(x["!ref"]=Rs(h||m)),d.sheetRows&&x["!ref"]){var V=nr(x["!ref"]);d.sheetRows<=+V.e.r&&(V.e.r=d.sheetRows-1,V.e.r>m.e.r&&(V.e.r=m.e.r),V.e.r<V.s.r&&(V.s.r=V.e.r),V.e.c>m.e.c&&(V.e.c=m.e.c),V.e.c<V.s.c&&(V.s.c=V.e.c),x["!fullref"]=x["!ref"],x["!ref"]=Rs(V))}return D.length>0&&(x["!merges"]=D),te.length>0&&(x["!cols"]=te),oe.length>0&&(x["!rows"]=oe),x}function eG(t,s,r,a,n,l,i){if(s.v===void 0)return!1;var d="";switch(s.t){case"b":d=s.v?"1":"0";break;case"d":s=qr(s),s.z=s.z||As[14],s.v=Ma(Kr(s.v)),s.t="n";break;case"n":case"e":d=""+s.v;break;default:d=s.v;break}var x={r,c:a};switch(x.s=wc(n.cellXfs,s,n),s.l&&l["!links"].push([Ps(x),s.l]),s.c&&l["!comments"].push([Ps(x),s.c]),s.t){case"s":case"str":return n.bookSST?(d=gv(n.Strings,s.v,n.revStrings),x.t="s",x.v=d,i?Yt(t,18,bW(s,x)):Yt(t,7,gW(s,x))):(x.t="str",i?Yt(t,17,FW(s,x)):Yt(t,6,TW(s,x))),!0;case"n":return s.v==(s.v|0)&&s.v>-1e3&&s.v<1e3?i?Yt(t,13,kW(s,x)):Yt(t,2,CW(s,x)):i?Yt(t,16,NW(s,x)):Yt(t,5,wW(s,x)),!0;case"b":return x.t="b",i?Yt(t,15,uW(s,x)):Yt(t,4,cW(s,x)),!0;case"e":return x.t="e",i?Yt(t,14,pW(s,x)):Yt(t,3,hW(s,x)),!0}return i?Yt(t,12,lW(s,x)):Yt(t,1,nW(s,x)),!0}function tG(t,s,r,a){var n=nr(s["!ref"]||"A1"),l,i="",d=[];Yt(t,145);var x=Array.isArray(s),h=n.e.r;s["!rows"]&&(h=Math.max(n.e.r,s["!rows"].length-1));for(var m=n.s.r;m<=h;++m){i=ba(m),QU(t,s,n,m);var b=!1;if(m<=n.e.r)for(var f=n.s.c;f<=n.e.c;++f){m===n.s.r&&(d[f]=ra(f)),l=d[f]+i;var N=x?(s[m]||[])[f]:s[l];if(!N){b=!1;continue}b=eG(t,N,m,f,a,s,b)}}Yt(t,146)}function sG(t,s){!s||!s["!merges"]||(Yt(t,177,BW(s["!merges"].length)),s["!merges"].forEach(function(r){Yt(t,176,OW(r))}),Yt(t,178))}function rG(t,s){!s||!s["!cols"]||(Yt(t,390),s["!cols"].forEach(function(r,a){r&&Yt(t,60,$W(a,r))}),Yt(t,391))}function aG(t,s){!s||!s["!ref"]||(Yt(t,648),Yt(t,649,qW(nr(s["!ref"]))),Yt(t,650))}function nG(t,s,r){s["!links"].forEach(function(a){if(a[1].Target){var n=Dr(r,-1,a[1].Target.replace(/#.*$/,""),Vs.HLINK);Yt(t,494,HW(a,n))}}),delete s["!links"]}function oG(t,s,r,a){if(s["!comments"].length>0){var n=Dr(a,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Vs.VML);Yt(t,551,av("rId"+n)),s["!legacy"]=n}}function lG(t,s,r,a){if(s["!autofilter"]){var n=s["!autofilter"],l=typeof n.ref=="string"?n.ref:Rs(n.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,d=ro(l);d.s.r==d.e.r&&(d.e.r=ro(s["!ref"]).e.r,l=Rs(d));for(var x=0;x<i.length;++x){var h=i[x];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==a){h.Ref="'"+r.SheetNames[a]+"'!"+l;break}}x==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:a,Ref:"'"+r.SheetNames[a]+"'!"+l}),Yt(t,161,K0(nr(l))),Yt(t,162)}}function iG(t,s,r){Yt(t,133),Yt(t,137,KW(s,r)),Yt(t,138),Yt(t,134)}function cG(t,s){s["!protect"]&&Yt(t,535,XW(s["!protect"]))}function dG(t,s,r,a){var n=to(),l=r.SheetNames[t],i=r.Sheets[l]||{},d=l;try{r&&r.Workbook&&(d=r.Workbook.Sheets[t].CodeName||d)}catch{}var x=nr(i["!ref"]||"A1");if(x.e.c>16383||x.e.r>1048575){if(s.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");x.e.c=Math.min(x.e.c,16383),x.e.r=Math.min(x.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Yt(n,129),(r.vbaraw||i["!outline"])&&Yt(n,147,rW(d,i["!outline"])),Yt(n,148,eW(x)),iG(n,i,r.Workbook),rG(n,i),tG(n,i,t,s),cG(n,i),lG(n,i,r,t),sG(n,i),nG(n,i,a),i["!margins"]&&Yt(n,476,VW(i["!margins"])),(!s||s.ignoreEC||s.ignoreEC==null)&&aG(n,i),oG(n,i,t,a),Yt(n,130),n.end()}function uG(t){var s=[],r=t.match(/^<c:numCache>/),a;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(l){var i=l.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(s[+i[1]]=r?+i[2]:i[2])});var n=ar((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(l){a=l.replace(/<.*?>/g,"")}),[s,n,a]}function xG(t,s,r,a,n,l){var i=l||{"!type":"chart"};if(!t)return l;var d=0,x=0,h="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(b){var f=uG(b);m.s.r=m.s.c=0,m.e.c=d,h=ra(d),f[0].forEach(function(N,p){i[h+ba(p)]={t:"n",v:N,z:f[1]},x=p}),m.e.r<x&&(m.e.r=x),++d}),d>0&&(i["!ref"]=Rs(m)),i}function hG(t,s,r,a,n){if(!t)return t;a||(a={"!id":{}});var l={"!type":"chart","!drawel":null,"!rel":""},i,d=t.match(s3);return d&&yv(d[0],l,n,r),(i=t.match(/drawing r:id="(.*?)"/))&&(l["!rel"]=i[1]),a["!id"][l["!rel"]]&&(l["!drawel"]=a["!id"][l["!rel"]]),l}function mG(t,s){t.l+=10;var r=Sn(t);return{name:r}}function pG(t,s,r,a,n){if(!t)return t;a||(a={"!id":{}});var l={"!type":"chart","!drawel":null,"!rel":""},i=!1;return ki(t,function(x,h,m){switch(m){case 550:l["!rel"]=x;break;case 651:n.Sheets[r]||(n.Sheets[r]={}),x.name&&(n.Sheets[r].CodeName=x.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!i||s.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},s),a["!id"][l["!rel"]]&&(l["!drawel"]=a["!id"][l["!rel"]]),l}var bv=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],fG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],gG=[],yG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function a2(t,s){for(var r=0;r!=t.length;++r)for(var a=t[r],n=0;n!=s.length;++n){var l=s[n];if(a[l[0]]==null)a[l[0]]=l[1];else switch(l[2]){case"bool":typeof a[l[0]]=="string"&&(a[l[0]]=Yr(a[l[0]]));break;case"int":typeof a[l[0]]=="string"&&(a[l[0]]=parseInt(a[l[0]],10));break}}}function n2(t,s){for(var r=0;r!=s.length;++r){var a=s[r];if(t[a[0]]==null)t[a[0]]=a[1];else switch(a[2]){case"bool":typeof t[a[0]]=="string"&&(t[a[0]]=Yr(t[a[0]]));break;case"int":typeof t[a[0]]=="string"&&(t[a[0]]=parseInt(t[a[0]],10));break}}}function o3(t){n2(t.WBProps,bv),n2(t.CalcPr,yG),a2(t.WBView,fG),a2(t.Sheets,gG),j0.date1904=Yr(t.WBProps.date1904)}function bG(t){return!t.Workbook||!t.Workbook.WBProps?"false":Yr(t.Workbook.WBProps.date1904)?"true":"false"}var vG="][*?/\\".split("");function l3(t,s){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return vG.forEach(function(a){if(t.indexOf(a)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function wG(t,s,r){t.forEach(function(a,n){l3(a);for(var l=0;l<n;++l)if(a==t[l])throw new Error("Duplicate Sheet Name: "+a);if(r){var i=s&&s[n]&&s[n].CodeName||a;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function NG(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var s=t.Workbook&&t.Workbook.Sheets||[];wG(t.SheetNames,s,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)bU(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var jG=/<\w+:workbook/;function CG(t,s){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},a=!1,n="xmlns",l={},i=0;if(t.replace(Tn,function(x,h){var m=Is(x);switch(Kl(m[0])){case"<?xml":break;case"<workbook":x.match(jG)&&(n="xmlns"+x.match(/<(\w+):/)[1]),r.xmlns=m[n];break;case"</workbook>":break;case"<fileVersion":delete m[0],r.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":bv.forEach(function(b){if(m[b[0]]!=null)switch(b[2]){case"bool":r.WBProps[b[0]]=Yr(m[b[0]]);break;case"int":r.WBProps[b[0]]=parseInt(m[b[0]],10);break;default:r.WBProps[b[0]]=m[b[0]]}}),m.codeName&&(r.WBProps.CodeName=Pr(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],r.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=ar(Pr(m.name)),delete m[0],r.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":a=!0;break;case"</definedNames>":a=!1;break;case"<definedName":l={},l.Name=Pr(m.name),m.comment&&(l.Comment=m.comment),m.localSheetId&&(l.Sheet=+m.localSheetId),Yr(m.hidden||"0")&&(l.Hidden=!0),i=h+x.length;break;case"</definedName>":l.Ref=ar(Pr(t.slice(i,h))),r.Names.push(l);break;case"<definedName/>":break;case"<calcPr":delete m[0],r.CalcPr=m;break;case"<calcPr/>":delete m[0],r.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":a=!0;break;case"</AlternateContent>":a=!1;break;case"<revisionPtr":break;default:if(!a&&s.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return x}),wd.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return o3(r),r}function i3(t){var s=[ja];s[s.length]=ts("workbook",null,{xmlns:wd[0],"xmlns:r":Pa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,a={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(bv.forEach(function(d){t.Workbook.WBProps[d[0]]!=null&&t.Workbook.WBProps[d[0]]!=d[1]&&(a[d[0]]=t.Workbook.WBProps[d[0]])}),t.Workbook.WBProps.CodeName&&(a.codeName=t.Workbook.WBProps.CodeName,delete a.CodeName)),s[s.length]=ts("workbookPr",null,a);var n=t.Workbook&&t.Workbook.Sheets||[],l=0;if(n&&n[0]&&n[0].Hidden){for(s[s.length]="<bookViews>",l=0;l!=t.SheetNames.length&&!(!n[l]||!n[l].Hidden);++l);l==t.SheetNames.length&&(l=0),s[s.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',s[s.length]="</bookViews>"}for(s[s.length]="<sheets>",l=0;l!=t.SheetNames.length;++l){var i={name:Tr(t.SheetNames[l].slice(0,31))};if(i.sheetId=""+(l+1),i["r:id"]="rId"+(l+1),n[l])switch(n[l].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}s[s.length]=ts("sheet",null,i)}return s[s.length]="</sheets>",r&&(s[s.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(d){var x={name:d.Name};d.Comment&&(x.comment=d.Comment),d.Sheet!=null&&(x.localSheetId=""+d.Sheet),d.Hidden&&(x.hidden="1"),d.Ref&&(s[s.length]=ts("definedName",Tr(d.Ref),x))}),s[s.length]="</definedNames>"),s.length>2&&(s[s.length]="</workbook>",s[1]=s[1].replace("/>",">")),s.join("")}function SG(t,s){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=By(t),r.name=Sn(t),r}function kG(t,s){return s||(s=Wt(127)),s.write_shift(4,t.Hidden),s.write_shift(4,t.iTabID),av(t.strRelID,s),Ya(t.name.slice(0,31),s),s.length>s.l?s.slice(0,s.l):s}function DG(t,s){var r={},a=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var n=s>8?Sn(t):"";return n.length>0&&(r.CodeName=n),r.autoCompressPictures=!!(a&65536),r.backupFile=!!(a&64),r.checkCompatibility=!!(a&4096),r.date1904=!!(a&1),r.filterPrivacy=!!(a&8),r.hidePivotFieldList=!!(a&1024),r.promptedSolutions=!!(a&16),r.publishItems=!!(a&2048),r.refreshAllConnections=!!(a&262144),r.saveExternalLinkValues=!!(a&128),r.showBorderUnselectedTables=!!(a&4),r.showInkAnnotation=!!(a&32),r.showObjects=["all","placeholders","none"][a>>13&3],r.showPivotChartFilter=!!(a&32768),r.updateLinks=["userSet","never","always"][a>>8&3],r}function EG(t,s){s||(s=Wt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),s.write_shift(4,r),s.write_shift(4,0),ZS(t&&t.CodeName||"ThisWorkbook",s),s.slice(0,s.l)}function TG(t,s){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=s-8,r}function AG(t,s,r){var a=t.l+s;t.l+=4,t.l+=1;var n=t.read_shift(4),l=o_(t),i=hU(t,0,r),d=rv(t);t.l=a;var x={Name:l,Ptg:i};return n<268435455&&(x.Sheet=n),d&&(x.Comment=d),x}function FG(t,s){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},a=[],n=!1;s||(s={}),s.biff=12;var l=[],i=[[]];return i.SheetNames=[],i.XTI=[],ox[16]={n:"BrtFRTArchID$",f:TG},ki(t,function(x,h,m){switch(m){case 156:i.SheetNames.push(x.name),r.Sheets.push(x);break;case 153:r.WBProps=x;break;case 39:x.Sheet!=null&&(s.SID=x.Sheet),x.Ref=wn(x.Ptg,null,null,i,s),delete s.SID,delete x.Ptg,l.push(x);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([m,x]):i[0]=[m,x],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(x),i.XTI=i.XTI.concat(x);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:a.push(m),n=!0;break;case 36:a.pop(),n=!1;break;case 37:a.push(m),n=!0;break;case 38:a.pop(),n=!1;break;case 16:break;default:if(!h.T){if(!n||s.WTF&&a[a.length-1]!=37&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},s),o3(r),r.Names=l,r.supbooks=i,r}function PG(t,s){Yt(t,143);for(var r=0;r!=s.SheetNames.length;++r){var a=s.Workbook&&s.Workbook.Sheets&&s.Workbook.Sheets[r]&&s.Workbook.Sheets[r].Hidden||0,n={Hidden:a,iTabID:r+1,strRelID:"rId"+(r+1),name:s.SheetNames[r]};Yt(t,156,kG(n))}Yt(t,144)}function MG(t,s){s||(s=Wt(127));for(var r=0;r!=4;++r)s.write_shift(4,0);return Ya("SheetJS",s),Ya(Cp.version,s),Ya(Cp.version,s),Ya("7262",s),s.length>s.l?s.slice(0,s.l):s}function IG(t,s){s||(s=Wt(29)),s.write_shift(-4,0),s.write_shift(-4,460),s.write_shift(4,28800),s.write_shift(4,17600),s.write_shift(4,500),s.write_shift(4,t),s.write_shift(4,t);var r=120;return s.write_shift(1,r),s.length>s.l?s.slice(0,s.l):s}function LG(t,s){if(!(!s.Workbook||!s.Workbook.Sheets)){for(var r=s.Workbook.Sheets,a=0,n=-1,l=-1;a<r.length;++a)!r[a]||!r[a].Hidden&&n==-1?n=a:r[a].Hidden==1&&l==-1&&(l=a);l>n||(Yt(t,135),Yt(t,158,IG(n)),Yt(t,136))}}function _G(t,s){var r=to();return Yt(r,131),Yt(r,128,MG()),Yt(r,153,EG(t.Workbook&&t.Workbook.WBProps||null)),LG(r,t),PG(r,t),Yt(r,132),r.end()}function OG(t,s,r){return s.slice(-4)===".bin"?FG(t,r):CG(t,r)}function BG(t,s,r,a,n,l,i,d){return s.slice(-4)===".bin"?ZW(t,a,r,n,l,i,d):AU(t,a,r,n,l,i,d)}function RG(t,s,r,a,n,l,i,d){return s.slice(-4)===".bin"?pG(t,a,r,n,l):hG(t,a,r,n,l)}function HG(t,s,r,a,n,l,i,d){return s.slice(-4)===".bin"?W9():G9()}function UG(t,s,r,a,n,l,i,d){return s.slice(-4)===".bin"?H9():U9()}function WG(t,s,r,a){return s.slice(-4)===".bin"?OR(t,r,a):SR(t,r,a)}function GG(t,s,r){return Wk(t,r)}function $G(t,s,r){return s.slice(-4)===".bin"?$B(t,r):UB(t,r)}function zG(t,s,r){return s.slice(-4)===".bin"?L9(t,r):k9(t,r)}function VG(t,s,r){return s.slice(-4)===".bin"?j9(t):w9(t)}function YG(t,s,r,a){return r.slice(-4)===".bin"?C9(t,s,r,a):void 0}function KG(t,s,r){return s.slice(-4)===".bin"?y9(t,s,r):v9(t,s,r)}function qG(t,s,r){return(s.slice(-4)===".bin"?_G:i3)(t)}function XG(t,s,r,a,n){return(s.slice(-4)===".bin"?dG:r3)(t,r,a,n)}function JG(t,s,r){return(s.slice(-4)===".bin"?YR:Hk)(t,r)}function QG(t,s,r){return(s.slice(-4)===".bin"?YB:Pk)(t,r)}function ZG(t,s,r){return(s.slice(-4)===".bin"?_9:zk)(t)}function e$(t){return(t.slice(-4)===".bin"?b9:Gk)()}var c3=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,d3=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ll(t,s){var r=t.split(/\s+/),a=[];if(a[0]=r[0],r.length===1)return a;var n=t.match(c3),l,i,d,x;if(n)for(x=0;x!=n.length;++x)l=n[x].match(d3),(i=l[1].indexOf(":"))===-1?a[l[1]]=l[2].slice(1,l[2].length-1):(l[1].slice(0,6)==="xmlns:"?d="xmlns"+l[1].slice(6):d=l[1].slice(i+1),a[d]=l[2].slice(1,l[2].length-1));return a}function t$(t){var s=t.split(/\s+/),r={};if(s.length===1)return r;var a=t.match(c3),n,l,i,d;if(a)for(d=0;d!=a.length;++d)n=a[d].match(d3),(l=n[1].indexOf(":"))===-1?r[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?i="xmlns"+n[1].slice(6):i=n[1].slice(l+1),r[i]=n[2].slice(1,n[2].length-1));return r}var $u;function s$(t,s){var r=$u[t]||ar(t);return r==="General"?dd(s):Bo(r,s)}function r$(t,s,r,a){var n=a;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=Yr(a);break;case"i2":case"int":n=parseInt(a,10);break;case"r4":case"float":n=parseFloat(a);break;case"date":case"dateTime.tz":n=Kr(a);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[ar(s)]=n}function a$(t,s,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Di[t.v]:s==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ju(t.v):t.w=dd(t.v):t.w=s$(s||"General",t.v)}catch(l){if(r.WTF)throw l}try{var a=$u[s]||s||"General";if(r.cellNF&&(t.z=a),r.cellDates&&t.t=="n"&&z0(a)){var n=ed(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(l){if(r.WTF)throw l}}}function n$(t,s,r){if(r.cellStyles&&s.Interior){var a=s.Interior;a.Pattern&&(a.patternType=gR[a.Pattern]||a.Pattern)}t[s.ID]=s}function o$(t,s,r,a,n,l,i,d,x,h){var m="General",b=a.StyleID,f={};h=h||{};var N=[],p=0;for(b===void 0&&d&&(b=d.StyleID),b===void 0&&i&&(b=i.StyleID);l[b]!==void 0&&(l[b].nf&&(m=l[b].nf),l[b].Interior&&N.push(l[b].Interior),!!l[b].Parent);)b=l[b].Parent;switch(r.Type){case"Boolean":a.t="b",a.v=Yr(t);break;case"String":a.t="s",a.r=N1(ar(t)),a.v=t.indexOf("<")>-1?ar(s||t).replace(/<.*?>/g,""):a.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),a.v=(Kr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),a.v!==a.v?a.v=ar(t):a.v<60&&(a.v=a.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":a.v===void 0&&(a.v=+t),a.t||(a.t="n");break;case"Error":a.t="e",a.v=ak[t],h.cellText!==!1&&(a.w=t);break;default:t==""&&s==""?a.t="z":(a.t="s",a.v=N1(s||t));break}if(a$(a,m,h),h.cellFormula!==!1)if(a.Formula){var v=ar(a.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),a.f=N0(v,n),delete a.Formula,a.ArrayRange=="RC"?a.F=N0("RC:RC",n):a.ArrayRange&&(a.F=N0(a.ArrayRange,n),x.push([nr(a.F),a.F]))}else for(p=0;p<x.length;++p)n.r>=x[p][0].s.r&&n.r<=x[p][0].e.r&&n.c>=x[p][0].s.c&&n.c<=x[p][0].e.c&&(a.F=x[p][1]);h.cellStyles&&(N.forEach(function(g){!f.patternType&&g.patternType&&(f.patternType=g.patternType)}),a.s=f),a.StyleID!==void 0&&(a.ixfe=a.StyleID)}function l$(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function oy(t,s){var r=s||{};V0();var a=Lu(Jb(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(a=Pr(a));var n=a.slice(0,1024).toLowerCase(),l=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var i=qr(r);return i.type="string",P0.to_workbook(a,i)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(He){n.indexOf("<"+He)>=0&&(l=!0)}),l)return V$(a,r);$u={"General Number":"General","General Date":As[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":As[15],"Short Date":As[14],"Long Time":As[19],"Medium Time":As[18],"Short Time":As[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:As[2],Standard:As[4],Percent:As[10],Scientific:As[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var d,x=[],h,m={},b=[],f=r.dense?[]:{},N="",p={},v={},g=ll('<Data ss:Type="String">'),y=0,C=0,j=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},D={},T="",A=0,M=[],L={},q={},B=0,te=[],oe=[],fe={},R=[],V,W=!1,ne=[],J=[],H={},F=0,I=0,U={Sheets:[],WBProps:{date1904:!1}},k={};ex.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"");for(var O="";d=ex.exec(a);)switch(d[3]=(O=d[3]).toLowerCase()){case"data":if(O=="data"){if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&x.push([d[3],!0]);break}if(x[x.length-1][1])break;d[1]==="/"?o$(a.slice(y,d.index),T,g,x[x.length-1][0]=="comment"?fe:p,{c:C,r:j},P,R[C],v,ne,r):(T="",g=ll(d[0]),y=d.index+d[0].length);break;case"cell":if(d[1]==="/")if(oe.length>0&&(p.c=oe),(!r.sheetRows||r.sheetRows>j)&&p.v!==void 0&&(r.dense?(f[j]||(f[j]=[]),f[j][C]=p):f[ra(C)+ba(j)]=p),p.HRef&&(p.l={Target:ar(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(F=C+(parseInt(p.MergeAcross,10)|0),I=j+(parseInt(p.MergeDown,10)|0),M.push({s:{c:C,r:j},e:{c:F,r:I}})),!r.sheetStubs)p.MergeAcross?C=F+1:++C;else if(p.MergeAcross||p.MergeDown){for(var he=C;he<=F;++he)for(var ye=j;ye<=I;++ye)(he>C||ye>j)&&(r.dense?(f[ye]||(f[ye]=[]),f[ye][he]={t:"z"}):f[ra(he)+ba(ye)]={t:"z"});C=F+1}else++C;else p=t$(d[0]),p.Index&&(C=+p.Index-1),C<S.s.c&&(S.s.c=C),C>S.e.c&&(S.e.c=C),d[0].slice(-2)==="/>"&&++C,oe=[];break;case"row":d[1]==="/"||d[0].slice(-2)==="/>"?(j<S.s.r&&(S.s.r=j),j>S.e.r&&(S.e.r=j),d[0].slice(-2)==="/>"&&(v=ll(d[0]),v.Index&&(j=+v.Index-1)),C=0,++j):(v=ll(d[0]),v.Index&&(j=+v.Index-1),H={},(v.AutoFitHeight=="0"||v.Height)&&(H.hpx=parseInt(v.Height,10),H.hpt=nx(H.hpx),J[j]=H),v.Hidden=="1"&&(H.hidden=!0,J[j]=H));break;case"worksheet":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"));b.push(N),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(f["!ref"]=Rs(S),r.sheetRows&&r.sheetRows<=S.e.r&&(f["!fullref"]=f["!ref"],S.e.r=r.sheetRows-1,f["!ref"]=Rs(S))),M.length&&(f["!merges"]=M),R.length>0&&(f["!cols"]=R),J.length>0&&(f["!rows"]=J),m[N]=f}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},j=C=0,x.push([d[3],!1]),h=ll(d[0]),N=ar(h.Name),f=r.dense?[]:{},M=[],ne=[],J=[],k={name:N,Hidden:0},U.Sheets.push(k);break;case"table":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else{if(d[0].slice(-2)=="/>")break;x.push([d[3],!1]),R=[],W=!1}break;case"style":d[1]==="/"?n$(P,D,r):D=ll(d[0]);break;case"numberformat":D.nf=ar(ll(d[0]).Format||"General"),$u[D.nf]&&(D.nf=$u[D.nf]);for(var be=0;be!=392&&As[be]!=D.nf;++be);if(be==392){for(be=57;be!=392;++be)if(As[be]==null){yi(D.nf,be);break}}break;case"column":if(x[x.length-1][0]!=="table")break;if(V=ll(d[0]),V.Hidden&&(V.hidden=!0,delete V.Hidden),V.Width&&(V.wpx=parseInt(V.Width,10)),!W&&V.wpx>10){W=!0,Nn=Bk;for(var je=0;je<R.length;++je)R[je]&&hc(R[je])}W&&hc(V),R[V.Index-1||R.length]=V;for(var ge=0;ge<+V.Span;++ge)R[R.length]=qr(V);break;case"namedrange":if(d[1]==="/")break;U.Names||(U.Names=[]);var xe=Is(d[0]),Se={Name:xe.Name,Ref:N0(xe.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Se.Sheet=U.Sheets.length-1),U.Names.push(Se);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(d[0].slice(-2)==="/>")break;d[1]==="/"?T+=a.slice(A,d.index):A=d.index+d[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=ll(d[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(d[0].slice(-2)==="/>")break;d[1]==="/"?F_(L,O,a.slice(B,d.index)):B=d.index+d[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else x.push([d[3],!1]);break;case"comment":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"));l$(fe),oe.push(fe)}else x.push([d[3],!1]),h=ll(d[0]),fe={a:h.Author};break;case"autofilter":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else if(d[0].charAt(d[0].length-2)!=="/"){var De=ll(d[0]);f["!autofilter"]={ref:N0(De.Range).replace(/\$/g,"")},x.push([d[3],!0])}break;case"name":break;case"datavalidation":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&x.push([d[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(d[1]==="/"){if((h=x.pop())[0]!==d[3])throw new Error("Bad state: "+h.join("|"))}else d[0].charAt(d[0].length-2)!=="/"&&x.push([d[3],!0]);break;case"null":break;default:if(x.length==0&&d[3]=="document"||x.length==0&&d[3]=="uof")return d2(a,r);var Fe=!0;switch(x[x.length-1][0]){case"officedocumentsettings":switch(d[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Fe=!1}break;case"componentoptions":switch(d[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Fe=!1}break;case"excelworkbook":switch(d[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Fe=!1}break;case"workbookoptions":switch(d[3]){case"owcversion":break;case"height":break;case"width":break;default:Fe=!1}break;case"worksheetoptions":switch(d[3]){case"visible":if(d[0].slice(-2)!=="/>")if(d[1]==="/")switch(a.slice(B,d.index)){case"SheetHidden":k.Hidden=1;break;case"SheetVeryHidden":k.Hidden=2;break}else B=d.index+d[0].length;break;case"header":f["!margins"]||od(f["!margins"]={},"xlml"),isNaN(+Is(d[0]).Margin)||(f["!margins"].header=+Is(d[0]).Margin);break;case"footer":f["!margins"]||od(f["!margins"]={},"xlml"),isNaN(+Is(d[0]).Margin)||(f["!margins"].footer=+Is(d[0]).Margin);break;case"pagemargins":var Ae=Is(d[0]);f["!margins"]||od(f["!margins"]={},"xlml"),isNaN(+Ae.Top)||(f["!margins"].top=+Ae.Top),isNaN(+Ae.Left)||(f["!margins"].left=+Ae.Left),isNaN(+Ae.Right)||(f["!margins"].right=+Ae.Right),isNaN(+Ae.Bottom)||(f["!margins"].bottom=+Ae.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":f["!outline"]||(f["!outline"]={}),f["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Fe=!1}break;case"pivottable":case"pivotcache":switch(d[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Fe=!1}break;case"pagebreaks":switch(d[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Fe=!1}break;case"autofilter":switch(d[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Fe=!1}break;case"querytable":switch(d[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Fe=!1}break;case"datavalidation":switch(d[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Fe=!1}break;case"sorting":case"conditionalformatting":switch(d[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Fe=!1}break;case"mapinfo":case"schema":case"data":switch(d[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Fe=!1}break;case"smarttags":break;default:Fe=!1;break}if(Fe||d[3].match(/!\[CDATA/))break;if(!x[x.length-1][1])throw"Unrecognized tag: "+d[3]+"|"+x.join("|");if(x[x.length-1][0]==="customdocumentproperties"){if(d[0].slice(-2)==="/>")break;d[1]==="/"?r$(q,O,te,a.slice(B,d.index)):(te=d,B=d.index+d[0].length);break}if(r.WTF)throw"Unrecognized tag: "+d[3]+"|"+x.join("|")}var ze={};return!r.bookSheets&&!r.bookProps&&(ze.Sheets=m),ze.SheetNames=b,ze.Workbook=U,ze.SSF=qr(As),ze.Props=L,ze.Custprops=q,ze}function zy(t,s){switch(wv(s=s||{}),s.type||"base64"){case"base64":return oy(bo(t),s);case"binary":case"buffer":case"file":return oy(t,s);case"array":return oy(bc(t),s)}}function i$(t,s){var r=[];return t.Props&&r.push(P_(t.Props,s)),t.Custprops&&r.push(M_(t.Props,t.Custprops)),r.join("")}function c$(){return""}function d$(t,s){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return s.cellXfs.forEach(function(a,n){var l=[];l.push(ts("NumberFormat",null,{"ss:Format":Tr(As[a.numFmtId])}));var i={"ss:ID":"s"+(21+n)};r.push(ts("Style",l.join(""),i))}),ts("Styles",r.join(""))}function u3(t){return ts("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+pv(t.Ref,{r:0,c:0})})}function u$(t){if(!((t||{}).Workbook||{}).Names)return"";for(var s=t.Workbook.Names,r=[],a=0;a<s.length;++a){var n=s[a];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||r.push(u3(n)))}return ts("Names",r.join(""))}function x$(t,s,r,a){if(!t||!((a||{}).Workbook||{}).Names)return"";for(var n=a.Workbook.Names,l=[],i=0;i<n.length;++i){var d=n[i];d.Sheet==r&&(d.Name.match(/^_xlfn\./)||l.push(u3(d)))}return l.join("")}function h$(t,s,r,a){if(!t)return"";var n=[];if(t["!margins"]&&(n.push("<PageSetup>"),t["!margins"].header&&n.push(ts("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&n.push(ts("Footer",null,{"x:Margin":t["!margins"].footer})),n.push(ts("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),n.push("</PageSetup>")),a&&a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[r])if(a.Workbook.Sheets[r].Hidden)n.push(ts("Visible",a.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<r&&!(a.Workbook.Sheets[l]&&!a.Workbook.Sheets[l].Hidden);++l);l==r&&n.push("<Selected/>")}return((((a||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),t["!protect"]&&(n.push(on("ProtectContents","True")),t["!protect"].objects&&n.push(on("ProtectObjects","True")),t["!protect"].scenarios&&n.push(on("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?n.push(on("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&n.push(on("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){t["!protect"][i[0]]&&n.push("<"+i[1]+"/>")})),n.length==0?"":ts("WorksheetOptions",n.join(""),{xmlns:ho.x})}function m$(t){return t.map(function(s){var r=L8(s.t||""),a=ts("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ts("Comment",a,{"ss:Author":s.a})}).join("")}function p$(t,s,r,a,n,l,i){if(!t||t.v==null&&t.f==null)return"";var d={};if(t.f&&(d["ss:Formula"]="="+Tr(pv(t.f,i))),t.F&&t.F.slice(0,s.length)==s){var x=aa(t.F.slice(s.length+1));d["ss:ArrayRange"]="RC:R"+(x.r==i.r?"":"["+(x.r-i.r)+"]")+"C"+(x.c==i.c?"":"["+(x.c-i.c)+"]")}if(t.l&&t.l.Target&&(d["ss:HRef"]=Tr(t.l.Target),t.l.Tooltip&&(d["x:HRefScreenTip"]=Tr(t.l.Tooltip))),r["!merges"])for(var h=r["!merges"],m=0;m!=h.length;++m)h[m].s.c!=i.c||h[m].s.r!=i.r||(h[m].e.c>h[m].s.c&&(d["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(d["ss:MergeDown"]=h[m].e.r-h[m].s.r));var b="",f="";switch(t.t){case"z":if(!a.sheetStubs)return"";break;case"n":b="Number",f=String(t.v);break;case"b":b="Boolean",f=t.v?"1":"0";break;case"e":b="Error",f=Di[t.v];break;case"d":b="DateTime",f=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||As[14]);break;case"s":b="String",f=I8(t.v||"");break}var N=wc(a.cellXfs,t,a);d["ss:StyleID"]="s"+(21+N),d["ss:Index"]=i.c+1;var p=t.v!=null?f:"",v=t.t=="z"?"":'<Data ss:Type="'+b+'">'+p+"</Data>";return(t.c||[]).length>0&&(v+=m$(t.c)),ts("Cell",v,d)}function f$(t,s){var r='<Row ss:Index="'+(t+1)+'"';return s&&(s.hpt&&!s.hpx&&(s.hpx=M0(s.hpt)),s.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+s.hpx+'"'),s.hidden&&(r+=' ss:Hidden="1"')),r+">"}function g$(t,s,r,a){if(!t["!ref"])return"";var n=nr(t["!ref"]),l=t["!merges"]||[],i=0,d=[];t["!cols"]&&t["!cols"].forEach(function(g,y){hc(g);var C=!!g.width,j=mf(y,g),S={"ss:Index":y+1};C&&(S["ss:Width"]=rx(j.width)),g.hidden&&(S["ss:Hidden"]="1"),d.push(ts("Column",null,S))});for(var x=Array.isArray(t),h=n.s.r;h<=n.e.r;++h){for(var m=[f$(h,(t["!rows"]||[])[h])],b=n.s.c;b<=n.e.c;++b){var f=!1;for(i=0;i!=l.length;++i)if(!(l[i].s.c>b)&&!(l[i].s.r>h)&&!(l[i].e.c<b)&&!(l[i].e.r<h)){(l[i].s.c!=b||l[i].s.r!=h)&&(f=!0);break}if(!f){var N={r:h,c:b},p=Ps(N),v=x?(t[h]||[])[b]:t[p];m.push(p$(v,p,t,s,r,a,N))}}m.push("</Row>"),m.length>2&&d.push(m.join(""))}return d.join("")}function y$(t,s,r){var a=[],n=r.SheetNames[t],l=r.Sheets[n],i=l?x$(l,s,t,r):"";return i.length>0&&a.push("<Names>"+i+"</Names>"),i=l?g$(l,s,t,r):"",i.length>0&&a.push("<Table>"+i+"</Table>"),a.push(h$(l,s,t,r)),a.join("")}function b$(t,s){s||(s={}),t.SSF||(t.SSF=qr(As)),t.SSF&&(V0(),of(t.SSF),s.revssf=cf(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF,s.cellXfs=[],wc(s.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(i$(t,s)),r.push(c$()),r.push(""),r.push("");for(var a=0;a<t.SheetNames.length;++a)r.push(ts("Worksheet",y$(a,s,t),{"ss:Name":Tr(t.SheetNames[a])}));return r[2]=d$(t,s),r[3]=u$(t),ja+ts("Workbook",r.join(""),{xmlns:ho.ss,"xmlns:o":ho.o,"xmlns:x":ho.x,"xmlns:ss":ho.ss,"xmlns:dt":ho.dt,"xmlns:html":ho.html})}function v$(t){var s={},r=t.content;if(r.l=28,s.AnsiUserType=r.read_shift(0,"lpstr-ansi"),s.AnsiClipboardFormat=u_(r),r.length-r.l<=4)return s;var a=r.read_shift(4);if(a==0||a>40||(r.l-=4,s.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(a=r.read_shift(4),a!==1907505652)||(s.UnicodeClipboardFormat=x_(r),a=r.read_shift(4),a==0||a>40))return s;r.l-=4,s.Reserved2=r.read_shift(0,"lpwstr")}var w$=[60,1084,2066,2165,2175];function N$(t,s,r,a,n){var l=a,i=[],d=r.slice(r.l,r.l+l);if(n&&n.enc&&n.enc.insitu&&d.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(d)}i.push(d),r.l+=l;for(var x=mi(r,r.l),h=Vy[x],m=0;h!=null&&w$.indexOf(x)>-1;)l=mi(r,r.l+2),m=r.l+4,x==2066?m+=4:(x==2165||x==2175)&&(m+=12),d=r.slice(m,r.l+4+l),i.push(d),r.l+=4+l,h=Vy[x=mi(r,r.l)];var b=Va(i);nn(b,0);var f=0;b.lens=[];for(var N=0;N<i.length;++N)b.lens.push(f),f+=i[N].length;if(b.length<a)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+b.length+" < "+a;return s.f(b,b.length,n)}function Pl(t,s,r){if(t.t!=="z"&&t.XF){var a=0;try{a=t.z||t.XF.numFmtId||0,s.cellNF&&(t.z=As[a])}catch(l){if(s.WTF)throw l}if(!s||s.cellText!==!1)try{t.t==="e"?t.w=t.w||Di[t.v]:a===0||a=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Ju(t.v):t.w=dd(t.v):t.w=Bo(a,t.v,{date1904:!!r,dateNF:s&&s.dateNF})}catch(l){if(s.WTF)throw l}if(s.cellDates&&a&&t.t=="n"&&z0(As[a]||String(a))){var n=ed(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function tm(t,s,r){return{v:t,ixfe:s,t:r}}function j$(t,s){var r={opts:{}},a={},n=s.dense?[]:{},l={},i={},d=null,x=[],h="",m={},b,f="",N,p,v,g,y={},C=[],j,S,P=[],D=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},M=function(mt){return mt<8?rd[mt]:mt<64&&D[mt-8]||rd[mt]},L=function(mt,jt,we){var Re=jt.XF.data;if(!(!Re||!Re.patternType||!we||!we.cellStyles)){jt.s={},jt.s.patternType=Re.patternType;var me;(me=sx(M(Re.icvFore)))&&(jt.s.fgColor={rgb:me}),(me=sx(M(Re.icvBack)))&&(jt.s.bgColor={rgb:me})}},q=function(mt,jt,we){if(!(H>1)&&!(we.sheetRows&&mt.r>=we.sheetRows)){if(we.cellStyles&&jt.XF&&jt.XF.data&&L(mt,jt,we),delete jt.ixfe,delete jt.XF,b=mt,f=Ps(mt),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),mt.r<i.s.r&&(i.s.r=mt.r),mt.c<i.s.c&&(i.s.c=mt.c),mt.r+1>i.e.r&&(i.e.r=mt.r+1),mt.c+1>i.e.c&&(i.e.c=mt.c+1),we.cellFormula&&jt.f){for(var Re=0;Re<C.length;++Re)if(!(C[Re][0].s.c>mt.c||C[Re][0].s.r>mt.r)&&!(C[Re][0].e.c<mt.c||C[Re][0].e.r<mt.r)){jt.F=Rs(C[Re][0]),(C[Re][0].s.c!=mt.c||C[Re][0].s.r!=mt.r)&&delete jt.f,jt.f&&(jt.f=""+wn(C[Re][1],i,mt,ne,B));break}}we.dense?(n[mt.r]||(n[mt.r]=[]),n[mt.r][mt.c]=jt):n[f]=jt}},B={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:C,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!s&&!!s.cellStyles,WTF:!!s&&!!s.wtf};s.password&&(B.password=s.password);var te,oe=[],fe=[],R=[],V=[],W=!1,ne=[];ne.SheetNames=B.snames,ne.sharedf=B.sharedf,ne.arrayf=B.arrayf,ne.names=[],ne.XTI=[];var J=0,H=0,F=0,I=[],U=[],k;B.codepage=1200,il(1200);for(var O=!1;t.l<t.length-1;){var he=t.l,ye=t.read_shift(2);if(ye===0&&J===10)break;var be=t.l===t.length?0:t.read_shift(2),je=Vy[ye];if(je&&je.f){if(s.bookSheets&&J===133&&ye!==133)break;if(J=ye,je.r===2||je.r==12){var ge=t.read_shift(2);if(be-=2,!B.enc&&ge!==ye&&((ge&255)<<8|ge>>8)!==ye)throw new Error("rt mismatch: "+ge+"!="+ye);je.r==12&&(t.l+=10,be-=10)}var xe={};if(ye===10?xe=je.f(t,be,B):xe=N$(ye,je,t,be,B),H==0&&[9,521,1033,2057].indexOf(J)===-1)continue;switch(ye){case 34:r.opts.Date1904=T.WBProps.date1904=xe;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(B.enc||(t.l=0),B.enc=xe,!s.password)throw new Error("File is password-protected");if(xe.valid==null)throw new Error("Encryption scheme unsupported");if(!xe.valid)throw new Error("Password is incorrect");break;case 92:B.lastuser=xe;break;case 66:var Se=Number(xe);switch(Se){case 21010:Se=1200;break;case 32768:Se=1e4;break;case 32769:Se=1252;break}il(B.codepage=Se),O=!0;break;case 317:B.rrtabid=xe;break;case 25:B.winlocked=xe;break;case 439:r.opts.RefreshAll=xe;break;case 12:r.opts.CalcCount=xe;break;case 16:r.opts.CalcDelta=xe;break;case 17:r.opts.CalcIter=xe;break;case 13:r.opts.CalcMode=xe;break;case 14:r.opts.CalcPrecision=xe;break;case 95:r.opts.CalcSaveRecalc=xe;break;case 15:B.CalcRefMode=xe;break;case 2211:r.opts.FullCalc=xe;break;case 129:xe.fDialog&&(n["!type"]="dialog"),xe.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),xe.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:P.push(xe);break;case 430:ne.push([xe]),ne[ne.length-1].XTI=[];break;case 35:case 547:ne[ne.length-1].push(xe);break;case 24:case 536:k={Name:xe.Name,Ref:wn(xe.rgce,i,null,ne,B)},xe.itab>0&&(k.Sheet=xe.itab-1),ne.names.push(k),ne[0]||(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].push(xe),xe.Name=="_xlnm._FilterDatabase"&&xe.itab>0&&xe.rgce&&xe.rgce[0]&&xe.rgce[0][0]&&xe.rgce[0][0][0]=="PtgArea3d"&&(U[xe.itab-1]={ref:Rs(xe.rgce[0][0][1][2])});break;case 22:B.ExternCount=xe;break;case 23:ne.length==0&&(ne[0]=[],ne[0].XTI=[]),ne[ne.length-1].XTI=ne[ne.length-1].XTI.concat(xe),ne.XTI=ne.XTI.concat(xe);break;case 2196:if(B.biff<8)break;k!=null&&(k.Comment=xe[1]);break;case 18:n["!protect"]=xe;break;case 19:xe!==0&&B.WTF&&console.error("Password verifier: "+xe);break;case 133:l[xe.pos]=xe,B.snames.push(xe.name);break;case 10:{if(--H)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,n["!ref"]=Rs(i),s.sheetRows&&s.sheetRows<=i.e.r){var De=i.e.r;i.e.r=s.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=Rs(i),i.e.r=De}i.e.r++,i.e.c++}oe.length>0&&(n["!merges"]=oe),fe.length>0&&(n["!objects"]=fe),R.length>0&&(n["!cols"]=R),V.length>0&&(n["!rows"]=V),T.Sheets.push(A)}h===""?m=n:a[h]=n,n=s.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(B.biff===8&&(B.biff={9:2,521:3,1033:4}[ye]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[xe.BIFFVer]||8),B.biffguess=xe.BIFFVer==0,xe.BIFFVer==0&&xe.dt==4096&&(B.biff=5,O=!0,il(B.codepage=28591)),B.biff==8&&xe.BIFFVer==0&&xe.dt==16&&(B.biff=2),H++)break;if(n=s.dense?[]:{},B.biff<8&&!O&&(O=!0,il(B.codepage=s.codepage||1252)),B.biff<5||xe.BIFFVer==0&&xe.dt==4096){h===""&&(h="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var Fe={pos:t.l-be,name:h};l[Fe.pos]=Fe,B.snames.push(h)}else h=(l[he]||{name:""}).name;xe.dt==32&&(n["!type"]="chart"),xe.dt==64&&(n["!type"]="macro"),oe=[],fe=[],B.arrayf=C=[],R=[],V=[],W=!1,A={Hidden:(l[he]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(s.dense?(n[xe.r]||[])[xe.c]:n[Ps({c:xe.c,r:xe.r})])&&++xe.c,j={ixfe:xe.ixfe,XF:P[xe.ixfe]||{},v:xe.val,t:"n"},F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:xe.c,r:xe.r},j,s);break;case 5:case 517:j={ixfe:xe.ixfe,XF:P[xe.ixfe],v:xe.val,t:xe.t},F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:xe.c,r:xe.r},j,s);break;case 638:j={ixfe:xe.ixfe,XF:P[xe.ixfe],v:xe.rknum,t:"n"},F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:xe.c,r:xe.r},j,s);break;case 189:for(var Ae=xe.c;Ae<=xe.C;++Ae){var ze=xe.rkrec[Ae-xe.c][0];j={ixfe:ze,XF:P[ze],v:xe.rkrec[Ae-xe.c][1],t:"n"},F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:Ae,r:xe.r},j,s)}break;case 6:case 518:case 1030:{if(xe.val=="String"){d=xe;break}if(j=tm(xe.val,xe.cell.ixfe,xe.tt),j.XF=P[j.ixfe],s.cellFormula){var He=xe.formula;if(He&&He[0]&&He[0][0]&&He[0][0][0]=="PtgExp"){var Ve=He[0][0][1][0],qe=He[0][0][1][1],ve=Ps({r:Ve,c:qe});y[ve]?j.f=""+wn(xe.formula,i,xe.cell,ne,B):j.F=((s.dense?(n[Ve]||[])[qe]:n[ve])||{}).F}else j.f=""+wn(xe.formula,i,xe.cell,ne,B)}F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q(xe.cell,j,s),d=xe}break;case 7:case 519:if(d)d.val=xe,j=tm(xe,d.cell.ixfe,"s"),j.XF=P[j.ixfe],s.cellFormula&&(j.f=""+wn(d.formula,i,d.cell,ne,B)),F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q(d.cell,j,s),d=null;else throw new Error("String record expects Formula");break;case 33:case 545:{C.push(xe);var Me=Ps(xe[0].s);if(N=s.dense?(n[xe[0].s.r]||[])[xe[0].s.c]:n[Me],s.cellFormula&&N){if(!d||!Me||!N)break;N.f=""+wn(xe[1],i,xe[0],ne,B),N.F=Rs(xe[0])}}break;case 1212:{if(!s.cellFormula)break;if(f){if(!d)break;y[Ps(d.cell)]=xe[0],N=s.dense?(n[d.cell.r]||[])[d.cell.c]:n[Ps(d.cell)],(N||{}).f=""+wn(xe[0],i,b,ne,B)}}break;case 253:j=tm(x[xe.isst].t,xe.ixfe,"s"),x[xe.isst].h&&(j.h=x[xe.isst].h),j.XF=P[j.ixfe],F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:xe.c,r:xe.r},j,s);break;case 513:s.sheetStubs&&(j={ixfe:xe.ixfe,XF:P[xe.ixfe],t:"z"},F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:xe.c,r:xe.r},j,s));break;case 190:if(s.sheetStubs)for(var Te=xe.c;Te<=xe.C;++Te){var Le=xe.ixfe[Te-xe.c];j={ixfe:Le,XF:P[Le],t:"z"},F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:Te,r:xe.r},j,s)}break;case 214:case 516:case 4:j=tm(xe.val,xe.ixfe,"s"),j.XF=P[j.ixfe],F>0&&(j.z=I[j.ixfe>>8&63]),Pl(j,s,r.opts.Date1904),q({c:xe.c,r:xe.r},j,s);break;case 0:case 512:H===1&&(i=xe);break;case 252:x=xe;break;case 1054:if(B.biff==4){I[F++]=xe[1];for(var ot=0;ot<F+163&&As[ot]!=xe[1];++ot);ot>=163&&yi(xe[1],F+163)}else yi(xe[1],xe[0]);break;case 30:{I[F++]=xe;for(var Je=0;Je<F+163&&As[Je]!=xe;++Je);Je>=163&&yi(xe,F+163)}break;case 229:oe=oe.concat(xe);break;case 93:fe[xe.cmo[0]]=B.lastobj=xe;break;case 438:B.lastobj.TxO=xe;break;case 127:B.lastobj.ImData=xe;break;case 440:for(g=xe[0].s.r;g<=xe[0].e.r;++g)for(v=xe[0].s.c;v<=xe[0].e.c;++v)N=s.dense?(n[g]||[])[v]:n[Ps({c:v,r:g})],N&&(N.l=xe[1]);break;case 2048:for(g=xe[0].s.r;g<=xe[0].e.r;++g)for(v=xe[0].s.c;v<=xe[0].e.c;++v)N=s.dense?(n[g]||[])[v]:n[Ps({c:v,r:g})],N&&N.l&&(N.l.Tooltip=xe[1]);break;case 28:{if(B.biff<=5&&B.biff>=2)break;N=s.dense?(n[xe[0].r]||[])[xe[0].c]:n[Ps(xe[0])];var Ge=fe[xe[2]];N||(s.dense?(n[xe[0].r]||(n[xe[0].r]=[]),N=n[xe[0].r][xe[0].c]={t:"z"}):N=n[Ps(xe[0])]={t:"z"},i.e.r=Math.max(i.e.r,xe[0].r),i.s.r=Math.min(i.s.r,xe[0].r),i.e.c=Math.max(i.e.c,xe[0].c),i.s.c=Math.min(i.s.c,xe[0].c)),N.c||(N.c=[]),p={a:xe[1],t:Ge.TxO.t},N.c.push(p)}break;case 2173:d9(P[xe.ixfe],xe.ext);break;case 125:{if(!B.cellStyles)break;for(;xe.e>=xe.s;)R[xe.e--]={width:xe.w/256,level:xe.level||0,hidden:!!(xe.flags&1)},W||(W=!0,xv(xe.w/256)),hc(R[xe.e+1])}break;case 520:{var et={};xe.level!=null&&(V[xe.r]=et,et.level=xe.level),xe.hidden&&(V[xe.r]=et,et.hidden=!0),xe.hpt&&(V[xe.r]=et,et.hpt=xe.hpt,et.hpx=M0(xe.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||od(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ye]]=xe;break;case 161:n["!margins"]||od(n["!margins"]={}),n["!margins"].header=xe.header,n["!margins"].footer=xe.footer;break;case 574:xe.RTL&&(T.Views[0].RTL=!0);break;case 146:D=xe;break;case 2198:te=xe;break;case 140:S=xe;break;case 442:h?A.CodeName=xe||A.name:T.WBProps.CodeName=xe||"ThisWorkbook";break}}else je||console.error("Missing Info for XLS Record 0x"+ye.toString(16)),t.l+=be}return r.SheetNames=xa(l).sort(function(yt,mt){return Number(yt)-Number(mt)}).map(function(yt){return l[yt].name}),s.bookSheets||(r.Sheets=a),!r.SheetNames.length&&m["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=m)):r.Preamble=m,r.Sheets&&U.forEach(function(yt,mt){r.Sheets[r.SheetNames[mt]]["!autofilter"]=yt}),r.Strings=x,r.SSF=qr(As),B.enc&&(r.Encryption=B.enc),te&&(r.Themes=te),r.Metadata={},S!==void 0&&(r.Metadata.Country=S),ne.names.length>0&&(T.Names=ne.names),r.Workbook=T,r}var zu={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function C$(t,s,r){var a=ks.find(t,"/!DocumentSummaryInformation");if(a&&a.size>0)try{var n=H1(a,Ry,zu.DSI);for(var l in n)s[l]=n[l]}catch(h){if(r.WTF)throw h}var i=ks.find(t,"/!SummaryInformation");if(i&&i.size>0)try{var d=H1(i,Hy,zu.SI);for(var x in d)s[x]==null&&(s[x]=d[x])}catch(h){if(r.WTF)throw h}s.HeadingPairs&&s.TitlesOfParts&&(dk(s.HeadingPairs,s.TitlesOfParts,s,r),delete s.HeadingPairs,delete s.TitlesOfParts)}function S$(t,s){var r=[],a=[],n=[],l=0,i,d=f1(Ry,"n"),x=f1(Hy,"n");if(t.Props)for(i=xa(t.Props),l=0;l<i.length;++l)(Object.prototype.hasOwnProperty.call(d,i[l])?r:Object.prototype.hasOwnProperty.call(x,i[l])?a:n).push([i[l],t.Props[i[l]]]);if(t.Custprops)for(i=xa(t.Custprops),l=0;l<i.length;++l)Object.prototype.hasOwnProperty.call(t.Props||{},i[l])||(Object.prototype.hasOwnProperty.call(d,i[l])?r:Object.prototype.hasOwnProperty.call(x,i[l])?a:n).push([i[l],t.Custprops[i[l]]]);var h=[];for(l=0;l<n.length;++l)gk.indexOf(n[l][0])>-1||ck.indexOf(n[l][0])>-1||n[l][1]!=null&&h.push(n[l]);a.length&&ks.utils.cfb_add(s,"/SummaryInformation",U1(a,zu.SI,x,Hy)),(r.length||h.length)&&ks.utils.cfb_add(s,"/DocumentSummaryInformation",U1(r,zu.DSI,d,Ry,h.length?h:null,zu.UDI))}function x3(t,s){s||(s={}),wv(s),Wb(),s.codepage&&Ub(s.codepage);var r,a;if(t.FullPaths){if(ks.find(t,"/encryption"))throw new Error("File is password-protected");r=ks.find(t,"!CompObj"),a=ks.find(t,"/Workbook")||ks.find(t,"/Book")}else{switch(s.type){case"base64":t=po(bo(t));break;case"binary":t=po(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}nn(t,0),a={content:t}}var n,l;if(r&&v$(r),s.bookProps&&!s.bookSheets)n={};else{var i=$s?"buffer":"array";if(a&&a.content)n=j$(a.content,s);else if((l=ks.find(t,"PerfectOffice_MAIN"))&&l.content)n=nd.to_workbook(l.content,(s.type=i,s));else if((l=ks.find(t,"NativeContent_MAIN"))&&l.content)n=nd.to_workbook(l.content,(s.type=i,s));else throw(l=ks.find(t,"MN0"))&&l.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");s.bookVBA&&t.FullPaths&&ks.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=B9(t))}var d={};return t.FullPaths&&C$(t,d,s),n.Props=n.Custprops=d,s.bookFiles&&(n.cfb=t),n}function k$(t,s){var r=s||{},a=ks.utils.cfb_new({root:"R"}),n="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":n="/Workbook",r.biff=8;break;case"biff5":n="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ks.utils.cfb_add(a,n,h3(t,r)),r.biff==8&&(t.Props||t.Custprops)&&S$(t,a),r.biff==8&&t.vbaraw&&R9(a,ks.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),a}var ox={0:{f:XU},1:{f:aW},2:{f:jW},3:{f:xW},4:{f:iW},5:{f:vW},6:{f:EW},7:{f:fW},8:{f:LW},9:{f:IW},10:{f:PW},11:{f:MW},12:{f:oW},13:{f:SW},14:{f:mW},15:{f:dW},16:{f:a3},17:{f:AW},18:{f:yW},19:{f:sv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:AG},40:{},42:{},43:{f:ER},44:{f:kR},45:{f:FR},46:{f:MR},47:{f:PR},48:{},49:{f:Z8},50:{},51:{f:h9},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Ek},62:{f:DW},63:{f:N9},64:{f:JW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:En,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:YW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sW},148:{f:ZU,p:16},151:{f:UW},152:{},153:{f:DG},154:{},155:{},156:{f:SG},157:{},158:{},159:{T:1,f:GB},160:{T:-1},161:{T:1,f:Sd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_W},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:u9},336:{T:-1},337:{f:f9,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:By},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Dk},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:WW},427:{f:GW},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zW},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:tW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:RW},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:By},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:M9},633:{T:1},634:{T:-1},635:{T:1,f:F9},636:{T:-1},637:{f:r_},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:QW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Vy={6:{f:ay},10:{f:Ji},12:{f:Ea},13:{f:Ea},14:{f:fa},15:{f:fa},16:{f:Cn},17:{f:fa},18:{f:fa},19:{f:Ea},20:{f:Y1},21:{f:Y1},23:{f:Dk},24:{f:q1},25:{f:fa},26:{},27:{},28:{f:QO},29:{},34:{f:fa},35:{f:K1},38:{f:Cn},39:{f:Cn},40:{f:Cn},41:{f:Cn},42:{f:fa},43:{f:fa},47:{f:dR},49:{f:SO},51:{f:Ea},60:{},61:{f:vO},64:{f:fa},65:{f:CO},66:{f:Ea},77:{},80:{},81:{},82:{},85:{f:Ea},89:{},90:{},91:{},92:{f:cO},93:{f:tB},94:{},95:{f:fa},96:{},97:{},99:{f:fa},125:{f:Ek},128:{f:HO},129:{f:uO},130:{f:Ea},131:{f:fa},132:{f:fa},133:{f:xO},134:{},140:{f:cB},141:{f:Ea},144:{},146:{f:xB},151:{},152:{},153:{},154:{},155:{},156:{f:Ea},157:{},158:{},160:{f:bB},161:{f:pB},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:_O},190:{f:OO},193:{f:Ji},197:{},198:{},199:{},200:{},201:{},202:{f:fa},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ea},220:{},221:{f:fa},222:{},224:{f:RO},225:{f:iO},226:{f:Ji},227:{},229:{f:ZO},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:mO},253:{f:DO},255:{f:fO},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:yk},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fa},353:{f:Ji},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:zO},431:{f:fa},432:{},433:{},434:{},437:{},438:{f:aB},439:{f:fa},440:{f:nB},441:{},442:{f:Fx},443:{},444:{f:Ea},445:{},446:{},448:{f:Ji},449:{f:bO,r:2},450:{f:Ji},512:{f:$1},513:{f:yB},515:{f:GO},516:{f:TO},517:{f:V1},519:{f:vB},520:{f:gO},523:{},545:{f:X1},549:{f:G1},566:{},574:{f:NO},638:{f:LO},659:{},1048:{},1054:{f:FO},1084:{},1212:{f:qO},2048:{f:lB},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Qh},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ji},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:hB,r:12},2173:{f:c9,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fa,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:KO,r:12},2197:{},2198:{f:r9,r:12},2199:{},2200:{},2201:{},2202:{f:XO,r:12},2203:{f:Ji},2204:{},2205:{},2206:{},2207:{},2211:{f:yO},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ea},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:fB},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:uB},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:$1},1:{},2:{f:SB},3:{f:jB},4:{f:NB},5:{f:V1},7:{f:DB},8:{},9:{f:Qh},11:{},22:{f:Ea},30:{f:MO},31:{},32:{},33:{f:X1},36:{},37:{f:G1},50:{f:EB},62:{},52:{},67:{},68:{f:Ea},69:{},86:{},126:{},127:{f:wB},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:TB},223:{},234:{},354:{},421:{},518:{f:ay},521:{f:Qh},536:{f:q1},547:{f:K1},561:{},579:{},1030:{f:ay},1033:{f:Qh},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ss(t,s,r,a){var n=s;if(!isNaN(n)){var l=a||(r||[]).length||0,i=t.next(4);i.write_shift(2,n),i.write_shift(2,l),l>0&&Zb(r)&&t.push(r)}}function D$(t,s,r,a){var n=(r||[]).length||0;if(n<=8224)return ss(t,s,r,n);var l=s;if(!isNaN(l)){for(var i=r.parts||[],d=0,x=0,h=0;h+(i[d]||8224)<=8224;)h+=i[d]||8224,d++;var m=t.next(4);for(m.write_shift(2,l),m.write_shift(2,h),t.push(r.slice(x,x+h)),x+=h;x<n;){for(m=t.next(4),m.write_shift(2,60),h=0;h+(i[d]||8224)<=8224;)h+=i[d]||8224,d++;m.write_shift(2,h),t.push(r.slice(x,x+h)),x+=h}}}function Lx(t,s,r){return t||(t=Wt(7)),t.write_shift(2,s),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function E$(t,s,r,a){var n=Wt(9);return Lx(n,t,s),bk(r,a||"b",n),n}function T$(t,s,r){var a=Wt(8+2*r.length);return Lx(a,t,s),a.write_shift(1,r.length),a.write_shift(r.length,r,"sbcs"),a.l<a.length?a.slice(0,a.l):a}function A$(t,s,r,a){if(s.v!=null)switch(s.t){case"d":case"n":var n=s.t=="d"?Ma(Kr(s.v)):s.v;n==(n|0)&&n>=0&&n<65536?ss(t,2,kB(r,a,n)):ss(t,3,CB(r,a,n));return;case"b":case"e":ss(t,5,E$(r,a,s.v,s.t));return;case"s":case"str":ss(t,4,T$(r,a,(s.v||"").slice(0,255)));return}ss(t,1,Lx(null,r,a))}function F$(t,s,r,a){var n=Array.isArray(s),l=nr(s["!ref"]||"A1"),i,d="",x=[];if(l.e.c>255||l.e.r>16383){if(a.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),i=Rs(l)}for(var h=l.s.r;h<=l.e.r;++h){d=ba(h);for(var m=l.s.c;m<=l.e.c;++m){h===l.s.r&&(x[m]=ra(m)),i=x[m]+d;var b=n?(s[h]||[])[m]:s[i];b&&A$(t,b,h,m)}}}function P$(t,s){for(var r=s||{},a=to(),n=0,l=0;l<t.SheetNames.length;++l)t.SheetNames[l]==r.sheet&&(n=l);if(n==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ss(a,r.biff==4?1033:r.biff==3?521:9,cv(t,16,r)),F$(a,t.Sheets[t.SheetNames[n]],n,r),ss(a,10),a.end()}function M$(t,s,r){ss(t,49,kO({sz:12,name:"Arial"},r))}function I$(t,s,r){s&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(a){for(var n=a[0];n<=a[1];++n)s[n]!=null&&ss(t,1054,PO(n,s[n],r))})}function L$(t,s){var r=Wt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ss(t,2151,r),r=Wt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Ck(nr(s["!ref"]||"A1"),r),r.write_shift(4,4),ss(t,2152,r)}function _$(t,s){for(var r=0;r<16;++r)ss(t,224,z1({numFmtId:0,style:!0},0,s));s.cellXfs.forEach(function(a){ss(t,224,z1(a,0,s))})}function O$(t,s){for(var r=0;r<s["!links"].length;++r){var a=s["!links"][r];ss(t,440,oB(a)),a[1].Tooltip&&ss(t,2048,iB(a))}delete s["!links"]}function B$(t,s){if(s){var r=0;s.forEach(function(a,n){++r<=256&&a&&ss(t,125,mB(mf(n,a),n))})}}function R$(t,s,r,a,n){var l=16+wc(n.cellXfs,s,n);if(s.v==null&&!s.bf){ss(t,513,md(r,a,l));return}if(s.bf)ss(t,6,uU(s,r,a,n,l));else switch(s.t){case"d":case"n":var i=s.t=="d"?Ma(Kr(s.v)):s.v;ss(t,515,$O(r,a,i,l));break;case"b":case"e":ss(t,517,WO(r,a,s.v,l,n,s.t));break;case"s":case"str":if(n.bookSST){var d=gv(n.Strings,s.v,n.revStrings);ss(t,253,EO(r,a,d,l))}else ss(t,516,AO(r,a,(s.v||"").slice(0,255),l,n));break;default:ss(t,513,md(r,a,l))}}function H$(t,s,r){var a=to(),n=r.SheetNames[t],l=r.Sheets[n]||{},i=(r||{}).Workbook||{},d=(i.Sheets||[])[t]||{},x=Array.isArray(l),h=s.biff==8,m,b="",f=[],N=nr(l["!ref"]||"A1"),p=h?65536:16384;if(N.e.c>255||N.e.r>=p){if(s.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");N.e.c=Math.min(N.e.c,255),N.e.r=Math.min(N.e.c,p-1)}ss(a,2057,cv(r,16,s)),ss(a,13,Lo(1)),ss(a,12,Lo(100)),ss(a,15,Ln(!0)),ss(a,17,Ln(!1)),ss(a,16,xd(.001)),ss(a,95,Ln(!0)),ss(a,42,Ln(!1)),ss(a,43,Ln(!1)),ss(a,130,Lo(1)),ss(a,128,UO()),ss(a,131,Ln(!1)),ss(a,132,Ln(!1)),h&&B$(a,l["!cols"]),ss(a,512,IO(N,s)),h&&(l["!links"]=[]);for(var v=N.s.r;v<=N.e.r;++v){b=ba(v);for(var g=N.s.c;g<=N.e.c;++g){v===N.s.r&&(f[g]=ra(g)),m=f[g]+b;var y=x?(l[v]||[])[g]:l[m];y&&(R$(a,y,v,g,s),h&&y.l&&l["!links"].push([m,y.l]))}}var C=d.CodeName||d.name||n;return h&&ss(a,574,jO((i.Views||[])[0])),h&&(l["!merges"]||[]).length&&ss(a,229,eB(l["!merges"])),h&&O$(a,l),ss(a,442,vk(C)),h&&L$(a,l),ss(a,10),a.end()}function U$(t,s,r){var a=to(),n=(t||{}).Workbook||{},l=n.Sheets||[],i=n.WBProps||{},d=r.biff==8,x=r.biff==5;if(ss(a,2057,cv(t,5,r)),r.bookType=="xla"&&ss(a,135),ss(a,225,d?Lo(1200):null),ss(a,193,W_(2)),x&&ss(a,191),x&&ss(a,192),ss(a,226),ss(a,92,dO("SheetJS",r)),ss(a,66,Lo(d?1200:1252)),d&&ss(a,353,Lo(0)),d&&ss(a,448),ss(a,317,gB(t.SheetNames.length)),d&&t.vbaraw&&ss(a,211),d&&t.vbaraw){var h=i.CodeName||"ThisWorkbook";ss(a,442,vk(h))}ss(a,156,Lo(17)),ss(a,25,Ln(!1)),ss(a,18,Ln(!1)),ss(a,19,Lo(0)),d&&ss(a,431,Ln(!1)),d&&ss(a,444,Lo(0)),ss(a,61,wO()),ss(a,64,Ln(!1)),ss(a,141,Lo(0)),ss(a,34,Ln(bG(t)=="true")),ss(a,14,Ln(!0)),d&&ss(a,439,Ln(!1)),ss(a,218,Lo(0)),M$(a,t,r),I$(a,t.SSF,r),_$(a,r),d&&ss(a,352,Ln(!1));var m=a.end(),b=to();d&&ss(b,140,dB()),d&&r.Strings&&D$(b,252,pO(r.Strings)),ss(b,10);var f=b.end(),N=to(),p=0,v=0;for(v=0;v<t.SheetNames.length;++v)p+=(d?12:11)+(d?2:1)*t.SheetNames[v].length;var g=m.length+p+f.length;for(v=0;v<t.SheetNames.length;++v){var y=l[v]||{};ss(N,133,hO({pos:g,hs:y.Hidden||0,dt:0,name:t.SheetNames[v]},r)),g+=s[v].length}var C=N.end();if(p!=C.length)throw new Error("BS8 "+p+" != "+C.length);var j=[];return m.length&&j.push(m),C.length&&j.push(C),f.length&&j.push(f),Va(j)}function W$(t,s){var r=s||{},a=[];t&&!t.SSF&&(t.SSF=qr(As)),t&&t.SSF&&(V0(),of(t.SSF),r.revssf=cf(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Nv(r),r.cellXfs=[],wc(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var n=0;n<t.SheetNames.length;++n)a[a.length]=H$(n,r,t);return a.unshift(U$(t,a,r)),Va(a)}function h3(t,s){for(var r=0;r<=t.SheetNames.length;++r){var a=t.Sheets[t.SheetNames[r]];if(!(!a||!a["!ref"])){var n=ro(a["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var l=s||{};switch(l.biff||2){case 8:case 5:return W$(t,s);case 4:case 3:case 2:return P$(t,s)}throw new Error("invalid type "+l.bookType+" for BIFF")}function o2(t,s){var r=s||{},a=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var n=t.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var l=t.match(/<\/table/i),i=n.index,d=l&&l.index||t.length,x=k8(t.slice(i,d),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,m=0,b=0,f=0,N={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<x.length;++i){var v=x[i].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++h,r.sheetRows&&r.sheetRows<=h){--h;break}m=0;continue}if(!(g!="<td"&&g!="<th")){var y=v.split(/<\/t[dh]>/i);for(d=0;d<y.length;++d){var C=y[d].trim();if(C.match(/<t[dh]/i)){for(var j=C,S=0;j.charAt(0)=="<"&&(S=j.indexOf(">"))>-1;)j=j.slice(S+1);for(var P=0;P<p.length;++P){var D=p[P];D.s.c==m&&D.s.r<h&&h<=D.e.r&&(m=D.e.c+1,P=-1)}var T=Is(C.slice(0,C.indexOf(">")));f=T.colspan?+T.colspan:1,((b=+T.rowspan)>1||f>1)&&p.push({s:{r:h,c:m},e:{r:h+(b||1)-1,c:m+f-1}});var A=T.t||T["data-t"]||"";if(!j.length){m+=f;continue}if(j=OS(j),N.s.r>h&&(N.s.r=h),N.e.r<h&&(N.e.r=h),N.s.c>m&&(N.s.c=m),N.e.c<m&&(N.e.c=m),!j.length){m+=f;continue}var M={t:"s",v:j};r.raw||!j.trim().length||A=="s"||(j==="TRUE"?M={t:"b",v:!0}:j==="FALSE"?M={t:"b",v:!1}:isNaN(ul(j))?isNaN(F0(j).getDate())||(M={t:"d",v:Kr(j)},r.cellDates||(M={t:"n",v:Ma(M.v)}),M.z=r.dateNF||As[14]):M={t:"n",v:ul(j)}),r.dense?(a[h]||(a[h]=[]),a[h][m]=M):a[Ps({r:h,c:m})]=M,m+=f}}}}return a["!ref"]=Rs(N),p.length&&(a["!merges"]=p),a}function G$(t,s,r,a){for(var n=t["!merges"]||[],l=[],i=s.s.c;i<=s.e.c;++i){for(var d=0,x=0,h=0;h<n.length;++h)if(!(n[h].s.r>r||n[h].s.c>i)&&!(n[h].e.r<r||n[h].e.c<i)){if(n[h].s.r<r||n[h].s.c<i){d=-1;break}d=n[h].e.r-n[h].s.r+1,x=n[h].e.c-n[h].s.c+1;break}if(!(d<0)){var m=Ps({r,c:i}),b=a.dense?(t[r]||[])[i]:t[m],f=b&&b.v!=null&&(b.h||Xb(b.w||(ji(b),b.w)||""))||"",N={};d>1&&(N.rowspan=d),x>1&&(N.colspan=x),a.editable?f='<span contenteditable="true">'+f+"</span>":b&&(N["data-t"]=b&&b.t||"z",b.v!=null&&(N["data-v"]=b.v),b.z!=null&&(N["data-z"]=b.z),b.l&&(b.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+b.l.Target+'">'+f+"</a>")),N.id=(a.id||"sjs")+"-"+m,l.push(ts("td",f,N))}}var p="<tr>";return p+l.join("")+"</tr>"}var $$='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',z$="</body></html>";function V$(t,s){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return vc(o2(r[0],s),s);var a=Sv();return r.forEach(function(n,l){kv(a,o2(n,s),"Sheet"+(l+1))}),a}function Y$(t,s,r){var a=[];return a.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function m3(t,s){var r=s||{},a=r.header!=null?r.header:$$,n=r.footer!=null?r.footer:z$,l=[a],i=ro(t["!ref"]);r.dense=Array.isArray(t),l.push(Y$(t,i,r));for(var d=i.s.r;d<=i.e.r;++d)l.push(G$(t,i,d,r));return l.push("</table>"+n),l.join("")}function p3(t,s,r){var a=r||{},n=0,l=0;if(a.origin!=null)if(typeof a.origin=="number")n=a.origin;else{var i=typeof a.origin=="string"?aa(a.origin):a.origin;n=i.r,l=i.c}var d=s.getElementsByTagName("tr"),x=Math.min(a.sheetRows||1e7,d.length),h={s:{r:0,c:0},e:{r:n,c:l}};if(t["!ref"]){var m=ro(t["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),n==-1&&(h.e.r=n=m.e.r+1)}var b=[],f=0,N=t["!rows"]||(t["!rows"]=[]),p=0,v=0,g=0,y=0,C=0,j=0;for(t["!cols"]||(t["!cols"]=[]);p<d.length&&v<x;++p){var S=d[p];if(l2(S)){if(a.display)continue;N[v]={hidden:!0}}var P=S.children;for(g=y=0;g<P.length;++g){var D=P[g];if(!(a.display&&l2(D))){var T=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):OS(D.innerHTML),A=D.getAttribute("data-z")||D.getAttribute("z");for(f=0;f<b.length;++f){var M=b[f];M.s.c==y+l&&M.s.r<v+n&&v+n<=M.e.r&&(y=M.e.c+1-l,f=-1)}j=+D.getAttribute("colspan")||1,((C=+D.getAttribute("rowspan")||1)>1||j>1)&&b.push({s:{r:v+n,c:y+l},e:{r:v+n+(C||1)-1,c:y+l+(j||1)-1}});var L={t:"s",v:T},q=D.getAttribute("data-t")||D.getAttribute("t")||"";T!=null&&(T.length==0?L.t=q||"z":a.raw||T.trim().length==0||q=="s"||(T==="TRUE"?L={t:"b",v:!0}:T==="FALSE"?L={t:"b",v:!1}:isNaN(ul(T))?isNaN(F0(T).getDate())||(L={t:"d",v:Kr(T)},a.cellDates||(L={t:"n",v:Ma(L.v)}),L.z=a.dateNF||As[14]):L={t:"n",v:ul(T)})),L.z===void 0&&A!=null&&(L.z=A);var B="",te=D.getElementsByTagName("A");if(te&&te.length)for(var oe=0;oe<te.length&&!(te[oe].hasAttribute("href")&&(B=te[oe].getAttribute("href"),B.charAt(0)!="#"));++oe);B&&B.charAt(0)!="#"&&(L.l={Target:B}),a.dense?(t[v+n]||(t[v+n]=[]),t[v+n][y+l]=L):t[Ps({c:y+l,r:v+n})]=L,h.e.c<y+l&&(h.e.c=y+l),y+=j}}++v}return b.length&&(t["!merges"]=(t["!merges"]||[]).concat(b)),h.e.r=Math.max(h.e.r,v-1+n),t["!ref"]=Rs(h),v>=x&&(t["!fullref"]=Rs((h.e.r=d.length-p+v-1+n,h))),t}function f3(t,s){var r=s||{},a=r.dense?[]:{};return p3(a,t,s)}function K$(t,s){return vc(f3(t,s),s)}function l2(t){var s="",r=q$(t);return r&&(s=r(t).getPropertyValue("display")),s||(s=t.style&&t.style.display),s==="none"}function q$(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function X$(t){var s=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(a,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ar(s.replace(/<[^>]*>/g,""));return[r]}var i2={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function g3(t,s){var r=s||{},a=Jb(t),n=[],l,i,d={name:""},x="",h=0,m,b,f={},N=[],p=r.dense?[]:{},v,g,y={value:""},C="",j=0,S=[],P=-1,D=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,M={},L=[],q={},B=0,te=0,oe=[],fe=1,R=1,V=[],W={Names:[]},ne={},J=["",""],H=[],F={},I="",U=0,k=!1,O=!1,he=0;for(ex.lastIndex=0,a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=ex.exec(a);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?p["!ref"]=Rs(T):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(p["!fullref"]=p["!ref"],T.e.r=r.sheetRows-1,p["!ref"]=Rs(T)),L.length&&(p["!merges"]=L),oe.length&&(p["!rows"]=oe),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),N.push(m.name),f[m.name]=p,O=!1):v[0].charAt(v[0].length-2)!=="/"&&(m=Is(v[0],!1),P=D=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,p=r.dense?[]:{},L=[],oe=[],O=!0);break;case"table-row-group":v[1]==="/"?--A:++A;break;case"table-row":case"":if(v[1]==="/"){P+=fe,fe=1;break}if(b=Is(v[0],!1),b.?P=b.-1:P==-1&&(P=0),fe=+b["number-rows-repeated"]||1,fe<10)for(he=0;he<fe;++he)A>0&&(oe[P+he]={level:A});D=-1;break;case"covered-table-cell":v[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(p[P]||(p[P]=[]),p[P][D]={t:"z"}):p[Ps({r:P,c:D})]={t:"z"}),C="",S=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++D,y=Is(v[0],!1),R=parseInt(y["number-columns-repeated"]||"1",10),g={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(g.f=r2(ar(y.formula))),(y.||y["value-type"])=="string"&&(g.t="s",g.v=ar(y["string-value"]||""),r.dense?(p[P]||(p[P]=[]),p[P][D]=g):p[Ps({r:P,c:D})]=g),D+=R-1;else if(v[1]!=="/"){++D,C="",j=0,S=[],R=1;var ye=fe?P+fe-1:P;if(D>T.e.c&&(T.e.c=D),D<T.s.c&&(T.s.c=D),P<T.s.r&&(T.s.r=P),ye>T.e.r&&(T.e.r=ye),y=Is(v[0],!1),H=[],F={},g={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=ar(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(B=parseInt(y["number-matrix-rows-spanned"],10)||0,te=parseInt(y["number-matrix-columns-spanned"],10)||0,q={s:{r:P,c:D},e:{r:P+B-1,c:D+te-1}},g.F=Rs(q),V.push([q,g.F])),y.formula)g.f=r2(y.formula);else for(he=0;he<V.length;++he)P>=V[he][0].s.r&&P<=V[he][0].e.r&&D>=V[he][0].s.c&&D<=V[he][0].e.c&&(g.F=V[he][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(B=parseInt(y["number-rows-spanned"],10)||0,te=parseInt(y["number-columns-spanned"],10)||0,q={s:{r:P,c:D},e:{r:P+B-1,c:D+te-1}},L.push(q)),y["number-columns-repeated"]&&(R=parseInt(y["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Yr(y["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(y.value);break;case"percentage":g.t="n",g.v=parseFloat(y.value);break;case"currency":g.t="n",g.v=parseFloat(y.value);break;case"date":g.t="d",g.v=Kr(y["date-value"]),r.cellDates||(g.t="n",g.v=Ma(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=j8(y["time-value"])/86400,r.cellDates&&(g.t="d",g.v=df(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(y.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",y["string-value"]!=null&&(C=ar(y["string-value"]),S=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(k=!1,g.t==="s"&&(g.v=C||"",S.length&&(g.R=S),k=j==0),ne.Target&&(g.l=ne),H.length>0&&(g.c=H,H=[]),C&&r.cellText!==!1&&(g.w=C),k&&(g.t="z",delete g.v),(!k||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var be=0;be<fe;++be){if(R=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[P+be]||(p[P+be]=[]),p[P+be][D]=be==0?g:qr(g);--R>0;)p[P+be][D+R]=qr(g);else for(p[Ps({r:P+be,c:D})]=g;--R>0;)p[Ps({r:P+be,c:D+R})]=qr(g);T.e.c<=D&&(T.e.c=D)}R=parseInt(y["number-columns-repeated"]||"1",10),D+=R-1,R=0,g={},C="",S=[]}ne={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l;F.t=C,S.length&&(F.R=S),F.a=I,H.push(F)}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);I="",U=0,C="",j=0,S=[];break;case"creator":v[1]==="/"?I=a.slice(U,v.index):U=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);C="",j=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(M[d.name]=x,(l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&(x="",d=Is(v[0],!1),n.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":i=Is(v[0],!1),x+=i2[v[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":i=Is(v[0],!1),x+=i2[v[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":x+=a.slice(h,v.index);break}else h=v.index+v[0].length;break;case"named-range":i=Is(v[0],!1),J=ny(i["cell-range-address"]);var je={Name:i.name,Ref:J[0]+"!"+J[1]};O&&(je.Sheet=N.length),W.Names.push(je);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(v[1]==="/"&&(!y||!y["string-value"])){var ge=X$(a.slice(j,v.index));C=(C.length>0?C+`
`:"")+ge[0]}else Is(v[0],!1),j=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{J=ny(Is(v[0])["target-range-address"]),f[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(ne=Is(v[0],!1),!ne.href)break;ne.Target=ar(ne.href),delete ne.href,ne.Target.charAt(0)=="#"&&ne.Target.indexOf(".")>-1?(J=ny(ne.Target.slice(1)),ne.Target="#"+J[0]+"!"+J[1]):ne.Target.match(/^\.\.[\\\/]/)&&(ne.Target=ne.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var xe={Sheets:f,SheetNames:N,Workbook:W};return r.bookSheets&&delete xe.Sheets,xe}function c2(t,s){s=s||{},Io(t,"META-INF/manifest.xml")&&j_(Da(t,"META-INF/manifest.xml"),s);var r=fo(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var a=g3(Pr(r),s);return Io(t,"meta.xml")&&(a.Props=lk(Da(t,"meta.xml"))),a}function d2(t,s){return g3(t,s)}var J$=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),s="<office:document-styles "+Zu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ja+s}})(),u2=(function(){var t=function(l){return Tr(l).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},s=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,a=function(l,i,d){var x=[];x.push('      <table:table table:name="'+Tr(i.SheetNames[d])+`" table:style-name="ta1">
`);var h=0,m=0,b=ro(l["!ref"]||"A1"),f=l["!merges"]||[],N=0,p=Array.isArray(l);if(l["!cols"])for(m=0;m<=b.e.c;++m)x.push("        <table:table-column"+(l["!cols"][m]?' table:style-name="co'+l["!cols"][m].ods+'"':"")+`></table:table-column>
`);var v="",g=l["!rows"]||[];for(h=0;h<b.s.r;++h)v=g[h]?' table:style-name="ro'+g[h].ods+'"':"",x.push("        <table:table-row"+v+`></table:table-row>
`);for(;h<=b.e.r;++h){for(v=g[h]?' table:style-name="ro'+g[h].ods+'"':"",x.push("        <table:table-row"+v+`>
`),m=0;m<b.s.c;++m)x.push(s);for(;m<=b.e.c;++m){var y=!1,C={},j="";for(N=0;N!=f.length;++N)if(!(f[N].s.c>m)&&!(f[N].s.r>h)&&!(f[N].e.c<m)&&!(f[N].e.r<h)){(f[N].s.c!=m||f[N].s.r!=h)&&(y=!0),C["table:number-columns-spanned"]=f[N].e.c-f[N].s.c+1,C["table:number-rows-spanned"]=f[N].e.r-f[N].s.r+1;break}if(y){x.push(r);continue}var S=Ps({r:h,c:m}),P=p?(l[h]||[])[m]:l[S];if(P&&P.f&&(C["table:formula"]=Tr(gU(P.f)),P.F&&P.F.slice(0,S.length)==S)){var D=ro(P.F);C["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,C["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!P){x.push(s);continue}switch(P.t){case"b":j=P.v?"TRUE":"FALSE",C["office:value-type"]="boolean",C["office:boolean-value"]=P.v?"true":"false";break;case"n":j=P.w||String(P.v||0),C["office:value-type"]="float",C["office:value"]=P.v||0;break;case"s":case"str":j=P.v==null?"":P.v,C["office:value-type"]="string";break;case"d":j=P.w||Kr(P.v).toISOString(),C["office:value-type"]="date",C["office:date-value"]=Kr(P.v).toISOString(),C["table:style-name"]="ce1";break;default:x.push(s);continue}var T=t(j);if(P.l&&P.l.Target){var A=P.l.Target;A=A.charAt(0)=="#"?"#"+yU(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),T=ts("text:a",T,{"xlink:href":A.replace(/&/g,"&amp;")})}x.push("          "+ts("table:table-cell",ts("text:p",T,{}),C)+`
`)}x.push(`        </table:table-row>
`)}return x.push(`      </table:table>
`),x.join("")},n=function(l,i){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var d=0;i.SheetNames.map(function(h){return i.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var b=h["!cols"][m];if(b.width==null&&b.wpx==null&&b.wch==null)continue;hc(b),b.ods=d;var f=h["!cols"][m].wpx+"px";l.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),l.push(`  </style:style>
`),++d}}});var x=0;i.SheetNames.map(function(h){return i.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=x;var b=h["!rows"][m].hpx+"px";l.push('  <style:style style:name="ro'+x+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+b+`"/>
`),l.push(`  </style:style>
`),++x}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(i,d){var x=[ja],h=Zu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Zu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(x.push("<office:document"+h+m+`>
`),x.push(ok().replace(/office:document-meta/g,"office:meta"))):x.push("<office:document-content"+h+`>
`),n(x,i),x.push(`  <office:body>
`),x.push(`    <office:spreadsheet>
`);for(var b=0;b!=i.SheetNames.length;++b)x.push(a(i.Sheets[i.SheetNames[b]],i,b));return x.push(`    </office:spreadsheet>
`),x.push(`  </office:body>
`),d.bookType=="fods"?x.push("</office:document>"):x.push("</office:document-content>"),x.join("")}})();function y3(t,s){if(s.bookType=="fods")return u2(t,s);var r=Yb(),a="",n=[],l=[];return a="mimetype",Hs(r,a,"application/vnd.oasis.opendocument.spreadsheet"),a="content.xml",Hs(r,a,u2(t,s)),n.push([a,"text/xml"]),l.push([a,"ContentFile"]),a="styles.xml",Hs(r,a,J$(t,s)),n.push([a,"text/xml"]),l.push([a,"StylesFile"]),a="meta.xml",Hs(r,a,ja+ok()),n.push([a,"text/xml"]),l.push([a,"MetadataFile"]),a="manifest.rdf",Hs(r,a,k_(l)),n.push([a,"application/rdf+xml"]),a="META-INF/manifest.xml",Hs(r,a,C_(n)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function pd(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Yy(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Pr(bc(t))}function Q$(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):po(Rl(t))}function Z$(t,s){e:for(var r=0;r<=t.length-s.length;++r){for(var a=0;a<s.length;++a)if(t[r+a]!=s[a])continue e;return!0}return!1}function pc(t){var s=t.reduce(function(n,l){return n+l.length},0),r=new Uint8Array(s),a=0;return t.forEach(function(n){r.set(n,a),a+=n.length}),r}function x2(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function ez(t,s){for(var r=(t[s+15]&127)<<7|t[s+14]>>1,a=t[s+14]&1,n=s+13;n>=s;--n)a=a*256+t[n];return(t[s+15]&128?-a:a)*Math.pow(10,r-6176)}function tz(t,s,r){var a=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,n=r/Math.pow(10,a-6176);t[s+15]|=a>>7,t[s+14]|=(a&127)<<1;for(var l=0;n>=1;++l,n/=256)t[s+l]=n&255;t[s+15]|=r>=0?0:128}function lx(t,s){var r=s?s[0]:0,a=t[r]&127;e:if(t[r++]>=128&&(a|=(t[r]&127)<<7,t[r++]<128||(a|=(t[r]&127)<<14,t[r++]<128)||(a|=(t[r]&127)<<21,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(a+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return s&&(s[0]=r),a}function Sr(t){var s=new Uint8Array(7);s[0]=t&127;var r=1;e:if(t>127){if(s[r-1]|=128,s[r]=t>>7&127,++r,t<=16383||(s[r-1]|=128,s[r]=t>>14&127,++r,t<=2097151)||(s[r-1]|=128,s[r]=t>>21&127,++r,t<=268435455)||(s[r-1]|=128,s[r]=t/256>>>21&127,++r,t<=34359738367)||(s[r-1]|=128,s[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;s[r-1]|=128,s[r]=t/16777216>>>21&127,++r}return s.slice(0,r)}function da(t){var s=0,r=t[s]&127;e:if(t[s++]>=128){if(r|=(t[s]&127)<<7,t[s++]<128||(r|=(t[s]&127)<<14,t[s++]<128)||(r|=(t[s]&127)<<21,t[s++]<128))break e;r|=(t[s]&127)<<28}return r}function ur(t){for(var s=[],r=[0];r[0]<t.length;){var a=r[0],n=lx(t,r),l=n&7;n=Math.floor(n/8);var i=0,d;if(n==0)break;switch(l){case 0:{for(var x=r[0];t[r[0]++]>=128;);d=t.slice(x,r[0])}break;case 5:i=4,d=t.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,d=t.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=lx(t,r),d=t.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(n," at offset ").concat(a))}var h={data:d,type:l};s[n]==null?s[n]=[h]:s[n].push(h)}return s}function rn(t){var s=[];return t.forEach(function(r,a){r.forEach(function(n){n.data&&(s.push(Sr(a*8+n.type)),n.type==2&&s.push(Sr(n.data.length)),s.push(n.data))})}),pc(s)}function vv(t,s){return t?.map(function(r){return s(r.data)})||[]}function Po(t){for(var s,r=[],a=[0];a[0]<t.length;){var n=lx(t,a),l=ur(t.slice(a[0],a[0]+n));a[0]+=n;var i={id:da(l[1][0].data),messages:[]};l[2].forEach(function(d){var x=ur(d.data),h=da(x[3][0].data);i.messages.push({meta:x,data:t.slice(a[0],a[0]+h)}),a[0]+=h}),(s=l[3])!=null&&s[0]&&(i.merge=da(l[3][0].data)>>>0>0),r.push(i)}return r}function d0(t){var s=[];return t.forEach(function(r){var a=[];a[1]=[{data:Sr(r.id),type:0}],a[2]=[],r.merge!=null&&(a[3]=[{data:Sr(+!!r.merge),type:0}]);var n=[];r.messages.forEach(function(i){n.push(i.data),i.meta[3]=[{type:0,data:Sr(i.data.length)}],a[2].push({data:rn(i.meta),type:2})});var l=rn(a);s.push(Sr(l.length)),s.push(l),n.forEach(function(i){return s.push(i)})}),pc(s)}function sz(t,s){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],a=lx(s,r),n=[];r[0]<s.length;){var l=s[r[0]]&3;if(l==0){var i=s[r[0]++]>>2;if(i<60)++i;else{var d=i-59;i=s[r[0]],d>1&&(i|=s[r[0]+1]<<8),d>2&&(i|=s[r[0]+2]<<16),d>3&&(i|=s[r[0]+3]<<24),i>>>=0,i++,r[0]+=d}n.push(s.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var x=0,h=0;if(l==1?(h=(s[r[0]]>>2&7)+4,x=(s[r[0]++]&224)<<3,x|=s[r[0]++]):(h=(s[r[0]++]>>2)+1,l==2?(x=s[r[0]]|s[r[0]+1]<<8,r[0]+=2):(x=(s[r[0]]|s[r[0]+1]<<8|s[r[0]+2]<<16|s[r[0]+3]<<24)>>>0,r[0]+=4)),n=[pc(n)],x==0)throw new Error("Invalid offset 0");if(x>n[0].length)throw new Error("Invalid offset beyond length");if(h>=x)for(n.push(n[0].slice(-x)),h-=x;h>=n[n.length-1].length;)n.push(n[n.length-1]),h-=n[n.length-1].length;n.push(n[0].slice(-x,-x+h))}}var m=pc(n);if(m.length!=a)throw new Error("Unexpected length: ".concat(m.length," != ").concat(a));return m}function Mo(t){for(var s=[],r=0;r<t.length;){var a=t[r++],n=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,s.push(sz(a,t.slice(r,r+n))),r+=n}if(r!==t.length)throw new Error("data is not a valid framed stream!");return pc(s)}function u0(t){for(var s=[],r=0;r<t.length;){var a=Math.min(t.length-r,268435455),n=new Uint8Array(4);s.push(n);var l=Sr(a),i=l.length;s.push(l),a<=60?(i++,s.push(new Uint8Array([a-1<<2]))):a<=256?(i+=2,s.push(new Uint8Array([240,a-1&255]))):a<=65536?(i+=3,s.push(new Uint8Array([244,a-1&255,a-1>>8&255]))):a<=16777216?(i+=4,s.push(new Uint8Array([248,a-1&255,a-1>>8&255,a-1>>16&255]))):a<=4294967296&&(i+=5,s.push(new Uint8Array([252,a-1&255,a-1>>8&255,a-1>>16&255,a-1>>>24&255]))),s.push(t.slice(r,r+a)),i+=a,n[0]=0,n[1]=i&255,n[2]=i>>8&255,n[3]=i>>16&255,r+=a}return pc(s)}function rz(t,s,r,a){var n=pd(t),l=n.getUint32(4,!0),i=(a>1?12:8)+x2(l&(a>1?3470:398))*4,d=-1,x=-1,h=NaN,m=new Date(2001,0,1);l&512&&(d=n.getUint32(i,!0),i+=4),i+=x2(l&(a>1?12288:4096))*4,l&16&&(x=n.getUint32(i,!0),i+=4),l&32&&(h=n.getFloat64(i,!0),i+=8),l&64&&(m.setTime(m.getTime()+n.getFloat64(i,!0)*1e3),i+=8);var b;switch(t[2]){case 0:break;case 2:b={t:"n",v:h};break;case 3:b={t:"s",v:s[x]};break;case 5:b={t:"d",v:m};break;case 6:b={t:"b",v:h>0};break;case 7:b={t:"n",v:h/86400};break;case 8:b={t:"e",v:0};break;case 9:if(d>-1)b={t:"s",v:r[d]};else if(x>-1)b={t:"s",v:s[x]};else if(!isNaN(h))b={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return b}function az(t,s,r){var a=pd(t),n=a.getUint32(8,!0),l=12,i=-1,d=-1,x=NaN,h=NaN,m=new Date(2001,0,1);n&1&&(x=ez(t,l),l+=16),n&2&&(h=a.getFloat64(l,!0),l+=8),n&4&&(m.setTime(m.getTime()+a.getFloat64(l,!0)*1e3),l+=8),n&8&&(d=a.getUint32(l,!0),l+=4),n&16&&(i=a.getUint32(l,!0),l+=4);var b;switch(t[1]){case 0:break;case 2:b={t:"n",v:x};break;case 3:b={t:"s",v:s[d]};break;case 5:b={t:"d",v:m};break;case 6:b={t:"b",v:h>0};break;case 7:b={t:"n",v:h/86400};break;case 8:b={t:"e",v:0};break;case 9:if(i>-1)b={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)));break;case 10:b={t:"n",v:x};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)))}return b}function ly(t,s){var r=new Uint8Array(32),a=pd(r),n=12,l=0;switch(r[0]=5,t.t){case"n":r[1]=2,tz(r,n,t.v),l|=1,n+=16;break;case"b":r[1]=6,a.setFloat64(n,t.v?1:0,!0),l|=2,n+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,a.setUint32(n,s.indexOf(t.v),!0),l|=8,n+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(8,l,!0),r.slice(0,n)}function iy(t,s){var r=new Uint8Array(32),a=pd(r),n=12,l=0;switch(r[0]=3,t.t){case"n":r[2]=2,a.setFloat64(n,t.v,!0),l|=32,n+=8;break;case"b":r[2]=6,a.setFloat64(n,t.v?1:0,!0),l|=32,n+=8;break;case"s":if(s.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,a.setUint32(n,s.indexOf(t.v),!0),l|=16,n+=4;break;default:throw"unsupported cell type "+t.t}return a.setUint32(4,l,!0),r.slice(0,n)}function nz(t,s,r){switch(t[0]){case 0:case 1:case 2:case 3:return rz(t,s,r,t[0]);case 5:return az(t,s,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function vn(t){var s=ur(t);return lx(s[1][0].data)}function h2(t,s){var r=ur(s.data),a=da(r[1][0].data),n=r[3],l=[];return(n||[]).forEach(function(i){var d=ur(i.data),x=da(d[1][0].data)>>>0;switch(a){case 1:l[x]=Yy(d[3][0].data);break;case 8:{var h=t[vn(d[9][0].data)][0],m=ur(h.data),b=t[vn(m[1][0].data)][0],f=da(b.meta[1][0].data);if(f!=2001)throw new Error("2000 unexpected reference to ".concat(f));var N=ur(b.data);l[x]=N[3].map(function(p){return Yy(p.data)}).join("")}break}}),l}function oz(t,s){var r,a,n,l,i,d,x,h,m,b,f,N,p,v,g=ur(t),y=da(g[1][0].data)>>>0,C=da(g[2][0].data)>>>0,j=((a=(r=g[8])==null?void 0:r[0])==null?void 0:a.data)&&da(g[8][0].data)>0||!1,S,P;if((l=(n=g[7])==null?void 0:n[0])!=null&&l.data&&s!=0)S=(d=(i=g[7])==null?void 0:i[0])==null?void 0:d.data,P=(h=(x=g[6])==null?void 0:x[0])==null?void 0:h.data;else if((b=(m=g[4])==null?void 0:m[0])!=null&&b.data&&s!=1)S=(N=(f=g[4])==null?void 0:f[0])==null?void 0:N.data,P=(v=(p=g[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(s," cell storage");for(var D=j?4:1,T=pd(S),A=[],M=0;M<S.length/2;++M){var L=T.getUint16(M*2,!0);L<65535&&A.push([M,L])}if(A.length!=C)throw"Expected ".concat(C," cells, found ").concat(A.length);var q=[];for(M=0;M<A.length-1;++M)q[A[M][0]]=P.subarray(A[M][1]*D,A[M+1][1]*D);return A.length>=1&&(q[A[A.length-1][0]]=P.subarray(A[A.length-1][1]*D)),{R:y,cells:q}}function lz(t,s){var r,a=ur(s.data),n=(r=a?.[7])!=null&&r[0]?da(a[7][0].data)>>>0>0?1:0:-1,l=vv(a[5],function(i){return oz(i,n)});return{nrows:da(a[4][0].data)>>>0,data:l.reduce(function(i,d){return i[d.R]||(i[d.R]=[]),d.cells.forEach(function(x,h){if(i[d.R][h])throw new Error("Duplicate cell r=".concat(d.R," c=").concat(h));i[d.R][h]=x}),i},[])}}function iz(t,s,r){var a,n=ur(s.data),l={s:{r:0,c:0},e:{r:0,c:0}};if(l.e.r=(da(n[6][0].data)>>>0)-1,l.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(l.e.c=(da(n[7][0].data)>>>0)-1,l.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));r["!ref"]=Rs(l);var i=ur(n[4][0].data),d=h2(t,t[vn(i[4][0].data)][0]),x=(a=i[17])!=null&&a[0]?h2(t,t[vn(i[17][0].data)][0]):[],h=ur(i[3][0].data),m=0;h[1].forEach(function(b){var f=ur(b.data),N=t[vn(f[2][0].data)][0],p=da(N.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=lz(t,N);v.data.forEach(function(g,y){g.forEach(function(C,j){var S=Ps({r:m+y,c:j}),P=nz(C,d,x);P&&(r[S]=P)})}),m+=v.nrows})}function cz(t,s){var r=ur(s.data),a={"!ref":"A1"},n=t[vn(r[2][0].data)],l=da(n[0].meta[1][0].data);if(l!=6001)throw new Error("6000 unexpected reference to ".concat(l));return iz(t,n[0],a),a}function dz(t,s){var r,a=ur(s.data),n={name:(r=a[1])!=null&&r[0]?Yy(a[1][0].data):"",sheets:[]},l=vv(a[2],vn);return l.forEach(function(i){t[i].forEach(function(d){var x=da(d.meta[1][0].data);x==6e3&&n.sheets.push(cz(t,d))})}),n}function uz(t,s){var r=Sv(),a=ur(s.data),n=vv(a[1],vn);if(n.forEach(function(l){t[l].forEach(function(i){var d=da(i.meta[1][0].data);if(d==2){var x=dz(t,i);x.sheets.forEach(function(h,m){kv(r,h,m==0?x.name:x.name+"_"+m,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function cy(t){var s,r,a,n,l={},i=[];if(t.FullPaths.forEach(function(x){if(x.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(x){if(x.name.match(/\.iwa$/)){var h;try{h=Mo(x.content)}catch(b){return console.log("?? "+x.content.length+" "+(b.message||b))}var m;try{m=Po(h)}catch(b){return console.log("## "+(b.message||b))}m.forEach(function(b){l[b.id]=b.messages,i.push(b.id)})}}),!i.length)throw new Error("File has no messages");var d=((n=(a=(r=(s=l?.[1])==null?void 0:s[0])==null?void 0:r.meta)==null?void 0:a[1])==null?void 0:n[0].data)&&da(l[1][0].meta[1][0].data)==1&&l[1][0];if(d||i.forEach(function(x){l[x].forEach(function(h){var m=da(h.meta[1][0].data)>>>0;if(m==1)if(!d)d=h;else throw new Error("Document has multiple roots")})}),!d)throw new Error("Cannot find Document root");return uz(l,d)}function xz(t,s,r){var a,n,l,i;if(!((a=t[6])!=null&&a[0])||!((n=t[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var d=((i=(l=t[8])==null?void 0:l[0])==null?void 0:i.data)&&da(t[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var x=0,h=pd(t[7][0].data),m=0,b=[],f=pd(t[4][0].data),N=0,p=[],v=0;v<s.length;++v){if(s[v]==null){h.setUint16(v*2,65535,!0),f.setUint16(v*2,65535);continue}h.setUint16(v*2,m,!0),f.setUint16(v*2,N,!0);var g,y;switch(typeof s[v]){case"string":g=ly({t:"s",v:s[v]},r),y=iy({t:"s",v:s[v]},r);break;case"number":g=ly({t:"n",v:s[v]},r),y=iy({t:"n",v:s[v]},r);break;case"boolean":g=ly({t:"b",v:s[v]},r),y=iy({t:"b",v:s[v]},r);break;default:throw new Error("Unsupported value "+s[v])}b.push(g),m+=g.length,p.push(y),N+=y.length,++x}for(t[2][0].data=Sr(x);v<t[7][0].data.length/2;++v)h.setUint16(v*2,65535,!0),f.setUint16(v*2,65535,!0);return t[6][0].data=pc(b),t[3][0].data=pc(p),x}function hz(t,s){if(!s||!s.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var a=ro(r["!ref"]);a.s.r=a.s.c=0;var n=!1;a.e.c>9&&(n=!0,a.e.c=9),a.e.r>49&&(n=!0,a.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Rs(a)));var l=_p(r,{range:a,header:1}),i=["~Sh33tJ5~"];l.forEach(function(I){return I.forEach(function(U){typeof U=="string"&&i.push(U)})});var d={},x=[],h=ks.read(s.numbers,{type:"base64"});h.FileIndex.map(function(I,U){return[I,h.FullPaths[U]]}).forEach(function(I){var U=I[0],k=I[1];if(U.type==2&&U.name.match(/\.iwa/)){var O=U.content,he=Mo(O),ye=Po(he);ye.forEach(function(be){x.push(be.id),d[be.id]={deps:[],location:k,type:da(be.messages[0].meta[1][0].data)}})}}),x.sort(function(I,U){return I-U});var m=x.filter(function(I){return I>1}).map(function(I){return[I,Sr(I)]});h.FileIndex.map(function(I,U){return[I,h.FullPaths[U]]}).forEach(function(I){var U=I[0];if(I[1],!!U.name.match(/\.iwa/)){var k=Po(Mo(U.content));k.forEach(function(O){O.messages.forEach(function(he){m.forEach(function(ye){O.messages.some(function(be){return da(be.meta[1][0].data)!=11006&&Z$(be.data,ye[1])})&&d[ye[0]].deps.push(O.id)})})})}});for(var b=ks.find(h,d[1].location),f=Po(Mo(b.content)),N,p=0;p<f.length;++p){var v=f[p];v.id==1&&(N=v)}var g=vn(ur(N.messages[0].data)[1][0].data);for(b=ks.find(h,d[g].location),f=Po(Mo(b.content)),p=0;p<f.length;++p)v=f[p],v.id==g&&(N=v);for(g=vn(ur(N.messages[0].data)[2][0].data),b=ks.find(h,d[g].location),f=Po(Mo(b.content)),p=0;p<f.length;++p)v=f[p],v.id==g&&(N=v);for(g=vn(ur(N.messages[0].data)[2][0].data),b=ks.find(h,d[g].location),f=Po(Mo(b.content)),p=0;p<f.length;++p)v=f[p],v.id==g&&(N=v);var y=ur(N.messages[0].data);{y[6][0].data=Sr(a.e.r+1),y[7][0].data=Sr(a.e.c+1);var C=vn(y[46][0].data),j=ks.find(h,d[C].location),S=Po(Mo(j.content));{for(var P=0;P<S.length&&S[P].id!=C;++P);if(S[P].id!=C)throw"Bad ColumnRowUIDMapArchive";var D=ur(S[P].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var T=0;T<=a.e.c;++T){var A=[];A[1]=A[2]=[{type:0,data:Sr(T+420690)}],D[1].push({type:2,data:rn(A)}),D[2].push({type:0,data:Sr(T)}),D[3].push({type:0,data:Sr(T)})}D[4]=[],D[5]=[],D[6]=[];for(var M=0;M<=a.e.r;++M)A=[],A[1]=A[2]=[{type:0,data:Sr(M+726270)}],D[4].push({type:2,data:rn(A)}),D[5].push({type:0,data:Sr(M)}),D[6].push({type:0,data:Sr(M)});S[P].messages[0].data=rn(D)}j.content=u0(d0(S)),j.size=j.content.length,delete y[46];var L=ur(y[4][0].data);{L[7][0].data=Sr(a.e.r+1);var q=ur(L[1][0].data),B=vn(q[2][0].data);j=ks.find(h,d[B].location),S=Po(Mo(j.content));{if(S[0].id!=B)throw"Bad HeaderStorageBucket";var te=ur(S[0].messages[0].data);for(M=0;M<l.length;++M){var oe=ur(te[2][0].data);oe[1][0].data=Sr(M),oe[4][0].data=Sr(l[M].length),te[2][M]={type:te[2][0].type,data:rn(oe)}}S[0].messages[0].data=rn(te)}j.content=u0(d0(S)),j.size=j.content.length;var fe=vn(L[2][0].data);j=ks.find(h,d[fe].location),S=Po(Mo(j.content));{if(S[0].id!=fe)throw"Bad HeaderStorageBucket";for(te=ur(S[0].messages[0].data),T=0;T<=a.e.c;++T)oe=ur(te[2][0].data),oe[1][0].data=Sr(T),oe[4][0].data=Sr(a.e.r+1),te[2][T]={type:te[2][0].type,data:rn(oe)};S[0].messages[0].data=rn(te)}j.content=u0(d0(S)),j.size=j.content.length;var R=vn(L[4][0].data);(function(){for(var I=ks.find(h,d[R].location),U=Po(Mo(I.content)),k,O=0;O<U.length;++O){var he=U[O];he.id==R&&(k=he)}var ye=ur(k.messages[0].data);{ye[3]=[];var be=[];i.forEach(function(xe,Se){be[1]=[{type:0,data:Sr(Se)}],be[2]=[{type:0,data:Sr(1)}],be[3]=[{type:2,data:Q$(xe)}],ye[3].push({type:2,data:rn(be)})})}k.messages[0].data=rn(ye);var je=d0(U),ge=u0(je);I.content=ge,I.size=I.content.length})();var V=ur(L[3][0].data);{var W=V[1][0];delete V[2];var ne=ur(W.data);{var J=vn(ne[2][0].data);(function(){for(var I=ks.find(h,d[J].location),U=Po(Mo(I.content)),k,O=0;O<U.length;++O){var he=U[O];he.id==J&&(k=he)}var ye=ur(k.messages[0].data);{delete ye[6],delete V[7];var be=new Uint8Array(ye[5][0].data);ye[5]=[];for(var je=0,ge=0;ge<=a.e.r;++ge){var xe=ur(be);je+=xz(xe,l[ge],i),xe[1][0].data=Sr(ge),ye[5].push({data:rn(xe),type:2})}ye[1]=[{type:0,data:Sr(a.e.c+1)}],ye[2]=[{type:0,data:Sr(a.e.r+1)}],ye[3]=[{type:0,data:Sr(je)}],ye[4]=[{type:0,data:Sr(a.e.r+1)}]}k.messages[0].data=rn(ye);var Se=d0(U),De=u0(Se);I.content=De,I.size=I.content.length})()}W.data=rn(ne)}L[3][0].data=rn(V)}y[4][0].data=rn(L)}N.messages[0].data=rn(y);var H=d0(f),F=u0(H);return b.content=F,b.size=b.content.length,h}function b3(t){return function(r){for(var a=0;a!=t.length;++a){var n=t[a];r[n[0]]===void 0&&(r[n[0]]=n[1]),n[2]==="n"&&(r[n[0]]=Number(r[n[0]]))}}}function wv(t){b3([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Nv(t){b3([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function mz(t){return Vs.WS.indexOf(t)>-1?"sheet":t==Vs.CS?"chart":t==Vs.DS?"dialog":t==Vs.MS?"macro":t&&t.length?t:"sheet"}function pz(t,s){if(!t)return 0;try{t=s.map(function(a){return a.id||(a.id=a.strRelID),[a.name,t["!id"][a.id].Target,mz(t["!id"][a.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function fz(t,s,r,a,n,l,i,d,x,h,m,b){try{l[a]=Uu(fo(t,r,!0),s);var f=Da(t,s),N;switch(d){case"sheet":N=BG(f,s,n,x,l[a],h,m,b);break;case"chart":if(N=RG(f,s,n,x,l[a],h,m,b),!N||!N["!drawel"])break;var p=Ou(N["!drawel"].Target,s),v=tx(p),g=S9(fo(t,p,!0),Uu(fo(t,v,!0),p)),y=Ou(g,p),C=tx(y);N=xG(fo(t,y,!0),y,x,Uu(fo(t,C,!0),y),h,N);break;case"macro":N=HG(f,s,n,x,l[a],h,m,b);break;case"dialog":N=UG(f,s,n,x,l[a],h,m,b);break;default:throw new Error("Unrecognized sheet type "+d)}i[a]=N;var j=[];l&&l[a]&&xa(l[a]).forEach(function(S){var P="";if(l[a][S].Type==Vs.CMNT){P=Ou(l[a][S].Target,s);var D=zG(Da(t,P,!0),P,x);if(!D||!D.length)return;Q1(N,D,!1)}l[a][S].Type==Vs.TCMNT&&(P=Ou(l[a][S].Target,s),j=j.concat(D9(Da(t,P,!0),x)))}),j&&j.length&&Q1(N,j,!0,x.people||[])}catch(S){if(x.WTF)throw S}}function Ao(t){return t.charAt(0)=="/"?t.slice(1):t}function gz(t,s){if(V0(),s=s||{},wv(s),Io(t,"META-INF/manifest.xml")||Io(t,"objectdata.xml"))return c2(t,s);if(Io(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof cy<"u"){if(t.FileIndex)return cy(t);var r=ks.utils.cfb_new();return b1(t).forEach(function(oe){Hs(r,oe,E8(t,oe))}),cy(r)}throw new Error("Unsupported NUMBERS file")}if(!Io(t,"[Content_Types].xml"))throw Io(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Io(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var a=b1(t),n=w_(fo(t,"[Content_Types].xml")),l=!1,i,d;if(n.workbooks.length===0&&(d="xl/workbook.xml",Da(t,d,!0)&&n.workbooks.push(d)),n.workbooks.length===0){if(d="xl/workbook.bin",!Da(t,d,!0))throw new Error("Could not find workbook");n.workbooks.push(d),l=!0}n.workbooks[0].slice(-3)=="bin"&&(l=!0);var x={},h={};if(!s.bookSheets&&!s.bookProps){if(Wu=[],n.sst)try{Wu=$G(Da(t,Ao(n.sst)),n.sst,s)}catch(oe){if(s.WTF)throw oe}s.cellStyles&&n.themes.length&&(x=GG(fo(t,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],s)),n.style&&(h=WG(Da(t,Ao(n.style)),n.style,x,s))}n.links.map(function(oe){try{var fe=Uu(fo(t,tx(Ao(oe))),oe);return YG(Da(t,Ao(oe)),fe,oe,s)}catch{}});var m=OG(Da(t,Ao(n.workbooks[0])),n.workbooks[0],s),b={},f="";n.coreprops.length&&(f=Da(t,Ao(n.coreprops[0]),!0),f&&(b=lk(f)),n.extprops.length!==0&&(f=Da(t,Ao(n.extprops[0]),!0),f&&E_(f,b,s)));var N={};(!s.bookSheets||s.bookProps)&&n.custprops.length!==0&&(f=fo(t,Ao(n.custprops[0]),!0),f&&(N=A_(f,s)));var p={};if((s.bookSheets||s.bookProps)&&(m.Sheets?i=m.Sheets.map(function(fe){return fe.name}):b.Worksheets&&b.SheetNames.length>0&&(i=b.SheetNames),s.bookProps&&(p.Props=b,p.Custprops=N),s.bookSheets&&typeof i<"u"&&(p.SheetNames=i),s.bookSheets?p.SheetNames:s.bookProps))return p;i={};var v={};s.bookDeps&&n.calcchain&&(v=VG(Da(t,Ao(n.calcchain)),n.calcchain));var g=0,y={},C,j;{var S=m.Sheets;b.Worksheets=S.length,b.SheetNames=[];for(var P=0;P!=S.length;++P)b.SheetNames[P]=S[P].name}var D=l?"bin":"xml",T=n.workbooks[0].lastIndexOf("/"),A=(n.workbooks[0].slice(0,T+1)+"_rels/"+n.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Io(t,A)||(A="xl/_rels/workbook."+D+".rels");var M=Uu(fo(t,A,!0),A.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(s.xlmeta=KG(Da(t,Ao(n.metadata[0])),n.metadata[0],s)),(n.people||[]).length>=1&&(s.people=T9(Da(t,Ao(n.people[0])),s)),M&&(M=pz(M,m.Sheets));var L=Da(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=b.Worksheets;++g){var q="sheet";if(M&&M[g]?(C="xl/"+M[g][1].replace(/[\/]?xl\//,""),Io(t,C)||(C=M[g][1]),Io(t,C)||(C=A.replace(/_rels\/.*$/,"")+M[g][1]),q=M[g][2]):(C="xl/worksheets/sheet"+(g+1-L)+"."+D,C=C.replace(/sheet0\./,"sheet.")),j=C.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),s&&s.sheets!=null)switch(typeof s.sheets){case"number":if(g!=s.sheets)continue e;break;case"string":if(b.SheetNames[g].toLowerCase()!=s.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(s.sheets)){for(var B=!1,te=0;te!=s.sheets.length;++te)typeof s.sheets[te]=="number"&&s.sheets[te]==g&&(B=1),typeof s.sheets[te]=="string"&&s.sheets[te].toLowerCase()==b.SheetNames[g].toLowerCase()&&(B=1);if(!B)continue e}}fz(t,C,j,b.SheetNames[g],g,y,i,q,s,m,x,h)}return p={Directory:n,Workbook:m,Props:b,Custprops:N,Deps:v,Sheets:i,SheetNames:b.SheetNames,Strings:Wu,Styles:h,Themes:x,SSF:qr(As)},s&&s.bookFiles&&(t.files?(p.keys=a,p.files=t.files):(p.keys=[],p.files={},t.FullPaths.forEach(function(oe,fe){oe=oe.replace(/^Root Entry[\/]/,""),p.keys.push(oe),p.files[oe]=t.FileIndex[fe]}))),s&&s.bookVBA&&(n.vba.length>0?p.vbaraw=Da(t,Ao(n.vba[0]),!0):n.defaults&&n.defaults.bin===O9&&(p.vbaraw=Da(t,"xl/vbaProject.bin",!0))),p}function yz(t,s){var r=s||{},a="Workbook",n=ks.find(t,a);try{if(a="/!DataSpaces/Version",n=ks.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(KB(n.content),a="/!DataSpaces/DataSpaceMap",n=ks.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=XB(n.content);if(l.length!==1||l[0].comps.length!==1||l[0].comps[0].t!==0||l[0].name!=="StrongEncryptionDataSpace"||l[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=ks.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var i=JB(n.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=ks.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);ZB(n.content)}catch{}if(a="/EncryptionInfo",n=ks.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);var d=eR(n.content);if(a="/EncryptedPackage",n=ks.find(t,a),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(d[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(d[1],n.content,r.password||"",r);if(d[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(d[1],n.content,r.password||"",r);throw new Error("File is password-protected")}function bz(t,s){return s.bookType=="ods"?y3(t,s):s.bookType=="numbers"?hz(t,s):s.bookType=="xlsb"?vz(t,s):wz(t,s)}function vz(t,s){f0=1024,t&&!t.SSF&&(t.SSF=qr(As)),t&&t.SSF&&(V0(),of(t.SSF),s.revssf=cf(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Gu?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r=s.bookType=="xlsb"?"bin":"xml",a=Vk.indexOf(s.bookType)>-1,n=lv();Nv(s=s||{});var l=Yb(),i="",d=0;if(s.cellXfs=[],wc(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",Hs(l,i,ik(t.Props,s)),n.coreprops.push(i),Dr(s.rels,2,i,Vs.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var x=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&x.push(t.SheetNames[h]);t.Props.SheetNames=x}for(t.Props.Worksheets=t.Props.SheetNames.length,Hs(l,i,uk(t.Props)),n.extprops.push(i),Dr(s.rels,3,i,Vs.EXT_PROPS),t.Custprops!==t.Props&&xa(t.Custprops||{}).length>0&&(i="docProps/custom.xml",Hs(l,i,xk(t.Custprops)),n.custprops.push(i),Dr(s.rels,4,i,Vs.CUST_PROPS)),d=1;d<=t.SheetNames.length;++d){var m={"!id":{}},b=t.Sheets[t.SheetNames[d-1]],f=(b||{})["!type"]||"sheet";switch(f){case"chart":default:i="xl/worksheets/sheet"+d+"."+r,Hs(l,i,XG(d-1,i,s,t,m)),n.sheets.push(i),Dr(s.wbrels,-1,"worksheets/sheet"+d+"."+r,Vs.WS[0])}if(b){var N=b["!comments"],p=!1,v="";N&&N.length>0&&(v="xl/comments"+d+"."+r,Hs(l,v,ZG(N,v)),n.comments.push(v),Dr(m,-1,"../comments"+d+"."+r,Vs.CMNT),p=!0),b["!legacy"]&&p&&Hs(l,"xl/drawings/vmlDrawing"+d+".vml",$k(d,b["!comments"])),delete b["!comments"],delete b["!legacy"]}m["!id"].rId1&&Hs(l,tx(i),w0(m))}return s.Strings!=null&&s.Strings.length>0&&(i="xl/sharedStrings."+r,Hs(l,i,QG(s.Strings,i,s)),n.strs.push(i),Dr(s.wbrels,-1,"sharedStrings."+r,Vs.SST)),i="xl/workbook."+r,Hs(l,i,qG(t,i)),n.workbooks.push(i),Dr(s.rels,1,i,Vs.WB),i="xl/theme/theme1.xml",Hs(l,i,hv(t.Themes,s)),n.themes.push(i),Dr(s.wbrels,-1,"theme/theme1.xml",Vs.THEME),i="xl/styles."+r,Hs(l,i,JG(t,i,s)),n.styles.push(i),Dr(s.wbrels,-1,"styles."+r,Vs.STY),t.vbaraw&&a&&(i="xl/vbaProject.bin",Hs(l,i,t.vbaraw),n.vba.push(i),Dr(s.wbrels,-1,"vbaProject.bin",Vs.VBA)),i="xl/metadata."+r,Hs(l,i,e$(i)),n.metadata.push(i),Dr(s.wbrels,-1,"metadata."+r,Vs.XLMETA),Hs(l,"[Content_Types].xml",nk(n,s)),Hs(l,"_rels/.rels",w0(s.rels)),Hs(l,"xl/_rels/workbook."+r+".rels",w0(s.wbrels)),delete s.revssf,delete s.ssf,l}function wz(t,s){f0=1024,t&&!t.SSF&&(t.SSF=qr(As)),t&&t.SSF&&(V0(),of(t.SSF),s.revssf=cf(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.rels={},s.wbrels={},s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Gu?s.revStrings=new Map:(s.revStrings={},s.revStrings.foo=[],delete s.revStrings.foo);var r="xml",a=Vk.indexOf(s.bookType)>-1,n=lv();Nv(s=s||{});var l=Yb(),i="",d=0;if(s.cellXfs=[],wc(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",Hs(l,i,ik(t.Props,s)),n.coreprops.push(i),Dr(s.rels,2,i,Vs.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var x=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&x.push(t.SheetNames[h]);t.Props.SheetNames=x}t.Props.Worksheets=t.Props.SheetNames.length,Hs(l,i,uk(t.Props)),n.extprops.push(i),Dr(s.rels,3,i,Vs.EXT_PROPS),t.Custprops!==t.Props&&xa(t.Custprops||{}).length>0&&(i="docProps/custom.xml",Hs(l,i,xk(t.Custprops)),n.custprops.push(i),Dr(s.rels,4,i,Vs.CUST_PROPS));var m=["SheetJ5"];for(s.tcid=0,d=1;d<=t.SheetNames.length;++d){var b={"!id":{}},f=t.Sheets[t.SheetNames[d-1]],N=(f||{})["!type"]||"sheet";switch(N){case"chart":default:i="xl/worksheets/sheet"+d+"."+r,Hs(l,i,r3(d-1,s,t,b)),n.sheets.push(i),Dr(s.wbrels,-1,"worksheets/sheet"+d+"."+r,Vs.WS[0])}if(f){var p=f["!comments"],v=!1,g="";if(p&&p.length>0){var y=!1;p.forEach(function(C){C[1].forEach(function(j){j.T==!0&&(y=!0)})}),y&&(g="xl/threadedComments/threadedComment"+d+"."+r,Hs(l,g,E9(p,m,s)),n.threadedcomments.push(g),Dr(b,-1,"../threadedComments/threadedComment"+d+"."+r,Vs.TCMNT)),g="xl/comments"+d+"."+r,Hs(l,g,zk(p)),n.comments.push(g),Dr(b,-1,"../comments"+d+"."+r,Vs.CMNT),v=!0}f["!legacy"]&&v&&Hs(l,"xl/drawings/vmlDrawing"+d+".vml",$k(d,f["!comments"])),delete f["!comments"],delete f["!legacy"]}b["!id"].rId1&&Hs(l,tx(i),w0(b))}return s.Strings!=null&&s.Strings.length>0&&(i="xl/sharedStrings."+r,Hs(l,i,Pk(s.Strings,s)),n.strs.push(i),Dr(s.wbrels,-1,"sharedStrings."+r,Vs.SST)),i="xl/workbook."+r,Hs(l,i,i3(t)),n.workbooks.push(i),Dr(s.rels,1,i,Vs.WB),i="xl/theme/theme1.xml",Hs(l,i,hv(t.Themes,s)),n.themes.push(i),Dr(s.wbrels,-1,"theme/theme1.xml",Vs.THEME),i="xl/styles."+r,Hs(l,i,Hk(t,s)),n.styles.push(i),Dr(s.wbrels,-1,"styles."+r,Vs.STY),t.vbaraw&&a&&(i="xl/vbaProject.bin",Hs(l,i,t.vbaraw),n.vba.push(i),Dr(s.wbrels,-1,"vbaProject.bin",Vs.VBA)),i="xl/metadata."+r,Hs(l,i,Gk()),n.metadata.push(i),Dr(s.wbrels,-1,"metadata."+r,Vs.XLMETA),m.length>1&&(i="xl/persons/person.xml",Hs(l,i,A9(m)),n.people.push(i),Dr(s.wbrels,-1,"persons/person.xml",Vs.PEOPLE)),Hs(l,"[Content_Types].xml",nk(n,s)),Hs(l,"_rels/.rels",w0(s.rels)),Hs(l,"xl/_rels/workbook."+r+".rels",w0(s.wbrels)),delete s.revssf,delete s.ssf,l}function jv(t,s){var r="";switch((s||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=bo(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(s&&s.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Nz(t,s){return ks.find(t,"EncryptedPackage")?yz(t,s):x3(t,s)}function jz(t,s){var r,a=t,n=s||{};return n.type||(n.type=$s&&Buffer.isBuffer(t)?"buffer":"base64"),r=IS(a,n),gz(r,n)}function v3(t,s){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return zy(t.slice(r),s);default:break e}return P0.to_workbook(t,s)}function Cz(t,s){var r="",a=jv(t,s);switch(s.type){case"base64":r=bo(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=ud(t);break;default:throw new Error("Unrecognized type "+s.type)}return a[0]==239&&a[1]==187&&a[2]==191&&(r=Pr(r)),s.type="binary",v3(r,s)}function Sz(t,s){var r=t;return s.type=="base64"&&(r=bo(r)),r=qu.utils.decode(1200,r.slice(2),"str"),s.type="binary",v3(r,s)}function kz(t){return t.match(/[^\x00-\x7F]/)?Rl(t):t}function dy(t,s,r,a){return a?(r.type="string",P0.to_workbook(t,r)):P0.to_workbook(s,r)}function I0(t,s){Wb();var r=s||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return I0(new Uint8Array(t),(r=qr(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var a=t,n=[0,0,0,0],l=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),j0={},r.dateNF&&(j0.dateNF=r.dateNF),r.type||(r.type=$s&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=$s?"buffer":"binary",a=v8(t),typeof Uint8Array<"u"&&!$s&&(r.type="array")),r.type=="string"&&(l=!0,r.type="binary",r.codepage=65001,a=kz(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),d=new Uint8Array(i);if(d.foo="bar",!d.foo)return r=qr(r),r.type="array",I0(Gb(a),r)}switch((n=jv(a,r))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return Nz(ks.read(a,r),r);break;case 9:if(n[1]<=8)return x3(a,r);break;case 60:return zy(a,r);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return FB(a,r);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return Ak.to_workbook(a,r);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?jz(a,r):dy(t,a,r,l);case 239:return n[3]===60?zy(a,r):dy(t,a,r,l);case 255:if(n[1]===254)return Sz(a,r);if(n[1]===0&&n[2]===2&&n[3]===0)return nd.to_workbook(a,r);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return nd.to_workbook(a,r);break;case 3:case 131:case 139:case 140:return $y.to_workbook(a,r);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return Ok.to_workbook(a,r);break;case 10:case 13:case 32:return Cz(a,r);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return AB.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?$y.to_workbook(a,r):dy(t,a,r,l)}function w3(t,s){switch(s.type){case"base64":case"binary":break;case"buffer":case"array":s.type="";break;case"file":return Ex(s.file,ks.write(t,{type:$s?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");default:throw new Error("Unrecognized type "+s.type)}return ks.write(t,s)}function Dz(t,s){var r=qr(s||{}),a=bz(t,r);return Ez(a,r)}function Ez(t,s){var r={},a=$s?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(s.compression&&(r.compression="DEFLATE"),s.password)r.type=a;else switch(s.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+s.bookType+"' files");case"buffer":case"file":r.type=a;break;default:throw new Error("Unrecognized type "+s.type)}var n=t.FullPaths?ks.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!s.compression}):t.generate(r);if(typeof Deno<"u"&&typeof n=="string"){if(s.type=="binary"||s.type=="base64")return n;n=new Uint8Array(nf(n))}return s.password&&typeof encrypt_agile<"u"?w3(encrypt_agile(n,s.password),s):s.type==="file"?Ex(s.file,n):s.type=="string"?Pr(n):n}function Tz(t,s){var r=s||{},a=k$(t,r);return w3(a,r)}function Ll(t,s,r){r||(r="");var a=r+t;switch(s.type){case"base64":return Xu(Rl(a));case"binary":return Rl(a);case"string":return t;case"file":return Ex(s.file,a,"utf8");case"buffer":return $s?Si(a,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(a):Ll(a,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function Az(t,s){switch(s.type){case"base64":return Xu(t);case"binary":return t;case"string":return t;case"file":return Ex(s.file,t,"binary");case"buffer":return $s?Si(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+s.type)}function sm(t,s){switch(s.type){case"string":case"base64":case"binary":for(var r="",a=0;a<t.length;++a)r+=String.fromCharCode(t[a]);return s.type=="base64"?Xu(r):s.type=="string"?Pr(r):r;case"file":return Ex(s.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+s.type)}}function pf(t,s){Wb(),NG(t);var r=qr(s||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var a=pf(t,r);return r.type="array",nf(a)}var n=0;if(r.sheet&&(typeof r.sheet=="number"?n=r.sheet:n=t.SheetNames.indexOf(r.sheet),!t.SheetNames[n]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ll(b$(t,r),r);case"slk":case"sylk":return Ll(Tk.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"htm":case"html":return Ll(m3(t.Sheets[t.SheetNames[n]],r),r);case"txt":return Az(N3(t.Sheets[t.SheetNames[n]],r),r);case"csv":return Ll(Cv(t.Sheets[t.SheetNames[n]],r),r,"\uFEFF");case"dif":return Ll(Ak.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"dbf":return sm($y.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"prn":return Ll(P0.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"rtf":return Ll(Ok.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"eth":return Ll(Fk.from_sheet(t.Sheets[t.SheetNames[n]],r),r);case"fods":return Ll(y3(t,r),r);case"wk1":return sm(nd.sheet_to_wk1(t.Sheets[t.SheetNames[n]],r),r);case"wk3":return sm(nd.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),sm(h3(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Tz(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Dz(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Fz(t,s,r,a,n,l,i,d){var x=ba(r),h=d.defval,m=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),b=!0,f=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch{f.__rowNum__=r}else f.__rowNum__=r;if(!i||t[r])for(var N=s.s.c;N<=s.e.c;++N){var p=i?t[r][N]:t[a[N]+x];if(p===void 0||p.t===void 0){if(h===void 0)continue;l[N]!=null&&(f[l[N]]=h);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(l[N]!=null){if(v==null)if(p.t=="e"&&v===null)f[l[N]]=null;else if(h!==void 0)f[l[N]]=h;else if(m&&v===null)f[l[N]]=null;else continue;else f[l[N]]=m&&(p.t!=="n"||p.t==="n"&&d.rawNumbers!==!1)?v:ji(p,v,d);v!=null&&(b=!1)}}return{row:f,isempty:b}}function _p(t,s){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},a=0,n=1,l=[],i=0,d="",x={s:{r:0,c:0},e:{r:0,c:0}},h=s||{},m=h.range!=null?h.range:t["!ref"];switch(h.header===1?a=1:h.header==="A"?a=2:Array.isArray(h.header)?a=3:h.header==null&&(a=0),typeof m){case"string":x=nr(m);break;case"number":x=nr(t["!ref"]),x.s.r=m;break;default:x=m}a>0&&(n=0);var b=ba(x.s.r),f=[],N=[],p=0,v=0,g=Array.isArray(t),y=x.s.r,C=0,j={};g&&!t[y]&&(t[y]=[]);var S=h.skipHidden&&t["!cols"]||[],P=h.skipHidden&&t["!rows"]||[];for(C=x.s.c;C<=x.e.c;++C)if(!(S[C]||{}).hidden)switch(f[C]=ra(C),r=g?t[y][C]:t[f[C]+b],a){case 1:l[C]=C-x.s.c;break;case 2:l[C]=f[C];break;case 3:l[C]=h.header[C-x.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),d=i=ji(r,null,h),v=j[i]||0,!v)j[i]=1;else{do d=i+"_"+v++;while(j[d]);j[i]=v,j[d]=1}l[C]=d}for(y=x.s.r+n;y<=x.e.r;++y)if(!(P[y]||{}).hidden){var D=Fz(t,x,y,f,a,l,g,h);(D.isempty===!1||(a===1?h.blankrows!==!1:h.blankrows))&&(N[p++]=D.row)}return N.length=p,N}var m2=/"/g;function Pz(t,s,r,a,n,l,i,d){for(var x=!0,h=[],m="",b=ba(r),f=s.s.c;f<=s.e.c;++f)if(a[f]){var N=d.dense?(t[r]||[])[f]:t[a[f]+b];if(N==null)m="";else if(N.v!=null){x=!1,m=""+(d.rawNumbers&&N.t=="n"?N.v:ji(N,null,d));for(var p=0,v=0;p!==m.length;++p)if((v=m.charCodeAt(p))===n||v===l||v===34||d.forceQuotes){m='"'+m.replace(m2,'""')+'"';break}m=="ID"&&(m='"ID"')}else N.f!=null&&!N.F?(x=!1,m="="+N.f,m.indexOf(",")>=0&&(m='"'+m.replace(m2,'""')+'"')):m="";h.push(m)}return d.blankrows===!1&&x?null:h.join(i)}function Cv(t,s){var r=[],a=s??{};if(t==null||t["!ref"]==null)return"";var n=nr(t["!ref"]),l=a.FS!==void 0?a.FS:",",i=l.charCodeAt(0),d=a.RS!==void 0?a.RS:`
`,x=d.charCodeAt(0),h=new RegExp((l=="|"?"\\|":l)+"+$"),m="",b=[];a.dense=Array.isArray(t);for(var f=a.skipHidden&&t["!cols"]||[],N=a.skipHidden&&t["!rows"]||[],p=n.s.c;p<=n.e.c;++p)(f[p]||{}).hidden||(b[p]=ra(p));for(var v=0,g=n.s.r;g<=n.e.r;++g)(N[g]||{}).hidden||(m=Pz(t,n,g,b,i,x,l,a),m!=null&&(a.strip&&(m=m.replace(h,"")),(m||a.blankrows!==!1)&&r.push((v++?d:"")+m)));return delete a.dense,r.join("")}function N3(t,s){s||(s={}),s.FS="	",s.RS=`
`;var r=Cv(t,s);return r}function Mz(t){var s="",r,a="";if(t==null||t["!ref"]==null)return[];var n=nr(t["!ref"]),l="",i=[],d,x=[],h=Array.isArray(t);for(d=n.s.c;d<=n.e.c;++d)i[d]=ra(d);for(var m=n.s.r;m<=n.e.r;++m)for(l=ba(m),d=n.s.c;d<=n.e.c;++d)if(s=i[d]+l,r=h?(t[m]||[])[d]:t[s],a="",r!==void 0){if(r.F!=null){if(s=r.F,!r.f)continue;a=r.f,s.indexOf(":")==-1&&(s=s+":"+s)}if(r.f!=null)a=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)a=""+r.v;else if(r.t=="b")a=r.v?"TRUE":"FALSE";else if(r.w!==void 0)a="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?a="'"+r.v:a=""+r.v}}x[x.length]=s+"="+a}return x}function j3(t,s,r){var a=r||{},n=+!a.skipHeader,l=t||{},i=0,d=0;if(l&&a.origin!=null)if(typeof a.origin=="number")i=a.origin;else{var x=typeof a.origin=="string"?aa(a.origin):a.origin;i=x.r,d=x.c}var h,m={s:{c:0,r:0},e:{c:d,r:i+s.length-1+n}};if(l["!ref"]){var b=nr(l["!ref"]);m.e.c=Math.max(m.e.c,b.e.c),m.e.r=Math.max(m.e.r,b.e.r),i==-1&&(i=b.e.r+1,m.e.r=i+s.length-1+n)}else i==-1&&(i=0,m.e.r=s.length-1+n);var f=a.header||[],N=0;s.forEach(function(v,g){xa(v).forEach(function(y){(N=f.indexOf(y))==-1&&(f[N=f.length]=y);var C=v[y],j="z",S="",P=Ps({c:d+N,r:i+g+n});h=ix(l,P),C&&typeof C=="object"&&!(C instanceof Date)?l[P]=C:(typeof C=="number"?j="n":typeof C=="boolean"?j="b":typeof C=="string"?j="s":C instanceof Date?(j="d",a.cellDates||(j="n",C=Ma(C)),S=a.dateNF||As[14]):C===null&&a.nullError&&(j="e",C=0),h?(h.t=j,h.v=C,delete h.w,delete h.R,S&&(h.z=S)):l[P]=h={t:j,v:C},S&&(h.z=S))})}),m.e.c=Math.max(m.e.c,d+f.length-1);var p=ba(i);if(n)for(N=0;N<f.length;++N)l[ra(N+d)+p]={t:"s",v:f[N]};return l["!ref"]=Rs(m),l}function Iz(t,s){return j3(null,t,s)}function ix(t,s,r){if(typeof s=="string"){if(Array.isArray(t)){var a=aa(s);return t[a.r]||(t[a.r]=[]),t[a.r][a.c]||(t[a.r][a.c]={t:"z"})}return t[s]||(t[s]={t:"z"})}return typeof s!="number"?ix(t,Ps(s)):ix(t,Ps({r:s,c:r||0}))}function Lz(t,s){if(typeof s=="number"){if(s>=0&&t.SheetNames.length>s)return s;throw new Error("Cannot find sheet # "+s)}else if(typeof s=="string"){var r=t.SheetNames.indexOf(s);if(r>-1)return r;throw new Error("Cannot find sheet name |"+s+"|")}else throw new Error("Cannot find sheet |"+s+"|")}function Sv(){return{SheetNames:[],Sheets:{}}}function kv(t,s,r,a){var n=1;if(!r)for(;n<=65535&&t.SheetNames.indexOf(r="Sheet"+n)!=-1;++n,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(a&&t.SheetNames.indexOf(r)>=0){var l=r.match(/(^.*?)(\d+)$/);n=l&&+l[2]||0;var i=l&&l[1]||r;for(++n;n<=65535&&t.SheetNames.indexOf(r=i+n)!=-1;++n);}if(l3(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=s,r}function _z(t,s,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var a=Lz(t,s);switch(t.Workbook.Sheets[a]||(t.Workbook.Sheets[a]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[a].Hidden=r}function Oz(t,s){return t.z=s,t}function C3(t,s,r){return s?(t.l={Target:s},r&&(t.l.Tooltip=r)):delete t.l,t}function Bz(t,s,r){return C3(t,"#"+s,r)}function Rz(t,s,r){t.c||(t.c=[]),t.c.push({t:s,a:r||"SheetJS"})}function Hz(t,s,r,a){for(var n=typeof s!="string"?s:nr(s),l=typeof s=="string"?s:Rs(s),i=n.s.r;i<=n.e.r;++i)for(var d=n.s.c;d<=n.e.c;++d){var x=ix(t,i,d);x.t="n",x.F=l,delete x.v,i==n.s.r&&d==n.s.c&&(x.f=r,a&&(x.D=!0))}return t}var On={encode_col:ra,encode_row:ba,encode_cell:Ps,encode_range:Rs,decode_col:tv,decode_row:ev,split_cell:Q8,decode_cell:aa,decode_range:ro,format_cell:ji,sheet_add_aoa:QS,sheet_add_json:j3,sheet_add_dom:p3,aoa_to_sheet:Y0,json_to_sheet:Iz,table_to_sheet:f3,table_to_book:K$,sheet_to_csv:Cv,sheet_to_txt:N3,sheet_to_json:_p,sheet_to_html:m3,sheet_to_formulae:Mz,sheet_to_row_object_array:_p,sheet_get_cell:ix,book_new:Sv,book_append_sheet:kv,book_set_sheet_visibility:_z,cell_set_number_format:Oz,cell_set_hyperlink:C3,cell_set_internal_link:Bz,cell_add_comment:Rz,sheet_set_array_formula:Hz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Uz(){const[t,s]=o.useState([]),[r,a]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState([]),[f,N]=o.useState(null),p=o.useRef(null),[v,g]=o.useState([]),[y,C]=o.useState(!1),[j,S]=o.useState(1),P=10,[D,T]=o.useState(null),[A,M]=o.useState([]),[L,q]=o.useState({isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{B()},[]);const B=async()=>{C(!0);try{const k=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(k.data){const O=k.data.map(he=>({id:he.id||he.ID||"",groupCode:he.groupCode||he.GroupCode||"",groupDescription:he.groupDescription||he.GroupDescription||""}));b(O)}}catch(k){const O=k.response?.data?.message||k.message||"Failed to load TKS Group";T(O),console.error("Error fetching TKSGroup:",k)}finally{}},te=k=>{s(O=>O.includes(k)?O.filter(he=>he!==k):[...O,k])},oe=()=>{t.length===m.length?s([]):s(m.map(k=>k.id))},fe=k=>{const O=k.target.files?.[0]??null;if(!O)return;N(O),l(O.name);const he=new FileReader;he.onload=ye=>{const be=ye.target?.result;if(!be)return;const ge=I0(be,{type:"array"}).SheetNames;console.log("Sheets:",ge)},he.readAsArrayBuffer(O)},R=(k,O)=>{const he=window.URL.createObjectURL(k),ye=document.createElement("a");ye.href=he,ye.download=O,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),window.URL.revokeObjectURL(he)},V=async()=>{a(!0);try{const k=await ae.get("downloads/DownloadTemplate?filename=ImportDeviceCode_Template.xlsx",{responseType:"blob"}),O=k.headers["content-type"],he=new Blob([k.data],{type:O});R(he,"ImportDeviceCode_Template.xlsx")}finally{}},W=async()=>{if(!f){T("Please select a file to import."),Q.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){Q.fire({icon:"error",title:"Error",text:"Please select group."});return}a(!0);const k=new FormData;k.append("isDeleteExistingRecord",String(x)),k.append("file",f,n);try{const O=await ae.post("/Utilities/Import/ImportDeviceCode",k);M(O.data.resultData),O.data.errors.length>0?(console.log(O.data.errors),M([]),Q.fire({icon:"error",title:"Error",text:O.data.resultData?.[0]?.message??O.data.errors}),g(O.data.errors)):Q.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{a(!1),d(!0)}},ne=async()=>{const k={isDeleteExistingRecord:x,imports:A.filter(O=>!O.message)};console.log(k),console.log(f);try{const O=await ae.post("/Utilities/Import/UpdateImportDeviceCode",k);M(O.data.resultData),O.data.errors.length>0?(M([]),Q.fire({icon:"error",title:"Error",text:O.data.resultData?.[0]?.message??O.data.errors}),g(O.data.errors)):Q.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{a(!1)}},J=Math.ceil(A.length/P),H=(j-1)*P,F=H+P,I=A.slice(H,H+P),U=()=>{const k=[];if(J<=7)for(let O=1;O<=J;O++)k.push(O);else if(j<=4){for(let O=1;O<=5;O++)k.push(O);k.push("..."),k.push(J)}else if(j>=J-3){k.push(1),k.push("...");for(let O=J-4;O<=J;O++)k.push(O)}else{k.push(1),k.push("...");for(let O=j-1;O<=j+1;O++)k.push(O);k.push("..."),k.push(J)}return k};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Device Code"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import device code assignments for employees. Upload Excel files to batch configure which biometric devices employees can use for time tracking with effectivity dates."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device code assignments by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set effectivity and expiration dates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new device codes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:t,onToggle:te,onSelectAll:oe}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),f&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:p,onChange:fe,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:V}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:V,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:W,children:[e.jsx(ua,{className:"w-4 h-4",onClick:W}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:ne,children:[e.jsx(zl,{className:"w-4 h-4",onClick:ne}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Device Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Effectivity Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Expiration Date"})]})}),e.jsx("tbody",{children:Array.isArray(I)&&I.map((k,O)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:k.empCode}),e.jsx("td",{className:"px-4 py-2",children:k.empName}),e.jsx("td",{className:"px-4 py-2",children:k.code}),e.jsx("td",{className:"px-4 py-2",children:k.effectivityDate?new Date(k.effectivityDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.expiryDate?new Date(k.expiryDate).toLocaleDateString():"-"})]},O))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(F,A.length)," of ",A.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",H+1," to ",Math.min(F,A.length)," of ",A.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(k=>Math.max(1,k-1)),disabled:j===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),U().map((k,O)=>typeof k=="number"?e.jsx("button",{onClick:()=>S(k),className:`px-2 py-1 rounded text-xs ${j===k?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:k},O):e.jsx("span",{className:"px-2",children:k},O)),e.jsx("button",{onClick:()=>S(k=>Math.min(J,k+1)),disabled:j===J,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function Wz(){const[t,s]=o.useState([]),[r,a]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState([]),[f,N]=o.useState(null),p=o.useRef(null),[v,g]=o.useState([]),[y,C]=o.useState(!1),[j,S]=o.useState(1),P=10,[D,T]=o.useState(null),[A,M]=o.useState([]),[L,q]=o.useState({isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{B()},[]);const B=async()=>{C(!0);try{const k=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(k.data){const O=k.data.map(he=>({id:he.id||he.ID||"",groupCode:he.groupCode||he.GroupCode||"",groupDescription:he.groupDescription||he.GroupDescription||""}));b(O)}}catch(k){const O=k.response?.data?.message||k.message||"Failed to load TKS Group";T(O),console.error("Error fetching TKSGroup:",k)}finally{}},te=k=>{s(O=>O.includes(k)?O.filter(he=>he!==k):[...O,k])},oe=()=>{t.length===m.length?s([]):s(m.map(k=>k.id))},fe=k=>{const O=k.target.files?.[0]??null;O&&(N(O),l(O.name))},R=(k,O)=>{const he=window.URL.createObjectURL(k),ye=document.createElement("a");ye.href=he,ye.download=O,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),window.URL.revokeObjectURL(he)},V=async()=>{a(!0);try{const k=await ae.get("downloads/DownloadTemplate?filename=ImportTKSMasterFile_Template.xlsx",{responseType:"blob"}),O=k.headers["content-type"],he=new Blob([k.data],{type:O});R(he,"ImportTKSMasterFile_Template.xlsx")}finally{}},W=async()=>{if(!f){T("Please select a file to import."),Q.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){Q.fire({icon:"error",title:"Error",text:"Please select group."});return}a(!0);const k=new FormData;k.append("isDeleteExistingRecord",String(x)),k.append("file",f,n),console.log(x),console.log(f),console.log(k instanceof FormData);try{const O=await ae.post("/Utilities/Import/ImportEmployeeMasterfile",k);M(O.data.resultData),O.data.errors.length>0?(console.log(O.data.errors),M([]),Q.fire({icon:"error",title:"Error",text:O.data.resultData?.[0]?.message??O.data.errors}),g(O.data.errors)):Q.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{a(!1),d(!0)}},ne=async()=>{const k={isDeleteExistingRecord:x,imports:A.filter(O=>!O.message)};console.log(k),console.log(f);try{const O=await ae.post("/Utilities/Import/UpdateImportEmployeeMasterfile",k);M(O.data.resultData),O.data.errors.length>0?(M([]),Q.fire({icon:"error",title:"Error",text:O.data.resultData?.[0]?.message??O.data.errors}),g(O.data.errors)):Q.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{a(!1)}},J=Math.ceil(A.length/P),H=(j-1)*P,F=H+P,I=A.slice(H,H+P),U=()=>{const k=[];if(J<=7)for(let O=1;O<=J;O++)k.push(O);else if(j<=4){for(let O=1;O<=5;O++)k.push(O);k.push("..."),k.push(J)}else if(j>=J-3){k.push(1),k.push("...");for(let O=J-4;O<=J;O++)k.push(O)}else{k.push(1),k.push("...");for(let O=j-1;O<=j+1;O++)k.push(O);k.push("..."),k.push(J)}return k};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Employee Masterfile"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee master data in bulk. Upload Excel files to create or update employee information including personal details, employment status, department assignments, and contact information."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import complete employee profiles"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing employee records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch process multiple employee records"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:t,onToggle:te,onSelectAll:oe}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),f&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:p,onChange:fe,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:V}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:V,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:W,children:[e.jsx(ua,{className:"w-4 h-4",onClick:W}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:ne,children:[e.jsx(zl,{className:"w-4 h-4",onClick:ne}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpStatusActive"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpStatus"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Country"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"LastName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FirstName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"MiddleName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Suffix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NickName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HomeAdd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PresAdd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Municipality"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Province"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PostalCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"CivilStatus"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Citizenship"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Religion"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Sex"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Weight"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Height"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"MobilePhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HomePhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PresPhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"BirthPlace"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Branch"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Division"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Department"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Section"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Unit"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Line"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Position"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Superior"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"JobGrade"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"SSS"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PHIC"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TIN"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateHired"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateRegularized"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateResigned"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateSuspended"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ProbeStart"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ProbeEnd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Birthdate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GroupScheduleCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AllowOTDefault"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TardyExemp"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"UTExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NDExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OTExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AbsenceExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OtherEarnExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HolidayExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"UnproductiveExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DeviceCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay1"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay2"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay3"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DailySchedule"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ClassificationCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GSISNo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OnlineAppCode"})]})}),e.jsx("tbody",{children:Array.isArray(I)&&I.map((k,O)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:k.remarks}),e.jsx("td",{className:"px-4 py-2",children:k.empCode}),e.jsx("td",{className:"px-4 py-2",children:k.statusActive}),e.jsx("td",{className:"px-4 py-2",children:k.empStatCode}),e.jsx("td",{className:"px-4 py-2",children:k.courtesy}),e.jsx("td",{className:"px-4 py-2",children:k.lName}),e.jsx("td",{className:"px-4 py-2",children:k.fName}),e.jsx("td",{className:"px-4 py-2",children:k.mName}),e.jsx("td",{className:"px-4 py-2",children:k.suffix}),e.jsx("td",{className:"px-4 py-2",children:k.nickName}),e.jsx("td",{className:"px-4 py-2",children:k.hAddress}),e.jsx("td",{className:"px-4 py-2",children:k.pAddress}),e.jsx("td",{className:"px-4 py-2",children:k.city}),e.jsx("td",{className:"px-4 py-2",children:k.province}),e.jsx("td",{className:"px-4 py-2",children:k.postalCode}),e.jsx("td",{className:"px-4 py-2",children:k.civilStatus}),e.jsx("td",{className:"px-4 py-2",children:k.citizenship}),e.jsx("td",{className:"px-4 py-2",children:k.religion}),e.jsx("td",{className:"px-4 py-2",children:k.sex}),e.jsx("td",{className:"px-4 py-2",children:k.email}),e.jsx("td",{className:"px-4 py-2",children:k.weight}),e.jsx("td",{className:"px-4 py-2",children:k.height}),e.jsx("td",{className:"px-4 py-2",children:k.mobilePhone}),e.jsx("td",{className:"px-4 py-2",children:k.homePhone}),e.jsx("td",{className:"px-4 py-2",children:k.presentPhone}),e.jsx("td",{className:"px-4 py-2",children:k.birthPlace}),e.jsx("td",{className:"px-4 py-2",children:k.braCode}),e.jsx("td",{className:"px-4 py-2",children:k.divCode}),e.jsx("td",{className:"px-4 py-2",children:k.depCode}),e.jsx("td",{className:"px-4 py-2",children:k.secCode}),e.jsx("td",{className:"px-4 py-2",children:k.unitCode}),e.jsx("td",{className:"px-4 py-2",children:k.lineCode}),e.jsx("td",{className:"px-4 py-2"}),e.jsx("td",{className:"px-4 py-2",children:k.superior}),e.jsx("td",{className:"px-4 py-2",children:k.grdCode}),e.jsx("td",{className:"px-4 py-2",children:k.sssNo}),e.jsx("td",{className:"px-4 py-2",children:k.philHealthNo}),e.jsx("td",{className:"px-4 py-2",children:k.tin}),e.jsx("td",{className:"px-4 py-2",children:k.dateHired?new Date(k.dateHired).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.dateRegularized?new Date(k.dateRegularized).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.dateResigned?new Date(k.dateResigned).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.dateSuspended?new Date(k.dateSuspended).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.probeStart?new Date(k.probeStart).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.probeEnd?new Date(k.probeEnd).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.birthDate?new Date(k.birthDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:k.tksGroup}),e.jsx("td",{className:"px-4 py-2",children:k.groupSchedCode}),e.jsx("td",{className:"px-4 py-2",children:k.allowOTDefault}),e.jsx("td",{className:"px-4 py-2",children:k.tardyExemp}),e.jsx("td",{className:"px-4 py-2",children:k.utExempt}),e.jsx("td",{className:"px-4 py-2",children:k.ndExempt}),e.jsx("td",{className:"px-4 py-2",children:k.otExempt}),e.jsx("td",{className:"px-4 py-2",children:k.absenceExempt}),e.jsx("td",{className:"px-4 py-2",children:k.otherEarnExempt}),e.jsx("td",{className:"px-4 py-2",children:k.holidayExempt}),e.jsx("td",{className:"px-4 py-2",children:k.unproductiveExempt}),e.jsx("td",{className:"px-4 py-2",children:k.deviceCode}),e.jsx("td",{className:"px-4 py-2",children:k.fixedRestDay1}),e.jsx("td",{className:"px-4 py-2",children:k.fixedRestDay2}),e.jsx("td",{className:"px-4 py-2",children:k.fixedRestDay3}),e.jsx("td",{className:"px-4 py-2",children:k.dailySchedule}),e.jsx("td",{className:"px-4 py-2",children:k.classificationCode}),e.jsx("td",{className:"px-4 py-2",children:k.gsisNo}),e.jsx("td",{className:"px-4 py-2",children:k.onlineAppCode})]},O))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(F,A.length)," of ",A.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",H+1," to ",Math.min(F,A.length)," of ",A.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(k=>Math.max(1,k-1)),disabled:j===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),U().map((k,O)=>typeof k=="number"?e.jsx("button",{onClick:()=>S(k),className:`px-2 py-1 rounded text-xs ${j===k?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:k},O):e.jsx("span",{className:"px-2",children:k},O)),e.jsx("button",{onClick:()=>S(k=>Math.min(J,k+1)),disabled:j===J,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function p2(){const[t,s]=o.useState(null),[r,a]=o.useState([]),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(!1),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(!1),[D,T]=o.useState([]),[A,M]=o.useState(null),L=o.useRef(null),[q,B]=o.useState([]),[te,oe]=o.useState(!1),[fe,R]=o.useState(1),V=10,[W,ne]=o.useState(null),[J,H]=o.useState([]),[F,I]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{U()},[]);const U=async()=>{oe(!0);try{const ve=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(ve.data){const Me=ve.data.map(Te=>({id:Te.id||Te.ID||"",groupCode:Te.groupCode||Te.GroupCode||"",groupDescription:Te.groupDescription||Te.GroupDescription||""}));T(Me)}}catch(ve){const Me=ve.response?.data?.message||ve.message||"Failed to load TKS Group";ne(Me),console.error("Error fetching TKSGroup:",ve)}finally{}},k=ve=>{h(Me=>Me.includes(ve)?Me.filter(Te=>Te!==ve):[...Me,ve])},O=()=>{x.length===D.length?h([]):h(D.map(ve=>ve.id))},he=ve=>ve.includes("OvertimeApplication")?"OvertimeApplication":ve[0],ye=ve=>{const Me=ve.target.files?.[0]??null;if(!Me)return;M(Me),N(Me.name);const Te=new FileReader;Te.onload=Le=>{const ot=Le.target?.result;if(!ot)return;const Je=I0(ot,{type:"array",cellDates:!0}),Ge=Je.SheetNames,et=he(Ge),yt=Je.Sheets[et],mt=On.sheet_to_json(yt,{defval:""});s(Je),a(Je.SheetNames),l(et),d(mt),console.log("Sheets:",Je.SheetNames),console.log(mt)},Te.readAsArrayBuffer(Me)},be=ve=>{const Me=ve.target.value;if(l(Me),!t)return;const Te=t.Sheets[Me],Le=On.sheet_to_json(Te,{defval:""});d(Le)};o.useEffect(()=>{console.log("sheetData updated:",i)},[i]);const je=(ve,Me)=>{const Te=On.json_to_sheet(ve),Le=On.book_new();On.book_append_sheet(Le,Te,Me);const ot=pf(Le,{bookType:"xlsx",type:"array"});return new File([ot],`${Me}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!i.length||!n)return;const ve=je(i,n);M(ve)},[i,n]);const ge=(ve,Me)=>{const Te=window.URL.createObjectURL(ve),Le=document.createElement("a");Le.href=Te,Le.download=Me,document.body.appendChild(Le),Le.click(),document.body.removeChild(Le),window.URL.revokeObjectURL(Te)},xe=async()=>{b(!0);try{const ve=await ae.get("downloads/DownloadTemplate?filename=ImportOTApp_Template.xlsx",{responseType:"blob"}),Me=ve.headers["content-type"],Te=new Blob([ve.data],{type:Me});ge(Te,"ImportOTApp_Template.xlsx")}finally{}},Se=async()=>{if(!A){ne("Please select a file to import."),Q.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(x.length===0){Q.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!g||!C){Q.fire({icon:"error",title:"Error",text:"Please select date."});return}b(!0);const ve=new FormData;ve.append("dateFrom",g),ve.append("dateTo",C),ve.append("isDeleteExistingRecord",String(S)),ve.append("file",A,f);try{const Me=await ae.post("/Utilities/Import/ImportOvertimeApplication",ve);H(Me.data.resultData),Me.data.errors.length>0&&(console.log(Me.data.errors),H([]),Q.fire({icon:"error",title:"Error",text:Me.data.resultData?.[0]?.message??Me.data.errors}),B(Me.data.errors))}finally{b(!1),v(!0)}};function De(ve){if(!ve)return null;const Me=new Date(ve);return Me.setDate(Me.getDate()+1),Me.toISOString()}const Fe=async()=>{const ve={dateFrom:De(g),dateTo:De(C),isDeleteExistingRecord:S,imports:J.filter(Me=>!Me.message)};console.log(ve,g,C),console.log(A);try{const Me=await ae.post("/Utilities/Import/UpdateImportOvertimeApplication",ve);H(Me.data.resultData),Me.data.errors.length>0&&(H([]),Q.fire({icon:"error",title:"Error",text:Me.data.resultData?.[0]?.message??Me.data.errors}),B(Me.data.errors))}finally{b(!1)}},Ae=Math.ceil(J.length/V),ze=(fe-1)*V,He=ze+V,Ve=J.slice(ze,ze+V),qe=()=>{const ve=[];if(Ae<=7)for(let Me=1;Me<=Ae;Me++)ve.push(Me);else if(fe<=4){for(let Me=1;Me<=5;Me++)ve.push(Me);ve.push("..."),ve.push(Ae)}else if(fe>=Ae-3){ve.push(1),ve.push("...");for(let Me=Ae-4;Me<=Ae;Me++)ve.push(Me)}else{ve.push(1),ve.push("...");for(let Me=fe-1;Me<=fe+1;Me++)ve.push(Me);ve.push("..."),ve.push(Ae)}return ve};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Overtime Application"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import and manage overtime applications for employees"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ua,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import overtime application records from Excel or CSV files. Select the TKS groups and date range to process overtime applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:x,onToggle:k,onSelectAll:O}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[A&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:f}),A&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:L,onChange:ye,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:n,onChange:be,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:r.map(ve=>e.jsx("option",{value:ve,children:ve},ve))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:g,onChange:y,label:"Date From"}),e.jsx(qa,{date:C,onChange:j,label:"Date To"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:S,onChange:ve=>P(ve.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Overtime Application"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing overtime records before importing new data"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:xe}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:xe,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:Se,children:[e.jsx(ua,{className:"w-4 h-4",onClick:Se}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:Fe,children:[e.jsx(zl,{className:"w-4 h-4",onClick:Fe}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),p&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NumOTHoursApproved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OTTimeBeforeShift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"BreakNumOTHoursApproved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"StartTimeOfOvertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFiling"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ActualDateInOTBeforeShift"})]})}),e.jsx("tbody",{children:Array.isArray(Ve)&&Ve.map((ve,Me)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:ve.empCode}),e.jsx("td",{className:"px-4 py-2",children:ve.empName}),e.jsx("td",{className:"px-4 py-2",children:ve.dateFrom?new Date(ve.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ve.dateTo?new Date(ve.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ve.numOTHoursApproved}),e.jsx("td",{className:"px-4 py-2",children:x}),e.jsx("td",{className:"px-4 py-2",children:ve.reason}),e.jsx("td",{className:"px-4 py-2",children:ve.remarks}),e.jsx("td",{className:"px-4 py-2",children:ve.appliedBeforeShiftDate?new Date(ve.appliedBeforeShiftDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ve.approvedOTBreaksHrs}),e.jsx("td",{className:"px-4 py-2",children:ve.earlyOTStartTime?new Date(ve.earlyOTStartTime).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ve.isLateFiling}),e.jsx("td",{className:"px-4 py-2",children:ve.appliedBeforeShiftDate?new Date(ve.appliedBeforeShiftDate).toLocaleDateString():"-"})]},Me))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!p&&e.jsxs("span",{children:["Showing ",Math.min(He,J.length)," of ",J.length," entries"]}),p&&e.jsxs("span",{children:["Showing ",ze+1," to ",Math.min(He,J.length)," of ",J.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>R(ve=>Math.max(1,ve-1)),disabled:fe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),qe().map((ve,Me)=>typeof ve=="number"?e.jsx("button",{onClick:()=>R(ve),className:`px-2 py-1 rounded text-xs ${fe===ve?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ve},Me):e.jsx("span",{className:"px-2",children:ve},Me)),e.jsx("button",{onClick:()=>R(ve=>Math.min(Ae,ve+1)),disabled:fe===Ae,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function f2(){const[t,s]=o.useState(null),[r,a]=o.useState([]),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(!1),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState([]),[L,q]=o.useState(null),B=o.useRef(null),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState(1),ne=10,[J,H]=o.useState(null),[F,I]=o.useState([]),[U,k]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{O()},[]);const O=async()=>{R(!0);try{const Te=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(Te.data){const Le=Te.data.map(ot=>({id:ot.id||ot.ID||"",groupCode:ot.groupCode||ot.GroupCode||"",groupDescription:ot.groupDescription||ot.GroupDescription||""}));M(Le)}}catch(Te){const Le=Te.response?.data?.message||Te.message||"Failed to load TKS Group";H(Le),console.error("Error fetching TKSGroup:",Te)}finally{}},he=Te=>{h(Le=>Le.includes(Te)?Le.filter(ot=>ot!==Te):[...Le,Te])},ye=()=>{x.length===A.length?h([]):h(A.map(Te=>Te.id))},be=Te=>Te.includes("LeaveApplication")?"LeaveApplication":Te[0],je=Te=>{const Le=Te.target.files?.[0]??null;if(!Le)return;q(Le),N(Le.name);const ot=new FileReader;ot.onload=Je=>{const Ge=Je.target?.result;if(!Ge)return;const et=I0(Ge,{type:"array",cellDates:!0}),yt=et.SheetNames,mt=be(yt),jt=et.Sheets[mt],we=On.sheet_to_json(jt,{defval:""});s(et),a(et.SheetNames),l(mt),d(we),console.log("Sheets:",et.SheetNames),console.log(we)},ot.readAsArrayBuffer(Le)},ge=Te=>{const Le=Te.target.value;if(l(Le),!t)return;const ot=t.Sheets[Le],Je=On.sheet_to_json(ot,{defval:""});d(Je)};o.useEffect(()=>{console.log("sheetData updated:",i)},[i]);const xe=(Te,Le)=>{const ot=On.json_to_sheet(Te),Je=On.book_new();On.book_append_sheet(Je,ot,Le);const Ge=pf(Je,{bookType:"xlsx",type:"array"});return new File([Ge],`${Le}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!i.length||!n)return;const Te=xe(i,n);q(Te)},[i,n]);const Se=(Te,Le)=>{const ot=window.URL.createObjectURL(Te),Je=document.createElement("a");Je.href=ot,Je.download=Le,document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),window.URL.revokeObjectURL(ot)},De=async()=>{b(!0);try{const Te=await ae.get("downloads/DownloadTemplate?filename=ImportLeaveApp_Template.xlsx",{responseType:"blob"}),Le=Te.headers["content-type"],ot=new Blob([Te.data],{type:Le});Se(ot,"ImportLeaveApp_Template.xlsx")}finally{}},Fe=async()=>{if(!L){H("Please select a file to import."),Q.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(x.length===0){Q.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!g||!C){Q.fire({icon:"error",title:"Error",text:"Please select date."});return}b(!0);const Te=new FormData;Te.append("dateFrom",g),Te.append("dateTo",C),Te.append("isDeleteExistingRecord",String(D)),Te.append("listNotEqual",String(S)),Te.append("file",L,f),console.log(L);try{const Le=await ae.post("/Utilities/Import/ImportLeaveApplication",Te);I(Le.data.resultData),Le.data.errors.length>0?(console.log(Le.data.errors),I([]),Q.fire({icon:"error",title:"Error",text:Le.data.resultData?.[0]?.message??Le.data.errors}),oe(Le.data.errors)):Q.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{b(!1),v(!0)}};function Ae(Te){if(!Te)return null;const Le=new Date(Te);return Le.setDate(Le.getDate()+1),Le.toISOString()}const ze=async()=>{const Te={dateFrom:Ae(g),dateTo:Ae(C),isDeleteExistingRecord:D,imports:F.filter(Le=>!Le.message)};console.log(Te,g,C),console.log(L);try{const Le=await ae.post("/Utilities/Import/UpdateImportLeaveApplication",Te);I(Le.data.resultData),Le.data.errors.length>0?(I([]),Q.fire({icon:"error",title:"Error",text:Le.data.resultData?.[0]?.message??Le.data.errors}),oe(Le.data.errors)):Q.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{b(!1)}},He=Math.ceil(F.length/ne),Ve=(V-1)*ne,qe=Ve+ne,ve=F.slice(Ve,Ve+ne),Me=()=>{const Te=[];if(He<=7)for(let Le=1;Le<=He;Le++)Te.push(Le);else if(V<=4){for(let Le=1;Le<=5;Le++)Te.push(Le);Te.push("..."),Te.push(He)}else if(V>=He-3){Te.push(1),Te.push("...");for(let Le=He-4;Le<=He;Le++)Te.push(Le)}else{Te.push(1),Te.push("...");for(let Le=V-1;Le<=V+1;Le++)Te.push(Le);Te.push("..."),Te.push(He)}return Te};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Leave Application"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import and manage leave applications for employees"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ua,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import leave application records from Excel or CSV files. Select the TKS groups and date range to process leave applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:x,onToggle:he,onSelectAll:ye}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[L&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:f}),L&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:B,onChange:je,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:n,onChange:ge,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:r.map(Te=>e.jsx("option",{value:Te,children:Te},Te))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:g,onChange:y,label:"Date From"}),e.jsx(qa,{date:C,onChange:j,label:"Date To"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:D,onChange:Te=>T(Te.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Leave Applications"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing leave applications before importing new data"})]})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"list-not-equal",checked:S,onChange:Te=>P(Te.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"List Not Equal"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Check if Approved Leave Hours is not equal to Standard Hours"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:De}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:De,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:Fe,children:[e.jsx(ua,{className:"w-4 h-4",onClick:Fe}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:ze,children:[e.jsx(zl,{className:"w-4 h-4",onClick:ze}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),p&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Num Approved Hrs"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Period"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:Array.isArray(ve)&&ve.map((Te,Le)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:Te.empCode}),e.jsx("td",{className:"px-4 py-2",children:Te.empName}),e.jsx("td",{className:"px-4 py-2",children:Te.dateFrom?new Date(Te.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:Te.dateTo?new Date(Te.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:Te.numApprovedHrs}),e.jsx("td",{className:"px-4 py-2",children:Te.leaveCode}),e.jsx("td",{className:"px-4 py-2",children:Te.period}),e.jsx("td",{className:"px-4 py-2",children:x})]},Le))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!p&&e.jsxs("span",{children:["Showing ",Math.min(qe,F.length)," of ",F.length," entries"]}),p&&e.jsxs("span",{children:["Showing ",Ve+1," to ",Math.min(qe,F.length)," of ",F.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>W(Te=>Math.max(1,Te-1)),disabled:V===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Me().map((Te,Le)=>typeof Te=="number"?e.jsx("button",{onClick:()=>W(Te),className:`px-2 py-1 rounded text-xs ${V===Te?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te},Le):e.jsx("span",{className:"px-2",children:Te},Le)),e.jsx("button",{onClick:()=>W(Te=>Math.min(He,Te+1)),disabled:V===He,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function Gz(){const[t,s]=o.useState(!1),[r,a]=o.useState(null),n=()=>{s(!0)},l=()=>{s(!1)},i=()=>{s(!1)},d=h=>{const m=h.target.files?.[0];m&&a(m)},x=()=>{console.log("Importing file:",r)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Logs from Device v2"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import attendance logs from biometric devices"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsx("button",{onClick:t?l:n,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shadow-sm ${t?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-white hover:bg-gray-700"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx(Ar,{className:"w-4 h-4"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]})}),t&&e.jsxs("button",{onClick:i,className:"px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Cb,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(is,{className:"w-4 h-4"}),"Delete"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 mb-6",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Import Settings"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Select Device ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[e.jsx("option",{children:"All Devices"}),e.jsx("option",{children:"Device 1 - Main Entrance"}),e.jsx("option",{children:"Device 2 - Office Floor"}),e.jsx("option",{children:"Device 3 - Factory"}),e.jsx("option",{children:"Device 4 - Warehouse"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Select Log File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",accept:".txt,.dat,.log",onChange:d,disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",disabled:!t,children:[e.jsx(ua,{className:"w-4 h-4"}),"Browse"]})]}),r&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",r.name]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date From"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsx(cs,{className:"w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date To"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsx(cs,{className:"w-5 h-5 text-gray-400"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"deleteExisting",disabled:!t,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"deleteExisting",className:"text-gray-700",children:"Delete existing data before import"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"validateData",disabled:!t,defaultChecked:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"validateData",className:"text-gray-700",children:"Validate employee IDs before import"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:x,disabled:!r||!t,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(gp,{className:"w-4 h-4"}),"Import Logs"]})})]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," Supported file formats: .txt, .dat, .log. The system will automatically detect the device format and parse the logs accordingly."]})})]})]})}),e.jsx(Qt,{})]})}function $z(){const[t,s]=o.useState([]),[r,a]=o.useState(""),[n,l]=o.useState(null),[i,d]=o.useState([]),[x,h]=o.useState(""),[m,b]=o.useState([]),[f,N]=o.useState([]),[p,v]=o.useState([]),[g,y]=o.useState("10/01/2025"),[C,j]=o.useState("11/16/2025"),[S,P]=o.useState(null),D=o.useRef(null),[T,A]=o.useState(!0),[M,L]=o.useState(!0),[q,B]=o.useState(!0),[te,oe]=o.useState(!1),[fe,R]=o.useState(!1),[V,W]=o.useState(!1),[ne,J]=o.useState(""),[H,F]=o.useState([]),[I,U]=o.useState([]),[k,O]=o.useState([]),[he,ye]=o.useState(""),[be,je]=o.useState(!1),[ge,xe]=o.useState(null),[Se,De]=o.useState(""),[Fe,Ae]=o.useState("1"),[ze,He]=o.useState([]),[Ve,qe]=o.useState(1),ve=10,[Me,Te]=o.useState(!1),[Le,ot]=o.useState(""),[Je,Ge]=o.useState(!1),et=I.filter(ce=>ce.empCode?.toLowerCase().includes(Se.toLowerCase())||ce.lName?.toLowerCase().includes(Se.toLowerCase())||ce.fName?.toLowerCase().includes(Se.toLowerCase())||ce.mName?.toLowerCase().includes(Se.toLowerCase())||ce.suffix?.toLowerCase().includes(Se.toLowerCase()));o.useEffect(()=>{yt()},[]);const yt=async()=>{R(!0);try{const ce=await ae.get("/Fs/Process/Device/DeviceTypeSetUp");if(ce.data){const Ee=ce.data.map(pe=>({deviceName:pe.deviceName||pe.DeviceName||""}));F(Ee)}}catch(ce){const Ee=ce.response?.data?.message||ce.message||"Failed to Devices";xe(Ee),console.error("Error fetching Devices",ce)}finally{}},mt=async()=>{s(p),R(!0);try{const ce=await ae.get(`/Import/LogsFromDevice/GetRawData?rawDateInFrom=${g}&rawDateInTo=${C}&empCode=${p}`);if(ce.data){const Ee=ce.data.map(pe=>({id:pe.id||pe.Id||"",empCode:pe.empCode||pe.EmpCode||"",lName:pe.lName||pe.LName||"",fName:pe.fName||pe.FName||"",mName:pe.mName||pe.MName||"",suffix:pe.suffix||pe.Suffix||"",rawDateIn:pe.rawDateIn||pe.RawDateIn||"",workShiftCode:pe.workShiftCode||pe.WorkShiftCode||"",workShiftDesc:pe.workShiftDesc||pe.WorkShiftDesc||"",dayType:pe.dayType||pe.DayType||"",rawTimeIn:pe.rawTimeIn||pe.RawTimeIn||"",rawBreak1In:pe.rawBreak1In||pe.RawBreak1In||"",rawBreak1Out:pe.rawBreak1Out||pe.RawBreak1Out||"",rawBreak2In:pe.rawBreak2In||pe.RawBreak2In||"",rawBreak2Out:pe.rawBreak2Out||pe.RawBreak2Out||"",rawBreak3In:pe.rawBreak3In||pe.RawBreak3In||"",rawBreak3Out:pe.rawBreak3Out||pe.RawBreak3Out||"",rawTimeOut:pe.rawTimeOut||pe.RawTimeOut||"",rawDateOut:pe.rawDateOut||pe.RawDateOut||"",rawOTApproved:pe.rawOTApproved||pe.RawOTApproved||"",rawRemarks:pe.rawRemarks||pe.RawRemarks||"",entryFlag:pe.entryFlag||pe.EntryFlag||"",terminalID:pe.terminalID||pe.TerminalID||"",dayTypeDOLE:pe.dayTypeDOLE||pe.DayTypeDOLE||"",aprOTTime:pe.aprOTTime||pe.AprOTTime||""}));O(Ee),console.log(t),console.log(g,C),console.log(k)}}catch(ce){const Ee=ce.response?.data?.message||ce.message||"Failed to Load Data";xe(Ee),console.error("Error fetching data",ce)}finally{}};o.useEffect(()=>{jt()},[]);const jt=async()=>{R(!0);try{const ce=await ae.get("/Fs/Process/TimeKeepGroupSetUp");if(ce.data){const Ee=ce.data.map(pe=>({id:pe.id||pe.ID||"",groupCode:pe.groupCode||pe.GroupCode||"",groupDescription:pe.groupDescription||pe.GroupDescription||""}));He(Ee)}}catch(ce){const Ee=ce.response?.data?.message||ce.message||"Failed to load TKS Group";xe(Ee),console.error("Error fetching TKSGroup:",ce)}finally{}};o.useEffect(()=>{Ft()},[Fe]);const we=Math.ceil(et.length/ve),Re=(Ve-1)*ve,me=Re+ve,Ye=et.slice(Re,me),pt=()=>{const ce=[];if(we<=7)for(let Ee=1;Ee<=we;Ee++)ce.push(Ee);else if(Ve<=4){for(let Ee=1;Ee<=5;Ee++)ce.push(Ee);ce.push("..."),ce.push(we)}else if(Ve>=we-3){ce.push(1),ce.push("...");for(let Ee=we-4;Ee<=we;Ee++)ce.push(Ee)}else{ce.push(1),ce.push("...");for(let Ee=Ve-1;Ee<=Ve+1;Ee++)ce.push(Ee);ce.push("..."),ce.push(we)}return ce},Ft=async()=>{R(!0);try{const ce=await ae.get(`/EmployeeMasterFile/GetActive?active=${Fe}`);if(ce.data){const Ee=ce.data.map(pe=>({empID:pe.empID||pe.EmpID||"",empCode:pe.empCode||pe.EmpCode||"",lName:pe.lName||pe.LName||"",fName:pe.fName||pe.fName||"",mName:pe.mName||pe.mName||"",suffix:pe.suffix||pe.suffix||""}));U(Ee)}}catch(ce){const Ee=ce.response?.data?.message||ce.message||"Failed to Devices";xe(Ee),console.error("Error fetching Devices",ce)}finally{}};o.useEffect(()=>{const ce=Ee=>{Ee.key==="Escape"&&Me&&Te(!1)};return Me&&document.addEventListener("keydown",ce),()=>{document.removeEventListener("keydown",ce)}},[Me]);const Bt=ce=>{N(Ee=>Ee.includes(ce)?Ee.filter(pe=>pe!==ce):[...Ee,ce])},Lt=ce=>{v(Ee=>Ee.includes(ce)?Ee.filter(pe=>pe!==ce):[...Ee,ce])},Qe=()=>{f.length===uc.length?N([]):N(uc.map(ce=>ce.id))},gt=()=>{p.length===I.length?v([]):v(I.map(ce=>ce.empCode))},vt=ce=>ce.includes("EXCELDTR")?"EXCELDTR":ce[0],xt=ce=>{const Ee=ce.target.files?.[0]??null;if(!Ee)return;P(Ee),ye(Ee.name);const pe=new FileReader;pe.onload=at=>{const ut=at.target?.result;if(!ut)return;const _t=I0(ut,{type:"array",cellDates:!0}),it=_t.SheetNames,bt=vt(it),se=_t.Sheets[bt],ue=On.sheet_to_json(se,{defval:""});l(_t),d(_t.SheetNames),h(bt),b(ue),console.log("Sheets:",_t.SheetNames),console.log(ue)},pe.readAsArrayBuffer(Ee)},Ct=ce=>{const Ee=ce.target.value;if(h(Ee),!n)return;const pe=n.Sheets[Ee],at=On.sheet_to_json(pe,{defval:""});b(at)};o.useEffect(()=>{console.log("sheetData updated:",m)},[m]);const Nt=(ce,Ee)=>{const pe=On.json_to_sheet(ce),at=On.book_new();On.book_append_sheet(at,pe,Ee);const ut=pf(at,{bookType:"xlsx",type:"array"});return new File([ut],`${Ee}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!m.length||!x)return;const ce=Nt(m,x);P(ce)},[m,x]);const $e=(ce,Ee)=>{const pe=window.URL.createObjectURL(ce),at=document.createElement("a");at.href=pe,at.download=Ee,document.body.appendChild(at),at.click(),document.body.removeChild(at),window.URL.revokeObjectURL(pe)},Ke=async()=>{Ge(!0);try{const ce=await ae.get("downloads/DownloadTemplate?filename=DTR_Excel_Format.xls",{responseType:"blob"}),Ee=ce.headers["content-type"],pe=new Blob([ce.data],{type:Ee});$e(pe,"DTR_Excel_Format.xls")}finally{}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:f,onToggle:Bt,onSelectAll:Qe}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:g,onChange:y,label:"From:"}),e.jsx(qa,{date:C,onChange:j,label:"To:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsxs("select",{value:ne,onChange:ce=>J(ce.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{}),H.map(ce=>e.jsx("option",{value:ce.deviceName,children:ce.deviceName},ce.deviceName))]})]}),e.jsx("div",{className:"grid grid-cols-2 space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:ce=>A(ce.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]})}),ne==="Excel Format"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:x,onChange:Ct,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i.map(ce=>e.jsx("option",{value:ce,children:ce},ce))})]}),ne==="Excel Format"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Ke}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Ke,children:"Download Template"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:he}),S&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:D,onChange:xt,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q,onChange:ce=>B(ce.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Consolidate DTR"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:ce=>L(ce.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:te,onChange:ce=>oe(ce.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Upload logs from Online System only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V,onChange:ce=>W(ce.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Logs of the Device"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",onClick:mt,children:[e.jsx(qF,{className:"w-4 h-4"}),"View Logs"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx(zl,{className:"w-4 h-4"}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employee Selection"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:Se,onChange:ce=>De(ce.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:p.length===I.length,onChange:gt})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ye.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(ce.empCode),onChange:()=>Lt(ce.empCode),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.empCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.lName+", "+ce.fName+" "+ce.mName+" "+ce.suffix})]},ce.empID))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[!I&&e.jsxs("span",{children:["Showing ",Math.min(me,et.length)," of ",et.length," entries"]}),I&&e.jsxs("span",{children:["Showing ",Re+1," to ",Math.min(me,et.length)," of ",et.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>qe(ce=>Math.max(1,ce-1)),disabled:Ve===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),pt().map((ce,Ee)=>typeof ce=="number"?e.jsx("button",{onClick:()=>qe(ce),className:`px-2 py-1 rounded text-xs ${Ve===ce?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},Ee):e.jsx("span",{className:"px-2",children:ce},Ee)),e.jsx("button",{onClick:()=>qe(ce=>Math.min(we,ce+1)),disabled:Ve===we,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"1",checked:Fe==="1",onChange:ce=>Ae(ce.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"0",checked:Fe==="0",onChange:ce=>Ae(ce.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"",checked:Fe==="",onChange:ce=>Ae(ce.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:Array.isArray(k)&&k.map((ce,Ee)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:ce.empCode}),e.jsxs("td",{className:"px-4 py-2",children:[ce.lName,", ",ce.fName," ",ce.mName," ",ce.suffix]}),e.jsx("td",{className:"px-4 py-2",children:ce.rawDateIn?new Date(ce.rawDateIn).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ce.rawTimeIn?new Date(ce.rawTimeIn).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ce.entryFlag})]},Ee))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function S3(t){var s,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(r=S3(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function k3(){for(var t,s,r=0,a="",n=arguments.length;r<n;r++)(t=arguments[r])&&(s=S3(t))&&(a&&(a+=" "),a+=s);return a}const zz=(t,s)=>{const r=new Array(t.length+s.length);for(let a=0;a<t.length;a++)r[a]=t[a];for(let a=0;a<s.length;a++)r[t.length+a]=s[a];return r},Vz=(t,s)=>({classGroupId:t,validator:s}),D3=(t=new Map,s=null,r)=>({nextPart:t,validators:s,classGroupId:r}),Op="-",g2=[],Yz="arbitrary..",Kz=t=>{const s=Xz(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return qz(i);const d=i.split(Op),x=d[0]===""&&d.length>1?1:0;return E3(d,x,s)},getConflictingClassGroupIds:(i,d)=>{if(d){const x=a[i],h=r[i];return x?h?zz(h,x):x:h||g2}return r[i]||g2}}},E3=(t,s,r)=>{if(t.length-s===0)return r.classGroupId;const n=t[s],l=r.nextPart.get(n);if(l){const h=E3(t,s+1,l);if(h)return h}const i=r.validators;if(i===null)return;const d=s===0?t.join(Op):t.slice(s).join(Op),x=i.length;for(let h=0;h<x;h++){const m=i[h];if(m.validator(d))return m.classGroupId}},qz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),r=s.indexOf(":"),a=s.slice(0,r);return a?Yz+a:void 0})(),Xz=t=>{const{theme:s,classGroups:r}=t;return Jz(r,s)},Jz=(t,s)=>{const r=D3();for(const a in t){const n=t[a];Dv(n,r,a,s)}return r},Dv=(t,s,r,a)=>{const n=t.length;for(let l=0;l<n;l++){const i=t[l];Qz(i,s,r,a)}},Qz=(t,s,r,a)=>{if(typeof t=="string"){Zz(t,s,r);return}if(typeof t=="function"){eV(t,s,r,a);return}tV(t,s,r,a)},Zz=(t,s,r)=>{const a=t===""?s:T3(s,t);a.classGroupId=r},eV=(t,s,r,a)=>{if(sV(t)){Dv(t(a),s,r,a);return}s.validators===null&&(s.validators=[]),s.validators.push(Vz(r,t))},tV=(t,s,r,a)=>{const n=Object.entries(t),l=n.length;for(let i=0;i<l;i++){const[d,x]=n[i];Dv(x,T3(s,d),r,a)}},T3=(t,s)=>{let r=t;const a=s.split(Op),n=a.length;for(let l=0;l<n;l++){const i=a[l];let d=r.nextPart.get(i);d||(d=D3(),r.nextPart.set(i,d)),r=d}return r},sV=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,rV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,r=Object.create(null),a=Object.create(null);const n=(l,i)=>{r[l]=i,s++,s>t&&(s=0,a=r,r=Object.create(null))};return{get(l){let i=r[l];if(i!==void 0)return i;if((i=a[l])!==void 0)return n(l,i),i},set(l,i){l in r?r[l]=i:n(l,i)}}},Ky="!",y2=":",aV=[],b2=(t,s,r,a,n)=>({modifiers:t,hasImportantModifier:s,baseClassName:r,maybePostfixModifierPosition:a,isExternal:n}),nV=t=>{const{prefix:s,experimentalParseClassName:r}=t;let a=n=>{const l=[];let i=0,d=0,x=0,h;const m=n.length;for(let v=0;v<m;v++){const g=n[v];if(i===0&&d===0){if(g===y2){l.push(n.slice(x,v)),x=v+1;continue}if(g==="/"){h=v;continue}}g==="["?i++:g==="]"?i--:g==="("?d++:g===")"&&d--}const b=l.length===0?n:n.slice(x);let f=b,N=!1;b.endsWith(Ky)?(f=b.slice(0,-1),N=!0):b.startsWith(Ky)&&(f=b.slice(1),N=!0);const p=h&&h>x?h-x:void 0;return b2(l,N,f,p)};if(s){const n=s+y2,l=a;a=i=>i.startsWith(n)?l(i.slice(n.length)):b2(aV,!1,i,void 0,!0)}if(r){const n=a;a=l=>r({className:l,parseClassName:n})}return a},oV=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((r,a)=>{s.set(r,1e6+a)}),r=>{const a=[];let n=[];for(let l=0;l<r.length;l++){const i=r[l],d=i[0]==="[",x=s.has(i);d||x?(n.length>0&&(n.sort(),a.push(...n),n=[]),a.push(i)):n.push(i)}return n.length>0&&(n.sort(),a.push(...n)),a}},lV=t=>({cache:rV(t.cacheSize),parseClassName:nV(t),sortModifiers:oV(t),...Kz(t)}),iV=/\s+/,cV=(t,s)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n,sortModifiers:l}=s,i=[],d=t.trim().split(iV);let x="";for(let h=d.length-1;h>=0;h-=1){const m=d[h],{isExternal:b,modifiers:f,hasImportantModifier:N,baseClassName:p,maybePostfixModifierPosition:v}=r(m);if(b){x=m+(x.length>0?" "+x:x);continue}let g=!!v,y=a(g?p.substring(0,v):p);if(!y){if(!g){x=m+(x.length>0?" "+x:x);continue}if(y=a(p),!y){x=m+(x.length>0?" "+x:x);continue}g=!1}const C=f.length===0?"":f.length===1?f[0]:l(f).join(":"),j=N?C+Ky:C,S=j+y;if(i.indexOf(S)>-1)continue;i.push(S);const P=n(y,g);for(let D=0;D<P.length;++D){const T=P[D];i.push(j+T)}x=m+(x.length>0?" "+x:x)}return x},dV=(...t)=>{let s=0,r,a,n="";for(;s<t.length;)(r=t[s++])&&(a=A3(r))&&(n&&(n+=" "),n+=a);return n},A3=t=>{if(typeof t=="string")return t;let s,r="";for(let a=0;a<t.length;a++)t[a]&&(s=A3(t[a]))&&(r&&(r+=" "),r+=s);return r},uV=(t,...s)=>{let r,a,n,l;const i=x=>{const h=s.reduce((m,b)=>b(m),t());return r=lV(h),a=r.cache.get,n=r.cache.set,l=d,d(x)},d=x=>{const h=a(x);if(h)return h;const m=cV(x,r);return n(x,m),m};return l=i,(...x)=>l(dV(...x))},xV=[],Fa=t=>{const s=r=>r[t]||xV;return s.isThemeGetter=!0,s},F3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,P3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hV=/^\d+\/\d+$/,mV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,x0=t=>hV.test(t),Gs=t=>!!t&&!Number.isNaN(Number(t)),Qi=t=>!!t&&Number.isInteger(Number(t)),uy=t=>t.endsWith("%")&&Gs(t.slice(0,-1)),xi=t=>mV.test(t),bV=()=>!0,vV=t=>pV.test(t)&&!fV.test(t),M3=()=>!1,wV=t=>gV.test(t),NV=t=>yV.test(t),jV=t=>!bs(t)&&!vs(t),CV=t=>q0(t,_3,M3),bs=t=>F3.test(t),Yc=t=>q0(t,O3,vV),xy=t=>q0(t,TV,Gs),v2=t=>q0(t,I3,M3),SV=t=>q0(t,L3,NV),rm=t=>q0(t,B3,wV),vs=t=>P3.test(t),Fu=t=>X0(t,O3),kV=t=>X0(t,AV),w2=t=>X0(t,I3),DV=t=>X0(t,_3),EV=t=>X0(t,L3),am=t=>X0(t,B3,!0),q0=(t,s,r)=>{const a=F3.exec(t);return a?a[1]?s(a[1]):r(a[2]):!1},X0=(t,s,r=!1)=>{const a=P3.exec(t);return a?a[1]?s(a[1]):r:!1},I3=t=>t==="position"||t==="percentage",L3=t=>t==="image"||t==="url",_3=t=>t==="length"||t==="size"||t==="bg-size",O3=t=>t==="length",TV=t=>t==="number",AV=t=>t==="family-name",B3=t=>t==="shadow",FV=()=>{const t=Fa("color"),s=Fa("font"),r=Fa("text"),a=Fa("font-weight"),n=Fa("tracking"),l=Fa("leading"),i=Fa("breakpoint"),d=Fa("container"),x=Fa("spacing"),h=Fa("radius"),m=Fa("shadow"),b=Fa("inset-shadow"),f=Fa("text-shadow"),N=Fa("drop-shadow"),p=Fa("blur"),v=Fa("perspective"),g=Fa("aspect"),y=Fa("ease"),C=Fa("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...S(),vs,bs],D=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],A=()=>[vs,bs,x],M=()=>[x0,"full","auto",...A()],L=()=>[Qi,"none","subgrid",vs,bs],q=()=>["auto",{span:["full",Qi,vs,bs]},Qi,vs,bs],B=()=>[Qi,"auto",vs,bs],te=()=>["auto","min","max","fr",vs,bs],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],fe=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...A()],V=()=>[x0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],W=()=>[t,vs,bs],ne=()=>[...S(),w2,v2,{position:[vs,bs]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",DV,CV,{size:[vs,bs]}],F=()=>[uy,Fu,Yc],I=()=>["","none","full",h,vs,bs],U=()=>["",Gs,Fu,Yc],k=()=>["solid","dashed","dotted","double"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[Gs,uy,w2,v2],ye=()=>["","none",p,vs,bs],be=()=>["none",Gs,vs,bs],je=()=>["none",Gs,vs,bs],ge=()=>[Gs,vs,bs],xe=()=>[x0,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[xi],breakpoint:[xi],color:[bV],container:[xi],"drop-shadow":[xi],ease:["in","out","in-out"],font:[jV],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[xi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[xi],shadow:[xi],spacing:["px",Gs],text:[xi],"text-shadow":[xi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",x0,bs,vs,g]}],container:["container"],columns:[{columns:[Gs,bs,vs,d]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Qi,"auto",vs,bs]}],basis:[{basis:[x0,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gs,x0,"auto","initial","none",bs]}],grow:[{grow:["",Gs,vs,bs]}],shrink:[{shrink:["",Gs,vs,bs]}],order:[{order:[Qi,"first","last","none",vs,bs]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...fe(),"normal"]}],"justify-self":[{"justify-self":["auto",...fe()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...fe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...fe(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...fe(),"baseline"]}],"place-self":[{"place-self":["auto",...fe()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[d,"screen",...V()]}],"min-w":[{"min-w":[d,"screen","none",...V()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[i]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,Fu,Yc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,vs,xy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uy,bs]}],"font-family":[{font:[kV,bs,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,vs,bs]}],"line-clamp":[{"line-clamp":[Gs,"none",vs,xy]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",vs,bs]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vs,bs]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...k(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gs,"from-font","auto",vs,Yc]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Gs,"auto",vs,bs]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vs,bs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vs,bs]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qi,vs,bs],radial:["",vs,bs],conic:[Qi,vs,bs]},EV,SV]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...k(),"hidden","none"]}],"divide-style":[{divide:[...k(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...k(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gs,vs,bs]}],"outline-w":[{outline:["",Gs,Fu,Yc]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",m,am,rm]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",b,am,rm]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Gs,Yc]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",f,am,rm]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Gs,vs,bs]}],"mix-blend":[{"mix-blend":[...O(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":O()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Gs]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[vs,bs]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Gs]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vs,bs]}],filter:[{filter:["","none",vs,bs]}],blur:[{blur:ye()}],brightness:[{brightness:[Gs,vs,bs]}],contrast:[{contrast:[Gs,vs,bs]}],"drop-shadow":[{"drop-shadow":["","none",N,am,rm]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Gs,vs,bs]}],"hue-rotate":[{"hue-rotate":[Gs,vs,bs]}],invert:[{invert:["",Gs,vs,bs]}],saturate:[{saturate:[Gs,vs,bs]}],sepia:[{sepia:["",Gs,vs,bs]}],"backdrop-filter":[{"backdrop-filter":["","none",vs,bs]}],"backdrop-blur":[{"backdrop-blur":ye()}],"backdrop-brightness":[{"backdrop-brightness":[Gs,vs,bs]}],"backdrop-contrast":[{"backdrop-contrast":[Gs,vs,bs]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gs,vs,bs]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gs,vs,bs]}],"backdrop-invert":[{"backdrop-invert":["",Gs,vs,bs]}],"backdrop-opacity":[{"backdrop-opacity":[Gs,vs,bs]}],"backdrop-saturate":[{"backdrop-saturate":[Gs,vs,bs]}],"backdrop-sepia":[{"backdrop-sepia":["",Gs,vs,bs]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vs,bs]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gs,"initial",vs,bs]}],ease:[{ease:["linear","initial",y,vs,bs]}],delay:[{delay:[Gs,vs,bs]}],animate:[{animate:["none",C,vs,bs]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,vs,bs]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:je()}],"scale-x":[{"scale-x":je()}],"scale-y":[{"scale-y":je()}],"scale-z":[{"scale-z":je()}],"scale-3d":["scale-3d"],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[vs,bs,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vs,bs]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vs,bs]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Gs,Fu,Yc,xy]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PV=uV(FV);function Xc(...t){return PV(k3(t))}function qy({...t}){return e.jsx(Cx,{"data-slot":"popover",...t})}function Xy({...t}){return e.jsx(Sx,{"data-slot":"popover-trigger",...t})}function Jy({className:t,align:s="center",sideOffset:r=4,...a}){return e.jsx(kx,{children:e.jsx(Dx,{"data-slot":"popover-content",align:s,sideOffset:r,className:Xc("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...a})})}function or(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function vo(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function _n(t,s){const r=or(t);return isNaN(s)?vo(t,NaN):(s&&r.setDate(r.getDate()+s),r)}function pl(t,s){const r=or(t);if(isNaN(s))return vo(t,NaN);if(!s)return r;const a=r.getDate(),n=vo(t,r.getTime());n.setMonth(r.getMonth()+s+1,0);const l=n.getDate();return a>=l?n:(r.setFullYear(n.getFullYear(),n.getMonth(),a),r)}const Ev=6048e5,MV=864e5;let IV={};function _x(){return IV}function $l(t,s){const r=_x(),a=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,n=or(t),l=n.getDay(),i=(l<a?7:0)+l-a;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function fd(t){return $l(t,{weekStartsOn:1})}function R3(t){const s=or(t),r=s.getFullYear(),a=vo(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=fd(a),l=vo(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const i=fd(l);return s.getTime()>=n.getTime()?r+1:s.getTime()>=i.getTime()?r:r-1}function L0(t){const s=or(t);return s.setHours(0,0,0,0),s}function Bp(t){const s=or(t),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+t-+r}function Hl(t,s){const r=L0(t),a=L0(s),n=+r-Bp(r),l=+a-Bp(a);return Math.round((n-l)/MV)}function LV(t){const s=R3(t),r=vo(t,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),fd(r)}function Qy(t,s){const r=s*7;return _n(t,r)}function _V(t,s){return pl(t,s*12)}function OV(t){let s;return t.forEach(function(r){const a=or(r);(s===void 0||s<a||isNaN(Number(a)))&&(s=a)}),s||new Date(NaN)}function BV(t){let s;return t.forEach(r=>{const a=or(r);(!s||s>a||isNaN(+a))&&(s=a)}),s||new Date(NaN)}function Jn(t,s){const r=L0(t),a=L0(s);return+r==+a}function Tv(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function RV(t){if(!Tv(t)&&typeof t!="number")return!1;const s=or(t);return!isNaN(Number(s))}function cx(t,s){const r=or(t),a=or(s),n=r.getFullYear()-a.getFullYear(),l=r.getMonth()-a.getMonth();return n*12+l}function HV(t,s,r){const a=$l(t,r),n=$l(s,r),l=+a-Bp(a),i=+n-Bp(n);return Math.round((l-i)/Ev)}function Av(t){const s=or(t),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(23,59,59,999),s}function so(t){const s=or(t);return s.setDate(1),s.setHours(0,0,0,0),s}function H3(t){const s=or(t),r=vo(t,0);return r.setFullYear(s.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Fv(t,s){const r=_x(),a=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,n=or(t),l=n.getDay(),i=(l<a?-7:0)+6-(l-a);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function U3(t){return Fv(t,{weekStartsOn:1})}const UV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WV=(t,s,r)=>{let a;const n=UV[t];return typeof n=="string"?a=n:s===1?a=n.one:a=n.other.replace("{{count}}",s.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function hy(t){return(s={})=>{const r=s.width?String(s.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const GV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$V={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VV={date:hy({formats:GV,defaultWidth:"full"}),time:hy({formats:$V,defaultWidth:"full"}),dateTime:hy({formats:zV,defaultWidth:"full"})},YV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KV=(t,s,r,a)=>YV[t];function Pu(t){return(s,r)=>{const a=r?.context?String(r.context):"standalone";let n;if(a==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):i;n=t.formattingValues[d]||t.formattingValues[i]}else{const i=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;n=t.values[d]||t.values[i]}const l=t.argumentCallback?t.argumentCallback(s):s;return n[l]}}const qV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},tY=(t,s)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sY={ordinalNumber:tY,era:Pu({values:qV,defaultWidth:"wide"}),quarter:Pu({values:XV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Pu({values:JV,defaultWidth:"wide"}),day:Pu({values:QV,defaultWidth:"wide"}),dayPeriod:Pu({values:ZV,defaultWidth:"wide",formattingValues:eY,defaultFormattingWidth:"wide"})};function Mu(t){return(s,r={})=>{const a=r.width,n=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=s.match(n);if(!l)return null;const i=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],x=Array.isArray(d)?aY(d,b=>b.test(i)):rY(d,b=>b.test(i));let h;h=t.valueCallback?t.valueCallback(x):x,h=r.valueCallback?r.valueCallback(h):h;const m=s.slice(i.length);return{value:h,rest:m}}}function rY(t,s){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&s(t[r]))return r}function aY(t,s){for(let r=0;r<t.length;r++)if(s(t[r]))return r}function nY(t){return(s,r={})=>{const a=s.match(t.matchPattern);if(!a)return null;const n=a[0],l=s.match(t.parsePattern);if(!l)return null;let i=t.valueCallback?t.valueCallback(l[0]):l[0];i=r.valueCallback?r.valueCallback(i):i;const d=s.slice(n.length);return{value:i,rest:d}}}const oY=/^(\d+)(th|st|nd|rd)?/i,lY=/\d+/i,iY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cY={any:[/^b/i,/^(a|c)/i]},dY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uY={any:[/1/i,/2/i,/3/i,/4/i]},xY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yY={ordinalNumber:nY({matchPattern:oY,parsePattern:lY,valueCallback:t=>parseInt(t,10)}),era:Mu({matchPatterns:iY,defaultMatchWidth:"wide",parsePatterns:cY,defaultParseWidth:"any"}),quarter:Mu({matchPatterns:dY,defaultMatchWidth:"wide",parsePatterns:uY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Mu({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:hY,defaultParseWidth:"any"}),day:Mu({matchPatterns:mY,defaultMatchWidth:"wide",parsePatterns:pY,defaultParseWidth:"any"}),dayPeriod:Mu({matchPatterns:fY,defaultMatchWidth:"any",parsePatterns:gY,defaultParseWidth:"any"})},W3={code:"en-US",formatDistance:WV,formatLong:VV,formatRelative:KV,localize:sY,match:yY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bY(t){const s=or(t);return Hl(s,H3(s))+1}function G3(t){const s=or(t),r=+fd(s)-+LV(s);return Math.round(r/Ev)+1}function $3(t,s){const r=or(t),a=r.getFullYear(),n=_x(),l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=vo(t,0);i.setFullYear(a+1,0,l),i.setHours(0,0,0,0);const d=$l(i,s),x=vo(t,0);x.setFullYear(a,0,l),x.setHours(0,0,0,0);const h=$l(x,s);return r.getTime()>=d.getTime()?a+1:r.getTime()>=h.getTime()?a:a-1}function vY(t,s){const r=_x(),a=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,n=$3(t,s),l=vo(t,0);return l.setFullYear(n,0,a),l.setHours(0,0,0,0),$l(l,s)}function z3(t,s){const r=or(t),a=+$l(r,s)-+vY(r,s);return Math.round(a/Ev)+1}function kr(t,s){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(s,"0");return r+a}const Zi={y(t,s){const r=t.getFullYear(),a=r>0?r:1-r;return kr(s==="yy"?a%100:a,s.length)},M(t,s){const r=t.getMonth();return s==="M"?String(r+1):kr(r+1,2)},d(t,s){return kr(t.getDate(),s.length)},a(t,s){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,s){return kr(t.getHours()%12||12,s.length)},H(t,s){return kr(t.getHours(),s.length)},m(t,s){return kr(t.getMinutes(),s.length)},s(t,s){return kr(t.getSeconds(),s.length)},S(t,s){const r=s.length,a=t.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return kr(n,s.length)}},h0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},N2={G:function(t,s,r){const a=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){const a=t.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return Zi.y(t,s)},Y:function(t,s,r,a){const n=$3(t,a),l=n>0?n:1-n;if(s==="YY"){const i=l%100;return kr(i,2)}return s==="Yo"?r.ordinalNumber(l,{unit:"year"}):kr(l,s.length)},R:function(t,s){const r=R3(t);return kr(r,s.length)},u:function(t,s){const r=t.getFullYear();return kr(r,s.length)},Q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return kr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return kr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,s,r){const a=t.getMonth();switch(s){case"M":case"MM":return Zi.M(t,s);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,s,r){const a=t.getMonth();switch(s){case"L":return String(a+1);case"LL":return kr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,s,r,a){const n=z3(t,a);return s==="wo"?r.ordinalNumber(n,{unit:"week"}):kr(n,s.length)},I:function(t,s,r){const a=G3(t);return s==="Io"?r.ordinalNumber(a,{unit:"week"}):kr(a,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Zi.d(t,s)},D:function(t,s,r){const a=bY(t);return s==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):kr(a,s.length)},E:function(t,s,r){const a=t.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,s,r,a){const n=t.getDay(),l=(n-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(l);case"ee":return kr(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,r,a){const n=t.getDay(),l=(n-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(l);case"cc":return kr(l,s.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,r){const a=t.getDay(),n=a===0?7:a;switch(s){case"i":return String(n);case"ii":return kr(n,s.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,s,r){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,r){const a=t.getHours();let n;switch(a===12?n=h0.noon:a===0?n=h0.midnight:n=a/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,r){const a=t.getHours();let n;switch(a>=17?n=h0.evening:a>=12?n=h0.afternoon:a>=4?n=h0.morning:n=h0.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Zi.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Zi.H(t,s)},K:function(t,s,r){const a=t.getHours()%12;return s==="Ko"?r.ordinalNumber(a,{unit:"hour"}):kr(a,s.length)},k:function(t,s,r){let a=t.getHours();return a===0&&(a=24),s==="ko"?r.ordinalNumber(a,{unit:"hour"}):kr(a,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zi.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Zi.s(t,s)},S:function(t,s){return Zi.S(t,s)},X:function(t,s,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(s){case"X":return C2(a);case"XXXX":case"XX":return Jc(a);case"XXXXX":case"XXX":default:return Jc(a,":")}},x:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"x":return C2(a);case"xxxx":case"xx":return Jc(a);case"xxxxx":case"xxx":default:return Jc(a,":")}},O:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+j2(a,":");case"OOOO":default:return"GMT"+Jc(a,":")}},z:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+j2(a,":");case"zzzz":default:return"GMT"+Jc(a,":")}},t:function(t,s,r){const a=Math.trunc(t.getTime()/1e3);return kr(a,s.length)},T:function(t,s,r){const a=t.getTime();return kr(a,s.length)}};function j2(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),n=Math.trunc(a/60),l=a%60;return l===0?r+String(n):r+String(n)+s+kr(l,2)}function C2(t,s){return t%60===0?(t>0?"-":"+")+kr(Math.abs(t)/60,2):Jc(t,s)}function Jc(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),n=kr(Math.trunc(a/60),2),l=kr(a%60,2);return r+n+s+l}const S2=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},V3=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},wY=(t,s)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return S2(t,s);let l;switch(a){case"P":l=s.dateTime({width:"short"});break;case"PP":l=s.dateTime({width:"medium"});break;case"PPP":l=s.dateTime({width:"long"});break;case"PPPP":default:l=s.dateTime({width:"full"});break}return l.replace("{{date}}",S2(a,s)).replace("{{time}}",V3(n,s))},NY={p:V3,P:wY},jY=/^D+$/,CY=/^Y+$/,SY=["D","DD","YY","YYYY"];function kY(t){return jY.test(t)}function DY(t){return CY.test(t)}function EY(t,s,r){const a=TY(t,s,r);if(console.warn(a),SY.includes(t))throw new RangeError(a)}function TY(t,s,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const AY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PY=/^'([^]*?)'?$/,MY=/''/g,IY=/[a-zA-Z]/;function Dd(t,s,r){const a=_x(),n=r?.locale??a.locale??W3,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=or(t);if(!RV(d))throw new RangeError("Invalid time value");let x=s.match(FY).map(m=>{const b=m[0];if(b==="p"||b==="P"){const f=NY[b];return f(m,n.formatLong)}return m}).join("").match(AY).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const b=m[0];if(b==="'")return{isToken:!1,value:LY(m)};if(N2[b])return{isToken:!0,value:m};if(b.match(IY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:m}});n.localize.preprocessor&&(x=n.localize.preprocessor(d,x));const h={firstWeekContainsDate:l,weekStartsOn:i,locale:n};return x.map(m=>{if(!m.isToken)return m.value;const b=m.value;(!r?.useAdditionalWeekYearTokens&&DY(b)||!r?.useAdditionalDayOfYearTokens&&kY(b))&&EY(b,s,String(t));const f=N2[b[0]];return f(d,b,n.localize,h)}).join("")}function LY(t){const s=t.match(PY);return s?s[1].replace(MY,"'"):t}function _Y(t){const s=or(t),r=s.getFullYear(),a=s.getMonth(),n=vo(t,0);return n.setFullYear(r,a+1,0),n.setHours(0,0,0,0),n.getDate()}function OY(t){return Math.trunc(+or(t)/1e3)}function BY(t){const s=or(t),r=s.getMonth();return s.setFullYear(s.getFullYear(),r+1,0),s.setHours(0,0,0,0),s}function RY(t,s){return HV(BY(t),so(t),s)+1}function Zy(t,s){const r=or(t),a=or(s);return r.getTime()>a.getTime()}function Y3(t,s){const r=or(t),a=or(s);return+r<+a}function Pv(t,s){const r=or(t),a=or(s);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function HY(t,s){const r=or(t),a=or(s);return r.getFullYear()===a.getFullYear()}function my(t,s){return _n(t,-s)}function py(t,s){const r=or(t),a=r.getFullYear(),n=r.getDate(),l=vo(t,0);l.setFullYear(a,s,15),l.setHours(0,0,0,0);const i=_Y(l);return r.setMonth(s,Math.min(n,i)),r}function k2(t,s){const r=or(t);return isNaN(+r)?vo(t,NaN):(r.setFullYear(s),r)}var Ms=function(){return Ms=Object.assign||function(s){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])}return s},Ms.apply(this,arguments)};function UY(t,s){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&s.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)s.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(r[a[n]]=t[a[n]]);return r}function K3(t,s,r){for(var a=0,n=s.length,l;a<n;a++)(l||!(a in s))&&(l||(l=Array.prototype.slice.call(s,0,a)),l[a]=s[a]);return t.concat(l||Array.prototype.slice.call(s))}function Ox(t){return t.mode==="multiple"}function Bx(t){return t.mode==="range"}function ff(t){return t.mode==="single"}var WY={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function GY(t,s){return Dd(t,"LLLL y",s)}function $Y(t,s){return Dd(t,"d",s)}function zY(t,s){return Dd(t,"LLLL",s)}function VY(t){return"".concat(t)}function YY(t,s){return Dd(t,"cccccc",s)}function KY(t,s){return Dd(t,"yyyy",s)}var qY=Object.freeze({__proto__:null,formatCaption:GY,formatDay:$Y,formatMonthCaption:zY,formatWeekNumber:VY,formatWeekdayName:YY,formatYearCaption:KY}),XY=function(t,s,r){return Dd(t,"do MMMM (EEEE)",r)},JY=function(){return"Month: "},QY=function(){return"Go to next month"},ZY=function(){return"Go to previous month"},eK=function(t,s){return Dd(t,"cccc",s)},tK=function(t){return"Week n. ".concat(t)},sK=function(){return"Year: "},rK=Object.freeze({__proto__:null,labelDay:XY,labelMonthDropdown:JY,labelNext:QY,labelPrevious:ZY,labelWeekNumber:tK,labelWeekday:eK,labelYearDropdown:sK});function aK(){var t="buttons",s=WY,r=W3,a={},n={},l=1,i={},d=new Date;return{captionLayout:t,classNames:s,formatters:qY,labels:rK,locale:r,modifiersClassNames:a,modifiers:n,numberOfMonths:l,styles:i,today:d,mode:"default"}}function nK(t){var s=t.fromYear,r=t.toYear,a=t.fromMonth,n=t.toMonth,l=t.fromDate,i=t.toDate;return a?l=so(a):s&&(l=new Date(s,0,1)),n?i=Av(n):r&&(i=new Date(r,11,31)),{fromDate:l?L0(l):void 0,toDate:i?L0(i):void 0}}var q3=o.createContext(void 0);function oK(t){var s,r=t.initialProps,a=aK(),n=nK(r),l=n.fromDate,i=n.toDate,d=(s=r.captionLayout)!==null&&s!==void 0?s:a.captionLayout;d!=="buttons"&&(!l||!i)&&(d="buttons");var x;(ff(r)||Ox(r)||Bx(r))&&(x=r.onSelect);var h=Ms(Ms(Ms({},a),r),{captionLayout:d,classNames:Ms(Ms({},a.classNames),r.classNames),components:Ms({},r.components),formatters:Ms(Ms({},a.formatters),r.formatters),fromDate:l,labels:Ms(Ms({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:Ms(Ms({},a.modifiers),r.modifiers),modifiersClassNames:Ms(Ms({},a.modifiersClassNames),r.modifiersClassNames),onSelect:x,styles:Ms(Ms({},a.styles),r.styles),toDate:i});return e.jsx(q3.Provider,{value:h,children:t.children})}function Wr(){var t=o.useContext(q3);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function X3(t){var s=Wr(),r=s.locale,a=s.classNames,n=s.styles,l=s.formatters.formatCaption;return e.jsx("div",{className:a.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:l(t.displayMonth,{locale:r})})}function lK(t){return e.jsx("svg",Ms({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function J3(t){var s,r,a=t.onChange,n=t.value,l=t.children,i=t.caption,d=t.className,x=t.style,h=Wr(),m=(r=(s=h.components)===null||s===void 0?void 0:s.IconDropdown)!==null&&r!==void 0?r:lK;return e.jsxs("div",{className:d,style:x,children:[e.jsx("span",{className:h.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:n,onChange:a,children:l}),e.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function iK(t){var s,r=Wr(),a=r.fromDate,n=r.toDate,l=r.styles,i=r.locale,d=r.formatters.formatMonthCaption,x=r.classNames,h=r.components,m=r.labels.labelMonthDropdown;if(!a)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var b=[];if(HY(a,n))for(var f=so(a),N=a.getMonth();N<=n.getMonth();N++)b.push(py(f,N));else for(var f=so(new Date),N=0;N<=11;N++)b.push(py(f,N));var p=function(g){var y=Number(g.target.value),C=py(so(t.displayMonth),y);t.onChange(C)},v=(s=h?.Dropdown)!==null&&s!==void 0?s:J3;return e.jsx(v,{name:"months","aria-label":m(),className:x.dropdown_month,style:l.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:d(t.displayMonth,{locale:i}),children:b.map(function(g){return e.jsx("option",{value:g.getMonth(),children:d(g,{locale:i})},g.getMonth())})})}function cK(t){var s,r=t.displayMonth,a=Wr(),n=a.fromDate,l=a.toDate,i=a.locale,d=a.styles,x=a.classNames,h=a.components,m=a.formatters.formatYearCaption,b=a.labels.labelYearDropdown,f=[];if(!n)return e.jsx(e.Fragment,{});if(!l)return e.jsx(e.Fragment,{});for(var N=n.getFullYear(),p=l.getFullYear(),v=N;v<=p;v++)f.push(k2(H3(new Date),v));var g=function(C){var j=k2(so(r),Number(C.target.value));t.onChange(j)},y=(s=h?.Dropdown)!==null&&s!==void 0?s:J3;return e.jsx(y,{name:"years","aria-label":b(),className:x.dropdown_year,style:d.dropdown_year,onChange:g,value:r.getFullYear(),caption:m(r,{locale:i}),children:f.map(function(C){return e.jsx("option",{value:C.getFullYear(),children:m(C,{locale:i})},C.getFullYear())})})}function dK(t,s){var r=o.useState(t),a=r[0],n=r[1],l=s===void 0?a:s;return[l,n]}function uK(t){var s=t.month,r=t.defaultMonth,a=t.today,n=s||r||a||new Date,l=t.toDate,i=t.fromDate,d=t.numberOfMonths,x=d===void 0?1:d;if(l&&cx(l,n)<0){var h=-1*(x-1);n=pl(l,h)}return i&&cx(n,i)<0&&(n=i),so(n)}function xK(){var t=Wr(),s=uK(t),r=dK(s,t.month),a=r[0],n=r[1],l=function(i){var d;if(!t.disableNavigation){var x=so(i);n(x),(d=t.onMonthChange)===null||d===void 0||d.call(t,x)}};return[a,l]}function hK(t,s){for(var r=s.reverseMonths,a=s.numberOfMonths,n=so(t),l=so(pl(n,a)),i=cx(l,n),d=[],x=0;x<i;x++){var h=pl(n,x);d.push(h)}return r&&(d=d.reverse()),d}function mK(t,s){if(!s.disableNavigation){var r=s.toDate,a=s.pagedNavigation,n=s.numberOfMonths,l=n===void 0?1:n,i=a?l:1,d=so(t);if(!r)return pl(d,i);var x=cx(r,t);if(!(x<l))return pl(d,i)}}function pK(t,s){if(!s.disableNavigation){var r=s.fromDate,a=s.pagedNavigation,n=s.numberOfMonths,l=n===void 0?1:n,i=a?l:1,d=so(t);if(!r)return pl(d,-i);var x=cx(d,r);if(!(x<=0))return pl(d,-i)}}var Q3=o.createContext(void 0);function fK(t){var s=Wr(),r=xK(),a=r[0],n=r[1],l=hK(a,s),i=mK(a,s),d=pK(a,s),x=function(b){return l.some(function(f){return Pv(b,f)})},h=function(b,f){x(b)||(f&&Y3(b,f)?n(pl(b,1+s.numberOfMonths*-1)):n(b))},m={currentMonth:a,displayMonths:l,goToMonth:n,goToDate:h,previousMonth:d,nextMonth:i,isDateDisplayed:x};return e.jsx(Q3.Provider,{value:m,children:t.children})}function Rx(){var t=o.useContext(Q3);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function D2(t){var s,r=Wr(),a=r.classNames,n=r.styles,l=r.components,i=Rx().goToMonth,d=function(m){i(pl(m,t.displayIndex?-t.displayIndex:0))},x=(s=l?.CaptionLabel)!==null&&s!==void 0?s:X3,h=e.jsx(x,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:a.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:a.vhidden,children:h}),e.jsx(iK,{onChange:d,displayMonth:t.displayMonth}),e.jsx(cK,{onChange:d,displayMonth:t.displayMonth})]})}function gK(t){return e.jsx("svg",Ms({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yK(t){return e.jsx("svg",Ms({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Rp=o.forwardRef(function(t,s){var r=Wr(),a=r.classNames,n=r.styles,l=[a.button_reset,a.button];t.className&&l.push(t.className);var i=l.join(" "),d=Ms(Ms({},n.button_reset),n.button);return t.style&&Object.assign(d,t.style),e.jsx("button",Ms({},t,{ref:s,type:"button",className:i,style:d}))});function bK(t){var s,r,a=Wr(),n=a.dir,l=a.locale,i=a.classNames,d=a.styles,x=a.labels,h=x.labelPrevious,m=x.labelNext,b=a.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var f=h(t.previousMonth,{locale:l}),N=[i.nav_button,i.nav_button_previous].join(" "),p=m(t.nextMonth,{locale:l}),v=[i.nav_button,i.nav_button_next].join(" "),g=(s=b?.IconRight)!==null&&s!==void 0?s:yK,y=(r=b?.IconLeft)!==null&&r!==void 0?r:gK;return e.jsxs("div",{className:i.nav,style:d.nav,children:[!t.hidePrevious&&e.jsx(Rp,{name:"previous-month","aria-label":f,className:N,style:d.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(g,{className:i.nav_icon,style:d.nav_icon}):e.jsx(y,{className:i.nav_icon,style:d.nav_icon})}),!t.hideNext&&e.jsx(Rp,{name:"next-month","aria-label":p,className:v,style:d.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(y,{className:i.nav_icon,style:d.nav_icon}):e.jsx(g,{className:i.nav_icon,style:d.nav_icon})})]})}function E2(t){var s=Wr().numberOfMonths,r=Rx(),a=r.previousMonth,n=r.nextMonth,l=r.goToMonth,i=r.displayMonths,d=i.findIndex(function(p){return Pv(t.displayMonth,p)}),x=d===0,h=d===i.length-1,m=s>1&&(x||!h),b=s>1&&(h||!x),f=function(){a&&l(a)},N=function(){n&&l(n)};return e.jsx(bK,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:b,nextMonth:n,previousMonth:a,onPreviousClick:f,onNextClick:N})}function vK(t){var s,r=Wr(),a=r.classNames,n=r.disableNavigation,l=r.styles,i=r.captionLayout,d=r.components,x=(s=d?.CaptionLabel)!==null&&s!==void 0?s:X3,h;return n?h=e.jsx(x,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?h=e.jsx(D2,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?h=e.jsxs(e.Fragment,{children:[e.jsx(D2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(E2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):h=e.jsxs(e.Fragment,{children:[e.jsx(x,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(E2,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:a.caption,style:l.caption,children:h})}function wK(t){var s=Wr(),r=s.footer,a=s.styles,n=s.classNames.tfoot;return r?e.jsx("tfoot",{className:n,style:a.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:r})})}):e.jsx(e.Fragment,{})}function NK(t,s,r){for(var a=r?fd(new Date):$l(new Date,{locale:t,weekStartsOn:s}),n=[],l=0;l<7;l++){var i=_n(a,l);n.push(i)}return n}function jK(){var t=Wr(),s=t.classNames,r=t.styles,a=t.showWeekNumber,n=t.locale,l=t.weekStartsOn,i=t.ISOWeek,d=t.formatters.formatWeekdayName,x=t.labels.labelWeekday,h=NK(n,l,i);return e.jsxs("tr",{style:r.head_row,className:s.head_row,children:[a&&e.jsx("td",{style:r.head_cell,className:s.head_cell}),h.map(function(m,b){return e.jsx("th",{scope:"col",className:s.head_cell,style:r.head_cell,"aria-label":x(m,{locale:n}),children:d(m,{locale:n})},b)})]})}function CK(){var t,s=Wr(),r=s.classNames,a=s.styles,n=s.components,l=(t=n?.HeadRow)!==null&&t!==void 0?t:jK;return e.jsx("thead",{style:a.head,className:r.head,children:e.jsx(l,{})})}function SK(t){var s=Wr(),r=s.locale,a=s.formatters.formatDay;return e.jsx(e.Fragment,{children:a(t.date,{locale:r})})}var Mv=o.createContext(void 0);function kK(t){if(!Ox(t.initialProps)){var s={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Mv.Provider,{value:s,children:t.children})}return e.jsx(DK,{initialProps:t.initialProps,children:t.children})}function DK(t){var s=t.initialProps,r=t.children,a=s.selected,n=s.min,l=s.max,i=function(h,m,b){var f,N;(f=s.onDayClick)===null||f===void 0||f.call(s,h,m,b);var p=!!(m.selected&&n&&a?.length===n);if(!p){var v=!!(!m.selected&&l&&a?.length===l);if(!v){var g=a?K3([],a):[];if(m.selected){var y=g.findIndex(function(C){return Jn(h,C)});g.splice(y,1)}else g.push(h);(N=s.onSelect)===null||N===void 0||N.call(s,g,h,m,b)}}},d={disabled:[]};a&&d.disabled.push(function(h){var m=l&&a.length>l-1,b=a.some(function(f){return Jn(f,h)});return!!(m&&!b)});var x={selected:a,onDayClick:i,modifiers:d};return e.jsx(Mv.Provider,{value:x,children:r})}function Iv(){var t=o.useContext(Mv);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function EK(t,s){var r=s||{},a=r.from,n=r.to;return a&&n?Jn(n,t)&&Jn(a,t)?void 0:Jn(n,t)?{from:n,to:void 0}:Jn(a,t)?void 0:Zy(a,t)?{from:t,to:n}:{from:a,to:t}:n?Zy(t,n)?{from:n,to:t}:{from:t,to:n}:a?Y3(t,a)?{from:t,to:a}:{from:a,to:t}:{from:t,to:void 0}}var Lv=o.createContext(void 0);function TK(t){if(!Bx(t.initialProps)){var s={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(Lv.Provider,{value:s,children:t.children})}return e.jsx(AK,{initialProps:t.initialProps,children:t.children})}function AK(t){var s=t.initialProps,r=t.children,a=s.selected,n=a||{},l=n.from,i=n.to,d=s.min,x=s.max,h=function(N,p,v){var g,y;(g=s.onDayClick)===null||g===void 0||g.call(s,N,p,v);var C=EK(N,a);(y=s.onSelect)===null||y===void 0||y.call(s,C,N,p,v)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],i?(m.range_end=[i],Jn(l,i)||(m.range_middle=[{after:l,before:i}])):m.range_end=[l]):i&&(m.range_start=[i],m.range_end=[i]),d&&(l&&!i&&m.disabled.push({after:my(l,d-1),before:_n(l,d-1)}),l&&i&&m.disabled.push({after:l,before:_n(l,d-1)}),!l&&i&&m.disabled.push({after:my(i,d-1),before:_n(i,d-1)})),x){if(l&&!i&&(m.disabled.push({before:_n(l,-x+1)}),m.disabled.push({after:_n(l,x-1)})),l&&i){var b=Hl(i,l)+1,f=x-b;m.disabled.push({before:my(l,f)}),m.disabled.push({after:_n(i,f)})}!l&&i&&(m.disabled.push({before:_n(i,-x+1)}),m.disabled.push({after:_n(i,x-1)}))}return e.jsx(Lv.Provider,{value:{selected:a,onDayClick:h,modifiers:m},children:r})}function _v(){var t=o.useContext(Lv);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function op(t){return Array.isArray(t)?K3([],t):t!==void 0?[t]:[]}function FK(t){var s={};return Object.entries(t).forEach(function(r){var a=r[0],n=r[1];s[a]=op(n)}),s}var fl;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(fl||(fl={}));var PK=fl.Selected,hi=fl.Disabled,MK=fl.Hidden,IK=fl.Today,fy=fl.RangeEnd,gy=fl.RangeMiddle,yy=fl.RangeStart,LK=fl.Outside;function _K(t,s,r){var a,n=(a={},a[PK]=op(t.selected),a[hi]=op(t.disabled),a[MK]=op(t.hidden),a[IK]=[t.today],a[fy]=[],a[gy]=[],a[yy]=[],a[LK]=[],a);return t.fromDate&&n[hi].push({before:t.fromDate}),t.toDate&&n[hi].push({after:t.toDate}),Ox(t)?n[hi]=n[hi].concat(s.modifiers[hi]):Bx(t)&&(n[hi]=n[hi].concat(r.modifiers[hi]),n[yy]=r.modifiers[yy],n[gy]=r.modifiers[gy],n[fy]=r.modifiers[fy]),n}var Z3=o.createContext(void 0);function OK(t){var s=Wr(),r=Iv(),a=_v(),n=_K(s,r,a),l=FK(s.modifiers),i=Ms(Ms({},n),l);return e.jsx(Z3.Provider,{value:i,children:t.children})}function eD(){var t=o.useContext(Z3);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function BK(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function RK(t){return!!(t&&typeof t=="object"&&"from"in t)}function HK(t){return!!(t&&typeof t=="object"&&"after"in t)}function UK(t){return!!(t&&typeof t=="object"&&"before"in t)}function WK(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function GK(t,s){var r,a=s.from,n=s.to;if(a&&n){var l=Hl(n,a)<0;l&&(r=[n,a],a=r[0],n=r[1]);var i=Hl(t,a)>=0&&Hl(n,t)>=0;return i}return n?Jn(n,t):a?Jn(a,t):!1}function $K(t){return Tv(t)}function zK(t){return Array.isArray(t)&&t.every(Tv)}function VK(t,s){return s.some(function(r){if(typeof r=="boolean")return r;if($K(r))return Jn(t,r);if(zK(r))return r.includes(t);if(RK(r))return GK(t,r);if(WK(r))return r.dayOfWeek.includes(t.getDay());if(BK(r)){var a=Hl(r.before,t),n=Hl(r.after,t),l=a>0,i=n<0,d=Zy(r.before,r.after);return d?i&&l:l||i}return HK(r)?Hl(t,r.after)>0:UK(r)?Hl(r.before,t)>0:typeof r=="function"?r(t):!1})}function Ov(t,s,r){var a=Object.keys(s).reduce(function(l,i){var d=s[i];return VK(t,d)&&l.push(i),l},[]),n={};return a.forEach(function(l){return n[l]=!0}),r&&!Pv(t,r)&&(n.outside=!0),n}function YK(t,s){for(var r=so(t[0]),a=Av(t[t.length-1]),n,l,i=r;i<=a;){var d=Ov(i,s),x=!d.disabled&&!d.hidden;if(!x){i=_n(i,1);continue}if(d.selected)return i;d.today&&!l&&(l=i),n||(n=i),i=_n(i,1)}return l||n}var KK=365;function tD(t,s){var r=s.moveBy,a=s.direction,n=s.context,l=s.modifiers,i=s.retry,d=i===void 0?{count:0,lastFocused:t}:i,x=n.weekStartsOn,h=n.fromDate,m=n.toDate,b=n.locale,f={day:_n,week:Qy,month:pl,year:_V,startOfWeek:function(g){return n.ISOWeek?fd(g):$l(g,{locale:b,weekStartsOn:x})},endOfWeek:function(g){return n.ISOWeek?U3(g):Fv(g,{locale:b,weekStartsOn:x})}},N=f[r](t,a==="after"?1:-1);a==="before"&&h?N=OV([h,N]):a==="after"&&m&&(N=BV([m,N]));var p=!0;if(l){var v=Ov(N,l);p=!v.disabled&&!v.hidden}return p?N:d.count>KK?d.lastFocused:tD(N,{moveBy:r,direction:a,context:n,modifiers:l,retry:Ms(Ms({},d),{count:d.count+1})})}var sD=o.createContext(void 0);function qK(t){var s=Rx(),r=eD(),a=o.useState(),n=a[0],l=a[1],i=o.useState(),d=i[0],x=i[1],h=YK(s.displayMonths,r),m=n??(d&&s.isDateDisplayed(d))?d:h,b=function(){x(n),l(void 0)},f=function(g){l(g)},N=Wr(),p=function(g,y){if(n){var C=tD(n,{moveBy:g,direction:y,context:N,modifiers:r});Jn(n,C)||(s.goToDate(C,n),f(C))}},v={focusedDay:n,focusTarget:m,blur:b,focus:f,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return e.jsx(sD.Provider,{value:v,children:t.children})}function Bv(){var t=o.useContext(sD);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function XK(t,s){var r=eD(),a=Ov(t,r,s);return a}var Rv=o.createContext(void 0);function JK(t){if(!ff(t.initialProps)){var s={selected:void 0};return e.jsx(Rv.Provider,{value:s,children:t.children})}return e.jsx(QK,{initialProps:t.initialProps,children:t.children})}function QK(t){var s=t.initialProps,r=t.children,a=function(l,i,d){var x,h,m;if((x=s.onDayClick)===null||x===void 0||x.call(s,l,i,d),i.selected&&!s.required){(h=s.onSelect)===null||h===void 0||h.call(s,void 0,l,i,d);return}(m=s.onSelect)===null||m===void 0||m.call(s,l,l,i,d)},n={selected:s.selected,onDayClick:a};return e.jsx(Rv.Provider,{value:n,children:r})}function rD(){var t=o.useContext(Rv);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function ZK(t,s){var r=Wr(),a=rD(),n=Iv(),l=_v(),i=Bv(),d=i.focusDayAfter,x=i.focusDayBefore,h=i.focusWeekAfter,m=i.focusWeekBefore,b=i.blur,f=i.focus,N=i.focusMonthBefore,p=i.focusMonthAfter,v=i.focusYearBefore,g=i.focusYearAfter,y=i.focusStartOfWeek,C=i.focusEndOfWeek,j=function(V){var W,ne,J,H;ff(r)?(W=a.onDayClick)===null||W===void 0||W.call(a,t,s,V):Ox(r)?(ne=n.onDayClick)===null||ne===void 0||ne.call(n,t,s,V):Bx(r)?(J=l.onDayClick)===null||J===void 0||J.call(l,t,s,V):(H=r.onDayClick)===null||H===void 0||H.call(r,t,s,V)},S=function(V){var W;f(t),(W=r.onDayFocus)===null||W===void 0||W.call(r,t,s,V)},P=function(V){var W;b(),(W=r.onDayBlur)===null||W===void 0||W.call(r,t,s,V)},D=function(V){var W;(W=r.onDayMouseEnter)===null||W===void 0||W.call(r,t,s,V)},T=function(V){var W;(W=r.onDayMouseLeave)===null||W===void 0||W.call(r,t,s,V)},A=function(V){var W;(W=r.onDayPointerEnter)===null||W===void 0||W.call(r,t,s,V)},M=function(V){var W;(W=r.onDayPointerLeave)===null||W===void 0||W.call(r,t,s,V)},L=function(V){var W;(W=r.onDayTouchCancel)===null||W===void 0||W.call(r,t,s,V)},q=function(V){var W;(W=r.onDayTouchEnd)===null||W===void 0||W.call(r,t,s,V)},B=function(V){var W;(W=r.onDayTouchMove)===null||W===void 0||W.call(r,t,s,V)},te=function(V){var W;(W=r.onDayTouchStart)===null||W===void 0||W.call(r,t,s,V)},oe=function(V){var W;(W=r.onDayKeyUp)===null||W===void 0||W.call(r,t,s,V)},fe=function(V){var W;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?d():x();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?x():d();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),h();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),m();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():N();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?g():p();break;case"Home":V.preventDefault(),V.stopPropagation(),y();break;case"End":V.preventDefault(),V.stopPropagation(),C();break}(W=r.onDayKeyDown)===null||W===void 0||W.call(r,t,s,V)},R={onClick:j,onFocus:S,onBlur:P,onKeyDown:fe,onKeyUp:oe,onMouseEnter:D,onMouseLeave:T,onPointerEnter:A,onPointerLeave:M,onTouchCancel:L,onTouchEnd:q,onTouchMove:B,onTouchStart:te};return R}function eq(){var t=Wr(),s=rD(),r=Iv(),a=_v(),n=ff(t)?s.selected:Ox(t)?r.selected:Bx(t)?a.selected:void 0;return n}function tq(t){return Object.values(fl).includes(t)}function sq(t,s){var r=[t.classNames.day];return Object.keys(s).forEach(function(a){var n=t.modifiersClassNames[a];if(n)r.push(n);else if(tq(a)){var l=t.classNames["day_".concat(a)];l&&r.push(l)}}),r}function rq(t,s){var r=Ms({},t.styles.day);return Object.keys(s).forEach(function(a){var n;r=Ms(Ms({},r),(n=t.modifiersStyles)===null||n===void 0?void 0:n[a])}),r}function aq(t,s,r){var a,n,l,i=Wr(),d=Bv(),x=XK(t,s),h=ZK(t,x),m=eq(),b=!!(i.onDayClick||i.mode!=="default");o.useEffect(function(){var D;x.outside||d.focusedDay&&b&&Jn(d.focusedDay,t)&&((D=r.current)===null||D===void 0||D.focus())},[d.focusedDay,t,r,b,x.outside]);var f=sq(i,x).join(" "),N=rq(i,x),p=!!(x.outside&&!i.showOutsideDays||x.hidden),v=(l=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&l!==void 0?l:SK,g=e.jsx(v,{date:t,displayMonth:s,activeModifiers:x}),y={style:N,className:f,children:g,role:"gridcell"},C=d.focusTarget&&Jn(d.focusTarget,t)&&!x.outside,j=d.focusedDay&&Jn(d.focusedDay,t),S=Ms(Ms(Ms({},y),(a={disabled:x.disabled,role:"gridcell"},a["aria-selected"]=x.selected,a.tabIndex=j||C?0:-1,a)),h),P={isButton:b,isHidden:p,activeModifiers:x,selectedDays:m,buttonProps:S,divProps:y};return P}function nq(t){var s=o.useRef(null),r=aq(t.date,t.displayMonth,s);return r.isHidden?e.jsx("div",{role:"gridcell"}):r.isButton?e.jsx(Rp,Ms({name:"day",ref:s},r.buttonProps)):e.jsx("div",Ms({},r.divProps))}function oq(t){var s=t.number,r=t.dates,a=Wr(),n=a.onWeekNumberClick,l=a.styles,i=a.classNames,d=a.locale,x=a.labels.labelWeekNumber,h=a.formatters.formatWeekNumber,m=h(Number(s),{locale:d});if(!n)return e.jsx("span",{className:i.weeknumber,style:l.weeknumber,children:m});var b=x(Number(s),{locale:d}),f=function(N){n(s,r,N)};return e.jsx(Rp,{name:"week-number","aria-label":b,className:i.weeknumber,style:l.weeknumber,onClick:f,children:m})}function lq(t){var s,r,a=Wr(),n=a.styles,l=a.classNames,i=a.showWeekNumber,d=a.components,x=(s=d?.Day)!==null&&s!==void 0?s:nq,h=(r=d?.WeekNumber)!==null&&r!==void 0?r:oq,m;return i&&(m=e.jsx("td",{className:l.cell,style:n.cell,children:e.jsx(h,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:l.row,style:n.row,children:[m,t.dates.map(function(b){return e.jsx("td",{className:l.cell,style:n.cell,role:"presentation",children:e.jsx(x,{displayMonth:t.displayMonth,date:b})},OY(b))})]})}function T2(t,s,r){for(var a=r?.ISOWeek?U3(s):Fv(s,r),n=r?.ISOWeek?fd(t):$l(t,r),l=Hl(a,n),i=[],d=0;d<=l;d++)i.push(_n(n,d));var x=i.reduce(function(h,m){var b=r?.ISOWeek?G3(m):z3(m,r),f=h.find(function(N){return N.weekNumber===b});return f?(f.dates.push(m),h):(h.push({weekNumber:b,dates:[m]}),h)},[]);return x}function iq(t,s){var r=T2(so(t),Av(t),s);if(s?.useFixedWeeks){var a=RY(t,s);if(a<6){var n=r[r.length-1],l=n.dates[n.dates.length-1],i=Qy(l,6-a),d=T2(Qy(l,1),i,s);r.push.apply(r,d)}}return r}function cq(t){var s,r,a,n=Wr(),l=n.locale,i=n.classNames,d=n.styles,x=n.hideHead,h=n.fixedWeeks,m=n.components,b=n.weekStartsOn,f=n.firstWeekContainsDate,N=n.ISOWeek,p=iq(t.displayMonth,{useFixedWeeks:!!h,ISOWeek:N,locale:l,weekStartsOn:b,firstWeekContainsDate:f}),v=(s=m?.Head)!==null&&s!==void 0?s:CK,g=(r=m?.Row)!==null&&r!==void 0?r:lq,y=(a=m?.Footer)!==null&&a!==void 0?a:wK;return e.jsxs("table",{id:t.id,className:i.table,style:d.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!x&&e.jsx(v,{}),e.jsx("tbody",{className:i.tbody,style:d.tbody,children:p.map(function(C){return e.jsx(g,{displayMonth:t.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),e.jsx(y,{displayMonth:t.displayMonth})]})}function dq(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var uq=dq()?o.useLayoutEffect:o.useEffect,by=!1,xq=0;function A2(){return"react-day-picker-".concat(++xq)}function hq(t){var s,r=t??(by?A2():null),a=o.useState(r),n=a[0],l=a[1];return uq(function(){n===null&&l(A2())},[]),o.useEffect(function(){by===!1&&(by=!0)},[]),(s=t??n)!==null&&s!==void 0?s:void 0}function mq(t){var s,r,a=Wr(),n=a.dir,l=a.classNames,i=a.styles,d=a.components,x=Rx().displayMonths,h=hq(a.id?"".concat(a.id,"-").concat(t.displayIndex):void 0),m=a.id?"".concat(a.id,"-grid-").concat(t.displayIndex):void 0,b=[l.month],f=i.month,N=t.displayIndex===0,p=t.displayIndex===x.length-1,v=!N&&!p;n==="rtl"&&(s=[N,p],p=s[0],N=s[1]),N&&(b.push(l.caption_start),f=Ms(Ms({},f),i.caption_start)),p&&(b.push(l.caption_end),f=Ms(Ms({},f),i.caption_end)),v&&(b.push(l.caption_between),f=Ms(Ms({},f),i.caption_between));var g=(r=d?.Caption)!==null&&r!==void 0?r:vK;return e.jsxs("div",{className:b.join(" "),style:f,children:[e.jsx(g,{id:h,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(cq,{id:m,"aria-labelledby":h,displayMonth:t.displayMonth})]},t.displayIndex)}function pq(t){var s=Wr(),r=s.classNames,a=s.styles;return e.jsx("div",{className:r.months,style:a.months,children:t.children})}function fq(t){var s,r,a=t.initialProps,n=Wr(),l=Bv(),i=Rx(),d=o.useState(!1),x=d[0],h=d[1];o.useEffect(function(){n.initialFocus&&l.focusTarget&&(x||(l.focus(l.focusTarget),h(!0)))},[n.initialFocus,x,l.focus,l.focusTarget,l]);var m=[n.classNames.root,n.className];n.numberOfMonths>1&&m.push(n.classNames.multiple_months),n.showWeekNumber&&m.push(n.classNames.with_weeknumber);var b=Ms(Ms({},n.styles.root),n.style),f=Object.keys(a).filter(function(p){return p.startsWith("data-")}).reduce(function(p,v){var g;return Ms(Ms({},p),(g={},g[v]=a[v],g))},{}),N=(r=(s=a.components)===null||s===void 0?void 0:s.Months)!==null&&r!==void 0?r:pq;return e.jsx("div",Ms({className:m.join(" "),style:b,dir:n.dir,id:n.id,nonce:a.nonce,title:a.title,lang:a.lang},f,{children:e.jsx(N,{children:i.displayMonths.map(function(p,v){return e.jsx(mq,{displayIndex:v,displayMonth:p},v)})})}))}function gq(t){var s=t.children,r=UY(t,["children"]);return e.jsx(oK,{initialProps:r,children:e.jsx(fK,{children:e.jsx(JK,{initialProps:r,children:e.jsx(kK,{initialProps:r,children:e.jsx(TK,{initialProps:r,children:e.jsx(OK,{children:e.jsx(qK,{children:s})})})})})})})}function yq(t){return e.jsx(gq,Ms({},t,{children:e.jsx(fq,{initialProps:t})}))}const F2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,P2=k3,bq=(t,s)=>r=>{var a;if(s?.variants==null)return P2(t,r?.class,r?.className);const{variants:n,defaultVariants:l}=s,i=Object.keys(n).map(h=>{const m=r?.[h],b=l?.[h];if(m===null)return null;const f=F2(m)||F2(b);return n[h][f]}),d=r&&Object.entries(r).reduce((h,m)=>{let[b,f]=m;return f===void 0||(h[b]=f),h},{}),x=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((h,m)=>{let{class:b,className:f,...N}=m;return Object.entries(N).every(p=>{let[v,g]=p;return Array.isArray(g)?g.includes({...l,...d}[v]):{...l,...d}[v]===g})?[...h,b,f]:h},[]);return P2(t,i,x,r?.class,r?.className)},M2=bq("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function eb({className:t,classNames:s,showOutsideDays:r=!0,...a}){return e.jsx(yq,{showOutsideDays:r,className:Xc("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Xc(M2({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Xc("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Xc(M2({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:n,...l})=>e.jsx(U0,{className:Xc("size-4",n),...l}),IconRight:({className:n,...l})=>e.jsx(fi,{className:Xc("size-4",n),...l})},...a})}function vq(){const[t,s]=o.useState("3/1/2020"),[r,a]=o.useState("03/15/2020"),[n,l]=o.useState("all"),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState(""),[L,q]=o.useState(""),[B,te]=o.useState(""),oe=[{empCode:"Z1047",empName:"PERLITA, MANALO LUCAS",workshiftCode:"730AM08PM",actualDateIn:"3/2/2020",dateIn:"3/2/2020",timeIn:"7:00 PM",dateOut:"3/2/2020",timeOut:"9:58 PM",dayType:"RegDay"}],fe=I=>{b(I),y(I.empCode),j(I.workshiftCode),P(I.actualDateIn),T(I.dateIn),M(I.timeIn),q(I.dateOut),te(I.timeOut),h(!0)},R=()=>{y(""),j(""),P(""),T(""),M(""),q(""),te(""),d(!0)},V=()=>{console.log("Submitting form..."),d(!1),h(!1)},W=I=>{confirm(`Are you sure you want to delete record for ${I}?`)&&console.log("Deleting:",I)},ne=I=>{if(!I)return;const U=I.split("/");if(U.length===3){const k=parseInt(U[0])-1,O=parseInt(U[1]),he=parseInt(U[2]);if(!isNaN(k)&&!isNaN(O)&&!isNaN(he))return new Date(he,k,O)}},J=I=>{if(!I)return"";const U=I.getMonth()+1,k=I.getDate(),O=I.getFullYear();return`${U}/${k}/${O}`},H=I=>{I&&(s(J(I)),N(!1))},F=I=>{I&&(a(J(I)),v(!1))};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Raw Data OT Gap"}),e.jsx("p",{className:"text-gray-600",children:"Manage overtime gap records and adjustments"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs("button",{onClick:R,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-700 hover:to-red-700 transition-all shadow-lg shadow-orange-500/30 mb-4",children:[e.jsx(gs,{className:"w-5 h-5"}),e.jsx("span",{children:"Create New"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"viewMode",checked:n==="all",onChange:()=>l("all"),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-2 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700",children:"All Records"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"viewMode",checked:n==="specific",onChange:()=>l("specific"),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-2 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700",children:"Specific Records"})]})]})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date From"}),e.jsxs("div",{className:"flex gap-0",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10 pointer-events-none"}),e.jsx("input",{type:"text",value:t,onChange:I=>s(I.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs(qy,{open:f,onOpenChange:N,children:[e.jsx(Xy,{asChild:!0,children:e.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-r-xl hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(cs,{className:"w-4 h-4"})})}),e.jsx(Jy,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(eb,{mode:"single",selected:ne(t),onSelect:H,initialFocus:!0})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date To"}),e.jsxs("div",{className:"flex gap-0",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10 pointer-events-none"}),e.jsx("input",{type:"text",value:r,onChange:I=>a(I.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs(qy,{open:p,onOpenChange:v,children:[e.jsx(Xy,{asChild:!0,children:e.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-r-xl hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(cs,{className:"w-4 h-4"})})}),e.jsx(Jy,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(eb,{mode:"single",selected:ne(r),onSelect:F,initialFocus:!0})})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3 flex items-end",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition-colors",children:[e.jsx(Gt,{className:"w-5 h-5"}),e.jsx("span",{children:"Search"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"OT Gap Records"}),e.jsxs("span",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:["Showing ",oe.length," ",oe.length===1?"entry":"entries"]})]}),e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Actions"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Employee Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Actual Date-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Date-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Time-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Date-Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Time-Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"DayType"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:oe.map((I,U)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>fe(I),className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 p-1.5 rounded-lg transition-colors",children:"Edit"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>W(I.empCode),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1.5 rounded-lg transition-colors",children:"Delete"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:I.empName}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.actualDateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.dateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.timeIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.dateOut}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:I.timeOut}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-700 rounded-lg",style:{fontSize:"0.75rem"},children:I.dayType})})]},U))})]})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:["Showing 1 to ",oe.length," of ",oe.length," ",oe.length===1?"entry":"entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-orange-600 text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Next"})]})]})]})]}),(i||x)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h3",{className:"text-gray-900",children:x?"Edit Record":"Create New Record"}),e.jsx("button",{onClick:()=>{d(!1),h(!1)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(nt,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:g,onChange:I=>y(I.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter employee code"}),e.jsx("button",{className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"WorkShift Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:C,onChange:I=>j(I.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter workshift code"}),e.jsx("button",{className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Actual Date In"}),e.jsxs("div",{className:"relative",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:S,onChange:I=>P(I.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date In"}),e.jsxs("div",{className:"relative",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:D,onChange:I=>T(I.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Time In"}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:A,onChange:I=>M(I.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"HH:MM AM/PM"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date Out"}),e.jsxs("div",{className:"relative",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:L,onChange:I=>q(I.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Time Out"}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:B,onChange:I=>te(I.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"HH:MM AM/PM"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-2xl",children:[e.jsx("button",{onClick:()=>{d(!1),h(!1)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:V,className:"flex items-center space-x-2 px-6 py-2.5 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-700 hover:to-red-700 transition-all shadow-lg shadow-orange-500/30",children:[e.jsx(Ar,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit"})]})]})]})})]})}function Hr({onDateSelect:t,onClose:s}){const[r,a]=o.useState(new Date().getMonth()),[n,l]=o.useState(new Date().getFullYear()),i=["January","February","March","April","May","June","July","August","September","October","November","December"],d=(S,P)=>new Date(P,S+1,0).getDate(),x=(S,P)=>new Date(P,S,1).getDay(),h=[],m=new Date().getFullYear();for(let S=1900;S<=m+10;S++)h.push(S);const b=d(r,n),f=[];for(let S=1;S<=b;S++)f.push(S);const N=()=>{r===0?(a(11),l(n-1)):a(r-1)},p=()=>{r===11?(a(0),l(n+1)):a(r+1)},v=S=>{a(S)},g=S=>{l(S)},y=S=>{const P=`${r+1}/${S}/${n}`;t(P),s()},C=S=>{const P=`${r+1}/${S}/${n}`;t(P),s()},j=()=>{const S=d(r,n),P=x(r,n),D=[],T=P,A=r===0?11:r-1,M=r===0?n-1:n,L=d(A,M);for(let B=T-1;B>=0;B--)D.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:L-B},`prev-${B}`));for(let B=1;B<=S;B++)D.push(e.jsx("div",{onClick:()=>C(B),className:"text-center py-2 text-sm hover:bg-blue-100 cursor-pointer rounded",children:B},B));const q=42-D.length;for(let B=1;B<=q;B++)D.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:B},`next-${B}`));return D};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:s}),e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-50",style:{width:"320px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:r,onChange:S=>v(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:i.map((S,P)=>e.jsx("option",{value:P,children:S},S))}),e.jsxs("select",{onChange:S=>y(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700 w-16",children:[e.jsx("option",{value:"",children:"Day"}),f.map(S=>e.jsx("option",{value:S,children:S},S))]}),e.jsx("select",{value:n,onChange:S=>g(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsx("button",{onClick:p,type:"button",className:"p-1 hover:bg-gray-100 rounded",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Su"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Mo"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Tu"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"We"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Th"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Fr"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Sa"}),j()]})]})]})}function na({isOpen:t,onClose:s,onSelect:r,employees:a,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const y=C=>{C.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=a.filter(y=>{const C=i.toLowerCase();return(y.empCode?.toLowerCase()||"").includes(C)||(y.name?.toLowerCase()||"").includes(C)||(y.groupCode?.toLowerCase()||"").includes(C)}),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),g=()=>{const y=[];if(f<=5)return Array.from({length:f},(P,D)=>D+1);y.push(1),x>3&&y.push("...");const j=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=j;P<=S;P++)y.push(P);return x<f-2&&y.push("..."),y.push(f),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{d(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading employees..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Group Code"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(y.empCode,y.name),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.empCode}),e.jsx("td",{className:"px-3 py-1.5",children:y.name}),e.jsx("td",{className:"px-3 py-1.5",children:y.groupCode})]},y.empCode)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No employees found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),g().map((y,C)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${C}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${x===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}const nm="/Maintenance/EmployeeRawDataOTGap",wq="/Maintenance/EmployeeMasterFile",Nq="/Maintenance/WorkShift",I2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`},Kc=t=>{if(!t)return new Date().toISOString();try{if(t.includes("/")){const[s,r,a]=t.split("/");return`${a}-${s.padStart(2,"0")}-${r.padStart(2,"0")}T00:00:00.000Z`}return new Date(t).toISOString()}catch{return new Date().toISOString()}},L2=(t,s="")=>{if(!t)return new Date().toISOString();try{let r=t;if(t.includes("/")){const[a,n,l]=t.split("/");r=`${l}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2];return n[3]==="PM"&&l!==12&&(l+=12),n[3]==="AM"&&l===12&&(l=0),`${r}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${r}T00:00:00.000Z`}catch{return new Date().toISOString()}},Ml=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),r=String(s.getUTCMonth()+1).padStart(2,"0"),a=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${r}/${a}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},_2=t=>{const s=t.trim().toUpperCase();if(!s)return"";const r=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(r.test(s)){const a=s.match(r);return`${a[1].padStart(2,"0")}:${a[2]} ${a[3].toUpperCase()}`}return t};function jq(){const[t,s]=o.useState(!1),[r,a]=o.useState("all"),[n,l]=o.useState(I2()),[i,d]=o.useState(I2()),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState(!1),[C,j]=o.useState([]),[S,P]=o.useState(!1),[D,T]=o.useState(""),[A,M]=o.useState("empCode"),[L,q]=o.useState("asc"),B=G=>{A===G?q(Y=>Y==="asc"?"desc":"asc"):(M(G),q("asc"))},[te,oe]=o.useState(!1),[fe,R]=o.useState(null),[V,W]=o.useState(!1),[ne,J]=o.useState(""),[H,F]=o.useState(""),[I,U]=o.useState(""),[k,O]=o.useState(""),[he,ye]=o.useState(""),[be,je]=o.useState(""),[ge,xe]=o.useState(""),[Se,De]=o.useState(""),[Fe,Ae]=o.useState(""),[ze,He]=o.useState(!1),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState(!1),[Te,Le]=o.useState(!1),[ot,Je]=o.useState(!1),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState(""),[Ye,pt]=o.useState(!1),[Ft,Bt]=o.useState(""),[Lt,Qe]=o.useState([]),[gt,vt]=o.useState(!1),[xt,Ct]=o.useState(""),Nt=o.useCallback(async()=>{P(!0),T("");try{const G={dateFrom:Kc(n),dateTo:Kc(i)};r==="specific"&&f&&(G.empCode=f);const Y=await ae.get(nm,{params:G});if(Y.status===200&&Y.data){const _=Array.isArray(Y.data)?Y.data:[],ie=new Date(Kc(n)).setUTCHours(0,0,0,0),_e=new Date(Kc(i)).setUTCHours(23,59,0,0),Ie=_.filter(ke=>{if(!ke.dateIn)return!1;const X=new Date(ke.dateIn).getTime();if(X<ie||X>_e)return!1;const Ne=!!ke.dateOut&&ke.dateOut.trim()!=="",ee=!!ke.timeIn,de=!!ke.timeOut,re=Ne&&ee&&de;return t?!re:re});j(Ie)}}catch(G){const Y=G.response?.data?.message||G.message||"Failed to load records";T(Y),console.error("Error fetching OT gap records:",G)}finally{P(!1)}},[n,i,t,r,f]),$e=async()=>{we(!0),me("");try{const G=await ae.get(wq);if(G.status===200&&G.data){const Y=G.data.map(_=>({empCode:_.empCode||_.code||"",name:`${_.lName||""}, ${_.fName||""} ${_.mName||""}`.trim(),groupCode:_.grpCode||""}));mt(Y)}}catch(G){const Y=G.response?.data?.message||G.message||"Failed to load employees";me(Y),console.error("Error fetching employees:",G)}finally{we(!1)}},Ke=o.useCallback(async()=>{vt(!0),Ct("");try{const G=await ae.get(Nq);if(G.status===200&&G.data){const Y=Array.isArray(G.data)?G.data:[];Qe(Y.map(_=>({code:_.code||_.workShiftCode||_.workshiftCode||"",description:_.description||_.workShiftDescription||""})))}}catch(G){const Y=G.response?.data?.message||G.message||"Failed to load workshifts";Ct(Y),console.error("Error fetching workshifts:",G)}finally{vt(!1)}},[]),ce=async()=>{if(!H.trim()){J("Please select an Employee Code.");return}if(!be.trim()){J("Date In is required.");return}J(""),W(!0);const G={empCode:H,actualDateIn:Kc(he||be),dateIn:Kc(be),timeIn:L2(be,ge),dateOut:Kc(Se||be),timeOut:L2(Se||be,Fe),workShiftCode:k,dayType:"",otGap:ze,isLateFilingProcessed:Ve};try{fe!==null?await ae.put(`${nm}/${fe}`,{...G,id:fe}):await ae.post(nm,G),oe(!1),R(null),await Nt()}catch(Y){const _=Y.response?.data?.message||Y.message||"Failed to save record";J(_),console.error("Error saving OT gap record:",Y)}finally{W(!1)}},Ee=G=>{R(G.id),F(G.empCode);const Y=yt.find(X=>X.empCode===G.empCode);U(Y?.name??""),O(G.workShiftCode);const _=Ml(G.actualDateIn),ie=Ml(G.dateIn),_e=Ml(G.timeIn),Ie=Ml(G.dateOut),ke=Ml(G.timeOut);ye(_.date),je(ie.date),xe(_e.time),De(Ie.date),Ae(ke.time),He(G.otGap),qe(G.isLateFilingProcessed),J(""),oe(!0)},pe=async G=>{if(window.confirm("Are you sure you want to delete this record?"))try{await ae.delete(`${nm}/${G}`),j(Y=>Y.filter(_=>_.id!==G))}catch(Y){const _=Y.response?.data?.message||Y.message||"Failed to delete record";alert(_),console.error("Error deleting OT gap record:",Y)}},at=()=>{R(null),F(""),U(""),O(""),ye(""),je(""),xe(""),De(""),Ae(""),He(!1),qe(!1),J(""),oe(!0)},ut=G=>{const Y=yt.find(_=>_.empCode===G);F(G),U(Y?.name??""),et(!1)},_t=G=>{const Y=yt.find(_=>_.empCode===G);N(G),v(Y?.name??""),y(!1)},it=G=>{O(G),pt(!1)},bt=Lt.filter(G=>G.code.toLowerCase().includes(Ft.toLowerCase())||G.description.toLowerCase().includes(Ft.toLowerCase()));o.useEffect(()=>{$e()},[]),o.useEffect(()=>{Ye&&Lt.length===0&&Ke()},[Ye,Lt.length,Ke]),o.useEffect(()=>{const G=Y=>{if(Y.key==="Escape"){if(Ge){et(!1);return}if(g){y(!1);return}if(Ye){pt(!1);return}if(te){oe(!1);return}h(!1),b(!1),Me(!1),Le(!1),Je(!1)}};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[Ge,g,Ye,te]);const se=({col:G})=>A!==G?e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-400",children:""})]}):e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:L==="asc"?"text-blue-600":"text-gray-300",children:""}),e.jsx("span",{className:L==="desc"?"text-blue-600":"text-gray-300",children:""})]}),Z=[...r==="specific"&&f?C.filter(G=>G.empCode===f):C].sort((G,Y)=>{let _="",ie="";return A==="empName"?(_=yt.find(_e=>_e.empCode===G.empCode)?.name??"",ie=yt.find(_e=>_e.empCode===Y.empCode)?.name??""):A==="otGap"?(_=G.otGap?1:0,ie=Y.otGap?1:0):["actualDateIn","dateIn","timeIn","dateOut","timeOut"].includes(A)?(_=G[A]?new Date(G[A]).getTime():0,ie=Y[A]?new Date(Y[A]).getTime():0):(_=G[A]??"",ie=Y[A]??""),_<ie?L==="asc"?-1:1:_>ie?L==="asc"?1:-1:0});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Rawdata OT Gap"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage overtime gap records and adjustments for employee timekeeping."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Track employee overtime gaps","Manage workshift assignments","Edit time records","Review day type classifications"].map(G=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:G})]},G))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:at,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:G=>s(G.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(G=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"filterType",checked:r===G,onChange:()=>{a(G),G==="all"&&(N(""),v(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:G})]},G))})]}),r==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:f,readOnly:!0,placeholder:"Code",className:"w-28 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:p,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>y(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"})," Browse"]}),f&&e.jsxs("button",{onClick:()=>{N(""),v("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center gap-1 text-sm",children:[e.jsx(nt,{className:"w-3.5 h-3.5"})," Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 whitespace-nowrap",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:G=>l(G.target.value),placeholder:"MM/DD/YYYY",className:"w-34 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>h(!x),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),x&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Hr,{onDateSelect:G=>{l(G),h(!1)},onClose:()=>h(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 whitespace-nowrap",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:G=>d(G.target.value),placeholder:"MM/DD/YYYY",className:"w-34 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>b(!m),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),m&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Hr,{onDateSelect:G=>{d(G),b(!1)},onClose:()=>b(!1)})})]})]}),e.jsxs("button",{onClick:Nt,disabled:S,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[S?e.jsx(Er,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),D&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),D]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),[{key:"empCode",label:"Employee Code"},{key:"empName",label:"Employee Name"},{key:"workShiftCode",label:"Workshift Code"},{key:"actualDateIn",label:"Actual Date-In"},{key:"dateIn",label:"Date-In"},{key:"timeIn",label:"Time-In"},{key:"dateOut",label:"Date-Out"},{key:"timeOut",label:"Time-Out"},{key:"dayType",label:"Day Type"},{key:"otGap",label:"OT Gap"}].map(({key:G,label:Y})=>e.jsxs("th",{onClick:()=>B(G),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[Y,e.jsx(se,{col:G})]},G))]})}),e.jsx("tbody",{children:S?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-6 py-8 text-center text-gray-500",children:"No data available. Use Search to load records."})}):Z.map(G=>{const Y=Ml(G.actualDateIn),_=Ml(G.dateIn),ie=Ml(G.timeIn),_e=Ml(G.dateOut),Ie=Ml(G.timeOut),ke=yt.find(X=>X.empCode===G.empCode);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ee(G),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>pe(G.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono",children:G.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ke?.name??""}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:G.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Y.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:_.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ie.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:_e.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ie.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:G.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${G.otGap?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:G.otGap?"Yes":"No"})})]},G.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:C.length>0?`Showing 1 to ${C.length} of ${C.length} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),te&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>oe(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-5 py-3 border-b border-gray-200 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:fe!==null?"Edit Record":"Create New"}),e.jsx("button",{onClick:()=>oe(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Rawdata OT Gap"}),ne&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),ne]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Employee Code :"}),e.jsx("input",{type:"text",value:H,readOnly:!0,placeholder:"Select employee...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>et(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{F(""),U("")},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Employee Name :"}),e.jsx("input",{type:"text",value:I,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-200 rounded text-sm bg-gray-50 text-gray-600"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:k,readOnly:!0,placeholder:"Select workshift...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{Bt(""),pt(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>O(""),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Actual Date-In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:he,onChange:G=>ye(G.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Me(!ve),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),ve&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Hr,{onDateSelect:G=>{ye(G),Me(!1)},onClose:()=>Me(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Date-In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:be,onChange:G=>je(G.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Le(!Te),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),Te&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Hr,{onDateSelect:G=>{je(G),Le(!1)},onClose:()=>Le(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Time-In :"}),e.jsx("input",{type:"text",value:ge,onChange:G=>xe(G.target.value),onBlur:()=>xe(_2(ge)),placeholder:"HH:MM AM/PM",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Date-Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Se,onChange:G=>De(G.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Je(!ot),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),ot&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Hr,{onDateSelect:G=>{De(G),Je(!1)},onClose:()=>Je(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Time-Out :"}),e.jsx("input",{type:"text",value:Fe,onChange:G=>Ae(G.target.value),onBlur:()=>Ae(_2(Fe)),placeholder:"HH:MM AM/PM",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"OT Gap :"}),e.jsx("input",{type:"checkbox",checked:ze,onChange:G=>He(G.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Late Filing Processed :"}),e.jsx("input",{type:"checkbox",checked:Ve,onChange:G=>qe(G.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:ce,disabled:V,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-60",children:[V&&e.jsx(Er,{className:"w-4 h-4 animate-spin"}),fe!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>oe(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:Ge,onClose:()=>et(!1),onSelect:G=>ut(G),employees:yt,loading:jt,error:Re}),e.jsx(na,{isOpen:g,onClose:()=>y(!1),onSelect:G=>_t(G),employees:yt,loading:jt,error:Re}),Ye&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>pt(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Workshift Code"}),e.jsx("button",{onClick:()=>pt(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:Ft,autoFocus:!0,onChange:G=>Bt(G.target.value),placeholder:"Search workshifts...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),xt&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",xt]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:gt?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):bt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):bt.map(G=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>it(G.code),children:[e.jsx("td",{className:"px-3 py-2 font-mono font-medium",children:G.code}),e.jsx("td",{className:"px-3 py-2",children:G.description})]},G.code))})]})})]})]})})]})]})]})}),e.jsx(Qt,{})]})}function ya({onTimeSelect:t,onClose:s,initialTime:r=""}){const[a,n]=o.useState("12"),[l,i]=o.useState("00"),[d,x]=o.useState("AM");o.useEffect(()=>{if(r){const f=r.match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/i);f&&(n(f[1].padStart(2,"0")),i(f[2]),x(f[3].toUpperCase()))}},[r]);const h=()=>{const f=`${a.padStart(2,"0")}:${l} ${d}`;t(f),s()},m=Array.from({length:12},(f,N)=>(N+1).toString().padStart(2,"0")),b=Array.from({length:60},(f,N)=>N.toString().padStart(2,"0"));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:s}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-2xl z-50 w-80",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-3 rounded-t-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"w-5 h-5 text-white"}),e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Select Time"})]}),e.jsx("button",{onClick:s,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-4xl font-bold text-gray-800",children:[e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center",children:a}),e.jsx("span",{className:"text-gray-400",children:":"}),e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center",children:l}),e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center text-2xl",children:d})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Hour"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:a,onChange:f=>n(f.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-semibold appearance-none bg-white cursor-pointer hover:border-gray-300 transition-colors",children:m.map(f=>e.jsx("option",{value:f,children:f},f))}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Minute"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:l,onChange:f=>i(f.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-semibold appearance-none bg-white cursor-pointer hover:border-gray-300 transition-colors",children:b.map(f=>e.jsx("option",{value:f,children:f},f))}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Period"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",onClick:()=>x("AM"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${d==="AM"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"AM"}),e.jsx("button",{type:"button",onClick:()=>x("PM"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${d==="PM"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"PM"})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Quick Select"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{label:"9:00 AM",h:"09",m:"00",p:"AM"},{label:"12:00 PM",h:"12",m:"00",p:"PM"},{label:"1:00 PM",h:"01",m:"00",p:"PM"},{label:"5:00 PM",h:"05",m:"00",p:"PM"}].map(({label:f,h:N,m:p,p:v})=>e.jsx("button",{type:"button",onClick:()=>{n(N),i(p),x(v)},className:"px-2 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors",children:f},f))})]})]}),e.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-semibold",children:"Cancel"}),e.jsx("button",{onClick:h,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"OK"})]})]})]})}const om="/Maintenance/EmployeeRawData/StraightDuty",Cq="/Fs/Process/Device/BorrowedDeviceName",Sq="/Maintenance/WorkShift",kq="/Maintenance/EmployeeMasterFile",Ua=(t,s="")=>{if(!t)return new Date().toISOString();try{let r=t;if(t.includes("/")){const[a,n,l]=t.split("/");r=`${l}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],d=n[3];return d==="PM"&&l!==12&&(l+=12),d==="AM"&&l===12&&(l=0),`${r}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${r}T00:00:00.000Z`}catch{return new Date().toISOString()}},$r=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),r=String(s.getUTCMonth()+1).padStart(2,"0"),a=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${r}/${a}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},Dq=t=>{const s=t.trim().toUpperCase();if(!s)return"";const r=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(r.test(s)){const a=s.match(r);return`${a[1].padStart(2,"0")}:${a[2]} ${a[3].toUpperCase()}`}return t},O2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function Eq(){const[t,s]=o.useState(O2()),[r,a]=o.useState(O2()),[n,l]=o.useState(!0),[i,d]=o.useState("all"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(!1),[g,y]=o.useState(""),[C,j]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[S,P]=o.useState(!1),[D,T]=o.useState(null),[A,M]=o.useState(!1),[L,q]=o.useState(""),[B,te]=o.useState(""),[oe,fe]=o.useState(""),[R,V]=o.useState(""),[W,ne]=o.useState(""),[J,H]=o.useState(""),[F,I]=o.useState(""),[U,k]=o.useState(""),[O,he]=o.useState(""),[ye,be]=o.useState(""),[je,ge]=o.useState(""),[xe,Se]=o.useState(""),[De,Fe]=o.useState(""),[Ae,ze]=o.useState(""),[He,Ve]=o.useState(""),[qe,ve]=o.useState(""),[Me,Te]=o.useState(!1),[Le,ot]=o.useState(!1),[Je,Ge]=o.useState(""),[et,yt]=o.useState(""),[mt,jt]=o.useState(!1),[we,Re]=o.useState(""),[me,Ye]=o.useState(""),[pt,Ft]=o.useState(""),[Bt,Lt]=o.useState(""),[Qe,gt]=o.useState(!1),[vt,xt]=o.useState(""),[Ct,Nt]=o.useState(!1),[$e,Ke]=o.useState(!1),[ce,Ee]=o.useState(!1),[pe,at]=o.useState(!1),[ut,_t]=o.useState(!1),[it,bt]=o.useState(!1),[se,ue]=o.useState(!1),[Z,G]=o.useState(!1),[Y,_]=o.useState(!1),[ie,_e]=o.useState(!1),[Ie,ke]=o.useState(!1),[X,Ne]=o.useState(!1),[ee,de]=o.useState(!1),[re,We]=o.useState(!1),[ft,$t]=o.useState(!1),[z,Pe]=o.useState(!1),[Xe,as]=o.useState(!1),[us,tt]=o.useState([]),[Zt,kt]=o.useState(!1),[zt,ds]=o.useState(""),[Js,Tt]=o.useState(""),[Ht,ms]=o.useState(""),[Nr,xr]=o.useState(!1),[hr,Br]=o.useState(!1),[ha,tr]=o.useState(""),[sr,Ca]=o.useState([]),[ct,Vt]=o.useState(!1),[ws,Ys]=o.useState(""),[Ks,qs]=o.useState(!1),[lr,Xr]=o.useState(""),[ir,cr]=o.useState([]),[vr,lt]=o.useState(!1),[os,Ds]=o.useState(""),mr=o.useCallback(async()=>{v(!0),y("");try{const rt={dateFrom:Ua(t),dateTo:Ua(r)};i==="specific"&&Js&&(rt.empCode=Js);const fs=await ae.get(om,{params:rt});if(fs.status===200&&fs.data){const Os=Array.isArray(fs.data)?fs.data:[],Xt=new Date(Ua(t)).setUTCHours(0,0,0,0),Rr=new Date(Ua(r)).setUTCHours(23,59,0,0),Zr=Os.filter(oa=>{if(!oa.rawDateIn)return!1;const wr=new Date(oa.rawDateIn).getTime();if(wr<Xt||wr>Rr)return!1;const dt=!!oa.rawDateOut&&oa.rawDateOut.trim()!=="",Ws=!!oa.rawTimeIn,La=!!oa.rawTimeOut,xn=dt&&Ws&&La;return n?!xn:xn});N(Zr)}}catch(rt){const fs=rt.response?.data?.message||rt.message||"Failed to load raw data";y(fs),console.error("Error fetching two shifts raw data:",rt)}finally{v(!1)}},[t,r,n,i,Js]),Qs=o.useCallback(async()=>{lt(!0),Ds("");try{const rt=await ae.get(Cq);rt.status===200&&rt.data&&cr(Array.isArray(rt.data)?rt.data:[])}catch(rt){const fs=rt.response?.data?.message||rt.message||"Failed to load devices";Ds(fs),console.error("Error fetching devices:",rt)}finally{lt(!1)}},[]),jr=o.useCallback(async()=>{Vt(!0),Ys("");try{const rt=await ae.get(Sq);if(rt.status===200&&rt.data){const fs=Array.isArray(rt.data)?rt.data:[];Ca(fs.map(Os=>({code:Os.code||Os.workShiftCode||Os.workshiftCode||"",description:Os.description||Os.workShiftDescription||""})))}}catch(rt){const fs=rt.response?.data?.message||rt.message||"Failed to load workshifts";Ys(fs),console.error("Error fetching workshifts:",rt)}finally{Vt(!1)}},[]),Oe=async()=>{kt(!0),ds("");try{const rt=await ae.get(kq);if(rt.status===200&&rt.data){const fs=rt.data.map(Os=>({empCode:Os.empCode||Os.code||"",name:`${Os.lName||""}, ${Os.fName||""} ${Os.mName||""}`.trim(),groupCode:Os.grpCode||""}));tt(fs)}}catch(rt){const fs=rt.response?.data?.message||rt.message||"Failed to load employees";ds(fs),console.error("Error fetching employees:",rt)}finally{kt(!1)}},At=async()=>{if(!B.trim()){q("Please select an Employee Code.");return}if(!W.trim()){q("Date In is required.");return}q(""),M(!0);const rt={empCode:B,workShiftCode:R,dayType:"Regular",rawDateIn:Ua(W),rawTimeIn:Ua(W,J),actualDateIn:Ua(F||W),actualTimeIn2:Ua(F||W,U),rawBreak1Out:Ua(W,O),rawBreak1In:Ua(W,ye),rawBreak2Out:Ua(W,je),rawBreak2In:Ua(W,xe),rawBreak3Out:Ua(W,De),rawBreak3In:Ua(W,Ae),rawDateOut:Ua(He||W),rawTimeOut:Ua(He||W,qe),rawotApproved:Me,rawRemarks:Je,isLateFiling:Le,bDeviceName:et,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:Ua(t),rawDisplDateTo:Ua(r),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1};try{D!==null?await ae.put(`${om}/${D}`,{...rt,id:D}):await ae.post(om,rt),P(!1),T(null),await mr()}catch(fs){const Os=fs.response?.data?.message||fs.message||"Failed to save entry";q(Os),console.error("Error saving two shifts raw data:",fs)}finally{M(!1)}},Mt=rt=>{T(rt.id),te(rt.empCode),V(rt.workShiftCode);const fs=$r(rt.rawDateIn),Os=$r(rt.rawTimeIn),Xt=$r(rt.actualDateIn),Rr=$r(rt.actualTimeIn2),Zr=$r(rt.rawBreak1Out),oa=$r(rt.rawBreak1In),wr=$r(rt.rawBreak2Out),dt=$r(rt.rawBreak2In),Ws=$r(rt.rawBreak3Out),La=$r(rt.rawBreak3In),xn=$r(rt.rawDateOut),oo=$r(rt.rawTimeOut);ne(fs.date),H(Os.time),I(Xt.date),k(Rr.time),he(Zr.time),be(oa.time),ge(wr.time),Se(dt.time),Fe(Ws.time),ze(La.time),Ve(xn.date),ve(oo.time),Te(rt.rawotApproved),ot(rt.isLateFiling),Ge(rt.rawRemarks),yt(rt.bDeviceName),q(""),P(!0)},pr=async rt=>{if(confirm("Are you sure you want to delete this entry?"))try{await ae.delete(`${om}/${rt}`),N(fs=>fs.filter(Os=>Os.id!==rt))}catch(fs){const Os=fs.response?.data?.message||fs.message||"Failed to delete entry";alert(Os),console.error("Error deleting two shifts raw data:",fs)}},Bs=()=>{T(null),te(""),fe(""),V(""),ne(""),H(""),I(""),k(""),he(""),be(""),ge(""),Se(""),Fe(""),ze(""),Ve(""),ve(""),Te(!1),ot(!1),Ge(""),yt(""),jt(!1),Re(""),Ye(""),Ft(""),Lt(""),gt(!1),xt(""),q(""),P(!0)},Cr=(rt,fs)=>{te(rt),fe(fs),as(!1)},Ja=(rt,fs)=>{Tt(rt),ms(fs),xr(!1)},dn=rt=>{V(rt),Br(!1)},un=rt=>{xt(rt),Pe(!1)},Ia=rt=>{yt(rt),qs(!1)},Qa=sr.filter(rt=>rt.code.toLowerCase().includes(ha.toLowerCase())||rt.description.toLowerCase().includes(ha.toLowerCase())),ao=ir.filter(rt=>rt.code.toLowerCase().includes(lr.toLowerCase())||rt.description.toLowerCase().includes(lr.toLowerCase())),An=rt=>{j(fs=>({...fs,[rt]:!fs[rt]}))},Un=()=>{const rt=!C.selectAll;j({break1Out:rt,break1In:rt,break2Out:rt,break2In:rt,break3Out:rt,break3In:rt,terminalId:rt,secondDayType:rt,remarks:rt,entryFlag:rt,isLateFiling:rt,borrowedDeviceName:rt,approvedOvertime:rt,deviceName:rt,selectAll:rt})};o.useEffect(()=>{Oe()},[]),o.useEffect(()=>{const rt=fs=>{if(fs.key==="Escape"){if(Xe){as(!1);return}if(Nr){xr(!1);return}if(hr){Br(!1);return}if(Ks){qs(!1);return}if(S){P(!1);return}h(!1),b(!1),Nt(!1),Ke(!1),Ee(!1),at(!1),_t(!1),bt(!1),ue(!1),G(!1),_(!1),_e(!1),ke(!1),Ne(!1),de(!1),We(!1),$t(!1)}};return document.addEventListener("keydown",rt),()=>document.removeEventListener("keydown",rt)},[Xe,Nr,hr,Ks,S]),o.useEffect(()=>{hr&&sr.length===0&&jr()},[hr,sr.length,jr]),o.useEffect(()=>{Ks&&Qs()},[Ks,Qs]);const Jr=rt=>fs=>rt(fs.target.value),Qr=(rt,fs)=>()=>fs(Dq(rt)),no=(rt,fs,Os,Xt,Rr)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm font-semibold whitespace-nowrap",children:rt}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:fs,onChange:Zr=>Os(Zr.target.value),placeholder:"MM/DD/YYYY",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Rr(!Xt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),Xt&&e.jsx(Hr,{onDateSelect:Zr=>{Os(Zr),Rr(!1)},onClose:()=>Rr(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Rawdata On Straight Duty"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data for straight duty shifts, including clock in/out times, breaks, and overtime approvals for accurate payroll processing."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(rt=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:rt})]},rt))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Bs,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:rt=>l(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(rt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===rt,onChange:()=>{d(rt),rt==="all"&&(Tt(""),ms(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:rt})]},rt))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:Js,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:Ht,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>xr(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"}),"Browse"]}),Js&&e.jsxs("button",{onClick:()=>{Tt(""),ms("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(nt,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[no("Date From",t,s,x,h),no("Date To",r,a,m,b),e.jsxs("button",{onClick:mr,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(Er,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),g&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),g]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(rt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C[rt.key],onChange:()=>An(rt.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:rt.label})]},rt.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.selectAll,onChange:Un,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:["Employee Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actual Date/Time In"}),!C.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!C.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!C.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!C.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!C.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!C.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"DayType"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"OT Approved"}),!C.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!C.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!C.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal Id"}),!C.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!C.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT Time"}),!C.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device Name"}),!C.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Is Late Filing"}),!C.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice Name"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available in table"})}):f.map(rt=>{const fs=$r(rt.rawDateIn),Os=$r(rt.rawTimeIn),Xt=$r(rt.actualDateIn),Rr=$r(rt.actualTimeIn2),Zr=$r(rt.rawBreak1Out),oa=$r(rt.rawBreak1In),wr=$r(rt.rawBreak2Out),dt=$r(rt.rawBreak2In),Ws=$r(rt.rawBreak3Out),La=$r(rt.rawBreak3In),xn=$r(rt.rawDateOut),oo=$r(rt.rawTimeOut),Ho=$r(rt.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Mt(rt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>pr(rt.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:fs.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Os.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[Xt.date," ",Rr.time]}),!C.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Zr.time}),!C.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:oa.time}),!C.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:wr.time}),!C.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:dt.time}),!C.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ws.time}),!C.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:La.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:oo.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:xn.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.rawotApproved?"Yes":"No"}),!C.remarks&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.rawRemarks}),!C.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.entryFlag}),!C.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.terminalID}),!C.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.dayType2}),!C.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ho.time}),!C.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[rt.deviceNameIn,"/",rt.deviceNameOut]}),!C.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.isLateFiling?"Yes":"No"}),!C.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:rt.bDeviceName})]},rt.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:f.length>0?`Showing 1 to ${f.length} of ${f.length} entries`:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>P(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-4 py-3 border-b border-gray-200 flex items-center justify-between rounded-t-lg z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:D!==null?"Edit Entry":"Create New"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-medium",children:"Rawdata On Straight Duty"}),L&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),L]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Emp Code :"}),e.jsx("input",{type:"text",value:B,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>as(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Employee",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:R,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>Br(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:W,onChange:rt=>ne(rt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Nt(!Ct),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),Ct&&e.jsx(Hr,{onDateSelect:rt=>{ne(rt),Nt(!1)},onClose:()=>Nt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:J,onChange:Jr(H),onBlur:Qr(J,H),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ke(!$e),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),$e&&e.jsx(ya,{initialTime:J,onTimeSelect:rt=>{H(rt),Ke(!1)},onClose:()=>Ke(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Actual Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:F,onChange:rt=>I(rt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ee(!ce),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),ce&&e.jsx(Hr,{onDateSelect:rt=>{I(rt),Ee(!1)},onClose:()=>Ee(!1)})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:U,onChange:Jr(k),onBlur:Qr(U,k),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>at(!pe),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),pe&&e.jsx(ya,{initialTime:U,onTimeSelect:rt=>{k(rt),at(!1)},onClose:()=>at(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 1 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:O,onChange:Jr(he),onBlur:Qr(O,he),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_t(!ut),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),ut&&e.jsx(ya,{initialTime:O,onTimeSelect:rt=>{he(rt),_t(!1)},onClose:()=>_t(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 1 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ye,onChange:Jr(be),onBlur:Qr(ye,be),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>bt(!it),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),it&&e.jsx(ya,{initialTime:ye,onTimeSelect:rt=>{be(rt),bt(!1)},onClose:()=>bt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 2 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:je,onChange:Jr(ge),onBlur:Qr(je,ge),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>ue(!se),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),se&&e.jsx(ya,{initialTime:je,onTimeSelect:rt=>{ge(rt),ue(!1)},onClose:()=>ue(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 2 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:xe,onChange:Jr(Se),onBlur:Qr(xe,Se),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>G(!Z),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),Z&&e.jsx(ya,{initialTime:xe,onTimeSelect:rt=>{Se(rt),G(!1)},onClose:()=>G(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 3 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:De,onChange:Jr(Fe),onBlur:Qr(De,Fe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_(!Y),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),Y&&e.jsx(ya,{initialTime:De,onTimeSelect:rt=>{Fe(rt),_(!1)},onClose:()=>_(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 3 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ae,onChange:Jr(ze),onBlur:Qr(Ae,ze),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_e(!ie),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),ie&&e.jsx(ya,{initialTime:Ae,onTimeSelect:rt=>{ze(rt),_e(!1)},onClose:()=>_e(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:He,onChange:rt=>Ve(rt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>ke(!Ie),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),Ie&&e.jsx(Hr,{onDateSelect:rt=>{Ve(rt),ke(!1)},onClose:()=>ke(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:qe,onChange:Jr(ve),onBlur:Qr(qe,ve),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ne(!X),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),X&&e.jsx(ya,{initialTime:qe,onTimeSelect:rt=>{ve(rt),Ne(!1)},onClose:()=>Ne(!1)})]})]}),e.jsxs("div",{className:"pt-4 mt-4 border-t-2 border-gray-200",children:[e.jsx("h4",{className:"text-blue-700 font-semibold mb-4 text-sm",children:"OT Application"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Application Approval :"}),e.jsx("input",{type:"checkbox",checked:mt,onChange:rt=>jt(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"No. of OT Hrs Approved for 1st Shift :"}),e.jsx("input",{type:"number",value:we,onChange:rt=>Re(rt.target.value),step:"0.5",min:"0",className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Start Time of OT Before the Shift :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:me,onChange:Jr(Ye),onBlur:Qr(me,Ye),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>de(!ee),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),ee&&e.jsx(ya,{initialTime:me,onTimeSelect:rt=>{Ye(rt),de(!1)},onClose:()=>de(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Start Time of Overtime :"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Date :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:pt,onChange:rt=>Ft(rt.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{onClick:()=>We(!re),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),re&&e.jsx(Hr,{onDateSelect:rt=>{Ft(rt),We(!1)},onClose:()=>We(!1)})]}),e.jsx("span",{className:"text-gray-700 text-sm ml-4",children:"Time :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Bt,onChange:Jr(Lt),onBlur:Qr(Bt,Lt),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>$t(!ft),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),ft&&e.jsx(ya,{initialTime:Bt,onTimeSelect:rt=>{Lt(rt),$t(!1)},onClose:()=>$t(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"SD WorkShift Code Flag :"}),e.jsx("input",{type:"checkbox",checked:Qe,onChange:rt=>gt(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"SD WorkShift Code :"}),e.jsx("input",{type:"text",value:vt,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{tr(""),Pe(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 mt-4 border-t border-gray-200",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:Me,onChange:rt=>Te(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:Le,onChange:rt=>ot(rt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm pt-1",children:"Remarks :"}),e.jsx("textarea",{value:Je,onChange:rt=>Ge(rt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:et,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>qs(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Device",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>yt(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:At,disabled:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-60",children:[A&&e.jsx(Er,{className:"w-4 h-4 animate-spin"}),D!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>P(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:Xe,onClose:()=>as(!1),onSelect:rt=>{const fs=us.find(Os=>Os.empCode===rt);Cr(rt,fs?.name??"")},employees:us,loading:Zt,error:zt}),hr&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Br(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>Br(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:ha,onChange:rt=>tr(rt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),ws&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",ws]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:ct?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Qa.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Qa.map((rt,fs)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>dn(rt.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:rt.code}),e.jsx("td",{className:"px-3 py-1.5",children:rt.description})]},rt.code))})]})})]})]})})]}),z&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Pe(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search - SD Workshift Code"}),e.jsx("button",{onClick:()=>Pe(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"SD Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:ha,onChange:rt=>tr(rt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),ws&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",ws]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:ct?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Qa.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Qa.map((rt,fs)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>un(rt.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:rt.code}),e.jsx("td",{className:"px-3 py-1.5",children:rt.description})]},rt.code))})]})})]})]})})]}),Ks&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>qs(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>qs(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device Name"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:lr,onChange:rt=>Xr(rt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),os&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",os]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:vr?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):ao.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):ao.map((rt,fs)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Ia(rt.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:rt.code}),e.jsx("td",{className:"px-3 py-1.5",children:rt.description})]},rt.id))})]})})]})]})})]}),e.jsx(na,{isOpen:Nr,onClose:()=>xr(!1),onSelect:rt=>{const fs=us.find(Os=>Os.empCode===rt);Ja(rt,fs?.name??"")},employees:us,loading:Zt,error:zt})]})]})}),e.jsx(Qt,{})]})}const lm="/Maintenance/Employee2ShiftsInADayRawData",Tq="/Fs/Process/Device/BorrowedDeviceName",Aq="/Maintenance/WorkShift",Fq="/Maintenance/EmployeeMasterFile",Wa=(t,s="")=>{if(!t)return new Date().toISOString();try{let r=t;if(t.includes("/")){const[a,n,l]=t.split("/");r=`${l}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],d=n[3];return d==="PM"&&l!==12&&(l+=12),d==="AM"&&l===12&&(l=0),`${r}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${r}T00:00:00.000Z`}catch{return new Date().toISOString()}},zr=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),r=String(s.getUTCMonth()+1).padStart(2,"0"),a=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${r}/${a}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},Pq=t=>{const s=t.trim().toUpperCase();if(!s)return"";const r=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(r.test(s)){const a=s.match(r);return`${a[1].padStart(2,"0")}:${a[2]} ${a[3].toUpperCase()}`}return t},B2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function Mq(){const[t,s]=o.useState(B2()),[r,a]=o.useState(B2()),[n,l]=o.useState(!0),[i,d]=o.useState("all"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(!1),[g,y]=o.useState(""),[C,j]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[S,P]=o.useState(!1),[D,T]=o.useState(null),[A,M]=o.useState(!1),[L,q]=o.useState(""),[B,te]=o.useState(""),[oe,fe]=o.useState(""),[R,V]=o.useState(""),[W,ne]=o.useState(""),[J,H]=o.useState(""),[F,I]=o.useState(""),[U,k]=o.useState(""),[O,he]=o.useState(""),[ye,be]=o.useState(""),[je,ge]=o.useState(""),[xe,Se]=o.useState(""),[De,Fe]=o.useState(""),[Ae,ze]=o.useState(""),[He,Ve]=o.useState(""),[qe,ve]=o.useState(""),[Me,Te]=o.useState(!1),[Le,ot]=o.useState(!1),[Je,Ge]=o.useState(""),[et,yt]=o.useState(""),[mt,jt]=o.useState(!1),[we,Re]=o.useState(!1),[me,Ye]=o.useState(!1),[pt,Ft]=o.useState(!1),[Bt,Lt]=o.useState(!1),[Qe,gt]=o.useState(!1),[vt,xt]=o.useState(!1),[Ct,Nt]=o.useState(!1),[$e,Ke]=o.useState(!1),[ce,Ee]=o.useState(!1),[pe,at]=o.useState(!1),[ut,_t]=o.useState(!1),[it,bt]=o.useState(!1),[se,ue]=o.useState([]),[Z,G]=o.useState(!1),[Y,_]=o.useState(""),[ie,_e]=o.useState(""),[Ie,ke]=o.useState(""),[X,Ne]=o.useState(!1),[ee,de]=o.useState(!1),[re,We]=o.useState(""),[ft,$t]=o.useState([]),[z,Pe]=o.useState(!1),[Xe,as]=o.useState(""),[us,tt]=o.useState(!1),[Zt,kt]=o.useState(""),[zt,ds]=o.useState([]),[Js,Tt]=o.useState(!1),[Ht,ms]=o.useState(""),Nr=o.useCallback(async()=>{v(!0),y("");try{const lt={dateFrom:Wa(t),dateTo:Wa(r)};i==="specific"&&ie&&(lt.empCode=ie);const os=await ae.get(lm,{params:lt});if(os.status===200&&os.data){const Ds=Array.isArray(os.data)?os.data:[],mr=new Date(Wa(t)).setUTCHours(0,0,0,0),Qs=new Date(Wa(r)).setUTCHours(23,59,0,0),jr=Ds.filter(Oe=>{if(!Oe.rawDateIn)return!1;const At=new Date(Oe.rawDateIn).getTime();if(At<mr||At>Qs)return!1;const Mt=!!Oe.rawDateOut&&Oe.rawDateOut.trim()!=="",pr=!!Oe.rawTimeIn,Bs=!!Oe.rawTimeOut,Cr=Mt&&pr&&Bs;return n?!Cr:Cr});N(jr)}}catch(lt){const os=lt.response?.data?.message||lt.message||"Failed to load raw data";y(os),console.error("Error fetching two shifts raw data:",lt)}finally{v(!1)}},[t,r,n,i,ie]),xr=o.useCallback(async()=>{Tt(!0),ms("");try{const lt=await ae.get(Tq);lt.status===200&&lt.data&&ds(Array.isArray(lt.data)?lt.data:[])}catch(lt){const os=lt.response?.data?.message||lt.message||"Failed to load devices";ms(os),console.error("Error fetching devices:",lt)}finally{Tt(!1)}},[]),hr=o.useCallback(async()=>{Pe(!0),as("");try{const lt=await ae.get(Aq);if(lt.status===200&&lt.data){const os=Array.isArray(lt.data)?lt.data:[];$t(os.map(Ds=>({code:Ds.code||Ds.workShiftCode||Ds.workshiftCode||"",description:Ds.description||Ds.workShiftDescription||""})))}}catch(lt){const os=lt.response?.data?.message||lt.message||"Failed to load workshifts";as(os),console.error("Error fetching workshifts:",lt)}finally{Pe(!1)}},[]),Br=async()=>{G(!0),_("");try{const lt=await ae.get(Fq);if(lt.status===200&&lt.data){const os=lt.data.map(Ds=>({empCode:Ds.empCode||Ds.code||"",name:`${Ds.lName||""}, ${Ds.fName||""} ${Ds.mName||""}`.trim(),groupCode:Ds.grpCode||""}));ue(os)}}catch(lt){const os=lt.response?.data?.message||lt.message||"Failed to load employees";_(os),console.error("Error fetching employees:",lt)}finally{G(!1)}},ha=async()=>{if(!B.trim()){q("Please select an Employee Code.");return}if(!W.trim()){q("Date In is required.");return}q(""),M(!0);const lt={empCode:B,workShiftCode:R,dayType:"Regular",rawDateIn:Wa(W),rawTimeIn:Wa(W,J),actualDateIn:Wa(F||W),actualTimeIn2:Wa(F||W,U),rawBreak1Out:Wa(W,O),rawBreak1In:Wa(W,ye),rawBreak2Out:Wa(W,je),rawBreak2In:Wa(W,xe),rawBreak3Out:Wa(W,De),rawBreak3In:Wa(W,Ae),rawDateOut:Wa(He||W),rawTimeOut:Wa(He||W,qe),rawotApproved:Me,rawRemarks:Je,isLateFiling:Le,bDeviceName:et,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:Wa(t),rawDisplDateTo:Wa(r),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1};try{D!==null?await ae.put(`${lm}/${D}`,{...lt,id:D}):await ae.post(lm,lt),P(!1),T(null),await Nr()}catch(os){const Ds=os.response?.data?.message||os.message||"Failed to save entry";q(Ds),console.error("Error saving two shifts raw data:",os)}finally{M(!1)}},tr=lt=>{T(lt.id),te(lt.empCode),V(lt.workShiftCode);const os=zr(lt.rawDateIn),Ds=zr(lt.rawTimeIn),mr=zr(lt.actualDateIn),Qs=zr(lt.actualTimeIn2),jr=zr(lt.rawBreak1Out),Oe=zr(lt.rawBreak1In),At=zr(lt.rawBreak2Out),Mt=zr(lt.rawBreak2In),pr=zr(lt.rawBreak3Out),Bs=zr(lt.rawBreak3In),Cr=zr(lt.rawDateOut),Ja=zr(lt.rawTimeOut);ne(os.date),H(Ds.time),I(mr.date),k(Qs.time),he(jr.time),be(Oe.time),ge(At.time),Se(Mt.time),Fe(pr.time),ze(Bs.time),Ve(Cr.date),ve(Ja.time),Te(lt.rawotApproved),ot(lt.isLateFiling),Ge(lt.rawRemarks),yt(lt.bDeviceName),q(""),P(!0)},sr=async lt=>{if(confirm("Are you sure you want to delete this entry?"))try{await ae.delete(`${lm}/${lt}`),N(os=>os.filter(Ds=>Ds.id!==lt))}catch(os){const Ds=os.response?.data?.message||os.message||"Failed to delete entry";alert(Ds),console.error("Error deleting two shifts raw data:",os)}},Ca=()=>{T(null),te(""),fe(""),V(""),ne(""),H(""),I(""),k(""),he(""),be(""),ge(""),Se(""),Fe(""),ze(""),Ve(""),ve(""),Te(!1),ot(!1),Ge(""),yt(""),q(""),P(!0)},ct=(lt,os)=>{te(lt),fe(os),bt(!1)},Vt=(lt,os)=>{_e(lt),ke(os),Ne(!1)},ws=lt=>{V(lt),de(!1)},Ys=lt=>{yt(lt),tt(!1)},Ks=ft.filter(lt=>lt.code.toLowerCase().includes(re.toLowerCase())||lt.description.toLowerCase().includes(re.toLowerCase())),qs=zt.filter(lt=>lt.code.toLowerCase().includes(Zt.toLowerCase())||lt.description.toLowerCase().includes(Zt.toLowerCase())),lr=lt=>{j(os=>({...os,[lt]:!os[lt]}))},Xr=()=>{const lt=!C.selectAll;j({break1Out:lt,break1In:lt,break2Out:lt,break2In:lt,break3Out:lt,break3In:lt,terminalId:lt,secondDayType:lt,remarks:lt,entryFlag:lt,isLateFiling:lt,borrowedDeviceName:lt,approvedOvertime:lt,deviceName:lt,selectAll:lt})};o.useEffect(()=>{Br()},[]),o.useEffect(()=>{const lt=os=>{if(os.key==="Escape"){if(it){bt(!1);return}if(X){Ne(!1);return}if(ee){de(!1);return}if(us){tt(!1);return}if(S){P(!1);return}h(!1),b(!1),jt(!1),Re(!1),Ye(!1),Ft(!1),Lt(!1),gt(!1),xt(!1),Nt(!1),Ke(!1),Ee(!1),at(!1),_t(!1)}};return document.addEventListener("keydown",lt),()=>document.removeEventListener("keydown",lt)},[it,X,ee,us,S]),o.useEffect(()=>{ee&&ft.length===0&&hr()},[ee,ft.length,hr]),o.useEffect(()=>{us&&xr()},[us,xr]);const ir=lt=>os=>lt(os.target.value),cr=(lt,os)=>()=>os(Pq(lt)),vr=(lt,os,Ds,mr,Qs)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm font-semibold whitespace-nowrap",children:lt}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:os,onChange:jr=>Ds(jr.target.value),placeholder:"MM/DD/YYYY",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Qs(!mr),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),mr&&e.jsx(Hr,{onDateSelect:jr=>{Ds(jr),Qs(!1)},onClose:()=>Qs(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"2 Shifts In A Day - Rawdata"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data for employees working two shifts in a day, including clock in/out times, breaks, and overtime approvals for accurate payroll processing."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(lt=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:lt})]},lt))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ca,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:lt=>l(lt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(lt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===lt,onChange:()=>{d(lt),lt==="all"&&(_e(""),ke(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:lt})]},lt))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:ie,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:Ie,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>Ne(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"}),"Browse"]}),ie&&e.jsxs("button",{onClick:()=>{_e(""),ke("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(nt,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[vr("Date From",t,s,x,h),vr("Date To",r,a,m,b),e.jsxs("button",{onClick:Nr,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(Er,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),g&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),g]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(lt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C[lt.key],onChange:()=>lr(lt.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:lt.label})]},lt.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:C.selectAll,onChange:Xr,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:["Employee Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actual Date/Time In"}),!C.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!C.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!C.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!C.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!C.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!C.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"DayType"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"OT Approved"}),!C.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!C.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!C.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal Id"}),!C.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!C.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT Time"}),!C.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device Name"}),!C.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Is Late Filing"}),!C.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice Name"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available in table"})}):f.map(lt=>{const os=zr(lt.rawDateIn),Ds=zr(lt.rawTimeIn),mr=zr(lt.actualDateIn),Qs=zr(lt.actualTimeIn2),jr=zr(lt.rawBreak1Out),Oe=zr(lt.rawBreak1In),At=zr(lt.rawBreak2Out),Mt=zr(lt.rawBreak2In),pr=zr(lt.rawBreak3Out),Bs=zr(lt.rawBreak3In),Cr=zr(lt.rawDateOut),Ja=zr(lt.rawTimeOut),dn=zr(lt.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>tr(lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>sr(lt.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:os.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ds.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[mr.date," ",Qs.time]}),!C.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:jr.time}),!C.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Oe.time}),!C.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.time}),!C.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Mt.time}),!C.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:pr.time}),!C.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Bs.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ja.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Cr.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.rawotApproved?"Yes":"No"}),!C.remarks&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.rawRemarks}),!C.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.entryFlag}),!C.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.terminalID}),!C.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.dayType2}),!C.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:dn.time}),!C.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[lt.deviceNameIn,"/",lt.deviceNameOut]}),!C.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.isLateFiling?"Yes":"No"}),!C.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:lt.bDeviceName})]},lt.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:f.length>0?`Showing 1 to ${f.length} of ${f.length} entries`:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>P(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-4 py-3 border-b border-gray-200 flex items-center justify-between rounded-t-lg z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:D!==null?"Edit Entry":"Create New"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-medium",children:"2 Shifts In A Day - Rawdata"}),L&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),L]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Emp Code :"}),e.jsx("input",{type:"text",value:B,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>bt(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Employee",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:R,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>de(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:W,onChange:lt=>ne(lt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>jt(!mt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),mt&&e.jsx(Hr,{onDateSelect:lt=>{ne(lt),jt(!1)},onClose:()=>jt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:J,onChange:ir(H),onBlur:cr(J,H),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Re(!we),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),we&&e.jsx(ya,{initialTime:J,onTimeSelect:lt=>{H(lt),Re(!1)},onClose:()=>Re(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Actual Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:F,onChange:lt=>I(lt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ye(!me),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),me&&e.jsx(Hr,{onDateSelect:lt=>{I(lt),Ye(!1)},onClose:()=>Ye(!1)})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:U,onChange:ir(k),onBlur:cr(U,k),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ft(!pt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),pt&&e.jsx(ya,{initialTime:U,onTimeSelect:lt=>{k(lt),Ft(!1)},onClose:()=>Ft(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 1 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:O,onChange:ir(he),onBlur:cr(O,he),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Lt(!Bt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),Bt&&e.jsx(ya,{initialTime:O,onTimeSelect:lt=>{he(lt),Lt(!1)},onClose:()=>Lt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 1 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ye,onChange:ir(be),onBlur:cr(ye,be),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>gt(!Qe),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),Qe&&e.jsx(ya,{initialTime:ye,onTimeSelect:lt=>{be(lt),gt(!1)},onClose:()=>gt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 2 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:je,onChange:ir(ge),onBlur:cr(je,ge),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>xt(!vt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),vt&&e.jsx(ya,{initialTime:je,onTimeSelect:lt=>{ge(lt),xt(!1)},onClose:()=>xt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 2 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:xe,onChange:ir(Se),onBlur:cr(xe,Se),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Nt(!Ct),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),Ct&&e.jsx(ya,{initialTime:xe,onTimeSelect:lt=>{Se(lt),Nt(!1)},onClose:()=>Nt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 3 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:De,onChange:ir(Fe),onBlur:cr(De,Fe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ke(!$e),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),$e&&e.jsx(ya,{initialTime:De,onTimeSelect:lt=>{Fe(lt),Ke(!1)},onClose:()=>Ke(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 3 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ae,onChange:ir(ze),onBlur:cr(Ae,ze),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ee(!ce),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),ce&&e.jsx(ya,{initialTime:Ae,onTimeSelect:lt=>{ze(lt),Ee(!1)},onClose:()=>Ee(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:He,onChange:lt=>Ve(lt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>at(!pe),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),pe&&e.jsx(Hr,{onDateSelect:lt=>{Ve(lt),at(!1)},onClose:()=>at(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:qe,onChange:ir(ve),onBlur:cr(qe,ve),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_t(!ut),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),ut&&e.jsx(ya,{initialTime:qe,onTimeSelect:lt=>{ve(lt),_t(!1)},onClose:()=>_t(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:Me,onChange:lt=>Te(lt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:Le,onChange:lt=>ot(lt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm pt-1",children:"Remarks :"}),e.jsx("textarea",{value:Je,onChange:lt=>Ge(lt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:et,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>tt(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Device",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>yt(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:ha,disabled:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-60",children:[A&&e.jsx(Er,{className:"w-4 h-4 animate-spin"}),D!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>P(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:it,onClose:()=>bt(!1),onSelect:lt=>{const os=se.find(Ds=>Ds.empCode===lt);ct(lt,os?.name??"")},employees:se,loading:Z,error:Y}),ee&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>de(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>de(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:re,onChange:lt=>We(lt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Xe&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",Xe]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:z?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Ks.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Ks.map((lt,os)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>ws(lt.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:lt.code}),e.jsx("td",{className:"px-3 py-1.5",children:lt.description})]},lt.code))})]})})]})]})})]}),us&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>tt(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>tt(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device Name"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Zt,onChange:lt=>kt(lt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Ht&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",Ht]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:Js?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):qs.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):qs.map((lt,os)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Ys(lt.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:lt.code}),e.jsx("td",{className:"px-3 py-1.5",children:lt.description})]},lt.id))})]})})]})]})})]}),e.jsx(na,{isOpen:X,onClose:()=>Ne(!1),onSelect:lt=>{const os=se.find(Ds=>Ds.empCode===lt);Vt(lt,os?.name??"")},employees:se,loading:Z,error:Y})]})]})}),e.jsx(Qt,{})]})}function an({value:t,onChange:s,placeholder:r="MM/DD/YYYY",className:a="",disabled:n=!1}){const[l,i]=o.useState(!1),d=f=>{if(!f)return;const N=f.split("/");if(N.length===3){const p=parseInt(N[0])-1,v=parseInt(N[1]),g=parseInt(N[2]);if(!isNaN(p)&&!isNaN(v)&&!isNaN(g))return new Date(g,p,v)}},x=f=>{if(!f)return"";const N=(f.getMonth()+1).toString().padStart(2,"0"),p=f.getDate().toString().padStart(2,"0"),v=f.getFullYear();return`${N}/${p}/${v}`},h=d(t),m=f=>{f&&(s(x(f)),i(!1))},b=f=>{s(f.target.value)};return e.jsxs("div",{className:`flex gap-2 ${a}`,children:[e.jsx("input",{type:"text",value:t,onChange:b,disabled:n,readOnly:n,className:`flex-1 px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 ${n?"bg-gray-50 cursor-not-allowed text-gray-500":"bg-white"}`,placeholder:r}),e.jsxs(qy,{open:l,onOpenChange:n?void 0:i,children:[e.jsx(Xy,{asChild:!0,children:e.jsx("button",{type:"button",disabled:n,className:`flex items-center justify-center px-4 py-2.5 rounded-xl transition-colors shadow-sm ${n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.jsx(cs,{className:"w-4 h-4"})})}),e.jsx(Jy,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(eb,{mode:"single",selected:h,onSelect:m,initialFocus:!0})})]})]})}function aD({isOpen:t,isEditMode:s,empCode:r,date:a,hoursApproved:n,actualDateInOTBefore:l,startTimeBefore:i,startOvertimeDate:d,startOvertimeTime:x,approvedBreak:h,reason:m,remarks:b,isLateFiling:f,onClose:N,onDateChange:p,onHoursApprovedChange:v,onActualDateInOTBeforeChange:g,onStartTimeBeforeChange:y,onStartOvertimeDateChange:C,onStartOvertimeTimeChange:j,onApprovedBreakChange:S,onReasonChange:P,onRemarksChange:D,onIsLateFilingChange:T,onSubmit:A}){return o.useEffect(()=>{const M=L=>{L.key==="Escape"&&t&&N()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[t,N]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:N}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Overtime":"Create New"}),e.jsx("button",{onClick:N,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Overtime Applications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx(an,{value:a,onChange:p,className:"flex-1 text-small"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No. of Hours Approved :"}),e.jsx("input",{type:"text",value:n,onChange:M=>v(M.target.value),className:"w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Start Time of OT Before the Shift :"}),e.jsx(an,{value:a,onChange:p,className:"flex-1 text-small"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:[e.jsx("div",{children:e.jsx("label",{className:"text-gray-700",children:"Start Time of Overtime :"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx(an,{value:d,onChange:C,className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time:"}),e.jsx("input",{type:"text",value:x,onChange:M=>j(M.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:MM"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Approved OT Break Hrs :"}),e.jsx("input",{type:"text",value:h,onChange:M=>S(M.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:m,onChange:M=>P(M.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:b,onChange:M=>D(M.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:f,onChange:M=>T(M.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:A,className:"px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:N,className:"px-5 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Iq(){const[t,s]=o.useState("workshift"),[r,a]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState(""),[x]=o.useState("Main Monthly"),[h,m]=o.useState(!1),[b,f]=o.useState([]),[N,p]=o.useState(!1),[v,g]=o.useState(""),[y,C]=o.useState(!1),[j,S]=o.useState(""),[P,D]=o.useState(!1),[T,A]=o.useState(!1),M=[{code:"7AM4PM",description:"7:00 AM - 4:00 PM"},{code:"3PM12AM",description:"3:00 PM - 12:00 AM"},{code:"8AM5PM",description:"8:00 AM - 5:00 PM"},{code:"11PM8AM",description:"11:00 PM - 8:00 AM"},{code:"FLEX",description:"Flexible Schedule"}],L=M.filter(re=>re.code.toLowerCase().includes(j.toLowerCase())||re.description.toLowerCase().includes(j.toLowerCase())),q=o.useMemo(()=>b.map(re=>({...re,name:`${re.lName}, ${re.fName}`,groupCode:re.grpCode})),[b]),B=async(re,We)=>{try{const ft=b.find($t=>$t.empCode===re);if(!ft){console.error("Employee not found:",re),await Q.fire({icon:"error",title:"Error",text:"Employee not found"});return}a(re),l(ft.grpCode),d(We),m(!1),await Promise.all([at(re),ut(re),ue(re)])}catch(ft){console.error("Error loading employee:",ft),await Q.fire({icon:"error",title:"Error",text:"Failed to load employee details"})}},te=re=>{xt(re),C(!1)},[oe,fe]=o.useState(!1),[R,V]=o.useState(!1),[W,ne]=o.useState(!1),[J,H]=o.useState(null),[F,I]=o.useState(""),[U,k]=o.useState(""),[O,he]=o.useState(""),[ye,be]=o.useState(""),[je,ge]=o.useState(""),[xe,Se]=o.useState(""),[De,Fe]=o.useState(""),[Ae,ze]=o.useState(""),[He,Ve]=o.useState(""),[qe,ve]=o.useState(""),[Me,Te]=o.useState(""),[Le,ot]=o.useState(!1),[Je,Ge]=o.useState("variable"),[et,yt]=o.useState(""),[mt,jt]=o.useState(null),[we,Re]=o.useState(!1),[me,Ye]=o.useState(!1),[pt,Ft]=o.useState(null),[Bt,Lt]=o.useState(""),[Qe,gt]=o.useState(""),[vt,xt]=o.useState(""),[Ct,Nt]=o.useState(""),[$e,Ke]=o.useState([]),[ce,Ee]=o.useState([]),pe=async()=>{p(!0),g("");try{const re=await ae.get("/Maintenance/EmployeeMasterFile");re.status===200&&re.data&&f(re.data)}catch(re){const We=re.response?.data?.message||re.message||"Failed to load employees";g(We),console.error("Error fetching employees:",re)}finally{p(!1)}},at=async re=>{if(re){D(!0);try{const We=await ae.get("/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay");if(We.status===200&&We.data){const $t=(Array.isArray(We.data)?We.data:We.data.items||[]).find(z=>(z.empCode?.trim()||"").toLowerCase()===re.trim().toLowerCase());$t&&(jt($t),yt($t.dailySched||""),Ge("fixed"))}}catch(We){console.error("Error fetching workshift fixed:",We),jt(null)}finally{D(!1)}}},ut=async re=>{if(re){D(!0);try{const We=await ae.get("/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay");if(We.status===200&&We.data){const $t=(Array.isArray(We.data)?We.data:We.data.items||[]).filter(z=>(z.empCode?.trim()||"").toLowerCase()===re.trim().toLowerCase());$t.length>0&&(Ke($t),Ge("variable"))}}catch(We){console.error("Error fetching workshift variable:",We),Ke([])}finally{D(!1)}}},_t=async()=>{const re={id:mt?.id||0,empCode:r,dailySched:et,isFixed:!0};D(!0);try{let We;re.id===0||!re.id?We=await ae.post("/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay",re):We=await ae.put(`/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay/${re.id}`,re),(We.status===200||We.status===201||We.status===204)&&(await Q.fire({icon:"success",title:"Success",text:"Fixed workshift saved successfully.",timer:2e3,showConfirmButton:!1}),await at(r),fe(!1))}catch(We){const ft=We.response?.data?.message||We.message||"Failed to save fixed workshift";await Q.fire({icon:"error",title:"Error",text:ft})}finally{D(!1)}},it=async re=>{D(!0);try{const We=await ae.post("/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay",re);(We.status===200||We.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Variable workshift created successfully.",timer:2e3,showConfirmButton:!1}),await ut(r),Re(!1))}catch(We){const ft=We.response?.data?.message||We.message||"Failed to create variable workshift";await Q.fire({icon:"error",title:"Error",text:ft})}finally{D(!1)}},bt=async(re,We)=>{D(!0);try{const ft=await ae.put(`/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay/${re}`,We);(ft.status===200||ft.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Variable workshift updated successfully.",timer:2e3,showConfirmButton:!1}),await ut(r),Re(!1))}catch(ft){const $t=ft.response?.data?.message||ft.message||"Failed to update variable workshift";await Q.fire({icon:"error",title:"Error",text:$t})}finally{D(!1)}},se=async re=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){D(!0);try{const ft=await ae.delete(`/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay/${re}`);(ft.status===200||ft.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Variable workshift has been deleted.",timer:2e3,showConfirmButton:!1}),await ut(r))}catch(ft){const $t=ft.response?.data?.message||ft.message||"Failed to delete variable workshift";await Q.fire({icon:"error",title:"Error",text:$t})}finally{D(!1)}}},ue=async re=>{if(re){A(!0);try{const We=await ae.get("/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay");if(We.status===200&&We.data){const $t=(Array.isArray(We.data)?We.data:We.data.items||[]).filter(z=>(z.empCode?.trim()||"").toLowerCase()===re.trim().toLowerCase());Ee($t)}}catch(We){console.error("Error fetching overtime applications:",We),Ee([])}finally{A(!1)}}},Z=(re,We=0)=>({ID:We,EmpCode:re.empCode,Date:re.date?new Date(re.date).toISOString():null,NumOTHoursApproved:re.numOTHoursApproved||0,EarlyOTStartTime:re.earlyOTStartTime?new Date(re.earlyOTStartTime).toISOString():null,EarlyTimeIn:re.earlyTimeIn?new Date(re.earlyTimeIn).toISOString():null,StartOTPM:re.startOTPM?new Date(re.startOTPM).toISOString():null,MinHRSOTBreak:re.minHRSOTBreak||0,EarlyOTStartTimeRestHol:re.earlyOTStartTimeRestHol?new Date(re.earlyOTStartTimeRestHol).toISOString():null,Reason:re.reason||"",Remarks:re.remarks||"",ApprovedOTBreaksHrs:re.approvedOTBreaksHrs||0,STOTATS:re.stotats?new Date(re.stotats).toISOString():null,IsLateFiling:re.isLateFiling??!1,IsLateFilingProcessed:re.isLateFilingProcessed??!1}),G=async re=>{A(!0);try{const We=Z(re,0),ft=await ae.post("/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay",We);(ft.status===200||ft.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Overtime application created successfully.",timer:2e3,showConfirmButton:!1}),await ue(re.empCode||""),V(!1))}catch(We){const ft=We.response?.data?.title||We.message||"Failed to create application";await Q.fire({icon:"error",title:"Error",text:ft})}finally{A(!1)}},Y=async(re,We)=>{A(!0);try{const ft=Z(We,re),$t=await ae.put(`/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay/${re}`,ft);($t.status===200||$t.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Overtime application updated successfully.",timer:2e3,showConfirmButton:!1}),await ue(We.empCode||""),V(!1))}catch(ft){const $t=ft.response?.data||ft.message||"Failed to update application";await Q.fire({icon:"error",title:"Error",text:$t})}finally{A(!1)}},_=async re=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){A(!0);try{const ft=await ae.delete(`/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay/${re}`);(ft.status===200||ft.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Overtime application has been deleted.",timer:2e3,showConfirmButton:!1}),await ue(r))}catch(ft){const $t=ft.response?.data?.message||ft.message||"Failed to delete overtime application";await Q.fire({icon:"error",title:"Error",text:$t})}finally{A(!1)}}},ie=async()=>{try{const re={empCode:r,date:F,numOTHoursApproved:parseFloat(U)||0,earlyOTStartTime:O,earlyTimeIn:ye,startOTPM:je,minHRSOTBreak:parseFloat(xe)||0,earlyOTStartTimeRestHol:De,reason:Ae,remarks:He,approvedOTBreaksHrs:parseFloat(qe)||0,stotats:Me,isLateFiling:Le,isLateFilingProcessed:!1};W&&J!==null?await Y(J,re):await G(re)}catch(re){console.error("Error submitting overtime application:",re)}},_e=async re=>{await _(re)},Ie=async()=>{try{const re={empCode:r,dateFrom:Bt,dateTo:Qe,shiftCode:vt,dailyScheduleCode:Ct,updateDate:new Date().toISOString()};me&&pt!==null?await bt(pt,re):await it(re)}catch(re){console.error("Error submitting workshift:",re)}},ke=async re=>{await se(re)},X=async()=>{try{if(!r){await Q.fire({icon:"warning",title:"Warning",text:"Please select an employee first"});return}t==="workshift"&&Je==="fixed"&&await _t()}catch(re){console.error("Error saving:",re)}},Ne=()=>{fe(!1),r&&t==="workshift"&&(at(r),ut(r))};o.useEffect(()=>{const re=We=>{We.key==="Escape"&&(h?m(!1):y?C(!1):we?Re(!1):R&&V(!1))};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[h,y,we,R]),o.useEffect(()=>{pe()},[]),o.useEffect(()=>{r&&(at(r),ut(r),ue(r))},[r]);const ee=()=>{switch(t){case"workshift":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:P?e.jsx("div",{className:"text-center py-8",children:"Loading workshifts..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-fixed",checked:Je==="fixed",onChange:()=>Ge("fixed"),disabled:!oe,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"workshift-fixed",className:"text-gray-700",children:"Fixed"})]}),Je==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"DailySched"}),e.jsx("input",{type:"text",value:et,onChange:re=>yt(re.target.value),disabled:!oe,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-variable",checked:Je==="variable",onChange:()=>Ge("variable"),disabled:!oe,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"workshift-variable",className:"text-gray-700",children:"Variable"})]}),Je==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ye(!1),Ft(null),Lt(""),gt(""),xt(""),Nt(""),Re(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Shift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:$e.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No variable workshift records found"})}):$e.map(re=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.dateFrom?new Date(re.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.dateTo?new Date(re.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.shiftCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ye(!0),Ft(re.id),Lt(re.dateFrom?new Date(re.dateFrom).toISOString().split("T")[0]:""),gt(re.dateTo?new Date(re.dateTo).toISOString().split("T")[0]:""),xt(re.shiftCode||""),Nt(re.dailyScheduleCode||""),Re(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ke(re.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},re.id))})]})})]})]})]})});case"overtime-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{ne(!1),H(null),I(""),k(""),he(""),be(""),ge(""),Se(""),Fe(""),ze(""),Ve(""),ve(""),Te(""),ot(!1),V(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:T?e.jsx("div",{className:"text-center py-8",children:"Loading overtime applications..."}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ce.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No overtime applications found"})}):ce.map(re=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.date?new Date(re.date).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.numOTHoursApproved}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:re.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{ne(!0),H(re.id),I(re.date?new Date(re.date).toISOString().split("T")[0]:""),k(re.numOTHoursApproved?.toString()||""),he(re.earlyOTStartTime||""),be(re.earlyTimeIn||""),ge(re.startOTPM||""),Se(re.minHRSOTBreak?.toString()||""),Fe(re.earlyOTStartTimeRestHol||""),ze(re.reason||""),Ve(re.remarks||""),ve(re.approvedOTBreaksHrs?.toString()||""),Te(re.stotats||""),ot(re.isLateFiling||!1),V(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>_e(re.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},re.id))})]})})]})});default:return null}},de=[{id:"overtime-applications",label:"Overtime Applications",icon:Sb},{id:"workshift",label:"Workshift",icon:fr}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Time Keep Group Configuration [2-Shifts]"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure work shifts and overtime applications for 2-shift employees with accurate time tracking and overtime management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work shift configuration (Fixed/Variable)"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime application tracking"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t==="workshift"&&e.jsx(e.Fragment,{children:oe?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:X,disabled:P,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(Ar,{className:"w-4 h-4"}),P?"Saving...":"Save"]}),e.jsxs("button",{onClick:Ne,disabled:P,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:()=>fe(!0),disabled:!r,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]})}),t==="overtime-applications"&&e.jsx("div",{className:"px-4 py-2",children:""})]}),e.jsx("div",{className:"mb-6 space-y-4 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-24",children:"TKS Group"}),e.jsx("input",{type:"text",value:n,disabled:!0,placeholder:"Auto-filled from selection",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-24",children:"EmpCode"}),e.jsx("input",{type:"text",value:r,disabled:!0,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"}),e.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-blue-700 mb-1",children:i}),e.jsx("div",{className:"text-blue-600",children:x})]})]}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:de.map(re=>e.jsxs("button",{onClick:()=>s(re.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===re.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(re.icon,{className:"w-4 h-4"}),e.jsx("span",{children:re.label})]},re.id))}),ee()]}),e.jsx(na,{isOpen:h,onClose:()=>m(!1),onSelect:B,employees:q,loading:N,error:v}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-50",onClick:()=>C(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search Workshift Code"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:j,onChange:re=>S(re.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:L.map(re=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>te(re.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:re.code}),e.jsx("td",{className:"px-3 py-1.5",children:re.description})]},re.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing 1 to ",L.length," of ",M.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]}),e.jsx(aD,{isOpen:R,isEditMode:W,empCode:r,date:F,hoursApproved:U,actualDateInOTBefore:"",startTimeBefore:O,startOvertimeDate:"",startOvertimeTime:ye,approvedBreak:xe,reason:Ae,remarks:He,isLateFiling:Le,onClose:()=>V(!1),onDateChange:I,onHoursApprovedChange:k,onActualDateInOTBeforeChange:()=>{},onStartTimeBeforeChange:he,onStartOvertimeDateChange:()=>{},onStartOvertimeTimeChange:be,onApprovedBreakChange:Se,onReasonChange:ze,onRemarksChange:Ve,onIsLateFilingChange:ot,onSubmit:ie}),we&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>Re(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:me?"Edit Workshift":"Create Workshift Variable"}),e.jsx("button",{onClick:()=>Re(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Date From :"}),e.jsx("input",{type:"date",value:Bt,onChange:re=>Lt(re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Date To :"}),e.jsx("input",{type:"date",value:Qe,onChange:re=>gt(re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Shift Code :"}),e.jsx("input",{type:"text",value:vt,onChange:re=>xt(re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:()=>C(!0),className:"p-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors shadow-sm",title:"Search Workshift Code",children:e.jsx(Gt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Daily Sched Code :"}),e.jsx("input",{type:"text",value:Ct,onChange:re=>Nt(re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:Ie,className:"px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:me?"Update":"Add"}),e.jsx("button",{onClick:()=>Re(!1),className:"px-5 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]})]})}),e.jsx(Qt,{})]})}function Lq(){const[t,s]=o.useState([2,3,4,5,6,7,8,9,10]),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState("05/05/2021"),m=N=>{s(p=>p.includes(N)?p.filter(v=>v!==N):[...p,N])},b=()=>{t.length===uc.length?s([]):s(uc.map(N=>N.id))},f=N=>{const p=N.target.files?.[0];p&&(a(p.name),l(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Overtime Application 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ua,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import overtime application records from Excel or CSV files. Select the TKS groups and date range to process overtime applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:t,onToggle:m,onSelectAll:b}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:r}),e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",onChange:f,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Change File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsx(qa,{date:i,onChange:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsx(qa,{date:x,onChange:h})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:!1,onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Overtime Application"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing overtime records before importing new data"})]})]})}),e.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"list-not-equal",checked:!1,onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"List Not Equal"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Show only records with discrepancies or mismatches"})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(vi,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Need a template?"})]}),e.jsx("div",{className:"ml-6",children:e.jsxs("button",{className:"px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ln,{className:"w-3 h-3"}),"Download Template"]})})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Ready to import"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Num OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Approved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(vi,{className:"w-16 h-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900",children:"No data available"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Upload and select a file to preview import data"})]})]})})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""})]})]})]})]})]})}),e.jsx(Qt,{})]})}function _q(){const[t,s]=o.useState([2,3,4,5,6,7,8,9,10]),[r,a]=o.useState("Copy of I - Workshift.xlsx"),[n,l]=o.useState(!0),[i,d]=o.useState("3/1/2020"),[x,h]=o.useState("03/15/2020"),[m,b]=o.useState(!1),[f,N]=o.useState("workshift-variable"),p=y=>{s(C=>C.includes(y)?C.filter(j=>j!==y):[...C,y])},v=()=>{t.length===uc.length?s([]):s(uc.map(y=>y.id))},g=y=>{const C=y.target.files?.[0];C&&(a(C.name),l(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Workshift Variable 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Batch import workshift schedules and rest day assignments for employees. Upload Excel files to configure work schedules across multiple employee groups efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import workshift schedules by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure rest days for employee groups"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:t,onToggle:p,onSelectAll:v}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:r}),e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",onChange:g,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Change File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:i,onChange:d,label:"Date From"}),e.jsx(qa,{date:x,onChange:h,label:"Date To"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Import Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 border-blue-500 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-variable",checked:f==="workshift-variable",onChange:y=>N(y.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift Variable"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-restday",checked:f==="workshift-restday",onChange:y=>N(y.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift with Restday"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(ln,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download Templates:"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(ln,{className:"w-3 h-3"}),"Download Template (Workshift Variable)"]}),e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(ln,{className:"w-3 h-3"}),"Download Template (Workshift w/ Rest Day)"]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:m,onChange:y=>b(y.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Workshift and RestDay"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing workshift and rest day records before importing new data"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),n&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(vi,{className:"w-16 h-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900",children:"No data available"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Select a worksheet to preview import data"})]})]})})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""})]})]})]})]})]})}),e.jsx(Qt,{})]})}function Oq(){const[t,s]=o.useState([2,3,4,5,6,7,8,9,10]),[r,a]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[g,y]=o.useState("B3-TFT-U_DATFILE"),[C,j]=o.useState(""),[S,P]=o.useState(!1),[D,T]=o.useState(""),[A,M]=o.useState("active"),q=[{id:1,code:"001",name:"Juan Dela Cruz"},{id:2,code:"002",name:"Maria Santos"},{id:3,code:"003",name:"Pedro Reyes"},{id:4,code:"004",name:"Ana Garcia"},{id:5,code:"005",name:"Jose Hernandez"},{id:6,code:"006",name:"Carmen Lopez"},{id:7,code:"007",name:"Miguel Torres"},{id:8,code:"008",name:"Isabel Ramirez"},{id:9,code:"009",name:"Carlos Flores"},{id:10,code:"010",name:"Rosa Morales"}].filter(fe=>fe.code.toLowerCase().includes(D.toLowerCase())||fe.name.toLowerCase().includes(D.toLowerCase())),B=fe=>{s(R=>R.includes(fe)?R.filter(V=>V!==fe):[...R,fe])},te=()=>{t.length===uc.length?s([]):s(uc.map(fe=>fe.id))},oe=fe=>{const R=fe.target.files?.[0];R&&(j(R.name),P(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Yl,{selectedCodes:t,onToggle:B,onSelectAll:te}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(qa,{date:r,onChange:a,label:"From:"}),e.jsx(qa,{date:n,onChange:l,label:"To:"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:fe=>d(fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Consolidate DTR"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:fe=>h(fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:fe=>b(fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:fe=>N(fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Upload logs from Online System only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:fe=>v(fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Logs of the Device"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsxs("select",{value:g,onChange:fe=>y(fe.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"B3-TFT-U_DATFILE",children:"B3-TFT-U_DATFILE"}),e.jsx("option",{value:"Device2",children:"Device 2"}),e.jsx("option",{value:"Device3",children:"Device 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",onChange:oe,accept:".dat,.txt",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-gray-600 text-white rounded cursor-pointer hover:bg-gray-700 transition-colors text-sm",children:"Choose Files"}),e.jsx("span",{className:"text-sm text-gray-600",children:C||"No file chosen"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors flex items-center gap-2",children:[e.jsx(lF,{className:"w-4 h-4"}),"View Logs"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employee Selection"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:D,onChange:fe=>T(fe.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q.map(fe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:fe.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:fe.name})]},fe.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Showing 1 to 10 of 704 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"5"}),e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"71"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:A==="active",onChange:fe=>M(fe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"inactive",checked:A==="inactive",onChange:fe=>M(fe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"all",checked:A==="all",onChange:fe=>M(fe.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Device Log Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function Bq({show:t,onClose:s,onSelect:r,searchTerm:a,setSearchTerm:n}){if(!t)return null;const i=[{code:"BL",description:"Birthday Leave"},{code:"HL",description:"Home Leave"},{code:"PL",description:"Paternity Leave"},{code:"SL",description:"Sick Leave"},{code:"SPL",description:"Solo Parent Leave"},{code:"VL",description:"Vacation Leave"},{code:"WN",description:"Leave with notice"}].filter(d=>d.code.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Leave Type"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:d=>n(d.target.value),className:"w-64 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description "})]})}),e.jsx("tbody",{children:i.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(d.code,d.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:d.code}),e.jsx("td",{className:"px-3 py-1.5",children:d.description})]},d.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 7 of 7 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function Rq({show:t,onClose:s,onSelect:r,searchTerm:a,setSearchTerm:n}){if(!t)return null;const i=[{code:"WS001",description:"Regular Shift"},{code:"WS002",description:"Night Shift"},{code:"WS003",description:"Swing Shift"},{code:"WS004",description:"Morning Shift"},{code:"WS005",description:"Evening Shift"}].filter(d=>d.code.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:d=>n(d.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:i.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(d.code,d.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:d.code}),e.jsx("td",{className:"px-3 py-1.5",children:d.description})]},d.code))})]})})]})]})})]})}function Hq({show:t,onClose:s,onSelect:r,searchTerm:a,setSearchTerm:n}){if(!t)return null;const i=[{code:"ADJ_PAY",description:"Adjustment",rate:"100.00",defaultAmount:"0.00"},{code:"ATESTOT1",description:"TEST OT 11",rate:"123.00",defaultAmount:"0.00"},{code:"BASC_RATE",description:"Basic Rate",rate:"100.00",defaultAmount:"0.00"},{code:"HOLIDAY",description:"Unworked Holiday Pay",rate:"100.00",defaultAmount:"0.00"},{code:"HOLMON",description:"Holiday Monthly",rate:"0.00",defaultAmount:"0.00"},{code:"ND_BASIC",description:"Night Differential Basic Rate",rate:"10.00",defaultAmount:"0.00"},{code:"ND_LHF8",description:"ND Legal Holiday First 8 Hours",rate:"20.00",defaultAmount:"0.00"},{code:"ND_LHRDF8",description:"ND Legal Holiday falls on Rest Day First 8 Hours",rate:"26.00",defaultAmount:"0.00"},{code:"ND_LHRDX8",description:"ND Legal Holiday falls on Rest Day Excess of 8 Hours",rate:"33.80",defaultAmount:"0.00"},{code:"ND_LHX8",description:"ND Legal Holiday Excess of 8 Hours",rate:"26.00",defaultAmount:"0.00"}].filter(d=>d.code.toLowerCase().includes(a.toLowerCase())||d.description.toLowerCase().includes(a.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Overtime Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:d=>n(d.target.value),className:"w-64 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:i.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(d.code,d.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:d.code}),e.jsx("td",{className:"px-3 py-1.5",children:d.description}),e.jsx("td",{className:"px-3 py-1.5",children:d.rate}),e.jsx("td",{className:"px-3 py-1.5",children:d.defaultAmount})]},d.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 10 of 68 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"5"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"6"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"7"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function Uq({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,transactionDate:l,setTransactionDate:i,transactionType:d,setTransactionType:x,noOfHours:h,setNoOfHours:m,overtimeCode:b,setOvertimeCode:f,onSubmit:N}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:p=>n(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Date :"}),e.jsx("input",{type:"text",value:l,onChange:p=>i(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Type :"}),e.jsxs("select",{value:d,onChange:p=>x(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No of Hours :"}),e.jsx("input",{type:"text",value:h,onChange:p=>m(p.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-xs",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime Code :"}),e.jsx("input",{type:"text",value:b,onChange:p=>f(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Wq({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,transactionDate:l,setTransactionDate:i,transactionType:d,setTransactionType:x,leaveType:h,setLeaveType:m,overtimeCode:b,setOvertimeCode:f,noOfHours:N,setNoOfHours:p,adjustType:v,setAdjustType:g,remarks:y,setRemarks:C,isLateFiling:j,setIsLateFiling:S,isLateFilingActualDate:P,setIsLateFilingActualDate:D,borrowedDeviceName:T,setBorrowedDeviceName:A,onSubmit:M}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Adjustments"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:L=>n(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Date :"}),e.jsx("input",{type:"text",value:l,onChange:L=>i(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Type :"}),e.jsxs("select",{value:d,onChange:L=>x(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Leave Type :"}),e.jsx("input",{type:"text",value:h,onChange:L=>m(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime Code :"}),e.jsx("input",{type:"text",value:b,onChange:L=>f(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No Of Hours :"}),e.jsx("input",{type:"text",value:N,onChange:L=>p(L.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-xs",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Adjust Type :"}),e.jsxs("select",{value:v,onChange:L=>g(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:y,onChange:L=>C(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:j,onChange:L=>S(L.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-44 text-gray-700",children:"IsLateFilingActualDate :"}),e.jsx("input",{type:"text",value:P,onChange:L=>D(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-44 text-gray-700",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:T,onChange:L=>A(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Gq({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,date:l,setDate:i,allowanceCode:d,setAllowanceCode:x,description:h,setDescription:m,amount:b,setAmount:f,remarks:N,setRemarks:p,onSubmit:v}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:g=>n(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx("input",{type:"text",value:l,onChange:g=>i(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"AllowanceCode :"}),e.jsx("input",{type:"text",value:d,onChange:g=>x(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Description :"}),e.jsx("input",{type:"text",value:h,onChange:g=>m(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Amount :"}),e.jsx("input",{type:"text",value:b,onChange:g=>f(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:N,onChange:g=>p(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:v,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function $q({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:d,setDateTo:x,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:f,workshiftCode:N,setWorkshiftCode:p,undertime:v,setUndertime:g,undertimeWithinGracePeriod:y,setUndertimeWithinGracePeriod:C,actualUndertime:j,setActualUndertime:S,remarks:P,setRemarks:D,onSubmit:T,onWorkshiftSearch:A}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Undertime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:M=>n(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"text",value:l,onChange:M=>i(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"text",value:d,onChange:M=>x(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time In :"}),e.jsx("input",{type:"text",value:h,onChange:M=>m(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time Out :"}),e.jsx("input",{type:"text",value:b,onChange:M=>f(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:N,onChange:M=>p(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:A,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Undertime :"}),e.jsx("input",{type:"text",value:v,onChange:M=>g(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Undertime Within GracePeriod :"}),e.jsx("input",{type:"text",value:y,onChange:M=>C(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"ActualUndertime :"}),e.jsx("input",{type:"text",value:j,onChange:M=>S(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:P,onChange:M=>D(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:T,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function zq({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:d,setDateTo:x,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:f,workshiftCode:N,setWorkshiftCode:p,overtime:v,setOvertime:g,otCode:y,setOtCode:C,reason:j,setReason:S,remarks:P,setRemarks:D,onSubmit:T,onWorkshiftSearch:A,onOTCodeSearch:M}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:L=>n(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"DateFrom :"}),e.jsx("input",{type:"text",value:l,onChange:L=>i(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"DateTo :"}),e.jsx("input",{type:"text",value:d,onChange:L=>x(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"TimeIn :"}),e.jsx("input",{type:"text",value:h,onChange:L=>m(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"TimeOut :"}),e.jsx("input",{type:"text",value:b,onChange:L=>f(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"WorkshiftCode :"}),e.jsx("input",{type:"text",value:N,onChange:L=>p(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:A,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime :"}),e.jsx("input",{type:"text",value:v,onChange:L=>g(L.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"OTCode :"}),e.jsx("input",{type:"text",value:y,onChange:L=>C(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:M,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:j,onChange:L=>S(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:P,onChange:L=>D(L.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:T,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Vq({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:d,setDateTo:x,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:f,workshiftCode:N,setWorkshiftCode:p,tardiness:v,setTardiness:g,tardinessWithinGracePeriod:y,setTardinessWithinGracePeriod:C,actualTardiness:j,setActualTardiness:S,remarks:P,setRemarks:D,offsetOTFlag:T,setOffsetOTFlag:A,exemptionRpt:M,setExemptionRpt:L,onSubmit:q,onWorkshiftSearch:B}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Processed Tardiness"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:te=>n(te.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"text",value:l,onChange:te=>i(te.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"text",value:d,onChange:te=>x(te.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time In :"}),e.jsx("input",{type:"text",value:h,onChange:te=>m(te.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time Out :"}),e.jsx("input",{type:"text",value:b,onChange:te=>f(te.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:N,onChange:te=>p(te.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:B,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Tardiness :"}),e.jsx("input",{type:"text",value:v,onChange:te=>g(te.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-55 text-gray-700",children:"Tardiness Within Grace Period :"}),e.jsx("input",{type:"text",value:y,onChange:te=>C(te.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Actual Tardiness :"}),e.jsx("input",{type:"text",value:j,onChange:te=>S(te.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-22",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:P,onChange:te=>D(te.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Offset OT Flag :"}),e.jsx("input",{type:"checkbox",checked:T,onChange:te=>A(te.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Exemption Rpt :"}),e.jsxs("select",{value:M,onChange:te=>L(te.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Disapproved",children:"Disapproved"}),e.jsx("option",{value:"Disapproved by HR",children:"Disapproved by HR"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Yq({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,date:l,setDate:i,hoursLeaveAbsent:d,setHoursLeaveAbsent:x,leaveCode:h,setLeaveCode:m,leaveDescription:b,setLeaveDescription:f,reason:N,setReason:p,remarks:v,setRemarks:g,withPay:y,setWithPay:C,exemptForAllowanceDeduction:j,setExemptForAllowanceDeduction:S,onSubmit:P,onLeaveCodeSearch:D}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Processed Leaves And Absences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:T=>n(T.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Date :"}),e.jsx("input",{type:"text",value:l,onChange:T=>i(T.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Hours LeaveAbsent :"}),e.jsx("input",{type:"text",value:d,onChange:T=>x(T.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Leave Code :"}),e.jsx("input",{type:"text",value:h,onChange:T=>m(T.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:D,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Leave Description :"}),e.jsx("input",{type:"text",value:b,onChange:T=>f(T.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:N,onChange:T=>p(T.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:v,onChange:T=>g(T.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:y,onChange:T=>C(T.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Exempt for Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:j,onChange:T=>S(T.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:P,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Kq({show:t,onClose:s,isEditMode:r,empCode:a,setEmpCode:n,workshiftCode:l,setWorkshiftCode:i,dateIn:d,setDateIn:x,dateOut:h,setDateOut:m,noOfHours:b,setNoOfHours:f,onSubmit:N,onWorkshiftSearch:p}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:r?"Edit Record":"Create New"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Adjustments"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:a,onChange:v=>n(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:l,onChange:v=>i(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:p,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date In :"}),e.jsx("input",{type:"text",value:d,onChange:v=>x(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date Out :"}),e.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No. Of Hours :"}),e.jsx("input",{type:"text",value:b,onChange:v=>f(v.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:N,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:r?"Update":"Submit"}),e.jsx("button",{onClick:s,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function qq(){const[t,s]=o.useState(""),[r,a]=o.useState(""),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState("No Of Hrs Per Day"),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(!1),[g,y]=o.useState(!1),[C,j]=o.useState(!1),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState(!1),[L,q]=o.useState(!1),[B,te]=o.useState(!1),[oe,fe]=o.useState(!1),[R,V]=o.useState(!1),[W,ne]=o.useState(!1),[J,H]=o.useState(""),[F,I]=o.useState(""),[U,k]=o.useState(""),[O,he]=o.useState(!1),[ye,be]=o.useState(null),[je,ge]=o.useState(!1),[xe,Se]=o.useState(!1),[De,Fe]=o.useState(""),[Ae,ze]=o.useState(""),[He,Ve]=o.useState(""),[qe,ve]=o.useState(""),[Me,Te]=o.useState(""),[Le,ot]=o.useState(""),[Je,Ge]=o.useState(""),[et,yt]=o.useState(""),[mt,jt]=o.useState(""),[we,Re]=o.useState(""),[me,Ye]=o.useState(""),[pt,Ft]=o.useState(""),[Bt,Lt]=o.useState(""),[Qe,gt]=o.useState(""),[vt,xt]=o.useState(""),[Ct,Nt]=o.useState(""),[$e,Ke]=o.useState(""),[ce,Ee]=o.useState(""),[pe,at]=o.useState(!1),[ut,_t]=o.useState(""),[it,bt]=o.useState(""),[se,ue]=o.useState(""),[Z,G]=o.useState(""),[Y,_]=o.useState(""),[ie,_e]=o.useState(""),[Ie,ke]=o.useState(""),[X,Ne]=o.useState(""),[ee,de]=o.useState(""),[re,We]=o.useState(""),[ft,$t]=o.useState(""),[z,Pe]=o.useState(""),[Xe,as]=o.useState(""),[us,tt]=o.useState(""),[Zt,kt]=o.useState(""),[zt,ds]=o.useState(""),[Js,Tt]=o.useState(""),[Ht,ms]=o.useState(""),[Nr,xr]=o.useState(""),[hr,Br]=o.useState(""),[ha,tr]=o.useState(""),[sr,Ca]=o.useState(""),[ct,Vt]=o.useState(""),[ws,Ys]=o.useState(""),[Ks,qs]=o.useState(""),[lr,Xr]=o.useState(""),[ir,cr]=o.useState(""),[vr,lt]=o.useState(""),[os,Ds]=o.useState(""),[mr,Qs]=o.useState(""),[jr,Oe]=o.useState(""),[At,Mt]=o.useState(""),[pr,Bs]=o.useState(""),[Cr,Ja]=o.useState(""),[dn,un]=o.useState(""),[Ia,Qa]=o.useState(""),[ao,An]=o.useState(""),[Un,Jr]=o.useState(""),[Qr,no]=o.useState(!1),[rt,fs]=o.useState(""),[Os,Xt]=o.useState(""),[Rr,Zr]=o.useState(""),[oa,wr]=o.useState(""),[dt,Ws]=o.useState(""),[La,xn]=o.useState(""),[oo,Ho]=o.useState(""),[Uo,Wo]=o.useState(""),[Jl,yl]=o.useState(!1),[Nc,_a]=o.useState(!1),[hn,Ql]=o.useState([]),[bl,Ei]=o.useState([]),[Go,Ti]=o.useState([]),[jo,Co]=o.useState([]),[$o,Ai]=o.useState([]),[zo,vl]=o.useState([]),[Vo,Zl]=o.useState([]),[Yo,wl]=o.useState([]),Ed=[{empCode:"000877",name:"Last122, First A",groupCode:"45"},{empCode:"000878",name:"Last, First A",groupCode:"45"},{empCode:"000900",name:"Last, First A",groupCode:"109"},{empCode:"000901",name:"Last, First A",groupCode:"109"},{empCode:"000902",name:"Last, First III A",groupCode:"45"},{empCode:"000903",name:"Last, First A",groupCode:"45"},{empCode:"000904",name:"Last, First A",groupCode:"45"},{empCode:"000905",name:"Last, First A",groupCode:"45"},{empCode:"000906",name:"Last, First A",groupCode:"45"},{empCode:"000907",name:"Last, First A",groupCode:"45"}];o.useEffect(()=>{const Dt=Ut=>{Ut.key==="Escape"&&(m&&b(!1),p&&v(!1),g&&y(!1),C&&j(!1),S&&P(!1),D&&T(!1),A&&M(!1),L&&q(!1),B&&te(!1),oe&&fe(!1),R&&V(!1),W&&ne(!1))};return(m||p||g||C||S||D||A||L||B||oe||R||W)&&document.addEventListener("keydown",Dt),()=>{document.removeEventListener("keydown",Dt)}},[m,p,g,C,S,D,A,L,B,oe,R,W]);const Td=(Dt,Ut)=>{s(Dt),a(Ut),b(!1)},Ad=Ed.filter(Dt=>Dt.empCode.toLowerCase().includes(f.toLowerCase())||Dt.name.toLowerCase().includes(f.toLowerCase())||Dt.groupCode.toLowerCase().includes(f.toLowerCase())),jc=()=>{switch(x){case"No Of Hrs Per Day":return"Process No. Hours Per Day";case"Tardiness":return"Process Tardiness";case"Undertime":return"Process Undertime";case"Leave and Absences":return"Process Leave and Absences";case"Overtime":return"Process Overtime";case"Other Earnings and Allowances":return"Process Other Earnings and Allowances";case"Adjustment":return"Process Adjustment";case"Advanced":return"Process Advanced";default:return"Process No. Hours Per Day"}},Fd=[{name:"No Of Hrs Per Day",icon:fr},{name:"Tardiness",icon:yr},{name:"Undertime",icon:ZF},{name:"Leave and Absences",icon:MA},{name:"Overtime",icon:p7},{name:"Other Earnings and Allowances",icon:rF},{name:"Adjustment",icon:wx},{name:"Advanced",icon:pC}],Cc=()=>{console.log("Searching with filters:",{employeeCode:t,employeeName:r,dateFrom:n,dateTo:i})},J0=()=>{if(O&&ye!==null){const Dt=[...hn];Dt[ye]={empCode:De,transactionDate:Ae,transactionType:He,noOfHours:qe,overtimeCode:Me,groupCode:"",glCode:""},Ql(Dt)}else Ql([...hn,{empCode:De,transactionDate:Ae,transactionType:He,noOfHours:qe,overtimeCode:Me,groupCode:"",glCode:""}]);v(!1),he(!1),be(null)},Wn=()=>{if(O&&ye!==null){const Dt=[...bl];Dt[ye]={empCode:me,transactionDate:pt,transactionType:Bt,leaveType:Qe,overtimeCode:vt,noOfHours:Ct,adjustType:$e,remarks:ce,isLateFiling:pe,isLateFilingActualDate:ut,borrowedDeviceName:it,groupCode:"",glCode:""},Ei(Dt)}else Ei([...bl,{empCode:me,transactionDate:pt,transactionType:Bt,leaveType:Qe,overtimeCode:vt,noOfHours:Ct,adjustType:$e,remarks:ce,isLateFiling:pe,isLateFilingActualDate:ut,borrowedDeviceName:it,groupCode:"",glCode:""}]);y(!1),he(!1),be(null)},Nl=()=>{if(O&&ye!==null){const Dt=[...Go];Dt[ye]={empCode:se,date:Z,allowanceCode:Y,description:ie,amount:Ie,remarks:X,groupCode:"",glCode:""},Ti(Dt)}else Ti([...Go,{empCode:se,date:Z,allowanceCode:Y,description:ie,amount:Ie,remarks:X,groupCode:"",glCode:""}]);j(!1),he(!1),be(null)},Pd=()=>{if(O&&ye!==null){const Dt=[...jo];Dt[ye]={empCode:ee,dateFrom:re,dateTo:ft,timeIn:z,timeOut:Xe,workshiftCode:us,undertime:Zt,undertimeWithinGracePeriod:zt,actualUndertime:Js,remarks:Ht},Co(Dt)}else Co([...jo,{empCode:ee,dateFrom:re,dateTo:ft,timeIn:z,timeOut:Xe,workshiftCode:us,undertime:Zt,undertimeWithinGracePeriod:zt,actualUndertime:Js,remarks:Ht}]);P(!1),he(!1),be(null)},Md=()=>{if(O&&ye!==null){const Dt=[...$o];Dt[ye]={empCode:Nr,dateFrom:hr,dateTo:ha,timeIn:sr,timeOut:ct,workshiftCode:ws,overtime:Ks,otCode:lr,reason:ir,remarks:vr},Ai(Dt)}else Ai([...$o,{empCode:Nr,dateFrom:hr,dateTo:ha,timeIn:sr,timeOut:ct,workshiftCode:ws,overtime:Ks,otCode:lr,reason:ir,remarks:vr}]);T(!1),he(!1),be(null)},lo=()=>{if(O&&ye!==null){const Dt=[...zo];Dt[ye]={empCode:os,dateFrom:mr,dateTo:jr,timeIn:At,timeOut:pr,workshiftCode:Cr,tardiness:dn,tardinessWithinGracePeriod:Ia,actualTardiness:ao,remarks:Un,offsetOTFlag:Qr,exemptionRpt:rt},vl(Dt)}else vl([...zo,{empCode:os,dateFrom:mr,dateTo:jr,timeIn:At,timeOut:pr,workshiftCode:Cr,tardiness:dn,tardinessWithinGracePeriod:Ia,actualTardiness:ao,remarks:Un,offsetOTFlag:Qr,exemptionRpt:rt}]);M(!1),he(!1),be(null)},Sc=()=>{if(O&&ye!==null){const Dt=[...Vo];Dt[ye]={empCode:Os,date:Rr,hoursLeaveAbsent:oa,leaveCode:dt,leaveDescription:La,reason:oo,remarks:Uo,withPay:Jl,exemptForAllowanceDeduction:Nc},Zl(Dt)}else Zl([...Vo,{empCode:Os,date:Rr,hoursLeaveAbsent:oa,leaveCode:dt,leaveDescription:La,reason:oo,remarks:Uo,withPay:Jl,exemptForAllowanceDeduction:Nc}]);q(!1),he(!1),be(null)},kc=()=>{if(O&&ye!==null){const Dt=[...Yo];Dt[ye]={empCode:Le,workshiftCode:Je,dateIn:et,dateOut:mt,noOfHours:we},wl(Dt)}else wl([...Yo,{empCode:Le,workshiftCode:Je,dateIn:et,dateOut:mt,noOfHours:we}]);te(!1),he(!1),be(null)},Id=(Dt,Ut)=>{S?tt(Dt):D?Ys(Dt):A?Ja(Dt):B&&Ge(Dt),fe(!1)},Za=(Dt,Ut)=>{Xr(Dt),V(!1)},Q0=(Dt,Ut)=>{Ws(Dt),xn(Ut),ne(!1)},Z0=Dt=>{window.confirm("Are you sure you want to delete this record?")&&wl(Yo.filter((Ut,ma)=>ma!==Dt))},Fi=Dt=>{window.confirm("Are you sure you want to delete this record?")&&vl(zo.filter((Ut,ma)=>ma!==Dt))},Ko=Dt=>{window.confirm("Are you sure you want to delete this record?")&&Co(jo.filter((Ut,ma)=>ma!==Dt))},ei=Dt=>{window.confirm("Are you sure you want to delete this record?")&&Zl(Vo.filter((Ut,ma)=>ma!==Dt))},jl=Dt=>{window.confirm("Are you sure you want to delete this record?")&&Ai($o.filter((Ut,ma)=>ma!==Dt))},ti=Dt=>{window.confirm("Are you sure you want to delete this record?")&&Ti(Go.filter((Ut,ma)=>ma!==Dt))},eu=Dt=>{window.confirm("Are you sure you want to delete this record?")&&Ei(bl.filter((Ut,ma)=>ma!==Dt))},Pi=Dt=>{window.confirm("Are you sure you want to delete this record?")&&Ql(hn.filter((Ut,ma)=>ma!==Dt))},Ld=Dt=>{const Ut=Yo[Dt];he(!0),be(Dt),ot(Ut.empCode),Ge(Ut.workshiftCode),yt(Ut.dateIn),jt(Ut.dateOut),Re(Ut.noOfHours),te(!0)},Oa=Dt=>{const Ut=zo[Dt];he(!0),be(Dt),Ds(Ut.empCode),Qs(Ut.dateFrom),Oe(Ut.dateTo),Mt(Ut.timeIn),Bs(Ut.timeOut),Ja(Ut.workshiftCode),un(Ut.tardiness),Qa(Ut.tardinessWithinGracePeriod),An(Ut.actualTardiness),Jr(Ut.remarks),no(Ut.offsetOTFlag),fs(Ut.exemptionRpt),M(!0)},qo=Dt=>{const Ut=jo[Dt];he(!0),be(Dt),de(Ut.empCode),We(Ut.dateFrom),$t(Ut.dateTo),Pe(Ut.timeIn),as(Ut.timeOut),tt(Ut.workshiftCode),kt(Ut.undertime),ds(Ut.undertimeWithinGracePeriod),Tt(Ut.actualUndertime),ms(Ut.remarks),P(!0)},si=Dt=>{const Ut=Vo[Dt];he(!0),be(Dt),Xt(Ut.empCode),Zr(Ut.date),wr(Ut.hoursLeaveAbsent),Ws(Ut.leaveCode),xn(Ut.leaveDescription),Ho(Ut.reason),Wo(Ut.remarks),yl(Ut.withPay),_a(Ut.exemptForAllowanceDeduction),q(!0)},Dc=Dt=>{const Ut=$o[Dt];he(!0),be(Dt),xr(Ut.empCode),Br(Ut.dateFrom),tr(Ut.dateTo),Ca(Ut.timeIn),Vt(Ut.timeOut),Ys(Ut.workshiftCode),qs(Ut.overtime),Xr(Ut.otCode),cr(Ut.reason),lt(Ut.remarks),T(!0)},Mi=Dt=>{const Ut=Go[Dt];he(!0),be(Dt),ue(Ut.empCode),G(Ut.date),_(Ut.allowanceCode),_e(Ut.description),ke(Ut.amount),Ne(Ut.remarks),j(!0)},_d=Dt=>{const Ut=bl[Dt];he(!0),be(Dt),Ye(Ut.empCode),Ft(Ut.transactionDate),Lt(Ut.transactionType),gt(Ut.leaveType),xt(Ut.overtimeCode),Nt(Ut.noOfHours),Ke(Ut.adjustType),Ee(Ut.remarks),at(Ut.isLateFiling),_t(Ut.isLateFilingActualDate),bt(Ut.borrowedDeviceName),y(!0)},Hx=Dt=>{const Ut=hn[Dt];he(!0),be(Dt),Fe(Ut.empCode),ze(Ut.transactionDate),Ve(Ut.transactionType),ve(Ut.noOfHours),Te(Ut.overtimeCode),v(!0)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:jc()})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process and manage employee attendance data including hours worked, tardiness, undertime, leaves, and overtime. Review and approve processed timekeeping records for accurate payroll calculation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Track daily work hours"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Monitor tardiness and undertime"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Process overtime records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Manage leave and absences"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 w-32",children:"Employee Code"}),e.jsx("input",{type:"text",value:t,onChange:Dt=>s(Dt.target.value),readOnly:!0,className:"w-48 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50"}),e.jsx("button",{onClick:()=>b(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s(""),a("")},className:"px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})}),e.jsx("label",{className:"text-sm font-bold text-gray-700 ml-4",children:"Employee Name"}),e.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50"}),e.jsxs("button",{onClick:Cc,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})}),e.jsx("div",{className:"flex items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{className:"text-gray-700 font-bold text-sm",children:"Date From"}),e.jsx("input",{type:"text",value:n,onChange:Dt=>l(Dt.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>ge(!je),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),je&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Hr,{onDateSelect:Dt=>{l(Dt),ge(!1)},onClose:()=>ge(!1)})})]}),e.jsx("label",{className:"text-sm font-bold text-gray-700 ml-4",children:"Date To"}),e.jsx("input",{type:"text",value:i,onChange:Dt=>d(Dt.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"MM/DD/YYYY"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>Se(!xe),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})}),xe&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Hr,{onDateSelect:Dt=>{d(Dt),Se(!1)},onClose:()=>Se(!1)})})]}),e.jsxs("button",{onClick:Cc,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})})]}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:Fd.map(Dt=>{const Ut=Dt.icon,ma=x===Dt.name;return e.jsxs("button",{onClick:()=>h(Dt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${ma?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ut,{className:"w-4 h-4"}),Dt.name]},Dt.name)})}),e.jsx("div",{className:"mb-4",children:e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:()=>{he(!1),be(null),x==="No Of Hrs Per Day"?(ot(""),Ge(""),yt(""),jt(""),Re(""),te(!0)):x==="Advanced"?(Fe(""),ze(""),Ve(""),ve(""),Te(""),v(!0)):x==="Adjustment"?(Ye(""),Ft(""),Lt(""),gt(""),xt(""),Nt(""),Ke(""),Ee(""),at(!1),_t(""),bt(""),y(!0)):x==="Other Earnings and Allowances"?(ue(""),G(""),_(""),_e(""),ke(""),Ne(""),j(!0)):x==="Undertime"?(de(""),We(""),$t(""),Pe(""),as(""),tt(""),kt(""),ds(""),Tt(""),ms(""),P(!0)):x==="Overtime"?(xr(""),Br(""),tr(""),Ca(""),Vt(""),Ys(""),qs(""),Xr(""),cr(""),lt(""),T(!0)):x==="Tardiness"?(Ds(""),Qs(""),Oe(""),Mt(""),Bs(""),Ja(""),un(""),Qa(""),An(""),Jr(""),no(!1),fs(""),M(!0)):x==="Leave and Absences"&&(Xt(""),Zr(""),wr(""),Ws(""),xn(""),Ho(""),Wo(""),yl(!1),_a(!1),q(!0))},children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]})}),x==="No Of Hrs Per Day"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No Of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Yo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Yo.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ld(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Z0(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),x==="Tardiness"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Tardiness [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Tardi Within Grace Period [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actual Tardiness [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Offset OT Flag "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group... "})]})}),e.jsx("tbody",{children:zo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):zo.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Oa(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Fi(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.tardiness}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.tardinessWithinGracePeriod}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.actualTardiness}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.offsetOTFlag?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),x==="Undertime"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Undertime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Undertime Within Grace [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actual Undertime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:jo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):jo.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>qo(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ko(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.undertime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.undertimeWithinGracePeriod}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.actualUndertime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),x==="Leave and Absences"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Hours Leave Absent "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Description "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Reason "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"With Pay "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Exempt for Allowance Deduction "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Vo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Vo.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>si(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ei(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.hoursLeaveAbsent}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.leaveCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.leaveDescription}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.reason}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.withPay?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.exemptForAllowanceDeduction?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),x==="Overtime"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"OT Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Reason "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:$o.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):$o.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Dc(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>jl(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.overtime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.otCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.reason}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),x==="Other Earnings and Allowances"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Allowance Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Allowance Description "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Amount "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Go.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Go.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Mi(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ti(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.allowanceCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.description}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.amount}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),x==="Adjustment"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No Of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Adjust Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Is Late Filing "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Is Late Filing Actual Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Device Name "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:bl.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):bl.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>_d(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>eu(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.transactionDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.transactionType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.leaveType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.overtimeCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.adjustType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.isLateFilingActualDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.borrowedDeviceName}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),x==="Advanced"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:hn.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):hn.map((Dt,Ut)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Hx(Ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Pi(Ut),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.transactionDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.transactionType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Dt.overtimeCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Ut))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>b(!1)}),e.jsx("div",{className:"absolute top-8 left-1/2 transform -translate-x-1/2 z-40 w-full max-w-3xl px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:Dt=>N(Dt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Group Code"})]})}),e.jsx("tbody",{children:Ad.map(Dt=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Td(Dt.empCode,Dt.name),children:[e.jsx("td",{className:"px-3 py-1.5",children:Dt.empCode}),e.jsx("td",{className:"px-3 py-1.5",children:Dt.name}),e.jsx("td",{className:"px-3 py-1.5",children:Dt.groupCode})]},Dt.empCode))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 10 of 1,658 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]}),e.jsx(Uq,{show:p,onClose:()=>{v(!1),he(!1),be(null)},isEditMode:O,empCode:De,setEmpCode:Fe,transactionDate:Ae,setTransactionDate:ze,transactionType:He,setTransactionType:Ve,noOfHours:qe,setNoOfHours:ve,overtimeCode:Me,setOvertimeCode:Te,onSubmit:J0}),e.jsx(Wq,{show:g,onClose:()=>{y(!1),he(!1),be(null)},isEditMode:O,empCode:me,setEmpCode:Ye,transactionDate:pt,setTransactionDate:Ft,transactionType:Bt,setTransactionType:Lt,leaveType:Qe,setLeaveType:gt,overtimeCode:vt,setOvertimeCode:xt,noOfHours:Ct,setNoOfHours:Nt,adjustType:$e,setAdjustType:Ke,remarks:ce,setRemarks:Ee,isLateFiling:pe,setIsLateFiling:at,isLateFilingActualDate:ut,setIsLateFilingActualDate:_t,borrowedDeviceName:it,setBorrowedDeviceName:bt,onSubmit:Wn}),e.jsx(Gq,{show:C,onClose:()=>{j(!1),he(!1),be(null)},isEditMode:O,empCode:se,setEmpCode:ue,date:Z,setDate:G,allowanceCode:Y,setAllowanceCode:_,description:ie,setDescription:_e,amount:Ie,setAmount:ke,remarks:X,setRemarks:Ne,onSubmit:Nl}),e.jsx($q,{show:S,onClose:()=>P(!1),isEditMode:O,empCode:ee,setEmpCode:de,dateFrom:re,setDateFrom:We,dateTo:ft,setDateTo:$t,timeIn:z,setTimeIn:Pe,timeOut:Xe,setTimeOut:as,workshiftCode:us,setWorkshiftCode:tt,undertime:Zt,setUndertime:kt,undertimeWithinGracePeriod:zt,setUndertimeWithinGracePeriod:ds,actualUndertime:Js,setActualUndertime:Tt,remarks:Ht,setRemarks:ms,onSubmit:Pd,onWorkshiftSearch:()=>fe(!0)}),e.jsx(zq,{show:D,onClose:()=>T(!1),isEditMode:O,empCode:Nr,setEmpCode:xr,dateFrom:hr,setDateFrom:Br,dateTo:ha,setDateTo:tr,timeIn:sr,setTimeIn:Ca,timeOut:ct,setTimeOut:Vt,workshiftCode:ws,setWorkshiftCode:Ys,overtime:Ks,setOvertime:qs,otCode:lr,setOtCode:Xr,reason:ir,setReason:cr,remarks:vr,setRemarks:lt,onSubmit:Md,onWorkshiftSearch:()=>fe(!0),onOTCodeSearch:()=>V(!0)}),e.jsx(Vq,{show:A,onClose:()=>M(!1),isEditMode:O,empCode:os,setEmpCode:Ds,dateFrom:mr,setDateFrom:Qs,dateTo:jr,setDateTo:Oe,timeIn:At,setTimeIn:Mt,timeOut:pr,setTimeOut:Bs,workshiftCode:Cr,setWorkshiftCode:Ja,tardiness:dn,setTardiness:un,tardinessWithinGracePeriod:Ia,setTardinessWithinGracePeriod:Qa,actualTardiness:ao,setActualTardiness:An,remarks:Un,setRemarks:Jr,offsetOTFlag:Qr,setOffsetOTFlag:no,exemptionRpt:rt,setExemptionRpt:fs,onSubmit:lo,onWorkshiftSearch:()=>fe(!0)}),e.jsx(Yq,{show:L,onClose:()=>q(!1),isEditMode:O,empCode:Os,setEmpCode:Xt,date:Rr,setDate:Zr,hoursLeaveAbsent:oa,setHoursLeaveAbsent:wr,leaveCode:dt,setLeaveCode:Ws,leaveDescription:La,setLeaveDescription:xn,reason:oo,setReason:Ho,remarks:Uo,setRemarks:Wo,withPay:Jl,setWithPay:yl,exemptForAllowanceDeduction:Nc,setExemptForAllowanceDeduction:_a,onSubmit:Sc,onLeaveCodeSearch:()=>ne(!0)}),e.jsx(Kq,{show:B,onClose:()=>te(!1),isEditMode:O,empCode:Le,setEmpCode:ot,workshiftCode:Je,setWorkshiftCode:Ge,dateIn:et,setDateIn:yt,dateOut:mt,setDateOut:jt,noOfHours:we,setNoOfHours:Re,onSubmit:kc,onWorkshiftSearch:()=>fe(!0)}),e.jsx(Rq,{show:oe,onClose:()=>fe(!1),onSelect:Id,searchTerm:J,setSearchTerm:H}),e.jsx(Hq,{show:R,onClose:()=>V(!1),onSelect:Za,searchTerm:F,setSearchTerm:I}),e.jsx(Bq,{show:W,onClose:()=>ne(!1),onSelect:Q0,searchTerm:U,setSearchTerm:k})]})]})}),e.jsx(Qt,{})]})}function hs({date:t,onChange:s}){const[r,a]=o.useState(!1),[n,l]=o.useState(new Date),i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),d=new Date(n.getFullYear(),n.getMonth(),1).getDay(),x=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date().getFullYear(),m=[];for(let C=1900;C<=h+10;C++)m.push(C);const b=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},f=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},N=C=>{l(new Date(n.getFullYear(),C,1))},p=C=>{l(new Date(C,n.getMonth(),1))},v=C=>{const j=(n.getMonth()+1).toString().padStart(2,"0"),S=C.toString().padStart(2,"0"),P=n.getFullYear();s(`${j}/${S}/${P}`),a(!1)},g=()=>{const C=new Date,j=(C.getMonth()+1).toString().padStart(2,"0"),S=C.getDate().toString().padStart(2,"0"),P=C.getFullYear();s(`${j}/${S}/${P}`),a(!1)},y=[];for(let C=0;C<d;C++)y.push(e.jsx("div",{className:"h-8"},`empty-${C}`));for(let C=1;C<=i;C++)y.push(e.jsx("button",{onClick:()=>v(C),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:C},C));return e.jsxs(Cx,{open:r,onOpenChange:a,children:[e.jsx(Sx,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(cs,{className:"w-5 h-5"})})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:b,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(U0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:n.getMonth(),onChange:C=>N(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:x.map((C,j)=>e.jsx("option",{value:j,children:C},C))}),e.jsx("select",{value:n.getFullYear(),onChange:C=>p(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:m.map(C=>e.jsx("option",{value:C,children:C},C))})]}),e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(C=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:C},C))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:y}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:g,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function Xq({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function Jq(){const[t,s]=o.useState("5/5/2021"),[r,a]=o.useState("05/05/2021"),[n,l]=o.useState(null),[i,d]=o.useState({top:0,left:0}),[x,h]=o.useState("contract"),[m,b]=o.useState(""),[f,N]=o.useState([]),[p,v]=o.useState(1),g=10,[y,C]=o.useState(!1),[j,S]=o.useState(!1),[P,D]=o.useState([]),T=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(H=>({id:H.ID||H.id,code:H.groupCode||H.code,description:H.groupDescription||H.description}));o.useEffect(()=>{(async()=>{const H=await T();D(H)})()},[]);const A=P.filter(J=>J.code.toLowerCase().includes(m.toLowerCase())||J.description.toLowerCase().includes(m.toLowerCase())),M=Math.ceil(A.length/g),L=(p-1)*g,q=L+g,B=A.slice((p-1)*g,p*g),te=()=>{const J=[];if(M<=7)for(let H=1;H<=M;H++)J.push(H);else if(p<=4){for(let H=1;H<=5;H++)J.push(H);J.push("..."),J.push(M)}else if(p>=M-3){J.push(1),J.push("...");for(let H=M-4;H<=M;H++)J.push(H)}else{J.push(1),J.push("...");for(let H=p-1;H<=p+1;H++)J.push(H);J.push("..."),J.push(M)}return J},oe=J=>{N(J?P.map(H=>H.id):[])},fe=(J,H)=>{N(F=>H?[...F,J]:F.filter(I=>I!==J))},R=J=>J?.status>=200&&J?.status<300||J?.data===!0||J?.data?.success===!0||J?.data?.isSuccess===!0||J?.data?.status==="success"||J?.data?.result===!0,V=async(J,H=3e3)=>{await Q.fire({icon:"success",title:"Success",text:J,timer:H,showConfirmButton:!1})},W=async()=>{if(!f.length){await Q.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!r){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{const J=I=>new Date(I).toISOString(),H={dateFrom:J(t),dateTo:J(r),tkGroupList:f.map(String)};C(!0),console.log("Sending payload:",H);const F=f.join(",");if(x==="attendance"){const I=await ae.post("/Utilities/UpdateStatus_byDate",H);console.log("API response:",I);const U=await ae.post("/Utilities/UpdateStatus_byTKGroupCode",H);console.log("API response:",U);const k=R(I);console.log("Is success:",k);const O=R(U);console.log("Is success:",O),k&&O&&(await V("Successfully updated TKGroup Items."),N([]),s(""),a(""))}else if(x==="contract"){const I=await ae.post("/Utilities/UpdateStatus_byCDate",H);console.log("API response:",I);const U=R(I);console.log("Is success:",U),U&&(await V("Successfully updated TKGroup Items."),N([]),s(""),a(""))}}catch(J){const H=J.response?.data?.message||J.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:H}),console.error("Error submitting form:",J)}finally{C(!1)}},ne=J=>{n==="dateFrom"?s(J):n==="dateTo"&&(r&&J>r?a(""):a(J)),l(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Status"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Dn,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee status records based on attendance or contract dates. Select the groups and date range, then choose update criteria."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update based on attendance"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update based on contract date"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:J=>b(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===P.length,onChange:J=>oe(J.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:B.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(J.id),onChange:H=>fe(J.id,H.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.description})]},J.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",A.length===0?0:L+1," to ",Math.min(q,A.length)," of ",A.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>v(J=>Math.max(J-1,1)),disabled:p===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),te().map((J,H)=>J==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${H}`):e.jsx("button",{onClick:()=>v(J),className:`px-2 py-1 rounded text-xs ${p===J?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},J)),e.jsx("button",{onClick:()=>v(J=>Math.min(J+1,M)),disabled:p===M||M===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-20",children:"From:"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:t,onChange:J=>s(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:t,onChange:s})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-20",children:"To:"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:r,onChange:J=>a(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:r,onChange:J=>{t&&J<t||a(J)}})]})]})]}),e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"updateOption",value:"attendance",checked:x==="attendance",onChange:J=>h(J.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Update Based on Attendance"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"updateOption",value:"contract",checked:x==="contract",onChange:J=>h(J.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Update Based on Contract Date"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:W,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})}),n&&e.jsx(Xq,{value:n==="dateFrom"?t:r,onChange:ne,onClose:()=>l(null),position:i}),e.jsx(Qt,{})]})}function Qq({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function Zq(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("active"),[n,l]=o.useState(""),[i,d]=o.useState(""),[x,h]=o.useState(!1),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(!1),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState([]),[S,P]=o.useState([]),[D,T]=o.useState(1),[A,M]=o.useState(1),L=10,[q,B]=o.useState(!1);o.useEffect(()=>{T(1)},[t]);const[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState(!1),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),ve=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ee=>({id:Ee.ID||Ee.id,code:Ee.groupCode||Ee.code,description:Ee.groupDescription||Ee.description}));o.useEffect(()=>{(async()=>{const Ee=await ve();R(Ee)})()},[]);const Me=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ee=>({id:Ee.braID||Ee.ID,code:Ee.braCode||Ee.code,description:Ee.braDesc||Ee.description}));o.useEffect(()=>{(async()=>{const Ee=await Me();J(Ee)})()},[]);const Te=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ee=>({id:Ee.depID||Ee.ID,code:Ee.depCode||Ee.code,description:Ee.depDesc||Ee.description}));o.useEffect(()=>{(async()=>{const Ee=await Te();U(Ee)})()},[]);const Le=async()=>{const ce=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.grpSchID||pe.id||pe.ID,code:pe.grpCode||pe.code,description:pe.grpDesc||pe.description}))};o.useEffect(()=>{(async()=>{const Ee=await Le();ye(Ee)})()},[]);const ot=async()=>{const ce=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.lineID??pe.ID??pe.id,code:pe.lineCode??pe.code,description:pe.lineDesc??pe.Description??pe.description}))};o.useEffect(()=>{(async()=>{const Ee=await ot();xe(Ee)})()},[]);const Je=async()=>{const ce=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.secID??pe.ID??pe.id,code:pe.secCode??pe.sectionCode??pe.code,description:pe.secDesc??pe.Description??pe.description}))};o.useEffect(()=>{(async()=>{const Ee=await Je();Ae(Ee)})()},[]);const Ge=async()=>{const ce=await ae.get("/EmployeeMasterFile");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.empID??pe.ID??pe.id,code:pe.empCode||pe.code||"",name:`${pe.lName||""}, ${pe.fName||""} ${pe.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ee=await Ge();qe(Ee)})()},[]);const mt=(()=>{switch(t){case"Branch":return ne;case"Department":return I;case"Group Schedule":return he;case"Pay House":return ge;case"Section":return Fe;default:return fe}})().filter(ce=>ce.code.toLowerCase().includes(p.toLowerCase())||ce.description.toLowerCase().includes(p.toLowerCase())),jt=Ve.filter(ce=>ce.code.toLowerCase().includes(g.toLowerCase())||ce.name.toLowerCase().includes(g.toLowerCase())),we=Math.ceil(mt.length/L),Re=(D-1)*L,me=Re+L,Ye=mt.slice((D-1)*L,D*L),pt=()=>{const ce=[];if(we<=7)for(let Ee=1;Ee<=we;Ee++)ce.push(Ee);else if(D<=4){for(let Ee=1;Ee<=5;Ee++)ce.push(Ee);ce.push("..."),ce.push(we)}else if(D>=we-3){ce.push(1),ce.push("...");for(let Ee=we-4;Ee<=we;Ee++)ce.push(Ee)}else{ce.push(1),ce.push("...");for(let Ee=D-1;Ee<=D+1;Ee++)ce.push(Ee);ce.push("..."),ce.push(we)}return ce},Ft=Math.ceil(jt.length/L),Bt=(A-1)*L,Lt=Bt+L,Qe=jt.slice((A-1)*L,A*L),gt=()=>{const ce=[];if(Ft<=5)return Array.from({length:Ft},(ut,_t)=>_t+1);ce.push(1),A>3&&ce.push("...");const pe=Math.max(2,A-1),at=Math.min(Ft-1,A+1);for(let ut=pe;ut<=at;ut++)ce.push(ut);return A<Ft-2&&ce.push("..."),ce.push(Ft),ce},vt=ce=>{j(Ee=>Ee.includes(ce)?Ee.filter(pe=>pe!==ce):[...Ee,ce])},xt=ce=>{P(Ee=>Ee.includes(ce)?Ee.filter(pe=>pe!==ce):[...Ee,ce])},Ct=()=>{C.length===mt.length?j([]):j(mt.map(ce=>ce.id))},Nt=()=>{S.length===jt.length?P([]):P(jt.map(ce=>ce.id))},$e=async()=>{if(!S.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!i){await Q.fire({icon:"error",title:"Error",text:"Please select Date.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Employees Overtime Application.",timer:2e3,showConfirmButton:!1}),j([]),P([]),d(""),l("")}catch(ce){console.error(ce),alert("Failed to update records")}finally{B(!1)}},Ke=ce=>{const Ee=ce.currentTarget.getBoundingClientRect();b({top:Ee.bottom+5,left:Ee.left}),h(!0)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Overtime Application"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee overtime application records. Select groups and employees, then set the allowed OT hours and date."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select by TK Group, Branch, or Department"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(ce=>e.jsxs("button",{onClick:()=>s(ce.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ce.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ce.icon,{className:"w-4 h-4"}),ce.name]},ce.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ce=>v(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===mt.length&&mt.length>0,onChange:Ct,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ye.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(ce.id),onChange:()=>vt(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.description})]},ce.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",jt.length===0?0:Re+1," to ",Math.min(me,mt.length)," of ",mt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>T(ce=>Math.max(ce-1,1)),disabled:D===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),pt().map((ce,Ee)=>ce==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ee}`):e.jsx("button",{onClick:()=>T(ce),className:`px-2 py-1 rounded text-xs ${D===ce?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},ce)),e.jsx("button",{onClick:()=>T(ce=>Math.min(ce+1,we)),disabled:D===we||we===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:ce=>y(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===jt.length&&jt.length>0,onChange:Nt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Qe.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(ce.id),onChange:()=>xt(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.name})]},ce.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Bt+1," to ",Math.min(Lt,jt.length)," of ",jt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(ce=>Math.max(1,ce-1)),disabled:A===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),gt().map((ce,Ee)=>typeof ce=="number"?e.jsx("button",{onClick:()=>M(ce),className:`px-2 py-1 rounded text-xs ${A===ce?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},Ee):e.jsx("span",{className:"px-2",children:ce},Ee)),e.jsx("button",{onClick:()=>M(ce=>Math.min(Ft,ce+1)),disabled:A===Ft,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:r==="active",onChange:()=>a("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:r==="inactive",onChange:()=>a("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:r==="all",onChange:()=>a("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Allowed OT Hours"}),e.jsx("input",{type:"text",value:n,onChange:ce=>l(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:i,onChange:ce=>d(ce.target.value),onClick:Ke,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:i,onChange:d})]})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:ce=>N(ce.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ExcludeEmptRestDay"})]})}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:$e,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})})]})]})}),x&&e.jsx(Qq,{value:i,onChange:ce=>{d(ce),h(!1)},onClose:()=>h(!1),position:m}),e.jsx(Qt,{})]})}function eX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function tX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState("fixed"),[f,N]=o.useState(!1),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState("5/5/2021"),[S,P]=o.useState("05/05/2021"),[D,T]=o.useState(!1),[A,M]=o.useState(1),[L,q]=o.useState(1),[B,te]=o.useState(null),[oe,fe]=o.useState({top:0,left:0}),[R,V]=o.useState(1),W=10,[ne,J]=o.useState(!1);o.useEffect(()=>{M(1)},[t]);const[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),[yt,mt]=o.useState(""),jt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Y=>({id:Y.ID||Y.id,code:Y.groupCode||Y.code,description:Y.groupDescription||Y.description}));o.useEffect(()=>{(async()=>{const Y=await jt();U(Y)})()},[]);const we=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Y=>({id:Y.braID||Y.ID,code:Y.braCode||Y.code,description:Y.braDesc||Y.description}));o.useEffect(()=>{(async()=>{const Y=await we();ye(Y)})()},[]);const Re=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Y=>({id:Y.depID||Y.ID,code:Y.depCode||Y.code,description:Y.depDesc||Y.description}));o.useEffect(()=>{(async()=>{const Y=await Re();xe(Y)})()},[]);const me=async()=>{const G=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(G.data)?G.data:[]).map(_=>({id:_.grpSchID||_.id||_.ID,code:_.grpCode||_.code,description:_.grpDesc||_.description}))};o.useEffect(()=>{(async()=>{const Y=await me();Ae(Y)})()},[]);const Ye=async()=>{const G=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(G.data)?G.data:[]).map(_=>({id:_.lineID??_.ID??_.id,code:_.lineCode??_.code,description:_.lineDesc??_.Description??_.description}))};o.useEffect(()=>{(async()=>{const Y=await Ye();qe(Y)})()},[]);const pt=async()=>{const G=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(G.data)?G.data:[]).map(_=>({id:_.secID??_.ID??_.id,code:_.secCode??_.sectionCode??_.code,description:_.secDesc??_.Description??_.description}))};o.useEffect(()=>{(async()=>{const Y=await pt();Le(Y)})()},[]);const Ft=async()=>{const G=await ae.get("/EmployeeMasterFile");return(Array.isArray(G.data)?G.data:[]).map(_=>({id:_.empID??_.ID??_.id,code:_.empCode||_.code||"",name:`${_.lName||""}, ${_.fName||""} ${_.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Y=await Ft();et(Y)})()},[]);const Qe=(()=>{switch(t){case"Branch":return he;case"Department":return ge;case"Group Schedule":return Fe;case"Pay House":return Ve;case"Section":return Te;default:return I}})().filter(G=>G.code.toLowerCase().includes(r.toLowerCase())||G.description.toLowerCase().includes(r.toLowerCase())),gt=Ge.filter(G=>G.code.toLowerCase().includes(n.toLowerCase())||G.name.toLowerCase().includes(n.toLowerCase())),vt=Math.ceil(Qe.length/W),xt=(A-1)*W,Ct=xt+W,Nt=Qe.slice((A-1)*W,A*W),$e=()=>{const G=[];if(vt<=7)for(let Y=1;Y<=vt;Y++)G.push(Y);else if(A<=4){for(let Y=1;Y<=5;Y++)G.push(Y);G.push("..."),G.push(vt)}else if(A>=vt-3){G.push(1),G.push("...");for(let Y=vt-4;Y<=vt;Y++)G.push(Y)}else{G.push(1),G.push("...");for(let Y=A-1;Y<=A+1;Y++)G.push(Y);G.push("..."),G.push(vt)}return G},Ke=Math.ceil(gt.length/W),ce=(L-1)*W,Ee=ce+W,pe=gt.slice((L-1)*W,L*W),at=()=>{const G=[];if(Ke<=5)return Array.from({length:Ke},(_e,Ie)=>Ie+1);G.push(1),L>3&&G.push("...");const _=Math.max(2,L-1),ie=Math.min(Ke-1,L+1);for(let _e=_;_e<=ie;_e++)G.push(_e);return L<Ke-2&&G.push("..."),G.push(Ke),G},ut=G=>{d(Y=>Y.includes(G)?Y.filter(_=>_!==G):[...Y,G])},_t=G=>{h(Y=>Y.includes(G)?Y.filter(_=>_!==G):[...Y,G])},it=()=>{i.length===Qe.length?d([]):d(Qe.map(G=>G.id))},bt=()=>{x.length===gt.length?h([]):h(gt.map(G=>G.id))},se=async()=>{if(!x.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(m=="fixed"&&p.length===0){await Q.fire({icon:"error",title:"Error",text:"Daily Time Schedule should not be empty.",timer:2e3,showConfirmButton:!0});return}if(m=="variable"){if(g.length===0){await Q.fire({icon:"error",title:"Error",text:"Workshift should not be empty.",timer:2e3,showConfirmButton:!0});return}if(!C||!S){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}}if(m.length==0){await Q.fire({icon:"error",title:"Error",text:"Workshift should not be empty.",timer:2e3,showConfirmButton:!0});return}try{J(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Employee Workshift.",timer:2e3,showConfirmButton:!1}),d([]),h([]),j(""),P("")}catch(G){console.error(G),alert("Failed to update records")}finally{J(!1)}},ue=G=>{const Y=G.currentTarget.getBoundingClientRect();fe({top:Y.bottom+5,left:Y.left}),te(G.currentTarget.name)},Z=G=>{B==="dateFrom"?j(G):B==="dateTo"&&P(G),te(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Workshift"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee workshift assignments. Select groups and employees, choose between fixed or variable schedules, and set date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Fixed or variable workshifts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update multiple employees"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(G=>e.jsxs("button",{onClick:()=>s(G.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===G.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(G.icon,{className:"w-4 h-4"}),G.name]},G.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:G=>a(G.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===Qe.length&&Qe.length>0,onChange:it,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Nt.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(G.id),onChange:()=>ut(G.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:G.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:G.description})]},G.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",gt.length===0?0:xt+1," to ",Math.min(Ct,Qe.length)," of ",Qe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>M(G=>Math.max(G-1,1)),disabled:A===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),$e().map((G,Y)=>G==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Y}`):e.jsx("button",{onClick:()=>M(G),className:`px-2 py-1 rounded text-xs ${A===G?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:G},G)),e.jsx("button",{onClick:()=>M(G=>Math.min(G+1,vt)),disabled:A===vt||vt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:G=>l(G.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:x.length===gt.length&&gt.length>0,onChange:bt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:pe.map(G=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:x.includes(G.id),onChange:()=>_t(G.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:G.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:G.name})]},G.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ce+1," to ",Math.min(Ee,gt.length)," of ",gt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>q(G=>Math.max(1,G-1)),disabled:L===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),at().map((G,Y)=>typeof G=="number"?e.jsx("button",{onClick:()=>q(G),className:`px-2 py-1 rounded text-xs ${L===G?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:G},Y):e.jsx("span",{className:"px-2",children:G},Y)),e.jsx("button",{onClick:()=>q(G=>Math.min(Ke,G+1)),disabled:L===Ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"workshiftType",value:"fixed",checked:m==="fixed",onChange:()=>b("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Daily Schedule"}),e.jsx("input",{type:"text",value:p,onChange:G=>v(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"workshiftType",value:"variable",checked:m==="variable",onChange:()=>b("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Workshift"}),e.jsx("input",{type:"text",value:g,onChange:G=>y(G.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:G=>N(G.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"With Date Range"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:C,onChange:G=>j(G.target.value),onClick:ue,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:S,onChange:G=>P(G.target.value),onClick:ue,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:S,onChange:P})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:G=>T(G.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Workshift"})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2 ml-auto",onClick:se,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})]})]})})]})]})}),B&&e.jsx(eX,{value:B==="dateFrom"?C:S,onChange:Z,onClose:()=>te(null),position:oe}),e.jsx(Qt,{})]})}function nD({isOpen:t,onClose:s,onSelect:r}){const[a,n]=o.useState(""),[l,i]=o.useState([]),[d,x]=o.useState(!1),[h,m]=o.useState(1),b=10,f=async()=>{x(!0);try{const D=await ae.get("/Fs/Process/LeaveTypeSetUp");D.status===200&&D.data&&i(D.data)}catch(D){const T=D.response?.data?.message||D.message||"Failed to load leave types";await Q.fire({icon:"error",title:"Error",text:T}),console.error("Error fetching leave types:",D)}finally{x(!1)}};o.useEffect(()=>{t&&(n(""),m(1),f())},[t]);const N=l.filter(D=>(D.leaveCode?.toLowerCase()||"").includes(a.toLowerCase())||(D.leaveDesc?.toLowerCase()||"").includes(a.toLowerCase())),p=Math.ceil(N.length/b),v=(h-1)*b,g=v+b,y=N.slice(v,g),C=()=>{const D=[];if(p<=5)for(let A=1;A<=p;A++)D.push(A);else if(h<=3){for(let A=1;A<=4;A++)D.push(A);D.push("..."),D.push(p)}else if(h>=p-2){D.push(1),D.push("...");for(let A=p-3;A<=p;A++)D.push(A)}else D.push(1),D.push("..."),D.push(h-1),D.push(h),D.push(h+1),D.push("..."),D.push(p);return D},j=D=>{m(D)},S=()=>{h>1&&m(h-1)},P=()=>{h<p&&m(h+1)};return o.useEffect(()=>{m(1)},[a]),o.useEffect(()=>{const D=T=>{T.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[t,s]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[70] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Leave Type"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Leave Type Setup"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:D=>n(D.target.value),placeholder:"Search by code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),d?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading leave types..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Leave Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Chargeable To",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["With Pay",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-3 py-8 text-center text-gray-500",children:"No leave types found"})}):y.map(D=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(D.leaveCode),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:D.leaveCode}),e.jsx("td",{className:"px-3 py-1.5",children:D.leaveDesc}),e.jsx("td",{className:"px-3 py-1.5",children:D.chargeableTo}),e.jsx("td",{className:"px-3 py-1.5",children:D.withPay})]},D.leaveID))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",N.length>0?v+1:0," to ",Math.min(g,N.length)," of ",N.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:S,disabled:h===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),C().map((D,T)=>typeof D=="number"?e.jsx("button",{onClick:()=>j(D),className:`px-2 py-1 rounded text-xs ${h===D?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:D},T):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:D},T)),e.jsx("button",{onClick:P,disabled:h===p||p===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}):null}function sX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function rX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState(0),[p,v]=o.useState(!1),[g,y]=o.useState(!1),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState([]),[A,M]=o.useState([]),[L,q]=o.useState(1),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(""),[ne,J]=o.useState(""),[H,F]=o.useState(""),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState(!1),[be,je]=o.useState(!1);o.useEffect(()=>{q(1)},[t]);const[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),[Ye,pt]=o.useState(!1),[Ft,Bt]=o.useState([]),[Lt,Qe]=o.useState(!1),[gt,vt]=o.useState([]),[xt,Ct]=o.useState(!1),[Nt,$e]=o.useState([]),[Ke,ce]=o.useState(""),Ee=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(zt=>({id:zt.ID||zt.id,code:zt.groupCode||zt.code,description:zt.groupDescription||zt.description}));o.useEffect(()=>{(async()=>{const zt=await Ee();De(zt)})()},[]);const pe=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(zt=>({id:zt.braID||zt.ID,code:zt.braCode||zt.code,description:zt.braDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await pe();He(zt)})()},[]);const at=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(zt=>({id:zt.depID||zt.ID,code:zt.depCode||zt.code,description:zt.depDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await at();Me(zt)})()},[]);const ut=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(zt=>({id:zt.divID||zt.ID,code:zt.divCode||zt.code,description:zt.divDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await ut();Je(zt)})()},[]);const _t=async()=>{const kt=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(kt.data)?kt.data:[]).map(ds=>({id:ds.grpSchID||ds.id||ds.ID,code:ds.grpCode||ds.code,description:ds.grpDesc||ds.description}))};o.useEffect(()=>{(async()=>{const zt=await _t();mt(zt)})()},[]);const it=async()=>{const kt=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(kt.data)?kt.data:[]).map(ds=>({id:ds.lineID??ds.ID??ds.id,code:ds.lineCode??ds.code,description:ds.lineDesc??ds.Description??ds.description}))};o.useEffect(()=>{(async()=>{const zt=await it();me(zt)})()},[]);const bt=async()=>{const kt=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(kt.data)?kt.data:[]).map(ds=>({id:ds.secID??ds.ID??ds.id,code:ds.secCode??ds.sectionCode??ds.code,description:ds.secDesc??ds.Description??ds.description}))};o.useEffect(()=>{(async()=>{const zt=await bt();Bt(zt)})()},[]);const se=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(zt=>({id:zt.unitID||zt.ID,code:zt.unitCode||zt.code,description:zt.unitDesc||zt.description}));o.useEffect(()=>{(async()=>{const zt=await se();vt(zt)})()},[]);const ue=async()=>{const kt=await ae.get("/EmployeeMasterFile");return(Array.isArray(kt.data)?kt.data:[]).map(ds=>({id:ds.empID??ds.ID??ds.id,code:ds.empCode||ds.code||"",name:`${ds.lName||""}, ${ds.fName||""} ${ds.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const zt=await ue();$e(zt)})()},[]);const Z=async()=>{try{const kt=await ae.get("/Fs/Employment/LeaveCodeSetUp");return(Array.isArray(kt.data)?kt.data:[]).map(ds=>({id:ds.lcID??ds.ID??ds.id,code:ds.lcCode??ds.code??ds.leaveCode??"",description:ds.lcDesc??ds.Description??ds.description??""}))}catch(kt){return console.error("Failed to fetch leave codes",kt),[]}};o.useEffect(()=>{(async()=>{O(!0);const zt=await Z();U(zt),O(!1)})()},[]);const Y=(()=>{switch(t){case"Branch":return ze;case"Department":return ve;case"Division":return ot;case"Group Schedule":return yt;case"Pay House":return Re;case"Section":return Ft;case"Unit":return gt;default:return Se}})(),_=(kt,zt)=>{W(kt),J(zt),ye(!1)},ie=Y.filter(kt=>kt.code.toLowerCase().includes(C.toLowerCase())||kt.description.toLowerCase().includes(C.toLowerCase())),_e=Nt.filter(kt=>kt.code.toLowerCase().includes(S.toLowerCase())||kt.name.toLowerCase().includes(S.toLowerCase())),Ie=Math.ceil(ie.length/R),ke=(L-1)*R,X=ke+R,Ne=ie.slice((L-1)*R,L*R),ee=()=>{const kt=[];if(Ie<=7)for(let zt=1;zt<=Ie;zt++)kt.push(zt);else if(L<=4){for(let zt=1;zt<=5;zt++)kt.push(zt);kt.push("..."),kt.push(Ie)}else if(L>=Ie-3){kt.push(1),kt.push("...");for(let zt=Ie-4;zt<=Ie;zt++)kt.push(zt)}else{kt.push(1),kt.push("...");for(let zt=L-1;zt<=L+1;zt++)kt.push(zt);kt.push("..."),kt.push(Ie)}return kt},de=Math.ceil(_e.length/R),re=(B-1)*R,We=re+R,ft=_e.slice((B-1)*R,B*R),$t=()=>{const kt=[];if(de<=5)return Array.from({length:de},(Tt,Ht)=>Ht+1);kt.push(1),B>3&&kt.push("...");const ds=Math.max(2,B-1),Js=Math.min(de-1,B+1);for(let Tt=ds;Tt<=Js;Tt++)kt.push(Tt);return B<de-2&&kt.push("..."),kt.push(de),kt},z=kt=>{T(zt=>zt.includes(kt)?zt.filter(ds=>ds!==kt):[...zt,kt])},Pe=kt=>{M(zt=>zt.includes(kt)?zt.filter(ds=>ds!==kt):[...zt,kt])},Xe=()=>{D.length===ie.length?T([]):T(ie.map(kt=>kt.id))},as=()=>{A.length===_e.length?M([]):M(_e.map(kt=>kt.id))},us=async()=>{if(!A.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(V.length===0){await Q.fire({icon:"error",title:"Error",text:"Leave code should not be empty.",timer:2e3,showConfirmButton:!0});return}if(f<1){await Q.fire({icon:"error",title:"Error",text:"must have value and greater than to 0.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{je(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Employees Leave Application.",timer:2e3,showConfirmButton:!1}),T([]),M([]),a(""),l("")}catch(kt){console.error(kt),alert("Failed to update records")}finally{je(!1)}},tt=kt=>{const zt=kt.currentTarget.getBoundingClientRect();h({top:zt.bottom+5,left:zt.left}),d(kt.currentTarget.name)},Zt=kt=>{i==="dateFrom"?a(kt):i==="dateTo"&&l(kt),d(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Leave Application"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee leave applications. Select groups and employees, configure leave details including hours, period, and leave type."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update leave applications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure leave hours and periods"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(kt=>e.jsxs("button",{onClick:()=>s(kt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===kt.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(kt.icon,{className:"w-4 h-4"}),kt.name]},kt.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:C,onChange:kt=>j(kt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:D.length===ie.length&&ie.length>0,onChange:Xe,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ne.map(kt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:D.includes(kt.id),onChange:()=>z(kt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:kt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:kt.description})]},kt.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",_e.length===0?0:ke+1," to ",Math.min(X,ie.length)," of ",ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>q(kt=>Math.max(kt-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ee().map((kt,zt)=>kt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${zt}`):e.jsx("button",{onClick:()=>q(kt),className:`px-2 py-1 rounded text-xs ${L===kt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:kt},kt)),e.jsx("button",{onClick:()=>q(kt=>Math.min(kt+1,Ie)),disabled:L===Ie||Ie===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:kt=>P(kt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===_e.length&&_e.length>0,onChange:as,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ft.map(kt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(kt.id),onChange:()=>Pe(kt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:kt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:kt.name})]},kt.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",re+1," to ",Math.min(We,_e.length)," of ",_e.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>te(kt=>Math.max(1,kt-1)),disabled:B===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),$t().map((kt,zt)=>typeof kt=="number"?e.jsx("button",{onClick:()=>te(kt),className:`px-2 py-1 rounded text-xs ${B===kt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:kt},zt):e.jsx("span",{className:"px-2",children:kt},zt)),e.jsx("button",{onClick:()=>te(kt=>Math.min(de,kt+1)),disabled:B===de,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Number Of Hours [hh:mm]"}),e.jsx("input",{type:"text",value:f,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Period"}),e.jsxs("select",{value:m,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Leave Code"}),e.jsx("input",{type:"text",value:V,onChange:kt=>W(kt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>ye(!0),children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:()=>{W(""),J("")},children:e.jsx(nt,{className:"w-4 h-4"})}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:kt=>v(kt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"With Pay"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:kt=>y(kt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"SSS Notification"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:r,onChange:kt=>a(kt.target.value),onClick:tt,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:n,onChange:kt=>l(kt.target.value),onClick:tt,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:us,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),i&&e.jsx(sX,{value:i==="dateFrom"?r:n,onChange:Zt,onClose:()=>d(null),position:x}),e.jsx(Qt,{}),e.jsx(nD,{isOpen:he,onClose:()=>ye(!1),onSelect:_,leaveCodeItems:I,loading:k,error:H})]})}function aX({isOpen:t,onClose:s,onSelect:r,payHouseItems:a,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const y=C=>{C.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=a.filter(y=>y.code.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),g=()=>{const y=[];if(f<=5)return Array.from({length:f},(P,D)=>D+1);y.push(1),x>3&&y.push("...");const j=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=j;P<=S;P++)y.push(P);return x<f-2&&y.push("..."),y.push(f),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Pay House Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{d(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading employees..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(y.id.toString(),y.code),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.code}),e.jsx("td",{className:"px-3 py-1.5",children:y.description})]},y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No items found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),g().map((y,C)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${C}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${x===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function nX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState(1),[g,y]=o.useState(1),C=10,[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(!1),[M,L]=o.useState(!1);o.useEffect(()=>{N(1)},[t]);const[q,B]=o.useState(!1),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(""),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),[yt,mt]=o.useState(""),jt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(_=>({id:_.ID||_.id,code:_.groupCode||_.code,description:_.groupDescription||_.description}));o.useEffect(()=>{(async()=>{const _=await jt();oe(_)})()},[]);const we=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(_=>({id:_.braID||_.ID,code:_.braCode||_.code,description:_.braDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await we();W(_)})()},[]);const Re=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(_=>({id:_.depID||_.ID,code:_.depCode||_.code,description:_.depDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Re();F(_)})()},[]);const me=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(_=>({id:_.divID||_.ID,code:_.divCode||_.code,description:_.divDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await me();O(_)})()},[]);const Ye=async()=>{const Y=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.grpSchID||ie.id||ie.ID,code:ie.grpCode||ie.code,description:ie.grpDesc||ie.description}))};o.useEffect(()=>{(async()=>{const _=await Ye();je(_)})()},[]);const pt=async()=>{const Y=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.lineID??ie.ID??ie.id,code:ie.lineCode??ie.code,description:ie.lineDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const _=await pt();De(_)})()},[]);const Ft=async()=>{const Y=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.secID??ie.ID??ie.id,code:ie.secCode??ie.sectionCode??ie.code,description:ie.secDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const _=await Ft();qe(_)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(_=>({id:_.unitID||_.ID,code:_.unitCode||_.code,description:_.unitDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Bt();Le(_)})()},[]);const Lt=async()=>{const Y=await ae.get("/EmployeeMasterFile");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.empID??ie.ID??ie.id,code:ie.empCode||ie.code||"",name:`${ie.lName||""}, ${ie.fName||""} ${ie.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const _=await Lt();et(_)})()},[]);const gt=(()=>{switch(t){case"Branch":return V;case"Department":return H;case"Division":return k;case"Group Schedule":return be;case"Pay House":return Se;case"Section":return Ve;case"Unit":return Te;default:return te}})(),vt=(Y,_)=>{S(Y),D(_),A(!1)},xt=gt.filter(Y=>Y.code.toLowerCase().includes(r.toLowerCase())||Y.description.toLowerCase().includes(r.toLowerCase())),Ct=Ge.filter(Y=>Y.code.toLowerCase().includes(n.toLowerCase())||Y.name.toLowerCase().includes(n.toLowerCase())),Nt=Math.ceil(xt.length/C),$e=(f-1)*C,Ke=$e+C,ce=xt.slice((f-1)*C,f*C),Ee=()=>{const Y=[];if(Nt<=7)for(let _=1;_<=Nt;_++)Y.push(_);else if(f<=4){for(let _=1;_<=5;_++)Y.push(_);Y.push("..."),Y.push(Nt)}else if(f>=Nt-3){Y.push(1),Y.push("...");for(let _=Nt-4;_<=Nt;_++)Y.push(_)}else{Y.push(1),Y.push("...");for(let _=f-1;_<=f+1;_++)Y.push(_);Y.push("..."),Y.push(Nt)}return Y},pe=Math.ceil(Ct.length/C),at=(p-1)*C,ut=at+C,_t=Ct.slice((p-1)*C,p*C),it=()=>{const Y=[];if(pe<=5)return Array.from({length:pe},(Ie,ke)=>ke+1);Y.push(1),p>3&&Y.push("...");const ie=Math.max(2,p-1),_e=Math.min(pe-1,p+1);for(let Ie=ie;Ie<=_e;Ie++)Y.push(Ie);return p<pe-2&&Y.push("..."),Y.push(pe),Y},bt=Y=>{d(_=>_.includes(Y)?_.filter(ie=>ie!==Y):[..._,Y])},se=Y=>{h(_=>_.includes(Y)?_.filter(ie=>ie!==Y):[..._,Y])},ue=()=>{i.length===xt.length?d([]):d(xt.map(Y=>Y.id))},Z=()=>{x.length===Ct.length?h([]):h(Ct.map(Y=>Y.id))},G=async()=>{if(!x.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(P.length===0){await Q.fire({icon:"error",title:"Error",text:"Pay House code should not be empty.",timer:2e3,showConfirmButton:!0});return}try{L(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Employees Pay House.",timer:2e3,showConfirmButton:!1}),d([]),h([]),D("")}catch(Y){console.error(Y),alert("Failed to update records")}finally{L(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Pay House"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(er,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee pay house assignments. Select groups and employees to reassign them to different pay houses."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update pay house assignments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Quick search and assign"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(Y=>e.jsxs("button",{onClick:()=>s(Y.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Y.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Y.icon,{className:"w-4 h-4"}),Y.name]},Y.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:Y=>a(Y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===xt.length&&xt.length>0,onChange:ue,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(Y.id),onChange:()=>bt(Y.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Y.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Y.description})]},Y.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ct.length===0?0:$e+1," to ",Math.min(Ke,xt.length)," of ",xt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N(Y=>Math.max(Y-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ee().map((Y,_)=>Y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${_}`):e.jsx("button",{onClick:()=>N(Y),className:`px-2 py-1 rounded text-xs ${f===Y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Y},Y)),e.jsx("button",{onClick:()=>N(Y=>Math.min(Y+1,Nt)),disabled:f===Nt||Nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:Y=>l(Y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:x.length===Ct.length&&Ct.length>0,onChange:Z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:x.includes(Y.id),onChange:()=>se(Y.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Y.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Y.name})]},Y.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",at+1," to ",Math.min(ut,Ct.length)," of ",Ct.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>v(Y=>Math.max(1,Y-1)),disabled:p===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),it().map((Y,_)=>typeof Y=="number"?e.jsx("button",{onClick:()=>v(Y),className:`px-2 py-1 rounded text-xs ${p===Y?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Y},_):e.jsx("span",{className:"px-2",children:Y},_)),e.jsx("button",{onClick:()=>v(Y=>Math.min(pe,Y+1)),disabled:p===pe,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Pay House Code"}),e.jsx("input",{type:"text",value:j&&P?`${P}`:"",onChange:Y=>D(Y.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{onClick:()=>A(!0),className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{D("")},className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:G,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),e.jsx(Qt,{}),e.jsx(aX,{isOpen:T,onClose:()=>A(!1),onSelect:vt,payHouseItems:Se,loading:ge,error:Fe})]})}function oX({isOpen:t,onClose:s,onSelect:r,employeeClassItems:a,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const y=C=>{C.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=a.filter(y=>y.code.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),g=()=>{const y=[];if(f<=5)return Array.from({length:f},(P,D)=>D+1);y.push(1),x>3&&y.push("...");const j=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=j;P<=S;P++)y.push(P);return x<f-2&&y.push("..."),y.push(f),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Classification Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{d(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading Leave Codes..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(y.id.toString(),y.code),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.code}),e.jsx("td",{className:"px-3 py-1.5",children:y.description})]},y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No items found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),g().map((y,C)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${C}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${x===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function lX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function iX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState("fixed"),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState([]),[S,P]=o.useState(1),[D,T]=o.useState(1),[A,M]=o.useState(1),L=10,[q,B]=o.useState(""),[te,oe]=o.useState(""),[fe,R]=o.useState(""),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(!1);o.useEffect(()=>{P(1)},[t]);const[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),[yt,mt]=o.useState(!1),[jt,we]=o.useState([]),[Re,me]=o.useState(!1),[Ye,pt]=o.useState([]),[Ft,Bt]=o.useState(!1),[Lt,Qe]=o.useState([]),[gt,vt]=o.useState(""),xt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Pe=>({id:Pe.ID||Pe.id,code:Pe.groupCode||Pe.code,description:Pe.groupDescription||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await xt();ye(Pe)})()},[]);const Ct=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Pe=>({id:Pe.braID||Pe.ID,code:Pe.braCode||Pe.code,description:Pe.braDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Ct();xe(Pe)})()},[]);const Nt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Pe=>({id:Pe.depID||Pe.ID,code:Pe.depCode||Pe.code,description:Pe.depDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Nt();Ae(Pe)})()},[]);const $e=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Pe=>({id:Pe.divID||Pe.ID,code:Pe.divCode||Pe.code,description:Pe.divDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await $e();qe(Pe)})()},[]);const Ke=async()=>{const z=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.grpSchID||Xe.id||Xe.ID,code:Xe.grpCode||Xe.code,description:Xe.grpDesc||Xe.description}))};o.useEffect(()=>{(async()=>{const Pe=await Ke();Le(Pe)})()},[]);const ce=async()=>{const z=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.lineID??Xe.ID??Xe.id,code:Xe.lineCode??Xe.code,description:Xe.lineDesc??Xe.Description??Xe.description}))};o.useEffect(()=>{(async()=>{const Pe=await ce();et(Pe)})()},[]);const Ee=async()=>{const z=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.secID??Xe.ID??Xe.id,code:Xe.secCode??Xe.sectionCode??Xe.code,description:Xe.secDesc??Xe.Description??Xe.description}))};o.useEffect(()=>{(async()=>{const Pe=await Ee();we(Pe)})()},[]);const pe=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Pe=>({id:Pe.unitID||Pe.ID,code:Pe.unitCode||Pe.code,description:Pe.unitDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await pe();pt(Pe)})()},[]);const at=async()=>{const z=await ae.get("/EmployeeMasterFile");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.empID??Xe.ID??Xe.id,code:Xe.empCode||Xe.code||"",name:`${Xe.lName||""}, ${Xe.fName||""} ${Xe.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Pe=await at();Qe(Pe)})()},[]);const _t=(()=>{switch(t){case"Branch":return ge;case"Department":return Fe;case"Division":return Ve;case"Group Schedule":return Te;case"Pay House":return Ge;case"Section":return jt;case"Unit":return Ye;default:return he}})(),it=(z,Pe)=>{B(z),oe(Pe),F(!1)},bt=_t.filter(z=>z.code.toLowerCase().includes(f.toLowerCase())||z.description.toLowerCase().includes(f.toLowerCase())),se=Lt.filter(z=>z.code.toLowerCase().includes(p.toLowerCase())||z.name.toLowerCase().includes(p.toLowerCase())),ue=Math.ceil(bt.length/L),Z=(S-1)*L,G=Z+L,Y=bt.slice((S-1)*L,S*L),_=()=>{const z=[];if(ue<=7)for(let Pe=1;Pe<=ue;Pe++)z.push(Pe);else if(S<=4){for(let Pe=1;Pe<=5;Pe++)z.push(Pe);z.push("..."),z.push(ue)}else if(S>=ue-3){z.push(1),z.push("...");for(let Pe=ue-4;Pe<=ue;Pe++)z.push(Pe)}else{z.push(1),z.push("...");for(let Pe=S-1;Pe<=S+1;Pe++)z.push(Pe);z.push("..."),z.push(ue)}return z},ie=Math.ceil(se.length/L),_e=(D-1)*L,Ie=_e+L,ke=se.slice((D-1)*L,D*L),X=()=>{const z=[];if(ie<=5)return Array.from({length:ie},(us,tt)=>tt+1);z.push(1),D>3&&z.push("...");const Xe=Math.max(2,D-1),as=Math.min(ie-1,D+1);for(let us=Xe;us<=as;us++)z.push(us);return D<ie-2&&z.push("..."),z.push(ie),z},Ne=async()=>{if(!C.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(m=="fixed"){if(te.length===0){await Q.fire({icon:"error",title:"Error",text:"Classification should not be empty.",timer:2e3,showConfirmButton:!0});return}}else if(m=="variable"&&(!r||!n)){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{U(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Employee Classification.",timer:2e3,showConfirmButton:!1}),y([]),j([]),a(""),l("")}catch(z){console.error(z),alert("Failed to update records")}finally{U(!1)}},ee=z=>{y(Pe=>Pe.includes(z)?Pe.filter(Xe=>Xe!==z):[...Pe,z])},de=z=>{j(Pe=>Pe.includes(z)?Pe.filter(Xe=>Xe!==z):[...Pe,z])},re=()=>{g.length===bt.length?y([]):y(bt.map(z=>z.id))},We=()=>{C.length===se.length?j([]):j(se.map(z=>z.id))},ft=z=>{const Pe=z.currentTarget.getBoundingClientRect();h({top:Pe.bottom+5,left:Pe.left}),d(z.currentTarget.name)},$t=z=>{i==="dateFrom"?a(z):i==="dateTo"&&l(z),d(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Classification"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(bC,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee classification records. Choose between fixed or variable classification types and set effective date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Fixed or variable classifications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update with date range"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(z=>e.jsxs("button",{onClick:()=>s(z.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===z.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(z.icon,{className:"w-4 h-4"}),z.name]},z.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:z=>N(z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:g.length===bt.length&&bt.length>0,onChange:re,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Y.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:g.includes(z.id),onChange:()=>ee(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.description})]},z.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",se.length===0?0:Z+1," to ",Math.min(G,bt.length)," of ",bt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(z=>Math.max(z-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((z,Pe)=>z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Pe}`):e.jsx("button",{onClick:()=>P(z),className:`px-2 py-1 rounded text-xs ${S===z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},z)),e.jsx("button",{onClick:()=>P(z=>Math.min(z+1,ue)),disabled:S===ue||ue===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:z=>v(z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===se.length&&se.length>0,onChange:We,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ke.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(z.id),onChange:()=>de(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.name})]},z.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",_e+1," to ",Math.min(Ie,se.length)," of ",se.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>T(z=>Math.max(1,z-1)),disabled:D===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),X().map((z,Pe)=>typeof z=="number"?e.jsx("button",{onClick:()=>T(z),className:`px-2 py-1 rounded text-xs ${D===z?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},Pe):e.jsx("span",{className:"px-2",children:z},Pe)),e.jsx("button",{onClick:()=>T(z=>Math.min(ie,z+1)),disabled:D===ie,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"classificationType",value:"fixed",checked:m==="fixed",onChange:()=>b("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Classification"}),e.jsx("input",{type:"text",value:te,onChange:z=>oe(z.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>F(!0),children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:()=>{B(""),oe("")},children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"classificationType",value:"variable",checked:m==="variable",onChange:()=>b("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:r,onChange:z=>a(z.target.value),onClick:ft,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:n,onChange:z=>l(z.target.value),onClick:ft,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:Ne,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),i&&e.jsx(lX,{value:i==="dateFrom"?r:n,onChange:$t,onClose:()=>d(null),position:x}),e.jsx(Qt,{}),e.jsx(oX,{isOpen:H,onClose:()=>F(!1),onSelect:it,employeeClassItems:V,loading:ne,error:fe})]})}function cX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState([]),[x,h]=o.useState([]),[m,b]=o.useState(1),[f,N]=o.useState(1),[p,v]=o.useState("fixed"),[g,y]=o.useState(!1),[C,j]=o.useState(1),S=10,[P,D]=o.useState(!1),[T,A]=o.useState(""),[M,L]=o.useState(""),[q,B]=o.useState(""),[te,oe]=o.useState(""),[fe,R]=o.useState(""),[V,W]=o.useState(""),[ne,J]=o.useState(""),[H,F]=o.useState(""),[I,U]=o.useState([]),[k,O]=o.useState(""),[he,ye]=o.useState(""),[be,je]=o.useState("");o.useEffect(()=>{b(1)},[t]);const[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),[Ye,pt]=o.useState(!1),[Ft,Bt]=o.useState([]),[Lt,Qe]=o.useState(""),gt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(re=>({id:re.ID||re.id,code:re.groupCode||re.code,description:re.groupDescription||re.description}));o.useEffect(()=>{(async()=>{const re=await gt();De(re)})()},[]);const vt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(re=>({id:re.braID||re.ID,code:re.braCode||re.code,description:re.braDesc||re.description}));o.useEffect(()=>{(async()=>{const re=await vt();He(re)})()},[]);const xt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(re=>({id:re.depID||re.ID,code:re.depCode||re.code,description:re.depDesc||re.description}));o.useEffect(()=>{(async()=>{const re=await xt();Me(re)})()},[]);const Ct=async()=>{const de=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(de.data)?de.data:[]).map(We=>({id:We.grpSchID||We.id||We.ID,code:We.grpCode||We.code,description:We.grpDesc||We.description}))};o.useEffect(()=>{(async()=>{const re=await Ct();Je(re)})()},[]);const Nt=async()=>{const de=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(de.data)?de.data:[]).map(We=>({id:We.lineID??We.ID??We.id,code:We.lineCode??We.code,description:We.lineDesc??We.Description??We.description}))};o.useEffect(()=>{(async()=>{const re=await Nt();mt(re)})()},[]);const $e=async()=>{const de=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(de.data)?de.data:[]).map(We=>({id:We.secID??We.ID??We.id,code:We.secCode??We.sectionCode??We.code,description:We.secDesc??We.Description??We.description}))};o.useEffect(()=>{(async()=>{const re=await $e();me(re)})()},[]);const Ke=async()=>{const de=await ae.get("/EmployeeMasterFile");return(Array.isArray(de.data)?de.data:[]).map(We=>({id:We.empID??We.ID??We.id,code:We.empCode||We.code||"",name:`${We.lName||""}, ${We.fName||""} ${We.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const re=await Ke();Bt(re)})()},[]);const ce=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],at=(()=>{switch(t){case"Branch":return ze;case"Department":return ve;case"Group Schedule":return ot;case"Pay House":return yt;case"Section":return Re;default:return Se}})().filter(de=>de.code.toLowerCase().includes(r.toLowerCase())||de.description.toLowerCase().includes(r.toLowerCase())),ut=Ft.filter(de=>de.code.toLowerCase().includes(n.toLowerCase())||de.name.toLowerCase().includes(n.toLowerCase())),_t=Math.ceil(at.length/S),it=(m-1)*S,bt=it+S,se=at.slice((m-1)*S,m*S),ue=()=>{const de=[];if(_t<=7)for(let re=1;re<=_t;re++)de.push(re);else if(m<=4){for(let re=1;re<=5;re++)de.push(re);de.push("..."),de.push(_t)}else if(m>=_t-3){de.push(1),de.push("...");for(let re=_t-4;re<=_t;re++)de.push(re)}else{de.push(1),de.push("...");for(let re=m-1;re<=m+1;re++)de.push(re);de.push("..."),de.push(_t)}return de},Z=Math.ceil(ut.length/S),G=(f-1)*S,Y=G+S,_=ut.slice((f-1)*S,f*S),ie=()=>{const de=[];if(Z<=5)return Array.from({length:Z},($t,z)=>z+1);de.push(1),f>3&&de.push("...");const We=Math.max(2,f-1),ft=Math.min(Z-1,f+1);for(let $t=We;$t<=ft;$t++)de.push($t);return f<Z-2&&de.push("..."),de.push(Z),de},_e=async()=>{if(!x.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(p=="fixed"){if(T==M||T==q||M==q){await Q.fire({icon:"error",title:"Error",text:"Restdays must not be equal.",timer:2e3,showConfirmButton:!0});return}}else if(p=="variable"){if(!te||!fe){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(k.length===0){await Q.fire({icon:"error",title:"Error",text:"Variable restday must add atleast 1 item.",timer:2e3,showConfirmButton:!0});return}}else if(p=="restday-setup"&&k.length===0){await Q.fire({icon:"error",title:"Error",text:"Reference number must not be empty.",timer:2e3,showConfirmButton:!0});return}try{D(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Batch Rest Day.",timer:2e3,showConfirmButton:!1}),d([]),h([])}catch(de){console.error(de),alert("Failed to update records")}finally{D(!1)}},Ie=de=>{d(re=>re.includes(de)?re.filter(We=>We!==de):[...re,de])},ke=de=>{h(re=>re.includes(de)?re.filter(We=>We!==de):[...re,de])},X=()=>{i.length===at.length?d([]):d(at.map(de=>de.id))},Ne=()=>{x.length===ut.length?h([]):h(ut.map(de=>de.id))},ee=()=>{if(te&&fe){const de={id:Date.now(),from:te,to:fe,restDay1:V,restDay2:ne,restDay3:H};U([...I,de]),oe(""),R("")}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Batch Rest Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(cs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee rest day assignments in batch. Choose between fixed, variable, or by rest day setup configuration."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update rest days for multiple employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure fixed or variable rest day schedules"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(de=>e.jsxs("button",{onClick:()=>s(de.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===de.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(de.icon,{className:"w-4 h-4"}),de.name]},de.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:de=>a(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===at.length&&at.length>0,onChange:X,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:se.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(de.id),onChange:()=>Ie(de.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:de.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:de.description})]},de.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ut.length===0?0:it+1," to ",Math.min(bt,at.length)," of ",at.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>b(de=>Math.max(de-1,1)),disabled:m===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ue().map((de,re)=>de==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${re}`):e.jsx("button",{onClick:()=>b(de),className:`px-2 py-1 rounded text-xs ${m===de?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:de},de)),e.jsx("button",{onClick:()=>b(de=>Math.min(de+1,_t)),disabled:m===_t||_t===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:de=>l(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:x.length===ut.length&&ut.length>0,onChange:Ne,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:x.includes(de.id),onChange:()=>ke(de.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:de.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:de.name})]},de.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",G+1," to ",Math.min(Y,ut.length)," of ",ut.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>N(de=>Math.max(1,de-1)),disabled:f===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ie().map((de,re)=>typeof de=="number"?e.jsx("button",{onClick:()=>N(de),className:`px-2 py-1 rounded text-xs ${f===de?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:de},re):e.jsx("span",{className:"px-2",children:de},re)),e.jsx("button",{onClick:()=>N(de=>Math.min(Z,de+1)),disabled:f===Z,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="fixed",onChange:()=>v("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),p==="fixed"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 1"}),e.jsxs("select",{value:T,onChange:de=>A(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ce.map(de=>e.jsx("option",{value:de,children:de},de))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 3"}),e.jsxs("select",{value:q,onChange:de=>B(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ce.map(de=>e.jsx("option",{value:de,children:de},de))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 2"}),e.jsxs("select",{value:M,onChange:de=>L(de.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40",children:[e.jsx("option",{value:""}),ce.map(de=>e.jsx("option",{value:de,children:de},de))]})]})]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="variable",onChange:()=>v("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]}),p==="variable"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ee,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Add"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsx("input",{readOnly:!0,type:"text",value:te,onChange:de=>oe(de.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:te,onChange:oe}),e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsx("input",{readOnly:!0,type:"text",value:fe,onChange:de=>R(de.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:fe,onChange:R})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 1"}),e.jsxs("select",{value:V,onChange:de=>W(de.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ce.map(de=>e.jsx("option",{value:de,children:de},de))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 2"}),e.jsxs("select",{value:ne,onChange:de=>J(de.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ce.map(de=>e.jsx("option",{value:de,children:de},de))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 3"}),e.jsxs("select",{value:H,onChange:de=>F(de.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),ce.map(de=>e.jsx("option",{value:de,children:de},de))]})]})]}),I.length>0&&e.jsx("div",{className:"mt-4 bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"From"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"To"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day1"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day2"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day3"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:I.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:de.from}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:de.to}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:de.restDay1}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:de.restDay2}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:de.restDay3})]},de.id))})]})})]})]}),e.jsxs("div",{className:"pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="restday-setup",onChange:()=>v("restday-setup"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"By RestDay Set Up"})]}),p==="restday-setup"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Ref No."}),e.jsx("input",{type:"text",value:k,onChange:de=>O(de.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Search"}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsx("input",{type:"text",value:he,onChange:de=>ye(de.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsx("input",{type:"text",value:be,onChange:de=>je(de.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:de=>y(de.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Rest Day"})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:_e,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})]})]})})]})]})]})]})}),e.jsx(Qt,{})]})}function dX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState("Rest Day"),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState([]),[S,P]=o.useState(1),[D,T]=o.useState(1),[A,M]=o.useState(1),L=10;o.useEffect(()=>{P(1)},[t]);const[q,B]=o.useState(!1),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(""),yt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Z=>({id:Z.ID||Z.id,code:Z.groupCode||Z.code,description:Z.groupDescription||Z.description}));o.useEffect(()=>{(async()=>{const Z=await yt();oe(Z)})()},[]);const mt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Z=>({id:Z.braID||Z.ID,code:Z.braCode||Z.code,description:Z.braDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await mt();W(Z)})()},[]);const jt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Z=>({id:Z.depID||Z.ID,code:Z.depCode||Z.code,description:Z.depDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await jt();F(Z)})()},[]);const we=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Z=>({id:Z.divID||Z.ID,code:Z.divCode||Z.code,description:Z.divDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await we();O(Z)})()},[]);const Re=async()=>{const ue=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ue.data)?ue.data:[]).map(G=>({id:G.grpSchID||G.id||G.ID,code:G.grpCode||G.code,description:G.grpDesc||G.description}))};o.useEffect(()=>{(async()=>{const Z=await Re();je(Z)})()},[]);const me=async()=>{const ue=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ue.data)?ue.data:[]).map(G=>({id:G.lineID??G.ID??G.id,code:G.lineCode??G.code,description:G.lineDesc??G.Description??G.description}))};o.useEffect(()=>{(async()=>{const Z=await me();De(Z)})()},[]);const Ye=async()=>{const ue=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ue.data)?ue.data:[]).map(G=>({id:G.secID??G.ID??G.id,code:G.secCode??G.sectionCode??G.code,description:G.secDesc??G.Description??G.description}))};o.useEffect(()=>{(async()=>{const Z=await Ye();He(Z)})()},[]);const pt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Z=>({id:Z.unitID||Z.ID,code:Z.unitCode||Z.code,description:Z.unitDesc||Z.description}));o.useEffect(()=>{(async()=>{const Z=await pt();Me(Z)})()},[]);const Ft=async()=>{const ue=await ae.get("/EmployeeMasterFile");return(Array.isArray(ue.data)?ue.data:[]).map(G=>({id:G.empID??G.ID??G.id,code:G.empCode||G.code||"",name:`${G.lName||""}, ${G.fName||""} ${G.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Z=await Ft();Je(Z)})()},[]);const Qe=(()=>{switch(t){case"Branch":return V;case"Department":return H;case"Division":return k;case"Group Schedule":return be;case"Pay House":return Se;case"Section":return ze;case"Unit":return ve;default:return te}})().filter(ue=>ue.code.toLowerCase().includes(f.toLowerCase())||ue.description.toLowerCase().includes(f.toLowerCase())),gt=ot.filter(ue=>ue.code.toLowerCase().includes(p.toLowerCase())||ue.name.toLowerCase().includes(p.toLowerCase())),vt=Math.ceil(Qe.length/L),xt=(S-1)*L,Ct=xt+L,Nt=Qe.slice((S-1)*L,S*L),$e=()=>{const ue=[];if(vt<=7)for(let Z=1;Z<=vt;Z++)ue.push(Z);else if(S<=4){for(let Z=1;Z<=5;Z++)ue.push(Z);ue.push("..."),ue.push(vt)}else if(S>=vt-3){ue.push(1),ue.push("...");for(let Z=vt-4;Z<=vt;Z++)ue.push(Z)}else{ue.push(1),ue.push("...");for(let Z=S-1;Z<=S+1;Z++)ue.push(Z);ue.push("..."),ue.push(vt)}return ue},Ke=Math.ceil(gt.length/L),ce=(D-1)*L,Ee=ce+L,pe=gt.slice((D-1)*L,D*L),at=()=>{const ue=[];if(Ke<=5)return Array.from({length:Ke},(_,ie)=>ie+1);ue.push(1),D>3&&ue.push("...");const G=Math.max(2,D-1),Y=Math.min(Ke-1,D+1);for(let _=G;_<=Y;_++)ue.push(_);return D<Ke-2&&ue.push("..."),ue.push(Ke),ue},ut=ue=>{y(Z=>Z.includes(ue)?Z.filter(G=>G!==ue):[...Z,ue])},_t=ue=>{j(Z=>Z.includes(ue)?Z.filter(G=>G!==ue):[...Z,ue])},it=()=>{g.length===Qe.length?y([]):y(Qe.map(ue=>ue.id))},bt=()=>{C.length===gt.length?j([]):j(gt.map(ue=>ue.id))},se=async()=>{if(!C.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!n||!i){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await Q.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete Employee Transaction?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed){try{await Q.fire({icon:"success",title:"Success",text:"Employee Transaction deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(Z){const G=Z.response?.data?.message||Z.message||"Failed to delete employee transaction";Q.fire({icon:"error",title:"Error",text:G})}y([]),j([])}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Employee Transactions"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(is,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Delete employee transactions for selected groups and employees. Filter by date range and transaction type before deletion."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Permanent deletion - cannot be undone"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Filter by status and transaction type"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(ue=>e.jsxs("button",{onClick:()=>s(ue.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ue.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ue.icon,{className:"w-4 h-4"}),ue.name]},ue.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:ue=>N(ue.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:g.length===Qe.length&&Qe.length>0,onChange:it,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Nt.map(ue=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:g.includes(ue.id),onChange:()=>ut(ue.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ue.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ue.description})]},ue.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",gt.length===0?0:xt+1," to ",Math.min(Ct,Qe.length)," of ",Qe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(ue=>Math.max(ue-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),$e().map((ue,Z)=>ue==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Z}`):e.jsx("button",{onClick:()=>P(ue),className:`px-2 py-1 rounded text-xs ${S===ue?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ue},ue)),e.jsx("button",{onClick:()=>P(ue=>Math.min(ue+1,vt)),disabled:S===vt||vt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ue=>v(ue.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===gt.length&&gt.length>0,onChange:bt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:pe.map(ue=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(ue.id),onChange:()=>_t(ue.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ue.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ue.name})]},ue.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ce+1," to ",Math.min(Ee,gt.length)," of ",gt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>T(ue=>Math.max(1,ue-1)),disabled:D===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),at().map((ue,Z)=>typeof ue=="number"?e.jsx("button",{onClick:()=>T(ue),className:`px-2 py-1 rounded text-xs ${D===ue?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ue},Z):e.jsx("span",{className:"px-2",children:ue},Z)),e.jsx("button",{onClick:()=>T(ue=>Math.min(Ke,ue+1)),disabled:D===Ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:r==="active",onChange:()=>a("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:r==="inactive",onChange:()=>a("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:r==="all",onChange:()=>a("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From"}),e.jsx("input",{type:"text",value:n,onChange:ue=>l(ue.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To"}),e.jsx("input",{type:"text",value:i,onChange:ue=>d(ue.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:i,onChange:d})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Transaction Type:"}),e.jsxs("select",{value:x,onChange:ue=>h(ue.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1",children:[e.jsx("option",{value:"Rest Day",children:"Rest Day"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Leave",children:"Leave"}),e.jsx("option",{value:"Workshift",children:"Workshift"}),e.jsx("option",{value:"All",children:"All"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:se,children:[e.jsx(is,{className:"w-4 h-4"}),"Delete"]})})]})})]})]})]})]})}),e.jsx(Qt,{})]})}function uX(){const[t,s]=o.useState("");return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Rawdata Online"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(gp,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update raw data online for processing and synchronization."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Configure options before updating"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Process will run immediately"})]})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Option:"}),e.jsx("input",{type:"text",value:t,onChange:r=>s(r.target.value),className:"flex-1 max-w-md px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter option value"})]}),e.jsx("div",{className:"flex justify-start pt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})}),e.jsx(Qt,{})]})}function xX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function hX(){const[t,s]=o.useState("5/5/2021"),[r,a]=o.useState("05/05/2021"),[n,l]=o.useState("dateIn"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState([]),[p,v]=o.useState("contract"),[g,y]=o.useState(1),C=10,[j,S]=o.useState(!1),[P,D]=o.useState(!1),[T,A]=o.useState([]),M=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(F=>({id:F.ID||F.id,code:F.groupCode||F.code,description:F.groupDescription||F.description}));o.useEffect(()=>{(async()=>{const F=await M();A(F)})()},[]);const L=T.filter(H=>H.code.toLowerCase().includes(m.toLowerCase())||H.description.toLowerCase().includes(m.toLowerCase())),q=T.filter(H=>H.code.toLowerCase().includes(m.toLowerCase())||H.description.toLowerCase().includes(m.toLowerCase())),B=Math.ceil(L.length/C),te=(g-1)*C,oe=te+C;L.slice((g-1)*C,g*C);const fe=async()=>{if(!f.length){await Q.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!r){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Raw Day Type.",timer:2e3,showConfirmButton:!1}),N([])}catch(H){console.error(H),alert("Failed to update records")}finally{S(!1)}},R=q.slice((g-1)*C,g*C),V=()=>{const H=[];if(B<=7)for(let F=1;F<=B;F++)H.push(F);else if(g<=4){for(let F=1;F<=5;F++)H.push(F);H.push("..."),H.push(B)}else if(g>=B-3){H.push(1),H.push("...");for(let F=B-4;F<=B;F++)H.push(F)}else{H.push(1),H.push("...");for(let F=g-1;F<=g+1;F++)H.push(F);H.push("..."),H.push(B)}return H},W=H=>{N(H?T.map(F=>F.id):[])},ne=(H,F)=>{N(I=>F?[...I,H]:I.filter(U=>U!==H))},J=H=>{i==="dateFrom"?s(H):i==="dateTo"&&a(H)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Raw Day Type"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(xC,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update day type in raw data for selected groups within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Choose day type option before update"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:H=>b(H.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===T.length,onChange:H=>W(H.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(H=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(H.id),onChange:F=>ne(H.id,F.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:H.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:H.description})]},H.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",L.length===0?0:te+1," to ",Math.min(oe,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(H=>Math.max(H-1,1)),disabled:g===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),V().map((H,F)=>H==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${F}`):e.jsx("button",{onClick:()=>y(H),className:`px-2 py-1 rounded text-xs ${g===H?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:H},H)),e.jsx("button",{onClick:()=>y(H=>Math.min(H+1,B)),disabled:g===B||B===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:t,onChange:H=>s(H.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:t,onChange:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:r,onChange:H=>a(H.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"dayTypeOption",value:"dateIn",checked:n==="dateIn",onChange:()=>l("dateIn"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Day Type [Date In]"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"dayTypeOption",value:"dateOut",checked:n==="dateOut",onChange:()=>l("dateOut"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Day Type [Date Out]"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:fe,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})]})}),i&&e.jsx(xX,{value:i==="dateFrom"?t:r,onChange:J,onClose:()=>d(null),position:x}),e.jsx(Qt,{})]})}function mX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function pX(){const[t,s]=o.useState("5/5/2021"),[r,a]=o.useState("05/05/2021"),[n,l]=o.useState(null),[i,d]=o.useState({top:0,left:0}),[x,h]=o.useState(""),[m,b]=o.useState([]),[f,N]=o.useState(1),p=10,[v,g]=o.useState(!1),[y,C]=o.useState(!1),[j,S]=o.useState([]),P=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(V=>({id:V.ID||V.id,code:V.groupCode||V.code,description:V.groupDescription||V.description}));o.useEffect(()=>{(async()=>{const V=await P();S(V)})()},[]);const D=j.filter(R=>R.code.toLowerCase().includes(x.toLowerCase())||R.description.toLowerCase().includes(x.toLowerCase())),T=Math.ceil(D.length/p),A=(f-1)*p,M=A+p,L=D.slice((f-1)*p,f*p),q=()=>{const R=[];if(T<=7)for(let V=1;V<=T;V++)R.push(V);else if(f<=4){for(let V=1;V<=5;V++)R.push(V);R.push("..."),R.push(T)}else if(f>=T-3){R.push(1),R.push("...");for(let V=T-4;V<=T;V++)R.push(V)}else{R.push(1),R.push("...");for(let V=f-1;V<=f+1;V++)R.push(V);R.push("..."),R.push(T)}return R},B=async()=>{if(!m.length){await Q.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!r){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{g(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Workshift in Raw Data.",timer:2e3,showConfirmButton:!1}),b([])}catch(R){console.error(R),alert("Failed to update records")}finally{g(!1)}},te=R=>{b(R?j.map(V=>V.id):[])},oe=(R,V)=>{b(W=>V?[...W,R]:W.filter(ne=>ne!==R))},fe=R=>{n==="dateFrom"?s(R):n==="dateTo"&&a(R)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Workshift in Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update workshift information in raw data for selected groups within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Bulk update workshift data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:x,onChange:R=>h(R.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:m.length===j.length,onChange:R=>te(R.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:L.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:m.includes(R.id),onChange:V=>oe(R.id,V.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:R.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:R.description})]},R.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",D.length===0?0:A+1," to ",Math.min(M,D.length)," of ",D.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>N(R=>Math.max(R-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),q().map((R,V)=>R==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${V}`):e.jsx("button",{onClick:()=>N(R),className:`px-2 py-1 rounded text-xs ${f===R?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:R},R)),e.jsx("button",{onClick:()=>N(R=>Math.min(R+1,T)),disabled:f===T||T===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:t,onChange:R=>s(R.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:t,onChange:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:r,onChange:R=>a(R.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:B,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})]})})]})]})]})}),n&&e.jsx(mX,{value:n==="dateFrom"?t:r,onChange:fe,onClose:()=>l(null),position:i}),e.jsx(Qt,{})]})}function fX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function gX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(!1),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState([]),[S,P]=o.useState([]),[D,T]=o.useState(1),[A,M]=o.useState(1),[L,q]=o.useState(1),B=10;o.useEffect(()=>{T(1)},[t]);const[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState(!1),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),yt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(G=>({id:G.ID||G.id,code:G.groupCode||G.code,description:G.groupDescription||G.description}));o.useEffect(()=>{(async()=>{const G=await yt();R(G)})()},[]);const mt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(G=>({id:G.braID||G.ID,code:G.braCode||G.code,description:G.braDesc||G.description}));o.useEffect(()=>{(async()=>{const G=await mt();J(G)})()},[]);const jt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(G=>({id:G.depID||G.ID,code:G.depCode||G.code,description:G.depDesc||G.description}));o.useEffect(()=>{(async()=>{const G=await jt();U(G)})()},[]);const we=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(G=>({id:G.divID||G.ID,code:G.divCode||G.code,description:G.divDesc||G.description}));o.useEffect(()=>{(async()=>{const G=await we();ye(G)})()},[]);const Re=async()=>{const Z=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Z.data)?Z.data:[]).map(Y=>({id:Y.grpSchID||Y.id||Y.ID,code:Y.grpCode||Y.code,description:Y.grpDesc||Y.description}))};o.useEffect(()=>{(async()=>{const G=await Re();xe(G)})()},[]);const me=async()=>{const Z=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Z.data)?Z.data:[]).map(Y=>({id:Y.lineID??Y.ID??Y.id,code:Y.lineCode??Y.code,description:Y.lineDesc??Y.Description??Y.description}))};o.useEffect(()=>{(async()=>{const G=await me();Ae(G)})()},[]);const Ye=async()=>{const Z=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Z.data)?Z.data:[]).map(Y=>({id:Y.secID??Y.ID??Y.id,code:Y.secCode??Y.sectionCode??Y.code,description:Y.secDesc??Y.Description??Y.description}))};o.useEffect(()=>{(async()=>{const G=await Ye();qe(G)})()},[]);const pt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(G=>({id:G.unitID||G.ID,code:G.unitCode||G.code,description:G.unitDesc||G.description}));o.useEffect(()=>{(async()=>{const G=await pt();Le(G)})()},[]);const Ft=async()=>{const Z=await ae.get("/EmployeeMasterFile");return(Array.isArray(Z.data)?Z.data:[]).map(Y=>({id:Y.empID??Y.ID??Y.id,code:Y.empCode||Y.code||"",name:`${Y.lName||""}, ${Y.fName||""} ${Y.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const G=await Ft();et(G)})()},[]);const Qe=(()=>{switch(t){case"Branch":return ne;case"Department":return I;case"Division":return he;case"Group Schedule":return ge;case"Pay House":return Fe;case"Section":return Ve;case"Unit":return Te;default:return fe}})().filter(Z=>Z.code.toLowerCase().includes(p.toLowerCase())||Z.description.toLowerCase().includes(p.toLowerCase())),gt=Ge.filter(Z=>Z.code.toLowerCase().includes(g.toLowerCase())||Z.name.toLowerCase().includes(g.toLowerCase())),vt=Math.ceil(Qe.length/B),xt=(D-1)*B,Ct=xt+B,Nt=Qe.slice((D-1)*B,D*B),$e=()=>{const Z=[];if(vt<=7)for(let G=1;G<=vt;G++)Z.push(G);else if(D<=4){for(let G=1;G<=5;G++)Z.push(G);Z.push("..."),Z.push(vt)}else if(D>=vt-3){Z.push(1),Z.push("...");for(let G=vt-4;G<=vt;G++)Z.push(G)}else{Z.push(1),Z.push("...");for(let G=D-1;G<=D+1;G++)Z.push(G);Z.push("..."),Z.push(vt)}return Z},Ke=Math.ceil(gt.length/B),ce=(A-1)*B,Ee=ce+B,pe=gt.slice((A-1)*B,A*B),at=()=>{const Z=[];if(Ke<=5)return Array.from({length:Ke},(ie,_e)=>_e+1);Z.push(1),A>3&&Z.push("...");const Y=Math.max(2,A-1),_=Math.min(Ke-1,A+1);for(let ie=Y;ie<=_;ie++)Z.push(ie);return A<Ke-2&&Z.push("..."),Z.push(Ke),Z},ut=Z=>{j(G=>G.includes(Z)?G.filter(Y=>Y!==Z):[...G,Z])},_t=Z=>{P(G=>G.includes(Z)?G.filter(Y=>Y!==Z):[...G,Z])},it=()=>{C.length===Qe.length?j([]):j(Qe.map(Z=>Z.id))},bt=()=>{S.length===gt.length?P([]):P(gt.map(Z=>Z.id))},se=Z=>{x==="dateFrom"?a(Z):x==="dateTo"&&l(Z)},ue=async()=>{if(!S.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await Q.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete Employee Transaction?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed){try{await Q.fire({icon:"success",title:"Success",text:"Incomplete Logs deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(G){const Y=G.response?.data?.message||G.message||"Failed to delete employee transaction";Q.fire({icon:"error",title:"Error",text:Y})}j([]),P([])}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Incomplete Logs"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(is,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch delete incomplete attendance logs for selected employee groups. Remove partial or corrupted time entries from the system efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review incomplete logs carefully"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Click delete to remove entries"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200",children:["TK Group","Branch","Department","Division","Group Schedule","Pay House","Section","Unit"].map(Z=>{const Y=(()=>{switch(Z){case"TK Group":return Us;case"Branch":return er;case"Department":return Zs;case"Division":return jb;case"Group Schedule":return Vu;case"Pay House":return Na;case"Section":return Zs;case"Unit":return Vu;default:return Us}})();return e.jsxs("button",{onClick:()=>s(Z),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Z?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Y,{className:"w-4 h-4"}),Z]},Z)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Z=>v(Z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===Qe.length&&Qe.length>0,onChange:it,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Nt.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(Z.id),onChange:()=>ut(Z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Z.description})]},Z.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",gt.length===0?0:xt+1," to ",Math.min(Ct,Qe.length)," of ",Qe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>T(Z=>Math.max(Z-1,1)),disabled:D===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),$e().map((Z,G)=>Z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${G}`):e.jsx("button",{onClick:()=>T(Z),className:`px-2 py-1 rounded text-xs ${D===Z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Z},Z)),e.jsx("button",{onClick:()=>T(Z=>Math.min(Z+1,vt)),disabled:D===vt||vt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:Z=>y(Z.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===gt.length&&gt.length>0,onChange:bt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:pe.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(Z.id),onChange:()=>_t(Z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Z.name})]},Z.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ce+1," to ",Math.min(Ee,gt.length)," of ",gt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(Z=>Math.max(1,Z-1)),disabled:A===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),at().map((Z,G)=>typeof Z=="number"?e.jsx("button",{onClick:()=>M(Z),className:`px-2 py-1 rounded text-xs ${A===Z?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Z},G):e.jsx("span",{className:"px-2",children:Z},G)),e.jsx("button",{onClick:()=>M(Z=>Math.min(Ke,Z+1)),disabled:A===Ke,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:r,onChange:Z=>a(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:Z=>l(Z.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:ue,children:[e.jsx(is,{className:"w-4 h-4"}),"Delete"]})})]})]})]})]})]})]})}),x&&e.jsx(fX,{value:x==="dateFrom"?r:n,onChange:se,onClose:()=>h(null),position:m}),e.jsx(Qt,{})]})}function yX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function bX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(!1),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState([]),[S,P]=o.useState([]),[D,T]=o.useState(1),[A,M]=o.useState(1),[L,q]=o.useState(1),B=10;o.useEffect(()=>{T(1)},[t]);const[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState(!1),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),[yt,mt]=o.useState(""),jt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(_=>({id:_.ID||_.id,code:_.groupCode||_.code,description:_.groupDescription||_.description}));o.useEffect(()=>{(async()=>{const _=await jt();R(_)})()},[]);const we=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(_=>({id:_.braID||_.ID,code:_.braCode||_.code,description:_.braDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await we();J(_)})()},[]);const Re=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(_=>({id:_.depID||_.ID,code:_.depCode||_.code,description:_.depDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Re();U(_)})()},[]);const me=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(_=>({id:_.divID||_.ID,code:_.divCode||_.code,description:_.divDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await me();ye(_)})()},[]);const Ye=async()=>{const Y=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.grpSchID||ie.id||ie.ID,code:ie.grpCode||ie.code,description:ie.grpDesc||ie.description}))};o.useEffect(()=>{(async()=>{const _=await Ye();xe(_)})()},[]);const pt=async()=>{const Y=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.lineID??ie.ID??ie.id,code:ie.lineCode??ie.code,description:ie.lineDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const _=await pt();Ae(_)})()},[]);const Ft=async()=>{const Y=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.secID??ie.ID??ie.id,code:ie.secCode??ie.sectionCode??ie.code,description:ie.secDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const _=await Ft();qe(_)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(_=>({id:_.unitID||_.ID,code:_.unitCode||_.code,description:_.unitDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Bt();Le(_)})()},[]);const Lt=async()=>{const Y=await ae.get("/EmployeeMasterFile");return(Array.isArray(Y.data)?Y.data:[]).map(ie=>({id:ie.empID??ie.ID??ie.id,code:ie.empCode||ie.code||"",name:`${ie.lName||""}, ${ie.fName||""} ${ie.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const _=await Lt();et(_)})()},[]);const vt=(()=>{switch(t){case"Branch":return ne;case"Department":return I;case"Division":return he;case"Group Schedule":return ge;case"Pay House":return Fe;case"Section":return Ve;case"Unit":return Te;default:return fe}})().filter(Y=>Y.code.toLowerCase().includes(p.toLowerCase())||Y.description.toLowerCase().includes(p.toLowerCase())),xt=Ge.filter(Y=>Y.code.toLowerCase().includes(g.toLowerCase())||Y.name.toLowerCase().includes(g.toLowerCase())),Ct=Math.ceil(vt.length/B),Nt=(D-1)*B,$e=Nt+B,Ke=vt.slice((D-1)*B,D*B),ce=()=>{const Y=[];if(Ct<=7)for(let _=1;_<=Ct;_++)Y.push(_);else if(D<=4){for(let _=1;_<=5;_++)Y.push(_);Y.push("..."),Y.push(Ct)}else if(D>=Ct-3){Y.push(1),Y.push("...");for(let _=Ct-4;_<=Ct;_++)Y.push(_)}else{Y.push(1),Y.push("...");for(let _=D-1;_<=D+1;_++)Y.push(_);Y.push("..."),Y.push(Ct)}return Y},Ee=Math.ceil(xt.length/B),pe=(A-1)*B,at=pe+B,ut=xt.slice((A-1)*B,A*B),_t=()=>{const Y=[];if(Ee<=5)return Array.from({length:Ee},(Ie,ke)=>ke+1);Y.push(1),A>3&&Y.push("...");const ie=Math.max(2,A-1),_e=Math.min(Ee-1,A+1);for(let Ie=ie;Ie<=_e;Ie++)Y.push(Ie);return A<Ee-2&&Y.push("..."),Y.push(Ee),Y},it=Y=>{j(_=>_.includes(Y)?_.filter(ie=>ie!==Y):[..._,Y])},bt=Y=>{P(_=>_.includes(Y)?_.filter(ie=>ie!==Y):[..._,Y])},se=()=>{C.length===vt.length?j([]):j(vt.map(Y=>Y.id))},ue=()=>{S.length===xt.length?P([]):P(xt.map(Y=>Y.id))},Z=Y=>{x==="dateFrom"?a(Y):x==="dateTo"&&l(Y)},G=async()=>{if(!S.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await Q.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete Employee Transaction?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed){try{await Q.fire({icon:"success",title:"Success",text:"Records in Raw Data deleted successfully.",timer:2e3,showConfirmButton:!1})}catch(_){const ie=_.response?.data?.message||_.message||"Failed to delete employee transaction";Q.fire({icon:"error",title:"Error",text:ie})}j([]),P([]),a(""),l("")}};return o.useEffect(()=>{const Y=_=>{_.key==="Escape"&&f&&N(!1)};return f&&document.addEventListener("keydown",Y),()=>{document.removeEventListener("keydown",Y)}},[f]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Records in Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(is,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Permanently delete raw attendance data for selected employee groups. Remove unprocessed time records from the system efficiently within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range to delete"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review selected records carefully"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Deletion is permanent and cannot be undone"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200",children:["TK Group","Branch","Department","Division","Group Schedule","Pay House","Section","Unit"].map(Y=>{const ie=(()=>{switch(Y){case"TK Group":return Us;case"Branch":return er;case"Department":return Zs;case"Division":return jb;case"Group Schedule":return Vu;case"Pay House":return Na;case"Section":return Zs;case"Unit":return Vu;default:return Us}})();return e.jsxs("button",{onClick:()=>s(Y),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Y?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ie,{className:"w-4 h-4"}),Y]},Y)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Y=>v(Y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===vt.length&&vt.length>0,onChange:se,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(Y.id),onChange:()=>it(Y.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Y.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Y.description})]},Y.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",xt.length===0?0:Nt+1," to ",Math.min($e,vt.length)," of ",vt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>T(Y=>Math.max(Y-1,1)),disabled:D===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ce().map((Y,_)=>Y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${_}`):e.jsx("button",{onClick:()=>T(Y),className:`px-2 py-1 rounded text-xs ${D===Y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Y},Y)),e.jsx("button",{onClick:()=>T(Y=>Math.min(Y+1,Ct)),disabled:D===Ct||Ct===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:Y=>y(Y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"mb-3 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===xt.length&&xt.length>0,onChange:ue,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ut.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(Y.id),onChange:()=>bt(Y.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Y.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Y.name})]},Y.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",pe+1," to ",Math.min(at,xt.length)," of ",xt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(Y=>Math.max(1,Y-1)),disabled:A===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_t().map((Y,_)=>typeof Y=="number"?e.jsx("button",{onClick:()=>M(Y),className:`px-2 py-1 rounded text-xs ${A===Y?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Y},_):e.jsx("span",{className:"px-2",children:Y},_)),e.jsx("button",{onClick:()=>M(Y=>Math.min(Ee,Y+1)),disabled:A===Ee,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:r,onChange:Y=>a(Y.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:Y=>l(Y.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:G,children:[e.jsx(is,{className:"w-4 h-4"}),"Delete"]})})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(r7,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm text-red-800 mb-2",children:"Note"}),e.jsx("p",{className:"text-sm text-red-700",children:"This Process assumes that you really don't need the data in RAW DATA. You will not be able to UNDO the deletion after doing this process. You should could re-import again the DTR files."})]})]})})]})]})]})]})}),x&&e.jsx(yX,{value:x==="dateFrom"?r:n,onChange:Z,onClose:()=>h(null),position:m}),e.jsx(Qt,{})]})}function vX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function wX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState([]),[S,P]=o.useState(1),[D,T]=o.useState(1),A=10,[M,L]=o.useState(!1),[q,B]=o.useState({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,selectAll:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1}),te=()=>{B({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1,selectAll:!1})};o.useEffect(()=>{P(1)},[t]);const[oe,fe]=o.useState(!1),[R,V]=o.useState([]),[W,ne]=o.useState(!1),[J,H]=o.useState([]),[F,I]=o.useState(!1),[U,k]=o.useState([]),[O,he]=o.useState(!1),[ye,be]=o.useState([]),[je,ge]=o.useState(!1),[xe,Se]=o.useState([]),[De,Fe]=o.useState(!1),[Ae,ze]=o.useState([]),[He,Ve]=o.useState(!1),[qe,ve]=o.useState([]),[Me,Te]=o.useState(!1),[Le,ot]=o.useState([]),[Je,Ge]=o.useState(!1),[et,yt]=o.useState([]),[mt,jt]=o.useState(""),we=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(_e=>({id:_e.ID||_e.id,code:_e.groupCode||_e.code,description:_e.groupDescription||_e.description}));o.useEffect(()=>{(async()=>{const _e=await we();V(_e)})()},[]);const Re=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(_e=>({id:_e.braID||_e.ID,code:_e.braCode||_e.code,description:_e.braDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await Re();H(_e)})()},[]);const me=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(_e=>({id:_e.depID||_e.ID,code:_e.depCode||_e.code,description:_e.depDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await me();k(_e)})()},[]);const Ye=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(_e=>({id:_e.divID||_e.ID,code:_e.divCode||_e.code,description:_e.divDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await Ye();be(_e)})()},[]);const pt=async()=>{const ie=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(Ie=>({id:Ie.grpSchID||Ie.id||Ie.ID,code:Ie.grpCode||Ie.code,description:Ie.grpDesc||Ie.description}))};o.useEffect(()=>{(async()=>{const _e=await pt();Se(_e)})()},[]);const Ft=async()=>{const ie=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(Ie=>({id:Ie.lineID??Ie.ID??Ie.id,code:Ie.lineCode??Ie.code,description:Ie.lineDesc??Ie.Description??Ie.description}))};o.useEffect(()=>{(async()=>{const _e=await Ft();ze(_e)})()},[]);const Bt=async()=>{const ie=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(Ie=>({id:Ie.secID??Ie.ID??Ie.id,code:Ie.secCode??Ie.sectionCode??Ie.code,description:Ie.secDesc??Ie.Description??Ie.description}))};o.useEffect(()=>{(async()=>{const _e=await Bt();ve(_e)})()},[]);const Lt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(_e=>({id:_e.unitID||_e.ID,code:_e.unitCode||_e.code,description:_e.unitDesc||_e.description}));o.useEffect(()=>{(async()=>{const _e=await Lt();ot(_e)})()},[]);const Qe=async()=>{const ie=await ae.get("/EmployeeMasterFile");return(Array.isArray(ie.data)?ie.data:[]).map(Ie=>({id:Ie.empID??Ie.ID??Ie.id,code:Ie.empCode||Ie.code||"",name:`${Ie.lName||""}, ${Ie.fName||""} ${Ie.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const _e=await Qe();yt(_e)})()},[]);const xt=(()=>{switch(t){case"Branch":return J;case"Department":return U;case"Division":return ye;case"Group Schedule":return xe;case"Pay House":return Ae;case"Section":return qe;case"Unit":return Le;default:return R}})().filter(ie=>ie.code.toLowerCase().includes(f.toLowerCase())||ie.description.toLowerCase().includes(f.toLowerCase())),Ct=et.filter(ie=>ie.code.toLowerCase().includes(p.toLowerCase())||ie.name.toLowerCase().includes(p.toLowerCase())),Nt=Math.ceil(xt.length/A),$e=(S-1)*A,Ke=$e+A,ce=xt.slice((S-1)*A,S*A),Ee=()=>{const ie=[];if(Nt<=7)for(let _e=1;_e<=Nt;_e++)ie.push(_e);else if(S<=4){for(let _e=1;_e<=5;_e++)ie.push(_e);ie.push("..."),ie.push(Nt)}else if(S>=Nt-3){ie.push(1),ie.push("...");for(let _e=Nt-4;_e<=Nt;_e++)ie.push(_e)}else{ie.push(1),ie.push("...");for(let _e=S-1;_e<=S+1;_e++)ie.push(_e);ie.push("..."),ie.push(Nt)}return ie},pe=Math.ceil(Ct.length/A),at=(D-1)*A,ut=at+A,_t=Ct.slice((D-1)*A,D*A),it=()=>{const ie=[];if(pe<=5)return Array.from({length:pe},(X,Ne)=>Ne+1);ie.push(1),D>3&&ie.push("...");const Ie=Math.max(2,D-1),ke=Math.min(pe-1,D+1);for(let X=Ie;X<=ke;X++)ie.push(X);return D<pe-2&&ie.push("..."),ie.push(pe),ie},bt=async()=>{if(!C.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!Object.values(q).some(Boolean)){await Q.fire({icon:"error",title:"Error",text:"Please check atleast 1 transaction to unpost.",timer:2e3,showConfirmButton:!0});return}try{L(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully Unpost Transactions.",timer:2e3,showConfirmButton:!1}),y([]),j([]),a(""),l(""),te()}catch(_e){console.error(_e),alert("Failed to update records")}finally{L(!1)}},se=ie=>{y(_e=>_e.includes(ie)?_e.filter(Ie=>Ie!==ie):[..._e,ie])},ue=ie=>{j(_e=>_e.includes(ie)?_e.filter(Ie=>Ie!==ie):[..._e,ie])},Z=()=>{g.length===xt.length?y([]):y(xt.map(ie=>ie.id))},G=()=>{C.length===Ct.length?j([]):j(Ct.map(ie=>ie.id))},Y=ie=>{if(ie==="selectAll"){const _e=!q.selectAll;B({tardiness:_e,otherEarnings:_e,noOfDaysWork:_e,selectAll:_e,undertime:_e,overtime:_e,leaveAndAbsences:_e,lateFiling:_e})}else B(_e=>({..._e,[ie]:!_e[ie]}))},_=ie=>{x==="dateFrom"?a(ie):x==="dateTo"&&l(ie)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpost Transaction"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(W0,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch unpost processed transactions for selected employee groups. Remove posted data from the system to make corrections or adjustments efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range to unpost"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Choose specific transaction types"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to process changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(ie=>e.jsxs("button",{onClick:()=>s(ie.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ie.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ie.icon,{className:"w-4 h-4"}),ie.name]},ie.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:ie=>N(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:g.length===xt.length&&xt.length>0,onChange:Z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:g.includes(ie.id),onChange:()=>se(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.description})]},ie.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ct.length===0?0:$e+1," to ",Math.min(Ke,xt.length)," of ",xt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(ie=>Math.max(ie-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ee().map((ie,_e)=>ie==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${_e}`):e.jsx("button",{onClick:()=>P(ie),className:`px-2 py-1 rounded text-xs ${S===ie?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},ie)),e.jsx("button",{onClick:()=>P(ie=>Math.min(ie+1,Nt)),disabled:S===Nt||Nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ie=>v(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===Ct.length&&Ct.length>0,onChange:G,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(ie.id),onChange:()=>ue(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.name})]},ie.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",at+1," to ",Math.min(ut,Ct.length)," of ",Ct.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>T(ie=>Math.max(1,ie-1)),disabled:D===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),it().map((ie,_e)=>typeof ie=="number"?e.jsx("button",{onClick:()=>T(ie),className:`px-2 py-1 rounded text-xs ${D===ie?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},_e):e.jsx("span",{className:"px-2",children:ie},_e)),e.jsx("button",{onClick:()=>T(ie=>Math.min(pe,ie+1)),disabled:D===pe,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:r,onChange:ie=>a(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:ie=>l(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.tardiness,onChange:()=>Y("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.otherEarnings,onChange:()=>Y("otherEarnings"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Other Earnings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.noOfDaysWork,onChange:()=>Y("noOfDaysWork"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No. Of Days Work"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.selectAll,onChange:()=>Y("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.undertime,onChange:()=>Y("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.overtime,onChange:()=>Y("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.leaveAndAbsences,onChange:()=>Y("leaveAndAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave and Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.lateFiling,onChange:()=>Y("lateFiling"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Late Filing"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:bt,children:[e.jsx(Dn,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),x&&e.jsx(vX,{value:x==="dateFrom"?r:n,onChange:_,onClose:()=>h(null),position:m}),e.jsx(Qt,{})]})}function NX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function jX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),[R,V]=o.useState(1),W=10,[ne,J]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),[yt,mt]=o.useState(!1),[jt,we]=o.useState([]),[Re,me]=o.useState(!1),[Ye,pt]=o.useState([]),[Ft,Bt]=o.useState(""),Lt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(de=>({id:de.ID||de.id,code:de.groupCode||de.code,description:de.groupDescription||de.description}));o.useEffect(()=>{(async()=>{const de=await Lt();U(de)})()},[]);const Qe=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(de=>({id:de.braID||de.ID,code:de.braCode||de.code,description:de.braDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await Qe();ye(de)})()},[]);const gt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(de=>({id:de.depID||de.ID,code:de.depCode||de.code,description:de.depDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await gt();xe(de)})()},[]);const vt=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(de=>({id:de.divID||de.ID,code:de.divCode||de.code,description:de.divDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await vt();Ae(de)})()},[]);const xt=async()=>{const ee=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.grpSchID||re.id||re.ID,code:re.grpCode||re.code,description:re.grpDesc||re.description}))};o.useEffect(()=>{(async()=>{const de=await xt();qe(de)})()},[]);const Ct=async()=>{const ee=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.lineID??re.ID??re.id,code:re.lineCode??re.code,description:re.lineDesc??re.Description??re.description}))};o.useEffect(()=>{(async()=>{const de=await Ct();Le(de)})()},[]);const Nt=async()=>{const ee=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.secID??re.ID??re.id,code:re.secCode??re.sectionCode??re.code,description:re.secDesc??re.Description??re.description}))};o.useEffect(()=>{(async()=>{const de=await Nt();et(de)})()},[]);const $e=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(de=>({id:de.unitID||de.ID,code:de.unitCode||de.code,description:de.unitDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await $e();we(de)})()},[]);const Ke=async()=>{const ee=await ae.get("/EmployeeMasterFile");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.empID??re.ID??re.id,code:re.empCode||re.code||"",name:`${re.lName||""}, ${re.fName||""} ${re.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const de=await Ke();pt(de)})()},[]);const pe=(()=>{switch(t){case"Branch":return he;case"Department":return ge;case"Division":return Fe;case"Group Schedule":return Ve;case"Pay House":return Te;case"Section":return Ge;case"Unit":return jt;default:return I}})().filter(ee=>ee.code.toLowerCase().includes(S.toLowerCase())||ee.description.toLowerCase().includes(S.toLowerCase())),at=Ye.filter(ee=>ee.code.toLowerCase().includes(D.toLowerCase())||ee.name.toLowerCase().includes(D.toLowerCase())),ut=Math.ceil(pe.length/W),_t=(B-1)*W,it=_t+W,bt=pe.slice((B-1)*W,B*W),se=()=>{const ee=[];if(ut<=7)for(let de=1;de<=ut;de++)ee.push(de);else if(B<=4){for(let de=1;de<=5;de++)ee.push(de);ee.push("..."),ee.push(ut)}else if(B>=ut-3){ee.push(1),ee.push("...");for(let de=ut-4;de<=ut;de++)ee.push(de)}else{ee.push(1),ee.push("...");for(let de=B-1;de<=B+1;de++)ee.push(de);ee.push("..."),ee.push(ut)}return ee},ue=Math.ceil(at.length/W),Z=(oe-1)*W,G=Z+W,Y=at.slice((oe-1)*W,oe*W),_=()=>{const ee=[];if(ue<=5)return Array.from({length:ue},(ft,$t)=>$t+1);ee.push(1),oe>3&&ee.push("...");const re=Math.max(2,oe-1),We=Math.min(ue-1,oe+1);for(let ft=re;ft<=We;ft++)ee.push(ft);return oe<ue-2&&ee.push("..."),ee.push(ue),ee},ie=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{J(!0),await Q.fire({icon:"success",title:"Success",text:"Additional Hours per Week successfully updated.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(ee){console.error(ee),alert("Failed to update records")}finally{J(!1)}},_e=ee=>{M(de=>de.includes(ee)?de.filter(re=>re!==ee):[...de,ee])},Ie=ee=>{q(de=>de.includes(ee)?de.filter(re=>re!==ee):[...de,ee])},ke=()=>{A.length===pe.length?M([]):M(pe.map(ee=>ee.id))},X=()=>{L.length===at.length?q([]):q(at.map(ee=>ee.id))},Ne=ee=>{f==="year"?a(ee):f==="dateFrom"?y(ee):f==="dateTo"&&j(ee)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Additional Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch update additional hours per week for selected employee groups. Configure weekly hour adjustments across multiple employees efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search by reference code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(ee=>e.jsxs("button",{onClick:()=>s(ee.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ee.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(ee.icon,{className:"w-4 h-4"}),ee.name]},ee.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ee=>P(ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===pe.length&&pe.length>0,onChange:ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:bt.map(ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(ee.id),onChange:()=>_e(ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ee.description})]},ee.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",at.length===0?0:_t+1," to ",Math.min(it,pe.length)," of ",pe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(ee=>Math.max(ee-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),se().map((ee,de)=>ee==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${de}`):e.jsx("button",{onClick:()=>te(ee),className:`px-2 py-1 rounded text-xs ${B===ee?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ee},ee)),e.jsx("button",{onClick:()=>te(ee=>Math.min(ee+1,ut)),disabled:B===ut||ut===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:ee=>T(ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===at.length&&at.length>0,onChange:X,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Y.map(ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(ee.id),onChange:()=>Ie(ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ee.name})]},ee.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Z+1," to ",Math.min(G,at.length)," of ",at.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(ee=>Math.max(1,ee-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((ee,de)=>typeof ee=="number"?e.jsx("button",{onClick:()=>fe(ee),className:`px-2 py-1 rounded text-xs ${oe===ee?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ee},de):e.jsx("span",{className:"px-2",children:ee},de)),e.jsx("button",{onClick:()=>fe(ee=>Math.min(ue,ee+1)),disabled:oe===ue,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:ee=>y(ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:ee=>j(ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ie,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(NX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:Ne,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function CX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function SX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),[R,V]=o.useState(1),W=10,[ne,J]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),[yt,mt]=o.useState(!1),[jt,we]=o.useState([]),[Re,me]=o.useState(!1),[Ye,pt]=o.useState([]),[Ft,Bt]=o.useState(""),Lt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(de=>({id:de.ID||de.id,code:de.groupCode||de.code,description:de.groupDescription||de.description}));o.useEffect(()=>{(async()=>{const de=await Lt();U(de)})()},[]);const Qe=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(de=>({id:de.braID||de.ID,code:de.braCode||de.code,description:de.braDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await Qe();ye(de)})()},[]);const gt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(de=>({id:de.depID||de.ID,code:de.depCode||de.code,description:de.depDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await gt();xe(de)})()},[]);const vt=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(de=>({id:de.divID||de.ID,code:de.divCode||de.code,description:de.divDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await vt();Ae(de)})()},[]);const xt=async()=>{const ee=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.grpSchID||re.id||re.ID,code:re.grpCode||re.code,description:re.grpDesc||re.description}))};o.useEffect(()=>{(async()=>{const de=await xt();qe(de)})()},[]);const Ct=async()=>{const ee=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.lineID??re.ID??re.id,code:re.lineCode??re.code,description:re.lineDesc??re.Description??re.description}))};o.useEffect(()=>{(async()=>{const de=await Ct();Le(de)})()},[]);const Nt=async()=>{const ee=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.secID??re.ID??re.id,code:re.secCode??re.sectionCode??re.code,description:re.secDesc??re.Description??re.description}))};o.useEffect(()=>{(async()=>{const de=await Nt();et(de)})()},[]);const $e=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(de=>({id:de.unitID||de.ID,code:de.unitCode||de.code,description:de.unitDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await $e();we(de)})()},[]);const Ke=async()=>{const ee=await ae.get("/EmployeeMasterFile");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.empID??re.ID??re.id,code:re.empCode||re.code||"",name:`${re.lName||""}, ${re.fName||""} ${re.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const de=await Ke();pt(de)})()},[]);const pe=(()=>{switch(t){case"Branch":return he;case"Department":return ge;case"Division":return Fe;case"Group Schedule":return Ve;case"Pay House":return Te;case"Section":return Ge;case"Unit":return jt;default:return I}})().filter(ee=>ee.code.toLowerCase().includes(S.toLowerCase())||ee.description.toLowerCase().includes(S.toLowerCase())),at=Ye.filter(ee=>ee.code.toLowerCase().includes(D.toLowerCase())||ee.name.toLowerCase().includes(D.toLowerCase())),ut=Math.ceil(pe.length/W),_t=(B-1)*W,it=_t+W,bt=pe.slice((B-1)*W,B*W),se=()=>{const ee=[];if(ut<=7)for(let de=1;de<=ut;de++)ee.push(de);else if(B<=4){for(let de=1;de<=5;de++)ee.push(de);ee.push("..."),ee.push(ut)}else if(B>=ut-3){ee.push(1),ee.push("...");for(let de=ut-4;de<=ut;de++)ee.push(de)}else{ee.push(1),ee.push("...");for(let de=B-1;de<=B+1;de++)ee.push(de);ee.push("..."),ee.push(ut)}return ee},ue=Math.ceil(at.length/W),Z=(oe-1)*W,G=Z+W,Y=at.slice((oe-1)*W,oe*W),_=()=>{const ee=[];if(ue<=5)return Array.from({length:ue},(ft,$t)=>$t+1);ee.push(1),oe>3&&ee.push("...");const re=Math.max(2,oe-1),We=Math.min(ue-1,oe+1);for(let ft=re;ft<=We;ft++)ee.push(ft);return oe<ue-2&&ee.push("..."),ee.push(ue),ee},ie=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{J(!0),await Q.fire({icon:"success",title:"Success",text:"Overtime Allowances successfully.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(ee){console.error(ee),alert("Failed to update records")}finally{J(!1)}},_e=ee=>{M(de=>de.includes(ee)?de.filter(re=>re!==ee):[...de,ee])},Ie=ee=>{q(de=>de.includes(ee)?de.filter(re=>re!==ee):[...de,ee])},ke=()=>{A.length===pe.length?M([]):M(pe.map(ee=>ee.id))},X=()=>{L.length===at.length?q([]):q(at.map(ee=>ee.id))},Ne=ee=>{f==="year"?a(ee):f==="dateFrom"?y(ee):f==="dateTo"&&j(ee)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Apply OT Allowances"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch apply overtime allowances to selected employee groups. Configure OT compensation across multiple employees within a specified date range efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter employees by status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review selected employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply allowances"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(ee=>e.jsxs("button",{onClick:()=>s(ee.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ee.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(ee.icon,{className:"w-4 h-4"}),ee.name]},ee.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ee=>P(ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===pe.length&&pe.length>0,onChange:ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:bt.map(ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(ee.id),onChange:()=>_e(ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ee.description})]},ee.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",at.length===0?0:_t+1," to ",Math.min(it,pe.length)," of ",pe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(ee=>Math.max(ee-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),se().map((ee,de)=>ee==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${de}`):e.jsx("button",{onClick:()=>te(ee),className:`px-2 py-1 rounded text-xs ${B===ee?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ee},ee)),e.jsx("button",{onClick:()=>te(ee=>Math.min(ee+1,ut)),disabled:B===ut||ut===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:ee=>T(ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===at.length&&at.length>0,onChange:X,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Y.map(ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(ee.id),onChange:()=>Ie(ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ee.name})]},ee.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Z+1," to ",Math.min(G,at.length)," of ",at.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(ee=>Math.max(1,ee-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((ee,de)=>typeof ee=="number"?e.jsx("button",{onClick:()=>fe(ee),className:`px-2 py-1 rounded text-xs ${oe===ee?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ee},de):e.jsx("span",{className:"px-2",children:ee},de)),e.jsx("button",{onClick:()=>fe(ee=>Math.min(ue,ee+1)),disabled:oe===ue,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:ee=>y(ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:ee=>j(ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsx("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ie,disabled:ne,children:"Update"})})]})})]})]})]})]})}),f&&e.jsx(CX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:Ne,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function kX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function DX(){const[t,s]=o.useState(""),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState([]),[g,y]=o.useState(1),C=10,[j,S]=o.useState(!1),[P,D]=o.useState(""),[T,A]=o.useState(""),[M,L]=o.useState(!1),[q,B]=o.useState(!1),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState("");o.useEffect(()=>{y(1)},[f,te]);const H=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Fe=>({id:Fe.ID||Fe.id,code:Fe.groupCode||Fe.code,description:Fe.groupDescription||Fe.description}));o.useEffect(()=>{(async()=>{const Fe=await H();oe(Fe)})()},[]),o.useEffect(()=>{F()},[]);const F=async()=>{R(!0),J("");try{const De=await ae.get("/EmployeeMasterFile");if(De.status===200&&De.data){const Fe=De.data.map(Ae=>({empCode:Ae.empCode||Ae.code||"",name:`${Ae.lName||""}, ${Ae.fName||""} ${Ae.mName||""}`.trim(),groupCode:Ae.grpCode||""}));W(Fe)}}catch(De){const Fe=De.response?.data?.message||De.message||"Failed to load employees";J(Fe),console.error("Error fetching employees:",De)}finally{R(!1)}},I=(De,Fe)=>{D(De),A(Fe),L(!1)},U=te.filter(De=>De.code.toLowerCase().includes(f.toLowerCase())||De.description.toLowerCase().includes(f.toLowerCase())),k=Math.ceil(U.length/C),O=(g-1)*C,he=O+C,ye=U.slice((g-1)*C,g*C),be=()=>{const De=[];if(k<=7)for(let Fe=1;Fe<=k;Fe++)De.push(Fe);else if(g<=4){for(let Fe=1;Fe<=5;Fe++)De.push(Fe);De.push("..."),De.push(k)}else if(g>=k-3){De.push(1),De.push("...");for(let Fe=k-4;Fe<=k;Fe++)De.push(Fe)}else{De.push(1),De.push("...");for(let Fe=g-1;Fe<=g+1;Fe++)De.push(Fe);De.push("..."),De.push(k)}return De},je=De=>{v(De?ye.map(Fe=>Fe.id):[])},ge=(De,Fe)=>{v(Ae=>Fe?[...Ae,De]:Ae.filter(ze=>ze!==De))},xe=async()=>{if(!p.length){await Q.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!P.length){await Q.fire({icon:"error",title:"Error",text:"Please select Employee.",timer:2e3,showConfirmButton:!0});return}if(!t){await Q.fire({icon:"error",title:"Error",text:"Please select Date to Apply.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Break1 and Breaks Overbreak.",timer:2e3,showConfirmButton:!1}),v([]),A(""),D(""),s(""),a(""),l("")}catch(De){console.error(De),alert("Failed to update records")}finally{S(!1)}},Se=De=>{i==="dateToApply"?s(De):i==="dateFrom"?a(De):i==="dateTo"&&l(De)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Apply Break1 and Breaks Overbreak"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply break time adjustments and manage break overbreak for selected employee groups. Configure break periods and calculate grace periods efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search employees by code or name"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Compute break adjustments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:De=>N(De.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:ye.length>0&&ye.every(De=>p.includes(De.id)),onChange:De=>je(De.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ye.map(De=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(De.id),onChange:Fe=>ge(De.id,Fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:De.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:De.description})]},De.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",U.length===0?0:O+1," to ",Math.min(he,U.length)," of ",U.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(De=>Math.max(De-1,1)),disabled:g===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),be().map((De,Fe)=>De==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Fe}`):e.jsx("button",{onClick:()=>y(De),className:`px-2 py-1 rounded text-xs ${g===De?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De},De)),e.jsx("button",{onClick:()=>y(De=>Math.min(De+1,k)),disabled:g===k||k===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To Apply:"}),e.jsx("input",{type:"text",value:t,onChange:De=>s(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(hs,{date:t,onChange:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"From:"}),e.jsx("input",{type:"text",value:r,onChange:De=>a(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a}),e.jsx("label",{className:"text-sm text-gray-700",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:De=>l(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Employee:"}),e.jsx("input",{type:"text",value:P&&T?`${P} - ${T}`:"",onChange:De=>A(De.target.value),readOnly:!0,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx("button",{onClick:()=>L(!0),className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(nt,{onClick:()=>{A(""),D("")},className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(TA,{className:"w-4 h-4"}),"Compute"]}),e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:xe,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"WorkShift"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawDate"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak1Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak1In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak3Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak3In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"AfterGrace"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"WithinGrace"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Next"})]}),e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Deduct"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"AppDate"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Next"})]}),e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""})]})]})]})]})]})}),i&&e.jsx(kX,{value:i==="dateToApply"?t:i==="dateFrom"?r:n,onChange:Se,onClose:()=>d(null),position:x}),e.jsx(na,{isOpen:M,onClose:()=>L(!1),onSelect:I,employees:V,loading:fe,error:ne}),e.jsx(Qt,{})]})}function EX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function TX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),Ge=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(bt=>({id:bt.ID||bt.id,code:bt.groupCode||bt.code,description:bt.groupDescription||bt.description}));o.useEffect(()=>{(async()=>{const bt=await Ge();F(bt)})()},[]);const et=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(bt=>({id:bt.braID||bt.ID,code:bt.braCode||bt.code,description:bt.braDesc||bt.description}));o.useEffect(()=>{(async()=>{const bt=await et();O(bt)})()},[]);const yt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(bt=>({id:bt.depID||bt.ID,code:bt.depCode||bt.code,description:bt.depDesc||bt.description}));o.useEffect(()=>{(async()=>{const bt=await yt();je(bt)})()},[]);const mt=async()=>{const it=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(it.data)?it.data:[]).map(se=>({id:se.grpSchID||se.id||se.ID,code:se.grpCode||se.code,description:se.grpDesc||se.description}))};o.useEffect(()=>{(async()=>{const bt=await mt();De(bt)})()},[]);const jt=async()=>{const it=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(it.data)?it.data:[]).map(se=>({id:se.lineID??se.ID??se.id,code:se.lineCode??se.code,description:se.lineDesc??se.Description??se.description}))};o.useEffect(()=>{(async()=>{const bt=await jt();He(bt)})()},[]);const we=async()=>{const it=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(it.data)?it.data:[]).map(se=>({id:se.secID??se.ID??se.id,code:se.secCode??se.sectionCode??se.code,description:se.secDesc??se.Description??se.description}))};o.useEffect(()=>{(async()=>{const bt=await we();Me(bt)})()},[]);const Re=async()=>{const it=await ae.get("/EmployeeMasterFile");return(Array.isArray(it.data)?it.data:[]).map(se=>({id:se.empID??se.ID??se.id,code:se.empCode||se.code||"",name:`${se.lName||""}, ${se.fName||""} ${se.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const bt=await Re();Je(bt)})()},[]);const Ye=(()=>{switch(t){case"Branch":return k;case"Department":return be;case"Group Schedule":return Se;case"Pay House":return ze;case"Section":return ve;default:return H}})(),pt=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Allowance per Bracket.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(it){console.error(it),alert("Failed to update records")}finally{W(!1)}},Ft=Ye.filter(it=>it.code.toLowerCase().includes(S.toLowerCase())||it.description.toLowerCase().includes(S.toLowerCase())),Bt=ot.filter(it=>it.code.toLowerCase().includes(D.toLowerCase())||it.name.toLowerCase().includes(D.toLowerCase())),Lt=Math.ceil(Ft.length/R),Qe=(B-1)*R,gt=Qe+R,vt=Ft.slice((B-1)*R,B*R),xt=()=>{const it=[];if(Lt<=7)for(let bt=1;bt<=Lt;bt++)it.push(bt);else if(B<=4){for(let bt=1;bt<=5;bt++)it.push(bt);it.push("..."),it.push(Lt)}else if(B>=Lt-3){it.push(1),it.push("...");for(let bt=Lt-4;bt<=Lt;bt++)it.push(bt)}else{it.push(1),it.push("...");for(let bt=B-1;bt<=B+1;bt++)it.push(bt);it.push("..."),it.push(Lt)}return it},Ct=Math.ceil(Bt.length/R),Nt=(oe-1)*R,$e=Nt+R,Ke=Bt.slice((oe-1)*R,oe*R),ce=()=>{const it=[];if(Ct<=5)return Array.from({length:Ct},(Z,G)=>G+1);it.push(1),oe>3&&it.push("...");const se=Math.max(2,oe-1),ue=Math.min(Ct-1,oe+1);for(let Z=se;Z<=ue;Z++)it.push(Z);return oe<Ct-2&&it.push("..."),it.push(Ct),it},Ee=it=>{M(bt=>bt.includes(it)?bt.filter(se=>se!==it):[...bt,it])},pe=it=>{q(bt=>bt.includes(it)?bt.filter(se=>se!==it):[...bt,it])},at=()=>{A.length===Ft.length?M([]):M(Ft.map(it=>it.id))},ut=()=>{L.length===Bt.length?q([]):q(Bt.map(it=>it.id))},_t=it=>{f==="year"?a(it):f==="dateFrom"?y(it):f==="dateTo"&&j(it)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Allowance Per Bracket"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update allowance brackets for selected employee groups. Configure compensation brackets across multiple employees within specified date ranges efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify effective date"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(it=>e.jsxs("button",{onClick:()=>s(it.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===it.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(it.icon,{className:"w-4 h-4"}),it.name]},it.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:it=>P(it.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===Ft.length&&Ft.length>0,onChange:at,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:vt.map(it=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(it.id),onChange:()=>Ee(it.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:it.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:it.description})]},it.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ft.length===0?0:Qe+1," to ",Math.min(gt,Ft.length)," of ",Ft.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(it=>Math.max(it-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),xt().map((it,bt)=>it==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${bt}`):e.jsx("button",{onClick:()=>te(it),className:`px-2 py-1 rounded text-xs ${B===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>te(it=>Math.min(it+1,Lt)),disabled:B===Lt||Lt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:it=>T(it.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Bt.length&&Bt.length>0,onChange:ut,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map(it=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(it.id),onChange:()=>pe(it.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:it.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:it.name})]},it.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Nt+1," to ",Math.min($e,Bt.length)," of ",Bt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(it=>Math.max(1,it-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ce().map((it,bt)=>typeof it=="number"?e.jsx("button",{onClick:()=>fe(it),className:`px-2 py-1 rounded text-xs ${oe===it?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},bt):e.jsx("span",{className:"px-2",children:it},bt)),e.jsx("button",{onClick:()=>fe(it=>Math.min(Ct,it+1)),disabled:oe===Ct,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:it=>y(it.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:it=>j(it.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:pt,disabled:V,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(EX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:_t,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function AX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function FX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(""),yt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ue=>({id:ue.ID||ue.id,code:ue.groupCode||ue.code,description:ue.groupDescription||ue.description}));o.useEffect(()=>{(async()=>{const ue=await yt();F(ue)})()},[]);const mt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(ue=>({id:ue.braID||ue.ID,code:ue.braCode||ue.code,description:ue.braDesc||ue.description}));o.useEffect(()=>{(async()=>{const ue=await mt();O(ue)})()},[]);const jt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(ue=>({id:ue.depID||ue.ID,code:ue.depCode||ue.code,description:ue.depDesc||ue.description}));o.useEffect(()=>{(async()=>{const ue=await jt();je(ue)})()},[]);const we=async()=>{const se=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(se.data)?se.data:[]).map(Z=>({id:Z.grpSchID||Z.id||Z.ID,code:Z.grpCode||Z.code,description:Z.grpDesc||Z.description}))};o.useEffect(()=>{(async()=>{const ue=await we();De(ue)})()},[]);const Re=async()=>{const se=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(se.data)?se.data:[]).map(Z=>({id:Z.lineID??Z.ID??Z.id,code:Z.lineCode??Z.code,description:Z.lineDesc??Z.Description??Z.description}))};o.useEffect(()=>{(async()=>{const ue=await Re();He(ue)})()},[]);const me=async()=>{const se=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(se.data)?se.data:[]).map(Z=>({id:Z.secID??Z.ID??Z.id,code:Z.secCode??Z.sectionCode??Z.code,description:Z.secDesc??Z.Description??Z.description}))};o.useEffect(()=>{(async()=>{const ue=await me();Me(ue)})()},[]);const Ye=async()=>{const se=await ae.get("/EmployeeMasterFile");return(Array.isArray(se.data)?se.data:[]).map(Z=>({id:Z.empID??Z.ID??Z.id,code:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ue=await Ye();Je(ue)})()},[]);const Bt=(()=>{switch(t){case"Branch":return k;case"Department":return be;case"Group Schedule":return Se;case"Pay House":return ze;case"Section":return ve;default:return H}})().filter(se=>se.code.toLowerCase().includes(S.toLowerCase())||se.description.toLowerCase().includes(S.toLowerCase())),Lt=ot.filter(se=>se.code.toLowerCase().includes(D.toLowerCase())||se.name.toLowerCase().includes(D.toLowerCase())),Qe=Math.ceil(Bt.length/R),gt=(B-1)*R,vt=gt+R,xt=Bt.slice((B-1)*R,B*R),Ct=()=>{const se=[];if(Qe<=7)for(let ue=1;ue<=Qe;ue++)se.push(ue);else if(B<=4){for(let ue=1;ue<=5;ue++)se.push(ue);se.push("..."),se.push(Qe)}else if(B>=Qe-3){se.push(1),se.push("...");for(let ue=Qe-4;ue<=Qe;ue++)se.push(ue)}else{se.push(1),se.push("...");for(let ue=B-1;ue<=B+1;ue++)se.push(ue);se.push("..."),se.push(Qe)}return se},Nt=Math.ceil(Lt.length/R),$e=(oe-1)*R,Ke=$e+R,ce=Lt.slice((oe-1)*R,oe*R),Ee=()=>{const se=[];if(Nt<=5)return Array.from({length:Nt},(Y,_)=>_+1);se.push(1),oe>3&&se.push("...");const Z=Math.max(2,oe-1),G=Math.min(Nt-1,oe+1);for(let Y=Z;Y<=G;Y++)se.push(Y);return oe<Nt-2&&se.push("..."),se.push(Nt),se},pe=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0);const se={dateFrom:g,dateTo:C,empCode:L};console.log("Sending payload:",se),await ae.put("/Utilities/UpdateGLCodeUtilityByDate,",se),await Q.fire({icon:"success",title:"Success",text:`GL code policy settings successfully updated for employees: ${L.map(ue=>ue.toString()).join(", ")}`,timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(se){const ue=se.response?.data?.message||se.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:ue}),console.error("Error submitting form:",se)}finally{W(!1)}},at=se=>{M(ue=>ue.includes(se)?ue.filter(Z=>Z!==se):[...ue,se])},ut=se=>{q(ue=>ue.includes(se)?ue.filter(Z=>Z!==se):[...ue,se])},_t=()=>{A.length===Bt.length?M([]):M(Bt.map(se=>se.id))},it=()=>{L.length===Lt.length?q([]):q(Lt.map(se=>se.id))},bt=se=>{f==="year"?a(se):f==="dateFrom"?y(se):f==="dateTo"&&j(se)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update GL Code Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update General Ledger codes for processed timekeeping data. Apply GL code mappings to employee transactions for accounting integration and financial reporting purposes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch update GL codes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(se=>e.jsxs("button",{onClick:()=>s(se.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===se.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(se.icon,{className:"w-4 h-4"}),se.name]},se.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:se=>P(se.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===Bt.length&&Bt.length>0,onChange:_t,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:xt.map(se=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(se.id),onChange:()=>at(se.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:se.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:se.description})]},se.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Lt.length===0?0:gt+1," to ",Math.min(vt,Bt.length)," of ",Bt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(se=>Math.max(se-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ct().map((se,ue)=>se==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ue}`):e.jsx("button",{onClick:()=>te(se),className:`px-2 py-1 rounded text-xs ${B===se?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:se},se)),e.jsx("button",{onClick:()=>te(se=>Math.min(se+1,Qe)),disabled:B===Qe||Qe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:se=>T(se.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Lt.length&&Lt.length>0,onChange:it,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.map(se=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(se.id),onChange:()=>ut(se.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:se.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:se.name})]},se.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",$e+1," to ",Math.min(Ke,Lt.length)," of ",Lt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(se=>Math.max(1,se-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ee().map((se,ue)=>typeof se=="number"?e.jsx("button",{onClick:()=>fe(se),className:`px-2 py-1 rounded text-xs ${oe===se?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:se},ue):e.jsx("span",{className:"px-2",children:se},ue)),e.jsx("button",{onClick:()=>fe(se=>Math.min(Nt,se+1)),disabled:oe===Nt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:se=>y(se.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:se=>j(se.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:pe,disabled:V,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(AX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:bt,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function PX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function MX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),[Ye,pt]=o.useState(""),Ft=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ne=>({id:Ne.ID||Ne.id,code:Ne.groupCode||Ne.code,description:Ne.groupDescription||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Ft();F(Ne)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ne=>({id:Ne.braID||Ne.ID,code:Ne.braCode||Ne.code,description:Ne.braDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Bt();O(Ne)})()},[]);const Lt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ne=>({id:Ne.depID||Ne.ID,code:Ne.depCode||Ne.code,description:Ne.depDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Lt();je(Ne)})()},[]);const Qe=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Ne=>({id:Ne.divID||Ne.ID,code:Ne.divCode||Ne.code,description:Ne.divDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Qe();De(Ne)})()},[]);const gt=async()=>{const X=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.grpSchID||ee.id||ee.ID,code:ee.grpCode||ee.code,description:ee.grpDesc||ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await gt();He(Ne)})()},[]);const vt=async()=>{const X=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.lineID??ee.ID??ee.id,code:ee.lineCode??ee.code,description:ee.lineDesc??ee.Description??ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await vt();Me(Ne)})()},[]);const xt=async()=>{const X=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.secID??ee.ID??ee.id,code:ee.secCode??ee.sectionCode??ee.code,description:ee.secDesc??ee.Description??ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await xt();Je(Ne)})()},[]);const Ct=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Ne=>({id:Ne.unitID||Ne.ID,code:Ne.unitCode||Ne.code,description:Ne.unitDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Ct();mt(Ne)})()},[]);const Nt=async()=>{const X=await ae.get("/EmployeeMasterFile");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.empID??ee.ID??ee.id,code:ee.empCode||ee.code||"",name:`${ee.lName||""}, ${ee.fName||""} ${ee.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ne=await Nt();me(Ne)})()},[]);const ce=(()=>{switch(t){case"Branch":return k;case"Department":return be;case"Division":return Se;case"Group Schedule":return ze;case"Pay House":return ve;case"Section":return ot;case"Unit":return yt;default:return H}})().filter(X=>X.code.toLowerCase().includes(S.toLowerCase())||X.description.toLowerCase().includes(S.toLowerCase())),Ee=Re.filter(X=>X.code.toLowerCase().includes(D.toLowerCase())||X.name.toLowerCase().includes(D.toLowerCase())),pe=Math.ceil(ce.length/R),at=(B-1)*R,ut=at+R,_t=ce.slice((B-1)*R,B*R),it=()=>{const X=[];if(pe<=7)for(let Ne=1;Ne<=pe;Ne++)X.push(Ne);else if(B<=4){for(let Ne=1;Ne<=5;Ne++)X.push(Ne);X.push("..."),X.push(pe)}else if(B>=pe-3){X.push(1),X.push("...");for(let Ne=pe-4;Ne<=pe;Ne++)X.push(Ne)}else{X.push(1),X.push("...");for(let Ne=B-1;Ne<=B+1;Ne++)X.push(Ne);X.push("..."),X.push(pe)}return X},bt=Math.ceil(Ee.length/R),se=(oe-1)*R,ue=se+R,Z=Ee.slice((oe-1)*R,oe*R),G=()=>{const X=[];if(bt<=5)return Array.from({length:bt},(re,We)=>We+1);X.push(1),oe>3&&X.push("...");const ee=Math.max(2,oe-1),de=Math.min(bt-1,oe+1);for(let re=ee;re<=de;re++)X.push(re);return oe<bt-2&&X.push("..."),X.push(bt),X},Y=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await Q.fire({icon:"success",title:"Success",text:"Flexi Break settings successfully updated.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(X){console.error(X),alert("Failed to update records")}finally{W(!1)}},_=X=>{M(Ne=>Ne.includes(X)?Ne.filter(ee=>ee!==X):[...Ne,X])},ie=X=>{q(Ne=>Ne.includes(X)?Ne.filter(ee=>ee!==X):[...Ne,X])},_e=()=>{A.length===ce.length?M([]):M(ce.map(X=>X.id))},Ie=()=>{L.length===Ee.length?q([]):q(Ee.map(X=>X.id))},ke=X=>{f==="year"?a(X):f==="dateFrom"?y(X):f==="dateTo"&&j(X)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Flexi Break Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update flexible break configurations for selected employees. Apply customized break time policies and manage break hour allocations based on workshift requirements."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch update flexi break settings"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(X=>e.jsxs("button",{onClick:()=>s(X.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===X.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(X.icon,{className:"w-4 h-4"}),X.name]},X.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:X=>P(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===ce.length&&ce.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(X.id),onChange:()=>_(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.description})]},X.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ee.length===0?0:at+1," to ",Math.min(ut,ce.length)," of ",ce.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(X=>Math.max(X-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),it().map((X,Ne)=>X==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ne}`):e.jsx("button",{onClick:()=>te(X),className:`px-2 py-1 rounded text-xs ${B===X?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},X)),e.jsx("button",{onClick:()=>te(X=>Math.min(X+1,pe)),disabled:B===pe||pe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:X=>T(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Ee.length&&Ee.length>0,onChange:Ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(X.id),onChange:()=>ie(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.name})]},X.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",se+1," to ",Math.min(ue,Ee.length)," of ",Ee.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(X=>Math.max(1,X-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),G().map((X,Ne)=>typeof X=="number"?e.jsx("button",{onClick:()=>fe(X),className:`px-2 py-1 rounded text-xs ${oe===X?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},Ne):e.jsx("span",{className:"px-2",children:X},Ne)),e.jsx("button",{onClick:()=>fe(X=>Math.min(bt,X+1)),disabled:oe===bt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:X=>y(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:X=>j(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Y,disabled:V,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(PX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:ke,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function IX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function LX(){const[t,s]=o.useState("5/5/2021"),[r,a]=o.useState("05/05/2021"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState(null),[x,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState([]),[g,y]=o.useState(1),C=10,[j,S]=o.useState(!1),[P,D]=o.useState(""),[T,A]=o.useState(""),[M,L]=o.useState(!1),[q,B]=o.useState(!1),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState("");o.useEffect(()=>{y(1)},[f,te]);const H=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ae=>({id:Ae.ID||Ae.id,code:Ae.groupCode||Ae.code,description:Ae.groupDescription||Ae.description}));o.useEffect(()=>{(async()=>{const Ae=await H();oe(Ae)})()},[]),o.useEffect(()=>{F()},[]);const F=async()=>{R(!0),J("");try{const Fe=await ae.get("/EmployeeMasterFile");if(Fe.status===200&&Fe.data){const Ae=Fe.data.map(ze=>({empCode:ze.empCode||ze.code||"",name:`${ze.lName||""}, ${ze.fName||""} ${ze.mName||""}`.trim(),groupCode:ze.grpCode||""}));W(Ae)}}catch(Fe){const Ae=Fe.response?.data?.message||Fe.message||"Failed to load employees";J(Ae),console.error("Error fetching employees:",Fe)}finally{R(!1)}},I=(Fe,Ae)=>{D(Fe),A(Ae),L(!1)},U=te.filter(Fe=>Fe.code.toLowerCase().includes(f.toLowerCase())||Fe.description.toLowerCase().includes(f.toLowerCase())),k=Math.ceil(U.length/C),O=(g-1)*C,he=O+C,ye=U.slice((g-1)*C,g*C),be=()=>{const Fe=[];if(k<=7)for(let Ae=1;Ae<=k;Ae++)Fe.push(Ae);else if(g<=4){for(let Ae=1;Ae<=5;Ae++)Fe.push(Ae);Fe.push("..."),Fe.push(k)}else if(g>=k-3){Fe.push(1),Fe.push("...");for(let Ae=k-4;Ae<=k;Ae++)Fe.push(Ae)}else{Fe.push(1),Fe.push("...");for(let Ae=g-1;Ae<=g+1;Ae++)Fe.push(Ae);Fe.push("..."),Fe.push(k)}return Fe},je=async()=>{if(!p.length){await Q.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!P.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee to update.",timer:2e3,showConfirmButton:!0});return}if(!t||!r){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated SSS Notification.",timer:2e3,showConfirmButton:!1}),v([]),s(""),a("")}catch(Fe){console.error(Fe),alert("Failed to update records")}finally{S(!1)}},ge=async()=>{if(!p.length){await Q.fire({icon:"error",title:"Error",text:"Please select TK Group item/s.",timer:2e3,showConfirmButton:!0});return}if(!t||!r){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{S(!0),await Q.fire({icon:"warning",title:"Success",text:"Successfully Unpost No. of Hours Per Week.",timer:2e3,background:"#da1526",showConfirmButton:!1}),v([]),s(""),a("")}catch(Fe){console.error(Fe),alert("Failed to update records")}finally{S(!1)}},xe=Fe=>{v(Fe?ye.map(Ae=>Ae.id):[])},Se=(Fe,Ae)=>{v(ze=>Ae?[...ze,Fe]:ze.filter(He=>He!==Fe))},De=Fe=>{i==="dateFrom"?s(Fe):i==="dateTo"?a(Fe):i==="appliedDate"&&l(Fe)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update SSS Notification"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(vi,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update SSS notification records for processed employees. Manage social security notifications and track applied dates efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search employees by code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set applied date for notifications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:f,onChange:Fe=>N(Fe.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:ye.length>0&&ye.every(Fe=>p.includes(Fe.id)),onChange:Fe=>xe(Fe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ye.map(Fe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(Fe.id),onChange:Ae=>Se(Fe.id,Ae.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Fe.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Fe.description})]},Fe.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",U.length===0?0:O+1," to ",Math.min(he,U.length)," of ",U.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(Fe=>Math.max(Fe-1,1)),disabled:g===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),be().map((Fe,Ae)=>Fe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ae}`):e.jsx("button",{onClick:()=>y(Fe),className:`px-2 py-1 rounded text-xs ${g===Fe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Fe},Fe)),e.jsx("button",{onClick:()=>y(Fe=>Math.min(Fe+1,k)),disabled:g===k||k===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range and Processed Employee"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:Fe=>s(Fe.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(hs,{date:t,onChange:s})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:r,onChange:Fe=>a(Fe.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(hs,{date:r,onChange:a})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Employee:"}),e.jsx("input",{type:"text",value:P&&T?`${P} - ${T}`:"",onChange:Fe=>A(Fe.target.value),readOnly:!0,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx("button",{onClick:()=>L(!0),className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(nt,{onClick:()=>{A(""),D("")},className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:je,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:ge,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})]})]})]})]})}),i&&e.jsx(IX,{value:i==="dateFrom"?t:i==="dateTo"?r:n,onChange:De,onClose:()=>d(null),position:x}),e.jsx(na,{isOpen:M,onClose:()=>L(!1),onSelect:I,employees:V,loading:fe,error:ne})]})}function _X({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function OX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState("active"),[m,b]=o.useState(null),[f,N]=o.useState({top:0,left:0}),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState([]),[S,P]=o.useState([]),[D,T]=o.useState(1),[A,M]=o.useState(1),L=10,[q,B]=o.useState(!1);o.useEffect(()=>{T(1)},[t]);const[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState(!1),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),ve=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(pe=>({id:pe.ID||pe.id,code:pe.groupCode||pe.code,description:pe.groupDescription||pe.description}));o.useEffect(()=>{(async()=>{const pe=await ve();R(pe)})()},[]);const Me=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(pe=>({id:pe.braID||pe.ID,code:pe.braCode||pe.code,description:pe.braDesc||pe.description}));o.useEffect(()=>{(async()=>{const pe=await Me();J(pe)})()},[]);const Te=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(pe=>({id:pe.depID||pe.ID,code:pe.depCode||pe.code,description:pe.depDesc||pe.description}));o.useEffect(()=>{(async()=>{const pe=await Te();U(pe)})()},[]);const Le=async()=>{const Ee=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Ee.data)?Ee.data:[]).map(at=>({id:at.grpSchID||at.id||at.ID,code:at.grpCode||at.code,description:at.grpDesc||at.description}))};o.useEffect(()=>{(async()=>{const pe=await Le();ye(pe)})()},[]);const ot=async()=>{const Ee=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Ee.data)?Ee.data:[]).map(at=>({id:at.lineID??at.ID??at.id,code:at.lineCode??at.code,description:at.lineDesc??at.Description??at.description}))};o.useEffect(()=>{(async()=>{const pe=await ot();xe(pe)})()},[]);const Je=async()=>{const Ee=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Ee.data)?Ee.data:[]).map(at=>({id:at.secID??at.ID??at.id,code:at.secCode??at.sectionCode??at.code,description:at.secDesc??at.Description??at.description}))};o.useEffect(()=>{(async()=>{const pe=await Je();Ae(pe)})()},[]);const Ge=async()=>{const Ee=await ae.get("/EmployeeMasterFile");return(Array.isArray(Ee.data)?Ee.data:[]).map(at=>({id:at.empID??at.ID??at.id,code:at.empCode||at.code||"",name:`${at.lName||""}, ${at.fName||""} ${at.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const pe=await Ge();qe(pe)})()},[]);const yt=(()=>{switch(t){case"Branch":return ne;case"Department":return I;case"Group Schedule":return he;case"Pay House":return ge;case"Section":return Fe;default:return fe}})(),mt=async()=>{if(!S.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!i){await Q.fire({icon:"error",title:"Error",text:"Please select Date to Apply.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully Updated No. of Hours Per Week.",timer:2e3,showConfirmButton:!1}),j([]),P([]),a(""),l(""),d("")}catch(Ee){console.error(Ee),alert("Failed to update records")}finally{B(!1)}},jt=async()=>{if(!S.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!i){await Q.fire({icon:"error",title:"Error",text:"Please select Date to Apply.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await Q.fire({icon:"warning",title:"Success",text:"Successfully Unpost No. of Hours Per Week.",timer:2e3,background:"#da1526",showConfirmButton:!1}),j([]),P([]),a(""),l(""),d("")}catch(Ee){console.error(Ee),alert("Failed to update records")}finally{B(!1)}},we=yt.filter(Ee=>Ee.code.toLowerCase().includes(p.toLowerCase())||Ee.description.toLowerCase().includes(p.toLowerCase())),Re=Ve.filter(Ee=>Ee.code.toLowerCase().includes(g.toLowerCase())||Ee.name.toLowerCase().includes(g.toLowerCase())),me=Math.ceil(we.length/L),Ye=(D-1)*L,pt=Ye+L,Ft=we.slice((D-1)*L,D*L),Bt=()=>{const Ee=[];if(me<=7)for(let pe=1;pe<=me;pe++)Ee.push(pe);else if(D<=4){for(let pe=1;pe<=5;pe++)Ee.push(pe);Ee.push("..."),Ee.push(me)}else if(D>=me-3){Ee.push(1),Ee.push("...");for(let pe=me-4;pe<=me;pe++)Ee.push(pe)}else{Ee.push(1),Ee.push("...");for(let pe=D-1;pe<=D+1;pe++)Ee.push(pe);Ee.push("..."),Ee.push(me)}return Ee},Lt=Math.ceil(Re.length/L),Qe=(A-1)*L,gt=Qe+L,vt=Re.slice((A-1)*L,A*L),xt=()=>{const Ee=[];if(Lt<=5)return Array.from({length:Lt},(_t,it)=>it+1);Ee.push(1),A>3&&Ee.push("...");const at=Math.max(2,A-1),ut=Math.min(Lt-1,A+1);for(let _t=at;_t<=ut;_t++)Ee.push(_t);return A<Lt-2&&Ee.push("..."),Ee.push(Lt),Ee},Ct=Ee=>{j(pe=>pe.includes(Ee)?pe.filter(at=>at!==Ee):[...pe,Ee])},Nt=Ee=>{P(pe=>pe.includes(Ee)?pe.filter(at=>at!==Ee):[...pe,Ee])},$e=()=>{C.length===we.length?j([]):j(we.map(Ee=>Ee.id))},Ke=()=>{S.length===Re.length?P([]):P(Re.map(Ee=>Ee.id))},ce=Ee=>{m==="dateToApply"?d(Ee):m==="dateFrom"?a(Ee):m==="dateTo"&&l(Ee)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update No. of Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update the number of hours per week for selected employee groups. Configure weekly hour requirements across multiple employees efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify effective dates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(Ee=>e.jsxs("button",{onClick:()=>s(Ee.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ee.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ee.icon,{className:"w-4 h-4"}),Ee.name]},Ee.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Ee=>v(Ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===we.length&&we.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ft.map(Ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(Ee.id),onChange:()=>Ct(Ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ee.description})]},Ee.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Re.length===0?0:Ye+1," to ",Math.min(pt,we.length)," of ",we.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>T(Ee=>Math.max(Ee-1,1)),disabled:D===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Bt().map((Ee,pe)=>Ee==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${pe}`):e.jsx("button",{onClick:()=>T(Ee),className:`px-2 py-1 rounded text-xs ${D===Ee?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ee},Ee)),e.jsx("button",{onClick:()=>T(Ee=>Math.min(Ee+1,me)),disabled:D===me||me===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:Ee=>y(Ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===Re.length&&Re.length>0,onChange:Ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:vt.map(Ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(Ee.id),onChange:()=>Nt(Ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ee.name})]},Ee.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Qe+1," to ",Math.min(gt,Re.length)," of ",Re.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(Ee=>Math.max(1,Ee-1)),disabled:A===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),xt().map((Ee,pe)=>typeof Ee=="number"?e.jsx("button",{onClick:()=>M(Ee),className:`px-2 py-1 rounded text-xs ${A===Ee?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ee},pe):e.jsx("span",{className:"px-2",children:Ee},pe)),e.jsx("button",{onClick:()=>M(Ee=>Math.min(Lt,Ee+1)),disabled:A===Lt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:x==="active",onChange:()=>h("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:x==="inactive",onChange:()=>h("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:x==="all",onChange:()=>h("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:r,onChange:Ee=>a(Ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:n,onChange:Ee=>l(Ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date Applied:"}),e.jsx("input",{type:"text",value:i,onChange:Ee=>d(Ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:i,onChange:d})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 mt-4",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:mt,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:jt,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})]})]})]})]})}),m&&e.jsx(_X,{value:m==="dateToApply"?i:m==="dateFrom"?r:n,onChange:ce,onClose:()=>b(null),position:f})]})}function BX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function RX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState([]),[D,T]=o.useState([]),[A,M]=o.useState(1),[L,q]=o.useState(1),B=10,[te,oe]=o.useState(!1);o.useEffect(()=>{M(1)},[t]);const[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),jt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ie=>({id:ie.ID||ie.id,code:ie.groupCode||ie.code,description:ie.groupDescription||ie.description}));o.useEffect(()=>{(async()=>{const ie=await jt();W(ie)})()},[]);const we=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(ie=>({id:ie.braID||ie.ID,code:ie.braCode||ie.code,description:ie.braDesc||ie.description}));o.useEffect(()=>{(async()=>{const ie=await we();F(ie)})()},[]);const Re=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(ie=>({id:ie.depID||ie.ID,code:ie.depCode||ie.code,description:ie.depDesc||ie.description})),me=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(ie=>({id:ie.divID||ie.ID,code:ie.divCode||ie.code,description:ie.divDesc||ie.description}));o.useEffect(()=>{(async()=>{const ie=await me();je(ie)})()},[]),o.useEffect(()=>{(async()=>{const ie=await Re();O(ie)})()},[]);const Ye=async()=>{const _=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(_.data)?_.data:[]).map(_e=>({id:_e.grpSchID||_e.id||_e.ID,code:_e.grpCode||_e.code,description:_e.grpDesc||_e.description}))};o.useEffect(()=>{(async()=>{const ie=await Ye();De(ie)})()},[]);const pt=async()=>{const _=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(_.data)?_.data:[]).map(_e=>({id:_e.lineID??_e.ID??_e.id,code:_e.lineCode??_e.code,description:_e.lineDesc??_e.Description??_e.description}))};o.useEffect(()=>{(async()=>{const ie=await pt();He(ie)})()},[]);const Ft=async()=>{const _=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(_.data)?_.data:[]).map(_e=>({id:_e.secID??_e.ID??_e.id,code:_e.secCode??_e.sectionCode??_e.code,description:_e.secDesc??_e.Description??_e.description}))};o.useEffect(()=>{(async()=>{const ie=await Ft();Me(ie)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(ie=>({id:ie.unitID||ie.ID,code:ie.unitCode||ie.code,description:ie.unitDesc||ie.description}));o.useEffect(()=>{(async()=>{const ie=await Bt();Je(ie)})()},[]);const Lt=async()=>{const _=await ae.get("/EmployeeMasterFile");return(Array.isArray(_.data)?_.data:[]).map(_e=>({id:_e.empID??_e.ID??_e.id,code:_e.empCode||_e.code||"",name:`${_e.lName||""}, ${_e.fName||""} ${_e.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ie=await Lt();mt(ie)})()},[]);const vt=(()=>{switch(t){case"Branch":return H;case"Department":return k;case"Division":return be;case"Group Schedule":return Se;case"Pay House":return ze;case"Section":return ve;case"Unit":return ot;default:return V}})().filter(_=>_.code.toLowerCase().includes(g.toLowerCase())||_.description.toLowerCase().includes(g.toLowerCase())),xt=yt.filter(_=>_.code.toLowerCase().includes(C.toLowerCase())||_.name.toLowerCase().includes(C.toLowerCase())),Ct=Math.ceil(vt.length/B),Nt=(A-1)*B,$e=Nt+B,Ke=vt.slice((A-1)*B,A*B),ce=()=>{const _=[];if(Ct<=7)for(let ie=1;ie<=Ct;ie++)_.push(ie);else if(A<=4){for(let ie=1;ie<=5;ie++)_.push(ie);_.push("..."),_.push(Ct)}else if(A>=Ct-3){_.push(1),_.push("...");for(let ie=Ct-4;ie<=Ct;ie++)_.push(ie)}else{_.push(1),_.push("...");for(let ie=A-1;ie<=A+1;ie++)_.push(ie);_.push("..."),_.push(Ct)}return _},Ee=Math.ceil(xt.length/B),pe=(L-1)*B,at=pe+B,ut=xt.slice((L-1)*B,L*B),_t=()=>{const _=[];if(Ee<=5)return Array.from({length:Ee},(ke,X)=>X+1);_.push(1),L>3&&_.push("...");const _e=Math.max(2,L-1),Ie=Math.min(Ee-1,L+1);for(let ke=_e;ke<=Ie;ke++)_.push(ke);return L<Ee-2&&_.push("..."),_.push(Ee),_},it=async()=>{if(!D.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!n||!r){await Q.fire({icon:"error",title:"Error",text:"Invalid Month or Year.",timer:2e3,showConfirmButton:!0});return}if(!i||isNaN(Number(i))||Number(i)<=0){await Q.fire({icon:"error",title:"Error",text:"Please fill no of Tardiness.",timer:2e3,showConfirmButton:!0});return}if(!x||isNaN(Number(x))||Number(x)<0){await Q.fire({icon:"error",title:"Error",text:"Please fill Grace Period.",timer:2e3,showConfirmButton:!0});return}try{oe(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully updated Tardiness Penalty.",timer:2e3,showConfirmButton:!1}),T([])}catch(_){console.error(_),alert("Failed to update records")}finally{oe(!1)}},bt=async()=>{if(!D.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!n.length||!r.length){await Q.fire({icon:"error",title:"Error",text:"Invalid Month or Year.",timer:2e3,showConfirmButton:!0});return}if(!i||isNaN(Number(i))||Number(i)<=0){await Q.fire({icon:"error",title:"Error",text:"Please fill no of Tardiness.",timer:2e3,showConfirmButton:!0});return}if(!x||isNaN(Number(x))||Number(x)<0){await Q.fire({icon:"error",title:"Error",text:"Please fill Grace Period.",timer:2e3,showConfirmButton:!0});return}try{oe(!0),await Q.fire({icon:"warning",title:"Success",text:"Successfully unposted Tardiness Penalty.",timer:2e3,background:"#da1526",showConfirmButton:!1}),P([]),T([]),a(""),l(""),d(""),h("")}catch(_){console.error(_),alert("Failed to update records")}finally{oe(!1)}},se=_=>{P(ie=>ie.includes(_)?ie.filter(_e=>_e!==_):[...ie,_])},ue=_=>{T(ie=>ie.includes(_)?ie.filter(_e=>_e!==_):[...ie,_])},Z=()=>{S.length===vt.length?P([]):P(vt.map(_=>_.id))},G=()=>{D.length===xt.length?T([]):T(xt.map(_=>_.id))},Y=_=>{f==="year"&&a(_)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Tardiness Penalty"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update tardiness penalties for selected employee groups. Configure penalty settings based on tardiness frequency and grace periods efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set year, month, and penalty parameters"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(_=>e.jsxs("button",{onClick:()=>s(_.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===_.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(_.icon,{className:"w-4 h-4"}),_.name]},_.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:_=>y(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===vt.length&&vt.length>0,onChange:Z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(_.id),onChange:()=>se(_.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:_.description})]},_.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",xt.length===0?0:Nt+1," to ",Math.min($e,vt.length)," of ",vt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>M(_=>Math.max(_-1,1)),disabled:A===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ce().map((_,ie)=>_==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ie}`):e.jsx("button",{onClick:()=>M(_),className:`px-2 py-1 rounded text-xs ${A===_?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},_)),e.jsx("button",{onClick:()=>M(_=>Math.min(_+1,Ct)),disabled:A===Ct||Ct===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:C,onChange:_=>j(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:D.length===xt.length&&xt.length>0,onChange:G,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ut.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:D.includes(_.id),onChange:()=>ue(_.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:_.name})]},_.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",pe+1," to ",Math.min(at,xt.length)," of ",xt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>q(_=>Math.max(1,_-1)),disabled:L===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_t().map((_,ie)=>typeof _=="number"?e.jsx("button",{onClick:()=>q(_),className:`px-2 py-1 rounded text-xs ${L===_?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},ie):e.jsx("span",{className:"px-2",children:_},ie)),e.jsx("button",{onClick:()=>q(_=>Math.min(Ee,_+1)),disabled:L===Ee,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Year"}),e.jsx("input",{type:"text",value:r,onChange:_=>a(_.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Month"}),e.jsxs("select",{value:n,onChange:_=>l(_.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full",children:[e.jsx("option",{value:"January",children:"January"}),e.jsx("option",{value:"February",children:"February"}),e.jsx("option",{value:"March",children:"March"}),e.jsx("option",{value:"April",children:"April"}),e.jsx("option",{value:"May",children:"May"}),e.jsx("option",{value:"June",children:"June"}),e.jsx("option",{value:"July",children:"July"}),e.jsx("option",{value:"August",children:"August"}),e.jsx("option",{value:"September",children:"September"}),e.jsx("option",{value:"October",children:"October"}),e.jsx("option",{value:"November",children:"November"}),e.jsx("option",{value:"December",children:"December"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"No of Tardiness"}),e.jsx("input",{type:"text",value:i,onChange:_=>d(_.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Grace Period [hh.mm]"}),e.jsx("input",{type:"text",value:x,onChange:_=>h(_.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:it,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:bt,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})})]})]})]})]})}),f&&e.jsx(BX,{value:f==="year"?r:"",onChange:Y,onClose:()=>N(null),position:p})]})}function HX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function UX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState([]),[S,P]=o.useState(1),[D,T]=o.useState(1),A=10,[M,L]=o.useState(!1);o.useEffect(()=>{P(1)},[t]);const[q,B]=o.useState(!1),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),Ve=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ke=>({id:Ke.ID||Ke.id,code:Ke.groupCode||Ke.code,description:Ke.groupDescription||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await Ve();oe(Ke)})()},[]);const qe=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ke=>({id:Ke.braID||Ke.ID,code:Ke.braCode||Ke.code,description:Ke.braDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await qe();W(Ke)})()},[]);const ve=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ke=>({id:Ke.depID||Ke.ID,code:Ke.depCode||Ke.code,description:Ke.depDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await ve();F(Ke)})()},[]);const Me=async()=>{const $e=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.grpSchID||ce.id||ce.ID,code:ce.grpCode||ce.code,description:ce.grpDesc||ce.description}))};o.useEffect(()=>{(async()=>{const Ke=await Me();O(Ke)})()},[]);const Te=async()=>{const $e=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.lineID??ce.ID??ce.id,code:ce.lineCode??ce.code,description:ce.lineDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const Ke=await Te();je(Ke)})()},[]);const Le=async()=>{const $e=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.secID??ce.ID??ce.id,code:ce.secCode??ce.sectionCode??ce.code,description:ce.secDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const Ke=await Le();De(Ke)})()},[]);const ot=async()=>{const $e=await ae.get("/EmployeeMasterFile");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.empID??ce.ID??ce.id,code:ce.empCode||ce.code||"",name:`${ce.lName||""}, ${ce.fName||""} ${ce.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ke=await ot();He(Ke)})()},[]);const et=(()=>{switch(t){case"Branch":return V;case"Department":return H;case"Group Schedule":return k;case"Pay House":return be;case"Section":return Se;default:return te}})().filter($e=>$e.code.toLowerCase().includes(f.toLowerCase())||$e.description.toLowerCase().includes(f.toLowerCase())),yt=ze.filter($e=>$e.code.toLowerCase().includes(p.toLowerCase())||$e.name.toLowerCase().includes(p.toLowerCase())),mt=Math.ceil(et.length/A),jt=(S-1)*A,we=jt+A,Re=et.slice((S-1)*A,S*A),me=()=>{const $e=[];if(mt<=7)for(let Ke=1;Ke<=mt;Ke++)$e.push(Ke);else if(S<=4){for(let Ke=1;Ke<=5;Ke++)$e.push(Ke);$e.push("..."),$e.push(mt)}else if(S>=mt-3){$e.push(1),$e.push("...");for(let Ke=mt-4;Ke<=mt;Ke++)$e.push(Ke)}else{$e.push(1),$e.push("...");for(let Ke=S-1;Ke<=S+1;Ke++)$e.push(Ke);$e.push("..."),$e.push(mt)}return $e},Ye=Math.ceil(yt.length/A),pt=(D-1)*A,Ft=pt+A,Bt=yt.slice((D-1)*A,D*A),Lt=()=>{const $e=[];if(Ye<=5)return Array.from({length:Ye},(pe,at)=>at+1);$e.push(1),D>3&&$e.push("...");const ce=Math.max(2,D-1),Ee=Math.min(Ye-1,D+1);for(let pe=ce;pe<=Ee;pe++)$e.push(pe);return D<Ye-2&&$e.push("..."),$e.push(Ye),$e},Qe=async()=>{if(!C.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{L(!0),await Q.fire({icon:"success",title:"Success",text:"Delete OT during restday successfully updated.",timer:2e3,showConfirmButton:!1}),y([]),j([]),a(""),l("")}catch($e){console.error($e),alert("Failed to update records")}finally{L(!1)}},gt=$e=>{y(Ke=>Ke.includes($e)?Ke.filter(ce=>ce!==$e):[...Ke,$e])},vt=$e=>{j(Ke=>Ke.includes($e)?Ke.filter(ce=>ce!==$e):[...Ke,$e])},xt=()=>{g.length===et.length?y([]):y(et.map($e=>$e.id))},Ct=()=>{C.length===yt.length?j([]):j(yt.map($e=>$e.id))},Nt=$e=>{x==="dateFrom1"?a($e):x==="dateFrom2"&&l($e)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete OT During Restday If Absent or Incomplete in Previous Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(is,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Automatically delete overtime entries during rest days if the employee was absent or had incomplete logs on the previous day. Process deletions efficiently within specified date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify date range for deletion"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map($e=>e.jsxs("button",{onClick:()=>s($e.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===$e.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx($e.icon,{className:"w-4 h-4"}),$e.name]},$e.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:$e=>N($e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:g.length===et.length&&et.length>0,onChange:xt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Re.map($e=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:g.includes($e.id),onChange:()=>gt($e.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:$e.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:$e.description})]},$e.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",yt.length===0?0:jt+1," to ",Math.min(we,et.length)," of ",et.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P($e=>Math.max($e-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),me().map(($e,Ke)=>$e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ke}`):e.jsx("button",{onClick:()=>P($e),className:`px-2 py-1 rounded text-xs ${S===$e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:$e},$e)),e.jsx("button",{onClick:()=>P($e=>Math.min($e+1,mt)),disabled:S===mt||mt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:$e=>v($e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===yt.length&&yt.length>0,onChange:Ct,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Bt.map($e=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes($e.id),onChange:()=>vt($e.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:$e.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:$e.name})]},$e.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",pt+1," to ",Math.min(Ft,yt.length)," of ",yt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>T($e=>Math.max(1,$e-1)),disabled:D===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Lt().map(($e,Ke)=>typeof $e=="number"?e.jsx("button",{onClick:()=>T($e),className:`px-2 py-1 rounded text-xs ${D===$e?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:$e},Ke):e.jsx("span",{className:"px-2",children:$e},Ke)),e.jsx("button",{onClick:()=>T($e=>Math.min(Ye,$e+1)),disabled:D===Ye,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:r,onChange:$e=>a($e.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:n,onChange:$e=>l($e.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Qe,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),x&&e.jsx(HX,{value:x==="dateFrom1"?r:n,onChange:Nt,onClose:()=>h(null),position:m})]})}function WX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function GX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState("all"),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState([]),[S,P]=o.useState([]),[D,T]=o.useState(1),[A,M]=o.useState(1),L=10,[q,B]=o.useState(!1);o.useEffect(()=>{T(1)},[t]);const[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState(!1),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),ve=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ee=>({id:Ee.ID||Ee.id,code:Ee.groupCode||Ee.code,description:Ee.groupDescription||Ee.description}));o.useEffect(()=>{(async()=>{const Ee=await ve();R(Ee)})()},[]);const Me=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ee=>({id:Ee.braID||Ee.ID,code:Ee.braCode||Ee.code,description:Ee.braDesc||Ee.description}));o.useEffect(()=>{(async()=>{const Ee=await Me();J(Ee)})()},[]);const Te=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ee=>({id:Ee.depID||Ee.ID,code:Ee.depCode||Ee.code,description:Ee.depDesc||Ee.description}));o.useEffect(()=>{(async()=>{const Ee=await Te();U(Ee)})()},[]);const Le=async()=>{const ce=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.grpSchID||pe.id||pe.ID,code:pe.grpCode||pe.code,description:pe.grpDesc||pe.description}))};o.useEffect(()=>{(async()=>{const Ee=await Le();ye(Ee)})()},[]);const ot=async()=>{const ce=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.lineID??pe.ID??pe.id,code:pe.lineCode??pe.code,description:pe.lineDesc??pe.Description??pe.description}))};o.useEffect(()=>{(async()=>{const Ee=await ot();xe(Ee)})()},[]);const Je=async()=>{const ce=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.secID??pe.ID??pe.id,code:pe.secCode??pe.sectionCode??pe.code,description:pe.secDesc??pe.Description??pe.description}))};o.useEffect(()=>{(async()=>{const Ee=await Je();Ae(Ee)})()},[]);const Ge=async()=>{const ce=await ae.get("/EmployeeMasterFile");return(Array.isArray(ce.data)?ce.data:[]).map(pe=>({id:pe.empID??pe.ID??pe.id,code:pe.empCode||pe.code||"",name:`${pe.lName||""}, ${pe.fName||""} ${pe.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ee=await Ge();qe(Ee)})()},[]);const mt=(()=>{switch(t){case"Branch":return ne;case"Department":return I;case"Group Schedule":return he;case"Pay House":return ge;case"Section":return Fe;default:return fe}})().filter(ce=>ce.code.toLowerCase().includes(p.toLowerCase())||ce.description.toLowerCase().includes(p.toLowerCase())),jt=Ve.filter(ce=>ce.code.toLowerCase().includes(g.toLowerCase())||ce.name.toLowerCase().includes(g.toLowerCase())),we=Math.ceil(mt.length/L),Re=(D-1)*L,me=Re+L,Ye=mt.slice((D-1)*L,D*L),pt=()=>{const ce=[];if(we<=7)for(let Ee=1;Ee<=we;Ee++)ce.push(Ee);else if(D<=4){for(let Ee=1;Ee<=5;Ee++)ce.push(Ee);ce.push("..."),ce.push(we)}else if(D>=we-3){ce.push(1),ce.push("...");for(let Ee=we-4;Ee<=we;Ee++)ce.push(Ee)}else{ce.push(1),ce.push("...");for(let Ee=D-1;Ee<=D+1;Ee++)ce.push(Ee);ce.push("..."),ce.push(we)}return ce},Ft=Math.ceil(jt.length/L),Bt=(A-1)*L,Lt=Bt+L,Qe=jt.slice((A-1)*L,A*L),gt=()=>{const ce=[];if(Ft<=5)return Array.from({length:Ft},(ut,_t)=>_t+1);ce.push(1),A>3&&ce.push("...");const pe=Math.max(2,A-1),at=Math.min(Ft-1,A+1);for(let ut=pe;ut<=at;ut++)ce.push(ut);return A<Ft-2&&ce.push("..."),ce.push(Ft),ce},vt=async()=>{if(!S.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!i){await Q.fire({icon:"error",title:"Error",text:"Please select Overtime Date.",timer:2e3,showConfirmButton:!0});return}try{B(!0),await Q.fire({icon:"success",title:"Success",text:"Process Overtime Per Cut-Off successfully updated.",timer:2e3,showConfirmButton:!1}),j([]),P([]),a(""),l(""),d("")}catch(ce){console.error(ce),alert("Failed to update records")}finally{B(!1)}},xt=ce=>{j(Ee=>Ee.includes(ce)?Ee.filter(pe=>pe!==ce):[...Ee,ce])},Ct=ce=>{P(Ee=>Ee.includes(ce)?Ee.filter(pe=>pe!==ce):[...Ee,ce])},Nt=()=>{C.length===mt.length?j([]):j(mt.map(ce=>ce.id))},$e=()=>{S.length===jt.length?P([]):P(jt.map(ce=>ce.id))},Ke=ce=>{x==="dateFrom"?a(ce):x==="dateTo"?l(ce):x==="overtimeDate"&&d(ce)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Overtime Per Cut-Off"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Process overtime hours based on specified cut-off dates for selected employee groups. Configure overtime processing efficiently within defined date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define date range and overtime date"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify overtime cut-off"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply processing"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(ce=>e.jsxs("button",{onClick:()=>s(ce.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ce.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ce.icon,{className:"w-4 h-4"}),ce.name]},ce.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ce=>v(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===mt.length&&mt.length>0,onChange:Nt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ye.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes(ce.id),onChange:()=>xt(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.description})]},ce.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",jt.length===0?0:Re+1," to ",Math.min(me,mt.length)," of ",mt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>T(ce=>Math.max(ce-1,1)),disabled:D===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),pt().map((ce,Ee)=>ce==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ee}`):e.jsx("button",{onClick:()=>T(ce),className:`px-2 py-1 rounded text-xs ${D===ce?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},ce)),e.jsx("button",{onClick:()=>T(ce=>Math.min(ce+1,we)),disabled:D===we||we===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:ce=>y(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===jt.length&&jt.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Qe.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(ce.id),onChange:()=>Ct(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.name})]},ce.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Bt+1," to ",Math.min(Lt,jt.length)," of ",jt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(ce=>Math.max(1,ce-1)),disabled:A===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),gt().map((ce,Ee)=>typeof ce=="number"?e.jsx("button",{onClick:()=>M(ce),className:`px-2 py-1 rounded text-xs ${A===ce?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},Ee):e.jsx("span",{className:"px-2",children:ce},Ee)),e.jsx("button",{onClick:()=>M(ce=>Math.min(Ft,ce+1)),disabled:A===Ft,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:f==="active",onChange:()=>N("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:f==="inactive",onChange:()=>N("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:f==="all",onChange:()=>N("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From:"}),e.jsx("input",{type:"text",value:r,onChange:ce=>a(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To:"}),e.jsx("input",{type:"text",value:n,onChange:ce=>l(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Overtime Date:"}),e.jsx("input",{type:"text",value:i,onChange:ce=>d(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:i,onChange:d})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:vt,disabled:q,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),x&&e.jsx(WX,{value:x==="dateFrom"?r:x==="dateTo"?n:i,onChange:Ke,onClose:()=>h(null),position:m})]})}function $X({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function zX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),[R,V]=o.useState(1),W=10,[ne,J]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[H,F]=o.useState(!1),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState([]),[ve,Me]=o.useState(!1),[Te,Le]=o.useState([]),[ot,Je]=o.useState(!1),[Ge,et]=o.useState([]),[yt,mt]=o.useState(!1),[jt,we]=o.useState([]),[Re,me]=o.useState(!1),[Ye,pt]=o.useState([]),[Ft,Bt]=o.useState(""),Lt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(de=>({id:de.ID||de.id,code:de.groupCode||de.code,description:de.groupDescription||de.description}));o.useEffect(()=>{(async()=>{const de=await Lt();U(de)})()},[]);const Qe=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(de=>({id:de.braID||de.ID,code:de.braCode||de.code,description:de.braDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await Qe();ye(de)})()},[]);const gt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(de=>({id:de.depID||de.ID,code:de.depCode||de.code,description:de.depDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await gt();xe(de)})()},[]);const vt=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(de=>({id:de.divID||de.ID,code:de.divCode||de.code,description:de.divDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await vt();Ae(de)})()},[]);const xt=async()=>{const ee=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.grpSchID||re.id||re.ID,code:re.grpCode||re.code,description:re.grpDesc||re.description}))};o.useEffect(()=>{(async()=>{const de=await xt();qe(de)})()},[]);const Ct=async()=>{const ee=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.lineID??re.ID??re.id,code:re.lineCode??re.code,description:re.lineDesc??re.Description??re.description}))};o.useEffect(()=>{(async()=>{const de=await Ct();Le(de)})()},[]);const Nt=async()=>{const ee=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.secID??re.ID??re.id,code:re.secCode??re.sectionCode??re.code,description:re.secDesc??re.Description??re.description}))};o.useEffect(()=>{(async()=>{const de=await Nt();et(de)})()},[]);const $e=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(de=>({id:de.unitID||de.ID,code:de.unitCode||de.code,description:de.unitDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await $e();we(de)})()},[]);const Ke=async()=>{const ee=await ae.get("/EmployeeMasterFile");return(Array.isArray(ee.data)?ee.data:[]).map(re=>({id:re.empID??re.ID??re.id,code:re.empCode||re.code||"",name:`${re.lName||""}, ${re.fName||""} ${re.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const de=await Ke();pt(de)})()},[]);const pe=(()=>{switch(t){case"Branch":return he;case"Department":return ge;case"Division":return Fe;case"Group Schedule":return Ve;case"Pay House":return Te;case"Section":return Ge;case"Unit":return jt;default:return I}})().filter(ee=>ee.code.toLowerCase().includes(S.toLowerCase())||ee.description.toLowerCase().includes(S.toLowerCase())),at=Ye.filter(ee=>ee.code.toLowerCase().includes(D.toLowerCase())||ee.name.toLowerCase().includes(D.toLowerCase())),ut=Math.ceil(pe.length/W),_t=(B-1)*W,it=_t+W,bt=pe.slice((B-1)*W,B*W),se=()=>{const ee=[];if(ut<=7)for(let de=1;de<=ut;de++)ee.push(de);else if(B<=4){for(let de=1;de<=5;de++)ee.push(de);ee.push("..."),ee.push(ut)}else if(B>=ut-3){ee.push(1),ee.push("...");for(let de=ut-4;de<=ut;de++)ee.push(de)}else{ee.push(1),ee.push("...");for(let de=B-1;de<=B+1;de++)ee.push(de);ee.push("..."),ee.push(ut)}return ee},ue=Math.ceil(at.length/W),Z=(oe-1)*W,G=Z+W,Y=at.slice((oe-1)*W,oe*W),_=()=>{const ee=[];if(ue<=5)return Array.from({length:ue},(ft,$t)=>$t+1);ee.push(1),oe>3&&ee.push("...");const re=Math.max(2,oe-1),We=Math.min(ue-1,oe+1);for(let ft=re;ft<=We;ft++)ee.push(ft);return oe<ue-2&&ee.push("..."),ee.push(ue),ee},ie=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{J(!0),await Q.fire({icon:"success",title:"Success",text:"Assumed Days successfully updated.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(ee){console.error(ee),alert("Failed to update records")}finally{J(!1)}},_e=ee=>{M(de=>de.includes(ee)?de.filter(re=>re!==ee):[...de,ee])},Ie=ee=>{q(de=>de.includes(ee)?de.filter(re=>re!==ee):[...de,ee])},ke=()=>{A.length===pe.length?M([]):M(pe.map(ee=>ee.id))},X=()=>{L.length===at.length?q([]):q(at.map(ee=>ee.id))},Ne=ee=>{f==="year"?a(ee):f==="dateFrom"?y(ee):f==="dateTo"&&j(ee)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Assumed Days"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update assumed working days for selected employee groups within specified date ranges. Configure attendance assumptions for payroll processing and reporting."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update processing"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(ee=>e.jsxs("button",{onClick:()=>s(ee.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ee.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ee.icon,{className:"w-4 h-4"}),ee.name]},ee.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ee=>P(ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===pe.length&&pe.length>0,onChange:ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:bt.map(ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(ee.id),onChange:()=>_e(ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ee.description})]},ee.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",at.length===0?0:_t+1," to ",Math.min(it,pe.length)," of ",pe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(ee=>Math.max(ee-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),se().map((ee,de)=>ee==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${de}`):e.jsx("button",{onClick:()=>te(ee),className:`px-2 py-1 rounded text-xs ${B===ee?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ee},ee)),e.jsx("button",{onClick:()=>te(ee=>Math.min(ee+1,ut)),disabled:B===ut||ut===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:ee=>T(ee.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===at.length&&at.length>0,onChange:X,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Y.map(ee=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(ee.id),onChange:()=>Ie(ee.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ee.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ee.name})]},ee.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Z+1," to ",Math.min(G,at.length)," of ",at.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(ee=>Math.max(1,ee-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((ee,de)=>typeof ee=="number"?e.jsx("button",{onClick:()=>fe(ee),className:`px-2 py-1 rounded text-xs ${oe===ee?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ee},de):e.jsx("span",{className:"px-2",children:ee},de)),e.jsx("button",{onClick:()=>fe(ee=>Math.min(ue,ee+1)),disabled:oe===ue,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:ee=>y(ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:ee=>j(ee.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ie,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:ie,children:[e.jsx(W0,{className:"w-4 h-4"}),"Unpost"]})]})]})})]})]})]})]})}),f&&e.jsx($X,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:Ne,onClose:()=>N(null),position:p})]})}function VX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function YX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),Ye=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ke=>({id:ke.ID||ke.id,code:ke.groupCode||ke.code,description:ke.groupDescription||ke.description}));o.useEffect(()=>{(async()=>{const ke=await Ye();F(ke)})()},[]);const pt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(ke=>({id:ke.braID||ke.ID,code:ke.braCode||ke.code,description:ke.braDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await pt();O(ke)})()},[]);const Ft=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(ke=>({id:ke.depID||ke.ID,code:ke.depCode||ke.code,description:ke.depDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await Ft();je(ke)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(ke=>({id:ke.divID||ke.ID,code:ke.divCode||ke.code,description:ke.divDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await Bt();De(ke)})()},[]);const Lt=async()=>{const Ie=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Ie.data)?Ie.data:[]).map(X=>({id:X.grpSchID||X.id||X.ID,code:X.grpCode||X.code,description:X.grpDesc||X.description}))};o.useEffect(()=>{(async()=>{const ke=await Lt();He(ke)})()},[]);const Qe=async()=>{const Ie=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Ie.data)?Ie.data:[]).map(X=>({id:X.lineID??X.ID??X.id,code:X.lineCode??X.code,description:X.lineDesc??X.Description??X.description}))};o.useEffect(()=>{(async()=>{const ke=await Qe();Me(ke)})()},[]);const gt=async()=>{const Ie=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Ie.data)?Ie.data:[]).map(X=>({id:X.secID??X.ID??X.id,code:X.secCode??X.sectionCode??X.code,description:X.secDesc??X.Description??X.description}))};o.useEffect(()=>{(async()=>{const ke=await gt();Je(ke)})()},[]);const vt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(ke=>({id:ke.unitID||ke.ID,code:ke.unitCode||ke.code,description:ke.unitDesc||ke.description}));o.useEffect(()=>{(async()=>{const ke=await vt();mt(ke)})()},[]);const xt=async()=>{const Ie=await ae.get("/EmployeeMasterFile");return(Array.isArray(Ie.data)?Ie.data:[]).map(X=>({id:X.empID??X.ID??X.id,code:X.empCode||X.code||"",name:`${X.lName||""}, ${X.fName||""} ${X.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ke=await xt();me(ke)})()},[]);const $e=(()=>{switch(t){case"Branch":return k;case"Department":return be;case"Division":return Se;case"Group Schedule":return ze;case"Pay House":return ve;case"Section":return ot;case"Unit":return yt;default:return H}})().filter(Ie=>Ie.code.toLowerCase().includes(S.toLowerCase())||Ie.description.toLowerCase().includes(S.toLowerCase())),Ke=Re.filter(Ie=>Ie.code.toLowerCase().includes(D.toLowerCase())||Ie.name.toLowerCase().includes(D.toLowerCase())),ce=Math.ceil($e.length/R),Ee=(B-1)*R,pe=Ee+R,at=$e.slice((B-1)*R,B*R),ut=()=>{const Ie=[];if(ce<=7)for(let ke=1;ke<=ce;ke++)Ie.push(ke);else if(B<=4){for(let ke=1;ke<=5;ke++)Ie.push(ke);Ie.push("..."),Ie.push(ce)}else if(B>=ce-3){Ie.push(1),Ie.push("...");for(let ke=ce-4;ke<=ce;ke++)Ie.push(ke)}else{Ie.push(1),Ie.push("...");for(let ke=B-1;ke<=B+1;ke++)Ie.push(ke);Ie.push("..."),Ie.push(ce)}return Ie},_t=Math.ceil(Ke.length/R),it=(oe-1)*R,bt=it+R,se=Ke.slice((oe-1)*R,oe*R),ue=()=>{const Ie=[];if(_t<=5)return Array.from({length:_t},(ee,de)=>de+1);Ie.push(1),oe>3&&Ie.push("...");const X=Math.max(2,oe-1),Ne=Math.min(_t-1,oe+1);for(let ee=X;ee<=Ne;ee++)Ie.push(ee);return oe<_t-2&&Ie.push("..."),Ie.push(_t),Ie},Z=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await Q.fire({icon:"success",title:"Success",text:"Deduct Absences with pay successfully updated.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(Ie){console.error(Ie),alert("Failed to update records")}finally{W(!1)}},G=Ie=>{M(ke=>ke.includes(Ie)?ke.filter(X=>X!==Ie):[...ke,Ie])},Y=Ie=>{q(ke=>ke.includes(Ie)?ke.filter(X=>X!==Ie):[...ke,Ie])},_=()=>{A.length===$e.length?M([]):M($e.map(Ie=>Ie.id))},ie=()=>{L.length===Ke.length?q([]):q(Ke.map(Ie=>Ie.id))},_e=Ie=>{f==="year"?a(Ie):f==="dateFrom"?y(Ie):f==="dateTo"&&j(Ie)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Deduct Absences in Excess of Total Hours with Pay if with Filed Leave"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Process absence deductions when filed leave hours exceed total paid hours. Automatically adjusts leave balances and payroll calculations for accurate compensation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automatic deduction calculation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(Ie=>e.jsxs("button",{onClick:()=>s(Ie.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ie.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ie.icon,{className:"w-4 h-4"}),Ie.name]},Ie.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:Ie=>P(Ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===$e.length&&$e.length>0,onChange:_,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:at.map(Ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(Ie.id),onChange:()=>G(Ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ie.description})]},Ie.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ke.length===0?0:Ee+1," to ",Math.min(pe,$e.length)," of ",$e.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(Ie=>Math.max(Ie-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ut().map((Ie,ke)=>Ie==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ke}`):e.jsx("button",{onClick:()=>te(Ie),className:`px-2 py-1 rounded text-xs ${B===Ie?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ie},Ie)),e.jsx("button",{onClick:()=>te(Ie=>Math.min(Ie+1,ce)),disabled:B===ce||ce===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:Ie=>T(Ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Ke.length&&Ke.length>0,onChange:ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:se.map(Ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(Ie.id),onChange:()=>Y(Ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ie.name})]},Ie.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",it+1," to ",Math.min(bt,Ke.length)," of ",Ke.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(Ie=>Math.max(1,Ie-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ue().map((Ie,ke)=>typeof Ie=="number"?e.jsx("button",{onClick:()=>fe(Ie),className:`px-2 py-1 rounded text-xs ${oe===Ie?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ie},ke):e.jsx("span",{className:"px-2",children:Ie},ke)),e.jsx("button",{onClick:()=>fe(Ie=>Math.min(_t,Ie+1)),disabled:oe===_t,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:Ie=>y(Ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:Ie=>j(Ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Z,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(VX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:_e,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function KX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function qX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState(""),[L,q]=o.useState([]),[B,te]=o.useState([]),[oe,fe]=o.useState(1),[R,V]=o.useState(1),[W,ne]=o.useState(1),J=10,[H,F]=o.useState(!1);o.useEffect(()=>{fe(1)},[t]);const[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),[Ye,pt]=o.useState(!1),[Ft,Bt]=o.useState([]),[Lt,Qe]=o.useState(""),gt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(We=>({id:We.ID||We.id,code:We.groupCode||We.code,description:We.groupDescription||We.description}));o.useEffect(()=>{(async()=>{const We=await gt();O(We)})()},[]);const vt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(We=>({id:We.braID||We.ID,code:We.braCode||We.code,description:We.braDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await vt();je(We)})()},[]);const xt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(We=>({id:We.depID||We.ID,code:We.depCode||We.code,description:We.depDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await xt();De(We)})()},[]);const Ct=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(We=>({id:We.divID||We.ID,code:We.divCode||We.code,description:We.divDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await Ct();He(We)})()},[]);const Nt=async()=>{const re=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(re.data)?re.data:[]).map(ft=>({id:ft.grpSchID||ft.id||ft.ID,code:ft.grpCode||ft.code,description:ft.grpDesc||ft.description}))};o.useEffect(()=>{(async()=>{const We=await Nt();Me(We)})()},[]);const $e=async()=>{const re=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(re.data)?re.data:[]).map(ft=>({id:ft.lineID??ft.ID??ft.id,code:ft.lineCode??ft.code,description:ft.lineDesc??ft.Description??ft.description}))};o.useEffect(()=>{(async()=>{const We=await $e();Je(We)})()},[]);const Ke=async()=>{const re=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(re.data)?re.data:[]).map(ft=>({id:ft.secID??ft.ID??ft.id,code:ft.secCode??ft.sectionCode??ft.code,description:ft.secDesc??ft.Description??ft.description}))};o.useEffect(()=>{(async()=>{const We=await Ke();mt(We)})()},[]);const ce=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(We=>({id:We.unitID||We.ID,code:We.unitCode||We.code,description:We.unitDesc||We.description}));o.useEffect(()=>{(async()=>{const We=await ce();me(We)})()},[]);const Ee=async()=>{const re=await ae.get("/EmployeeMasterFile");return(Array.isArray(re.data)?re.data:[]).map(ft=>({id:ft.empID??ft.ID??ft.id,code:ft.empCode||ft.code||"",name:`${ft.lName||""}, ${ft.fName||""} ${ft.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const We=await Ee();Bt(We)})()},[]);const ut=(()=>{switch(t){case"Branch":return be;case"Department":return Se;case"Division":return ze;case"Group Schedule":return ve;case"Pay House":return ot;case"Section":return yt;case"Unit":return Re;default:return k}})().filter(re=>re.code.toLowerCase().includes(D.toLowerCase())||re.description.toLowerCase().includes(D.toLowerCase())),_t=Ft.filter(re=>re.code.toLowerCase().includes(A.toLowerCase())||re.name.toLowerCase().includes(A.toLowerCase())),it=Math.ceil(ut.length/J),bt=(oe-1)*J,se=bt+J,ue=ut.slice((oe-1)*J,oe*J),Z=()=>{const re=[];if(it<=7)for(let We=1;We<=it;We++)re.push(We);else if(oe<=4){for(let We=1;We<=5;We++)re.push(We);re.push("..."),re.push(it)}else if(oe>=it-3){re.push(1),re.push("...");for(let We=it-4;We<=it;We++)re.push(We)}else{re.push(1),re.push("...");for(let We=oe-1;We<=oe+1;We++)re.push(We);re.push("..."),re.push(it)}return re},G=Math.ceil(_t.length/J),Y=(R-1)*J,_=Y+J,ie=_t.slice((R-1)*J,R*J),_e=()=>{const re=[];if(G<=5)return Array.from({length:G},(z,Pe)=>Pe+1);re.push(1),R>3&&re.push("...");const ft=Math.max(2,R-1),$t=Math.min(G-1,R+1);for(let z=ft;z<=$t;z++)re.push(z);return R<G-2&&re.push("..."),re.push(G),re},Ie=async()=>{if(!B.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!S){await Q.fire({icon:"error",title:"Error",text:"Please select Overtime Date.",timer:2e3,showConfirmButton:!0});return}try{F(!0),await Q.fire({icon:"success",title:"Success",text:"Process overtime 24hours rule successfully updated.",timer:2e3,showConfirmButton:!1}),q([]),te([]),y(""),j(""),P("")}catch(re){console.error(re),alert("Failed to update records")}finally{F(!1)}},ke=re=>{q(We=>We.includes(re)?We.filter(ft=>ft!==re):[...We,re])},X=re=>{te(We=>We.includes(re)?We.filter(ft=>ft!==re):[...We,re])},Ne=()=>{L.length===ut.length?q([]):q(ut.map(re=>re.id))},ee=()=>{B.length===_t.length?te([]):te(_t.map(re=>re.id))},de=re=>{f==="year"?a(re):f==="dateFrom"?y(re):f==="dateTo"?j(re):f==="overtimeDate"&&P(re)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Overtime 24 Hours Rule"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply the 24-hour overtime rule policy to process and validate overtime hours, ensuring compliance with labor regulations and company policies for maximum daily overtime limits."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automatic 24-hour rule validation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(re=>e.jsxs("button",{onClick:()=>s(re.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===re.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(re.icon,{className:"w-4 h-4"}),re.name]},re.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:re=>T(re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===ut.length&&ut.length>0,onChange:Ne,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.map(re=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(re.id),onChange:()=>ke(re.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:re.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:re.description})]},re.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",_t.length===0?0:bt+1," to ",Math.min(se,ut.length)," of ",ut.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>fe(re=>Math.max(re-1,1)),disabled:oe===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Z().map((re,We)=>re==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${We}`):e.jsx("button",{onClick:()=>fe(re),className:`px-2 py-1 rounded text-xs ${oe===re?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:re},re)),e.jsx("button",{onClick:()=>fe(re=>Math.min(re+1,it)),disabled:oe===it||it===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:re=>M(re.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:B.length===_t.length&&_t.length>0,onChange:ee,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map(re=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:B.includes(re.id),onChange:()=>X(re.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:re.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:re.name})]},re.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Y+1," to ",Math.min(_,_t.length)," of ",_t.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>V(re=>Math.max(1,re-1)),disabled:R===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_e().map((re,We)=>typeof re=="number"?e.jsx("button",{onClick:()=>V(re),className:`px-2 py-1 rounded text-xs ${R===re?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:re},We):e.jsx("span",{className:"px-2",children:re},We)),e.jsx("button",{onClick:()=>V(re=>Math.min(G,re+1)),disabled:R===G,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:re=>y(re.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:re=>j(re.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Overtime Date:"}),e.jsx("input",{type:"text",value:S,onChange:re=>P(re.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:S,onChange:P})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Ie,disabled:H,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(KX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:de,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function XX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function JX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState(!1),[L,q]=o.useState(!1),[B,te]=o.useState(!1),[oe,fe]=o.useState(!1),[R,V]=o.useState(""),[W,ne]=o.useState(""),[J,H]=o.useState([]),[F,I]=o.useState([]),[U,k]=o.useState(1),[O,he]=o.useState(1),[ye,be]=o.useState(1),je=10,[ge,xe]=o.useState(!1),[Se,De]=o.useState({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,selectAll:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1}),Fe=()=>{De({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1,selectAll:!1})};o.useEffect(()=>{k(1)},[t]);const[Ae,ze]=o.useState(!1),[He,Ve]=o.useState([]),[qe,ve]=o.useState(!1),[Me,Te]=o.useState([]),[Le,ot]=o.useState(!1),[Je,Ge]=o.useState([]),[et,yt]=o.useState(!1),[mt,jt]=o.useState([]),[we,Re]=o.useState(!1),[me,Ye]=o.useState([]),[pt,Ft]=o.useState(!1),[Bt,Lt]=o.useState([]),[Qe,gt]=o.useState(!1),[vt,xt]=o.useState([]),[Ct,Nt]=o.useState(!1),[$e,Ke]=o.useState([]),[ce,Ee]=o.useState(!1),[pe,at]=o.useState([]),[ut,_t]=o.useState(""),it=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ht=>({id:Ht.ID||Ht.id,code:Ht.groupCode||Ht.code,description:Ht.groupDescription||Ht.description}));o.useEffect(()=>{(async()=>{const Ht=await it();Ve(Ht)})()},[]);const bt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ht=>({id:Ht.braID||Ht.ID,code:Ht.braCode||Ht.code,description:Ht.braDesc||Ht.description}));o.useEffect(()=>{(async()=>{const Ht=await bt();Te(Ht)})()},[]);const se=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ht=>({id:Ht.depID||Ht.ID,code:Ht.depCode||Ht.code,description:Ht.depDesc||Ht.description}));o.useEffect(()=>{(async()=>{const Ht=await se();Ge(Ht)})()},[]);const ue=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Ht=>({id:Ht.divID||Ht.ID,code:Ht.divCode||Ht.code,description:Ht.divDesc||Ht.description}));o.useEffect(()=>{(async()=>{const Ht=await ue();jt(Ht)})()},[]);const Z=async()=>{const Tt=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Tt.data)?Tt.data:[]).map(ms=>({id:ms.grpSchID||ms.id||ms.ID,code:ms.grpCode||ms.code,description:ms.grpDesc||ms.description}))};o.useEffect(()=>{(async()=>{const Ht=await Z();Ye(Ht)})()},[]);const G=async()=>{const Tt=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Tt.data)?Tt.data:[]).map(ms=>({id:ms.lineID??ms.ID??ms.id,code:ms.lineCode??ms.code,description:ms.lineDesc??ms.Description??ms.description}))};o.useEffect(()=>{(async()=>{const Ht=await G();Lt(Ht)})()},[]);const Y=async()=>{const Tt=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Tt.data)?Tt.data:[]).map(ms=>({id:ms.secID??ms.ID??ms.id,code:ms.secCode??ms.sectionCode??ms.code,description:ms.secDesc??ms.Description??ms.description}))};o.useEffect(()=>{(async()=>{const Ht=await Y();xt(Ht)})()},[]);const _=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Ht=>({id:Ht.unitID||Ht.ID,code:Ht.unitCode||Ht.code,description:Ht.unitDesc||Ht.description}));o.useEffect(()=>{(async()=>{const Ht=await _();Ke(Ht)})()},[]);const ie=async()=>{const Tt=await ae.get("/EmployeeMasterFile");return(Array.isArray(Tt.data)?Tt.data:[]).map(ms=>({id:ms.empID??ms.ID??ms.id,code:ms.empCode||ms.code||"",name:`${ms.lName||""}, ${ms.fName||""} ${ms.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ht=await ie();at(Ht)})()},[]);const ke=(()=>{switch(t){case"Branch":return Me;case"Department":return Je;case"Division":return mt;case"Group Schedule":return me;case"Pay House":return Bt;case"Section":return vt;case"Unit":return $e;default:return He}})().filter(Tt=>Tt.code.toLowerCase().includes(R.toLowerCase())||Tt.description.toLowerCase().includes(R.toLowerCase())),X=pe.filter(Tt=>Tt.code.toLowerCase().includes(W.toLowerCase())||Tt.name.toLowerCase().includes(W.toLowerCase())),Ne=Math.ceil(ke.length/je),ee=(U-1)*je,de=ee+je,re=ke.slice((U-1)*je,U*je),We=()=>{const Tt=[];if(Ne<=7)for(let Ht=1;Ht<=Ne;Ht++)Tt.push(Ht);else if(U<=4){for(let Ht=1;Ht<=5;Ht++)Tt.push(Ht);Tt.push("..."),Tt.push(Ne)}else if(U>=Ne-3){Tt.push(1),Tt.push("...");for(let Ht=Ne-4;Ht<=Ne;Ht++)Tt.push(Ht)}else{Tt.push(1),Tt.push("...");for(let Ht=U-1;Ht<=U+1;Ht++)Tt.push(Ht);Tt.push("..."),Tt.push(Ne)}return Tt},ft=Math.ceil(X.length/je),$t=(O-1)*je,z=$t+je,Pe=X.slice((O-1)*je,O*je),Xe=()=>{const Tt=[];if(ft<=5)return Array.from({length:ft},(xr,hr)=>hr+1);Tt.push(1),O>3&&Tt.push("...");const ms=Math.max(2,O-1),Nr=Math.min(ft-1,O+1);for(let xr=ms;xr<=Nr;xr++)Tt.push(xr);return O<ft-2&&Tt.push("..."),Tt.push(ft),Tt},as=async()=>{if(!F.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!Object.values(Se).some(Boolean)){await Q.fire({icon:"error",title:"Error",text:"Please check atleast 1 transaction to unpost.",timer:2e3,showConfirmButton:!0});return}try{xe(!0),await Q.fire({icon:"success",title:"Success",text:"Successfully Unpost Transactions.",timer:2e3,showConfirmButton:!1}),H([]),I([]),y(""),j(""),Fe()}catch(Ht){console.error(Ht),alert("Failed to update records")}finally{xe(!1)}},us=Tt=>{H(Ht=>Ht.includes(Tt)?Ht.filter(ms=>ms!==Tt):[...Ht,Tt])},tt=Tt=>{I(Ht=>Ht.includes(Tt)?Ht.filter(ms=>ms!==Tt):[...Ht,Tt])},Zt=()=>{J.length===ke.length?H([]):H(ke.map(Tt=>Tt.id))},kt=()=>{F.length===X.length?I([]):I(X.map(Tt=>Tt.id))},zt=Tt=>{f==="year"?a(Tt):f==="dateFrom"?y(Tt):f==="dateTo"&&j(Tt)},ds=()=>{const Tt=S&&D&&A&&L&&B&&oe;P(!Tt),T(!Tt),M(!Tt),q(!Tt),te(!Tt),fe(!Tt)},Js=Tt=>{if(Tt==="selectAll"){const Ht=!Se.selectAll;De({tardiness:Ht,otherEarnings:Ht,noOfDaysWork:Ht,selectAll:Ht,undertime:Ht,overtime:Ht,leaveAndAbsences:Ht,lateFiling:Ht})}else De(Ht=>({...Ht,[Tt]:!Ht[Tt]}))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Post Processed Timekeeping Transaction"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Finalize and post processed timekeeping transactions to the payroll system. Lock attendance records for the selected period and prepare data for payroll processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for posting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch transaction posting"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(Tt=>e.jsxs("button",{onClick:()=>s(Tt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Tt.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Tt.icon,{className:"w-4 h-4"}),Tt.name]},Tt.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:R,onChange:Tt=>V(Tt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:J.length===ke.length&&ke.length>0,onChange:Zt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:re.map(Tt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:J.includes(Tt.id),onChange:()=>us(Tt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Tt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Tt.description})]},Tt.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",X.length===0?0:ee+1," to ",Math.min(de,ke.length)," of ",ke.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>k(Tt=>Math.max(Tt-1,1)),disabled:U===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),We().map((Tt,Ht)=>Tt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ht}`):e.jsx("button",{onClick:()=>k(Tt),className:`px-2 py-1 rounded text-xs ${U===Tt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Tt},Tt)),e.jsx("button",{onClick:()=>k(Tt=>Math.min(Tt+1,Ne)),disabled:U===Ne||Ne===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:W,onChange:Tt=>ne(Tt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===X.length&&X.length>0,onChange:kt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Pe.map(Tt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(Tt.id),onChange:()=>tt(Tt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Tt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Tt.name})]},Tt.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",$t+1," to ",Math.min(z,X.length)," of ",X.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>he(Tt=>Math.max(1,Tt-1)),disabled:O===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Xe().map((Tt,Ht)=>typeof Tt=="number"?e.jsx("button",{onClick:()=>he(Tt),className:`px-2 py-1 rounded text-xs ${O===Tt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Tt},Ht):e.jsx("span",{className:"px-2",children:Tt},Ht)),e.jsx("button",{onClick:()=>he(Tt=>Math.min(ft,Tt+1)),disabled:O===ft,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:Tt=>y(Tt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:Tt=>j(Tt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-8 space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Se.tardiness,onChange:()=>Js("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Se.leaveAndAbsences,onChange:()=>Js("leaveAndAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave and Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Se.lateFiling,onChange:()=>Js("lateFiling"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Allowances"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Se.undertime,onChange:()=>Js("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Se.noOfDaysWork,onChange:()=>Js("noOfDaysWork"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No. Of Days Work"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:Se.overtime,onChange:()=>Js("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S&&D&&A&&L&&B&&oe,onChange:ds,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:as,children:[e.jsx(yC,{className:"w-4 h-4"}),"Post"]})})})]})]})]})]})]})}),f&&e.jsx(XX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:zt,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function QX({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function ZX(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),[Ye,pt]=o.useState(""),Ft=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ne=>({id:Ne.ID||Ne.id,code:Ne.groupCode||Ne.code,description:Ne.groupDescription||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Ft();F(Ne)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ne=>({id:Ne.braID||Ne.ID,code:Ne.braCode||Ne.code,description:Ne.braDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Bt();O(Ne)})()},[]);const Lt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ne=>({id:Ne.depID||Ne.ID,code:Ne.depCode||Ne.code,description:Ne.depDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Lt();je(Ne)})()},[]);const Qe=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Ne=>({id:Ne.divID||Ne.ID,code:Ne.divCode||Ne.code,description:Ne.divDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Qe();De(Ne)})()},[]);const gt=async()=>{const X=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.grpSchID||ee.id||ee.ID,code:ee.grpCode||ee.code,description:ee.grpDesc||ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await gt();He(Ne)})()},[]);const vt=async()=>{const X=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.lineID??ee.ID??ee.id,code:ee.lineCode??ee.code,description:ee.lineDesc??ee.Description??ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await vt();Me(Ne)})()},[]);const xt=async()=>{const X=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.secID??ee.ID??ee.id,code:ee.secCode??ee.sectionCode??ee.code,description:ee.secDesc??ee.Description??ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await xt();Je(Ne)})()},[]);const Ct=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Ne=>({id:Ne.unitID||Ne.ID,code:Ne.unitCode||Ne.code,description:Ne.unitDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Ct();mt(Ne)})()},[]);const Nt=async()=>{const X=await ae.get("/EmployeeMasterFile");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.empID??ee.ID??ee.id,code:ee.empCode||ee.code||"",name:`${ee.lName||""}, ${ee.fName||""} ${ee.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ne=await Nt();me(Ne)})()},[]);const ce=(()=>{switch(t){case"Branch":return k;case"Department":return be;case"Division":return Se;case"Group Schedule":return ze;case"Pay House":return ve;case"Section":return ot;case"Unit":return yt;default:return H}})().filter(X=>X.code.toLowerCase().includes(S.toLowerCase())||X.description.toLowerCase().includes(S.toLowerCase())),Ee=Re.filter(X=>X.code.toLowerCase().includes(D.toLowerCase())||X.name.toLowerCase().includes(D.toLowerCase())),pe=Math.ceil(ce.length/R),at=(B-1)*R,ut=at+R,_t=ce.slice((B-1)*R,B*R),it=()=>{const X=[];if(pe<=7)for(let Ne=1;Ne<=pe;Ne++)X.push(Ne);else if(B<=4){for(let Ne=1;Ne<=5;Ne++)X.push(Ne);X.push("..."),X.push(pe)}else if(B>=pe-3){X.push(1),X.push("...");for(let Ne=pe-4;Ne<=pe;Ne++)X.push(Ne)}else{X.push(1),X.push("...");for(let Ne=B-1;Ne<=B+1;Ne++)X.push(Ne);X.push("..."),X.push(pe)}return X},bt=Math.ceil(Ee.length/R),se=(oe-1)*R,ue=se+R,Z=Ee.slice((oe-1)*R,oe*R),G=()=>{const X=[];if(bt<=5)return Array.from({length:bt},(re,We)=>We+1);X.push(1),oe>3&&X.push("...");const ee=Math.max(2,oe-1),de=Math.min(bt-1,oe+1);for(let re=ee;re<=de;re++)X.push(re);return oe<bt-2&&X.push("..."),X.push(bt),X},Y=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await Q.fire({icon:"success",title:"Success",text:"Time flag on set policy successfully updated.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(X){console.error(X),alert("Failed to update records")}finally{W(!1)}},_=X=>{M(Ne=>Ne.includes(X)?Ne.filter(ee=>ee!==X):[...Ne,X])},ie=X=>{q(Ne=>Ne.includes(X)?Ne.filter(ee=>ee!==X):[...Ne,X])},_e=()=>{A.length===ce.length?M([]):M(ce.map(X=>X.id))},Ie=()=>{L.length===Ee.length?q([]):q(Ee.map(X=>X.id))},ke=X=>{f==="year"?a(X):f==="dateFrom"?y(X):f==="dateTo"&&j(X)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Utility to Update the Time Flag Base on set Policy of Breaks"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update time flags based on configured break policies. Apply break time rules and automatically flag attendance records according to company break policy settings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Auto-apply break policy rules"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(X=>e.jsxs("button",{onClick:()=>s(X.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===X.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(X.icon,{className:"w-4 h-4"}),X.name]},X.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:X=>P(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===ce.length&&ce.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(X.id),onChange:()=>_(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.description})]},X.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ee.length===0?0:at+1," to ",Math.min(ut,ce.length)," of ",ce.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(X=>Math.max(X-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),it().map((X,Ne)=>X==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ne}`):e.jsx("button",{onClick:()=>te(X),className:`px-2 py-1 rounded text-xs ${B===X?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},X)),e.jsx("button",{onClick:()=>te(X=>Math.min(X+1,pe)),disabled:B===pe||pe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:X=>T(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Ee.length&&Ee.length>0,onChange:Ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(X.id),onChange:()=>ie(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.name})]},X.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",se+1," to ",Math.min(ue,Ee.length)," of ",Ee.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(X=>Math.max(1,X-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),G().map((X,Ne)=>typeof X=="number"?e.jsx("button",{onClick:()=>fe(X),className:`px-2 py-1 rounded text-xs ${oe===X?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},Ne):e.jsx("span",{className:"px-2",children:X},Ne)),e.jsx("button",{onClick:()=>fe(X=>Math.min(bt,X+1)),disabled:oe===bt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:X=>y(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:X=>j(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Y,disabled:V,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(QX,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:ke,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function eJ({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function tJ(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState(""),[n,l]=o.useState("January"),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState("active"),[f,N]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[g,y]=o.useState(""),[C,j]=o.useState(""),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(!1);o.useEffect(()=>{te(1)},[t]);const[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),[Ye,pt]=o.useState(""),Ft=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ne=>({id:Ne.ID||Ne.id,code:Ne.groupCode||Ne.code,description:Ne.groupDescription||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Ft();F(Ne)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ne=>({id:Ne.braID||Ne.ID,code:Ne.braCode||Ne.code,description:Ne.braDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Bt();O(Ne)})()},[]);const Lt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ne=>({id:Ne.depID||Ne.ID,code:Ne.depCode||Ne.code,description:Ne.depDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Lt();je(Ne)})()},[]);const Qe=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Ne=>({id:Ne.divID||Ne.ID,code:Ne.divCode||Ne.code,description:Ne.divDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Qe();De(Ne)})()},[]);const gt=async()=>{const X=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.grpSchID||ee.id||ee.ID,code:ee.grpCode||ee.code,description:ee.grpDesc||ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await gt();He(Ne)})()},[]);const vt=async()=>{const X=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.lineID??ee.ID??ee.id,code:ee.lineCode??ee.code,description:ee.lineDesc??ee.Description??ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await vt();Me(Ne)})()},[]);const xt=async()=>{const X=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.secID??ee.ID??ee.id,code:ee.secCode??ee.sectionCode??ee.code,description:ee.secDesc??ee.Description??ee.description}))};o.useEffect(()=>{(async()=>{const Ne=await xt();Je(Ne)})()},[]);const Ct=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Ne=>({id:Ne.unitID||Ne.ID,code:Ne.unitCode||Ne.code,description:Ne.unitDesc||Ne.description}));o.useEffect(()=>{(async()=>{const Ne=await Ct();mt(Ne)})()},[]);const Nt=async()=>{const X=await ae.get("/EmployeeMasterFile");return(Array.isArray(X.data)?X.data:[]).map(ee=>({id:ee.empID??ee.ID??ee.id,code:ee.empCode||ee.code||"",name:`${ee.lName||""}, ${ee.fName||""} ${ee.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ne=await Nt();me(Ne)})()},[]);const ce=(()=>{switch(t){case"Branch":return k;case"Department":return be;case"Division":return Se;case"Group Schedule":return ze;case"Pay House":return ve;case"Section":return ot;case"Unit":return yt;default:return H}})().filter(X=>X.code.toLowerCase().includes(S.toLowerCase())||X.description.toLowerCase().includes(S.toLowerCase())),Ee=Re.filter(X=>X.code.toLowerCase().includes(D.toLowerCase())||X.name.toLowerCase().includes(D.toLowerCase())),pe=Math.ceil(ce.length/R),at=(B-1)*R,ut=at+R,_t=ce.slice((B-1)*R,B*R),it=()=>{const X=[];if(pe<=7)for(let Ne=1;Ne<=pe;Ne++)X.push(Ne);else if(B<=4){for(let Ne=1;Ne<=5;Ne++)X.push(Ne);X.push("..."),X.push(pe)}else if(B>=pe-3){X.push(1),X.push("...");for(let Ne=pe-4;Ne<=pe;Ne++)X.push(Ne)}else{X.push(1),X.push("...");for(let Ne=B-1;Ne<=B+1;Ne++)X.push(Ne);X.push("..."),X.push(pe)}return X},bt=Math.ceil(Ee.length/R),se=(oe-1)*R,ue=se+R,Z=Ee.slice((oe-1)*R,oe*R),G=()=>{const X=[];if(bt<=5)return Array.from({length:bt},(re,We)=>We+1);X.push(1),oe>3&&X.push("...");const ee=Math.max(2,oe-1),de=Math.min(bt-1,oe+1);for(let re=ee;re<=de;re++)X.push(re);return oe<bt-2&&X.push("..."),X.push(bt),X},Y=async()=>{if(!L.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!g||!C){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{W(!0),await Q.fire({icon:"success",title:"Success",text:"Unpaid Lunch deduction successfully updated.",timer:2e3,showConfirmButton:!1}),M([]),q([]),y(""),j("")}catch(X){console.error(X),alert("Failed to update records")}finally{W(!1)}},_=X=>{M(Ne=>Ne.includes(X)?Ne.filter(ee=>ee!==X):[...Ne,X])},ie=X=>{q(Ne=>Ne.includes(X)?Ne.filter(ee=>ee!==X):[...Ne,X])},_e=()=>{A.length===ce.length?M([]):M(ce.map(X=>X.id))},Ie=()=>{L.length===Ee.length?q([]):q(Ee.map(X=>X.id))},ke=X=>{f==="year"?a(X):f==="dateFrom"?y(X):f==="dateTo"&&j(X)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpaid Lunch Deduction Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply unpaid lunch break deductions for selected employees. Calculate and deduct lunch break hours based on configured brackets and company policy settings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated bracket calculation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(X=>e.jsxs("button",{onClick:()=>s(X.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===X.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(X.icon,{className:"w-4 h-4"}),X.name]},X.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:X=>P(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===ce.length&&ce.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(X.id),onChange:()=>_(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.description})]},X.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ee.length===0?0:at+1," to ",Math.min(ut,ce.length)," of ",ce.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(X=>Math.max(X-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),it().map((X,Ne)=>X==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ne}`):e.jsx("button",{onClick:()=>te(X),className:`px-2 py-1 rounded text-xs ${B===X?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},X)),e.jsx("button",{onClick:()=>te(X=>Math.min(X+1,pe)),disabled:B===pe||pe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:X=>T(X.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Ee.length&&Ee.length>0,onChange:Ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.map(X=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(X.id),onChange:()=>ie(X.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:X.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.name})]},X.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",se+1," to ",Math.min(ue,Ee.length)," of ",Ee.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(X=>Math.max(1,X-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),G().map((X,Ne)=>typeof X=="number"?e.jsx("button",{onClick:()=>fe(X),className:`px-2 py-1 rounded text-xs ${oe===X?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:X},Ne):e.jsx("span",{className:"px-2",children:X},Ne)),e.jsx("button",{onClick:()=>fe(X=>Math.min(bt,X+1)),disabled:oe===bt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:g,onChange:X=>y(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:g,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:C,onChange:X=>j(X.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:C,onChange:j})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Y,disabled:V,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),f&&e.jsx(eJ,{value:f==="year"?r:f==="dateFrom"?g:C,onChange:ke,onClose:()=>N(null),position:p}),e.jsx(Qt,{})]})}function sJ({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function rJ(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,d]=o.useState("active"),[x,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState([]),[S,P]=o.useState(1),[D,T]=o.useState(1),A=10,[M,L]=o.useState(!1);o.useEffect(()=>{P(1)},[t]);const[q,B]=o.useState(!1),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),Ve=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ke=>({id:Ke.ID||Ke.id,code:Ke.groupCode||Ke.code,description:Ke.groupDescription||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await Ve();oe(Ke)})()},[]);const qe=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ke=>({id:Ke.braID||Ke.ID,code:Ke.braCode||Ke.code,description:Ke.braDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await qe();W(Ke)})()},[]);const ve=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ke=>({id:Ke.depID||Ke.ID,code:Ke.depCode||Ke.code,description:Ke.depDesc||Ke.description}));o.useEffect(()=>{(async()=>{const Ke=await ve();F(Ke)})()},[]);const Me=async()=>{const $e=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.grpSchID||ce.id||ce.ID,code:ce.grpCode||ce.code,description:ce.grpDesc||ce.description}))};o.useEffect(()=>{(async()=>{const Ke=await Me();O(Ke)})()},[]);const Te=async()=>{const $e=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.lineID??ce.ID??ce.id,code:ce.lineCode??ce.code,description:ce.lineDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const Ke=await Te();je(Ke)})()},[]);const Le=async()=>{const $e=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.secID??ce.ID??ce.id,code:ce.secCode??ce.sectionCode??ce.code,description:ce.secDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const Ke=await Le();De(Ke)})()},[]);const ot=async()=>{const $e=await ae.get("/EmployeeMasterFile");return(Array.isArray($e.data)?$e.data:[]).map(ce=>({id:ce.empID??ce.ID??ce.id,code:ce.empCode||ce.code||"",name:`${ce.lName||""}, ${ce.fName||""} ${ce.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ke=await ot();He(Ke)})()},[]);const et=(()=>{switch(t){case"Branch":return V;case"Department":return H;case"Group Schedule":return k;case"Pay House":return be;case"Section":return Se;default:return te}})().filter($e=>$e.code.toLowerCase().includes(f.toLowerCase())||$e.description.toLowerCase().includes(f.toLowerCase())),yt=ze.filter($e=>$e.code.toLowerCase().includes(p.toLowerCase())||$e.name.toLowerCase().includes(p.toLowerCase())),mt=Math.ceil(et.length/A),jt=(S-1)*A,we=jt+A,Re=et.slice((S-1)*A,S*A),me=()=>{const $e=[];if(mt<=7)for(let Ke=1;Ke<=mt;Ke++)$e.push(Ke);else if(S<=4){for(let Ke=1;Ke<=5;Ke++)$e.push(Ke);$e.push("..."),$e.push(mt)}else if(S>=mt-3){$e.push(1),$e.push("...");for(let Ke=mt-4;Ke<=mt;Ke++)$e.push(Ke)}else{$e.push(1),$e.push("...");for(let Ke=S-1;Ke<=S+1;Ke++)$e.push(Ke);$e.push("..."),$e.push(mt)}return $e},Ye=Math.ceil(yt.length/A),pt=(D-1)*A,Ft=pt+A,Bt=yt.slice((D-1)*A,D*A),Lt=()=>{const $e=[];if(Ye<=5)return Array.from({length:Ye},(pe,at)=>at+1);$e.push(1),D>3&&$e.push("...");const ce=Math.max(2,D-1),Ee=Math.min(Ye-1,D+1);for(let pe=ce;pe<=Ee;pe++)$e.push(pe);return D<Ye-2&&$e.push("..."),$e.push(Ye),$e},Qe=async()=>{if(!C.length){await Q.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!r||!n){await Q.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{L(!0),await Q.fire({icon:"success",title:"Success",text:"Tardiness to Overtime successfully updated.",timer:2e3,showConfirmButton:!1}),y([]),j([]),a(""),l("")}catch($e){console.error($e),alert("Failed to update records")}finally{L(!1)}},gt=$e=>{y(Ke=>Ke.includes($e)?Ke.filter(ce=>ce!==$e):[...Ke,$e])},vt=$e=>{j(Ke=>Ke.includes($e)?Ke.filter(ce=>ce!==$e):[...Ke,$e])},xt=()=>{g.length===et.length?y([]):y(et.map($e=>$e.id))},Ct=()=>{C.length===yt.length?j([]):j(yt.map($e=>$e.id))},Nt=$e=>{x==="dateFrom1"?a($e):x==="dateFrom2"&&l($e)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Deduct Tardiness to Overtime of the Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(TF,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Automatically deduct tardiness from overtime hours of the same day for selected employee groups. Process time adjustments efficiently within specified date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify date range for deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply adjustments"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map($e=>e.jsxs("button",{onClick:()=>s($e.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===$e.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx($e.icon,{className:"w-4 h-4"}),$e.name]},$e.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:$e=>N($e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:g.length===et.length&&et.length>0,onChange:xt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Re.map($e=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:g.includes($e.id),onChange:()=>gt($e.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:$e.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:$e.description})]},$e.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",yt.length===0?0:jt+1," to ",Math.min(we,et.length)," of ",et.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P($e=>Math.max($e-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),me().map(($e,Ke)=>$e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ke}`):e.jsx("button",{onClick:()=>P($e),className:`px-2 py-1 rounded text-xs ${S===$e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:$e},$e)),e.jsx("button",{onClick:()=>P($e=>Math.min($e+1,mt)),disabled:S===mt||mt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:$e=>v($e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===yt.length&&yt.length>0,onChange:Ct,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Bt.map($e=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:C.includes($e.id),onChange:()=>vt($e.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:$e.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:$e.name})]},$e.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",pt+1," to ",Math.min(Ft,yt.length)," of ",yt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>T($e=>Math.max(1,$e-1)),disabled:D===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Lt().map(($e,Ke)=>typeof $e=="number"?e.jsx("button",{onClick:()=>T($e),className:`px-2 py-1 rounded text-xs ${D===$e?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:$e},Ke):e.jsx("span",{className:"px-2",children:$e},Ke)),e.jsx("button",{onClick:()=>T($e=>Math.min(Ye,$e+1)),disabled:D===Ye,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:r,onChange:$e=>a($e.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:r,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:n,onChange:$e=>l($e.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(hs,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Qe,children:[e.jsx(Ar,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),x&&e.jsx(sJ,{value:x==="dateFrom1"?r:n,onChange:Nt,onClose:()=>h(null),position:m})]})}function aJ(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,d]=o.useState("7/7/2021"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[g,y]=o.useState("tardiness"),C=o.useRef(null),[j,S]=o.useState(1),P=50,[D,T]=o.useState(""),[A,M]=o.useState(""),[L,q]=o.useState([]),[B,te]=o.useState([]),[oe,fe]=o.useState(1),[R,V]=o.useState(1),W=10,[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(!1),[k,O]=o.useState(null),[he,ye]=o.useState(null),[be,je]=o.useState({tardiness:!1,allowances:!1,undertime:!1,overtime:!1,selectAll:!1,leaveAbsences:!1,nightDifferentials:!1,regularWorking:!1,holidayPay:!1});o.useEffect(()=>{fe(1)},[t]);const[ge,xe]=o.useState([]),[Se,De]=o.useState([]),[Fe,Ae]=o.useState([]),[ze,He]=o.useState([]),[Ve,qe]=o.useState([]),[ve,Me]=o.useState([]),[Te,Le]=o.useState([]),[ot,Je]=o.useState([]),[Ge,et]=o.useState([]),yt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Pe=>({id:Pe.ID||Pe.id,code:Pe.groupCode||Pe.code,description:Pe.groupDescription||Pe.description})),mt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Pe=>({id:Pe.braID||Pe.ID,code:Pe.braCode||Pe.code,description:Pe.braDesc||Pe.description})),jt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Pe=>({id:Pe.depID||Pe.ID,code:Pe.depCode||Pe.code,description:Pe.depDesc||Pe.description})),we=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Pe=>({id:Pe.divID||Pe.ID,code:Pe.divCode||Pe.code,description:Pe.divDesc||Pe.description})),Re=async()=>{const z=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.grpSchID||Xe.id||Xe.ID,code:Xe.grpCode||Xe.code,description:Xe.grpDesc||Xe.description}))},me=async()=>{const z=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.lineID??Xe.ID??Xe.id,code:Xe.lineCode??Xe.code,description:Xe.lineDesc??Xe.Description??Xe.description}))},Ye=async()=>{const z=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.secID??Xe.ID??Xe.id,code:Xe.secCode??Xe.sectionCode??Xe.code,description:Xe.secDesc??Xe.Description??Xe.description}))},pt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Pe=>({id:Pe.unitID||Pe.ID,code:Pe.unitCode||Pe.code,description:Pe.unitDesc||Pe.description})),Ft=async()=>{const z=await ae.get("/Maintenance/EmployeeMasterFile");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.empID??Xe.ID??Xe.id,code:Xe.empCode||Xe.code||"",name:`${Xe.lName||""}, ${Xe.fName||""} ${Xe.mName||""}`.trim(),tkGroup:Xe.tkGroup??Xe.tKGroup??Xe.groupCode??Xe.tkGroupCode??"",branchCode:Xe.braCode??Xe.branchCode??Xe.branch??"",departmentCode:Xe.depCode??Xe.departmentCode??Xe.department??"",divisionCode:Xe.divCode??Xe.divisionCode??Xe.division??"",groupScheduleCode:Xe.grpCode??Xe.groupSchedule??Xe.grpSchCode??"",payHouseCode:Xe.lineCode??Xe.payCode??Xe.payHouseCode??Xe.payHouse??"",sectionCode:Xe.secCode??Xe.sectionCode??Xe.section??"",unitCode:Xe.unitCode??Xe.unit??""}))};o.useEffect(()=>{yt().then(xe)},[]),o.useEffect(()=>{mt().then(De)},[]),o.useEffect(()=>{jt().then(Ae)},[]),o.useEffect(()=>{we().then(He)},[]),o.useEffect(()=>{Re().then(qe)},[]),o.useEffect(()=>{me().then(Me)},[]),o.useEffect(()=>{Ye().then(Le)},[]),o.useEffect(()=>{pt().then(Je)},[]),o.useEffect(()=>{Ft().then(et)},[]);const Lt=(()=>{switch(t){case"Branch":return Se;case"Department":return Fe;case"Division":return ze;case"Group Schedule":return Ve;case"Pay House":return ve;case"Section":return Te;case"Unit":return ot;default:return ge}})(),Qe=()=>{switch(t){case"TK Group":return"TK Group Selection";case"Branch":return"Branch Selection";case"Department":return"Department Selection";case"Division":return"Division Selection";case"Group Schedule":return"Group Schedule Selection";case"Pay House":return"Pay House Selection";case"Section":return"Section Selection";case"Unit":return"Unit Selection";default:return"Selection"}},gt=Lt.filter(z=>z.code.toLowerCase().includes(D.toLowerCase())||z.description.toLowerCase().includes(D.toLowerCase())),vt=()=>{switch(t){case"TK Group":return"tkGroup";case"Branch":return"branchCode";case"Department":return"departmentCode";case"Division":return"divisionCode";case"Group Schedule":return"groupScheduleCode";case"Pay House":return"payHouseCode";case"Section":return"sectionCode";case"Unit":return"unitCode";default:return null}},xt=new Set(Lt.filter(z=>L.includes(z.id)).map(z=>z.code.trim().toLowerCase())),Ct=Ge.filter(z=>{if(!(z.code.toLowerCase().includes(A.toLowerCase())||z.name.toLowerCase().includes(A.toLowerCase())))return!1;if(xt.size===0)return!0;const Xe=vt();if(!Xe)return!0;const as=z[Xe]?.trim().toLowerCase()??"";return xt.has(as)}),Nt=Math.ceil(gt.length/W),$e=(oe-1)*W,Ke=$e+W,ce=gt.slice($e,Ke),Ee=()=>{const z=[];if(Nt<=7)for(let Pe=1;Pe<=Nt;Pe++)z.push(Pe);else if(oe<=4){for(let Pe=1;Pe<=5;Pe++)z.push(Pe);z.push("..."),z.push(Nt)}else if(oe>=Nt-3){z.push(1),z.push("...");for(let Pe=Nt-4;Pe<=Nt;Pe++)z.push(Pe)}else{z.push(1),z.push("...");for(let Pe=oe-1;Pe<=oe+1;Pe++)z.push(Pe);z.push("..."),z.push(Nt)}return z},pe=Math.ceil(Ct.length/W),at=(R-1)*W,ut=at+W,_t=Ct.slice(at,ut),it=()=>{const z=[];if(pe<=5)return Array.from({length:pe},(as,us)=>us+1);z.push(1),R>3&&z.push("...");const Pe=Math.max(2,R-1),Xe=Math.min(pe-1,R+1);for(let as=Pe;as<=Xe;as++)z.push(as);return R<pe-2&&z.push("..."),z.push(pe),z},bt=z=>{q(Pe=>Pe.includes(z)?Pe.filter(Xe=>Xe!==z):[...Pe,z])},se=z=>{te(Pe=>Pe.includes(z)?Pe.filter(Xe=>Xe!==z):[...Pe,z])},ue=()=>{L.length===gt.length?q([]):q(gt.map(z=>z.id))},Z=()=>{B.length===Ct.length?te([]):te(Ct.map(z=>z.id))},G=z=>{if(z==="selectAll"){const Pe=!be.selectAll;je({tardiness:Pe,allowances:Pe,undertime:Pe,overtime:Pe,selectAll:Pe,leaveAbsences:Pe,nightDifferentials:Pe,regularWorking:Pe,holidayPay:Pe})}else je(Pe=>({...Pe,[z]:!Pe[z]}))},Y=()=>B.length>0?Ge.filter(z=>B.includes(z.id)).map(z=>z.code):Ge.map(z=>z.code),_=z=>{if(!z)return new Date().toISOString();try{if(z.includes("/")){const[Pe,Xe,as]=z.split("/"),us=Pe.padStart(2,"0"),tt=Xe.padStart(2,"0");return`${as}-${us}-${tt}T00:00:00.000Z`}return new Date(z).toISOString()}catch{return new Date().toISOString()}},ie=z=>{const Pe=Math.floor(z/1e3),Xe=Math.floor(Pe/3600),as=Math.floor(Pe%3600/60),us=Pe%60;return{h:Xe,m:as,s:us}},_e=async()=>{const z=Y();if(z.length===0){Q.fire({icon:"warning",title:"No Employees",text:"Please select at least one employee or group."});return}const Pe={dateFrom:_(r),dateTo:_(n),dateApplied:_(i),empCode:"",empCodes:z,tardiness:be.tardiness,undertime:be.undertime,leaveAndAbsences:be.leaveAbsences,regularWorkingDays:be.regularWorking,allowances:be.allowances,overtime:be.overtime,nightDiff:be.nightDifferentials,holidayPay:be.holidayPay,unprodWorkOnHoliday:!1,lateFiling:x,oldOvertimeProcess:!1,oldNighDiffProcess:!1,oldTardinessProcess:!1,userName:"currentUser"};v(!0),b(!1),O(null),ye(null);const Xe=Date.now();try{const as=await ae.post("/Populate/Populate",Pe),us=ie(Date.now()-Xe),tt=as.data;console.log(as),O(tt),ye({...Pe,allowances:be.allowances,undertime:be.undertime,overtime:be.overtime,nightDiff:be.nightDifferentials,holidayPay:be.holidayPay,regularWorkingDays:be.regularWorking,tardiness:be.tardiness,leaveAndAbsences:be.leaveAbsences,lateFiling:x,dataAllowance:tt.allowance??[],dataUndertime:tt.undertime??[],dataOvertime:tt.overtime??[],dataNightDiff:tt.nightDiff??[],dataHolidayPay:tt.holidayPay??[],dataRegularWorkingHours:tt.regularWorkingHours??[],dataTardiness:tt.tardiness??[],dataLeaveAbsences:tt.leaveAbsences??[],tardinessBelowThreshold:tt.tardinessBelowThreshold??[],tardinessAboveThreshold:tt.tardinessAboveThreshold??[],undertimeBelowThreshold:tt.undertimeBelowThreshold??[],undertimeAboveThreshold:tt.undertimeAboveThreshold??[]}),b(!0),y("tardiness"),await Q.fire({icon:"success",title:"Done Populating",html:`
          <div style="text-align:center">
            <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
            <p style="font-size:1.25rem;font-weight:600;color:#1d4ed8">
              ${us.h} hour(s), ${us.m} minute(s) and ${us.s} second(s)
            </p>
          </div>
        `,confirmButtonText:"View Results",confirmButtonColor:"#2563eb"}),setTimeout(()=>{C.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(as){const us=as?.response?.data?.message??as?.message??"An unexpected error occurred.";Q.fire({icon:"error",title:"Populate Failed",text:us})}finally{v(!1)}},Ie=async()=>{if(!he){Q.fire({icon:"warning",title:"Populate First",text:"Please run Populate before Process."});return}N(!0);const z=Date.now();try{const Pe=await ae.post("/Populate/Process",he),Xe=ie(Date.now()-z),as=Pe.data;as?.isSuccessful===!1?Q.fire({icon:"error",title:"Process Error",text:as.message??"Process failed."}):await Q.fire({icon:"success",title:"Done Processing",html:`
            <div style="text-align:center">
              <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
              <p style="font-size:1.25rem;font-weight:600;color:#16a34a">
                ${Xe.h} hour(s), ${Xe.m} minute(s) and ${Xe.s} second(s)
              </p>
            </div>
          `,confirmButtonText:"OK",confirmButtonColor:"#16a34a"})}catch(Pe){const Xe=Pe?.response?.data?.message??Pe?.message??"An unexpected error occurred.";Q.fire({icon:"error",title:"Process Failed",text:Xe})}finally{N(!1)}};o.useEffect(()=>{S(1)},[g]);const ke=[{id:"tardiness",label:"Tardiness"},{id:"undertime",label:"Undertime"},{id:"leave-absences",label:"Leave and Absences"},{id:"regular-working",label:"Regular Working Days/Hours"},{id:"allowances",label:"Allowances"},{id:"overtime",label:"Overtime"},{id:"night-differentials",label:"Night Differentials"},{id:"holiday-pay",label:"Holiday Pay"}],Ne=(()=>{if(!k)return[];switch(g){case"tardiness":return k.tardiness??[];case"undertime":return k.undertime??[];case"leave-absences":return k.leaveAbsences??[];case"regular-working":return k.regularWorkingHours??[];case"allowances":return k.allowance??[];case"overtime":return k.overtime??[];case"night-differentials":return k.nightDiff??[];case"holiday-pay":return k.holidayPay??[];default:return[]}})(),ee=Math.ceil(Ne.length/P),de=Ne.slice((j-1)*P,j*P),re=()=>{const z=[];if(ee<=7)for(let Pe=1;Pe<=ee;Pe++)z.push(Pe);else if(j<=4){for(let Pe=1;Pe<=5;Pe++)z.push(Pe);z.push("..."),z.push(ee)}else if(j>=ee-3){z.push(1),z.push("...");for(let Pe=ee-4;Pe<=ee;Pe++)z.push(Pe)}else{z.push(1),z.push("...");for(let Pe=j-1;Pe<=j+1;Pe++)z.push(Pe);z.push("..."),z.push(ee)}return z},We=z=>{if(!z)return"";try{return new Date(z).toLocaleDateString()}catch{return z}},ft=z=>{if(!z)return"";try{return new Date(z).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return z}},$t=z=>z!=null?z.toFixed(4):"";return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process employee timekeeping data by various criteria including TK Group, branch, department, and more."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Process by multiple organizational groups","Generate comprehensive attendance reports","Track tardiness, undertime, and overtime","Monitor leave and absences efficiently"].map(z=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:z})]},z))})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(z=>e.jsxs("button",{onClick:()=>s(z.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===z.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(z.icon,{className:"w-4 h-4"}),z.name]},z.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:Qe()}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:D,onChange:z=>T(z.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===gt.length&&gt.length>0,onChange:ue,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(z.id),onChange:()=>bt(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.description})]},z.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",gt.length===0?0:$e+1," to ",Math.min(Ke,gt.length)," of ",gt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>fe(z=>Math.max(z-1,1)),disabled:oe===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),Ee().map((z,Pe)=>z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`g-ellipsis-${Pe}`):e.jsx("button",{onClick:()=>fe(z),className:`px-2 py-1 rounded text-xs ${oe===z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},z)),e.jsx("button",{onClick:()=>fe(z=>Math.min(z+1,Nt)),disabled:oe===Nt||Nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Employees"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[B.length," selected"]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:A,onChange:z=>M(z.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:B.length===Ct.length&&Ct.length>0,onChange:Z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:B.includes(z.id),onChange:()=>se(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.name})]},z.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",at+1," to ",Math.min(ut,Ct.length)," of ",Ct.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>V(z=>Math.max(1,z-1)),disabled:R===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),it().map((z,Pe)=>typeof z=="number"?e.jsx("button",{onClick:()=>V(z),className:`px-2 py-1 rounded text-xs ${R===z?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},Pe):e.jsx("span",{className:"px-2",children:z},Pe)),e.jsx("button",{onClick:()=>V(z=>Math.min(pe,z+1)),disabled:R===pe,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 mb-4",children:e.jsx("h2",{className:"text-gray-900",children:"Processing Options"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r,onChange:z=>a(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>J(!ne),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),ne&&e.jsx(Hr,{onDateSelect:z=>{a(z),J(!1)},onClose:()=>J(!1)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:z=>l(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>F(!H),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),H&&e.jsx(Hr,{onDateSelect:z=>{l(z),F(!1)},onClose:()=>F(!1)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date Applied"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:z=>d(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>U(!I),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),I&&e.jsx(Hr,{onDateSelect:z=>{d(z),U(!1)},onClose:()=>U(!1)})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:z=>h(z.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Late Filing"})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3 pb-3 border-b border-blue-200",children:[e.jsx("input",{type:"checkbox",checked:be.selectAll,onChange:()=>G("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Select All"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[["tardiness","Tardiness"],["undertime","Undertime"],["overtime","Overtime"],["leaveAbsences","Leave/Absences"],["regularWorking","Regular Working"],["allowances","Allowances"],["nightDifferentials","Night Differential"],["holidayPay","Holiday Pay"]].map(([z,Pe])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:be[z],onChange:()=>G(z),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Pe})]},z))})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:_e,disabled:p||f,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(Dn,{className:"w-4 h-4 animate-spin"}),"Populating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"w-4 h-4"}),"Populate"]})}),e.jsx("button",{onClick:Ie,disabled:p||f||!he,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:he?"":"Run Populate first",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Dn,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kb,{className:"w-4 h-4"}),"Process"]})})]}),!he&&e.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[" Run ",e.jsx("strong",{children:"Populate"})," first to enable the Process button."]})]}),m&&k&&e.jsxs("div",{ref:C,className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Populate Results"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Completed"})]}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:ke.map(z=>e.jsx("button",{onClick:()=>y(z.id),className:`px-4 py-3 whitespace-nowrap transition-all border-b-2 text-sm ${g===z.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:z.label},z.id))})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[g==="tardiness"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Tardiness"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),g==="undertime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Undertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),g==="leave-absences"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"With Pay"})]}),g==="regular-working"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),g==="allowances"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Allowance Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Amount"})]}),g==="overtime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),g==="night-differentials"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"ND Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]}),g==="holiday-pay"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[g==="tardiness"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.tardiness)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.tardinessWithInGrace)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.actualTardiness)})]},Pe)),g==="undertime"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.undertime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.undertimeWithinGracePeriod)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.actualUndertime)})]},Pe)),g==="leave-absences"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateL)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.leaveCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.hoursLeaveAbsent)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.remarks}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:!!z.withPay,readOnly:!0,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"})})]},Pe)),g==="regular-working"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.noOfHours)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.remarks})]},Pe)),g==="allowances"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.allowanceCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.date)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.amount?.toFixed(2)})]},Pe)),g==="overtime"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.otCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.remarks})]},Pe)),g==="night-differentials"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.otCode})]},Pe)),g==="holiday-pay"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.otCode})]},Pe)),Ne.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-12 text-center text-gray-400 text-sm",children:"No data available for this category."})})]})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing"," ",Ne.length===0?0:(j-1)*P+1," ",""," ",Math.min(j*P,Ne.length)," ","of"," ",Ne.length," entries"]}),ee>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(z=>Math.max(1,z-1)),disabled:j===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),re().map((z,Pe)=>z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`rp-ellipsis-${Pe}`):e.jsx("button",{onClick:()=>S(z),className:`px-2 py-1 rounded text-xs ${j===z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},z)),e.jsx("button",{onClick:()=>S(z=>Math.min(ee,z+1)),disabled:j===ee,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function R2({date:t,onChange:s}){const[r,a]=o.useState(!1),[n,l]=o.useState(new Date),i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),d=new Date(n.getFullYear(),n.getMonth(),1).getDay(),x=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date().getFullYear(),m=[];for(let S=1900;S<=h+10;S++)m.push(S);const b=[];for(let S=1;S<=i;S++)b.push(S);const f=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},N=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},p=S=>{l(new Date(n.getFullYear(),S,1))},v=S=>{l(new Date(S,n.getMonth(),1))},g=S=>{const P=(n.getMonth()+1).toString().padStart(2,"0"),D=S.toString().padStart(2,"0"),T=n.getFullYear();s(`${P}/${D}/${T}`),a(!1)},y=S=>{const P=(n.getMonth()+1).toString().padStart(2,"0"),D=S.toString().padStart(2,"0"),T=n.getFullYear();s(`${P}/${D}/${T}`),a(!1)},C=()=>{const S=new Date,P=(S.getMonth()+1).toString().padStart(2,"0"),D=S.getDate().toString().padStart(2,"0"),T=S.getFullYear();s(`${P}/${D}/${T}`),a(!1)},j=[];for(let S=0;S<d;S++)j.push(e.jsx("div",{className:"h-8"},`empty-${S}`));for(let S=1;S<=i;S++)j.push(e.jsx("button",{onClick:()=>y(S),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:S},S));return e.jsxs(Cx,{open:r,onOpenChange:a,children:[e.jsx(Sx,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(cs,{className:"w-5 h-5"})})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-80 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(U0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:n.getMonth(),onChange:S=>p(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:x.map((S,P)=>e.jsx("option",{value:P,children:S},S))}),e.jsxs("select",{onChange:S=>g(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700 w-16",children:[e.jsx("option",{value:"",children:"Day"}),b.map(S=>e.jsx("option",{value:S,children:S},S))]}),e.jsx("select",{value:n.getFullYear(),onChange:S=>v(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:m.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(S=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:S},S))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:j}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:C,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function nJ(){const[t,s]=o.useState("3/1/2020"),[r,a]=o.useState("03/15/2020"),[n,l]=o.useState(!1),[i,d]=o.useState("active"),[x,h]=o.useState(""),[m,b]=o.useState("designation"),[f,N]=o.useState(""),[p,v]=o.useState([1,2,3]),[g,y]=o.useState("Accumulation"),[C,j]=o.useState(!1),[S,P]=o.useState(!1),[D,T]=o.useState(!1),A=[{id:1,code:"BAT",description:"BATANGAS"},{id:2,code:"DASH-TEST",description:"CEBU"},{id:3,code:"ddfdsf",description:"MAKATI"},{id:4,code:"PASIG",description:"PASIG"},{id:5,code:"QC",description:"QUEZON CITY"}],M=[{id:1,code:"BATANGAS",description:"Batangass"},{id:2,code:"BICOL",description:"Bicol"},{id:3,code:"BIC-DARAGA",description:"Bicol-Daraga"},{id:4,code:"CAVITE",description:"Cavite"},{id:5,code:"CAR",description:"Cordillera Administrative Region"},{id:6,code:"URDANETA",description:"DN Steel Marketing, Inc. - Urdaneta"},{id:7,code:"LAUNION",description:"La Union"},{id:8,code:"MAIN",description:"Main"},{id:9,code:"NCR",description:"National Capital Region"},{id:10,code:"NUEVA",description:"NUEVA ECIJA"},{id:11,code:"PAMPANGA",description:"Pampanga"},{id:12,code:"PAM-BULACAN",description:"Pampanga-Bulacan Satellite"},{id:13,code:"TARLAC",description:"Tarlac"}],L=[{id:1,code:"-",description:"-"},{id:2,code:"A",description:"A"},{id:3,code:"108",description:"Accounting"},{id:4,code:"FNGCLRK",description:"Accounting Clerk"},{id:5,code:"330",description:"Audit"},{id:6,code:"600",description:"Building Administration"},{id:7,code:"106",description:"Building Administration_old"},{id:8,code:"134CS",description:"CAVITE SATELLITE"},{id:9,code:"231",description:"Contract"},{id:10,code:"233",description:"Creative"},{id:11,code:"112",description:"Credit & Collection_old"},{id:12,code:"420",description:"Credit and Collection"},{id:13,code:"D",description:"D"},{id:14,code:"215",description:"Dealers Market"},{id:15,code:"132",description:"Delivery"},{id:16,code:"251",description:"Delivery Operations"},{id:17,code:"127",description:"DNRM (Dealer)-old"},{id:18,code:"220",description:"Engineering"},{id:19,code:"125",description:"Engineering-OLD"},{id:20,code:"221",description:"Estimation"},{id:21,code:"230",description:"Executive"},{id:22,code:"235",description:"Finance"},{id:23,code:"240",description:"General Affairs"},{id:24,code:"107",description:"HR"},{id:25,code:"250",description:"Human Resources"},{id:26,code:"260",description:"Information Technology"},{id:27,code:"270",description:"Internal Audit"}],q=[{id:1,code:"2",description:"ASSISTANT MANAGER"},{id:2,code:"1",description:"MANAGER"},{id:3,code:"3",description:"RANK AND FILE"}],B=[{id:1,code:"a",description:"a"},{id:2,code:"i",description:"i"},{id:3,code:"s",description:"s"},{id:4,code:"-",description:"-"}],te=[{id:1,code:"-",description:"-"},{id:2,code:"ACCT1",description:"Accounting 1"},{id:3,code:"ACCT2",description:"Accounting 2"},{id:4,code:"ACCT3",description:"Accounting 3"},{id:5,code:"ACCT4",description:"Accounting 4"},{id:6,code:"ACCT5",description:"Accounting 5"},{id:7,code:"ACCT6",description:"Accounting 6"},{id:8,code:"ACMES",description:"ACTUAL MEASURERS"},{id:9,code:"AUDIT",description:"AUDIT"},{id:10,code:"BATPLNT1",description:"BATANGAS - PLANT 1"}],fe=(()=>{switch(m){case"tk-group":return A;case"branch":return M;case"department":return L;case"designation":return q;case"division":return B;case"section":return te;default:return q}})(),R=[{seqNo:1,empCode:"V067",fullName:"ABAD, JULIE ROSE RAMOS",dailyRecords:[{date:"1-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"2-Mar-2020",day:"Mon",restDay:!1,timeIn:"7:07:00AM",timeOut:"5:33:00PM",workShift:"730 AM 6PM",noOfHrs:"9.05",tardiness:"0.00",undertime:"0.45",absences:"0.00",leaveWithPay:"0.00"},{date:"3-Mar-2020",day:"Tue",restDay:!1,timeIn:"7:11:00AM",timeOut:"5:47:00PM",workShift:"730 AM 6PM",noOfHrs:"9.28",tardiness:"0.00",undertime:"0.22",absences:"0.00",leaveWithPay:"0.00"},{date:"4-Mar-2020",day:"Wed",restDay:!1,timeIn:"",timeOut:"",workShift:"RegDay",noOfHrs:"8.00",tardiness:"0.00",undertime:"0.00",absences:"1.50",leaveWithPay:"8.00"},{date:"5-Mar-2020",day:"Thu",restDay:!1,timeIn:"",timeOut:"",workShift:"RegDay",noOfHrs:"8.00",tardiness:"0.00",undertime:"0.00",absences:"1.50",leaveWithPay:"8.00"},{date:"6-Mar-2020",day:"Fri",restDay:!1,timeIn:"",timeOut:"",workShift:"",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"9.50"},{date:"7-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"8-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"9-Mar-2020",day:"Mon",restDay:!1,timeIn:"7:12:00AM",timeOut:"5:30:00PM",workShift:"730 AM 6PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"10-Mar-2020",day:"Tue",restDay:!1,timeIn:"7:04:00AM",timeOut:"5:32:00PM",workShift:"730 AM 6PM",noOfHrs:"9.03",tardiness:"0.00",undertime:"0.47",absences:"0.00",leaveWithPay:"0.00"},{date:"11-Mar-2020",day:"Wed",restDay:!1,timeIn:"6:45:00AM",timeOut:"7:30:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"12-Mar-2020",day:"Thu",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"13-Mar-2020",day:"Fri",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"14-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"15-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"}],subtotal:{noOfHrs:"90.36",tardiness:"0.00",undertime:"1.14",absences:"3.00",leaveWithPay:"25.50"}},{seqNo:2,empCode:"D002",fullName:"BALETE, LORENZO MAGADDON",dailyRecords:[{date:"1-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"2-Mar-2020",day:"Mon",restDay:!1,timeIn:"9:34:00AM",timeOut:"6:49:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.07",undertime:"0.68",absences:"0.00",leaveWithPay:"0.00"},{date:"3-Mar-2020",day:"Tue",restDay:!1,timeIn:"9:32:00AM",timeOut:"7:44:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.03",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"4-Mar-2020",day:"Wed",restDay:!1,timeIn:"9:41:00AM",timeOut:"6:47:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.18",undertime:"0.72",absences:"0.00",leaveWithPay:"0.00"},{date:"5-Mar-2020",day:"Thu",restDay:!1,timeIn:"9:34:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"7.50",tardiness:"0.07",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"6-Mar-2020",day:"Fri",restDay:!1,timeIn:"9:30:00AM",timeOut:"8:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"7-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"8-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"9-Mar-2020",day:"Mon",restDay:!1,timeIn:"9:30:00AM",timeOut:"7:30:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"10-Mar-2020",day:"Tue",restDay:!1,timeIn:"8:57:00AM",timeOut:"6:57:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.55",absences:"0.00",leaveWithPay:"0.00"},{date:"11-Mar-2020",day:"Wed",restDay:!1,timeIn:"9:30:00AM",timeOut:"7:30:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"12-Mar-2020",day:"Thu",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"13-Mar-2020",day:"Fri",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"14-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"15-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"}],subtotal:{noOfHrs:"88.50",tardiness:"0.35",undertime:"6.45",absences:"0.00",leaveWithPay:"0.00"}}],V=[{id:"tk-group",label:"TK Group",icon:Us},{id:"branch",label:"Branch",icon:er},{id:"department",label:"Department",icon:Zs},{id:"designation",label:"Designation",icon:jb},{id:"division",label:"Division",icon:Na},{id:"section",label:"Section",icon:Mr}],W=U=>{v(k=>k.includes(U)?k.filter(O=>O!==U):[...k,U])},ne=()=>{p.length===fe.length?v([]):v(fe.map(U=>U.id))},J=()=>{console.log("Searching...")},H=()=>{h("")},F=()=>{T(!0)},I=()=>{window.print()};return D?e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 print:hidden",children:[e.jsx("button",{onClick:()=>T(!1),className:"px-6 py-3 bg-yellow-500 text-gray-700 rounded-xl hover:bg-yellow-600 transition-colors",children:" Back to Filters"}),e.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[e.jsx(LF,{className:"w-5 h-5"}),e.jsx("span",{children:"Print Report"})]})]}),e.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Daily Time Report"}),e.jsx("p",{className:"text-gray-600",children:"Period From Mar 01, 2020 to Mar 15, 2020"})]}),e.jsx("div",{className:"border-t-4 border-black mb-6"}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"40px"},children:"Seq. No."}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"80px"},children:"EmpCode"}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"200px"},children:"Full Name"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"90px"},children:"IN"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"90px"},children:"OUT"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"100px"},children:"Work Shift"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"No of Hrs"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Tardiness"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Undertime"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Absences"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Leave With Pay"})]})}),e.jsx("tbody",{children:R.map(U=>e.jsxs(Y2.Fragment,{children:[e.jsxs("tr",{className:"bg-gray-100",children:[e.jsxs("td",{className:"px-2 py-2 align-top",children:[U.seqNo,"."]}),e.jsx("td",{className:"px-2 py-2 align-top",children:U.empCode}),e.jsx("td",{className:"px-2 py-2 align-top",colSpan:9,children:U.fullName})]}),U.dailyRecords.map((k,O)=>e.jsxs("tr",{className:k.restDay?"bg-gray-50":"",children:[e.jsx("td",{className:"px-2 py-1"}),e.jsx("td",{className:"px-2 py-1 text-xs",children:k.date}),e.jsx("td",{className:"px-2 py-1 text-xs",children:k.day}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:k.timeIn}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:k.timeOut}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:k.workShift}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:k.noOfHrs}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:k.tardiness}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:k.undertime}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:k.absences}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:k.leaveWithPay})]},O)),e.jsxs("tr",{className:"border-t border-gray-300 bg-gray-200",children:[e.jsx("td",{className:"px-2 py-2",colSpan:6,children:e.jsx("span",{className:"text-right block",children:"Subtotal:"})}),e.jsx("td",{className:"px-2 py-2 text-right",children:U.subtotal.noOfHrs}),e.jsx("td",{className:"px-2 py-2 text-right",children:U.subtotal.tardiness}),e.jsx("td",{className:"px-2 py-2 text-right",children:U.subtotal.undertime}),e.jsx("td",{className:"px-2 py-2 text-right",children:U.subtotal.absences}),e.jsx("td",{className:"px-2 py-2 text-right",children:U.subtotal.leaveWithPay})]}),e.jsx("tr",{className:"h-4"})]},U.empCode))})]})]})]})}),e.jsx(Qt,{})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Daily Time Record Monitoring"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(fr,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Monitor and generate daily time record reports for employees. Filter by date range, employee status, and organizational groups."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Export to Excel format"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Multiple report types"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Print ready reports"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Date Range"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:t,onChange:U=>s(U.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"MM/DD/YYYY"})]}),e.jsx(R2,{date:t,onChange:s})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:U=>a(U.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"MM/DD/YYYY"})]}),e.jsx(R2,{date:r,onChange:a})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:U=>l(U.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Sort Alphabetically"})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",checked:i==="active",onChange:()=>d("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",checked:i==="inactive",onChange:()=>d("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",checked:i==="all",onChange:()=>d("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"All"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:x,onChange:U=>h(U.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter employee code"}),e.jsx("button",{onClick:J,className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-5 h-5"})}),e.jsx("button",{onClick:H,className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("select",{value:g,onChange:U=>y(U.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer",children:[e.jsx("option",{value:"Accumulation",children:"Accumulation"}),e.jsx("option",{value:"Adjustment",children:"Adjustment"}),e.jsx("option",{value:"Allowance",children:"Allowance"}),e.jsx("option",{value:"Application Report",children:"Application Report"}),e.jsx("option",{value:"Assumed Days",children:"Assumed Days"}),e.jsx("option",{value:"Attendance Ratio",children:"Attendance Ratio"}),e.jsx("option",{value:"Attendance Summary",children:"Attendance Summary"}),e.jsx("option",{value:"Consecutive Absences",children:"Consecutive Absences"}),e.jsx("option",{value:"Count Of Employee Per Workshift",children:"Count Of Employee Per Workshift"}),e.jsx("option",{value:"Daily Time",children:"Daily Time"}),e.jsx("option",{value:"Device Code Report",children:"Device Code Report"}),e.jsx("option",{value:"Employees Raw Data Report",children:"Employees Raw Data Report"}),e.jsx("option",{value:"Employees Raw In And Out (From Update Rawdata)",children:"Employees Raw In And Out (From Update Rawdata)"}),e.jsx("option",{value:"Employees With No Workshift",children:"Employees With No Workshift"}),e.jsx("option",{value:"Exemption Report",children:"Exemption Report"}),e.jsx("option",{value:"In And Out By Position",children:"In And Out By Position"}),e.jsx("option",{value:"Leave And Absences",children:"Leave And Absences"}),e.jsx("option",{value:"Man Hours",children:"Man Hours"}),e.jsx("option",{value:"Man Hours By Division-Branch-Category-Dept-Section",children:"Man Hours By Division-Branch-Category-Dept-Section"}),e.jsx("option",{value:"No In And Out",children:"No In And Out"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Perfect Attendance",children:"Perfect Attendance"}),e.jsx("option",{value:"Questionable Entries",children:"Questionable Entries"}),e.jsx("option",{value:"Questionable Workshifts",children:"Questionable Workshifts"}),e.jsx("option",{value:"Restday in a Week",children:"Restday in a Week"}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Tardiness/ Overbreak/ Undertime Violation",children:"Tardiness/ Overbreak/ Undertime Violation"}),e.jsx("option",{value:"Tardiness And Undertime Report",children:"Tardiness And Undertime Report"}),e.jsx("option",{value:"Tardiness Penalty",children:"Tardiness Penalty"}),e.jsx("option",{value:"Timesheet",children:"Timesheet"}),e.jsx("option",{value:"Unauthorized Absences",children:"Unauthorized Absences"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"User Group Access",children:"User Group Access"}),e.jsx("option",{value:"User TK Group Access",children:"User TK Group Access"})]})}),e.jsxs("div",{className:"mb-6 space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:U=>j(U.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"To Excel File"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:U=>P(U.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Convert To HH:MM"})]})]}),e.jsx("button",{onClick:F,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30",children:"Display"})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap p-6 pb-0",children:V.map(U=>e.jsxs("button",{onClick:()=>b(U.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${m===U.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(U.icon,{className:"w-4 h-4"}),U.label]},U.id))}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:U=>N(U.target.value),className:"px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Search..."})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:p.length===fe.length,onChange:ne,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:fe.map(U=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:p.includes(U.id),onChange:()=>W(U.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:U.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:U.description})]},U.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("p",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:"Showing 1 to 3 of 3 entries"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(Qt,{})]})}function oJ(){const[t,s]=o.useState("1"),[r,a]=o.useState("MANAGER"),[n,l]=o.useState("1"),[i,d]=o.useState("MANAGER"),[x,h]=o.useState("03/01/2020"),[m,b]=o.useState("03/15/2020"),[f,N]=o.useState("March"),[p,v]=o.useState(""),[g,y]=o.useState(""),C=[{code:"2",description:"ASSISTANT MANAGER",appliesAll:!1},{code:"3",description:"RANK AND FILE",appliesAll:!1}],j=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"TKS Group Setup Definition"}),e.jsx("p",{className:"text-gray-600",children:"Manage timekeeping group definitions and configurations"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx(Ar,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(er,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-gray-900",children:"Group Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:t,onChange:S=>s(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter group code"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Group Description"}),e.jsx("input",{type:"text",value:r,onChange:S=>a(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter group description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Location Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:S=>l(S.target.value),className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Code"}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Description"}),e.jsx("input",{type:"text",value:i,onChange:S=>d(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter payroll description"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(cs,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-gray-900",children:"Time Keep Cut-Off Dates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"From"}),e.jsx(an,{value:x,onChange:S=>h(S),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"To"}),e.jsx(an,{value:m,onChange:S=>b(S),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Month"}),e.jsx("select",{value:f,onChange:S=>N(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer",children:j.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Period"}),e.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter period"})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Terminal ID"}),e.jsx("input",{type:"text",value:g,onChange:S=>y(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter terminal ID"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Us,{className:"w-5 h-5 text-orange-600"}),e.jsx("h3",{className:"text-gray-900",children:"Group List"})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-slate-700 via-slate-800 to-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-white",children:"TKS Group Code"}),e.jsx("th",{className:"px-6 py-4 text-left text-white",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-center text-white",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(VF,{className:"w-4 h-4"}),"Applies to All"]})})]})}),e.jsx("tbody",{children:C.map((S,P)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-gray-900",children:S.code}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:S.description}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:S.appliesAll,className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer",readOnly:!0})})]},P))})]})})]})]})})})]})}function lJ({onBack:t}){const[s,r]=o.useState(!1),[a,n]=o.useState(!0),[l,i]=o.useState(null),[d,x]=o.useState(null),[h,m]=o.useState({}),b=j=>h[j]===!0;o.useEffect(()=>{f()},[]);const f=()=>{const j=localStorage.getItem("loginPayload");if(j)try{const D=(JSON.parse(j).permissions||[]).filter(A=>ns(A.formName)==="CompanyInformationSetUp"),T={};D.forEach(A=>{const M=ns(A.accessTypeName);M&&(T[M]=!0)}),m(T)}catch(S){console.error("Error parsing or decrypting payload",S)}};o.useEffect(()=>{N()},[]);const N=async()=>{n(!0);try{const j=await ae.get("/Fs/System/CompanyInformation");if(j.status===200&&j.data){const S=Array.isArray(j.data)?j.data[0]:j.data;i(S),x(S)}}catch(j){const S=j.response?.data?.message||j.message||"Failed to load company information";await Q.fire({icon:"error",title:"Error",text:S}),console.error("Error fetching company information:",j)}finally{n(!1)}},p=()=>{r(!0)},v=async()=>{if(d)try{n(!0);const j=await ae.put("/Fs/System/CompanyInformation",d);if(j.status===200){const S=j.data;i(S),x(S),r(!1),await Q.fire({icon:"success",title:"Success",text:"Company information updated successfully!",timer:2e3,showConfirmButton:!1})}}catch(j){const S=j.response?.data?.message||j.message||"Failed to save changes";await Q.fire({icon:"error",title:"Error",text:S}),console.error("Error updating company information:",j)}finally{n(!1)}},g=()=>{x(l),r(!1)},y=(j,S)=>{d&&x({...d,[j]:S})},C=j=>j?new Date(j).toLocaleDateString("en-US"):"";return a&&!d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-gray-600",children:"Loading company information..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Company Information"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure essential company details including identification numbers, addresses, contact information, database paths, and system policies. Upload company and site logos to customize the application appearance."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Company registration details"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Government ID numbers"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Database path configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Logo and branding management"})]})]})]})]})}),b("View")?e.jsxs("div",{className:"grid grid-cols-12 gap-6 p-6 pt-0",children:[e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("div",{className:"aspect-square bg-white border-2 border-dashed border-gray-300 rounded-lg mb-4 flex items-center justify-center",children:d?.companyLogo?e.jsx("img",{src:d.companyLogo,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):e.jsx("span",{className:"text-gray-400",children:"Company Logo"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!s}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${s?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:[e.jsx(ua,{className:"w-4 h-4"}),"Upload"]}),e.jsxs("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:[e.jsx(nt,{className:"w-4 h-4"}),"Remove"]})]})]})]})}),e.jsxs("div",{className:"col-span-9 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[b("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-gray-700",children:"Code"}),e.jsx("div",{className:"flex gap-2",children:b("Edit")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shadow-sm ${s?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-white hover:bg-gray-700"}`,onClick:s?v:p,disabled:a,children:s?e.jsxs(e.Fragment,{children:[e.jsx(Ar,{className:"w-4 h-4"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]})}),s&&e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",onClick:g,disabled:a,children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]})})]}),e.jsx("input",{type:"text",value:d?.companyCode||"",onChange:j=>y("companyCode",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:d?.companyName||"",onChange:j=>y("companyName",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:d?.address||"",onChange:j=>y("address",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:d?.city||"",onChange:j=>y("city",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:d?.province||"",onChange:j=>y("province",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",value:d?.zipCode||"",onChange:j=>y("zipCode",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"SSS No."}),e.jsx("input",{type:"text",value:d?.sssNo||"",onChange:j=>y("sssNo",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Philhealth No"}),e.jsx("input",{type:"text",value:d?.philHealthNo||"",onChange:j=>y("philHealthNo",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Pagibig No :"}),e.jsx("input",{type:"text",value:d?.pag_Ibig||"",onChange:j=>y("pag_Ibig",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Tin No :"}),e.jsx("input",{type:"text",value:d?.tin||"",onChange:j=>y("tin",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Branch Code (BIR) :"}),e.jsx("input",{type:"text",value:d?.biR_BRNCode||"",onChange:j=>y("biR_BRNCode",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"GSIS No."}),e.jsx("input",{type:"text",value:d?.gsisNo||"",onChange:j=>y("gsisNo",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Business Cycle From"}),e.jsx("input",{type:"text",value:d?.busFr?C(d.busFr):"",onChange:j=>y("busFr",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Business Cycle To"}),e.jsx("input",{type:"text",value:d?.busTo?C(d.busTo):"",onChange:j=>y("busTo",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Telephone"}),e.jsx("input",{type:"text",defaultValue:"128PC-87\\SQL2022",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:d?.email||"",onChange:j=>y("email",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Hrs Database Path:"}),e.jsx("input",{type:"text",value:d?.hrisPath||"",onChange:j=>y("hrisPath",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Database Path:"}),e.jsx("input",{type:"text",value:d?.payrollPath||"",onChange:j=>y("payrollPath",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Photo Path:"}),e.jsx("input",{type:"text",value:d?.tksPhotoPath||"",onChange:j=>y("tksPhotoPath",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.otPremiumFlag||!1,onChange:j=>y("otPremiumFlag",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Use OT Premium Breakdown"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.terminalID||!1,onChange:j=>y("terminalID",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"With Terminal"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.validateLogs||!1,onChange:j=>y("validateLogs",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Logs Validate"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.readOnlyTxtDate||!1,onChange:j=>y("readOnlyTxtDate",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Read Only Textbox Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.exportEmail||!1,onChange:j=>y("exportEmail",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Export with Sending Email"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.exportLateFilingDateFlag||!1,onChange:j=>y("exportLateFilingDateFlag",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Export Late Filing Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.enableAutoPairingLogsFlag||!1,onChange:j=>y("enableAutoPairingLogsFlag",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enable Auto Pairing Logs"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.enableAppOTRawDataFlag||!1,onChange:j=>y("enableAppOTRawDataFlag",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enable Approved OT"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.enable2ndShiftRawDataFlag||!1,onChange:j=>y("enable2ndShiftRawDataFlag",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enable 2nd Shift in Raw Data"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-800 mb-4",children:"Company Config"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Number of Attempts"}),e.jsx("input",{type:"text",defaultValue:"5",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Policy"}),e.jsx("input",{type:"text",value:d?.policy||"",onChange:j=>y("policy",j.target.value),className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Password Age"}),e.jsx("input",{type:"text",defaultValue:"5",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:d?.passwordHistory||!1,onChange:j=>y("passwordHistory",j.target.checked),disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enforce Password History"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-800 mb-4",children:"License Policy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Server Name:"}),e.jsx("input",{type:"text",defaultValue:"TIMEKEEP128_VERSION910_Test",className:"w-32 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Max No Companies:"}),e.jsx("input",{type:"text",defaultValue:"Unlimited",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Max No Employees:"}),e.jsx("input",{type:"text",defaultValue:"Unlimited",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Registered Database:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",defaultValue:"TIMEKEEP128",className:"w-32 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!s}),e.jsx("button",{className:"px-3 py-1 bg-gray-300 hover:bg-gray-400 rounded transition-colors",disabled:!s,children:""})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Site Logo :"}),e.jsx("div",{className:"flex gap-2 mb-2",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!s}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${s?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Upload"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Remove"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Site Content :"}),e.jsx("div",{className:"flex gap-2 mb-2",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!s}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${s?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Upload"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!s,children:"Remove"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),e.jsx(Qt,{})]})}function iJ({onBack:t}){const[s,r]=o.useState(!1),[a,n]=o.useState(""),[l,i]=o.useState(""),[d,x]=o.useState(null),[h,m]=o.useState("2026"),[b,f]=o.useState(!1),[N,p]=o.useState(1),v=100,[g,y]=o.useState({year:"2026",month:"January",day:"1",description:"",holidayType:"Legal Holiday",time:""}),[C,j]=o.useState([]),[S,P]=o.useState(!1),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState(!1),[B,te]=o.useState(""),[oe,fe]=o.useState([]),R=["January","February","March","April","May","June","July","August","September","October","November","December"],V=[{value:"Legal Holiday",label:"Legal Holiday"},{value:"Special Holiday",label:"Special Holiday"},{value:"Calamity",label:"Calamity"},{value:"Calamity 2",label:"Calamity 2"},{value:"No Grace Period",label:"No Grace Period"},{value:"Early Dismissal",label:"Early Dismissal"},{value:"Double Legal Holiday",label:"Double Legal Holiday"},{value:"Special Holiday 2",label:"Special Holiday 2"},{value:"Non-Working Holiday",label:"Non-Working Holiday"}],[W,ne]=o.useState({}),J=Ae=>W[Ae]===!0;o.useEffect(()=>{H()},[]);const H=()=>{const Ae=localStorage.getItem("loginPayload");if(Ae)try{const Ve=(JSON.parse(Ae).permissions||[]).filter(ve=>ns(ve.formName)==="CalendarSetUp"),qe={};Ve.forEach(ve=>{const Me=ns(ve.accessTypeName);Me&&(qe[Me]=!0)}),ne(qe)}catch(ze){console.error("Error parsing or decrypting payload",ze)}};o.useEffect(()=>{F(),I()},[]);const F=async()=>{P(!0),T("");try{const Ae=await ae.get("/Fs/Process/CalendarSetUp");if(Ae.status===200&&Ae.data){const ze=Ae.data.map(He=>({id:He.id?.toString()||"",year:He.year||"",day:He.day||"",month:He.month||"",description:He.description||"",holidayType:He.holidayType||"",branch:He.branch||"",time:He.time||null,tdate:He.tdate||"",time2:He.time2||null}));j(ze)}}catch(Ae){const ze=Ae.response?.data?.message||Ae.message||"Failed to load holidays";T(ze),console.error("Error fetching holidays:",Ae)}finally{P(!1)}},I=async()=>{q(!0),te("");try{const Ae=await ae.get("/Fs/Employment/BranchSetUp");if(Ae.status===200&&Ae.data){const ze=Ae.data.map(He=>({branchId:He.braID||He.id||"",code:He.braCode||He.code||"",description:He.braDesc||He.description||"",branchManager:He.braMngr||He.branchManager||"",branchManagerCode:He.braMngrCode||"",deviceName:He.deviceName||He.DeviceName||""}));M(ze)}}catch(Ae){const ze=Ae.response?.data?.message||Ae.message||"Failed to load branches";te(ze),console.error("Error fetching branches:",Ae)}finally{q(!1)}},U=C.filter(Ae=>(Ae.description?.toLowerCase().includes(a.toLowerCase())||Ae.month?.toLowerCase().includes(a.toLowerCase())||Ae.branch?.toLowerCase().includes(a.toLowerCase()))&&Ae.year===h),k=A.filter(Ae=>Ae.code.toLowerCase().includes(l.toLowerCase())||Ae.description.toLowerCase().includes(l.toLowerCase())),O=Math.ceil(U.length/v),he=(N-1)*v,ye=U.slice(he,he+v);o.useEffect(()=>{p(1)},[a,h]);const be=()=>{x(null),y({year:h,month:"January",day:"1",description:"",holidayType:"Legal Holiday",time:""}),fe([]),r(!0)},je=Ae=>{x(Ae),y({year:Ae.year,month:Ae.month,day:Ae.day,description:Ae.description,holidayType:Ae.holidayType,time:Ae.time||""});const ze=Ae.branch?Ae.branch.split(",").map(He=>He.trim()):[];fe(ze),r(!0)},ge=async Ae=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete holiday "${Ae.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/CalendarSetUp/${Ae.id}`),await Q.fire({icon:"success",title:"Success",text:"Holiday deleted successfully.",timer:2e3,showConfirmButton:!1}),await F()}catch(He){const Ve=He.response?.data?.message||He.message||"Failed to delete holiday";await Q.fire({icon:"error",title:"Error",text:Ve}),console.error("Error deleting holiday:",He)}},xe=Ae=>{fe(ze=>ze.includes(Ae)?ze.filter(He=>He!==Ae):[...ze,Ae])},Se=async()=>{if(!g.description){await Q.fire({icon:"warning",title:"Validation Error",text:"Please enter a description."});return}f(!0);try{const Ae=R.indexOf(g.month)+1,ze=`${g.year}-${Ae.toString().padStart(2,"0")}-${g.day.padStart(2,"0")}T00:00:00`,He={id:d?parseInt(d.id):0,year:g.year,day:g.day,month:g.month,description:g.description,holidayType:g.holidayType,branch:oe.join(", "),time:g.time||null,tdate:ze,time2:null};d?(await ae.put(`/Fs/Process/CalendarSetUp/${d.id}`,He),await Q.fire({icon:"success",title:"Success",text:"Holiday updated successfully.",timer:2e3,showConfirmButton:!1})):(await ae.post("/Fs/Process/CalendarSetUp",He),await Q.fire({icon:"success",title:"Success",text:"Holiday created successfully.",timer:2e3,showConfirmButton:!1})),await F(),r(!1),x(null),fe([])}catch(Ae){const ze=Ae.response?.data?.message||Ae.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:ze}),console.error("Error submitting holiday:",Ae)}finally{f(!1)}},De=()=>{r(!1),x(null),fe([])};o.useEffect(()=>{const Ae=ze=>{ze.key==="Escape"&&s&&(r(!1),x(null))};return s&&document.addEventListener("keydown",Ae),()=>{document.removeEventListener("keydown",Ae)}},[s]);const Fe=Array.from({length:20},(Ae,ze)=>(new Date().getFullYear()-5+ze).toString());return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Holiday Calendar"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage company holidays, special occasions, and branch-specific observances. This calendar is used to calculate holiday pay and overtime rates for employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("span",{className:"text-blue-600",children:"Legal Holidays:"})," Regular pay + holiday premium"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("span",{className:"text-orange-600",children:"Special Holidays:"})," Standard pay rates apply"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure branch-specific holidays for regional offices"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Copy holidays from previous years for efficiency"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[J("Add")&&J("View")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Year:"}),e.jsx("select",{value:h,onChange:Ae=>m(Ae.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:Fe.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:be,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]})]}),J("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:Ae=>n(Ae.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:S?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading holidays..."})}):D?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:D})}):J("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Year"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Month"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Day"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Holiday Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Branch"}),(J("View")||J("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ye.length>0?ye.map(Ae=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-blue-600",children:Ae.year}),e.jsx("td",{className:"px-4 py-2",children:Ae.month}),e.jsx("td",{className:"px-4 py-2",children:Ae.day}),e.jsx("td",{className:"px-4 py-2",children:Ae.description}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:Ae.holidayType==="Legal Holiday"?"text-blue-600":"text-orange-600",children:Ae.holidayType})}),e.jsx("td",{className:"px-4 py-2",children:Ae.branch}),(J("Edit")||J("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[J("Edit")&&e.jsx("button",{onClick:()=>je(Ae),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),J("Edit")&&J("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),J("Delete")&&e.jsx("button",{onClick:()=>ge(Ae),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ae.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"text-gray-500",children:["No holidays found for ",h]})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),J("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",U.length>0?he+1:0," to ",Math.min(he+v,U.length)," of ",U.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(Ae=>Math.max(Ae-1,1)),disabled:N===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:O},(Ae,ze)=>ze+1).map(Ae=>e.jsx("button",{onClick:()=>p(Ae),className:`px-3 py-1 rounded ${N===Ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ae},Ae)),e.jsx("button",{onClick:()=>p(Ae=>Math.min(Ae+1,O)),disabled:N>=O||U.length===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:d?"Edit Holiday":"Create New Holiday"}),e.jsx("button",{onClick:De,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Holiday Calendar"}),e.jsxs("div",{className:"space-y-3 text-sm mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Year :"}),e.jsx("select",{value:g.year,onChange:Ae=>y({...g,year:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",children:Fe.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Month :"}),e.jsx("select",{value:g.month,onChange:Ae=>y({...g,month:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-48",children:R.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Day :"}),e.jsx("select",{value:g.day,onChange:Ae=>y({...g,day:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-24",children:Array.from({length:31},(Ae,ze)=>ze+1).map(Ae=>e.jsx("option",{value:Ae.toString(),children:Ae},Ae))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Description :"}),e.jsx("input",{type:"text",value:g.description,onChange:Ae=>y({...g,description:Ae.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Holiday Type :"}),e.jsx("select",{value:g.holidayType,onChange:Ae=>y({...g,holidayType:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-48",children:V.map(Ae=>e.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Time :"}),e.jsx("input",{type:"text",value:g.time,onChange:Ae=>y({...g,time:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",placeholder:"Optional"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-gray-700 font-medium mb-3",children:"Select Branches:"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:Ae=>i(Ae.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code or description..."})]}),e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden max-h-64 overflow-y-auto",children:L?e.jsx("div",{className:"p-4 text-center text-gray-600 text-sm",children:"Loading branches..."}):B?e.jsx("div",{className:"p-4 text-center text-red-600 text-sm",children:B}):e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-gray-100 border-b border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left w-16",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:oe.length===k.length&&k.length>0,onChange:Ae=>{Ae.target.checked?fe(k.map(ze=>ze.code)):fe([])}})}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700 font-medium",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700 font-medium",children:"Description"})]})}),e.jsx("tbody",{children:k.length>0?k.map(Ae=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer",onClick:()=>xe(Ae.code),children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:oe.includes(Ae.code),onChange:()=>xe(Ae.code),onClick:ze=>ze.stopPropagation()})}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:Ae.code}),e.jsx("td",{className:"px-3 py-2 text-gray-600",children:Ae.description})]},Ae.branchId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-gray-500",children:"No branches found"})})})]})}),oe.length>0&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.jsx("span",{className:"font-medium text-blue-600",children:oe.length})," branch(es)"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm font-medium",onClick:Se,disabled:b,children:b?"Saving...":d?"Update":"Submit"}),e.jsx("button",{className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm font-medium",onClick:De,disabled:b,children:"Back to List"})]})]})]})})]})]})}),e.jsx(Qt,{})]})}const cJ=[{code:"Legal1",label:"Legal Holiday"},{code:"Special1",label:"Special Holiday"},{code:"Calamity1",label:"Calamity"},{code:"NoGrace1",label:"No Grace Period"},{code:"Early1",label:"Early Dismissal"},{code:"2LEGHOL",label:"Double Legal Holiday"},{code:"SPH2",label:"Special Holiday 2"},{code:"NonWrk1",label:"Non-Working Holiday"}];function dJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(null),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState([]),[g,y]=o.useState(!1),[C,j]=o.useState(""),[S,P]=o.useState([]),[D,T]=o.useState(!1),[A,M]=o.useState({code:"",desc:"",holidayType:"",withintheShift:"",withintheShiftwithND:"",otPremiumWithintheShiftwithND:"",aftetheShift:"",aftertheShiftwithND:"",otPremiumAftertheShiftwithND:"",withintheShiftandRestday:"",withintheShiftandRestdaywithND:"",otPremiumWithintheShiftandRestdaywithND:"",aftertheShiftandRestday:"",aftertheShiftandRestdaywithND:"",otPremiumAftertheShiftandRestdaywithND:"",unworkedHolidayPay:"",unworkedHolidayPayRestday:"",unprodWorkHolidayRegDay:"",unprodWorkHolidayRestDay:"",eqOTCodeWinShf:"",eqOTCodeWinShfRest:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfRDForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:"",eqOTCodeAftrShfRDNDForNoOfHrs:""});o.useEffect(()=>{L()},[]);const L=async()=>{y(!0),j("");try{const De=await ae.get("/Fs/Process/Overtime/HolidayOTRateSetUp");De.status===200&&De.data&&(v(De.data),De.data.length>0&&(a(0),F(De.data[0])))}catch(De){const Fe=De.response?.data?.message||De.message||"Failed to load holiday OT rates";j(Fe),console.error("Error fetching holiday OT rates:",De)}finally{y(!1)}},q=async()=>{T(!0);try{const De=await ae.get("/Fs/Process/Overtime/OverTimeFileSetUp");De.status===200&&De.data&&P(De.data)}catch(De){console.error("Error fetching OT codes:",De)}finally{T(!1)}},B=S.filter(De=>De.otfCode.toLowerCase().includes(m.toLowerCase())||De.description.toLowerCase().includes(m.toLowerCase())),te=10,oe=Math.ceil(B.length/te),fe=(f-1)*te,R=fe+te,V=B.slice(fe,R),[W,ne]=o.useState({}),J=De=>W[De]===!0;o.useEffect(()=>{H()},[]);const H=()=>{const De=localStorage.getItem("loginPayload");if(De)try{const ze=(JSON.parse(De).permissions||[]).filter(Ve=>ns(Ve.formName)==="HolidayOTRatesSetUp"),He={};ze.forEach(Ve=>{const qe=ns(Ve.accessTypeName);qe&&(He[qe]=!0)}),ne(He)}catch(Fe){console.error("Error parsing or decrypting payload",Fe)}},F=De=>{M({code:De.code,desc:De.desc,holidayType:De.holidayType,withintheShift:De.withintheShift,withintheShiftwithND:De.withintheShiftwithND,otPremiumWithintheShiftwithND:De.otPremiumWithintheShiftwithND,aftetheShift:De.aftetheShift,aftertheShiftwithND:De.aftertheShiftwithND,otPremiumAftertheShiftwithND:De.otPremiumAftertheShiftwithND,withintheShiftandRestday:De.withintheShiftandRestday,withintheShiftandRestdaywithND:De.withintheShiftandRestdaywithND,otPremiumWithintheShiftandRestdaywithND:De.otPremiumWithintheShiftandRestdaywithND,aftertheShiftandRestday:De.aftertheShiftandRestday,aftertheShiftandRestdaywithND:De.aftertheShiftandRestdaywithND,otPremiumAftertheShiftandRestdaywithND:De.otPremiumAftertheShiftandRestdaywithND,unworkedHolidayPay:De.unworkedHolidayPay,unworkedHolidayPayRestday:De.unworkedHolidayPayRestday,unprodWorkHolidayRegDay:De.unprodWorkHolidayRegDay,unprodWorkHolidayRestDay:De.unprodWorkHolidayRestDay,eqOTCodeWinShf:De.eqOTCodeWinShf,eqOTCodeWinShfRest:De.eqOTCodeWinShfRest,eqOTCodeAftrShfForNoOfHrs:De.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfRDForNoOfHrs:De.eqOTCodeAftrShfRDForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:De.eqOTCodeAftrShfNDForNoOfHrs,eqOTCodeAftrShfRDNDForNoOfHrs:De.eqOTCodeAftrShfRDNDForNoOfHrs})},I=De=>{h(De),b(""),N(1),q(),d(!0)},U=De=>{M(Fe=>({...Fe,[x]:De})),d(!1)},k=De=>{M(Fe=>({...Fe,[De]:""}))},O=()=>{if(r===null){Q.fire({icon:"warning",title:"No Record Selected",text:"Please select a record to edit."});return}s(!0)},he=async()=>{if(!A.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!A.desc.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}l(!0);try{const De={id:r!==null?p[r].id:0,code:A.code,desc:A.desc,withintheShift:A.withintheShift,aftetheShift:A.aftetheShift,withintheShiftwithND:A.withintheShiftwithND,aftertheShiftwithND:A.aftertheShiftwithND,withintheShiftandRestday:A.withintheShiftandRestday,aftertheShiftandRestday:A.aftertheShiftandRestday,withintheShiftandRestdaywithND:A.withintheShiftandRestdaywithND,aftertheShiftandRestdaywithND:A.aftertheShiftandRestdaywithND,unworkedHolidayPay:A.unworkedHolidayPay,unworkedHolidayPayRestday:A.unworkedHolidayPayRestday,holidayType:A.holidayType,unprodWorkHolidayRegDay:A.unprodWorkHolidayRegDay,unprodWorkHolidayRestDay:A.unprodWorkHolidayRestDay,otPremiumWithintheShiftwithND:A.otPremiumWithintheShiftwithND,otPremiumAftertheShiftwithND:A.otPremiumAftertheShiftwithND,otPremiumWithintheShiftandRestdaywithND:A.otPremiumWithintheShiftandRestdaywithND,otPremiumAftertheShiftandRestdaywithND:A.otPremiumAftertheShiftandRestdaywithND,eqOTCodeWinShf:A.eqOTCodeWinShf,eqOTCodeWinShfRest:A.eqOTCodeWinShfRest,eqOTCodeAftrShfForNoOfHrs:A.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfRDForNoOfHrs:A.eqOTCodeAftrShfRDForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:A.eqOTCodeAftrShfNDForNoOfHrs,eqOTCodeAftrShfRDNDForNoOfHrs:A.eqOTCodeAftrShfRDNDForNoOfHrs};r!==null&&p[r]?(await ae.put(`/Fs/Process/Overtime/HolidayOTRateSetUp/${p[r].id}`,De),await Q.fire({icon:"success",title:"Success",text:"Holiday OT rate updated successfully.",timer:2e3,showConfirmButton:!1})):(await ae.post("/Fs/Process/Overtime/HolidayOTRateSetUp",De),await Q.fire({icon:"success",title:"Success",text:"Holiday OT rate created successfully.",timer:2e3,showConfirmButton:!1})),await L(),s(!1)}catch(De){const Fe=De.response?.data?.message||De.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Fe}),console.error("Error saving holiday OT rate:",De)}finally{l(!1)}},ye=()=>{s(!1),r!==null&&p[r]&&F(p[r])},be=()=>{s(!0),a(null),M({code:"",desc:"",holidayType:"",withintheShift:"",withintheShiftwithND:"",otPremiumWithintheShiftwithND:"",aftetheShift:"",aftertheShiftwithND:"",otPremiumAftertheShiftwithND:"",withintheShiftandRestday:"",withintheShiftandRestdaywithND:"",otPremiumWithintheShiftandRestdaywithND:"",aftertheShiftandRestday:"",aftertheShiftandRestdaywithND:"",otPremiumAftertheShiftandRestdaywithND:"",unworkedHolidayPay:"",unworkedHolidayPayRestday:"",unprodWorkHolidayRegDay:"",unprodWorkHolidayRestDay:"",eqOTCodeWinShf:"",eqOTCodeWinShfRest:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfRDForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:"",eqOTCodeAftrShfRDNDForNoOfHrs:""})},je=async()=>{if(r===null||!p[r]){await Q.fire({icon:"warning",title:"No Record Selected",text:"Please select a record to delete."});return}const De=p[r];if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete holiday OT rate "${De.code} - ${De.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Overtime/HolidayOTRateSetUp/${De.id}`),await Q.fire({icon:"success",title:"Success",text:"Holiday OT rate deleted successfully.",timer:2e3,showConfirmButton:!1}),await L(),a(null)}catch(Ae){const ze=Ae.response?.data?.message||Ae.message||"Failed to delete holiday OT rate";await Q.fire({icon:"error",title:"Error",text:ze}),console.error("Error deleting holiday OT rate:",Ae)}},ge=(De,Fe)=>{M(Ae=>({...Ae,[De]:Fe}))},xe=De=>{if(!t){a(De);const Fe=p[De];F(Fe)}},Se=(De,Fe,Ae=!1)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:[De," ",Ae&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:A[Fe],readOnly:!0,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-default"}),e.jsx("button",{type:"button",onClick:()=>I(Fe),disabled:!t,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Search"}),e.jsx("button",{type:"button",onClick:()=>k(Fe),disabled:!t,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]});return o.useEffect(()=>{const De=Fe=>{Fe.key==="Escape"&&i&&d(!1)};return i&&document.addEventListener("keydown",De),()=>document.removeEventListener("keydown",De)},[i]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Holiday OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define overtime rate codes and premium calculations for holidays. Configure rates for regular shifts, night differential, rest days, and their combinations to ensure accurate holiday pay computations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Within shift and after shift OT rates","Night differential premium calculations","Rest day combination rates","Unworked holiday pay configuration"].map(De=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:De})]},De))})]})]})}),J("View")&&e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[!t&&J("Add")&&e.jsxs("button",{onClick:be,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"})," Create New"]}),J("Edit")&&(t?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:he,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ar,{className:"w-4 h-4"}),n?"Saving...":"Save"]}),e.jsxs("button",{onClick:ye,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Cb,{className:"w-4 h-4"})," Cancel"]})]}):e.jsxs("button",{onClick:O,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(dl,{className:"w-4 h-4"})," Edit"]})),!t&&J("Delete")&&e.jsxs("button",{onClick:je,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(is,{className:"w-4 h-4"})," Delete"]})]}),J("View")?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading holiday OT rates..."})}):C?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:C})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Code"," ",e.jsx(Ug,{className:"w-4 h-4 text-gray-400"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Description"," ",e.jsx(Ug,{className:"w-4 h-4 text-gray-400"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Holiday Type"," ",e.jsx(Ug,{className:"w-4 h-4 text-gray-400"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:p.length>0?p.map((De,Fe)=>e.jsxs("tr",{onClick:()=>xe(Fe),className:`cursor-pointer transition-colors ${r===Fe?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:De.code}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:De.desc}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:De.holidayType})]},De.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No records found"})})})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:A.code,maxLength:10,onChange:De=>ge("code",De.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),Se("Within the Shift","withintheShift",!0),Se("After the Shift","aftetheShift",!0),Se("Within the Shift and Restday","withintheShiftandRestday",!0),Se("After the Shift and Restday","aftertheShiftandRestday",!0),Se("Unworked Holiday Pay","unworkedHolidayPay",!0),Se("Unworked Holiday Pay (Restday)","unworkedHolidayPayRestday",!0)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:A.desc,onChange:De=>ge("desc",De.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),Se("Within the Shift With ND","withintheShiftwithND",!0),Se("After the Shift With ND","aftertheShiftwithND",!0),Se("Within the Shift and Restday with ND","withintheShiftandRestdaywithND",!0),Se("After the Shift and Restday with ND","aftertheShiftandRestdaywithND",!0)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Holiday Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:A.holidayType,onChange:De=>ge("holidayType",De.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600",children:[e.jsx("option",{value:"",children:"Select Holiday Type"}),cJ.map(De=>e.jsx("option",{value:De.code,children:De.label},De.code))]})]}),Se("OT Premium Within the Shift with ND","otPremiumWithintheShiftwithND",!0),Se("OT Premium After the Shift with ND","otPremiumAftertheShiftwithND",!0),Se("OT Premium Within the Shift and Restday with ND","otPremiumWithintheShiftandRestdaywithND",!0),Se("OT Premium After the Shift and Restday with ND","otPremiumAftertheShiftandRestdaywithND",!0),Se("Equivalent OT Code of Within in the Shift","eqOTCodeWinShf"),Se("Equivalent OT Code of Within in the Shift and Rest Day","eqOTCodeWinShfRest")]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Equivalent OT Code for No of Hrs"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Se("After The Shift","eqOTCodeAftrShfForNoOfHrs"),Se("After The Shift and Rest Day","eqOTCodeAftrShfRDForNoOfHrs"),Se("After The Shift With ND","eqOTCodeAftrShfNDForNoOfHrs"),Se("After The Shift and Rest Day With ND","eqOTCodeAftrShfRDNDForNoOfHrs")]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," Fields marked with ",e.jsx("span",{className:"text-red-500",children:"*"})," are required. Holiday OT rates are used to calculate overtime premiums for employees working during holidays."]})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Overtime Code"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:De=>b(De.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-80"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:D?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:V.length>0?V.map(De=>e.jsxs("tr",{onClick:()=>U(De.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:De.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:De.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:De.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:De.defAmt.toFixed(2)})]},De.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",fe+1," to"," ",Math.min(R,B.length)," of"," ",B.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(De=>Math.max(1,De-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),Array.from({length:Math.min(5,oe)},(De,Fe)=>Fe+1).map(De=>e.jsx("button",{onClick:()=>N(De),className:`px-3 py-1 rounded text-sm ${f===De?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De},De)),e.jsx("button",{onClick:()=>N(De=>Math.min(oe,De+1)),disabled:f===oe,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})}),e.jsx(Qt,{})]})}function uJ({onBack:t}){const[s,r]=o.useState(!1),[a,n]=o.useState(""),[l,i]=o.useState(null),[d,x]=o.useState(!1),[h,m]=o.useState({otfCode:"",earnCode:"",rate1:"0",rate2:"0",defAmt:"0.00",incPayslip:"",incColaOT:"",incColaBasic:"",description:"",isExemptionRpt:!1}),[b,f]=o.useState([]),[N,p]=o.useState(!1),[v,g]=o.useState("");o.useEffect(()=>{y()},[]);const y=async()=>{p(!0),g("");try{const R=await ae.get("/Fs/Process/Overtime/OverTimeFileSetUp");R.status===200&&R.data&&f(R.data)}catch(R){const V=R.response?.data?.message||R.message||"Failed to load overtime data";g(V),console.error("Error fetching overtime data:",R)}finally{p(!1)}},C=b.filter(R=>R.otfCode.toLowerCase().includes(a.toLowerCase())||R.description.toLowerCase().includes(a.toLowerCase())||R.earnCode.toLowerCase().includes(a.toLowerCase())),[j,S]=o.useState(1),P=25,D=Math.ceil(C.length/P),T=(j-1)*P,A=T+P,M=C.slice(T,A);o.useEffect(()=>{S(1)},[a]);const L=R=>{i(R),m({otfCode:R.otfCode,earnCode:R.earnCode,rate1:R.rate1.toString(),rate2:R.rate2.toString(),defAmt:R.defAmt.toFixed(2),incPayslip:R.incPayslip,incColaOT:R.incColaOT,incColaBasic:R.incColaBasic,description:R.description,isExemptionRpt:R.isExemptionRpt}),r(!0)},q=()=>{i(null),m({otfCode:"",earnCode:"",rate1:"0",rate2:"0",defAmt:"0.00",incPayslip:"",incColaOT:"",incColaBasic:"",description:"",isExemptionRpt:!1}),r(!0)},B=async R=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete overtime code "${R.otfCode} - ${R.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Overtime/OverTimeFileSetUp/${R.otfid}`),await Q.fire({icon:"success",title:"Success",text:"Overtime code deleted successfully.",timer:2e3,showConfirmButton:!1}),await y()}catch(W){const ne=W.response?.data?.message||W.message||"Failed to delete overtime code";await Q.fire({icon:"error",title:"Error",text:ne}),console.error("Error deleting overtime code:",W)}},te=async R=>{if(R.preventDefault(),!h.otfCode.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!h.description.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(b.some(W=>W.otfCode.toLowerCase()===h.otfCode.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This overtime code is already in use. Please use a different code."});return}x(!0);try{const W={otfid:0,otfCode:h.otfCode,earnCode:h.earnCode,rate1:parseFloat(h.rate1)||0,rate2:parseFloat(h.rate2)||0,defAmt:parseFloat(h.defAmt)||0,incPayslip:h.incPayslip,incColaOT:h.incColaOT,incColaBasic:h.incColaBasic,description:h.description,isExemptionRpt:h.isExemptionRpt};await ae.post("/Fs/Process/Overtime/OverTimeFileSetUp",W),await Q.fire({icon:"success",title:"Success",text:"Overtime code created successfully.",timer:2e3,showConfirmButton:!1}),await y(),r(!1)}catch(W){const ne=W.response?.data?.message||W.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:ne}),console.error("Error creating overtime code:",W)}finally{x(!1)}},oe=async R=>{if(R.preventDefault(),!l)return;if(!h.otfCode.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!h.description.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(b.some(W=>W.otfid!==l.otfid&&W.otfCode.toLowerCase()===h.otfCode.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This overtime code is already in use. Please use a different code."});return}x(!0);try{const W={otfid:l.otfid,otfCode:h.otfCode,earnCode:h.earnCode,rate1:parseFloat(h.rate1)||0,rate2:parseFloat(h.rate2)||0,defAmt:parseFloat(h.defAmt)||0,incPayslip:h.incPayslip,incColaOT:h.incColaOT,incColaBasic:h.incColaBasic,description:h.description,isExemptionRpt:h.isExemptionRpt};await ae.put(`/Fs/Process/Overtime/OverTimeFileSetUp/${l.otfid}`,W),await Q.fire({icon:"success",title:"Success",text:"Overtime code updated successfully.",timer:2e3,showConfirmButton:!1}),await y(),r(!1),i(null)}catch(W){const ne=W.response?.data?.message||W.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:ne}),console.error("Error updating overtime code:",W)}finally{x(!1)}},fe=R=>{l?oe(R):te(R)};return o.useEffect(()=>{const R=V=>{V.key==="Escape"&&s&&(r(!1),i(null))};return s&&document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Overtime File Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure overtime codes with their respective rates and default amounts. These codes are used throughout the system for calculating overtime pay and generating reports."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define overtime rate codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set default amounts per code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure exemption from reports"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Manage basic and premium rates"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:q,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:R=>n(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 text-sm"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:N?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading overtime data..."})}):v?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:v})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Earn Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Rate 1"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Rate 2"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Default Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Is Exempted Rpt"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:M.length>0?M.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.otfCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.earnCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.rate1.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.rate2.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.defAmt.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("input",{type:"checkbox",checked:R.isExemptionRpt,readOnly:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>L(R),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>B(R),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},R.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",C.length>0?T+1:0," to ",Math.min(A,C.length)," of ",C.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(R=>Math.max(1,R-1)),disabled:j===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:D},(R,V)=>V+1).map(R=>e.jsx("button",{onClick:()=>S(R),className:`px-3 py-1 rounded transition-colors ${j===R?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:R},R)),e.jsx("button",{onClick:()=>S(R=>Math.min(D||1,R+1)),disabled:j>=D||C.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:l?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{r(!1),i(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:fe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Overtime File Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Code :"}),e.jsx("input",{type:"text",value:h.otfCode,maxLength:10,onChange:R=>m({...h,otfCode:R.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Description :"}),e.jsx("input",{type:"text",value:h.description,onChange:R=>m({...h,description:R.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Earn Code :"}),e.jsx("input",{type:"text",value:h.earnCode,onChange:R=>m({...h,earnCode:R.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Rate 1 :"}),e.jsx("input",{type:"number",step:"0.01",value:h.rate1,onChange:R=>m({...h,rate1:R.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Rate 2 :"}),e.jsx("input",{type:"number",step:"0.01",value:h.rate2,onChange:R=>m({...h,rate2:R.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Default Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:h.defAmt,onChange:R=>m({...h,defAmt:R.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Payslip :"}),e.jsx("input",{type:"text",value:h.incPayslip,onChange:R=>m({...h,incPayslip:R.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Cola OT :"}),e.jsx("input",{type:"text",value:h.incColaOT,onChange:R=>m({...h,incColaOT:R.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Cola Basic :"}),e.jsx("input",{type:"text",value:h.incColaBasic,onChange:R=>m({...h,incColaBasic:R.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Is Exempted Rpt :"}),e.jsx("input",{type:"checkbox",checked:h.isExemptionRpt,onChange:R=>m({...h,isExemptionRpt:R.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:d?l?"Updating...":"Submitting...":l?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:()=>{r(!1),i(null)},disabled:d,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})}),e.jsx(Qt,{})]})}function xJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(!1),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(null),[P,D]=o.useState([]),[T,A]=o.useState(!1),[M,L]=o.useState(""),[q,B]=o.useState({}),te=O=>q[O]===!0;o.useEffect(()=>{oe()},[]);const oe=()=>{const O=localStorage.getItem("loginPayload");if(O)try{const be=(JSON.parse(O).permissions||[]).filter(ge=>ns(ge.formName)==="AllowBracketingCode"),je={};be.forEach(ge=>{const xe=ns(ge.accessTypeName);xe&&(je[xe]=!0)}),B(je)}catch(he){console.error("Error parsing or decrypting payload",he)}};o.useEffect(()=>{fe()},[]);const fe=async()=>{A(!0),L("");try{const O=await ae.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp");if(O.status===200&&O.data){const he=O.data.map(ye=>({id:ye.id||"",code:ye.code||"",description:ye.description||""}));D(he)}}catch(O){const he=O.response?.data?.message||O.message||"Failed to load allowance bracket codes";L(he),console.error("Error fetching allowance bracket codes:",O)}finally{A(!1)}};o.useEffect(()=>{const O=he=>{he.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[t]);const R=()=>{l(!1),d(null),S(null),p(""),g(""),C(""),s(!0)},V=(O,he)=>{l(!0),d(he),S(O.id||null),p(O.code),g(""),C(O.description),s(!0)},W=async O=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete allowance bracket code ${O.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp/${O.id}`),await Q.fire({icon:"success",title:"Success",text:"Allowance bracket code deleted successfully.",timer:2e3,showConfirmButton:!1}),await fe()}catch(ye){const be=ye.response?.data?.message||ye.message||"Failed to delete allowance bracket code";await Q.fire({icon:"error",title:"Error",text:be}),console.error("Error deleting allowance bracket code:",ye)}},ne=O=>{p(O),O.length>10?g("Code maximum 10 characters"):g("")},J=async()=>{if(!N.trim()||N.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(P.some((he,ye)=>n&&i===ye?!1:he.code.toLowerCase()===N.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}f(!0);try{const he={id:n&&j?parseInt(j):0,code:N,description:y};n&&j?(await ae.put(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp/${he.id}`,he),await Q.fire({icon:"success",title:"Success",text:"Allowance bracket code updated successfully.",timer:2e3,showConfirmButton:!1}),await fe()):(await ae.post("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp",he),await Q.fire({icon:"success",title:"Success",text:"Allowance bracket code created successfully.",timer:2e3,showConfirmButton:!1}),await fe()),s(!1),p(""),g(""),C(""),S(null),l(!1),d(null)}catch(he){const ye=he.response?.data?.message||he.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:ye}),console.error("Error submitting form:",he)}finally{f(!1)}},H=P.filter(O=>O.code.toLowerCase().includes(r.toLowerCase())||O.description.toLowerCase().includes(r.toLowerCase())),F=Math.ceil(H.length/m),I=(x-1)*m,U=I+m,k=H.slice(I,U);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Allowance Bracket Code Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and manage allowance bracket codes used for categorizing and organizing different types of employee allowances and benefits within the payroll system."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bracket code creation and management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Allowance categorization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible bracket configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Integration with allowance bracketing"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[te("Add")&&te("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:R,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),te("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:O=>a(O.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:T?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracket codes..."})}):M?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:M})}):te("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(te("View")||te("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:k.map((O,he)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-gray-900",children:O.code}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:O.description}),(te("Edit")||te("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[te("Edit")&&e.jsx("button",{onClick:()=>V(O,he),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),te("Edit")&&te("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),te("Delete")&&e.jsx("button",{onClick:()=>W(O),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},he))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),te("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",H.length===0?0:I+1," to ",Math.min(U,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(O=>Math.max(O-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:F},(O,he)=>he+1).map(O=>e.jsx("button",{onClick:()=>h(O),className:`px-3 py-1 rounded transition-colors ${x===O?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:O},O)),e.jsx("button",{onClick:()=>h(O=>Math.min(O+1,F)),disabled:x===F||F===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Allowance Bracket Code":"Create New Allowance Bracket Code"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Allowance Bracket Code Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:N,onChange:O=>ne(O.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${v?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),v&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:v}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:y,onChange:O=>C(O.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:J,disabled:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:b?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:b,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Qt,{})]})}function hJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(1),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState("RegDay"),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState({noOfHours:"",amount:"",earningCode:""}),[L,q]=o.useState(null),[B,te]=o.useState(!1),[oe,fe]=o.useState([]),[R,V]=o.useState(!1),[W,ne]=o.useState(""),[J,H]=o.useState([]),[F,I]=o.useState(!1),[U,k]=o.useState([]),[O,he]=o.useState(!1),[ye,be]=o.useState(""),[je,ge]=o.useState(1),[xe,Se]=o.useState([]),[De,Fe]=o.useState(!1),[Ae,ze]=o.useState(""),[He,Ve]=o.useState(1),qe=100,ve=10,[Me,Te]=o.useState({}),Le=_=>Me[_]===!0;o.useEffect(()=>{ot()},[]);const ot=()=>{const _=localStorage.getItem("loginPayload");if(_)try{const Ie=(JSON.parse(_).permissions||[]).filter(X=>ns(X.formName)==="AllowBracketing"),ke={};Ie.forEach(X=>{const Ne=ns(X.accessTypeName);Ne&&(ke[Ne]=!0)}),Te(ke)}catch(ie){console.error("Error parsing or decrypting payload",ie)}};o.useEffect(()=>{Je(),Ge()},[]);const Je=async()=>{V(!0),ne("");try{const _=await ae.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp");if(_.status===200&&_.data){const ie=_.data.map(_e=>({id:_e.id?.toString()||"",dayType:_e.dayType||"",noOfHrs:_e.noOfHrs||0,earningCode:_e.earningCode||"",amount:_e.amount||0,code:_e.code||"",workShiftCode:_e.workShiftCode||"",byEmploymentStatFlag:_e.byEmploymentStatFlag||!1,employmentStatus:_e.employmentStatus||""}));fe(ie)}}catch(_){const ie=_.response?.data?.message||_.message||"Failed to load allowance bracketing data";ne(ie),console.error("Error fetching allowance bracketing data:",_)}finally{V(!1)}},Ge=async()=>{I(!0);try{const _=await ae.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(_.status===200&&_.data){const ie=_.data.map(_e=>({id:_e.earnID?.toString()||_e.id||"",code:_e.earnCode||_e.code||"",description:_e.earnDesc||_e.description||""}));H(ie)}}catch(_){console.error("Error fetching earning codes:",_)}finally{I(!1)}},et=async()=>{he(!0);try{const _=await ae.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp");if(_.status===200&&_.data){const ie=_.data.map(_e=>({id:_e.id||0,code:_e.code||"",description:_e.description||""}));k(ie)}}catch(_){console.error("Error fetching allowance bracket codes:",_)}finally{he(!1)}},yt=async()=>{Fe(!0);try{const _=await ae.get("/Fs/Process/AllowanceAndEarnings/WorkShiftSetUp");if(_.status===200&&_.data){const ie=_.data.map(_e=>({id:_e.id||_e.workShiftID||0,code:_e.code||_e.workShiftCode||"",description:_e.description||_e.workShiftDesc||""}));Se(ie)}}catch(_){console.error("Error fetching workshift codes:",_)}finally{Fe(!1)}},mt=J.filter(_=>_.code.toLowerCase().includes(f.toLowerCase())||_.description.toLowerCase().includes(f.toLowerCase())),jt=U.filter(_=>_.code.toLowerCase().includes(ye.toLowerCase())||_.description.toLowerCase().includes(ye.toLowerCase())),we=xe.filter(_=>_.code.toLowerCase().includes(Ae.toLowerCase())||_.description.toLowerCase().includes(Ae.toLowerCase())),Re=Math.ceil(oe.length/qe),me=(m-1)*qe,Ye=oe.slice(me,me+qe),[pt,Ft]=o.useState(1),Bt=Math.ceil(mt.length/ve),Lt=(pt-1)*ve,Qe=mt.slice(Lt,Lt+ve),gt=Math.ceil(jt.length/ve),vt=(je-1)*ve,xt=jt.slice(vt,vt+ve),Ct=Math.ceil(we.length/ve),Nt=(He-1)*ve,$e=we.slice(Nt,Nt+ve);o.useEffect(()=>{b(1)},[p,g]),o.useEffect(()=>{Ft(1)},[f]),o.useEffect(()=>{ge(1)},[ye]),o.useEffect(()=>{Ve(1)},[Ae]);const Ke=()=>{M({noOfHours:"",amount:"",earningCode:""}),s(!0)},ce=_=>{q(_),M({noOfHours:_.noOfHrs.toString(),amount:_.amount.toString(),earningCode:_.earningCode}),a(!0)},Ee=async _=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete this entry?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp/${_.id}`),await Q.fire({icon:"success",title:"Success",text:"Allowance bracketing entry deleted successfully.",timer:2e3,showConfirmButton:!1}),await Je()}catch(_e){const Ie=_e.response?.data?.message||_e.message||"Failed to delete entry";await Q.fire({icon:"error",title:"Error",text:Ie}),console.error("Error deleting entry:",_e)}},pe=async _=>{if(_.preventDefault(),!A.noOfHours||!A.amount||!A.earningCode){await Q.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields."});return}te(!0);try{const ie={id:0,dayType:C,noOfHrs:parseFloat(A.noOfHours),earningCode:A.earningCode,amount:parseFloat(A.amount),code:p,workShiftCode:g,byEmploymentStatFlag:D,employmentStatus:""};await ae.post("/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp",ie),await Q.fire({icon:"success",title:"Success",text:"Allowance bracketing entry created successfully.",timer:2e3,showConfirmButton:!1}),await Je(),s(!1),M({noOfHours:"",amount:"",earningCode:""})}catch(ie){const _e=ie.response?.data?.message||ie.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:_e}),console.error("Error creating entry:",ie)}finally{te(!1)}},at=async _=>{if(_.preventDefault(),!!L){if(!A.noOfHours||!A.amount||!A.earningCode){await Q.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields."});return}te(!0);try{const ie={id:parseInt(L.id),dayType:L.dayType,noOfHrs:parseFloat(A.noOfHours),earningCode:A.earningCode,amount:parseFloat(A.amount),code:L.code,workShiftCode:L.workShiftCode,byEmploymentStatFlag:L.byEmploymentStatFlag,employmentStatus:L.employmentStatus};await ae.put(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp/${L.id}`,ie),await Q.fire({icon:"success",title:"Success",text:"Allowance bracketing entry updated successfully.",timer:2e3,showConfirmButton:!1}),await Je(),a(!1),q(null),M({noOfHours:"",amount:"",earningCode:""})}catch(ie){const _e=ie.response?.data?.message||ie.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:_e}),console.error("Error updating entry:",ie)}finally{te(!1)}}},ut=()=>{s(!1),a(!1),q(null),M({noOfHours:"",amount:"",earningCode:""})},_t=()=>{N(""),l(!0)},it=_=>{M({...A,earningCode:_}),l(!1),N("")},bt=()=>{be(""),ge(1),et(),d(!0)},se=_=>{v(_),d(!1),be("")},ue=()=>{ze(""),Ve(1),yt(),h(!0)},Z=_=>{y(_),h(!1),ze("")};o.useEffect(()=>{const _=ie=>{if(ie.key==="Escape"){if(t||r){ie.preventDefault(),ie.stopPropagation(),t?(s(!1),M({noOfHours:"",amount:"",earningCode:""})):r&&(a(!1),q(null),M({noOfHours:"",amount:"",earningCode:""}));return}if(n){ie.preventDefault(),l(!1),N("");return}if(i){ie.preventDefault(),d(!1),be("");return}if(x){ie.preventDefault(),h(!1),ze("");return}}};return(t||r||n||i||x)&&document.addEventListener("keydown",_,!0),()=>{document.removeEventListener("keydown",_,!0)}},[t,r,n,i,x]);const G=[{value:"RegDay",label:"Regular Day"},{value:"SpecHol",label:"Special Holiday"},{value:"RegHol",label:"Regular Holiday"},{value:"RestDay",label:"Rest Day"}],Y=(_,ie,_e,Ie,ke,X)=>e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Ie>0?ke+1:0," to ",Math.min(ke+X,Ie)," of ",Ie," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>_e(Math.max(_-1,1)),disabled:_===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:ie},(Ne,ee)=>ee+1).map(Ne=>e.jsx("button",{onClick:()=>_e(Ne),className:`px-3 py-1 rounded ${_===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>_e(Math.min(_+1,ie)),disabled:_>=ie||Ie===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Allowance Bracketing Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure allowance bracketing rules based on hours worked or other criteria, linking bracket codes with specific earning codes and amounts for automated payroll calculations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hours-based allowance rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code integration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated allowance processing"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[Le("Add")&&Le("View")&&e.jsxs("button",{onClick:Ke,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),Le("View")&&e.jsxs(e.Fragment,{children:[e.jsx("select",{value:C,onChange:_=>j(_.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:G.map(_=>e.jsx("option",{value:_.value,children:_.label},_.value))}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:_=>P(_.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Within The Shift"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:D,onChange:_=>T(_.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"By Employment Status"})]})]})]}),Le("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 relative",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Allowance Bracket Code :"}),e.jsx("input",{type:"text",value:p,onChange:_=>v(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Type or search..."}),e.jsx("button",{type:"button",onClick:bt,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Allowance Bracket Code",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Je,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Search"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:g,onChange:_=>y(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Type or search..."}),e.jsx("button",{type:"button",onClick:ue,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift Code",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:Je,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Search"})]})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:R?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracketing data..."})}):W?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:W})}):Le("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"No of Hours [hh.mm]"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Earning Code"}),(Le("Edit")||Le("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ye.length>0?Ye.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.noOfHrs}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.amount}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.earningCode}),(Le("Edit")||Le("Delete"))&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[Le("Edit")&&e.jsx("button",{onClick:()=>ce(_),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),Le("Edit")&&Le("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Le("Delete")&&e.jsx("button",{onClick:()=>Ee(_),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},_.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Le("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",oe.length>0?me+1:0," to ",Math.min(me+qe,oe.length)," of ",oe.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(_=>Math.max(1,_-1)),disabled:m===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Re},(_,ie)=>ie+1).map(_=>e.jsx("button",{onClick:()=>b(_),className:`px-3 py-1 rounded transition-colors ${m===_?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},_)),e.jsx("button",{onClick:()=>b(_=>Math.min(Re||1,_+1)),disabled:m>=Re||oe.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900",children:"Search Allowance Bracket Code"}),e.jsx("button",{onClick:()=>{d(!1),be("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracket Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:ye,onChange:_=>be(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64",placeholder:"Search by code or description..."})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:O?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracket codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:xt.length>0?xt.map(_=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer",onClick:()=>se(_.code),children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:_.description})]},_.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-8 text-center text-gray-500 text-sm",children:"No records found"})})})]})}),Y(je,gt,ge,jt.length,vt,ve)]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900",children:"Search Workshift Code"}),e.jsx("button",{onClick:()=>{h(!1),ze("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:Ae,onChange:_=>ze(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64",placeholder:"Search by code or description..."})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:De?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading workshift codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:$e.length>0?$e.map(_=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer",onClick:()=>Z(_.code),children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:_.description})]},_.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-8 text-center text-gray-500 text-sm",children:"No records found"})})})]})}),Y(He,Ct,Ve,we.length,Nt,ve)]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900",children:"Search Earning Code"}),e.jsx("button",{onClick:()=>{l(!1),N("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Earnings Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:_=>N(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:F?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading earning codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Qe.map(_=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer",onClick:()=>it(_.code),children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:_.description})]},_.id))})]})}),Y(pt,Bt,Ft,mt.length,Lt,ve)]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:ut,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:pe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracketing Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",value:A.noOfHours,onChange:_=>M({...A,noOfHours:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:A.amount,onChange:_=>M({...A,amount:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Earning Code :"}),e.jsx("input",{type:"text",value:A.earningCode,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer",placeholder:"Click Search to select"}),e.jsx("button",{type:"button",onClick:_t,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:B,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:B?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:ut,disabled:B,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),r&&L&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit"}),e.jsx("button",{onClick:ut,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:at,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracketing Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",value:A.noOfHours,onChange:_=>M({...A,noOfHours:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:A.amount,onChange:_=>M({...A,amount:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Earning Code :"}),e.jsx("input",{type:"text",value:A.earningCode,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer"}),e.jsx("button",{type:"button",onClick:_t,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Search"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:B,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:B?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:ut,disabled:B,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Qt,{})]})}const im="/Fs/Process/AllowanceAndEarnings/AllowancePerClassificationSetUp";function mJ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(1),[g,y]=o.useState(null),[C,j]=o.useState(null),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState(""),[L,q]=o.useState(!1),[B,te]=o.useState(null),[oe,fe]=o.useState({refNo:"",allowanceCode:"",workShiftCode:"",classificationCode:"",minHrsRegDay:0,minAmtRegDay:0,maxHrsRegDay:0,maxAmtRegDay:0,minHrsRestDay:0,minAmtRestDay:0,maxHrsRestDay:0,maxAmtRestDay:0,minHrsHoliday:0,minAmtHoliday:0,maxHrsHoliday:0,maxAmtHoliday:0,minHrsHolidayRestDay:0,minAmountHolidayRestDay:0,maxHrsHolidayRestDay:0,maxAmountHolidayRestDay:0}),[R,V]=o.useState([]),[W,ne]=o.useState([]),[J,H]=o.useState([]),[F,I]=o.useState([]);o.useEffect(()=>{U(),k(),O(),he()},[]);const U=async()=>{try{q(!0),te(null);const Ge=await ae.get(im);Ge.status===200&&Ge.data&&V(Ge.data)}catch(Ge){te(Ge.message||"Failed to fetch data"),console.error("Error fetching allowance per classification:",Ge)}finally{q(!1)}},k=async()=>{try{const Ge=await ae.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(Ge.status===200&&Ge.data){const et=Ge.data.map(yt=>({id:yt.earnID?.toString()||yt.id||"",code:yt.earnCode||yt.code||"",description:yt.earnDesc||yt.description||"",earnType:yt.earnType||"",sysId:yt.sysId||""}));ne(et)}}catch(Ge){console.error("Error fetching earning codes:",Ge)}},O=async()=>{try{const Ge=await ae.get("/Fs/Process/AllowanceAndEarnings/WorkshiftSetUp");if(Ge.status===200&&Ge.data){const et=Ge.data.map(yt=>({code:yt.workShiftCode||yt.code||"",description:yt.workShiftDesc||yt.description||""}));H(et)}}catch(Ge){console.error("Error fetching workshift codes:",Ge)}},he=async()=>{try{const Ge=await ae.get("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp");if(Ge.status===200&&Ge.data){const et=Ge.data.map(yt=>({id:yt.classId||"",code:yt.classCode||"",description:yt.classDesc||""}));I(et)}}catch(Ge){console.error("Error fetching classification codes:",Ge)}},ye=R.filter(Ge=>Ge.refNo.toLowerCase().includes(t.toLowerCase())||Ge.allowanceCode.toLowerCase().includes(t.toLowerCase())||Ge.workShiftCode.toLowerCase().includes(t.toLowerCase())||Ge.classificationCode&&Ge.classificationCode.toLowerCase().includes(t.toLowerCase())),be=10,je=Math.ceil(ye.length/be),ge=(p-1)*be,xe=ye.slice(ge,ge+be),Se=W.filter(Ge=>Ge.code.toLowerCase().includes(S.toLowerCase())||Ge.description.toLowerCase().includes(S.toLowerCase())),De=J.filter(Ge=>Ge.code.toLowerCase().includes(D.toLowerCase())||Ge.description.toLowerCase().includes(D.toLowerCase())),Fe=F.filter(Ge=>Ge.code.toLowerCase().includes(A.toLowerCase())||Ge.description.toLowerCase().includes(A.toLowerCase())),Ae=()=>{fe({refNo:"",allowanceCode:"",workShiftCode:"",classificationCode:"",minHrsRegDay:0,minAmtRegDay:0,maxHrsRegDay:0,maxAmtRegDay:0,minHrsRestDay:0,minAmtRestDay:0,maxHrsRestDay:0,maxAmtRestDay:0,minHrsHoliday:0,minAmtHoliday:0,maxHrsHoliday:0,maxAmtHoliday:0,minHrsHolidayRestDay:0,minAmountHolidayRestDay:0,maxHrsHolidayRestDay:0,maxAmountHolidayRestDay:0}),a(!0)},ze=Ge=>{y(Ge),fe({refNo:Ge.refNo,allowanceCode:Ge.allowanceCode,workShiftCode:Ge.workShiftCode,classificationCode:Ge.classificationCode||"",minHrsRegDay:Ge.minHrsRegDay,minAmtRegDay:Ge.minAmtRegDay,maxHrsRegDay:Ge.maxHrsRegDay,maxAmtRegDay:Ge.maxAmtRegDay,minHrsRestDay:Ge.minHrsRestDay,minAmtRestDay:Ge.minAmtRestDay,maxHrsRestDay:Ge.maxHrsRestDay,maxAmtRestDay:Ge.maxAmtRestDay,minHrsHoliday:Ge.minHrsHoliday,minAmtHoliday:Ge.minAmtHoliday,maxHrsHoliday:Ge.maxHrsHoliday,maxAmtHoliday:Ge.maxAmtHoliday,minHrsHolidayRestDay:Ge.minHrsHolidayRestDay,minAmountHolidayRestDay:Ge.minAmountHolidayRestDay,maxHrsHolidayRestDay:Ge.maxHrsHolidayRestDay,maxAmountHolidayRestDay:Ge.maxAmountHolidayRestDay}),l(!0)},He=Ge=>{j(Ge),d(!0)},Ve=async Ge=>{if(confirm("Are you sure you want to delete this entry?"))try{q(!0);const et=await ae.delete(`${im}/${Ge}`);(et.status===200||et.status===204)&&(await U(),alert("Entry deleted successfully"))}catch(et){te(et.message||"Failed to delete entry"),alert("Failed to delete entry")}finally{q(!1)}},qe=async Ge=>{Ge.preventDefault();try{q(!0);const et={...oe,classificationCode:oe.classificationCode||null},yt=await ae.post(im,et);(yt.status===200||yt.status===201)&&(await U(),a(!1),alert("Entry created successfully"))}catch(et){te(et.message||"Failed to create entry"),alert("Failed to create entry")}finally{q(!1)}},ve=async Ge=>{if(Ge.preventDefault(),g)try{q(!0);const et={...oe,classificationCode:oe.classificationCode||null};(await ae.put(`${im}/${g.id}`,et)).status===200&&(await U(),l(!1),y(null),alert("Entry updated successfully"))}catch(et){te(et.message||"Failed to update entry"),alert("Failed to update entry")}finally{q(!1)}},Me=()=>{a(!1),l(!1),d(!1),h(!1),b(!1),N(!1),y(null),j(null)};o.useEffect(()=>{const Ge=et=>{et.key==="Escape"&&(x?h(!1):m?b(!1):f?N(!1):r?a(!1):n?(l(!1),y(null)):i&&(d(!1),j(null)))};return(r||n||i||x||m||f)&&document.addEventListener("keydown",Ge),()=>{document.removeEventListener("keydown",Ge)}},[r,n,i,x,m,f]);const[Te,Le]=o.useState({}),ot=Ge=>Te[Ge]===!0;o.useEffect(()=>{Je()},[]);const Je=()=>{const Ge=localStorage.getItem("loginPayload");if(Ge)try{const mt=(JSON.parse(Ge).permissions||[]).filter(we=>ns(we.formName)==="AllowancePerClassificationSetUp"),jt={};mt.forEach(we=>{const Re=ns(we.accessTypeName);Re&&(jt[Re]=!0)}),Le(jt)}catch(et){console.error("Error parsing or decrypting payload",et)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-2xl font-bold",children:"Allowance Per Classification Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[B&&e.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-700",children:B})}),e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Set up classification-based allowance rules with flexible amounts and earning codes, enabling tailored compensation structures for different employee classifications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Classification-specific allowances"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Customizable earning codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-classification support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[ot("Add")&&ot("View")&&e.jsxs("button",{onClick:Ae,disabled:L,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),ot("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:Ge=>s(Ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:ot("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Reference Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Allowance Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Workshift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Classification Code"}),(ot("Edit")||ot("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:L?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})})}):xe.length>0?xe.map(Ge=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Ge.refNo}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ge.allowanceCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ge.workShiftCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ge.classificationCode||"-"}),(ot("Edit")||ot("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>He(Ge),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:e.jsx(Xp,{className:"w-4 h-4"})}),ot("Edit")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ot("Edit")&&e.jsx("button",{onClick:()=>ze(Ge),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),ot("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ot("Delete")&&e.jsx("button",{onClick:()=>Ve(Ge.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",disabled:L,children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ge.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ot("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",ge+1," to ",Math.min(ge+be,ye.length)," of ",ye.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>v(Ge=>Math.max(1,Ge-1)),disabled:p===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",children:p}),e.jsx("button",{onClick:()=>v(Ge=>Math.min(je||1,Ge+1)),disabled:p>=je||ye.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]})]})]})}),r&&e.jsx(H2,{title:"Create New",formData:oe,setFormData:fe,onSubmit:qe,onClose:Me,loading:L,setShowAllowanceCodeModal:h,setShowWorkshiftCodeModal:b,setShowClassificationCodeModal:N,submitButtonText:"Submit"}),n&&g&&e.jsx(H2,{title:"Edit",formData:oe,setFormData:fe,onSubmit:ve,onClose:Me,loading:L,setShowAllowanceCodeModal:h,setShowWorkshiftCodeModal:b,setShowClassificationCodeModal:N,submitButtonText:"Update"}),i&&C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[50vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:"Details"}),e.jsx("button",{onClick:Me,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Allowance Per Classification Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Reference Code : "}),e.jsx("span",{className:"text-gray-900",children:C.refNo})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Allowance Code : "}),e.jsx("span",{className:"text-gray-900",children:C.allowanceCode})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Workshift Code : "}),e.jsx("span",{className:"text-gray-900",children:C.workShiftCode})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Classification : "}),e.jsx("span",{className:"text-gray-900",children:C.classificationCode||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Regular Day : "}),e.jsx("span",{className:"text-gray-900",children:C.minHrsRegDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.minAmtRegDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Regular Day : "}),e.jsx("span",{className:"text-gray-900",children:C.maxHrsRegDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.maxAmtRegDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:C.minHrsRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.minAmtRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:C.maxHrsRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.maxAmtRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Holiday : "}),e.jsx("span",{className:"text-gray-900",children:C.minHrsHoliday})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.minAmtHoliday})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Holiday : "}),e.jsx("span",{className:"text-gray-900",children:C.maxHrsHoliday})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.maxAmtHoliday})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Holiday and Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:C.minHrsHolidayRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.minAmountHolidayRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Holiday and Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:C.maxHrsHolidayRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:C.maxAmountHolidayRestDay})]})]})]})]})}),x&&e.jsx(vy,{title:"Earnings Code",searchTerm:S,setSearchTerm:P,data:Se,onSelect:Ge=>{fe({...oe,allowanceCode:Ge}),h(!1),P("")},onClose:()=>h(!1)}),m&&e.jsx(vy,{title:"Workshift Code",searchTerm:D,setSearchTerm:T,data:De,onSelect:Ge=>{fe({...oe,workShiftCode:Ge}),b(!1),T("")},onClose:()=>b(!1)}),f&&e.jsx(vy,{title:"Classification Code",searchTerm:A,setSearchTerm:M,data:Fe,onSelect:Ge=>{fe({...oe,classificationCode:Ge}),N(!1),M("")},onClose:()=>N(!1)}),e.jsx(Qt,{})]})}function H2({title:t,formData:s,setFormData:r,onSubmit:a,onClose:n,loading:l,setShowAllowanceCodeModal:i,setShowWorkshiftCodeModal:d,setShowClassificationCodeModal:x,submitButtonText:h}){const m=f=>f===0?"":f,b=f=>f===""?0:parseFloat(f)||0;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[75vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:t}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:e.jsxs("form",{onSubmit:a,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Allowance Per Classification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Reference Code :"}),e.jsx("input",{type:"text",value:s.refNo,onChange:f=>r({...s,refNo:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Allowance Code :"}),e.jsx("input",{type:"text",value:s.allowanceCode,onChange:f=>r({...s,allowanceCode:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>r({...s,allowanceCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:s.workShiftCode,onChange:f=>r({...s,workShiftCode:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>r({...s,workShiftCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Classification :"}),e.jsx("input",{type:"text",value:s.classificationCode,onChange:f=>r({...s,classificationCode:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>x(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>r({...s,classificationCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Regular Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minHrsRegDay),onChange:f=>r({...s,minHrsRegDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minAmtRegDay),onChange:f=>r({...s,minAmtRegDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Regular Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxHrsRegDay),onChange:f=>r({...s,maxHrsRegDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxAmtRegDay),onChange:f=>r({...s,maxAmtRegDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minHrsRestDay),onChange:f=>r({...s,minHrsRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minAmtRestDay),onChange:f=>r({...s,minAmtRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxHrsRestDay),onChange:f=>r({...s,maxHrsRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxAmtRestDay),onChange:f=>r({...s,maxAmtRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Holiday :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minHrsHoliday),onChange:f=>r({...s,minHrsHoliday:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minAmtHoliday),onChange:f=>r({...s,minAmtHoliday:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Holiday :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxHrsHoliday),onChange:f=>r({...s,maxHrsHoliday:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxAmtHoliday),onChange:f=>r({...s,maxAmtHoliday:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Holiday and Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minHrsHolidayRestDay),onChange:f=>r({...s,minHrsHolidayRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.minAmountHolidayRestDay),onChange:f=>r({...s,minAmountHolidayRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Holiday and Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxHrsHolidayRestDay),onChange:f=>r({...s,maxHrsHolidayRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(s.maxAmountHolidayRestDay),onChange:f=>r({...s,maxAmountHolidayRestDay:b(f.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50",children:h}),e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})})]})})}function vy({title:t,searchTerm:s,setSearchTerm:r,data:a,onSelect:n,onClose:l,style:i}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{style:i,className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm font-semibold",children:"Search"}),e.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm font-semibold",children:t}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:d=>r(d.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Type to filter..."})]}),e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white z-10",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm font-semibold",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm font-semibold",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.length>0?a.map(d=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>n(d.code),children:[e.jsx("td",{className:"px-3 py-1.5 text-gray-900 font-medium",children:d.code}),e.jsx("td",{className:"px-3 py-1.5 text-gray-600",children:d.description})]},d.id||d.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 italic",children:"No entries found"})})})]})})]})]})})}function pJ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState({code:"",description:""}),[m,b]=o.useState(null),[f,N]=o.useState(!1),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState(!1),[S,P]=o.useState(""),D=100,[T,A]=o.useState({}),M=I=>T[I]===!0;o.useEffect(()=>{L()},[]);const L=()=>{const I=localStorage.getItem("loginPayload");if(I)try{const O=(JSON.parse(I).permissions||[]).filter(ye=>ns(ye.formName)==="ClassificationSetUp"),he={};O.forEach(ye=>{const be=ns(ye.accessTypeName);be&&(he[be]=!0)}),A(he)}catch(U){console.error("Error parsing or decrypting payload",U)}};o.useEffect(()=>{q()},[]);const q=async()=>{j(!0),P("");try{const I=await ae.get("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp");if(I.status===200&&I.data){const U=I.data.map(k=>({id:k.classId||"",code:k.classCode||"",description:k.classDesc||""}));y(U)}}catch(I){const U=I.response?.data?.message||I.message||"Failed to load classifications";P(U),console.error("Error fetching classifications:",I)}finally{j(!1)}},B=g.filter(I=>I.code.toLowerCase().includes(t.toLowerCase())||I.description.toLowerCase().includes(t.toLowerCase())),te=Math.ceil(B.length/D),oe=(i-1)*D,fe=B.slice(oe,oe+D);o.useEffect(()=>{d(1)},[t]);const R=()=>{h({code:"",description:""}),v(""),a(!0)},V=I=>{b(I),h({code:I.code,description:I.description}),v(""),l(!0)},W=async I=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete classification ${I.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/AllowanceAndEarnings/ClassificationSetUp/${I.id}`),await Q.fire({icon:"success",title:"Success",text:"Classification deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(k){const O=k.response?.data?.message||k.message||"Failed to delete classification";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error deleting classification:",k)}},ne=I=>{h({...x,code:I}),I.length>10?v("Code maximum 10 characters"):v("")},J=async I=>{if(I.preventDefault(),!x.code.trim()||x.code.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(g.some(k=>k.code.toLowerCase()===x.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const k={classId:0,classCode:x.code,classDesc:x.description};await ae.post("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp",k),await Q.fire({icon:"success",title:"Success",text:"Classification created successfully.",timer:2e3,showConfirmButton:!1}),await q(),a(!1),h({code:"",description:""}),v("")}catch(k){const O=k.response?.data?.message||k.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error creating classification:",k)}finally{N(!1)}},H=async I=>{if(I.preventDefault(),!m)return;if(!x.code.trim()||x.code.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(g.some(k=>k.id!==m.id&&k.code.toLowerCase()===x.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const k={classId:parseInt(m.id),classCode:x.code,classDesc:x.description};await ae.put(`/Fs/Process/AllowanceAndEarnings/ClassificationSetUp/${m.id}`,k),await Q.fire({icon:"success",title:"Success",text:"Classification updated successfully.",timer:2e3,showConfirmButton:!1}),await q(),l(!1),b(null),h({code:"",description:""}),v("")}catch(k){const O=k.response?.data?.message||k.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error updating classification:",k)}finally{N(!1)}},F=()=>{a(!1),l(!1),b(null),h({code:"",description:""}),v("")};return o.useEffect(()=>{const I=U=>{U.key==="Escape"&&(r?a(!1):n&&(l(!1),b(null)))};return(r||n)&&document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[r,n]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Classification Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and manage employee classification categories for organizing and categorizing employees based on job types, employment status, or other organizational criteria."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom classification codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible categorization structure"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employee grouping support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll integration ready"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[M("Add")&&M("View")&&e.jsxs("button",{onClick:R,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),M("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:I=>s(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:C?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading classifications..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):M("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:fe.length>0?fe.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:I.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[M("Edit")&&e.jsx("button",{onClick:()=>V(I),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),M("Edit")&&M("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),M("Delete")&&e.jsx("button",{onClick:()=>W(I),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),M("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",B.length>0?oe+1:0," to ",Math.min(oe+D,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(I=>Math.max(1,I-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:te},(I,U)=>U+1).map(I=>e.jsx("button",{onClick:()=>d(I),className:`px-3 py-1 rounded transition-colors ${i===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},I)),e.jsx("button",{onClick:()=>d(I=>Math.min(te||1,I+1)),disabled:i>=te||B.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New Classification"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:J,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Classification Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:I=>ne(I.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:I=>h({...x,description:I.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Classification"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:H,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Classification Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:I=>ne(I.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:I=>h({...x,description:I.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Qt,{})]})}function fJ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState({code:"",description:""}),[m,b]=o.useState(null),[f,N]=o.useState(!1),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState(!1),[S,P]=o.useState(""),D=100,[T,A]=o.useState({}),M=I=>T[I]===!0;o.useEffect(()=>{L()},[]);const L=()=>{const I=localStorage.getItem("loginPayload");if(I)try{const O=(JSON.parse(I).permissions||[]).filter(ye=>ns(ye.formName)==="EarningSetUp"),he={};O.forEach(ye=>{const be=ns(ye.accessTypeName);be&&(he[be]=!0)}),A(he)}catch(U){console.error("Error parsing or decrypting payload",U)}};o.useEffect(()=>{q()},[]);const q=async()=>{j(!0),P("");try{const I=await ae.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(I.status===200&&I.data){const U=I.data.map(k=>({id:k.earnID?.toString()||k.id||"",code:k.earnCode||k.code||"",description:k.earnDesc||k.description||"",earnType:k.earnType||"",sysId:k.sysId||""}));y(U)}}catch(I){const U=I.response?.data?.message||I.message||"Failed to load earnings";P(U),console.error("Error fetching earnings:",I)}finally{j(!1)}},B=g.filter(I=>I.code.toLowerCase().includes(t.toLowerCase())||I.description.toLowerCase().includes(t.toLowerCase())),te=Math.ceil(B.length/D),oe=(i-1)*D,fe=B.slice(oe,oe+D);o.useEffect(()=>{d(1)},[t]);const R=()=>{h({code:"",description:""}),v(""),a(!0)},V=I=>{b(I),h({code:I.code,description:I.description}),v(""),l(!0)},W=async I=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete earning ${I.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/AllowanceAndEarnings/EarningsSetUp/${I.id}`),await Q.fire({icon:"success",title:"Success",text:"Earning deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(k){const O=k.response?.data?.message||k.message||"Failed to delete earning";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error deleting earning:",k)}},ne=I=>{h({...x,code:I}),I.length>10?v("Code maximum 10 characters"):v("")},J=async I=>{if(I.preventDefault(),!x.code.trim()||x.code.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(g.some(k=>k.code.toLowerCase()===x.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const k={earnID:0,earnCode:x.code,earnDesc:x.description,earnType:"USR",sysId:null};await ae.post("/Fs/Process/AllowanceAndEarnings/EarningsSetUp",k),await Q.fire({icon:"success",title:"Success",text:"Earning created successfully.",timer:2e3,showConfirmButton:!1}),await q(),a(!1),h({code:"",description:""}),v("")}catch(k){const O=k.response?.data?.message||k.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error creating earning:",k)}finally{N(!1)}},H=async I=>{if(I.preventDefault(),!m)return;if(!x.code.trim()||x.code.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(g.some(k=>k.id!==m.id&&k.code.toLowerCase()===x.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const k={earnID:parseInt(m.id),earnCode:x.code,earnDesc:x.description,earnType:m.earnType||"USR",sysId:m.sysId||null};await ae.put(`/Fs/Process/AllowanceAndEarnings/EarningsSetUp/${m.id}`,k),await Q.fire({icon:"success",title:"Success",text:"Earning updated successfully.",timer:2e3,showConfirmButton:!1}),await q(),l(!1),b(null),h({code:"",description:""}),v("")}catch(k){const O=k.response?.data?.message||k.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error updating earning:",k)}finally{N(!1)}},F=()=>{a(!1),l(!1),b(null),h({code:"",description:""}),v("")};return o.useEffect(()=>{const I=U=>{U.key==="Escape"&&(r?a(!1):n&&(l(!1),b(null)))};return(r||n)&&document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[r,n]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Earnings Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure earning codes, rates, and default amounts for various compensation types including regular pay, overtime, allowances, and other payroll-related earnings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Rate and amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple earning types support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll calculation integration"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[M("Add")&&M("View")&&e.jsxs("button",{onClick:R,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),M("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:I=>s(I.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:C?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading earnings..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):M("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(M("Edit")||M("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:fe.length>0?fe.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:I.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:I.description}),(M("Edit")||M("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[M("Edit")&&e.jsx("button",{onClick:()=>V(I),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),M("Edit")&&M("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),M("Delete")&&e.jsx("button",{onClick:()=>W(I),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),M("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",B.length>0?oe+1:0," to ",Math.min(oe+D,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(I=>Math.max(1,I-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:te},(I,U)=>U+1).map(I=>e.jsx("button",{className:`px-3 py-1 rounded transition-colors ${i===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,onClick:()=>d(I),children:I},I)),e.jsx("button",{onClick:()=>d(I=>Math.min(te||1,I+1)),disabled:i>=te||B.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New Earning"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:J,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Earnings Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:I=>ne(I.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:I=>h({...x,description:I.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Earning"}),e.jsx("button",{onClick:F,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:H,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Earnings Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:x.code,onChange:I=>ne(I.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:x.description,onChange:I=>h({...x,description:I.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:F,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Qt,{})]})}function gJ(){const[t,s]=o.useState({id:0,regularDay:"",restDay:"",legalHoliday:"",specialHoliday:"",legalHolidayFallRestDay:"",specialHolidayFallRestDay:"",doubleLegalHoliday:"",doubleLegalHolidayFallRestday:"",specialHoliday2:"",specialHoliday2FallRestDay:"",nonWorkingHoliday:"",nonWorkingHolidayFallRestDay:""}),[r,a]=o.useState(null),[n,l]=o.useState(!1),[i,d]=o.useState(!0),[x,h]=o.useState(!1),[m,b]=o.useState(""),[f,N]=o.useState({}),p=D=>f[D]===!0;o.useEffect(()=>{v()},[]);const v=()=>{const D=localStorage.getItem("loginPayload");if(D)try{const M=(JSON.parse(D).permissions||[]).filter(q=>ns(q.formName)==="DayTypeSetUp"),L={};M.forEach(q=>{const B=ns(q.accessTypeName);B&&(L[B]=!0)}),N(L)}catch(T){console.error("Error parsing or decrypting payload",T)}},g=[{label:"Regular Day:",fieldName:"regularDay"},{label:"Rest Day:",fieldName:"restDay"},{label:"Legal Holiday:",fieldName:"legalHoliday"},{label:"Special Holiday:",fieldName:"specialHoliday"},{label:"Legal Holiday that Falls on Restday:",fieldName:"legalHolidayFallRestDay"},{label:"Special Holiday that Falls on Restday:",fieldName:"specialHolidayFallRestDay"},{label:"Double Legal Holiday:",fieldName:"doubleLegalHoliday"},{label:"Double Legal Holiday Falling on Restday:",fieldName:"doubleLegalHolidayFallRestday"},{label:"Special Holiday 2:",fieldName:"specialHoliday2"},{label:"Special Holiday 2 Falling on the Rest Day:",fieldName:"specialHoliday2FallRestDay"},{label:"Non-Working Holiday:",fieldName:"nonWorkingHoliday"},{label:"Non-Working Holiday Falling on the Rest Day:",fieldName:"nonWorkingHolidayFallRestDay"}];o.useEffect(()=>{y()},[]);const y=async()=>{d(!0),b("");try{const D=await ae.get("/Fs/Process/DayTypeSetUp");if(D.status===200&&D.data){const T=Array.isArray(D.data)?D.data[0]:D.data;s(T),a(T)}}catch(D){const T=D.response?.data?.message||D.message||"Failed to load day type configuration";b(T),console.error("Error fetching day type data:",D)}finally{d(!1)}},C=()=>{l(!0)},j=async()=>{h(!0);try{const D=await ae.put(`/Fs/Process/DayTypeSetUp/${t.id}`,t);if(D.status===200){const T=D.data;s(T),a(T),l(!1),await Q.fire({icon:"success",title:"Success",text:"Day Type Setup saved successfully!",timer:2e3,showConfirmButton:!1})}}catch(D){const T=D.response?.data?.message||D.message||"Failed to save changes";await Q.fire({icon:"error",title:"Error",text:T}),console.error("Error saving day type data:",D)}finally{h(!1)}},S=()=>{r&&s(r),l(!1)},P=(D,T)=>{s(A=>({...A,[D]:T}))};return i?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"text-gray-600",children:"Loading day type configuration..."})}):e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Day Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure day type classifications for different working days including regular days, special holidays, regular holidays, rest days, and premium days with corresponding earning codes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple day type categories"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code mapping"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Holiday rate configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated payroll calculations"})]})]})]})]})}),m&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),m]}),p("View")?e.jsxs(e.Fragment,{children:[p("Edit")&&e.jsx("div",{className:"flex items-center gap-3 mb-6",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:j,disabled:x,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ar,{className:"w-4 h-4"}),x?"Saving...":"Save Changes"]}),e.jsxs("button",{onClick:S,disabled:x,className:"px-5 py-2.5 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsx("button",{onClick:C,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:"Edit Configuration"})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:g.map((D,T)=>e.jsxs("div",{className:"flex items-center gap-4 py-2 border-b border-gray-100 last:border-b-0",children:[e.jsx("label",{className:"text-gray-700 text-sm w-80 flex-shrink-0",children:D.label}),n?e.jsx("input",{type:"text",value:t[D.fieldName],onChange:A=>P(D.fieldName,A.target.value),className:"flex-1 max-w-xs px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("div",{className:"flex-1 max-w-xs px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-900",children:t[D.fieldName]})]},T))})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),p("View")&&e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"mb-1",children:"These day type codes are used throughout the timekeeping system to classify different types of days for payroll calculation."}),e.jsx("p",{children:"Ensure codes are unique and recognizable for proper processing."})]})]})})]})]})}),e.jsx(Qt,{})]})}function yJ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(""),[g,y]=o.useState([]),[C,j]=o.useState(!1),[S,P]=o.useState({ipAdd:"",port:"",machID:0,wDeviceCode:!1,flagCode:""}),[D,T]=o.useState([]),[A,M]=o.useState(!1),[L,q]=o.useState(""),B=10,[te,oe]=o.useState({}),fe=ge=>te[ge]===!0;o.useEffect(()=>{R()},[]);const R=()=>{const ge=localStorage.getItem("loginPayload");if(ge)try{const De=(JSON.parse(ge).permissions||[]).filter(Ae=>ns(Ae.formName)==="SDKListSetup"),Fe={};De.forEach(Ae=>{const ze=ns(Ae.accessTypeName);ze&&(Fe[ze]=!0)}),oe(Fe)}catch(xe){console.error("Error parsing or decrypting payload",xe)}};o.useEffect(()=>{V()},[]);const V=async()=>{M(!0),q("");try{const ge=await ae.get("/Fs/Process/Device/SDKListSetUp");ge.status===200&&ge.data&&T(ge.data)}catch(ge){const xe=ge.response?.data?.message||ge.message||"Failed to load SDK list";q(xe),console.error("Error fetching SDK list:",ge)}finally{M(!1)}},W=async()=>{j(!0);try{const ge=await ae.get("/Fs/Process/Device/DTRFlagSetUp");ge.status===200&&ge.data&&y(ge.data)}catch(ge){console.error("Error fetching DTR flags:",ge)}finally{j(!1)}},ne=()=>{v(""),W(),N(!0)},J=D.filter(ge=>ge.ipAdd.toLowerCase().includes(t.toLowerCase())||ge.port.toLowerCase().includes(t.toLowerCase())||ge.machID.toString().includes(t)||ge.flagCode.toLowerCase().includes(t.toLowerCase())),H=Math.ceil(J.length/B),F=(i-1)*B,I=J.slice(F,F+B);o.useEffect(()=>{d(1)},[t]);const U=()=>{P({ipAdd:"",port:"",machID:0,wDeviceCode:!1,flagCode:""}),a(!0)},k=ge=>{h(ge),P({ipAdd:ge.ipAdd,port:ge.port,machID:ge.machID,wDeviceCode:ge.wDeviceCode,flagCode:ge.flagCode}),l(!0)},O=async ge=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete SDK item "${ge.ipAdd}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Device/SDKListSetUp/${ge.id}`),await Q.fire({icon:"success",title:"Success",text:"SDK item deleted successfully.",timer:2e3,showConfirmButton:!1}),await V()}catch(Se){await Q.fire({icon:"error",title:"Error",text:Se.response?.data?.message||Se.message||"Failed to delete SDK item"})}},he=async ge=>{if(ge.preventDefault(),!S.ipAdd.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"IP Address is required."});return}if(D.some(xe=>xe.ipAdd.toLowerCase()===S.ipAdd.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate IP Address",text:"This IP address is already in use."});return}b(!0);try{await ae.post("/Fs/Process/Device/SDKListSetUp",{id:0,...S}),await Q.fire({icon:"success",title:"Success",text:"SDK item created successfully.",timer:2e3,showConfirmButton:!1}),await V(),a(!1)}catch(xe){await Q.fire({icon:"error",title:"Error",text:xe.response?.data?.message||xe.message||"An error occurred"})}finally{b(!1)}},ye=async ge=>{if(ge.preventDefault(),!!x){if(!S.ipAdd.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"IP Address is required."});return}if(D.some(xe=>xe.id!==x.id&&xe.ipAdd.toLowerCase()===S.ipAdd.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate IP Address",text:"This IP address is already in use."});return}b(!0);try{await ae.put(`/Fs/Process/Device/SDKListSetUp/${x.id}`,{id:x.id,...S}),await Q.fire({icon:"success",title:"Success",text:"SDK item updated successfully.",timer:2e3,showConfirmButton:!1}),await V(),l(!1),h(null)}catch(xe){await Q.fire({icon:"error",title:"Error",text:xe.response?.data?.message||xe.message||"An error occurred"})}finally{b(!1)}}},be=()=>{a(!1),l(!1),h(null),N(!1)};o.useEffect(()=>{const ge=xe=>{xe.key==="Escape"&&(f?N(!1):r?a(!1):n&&(l(!1),h(null)))};return(r||n||f)&&document.addEventListener("keydown",ge),()=>{document.removeEventListener("keydown",ge)}},[r,n,f]);const je=(ge,xe)=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:ge?"Edit SDK Item":"Create New"}),e.jsx("button",{onClick:be,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:xe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"SDK List Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"IP Address :"}),e.jsx("input",{type:"text",value:S.ipAdd,onChange:Se=>P({...S,ipAdd:Se.target.value}),placeholder:"e.g. 192.168.1.100",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Port :"}),e.jsx("input",{type:"text",value:S.port,onChange:Se=>P({...S,port:Se.target.value}),placeholder:"e.g. 4370",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Machine ID :"}),e.jsx("input",{type:"number",value:S.machID,onChange:Se=>P({...S,machID:parseInt(Se.target.value)||0}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:S.wDeviceCode,onChange:Se=>P({...S,wDeviceCode:Se.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-gray-500 text-sm",children:S.wDeviceCode?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Flag Code :"}),e.jsx("input",{type:"text",value:S.flagCode,readOnly:!0,placeholder:"Select flag code...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:ne,className:"w-10 h-10 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>P({...S,flagCode:""}),className:"w-10 h-10 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:m?ge?"Updating...":"Submitting...":ge?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:be,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]}),f&&e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-[10] rounded-lg",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-2xl w-full max-w-3xl max-h-[95%] flex flex-col mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:"Search DTR Flag"}),e.jsx("button",{type:"button",onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Select a Flag Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",autoFocus:!0,value:p,onChange:Se=>v(Se.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-48 md:w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex-1 flex flex-col",children:e.jsx("div",{className:"overflow-y-auto max-h-[400px]",children:C?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0 z-20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Break 1"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const Se=g.filter(De=>De.flagCode.toLowerCase().includes(p.toLowerCase()));return Se.length>0?Se.map(De=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors group",onClick:()=>{P(Fe=>({...Fe,flagCode:De.flagCode})),N(!1)},children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-blue-600 group-hover:underline",children:De.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:De.timeOut}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[De.break1Out," - ",De.break1In]})]},De.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"px-4 py-12 text-center text-gray-500",children:['No flag codes found matching "',p,'"']})})})()})]})})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm transition-colors",children:"Cancel"})})]})]})})]})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"SDK List Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage SDK (Software Development Kit) configurations for biometric device integration. Register SDK libraries and connection parameters for direct device communication and data retrieval."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Real-time device connection","SDK library management","Direct data access","Device registration"].map(ge=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:ge})]},ge))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[fe("Add")&&fe("View")&&e.jsxs("button",{onClick:U,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"})," Create New"]}),fe("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:ge=>s(ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:A?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading SDK list..."})}):L?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:L})}):fe("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"IP Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Port"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Machine ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"With Device Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),(fe("Edit")||fe("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:I.length>0?I.map(ge=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ge.ipAdd}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ge.port}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ge.machID}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ge.wDeviceCode?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:ge.wDeviceCode?"Yes":"No"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ge.flagCode}),(fe("Edit")||fe("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[fe("Edit")&&e.jsx("button",{onClick:()=>k(ge),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),fe("Edit")&&fe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),fe("Delete")&&e.jsx("button",{onClick:()=>O(ge),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},ge.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),fe("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",J.length>0?F+1:0," to ",Math.min(F+B,J.length)," of ",J.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(ge=>Math.max(1,ge-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:H},(ge,xe)=>xe+1).map(ge=>e.jsx("button",{onClick:()=>d(ge),className:`px-3 py-1 rounded transition-colors ${i===ge?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ge},ge)),e.jsx("button",{onClick:()=>d(ge=>Math.min(H||1,ge+1)),disabled:i>=H||J.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),r&&je(!1,he),n&&x&&je(!0,ye),e.jsx(Qt,{})]})}const cm={absent:"/Fs/Process/Device/EquivHoursDeductionSetUp/ForAbsent","no-login":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogin","no-logout":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogout","no-break2-out":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2Out","no-break2-in":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2In"};function bJ(){const[t,s]=o.useState("absent"),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({id:0,code:"",desc:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),[p,v]=o.useState([]),[g,y]=o.useState([]),[C,j]=o.useState([]),[S,P]=o.useState([]),[D,T]=o.useState([]),[A,M]=o.useState(!1),[L,q]=o.useState(""),B=10;o.useEffect(()=>{te()},[t]);const te=async()=>{M(!0),q("");try{const Se=cm[t],De=await ae.get(Se);De.status===200&&De.data&&fe(De.data)}catch(Se){const De=Se.response?.data?.message||Se.message||"Failed to load deduction data";q(De),console.error("Error fetching deduction data:",Se)}finally{M(!1)}},oe=()=>{switch(t){case"absent":return p;case"no-login":return g;case"no-logout":return C;case"no-break2-out":return S;case"no-break2-in":return D;default:return[]}},fe=Se=>{switch(t){case"absent":v(Se);break;case"no-login":y(Se);break;case"no-logout":j(Se);break;case"no-break2-out":P(Se);break;case"no-break2-in":T(Se);break}},R=oe(),V=R.filter(Se=>Se.code.toLowerCase().includes(r.toLowerCase())||Se.desc.toLowerCase().includes(r.toLowerCase())),W=Math.ceil(V.length/B),ne=(i-1)*B,J=V.slice(ne,ne+B);o.useEffect(()=>{d(1)},[r]);const H=()=>{N({id:0,code:"",desc:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),h(null),l(!0)},F=Se=>{h(Se),N({id:Se.id,code:Se.code,desc:Se.desc,monday:Se.monday.toString(),tuesday:Se.tuesday.toString(),wednesday:Se.wednesday.toString(),thursday:Se.thursday.toString(),friday:Se.friday.toString(),saturday:Se.saturday.toString(),sunday:Se.sunday.toString()}),l(!0)},I=async Se=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${Se.code} - ${Se.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{const Fe=cm[t];await ae.delete(`${Fe}/${Se.id}`),await Q.fire({icon:"success",title:"Success",text:"Deduction item deleted successfully.",timer:2e3,showConfirmButton:!1}),await te()}catch(Fe){const Ae=Fe.response?.data?.message||Fe.message||"Failed to delete deduction item";await Q.fire({icon:"error",title:"Error",text:Ae}),console.error("Error deleting deduction item:",Fe)}},U=async Se=>{if(Se.preventDefault(),!f.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(R.some(Fe=>Fe.code.toLowerCase()===f.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This deduction code is already in use. Please use a different code."});return}b(!0);try{const Fe={id:0,code:f.code,desc:f.desc,monday:parseFloat(f.monday)||0,tuesday:parseFloat(f.tuesday)||0,wednesday:parseFloat(f.wednesday)||0,thursday:parseFloat(f.thursday)||0,friday:parseFloat(f.friday)||0,saturday:parseFloat(f.saturday)||0,sunday:parseFloat(f.sunday)||0},Ae=cm[t];await ae.post(Ae,Fe),await Q.fire({icon:"success",title:"Success",text:"Deduction item created successfully.",timer:2e3,showConfirmButton:!1}),await te(),l(!1)}catch(Fe){const Ae=Fe.response?.data?.message||Fe.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Ae}),console.error("Error creating deduction item:",Fe)}finally{b(!1)}},k=async Se=>{if(Se.preventDefault(),!x)return;if(!f.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(R.some(Fe=>Fe.id!==x.id&&Fe.code.toLowerCase()===f.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This deduction code is already in use. Please use a different code."});return}b(!0);try{const Fe={id:x.id,code:f.code,desc:f.desc,monday:parseFloat(f.monday)||0,tuesday:parseFloat(f.tuesday)||0,wednesday:parseFloat(f.wednesday)||0,thursday:parseFloat(f.thursday)||0,friday:parseFloat(f.friday)||0,saturday:parseFloat(f.saturday)||0,sunday:parseFloat(f.sunday)||0},Ae=cm[t];await ae.put(`${Ae}/${Fe.id}`,Fe),await Q.fire({icon:"success",title:"Success",text:"Deduction item updated successfully.",timer:2e3,showConfirmButton:!1}),await te(),l(!1),h(null)}catch(Fe){const Ae=Fe.response?.data?.message||Fe.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Ae}),console.error("Error updating deduction item:",Fe)}finally{b(!1)}},O=Se=>{x?k(Se):U(Se)},he=()=>{l(!1),h(null)};o.useEffect(()=>{const Se=De=>{De.key==="Escape"&&n&&(l(!1),h(null))};return n&&document.addEventListener("keydown",Se),()=>{document.removeEventListener("keydown",Se)}},[n]);const ye=[{id:"absent",label:"For Absent",icon:l7},{id:"no-login",label:"For No Login",icon:jF},{id:"no-logout",label:"For No Logout",icon:fC},{id:"no-break2-out",label:"For No Break2 Out",icon:JA},{id:"no-break2-in",label:"For No Break2 In",icon:mC}],[be,je]=o.useState({}),ge=Se=>be[Se]===!0;o.useEffect(()=>{xe()},[]);const xe=()=>{const Se=localStorage.getItem("loginPayload");if(Se)try{const Ae=(JSON.parse(Se).permissions||[]).filter(He=>ns(He.formName)==="EquivHoursDeduction"),ze={};Ae.forEach(He=>{const Ve=ns(He.accessTypeName);Ve&&(ze[Ve]=!0)}),je(ze)}catch(De){console.error("Error parsing or decrypting payload",De)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Equivalent Hours Deduction Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure equivalent hours deduction for various attendance scenarios including absences, missing login/logout, and break violations. Set specific deduction hours for each day of the week to ensure accurate timekeeping calculations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Day-specific deduction configurations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple deduction scenarios"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible hours calculation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accurate attendance tracking"})]})]})]})]})}),ge("View")&&e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-200",children:ye.map(Se=>e.jsxs("button",{onClick:()=>{s(Se.id),d(1),a("")},className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Se.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Se.icon,{className:"w-4 h-4"}),Se.label,t===Se.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]},Se.id))}),ge("View")&&ge("Edit")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[ge("Add")&&e.jsxs("button",{onClick:H,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:Se=>a(Se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),ge("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Monday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Tuesday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Wednesday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Thursday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Friday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Saturday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Sunday"}),(ge("Edit")||ge("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:J.length>0?J.map(Se=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Se.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.monday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.tuesday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.wednesday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.thursday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.friday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.saturday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.sunday}),(ge("Edit")||ge("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ge("Edit")&&e.jsx("button",{onClick:()=>F(Se),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),ge("Edit")&&ge("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ge("Delete")&&e.jsx("button",{onClick:()=>I(Se.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Se.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),ge("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",V.length>0?ne+1:0," to ",Math.min(ne+B,V.length)," of ",V.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(Se=>Math.max(1,Se-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:W},(Se,De)=>De+1).map(Se=>e.jsx("button",{onClick:()=>d(Se),className:`px-3 py-1 rounded transition-colors ${i===Se?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Se},Se)),e.jsx("button",{onClick:()=>d(Se=>Math.min(W||1,Se+1)),disabled:i>=W||V.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:x?"Edit":"Create New"}),e.jsx("button",{onClick:he,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:O,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Equivalent Hours Deduction"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:f.code,maxLength:10,onChange:Se=>N({...f,code:Se.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:f.desc,onChange:Se=>N({...f,desc:Se.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Monday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.monday,onChange:Se=>N({...f,monday:Se.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Tuesday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.tuesday,onChange:Se=>N({...f,tuesday:Se.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Wednesday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.wednesday,onChange:Se=>N({...f,wednesday:Se.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Thursday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.thursday,onChange:Se=>N({...f,thursday:Se.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Friday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.friday,onChange:Se=>N({...f,friday:Se.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Saturday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.saturday,onChange:Se=>N({...f,saturday:Se.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Sunday :"}),e.jsx("input",{type:"number",step:"0.01",value:f.sunday,onChange:Se=>N({...f,sunday:Se.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?x?"Updating...":"Submitting...":x?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:he,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Qt,{})]})}const vJ=async()=>(await ae.get("/Fs/Process/Overtime/OverTimeFileSetUp")).data??[],wJ=async()=>(await ae.get("/AdditonalOTHoursPerWeek/PerDay")).data??[],wy=async t=>{const s={...t,refCode:String(t.refCode).trim()};return(await ae.post("/AdditonalOTHoursPerWeek/PerDay",s)).data},U2=async(t,s)=>{const r={...s,refCode:String(s.refCode).trim()};return(await ae.put(`/AdditonalOTHoursPerWeek/PerDay/${t}`,r)).data},NJ=async t=>{await ae.delete(`/AdditonalOTHoursPerWeek/PerDay/${t}`)},jJ=async()=>(await ae.get("/AdditonalOTHoursPerWeek/PerWeek")).data??[],Ny=async t=>{const s={...t,refCode:String(t.refCode).trim()};return(await ae.post("/AdditonalOTHoursPerWeek/PerWeek",s)).data},W2=async(t,s)=>{const r={...s,refCode:String(s.refCode).trim()};return(await ae.put(`/AdditonalOTHoursPerWeek/PerWeek/${t}`,r)).data},CJ=async t=>{await ae.delete(`/AdditonalOTHoursPerWeek/PerWeek/${t}`)},oD=async()=>(await ae.get("/AdditonalOTHoursPerWeek/OTWeek")).data??[],SJ=async t=>{const s={...t,refCode:String(t.refCode||"").trim()};return(await ae.post("/AdditonalOTHoursPerWeek/OTWeek",s)).data},kJ=async(t,s)=>{const r={...s,refCode:String(s.refCode).trim()};return(await ae.put(`/AdditonalOTHoursPerWeek/OTWeek/${t.trim()}`,r)).data},DJ=oD;function EJ(){const[t,s]=o.useState(""),[r,a]=o.useState(null),[n,l]=o.useState(null),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(null),[g,y]=o.useState(null),[C,j]=o.useState(1),[S,P]=o.useState(1),[D,T]=o.useState(""),[A,M]=o.useState(""),[L,q]=o.useState(!1),[B,te]=o.useState([]),[oe,fe]=o.useState([]),[R,V]=o.useState([]),[W,ne]=o.useState([]),[J,H]=o.useState({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),[F,I]=o.useState(!1),[U,k]=o.useState(!1),[O,he]=o.useState(!1),[ye,be]=o.useState(!1),[je,ge]=o.useState(!1),[xe,Se]=o.useState(!1),[De,Fe]=o.useState(null),[Ae,ze]=o.useState({noHours:"",equalHours:""}),[He,Ve]=o.useState({noHoursPerWeek:"",equalHoursPerWeek:""}),qe=10,[ve,Me]=o.useState({}),Te=Qe=>ve[Qe]===!0;o.useEffect(()=>{Le()},[]);const Le=()=>{const Qe=localStorage.getItem("loginPayload");if(Qe)try{const xt=(JSON.parse(Qe).permissions||[]).filter(Nt=>ns(Nt.formName)==="AdditionalOTHoursPerWeek"),Ct={};xt.forEach(Nt=>{const $e=ns(Nt.accessTypeName);$e&&(Ct[$e]=!0)}),Me(Ct)}catch(gt){console.error("Error parsing or decrypting payload",gt)}},ot=o.useCallback(async Qe=>{if(Qe){I(!0);try{const[gt,vt,xt]=await Promise.allSettled([wJ(),jJ(),oD()]),Ct=Qe.trim();if(gt.status==="fulfilled"){const Nt=(gt.value??[]).filter($e=>String($e.refCode).trim()===Ct);V(Nt),console.log("Looking for refCode:",Ct),console.log("Per Day - All data:",gt.value),console.log("Per Day - Filtered:",Nt)}else V([]);if(vt.status==="fulfilled"){const Nt=vt.value??[];console.log("Per Week - All data:",Nt),console.log("Per Week - Looking for refCode:",Ct,"type:",typeof Ct),Nt.forEach(Ke=>{console.log("  - Record refCode:",Ke.refCode,"trimmed:",String(Ke.refCode).trim(),"type:",typeof Ke.refCode,"matches:",String(Ke.refCode).trim()===Ct)});const $e=Nt.filter(Ke=>String(Ke.refCode).trim()===Ct);ne($e),console.log("Per Week - Filtered:",$e)}else ne([]);if(xt.status==="fulfilled"){const Nt=(xt.value??[]).find($e=>String($e.refCode).trim()===Ct);H(Nt||{refCode:Ct,day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1})}else H({refCode:Ct,day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1});a(null),l(null)}catch(gt){Q.fire({icon:"error",title:"Error",text:gt.response?.data?.message||gt.message||"Failed to load data"})}finally{I(!1)}}},[]),Je=async()=>{if(!(B.length>0)){k(!0);try{const Qe=await vJ();te(Qe??[])}catch(Qe){Q.fire({icon:"error",title:"Error",text:Qe.response?.data?.message||Qe.message||"Failed to load OT codes"})}finally{k(!1)}}},Ge=Qe=>{M(Qe),T(""),j(1),b(!0),Je()},et=Qe=>{H(gt=>({...gt,[A==="regularDay"?"regularDay":A==="restDay"?"restDay":A==="legalHoliday"?"legal":"special"]:Qe})),b(!1)},yt=()=>{s(""),V([]),ne([]),H({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),q(!0)},mt=()=>q(!0),jt=async()=>{be(!0);try{const Qe=!t||t.trim()==="";let gt;if(Qe){const vt={...J,refCode:""},xt=await SJ(vt);if(gt=xt.refCode,s(gt),H(xt),R.length>0){const Ct=await Promise.all(R.map(Nt=>wy({refCode:gt,noHours:Nt.noHours,equalHours:Nt.equalHours})));V(Ct)}if(W.length>0){const Ct=await Promise.all(W.map(Nt=>Ny({refCode:gt,noHoursPerWeek:Nt.noHoursPerWeek,equalHoursPerWeek:Nt.equalHoursPerWeek})));ne(Ct)}}else{const vt={...J,refCode:t},xt=await kJ(t,vt);if(H(xt),R.length>0){const Ct=await Promise.all(R.map(Nt=>Nt.id<0?wy({refCode:t,noHours:Nt.noHours,equalHours:Nt.equalHours}):U2(Nt.id,Nt)));V(Ct)}if(W.length>0){const Ct=await Promise.all(W.map(Nt=>Nt.id<0?Ny({refCode:t,noHoursPerWeek:Nt.noHoursPerWeek,equalHoursPerWeek:Nt.equalHoursPerWeek}):W2(Nt.id,Nt)));ne(Ct)}}Q.fire({icon:"success",title:"Saved",text:"Record saved successfully.",timer:1800,showConfirmButton:!1}),q(!1)}catch(Qe){Q.fire({icon:"error",title:"Error",text:Qe.response?.data?.message||Qe.message||"Failed to save"})}finally{be(!1)}},we=()=>{q(!1),ot(t)},Re=async()=>{N(!0),P(1),T(""),he(!0);try{const Qe=await DJ();fe(Qe??[])}catch(Qe){Q.fire({icon:"error",title:"Error",text:Qe.response?.data?.message||Qe.message||"Failed to load records"})}finally{he(!1)}},me=async()=>{if(!Ae.noHours||!Ae.equalHours)return;const Qe=J.refCode||t||"";if(Qe===""&&L){const gt=-(R.length+1);V(vt=>[...vt,{id:gt,refCode:"",noHours:Ae.noHours,equalHours:Ae.equalHours}]),ze({noHours:"",equalHours:""}),d(!1);return}ge(!0);try{const gt=await wy({refCode:Qe,noHours:Ae.noHours,equalHours:Ae.equalHours});V(vt=>[...vt,gt]),ze({noHours:"",equalHours:""}),d(!1),Q.fire({icon:"success",title:"Added",text:"Entry added successfully.",timer:1500,showConfirmButton:!1})}catch(gt){Q.fire({icon:"error",title:"Error",text:gt.response?.data?.message||gt.message||"Failed to add entry"})}finally{ge(!1)}},Ye=async()=>{if(p){ge(!0);try{const Qe=await U2(p.id,p);V(gt=>gt.map(vt=>vt.id===Qe.id?Qe:vt)),v(null),Q.fire({icon:"success",title:"Updated",text:"Entry updated successfully.",timer:1500,showConfirmButton:!1})}catch(Qe){Q.fire({icon:"error",title:"Error",text:Qe.response?.data?.message||Qe.message||"Failed to update"})}finally{ge(!1)}}},pt=async Qe=>{if(Qe<0){V(vt=>vt.filter(xt=>xt.id!==Qe));return}if((await Q.fire({icon:"warning",title:"Delete Entry",text:"Are you sure you want to delete this entry? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){Fe(Qe);try{await NJ(Qe),V(vt=>vt.filter(xt=>xt.id!==Qe)),Q.fire({icon:"success",title:"Deleted",text:"Entry deleted successfully.",timer:1500,showConfirmButton:!1})}catch(vt){Q.fire({icon:"error",title:"Error",text:vt.response?.data?.message||vt.message||"Failed to delete"})}finally{Fe(null)}}},Ft=async()=>{if(!He.noHoursPerWeek||!He.equalHoursPerWeek)return;const Qe=J.refCode||t||"";if(Qe===""&&L){const gt=-(W.length+1);ne(vt=>[...vt,{id:gt,refCode:"",noHoursPerWeek:He.noHoursPerWeek,equalHoursPerWeek:He.equalHoursPerWeek}]),Ve({noHoursPerWeek:"",equalHoursPerWeek:""}),h(!1);return}Se(!0);try{const gt=await Ny({refCode:Qe,noHoursPerWeek:He.noHoursPerWeek,equalHoursPerWeek:He.equalHoursPerWeek});ne(vt=>[...vt,gt]),Ve({noHoursPerWeek:"",equalHoursPerWeek:""}),h(!1),Q.fire({icon:"success",title:"Added",text:"Entry added successfully.",timer:1500,showConfirmButton:!1})}catch(gt){Q.fire({icon:"error",title:"Error",text:gt.response?.data?.message||gt.message||"Failed to add entry"})}finally{Se(!1)}},Bt=async()=>{if(g){Se(!0);try{const Qe=await W2(g.id,g);ne(gt=>gt.map(vt=>vt.id===Qe.id?Qe:vt)),y(null),Q.fire({icon:"success",title:"Updated",text:"Entry updated successfully.",timer:1500,showConfirmButton:!1})}catch(Qe){Q.fire({icon:"error",title:"Error",text:Qe.response?.data?.message||Qe.message||"Failed to update"})}finally{Se(!1)}}},Lt=async Qe=>{if(Qe<0){ne(vt=>vt.filter(xt=>xt.id!==Qe));return}if((await Q.fire({icon:"warning",title:"Delete Entry",text:"Are you sure you want to delete this entry? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){Fe(Qe);try{await CJ(Qe),ne(vt=>vt.filter(xt=>xt.id!==Qe)),Q.fire({icon:"success",title:"Deleted",text:"Entry deleted successfully.",timer:1500,showConfirmButton:!1})}catch(vt){Q.fire({icon:"error",title:"Error",text:vt.response?.data?.message||vt.message||"Failed to delete"})}finally{Fe(null)}}};return o.useEffect(()=>{const Qe=gt=>{gt.key==="Escape"&&(m?b(!1):f?N(!1):i?(d(!1),ze({noHours:"",equalHours:""})):p?v(null):x?(h(!1),Ve({noHoursPerWeek:"",equalHoursPerWeek:""})):g&&y(null))};return document.addEventListener("keydown",Qe),()=>document.removeEventListener("keydown",Qe)},[m,f,i,x,p,g]),Math.ceil(B.length/qe),B.slice((C-1)*qe,C*qe),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Additional OT Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure additional overtime hours tracking per week. Set up hourly equivalents for both daily and weekly overtime schedules, and define overtime rate codes for different scenarios including regular days, rest days, and holidays."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Daily and weekly OT hour tracking","Equivalent hours configuration","Day-specific OT rate codes","Leave as worked time option"].map(Qe=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Qe})]},Qe))})]})]})}),Te("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Reference Code:"}),e.jsx("input",{type:"text",value:t,onChange:Qe=>s(Qe.target.value),onKeyDown:Qe=>{Qe.key==="Enter"&&(t.trim()?ot(t.trim()):Re())},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",placeholder:"Ref Code"}),e.jsx("button",{onClick:()=>t.trim()?ot(t.trim()):Re(),disabled:F,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-60",title:t.trim()?"Filter by ref code":"Browse all records",children:F?e.jsx(Er,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s(""),V([]),ne([]),H({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),q(!1)},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[!L&&Te("Add")&&e.jsxs("button",{onClick:yt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),!L&&Te("Edit")&&e.jsxs("button",{onClick:mt,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]}),L&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:jt,disabled:ye,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-60",children:[ye?e.jsx(Er,{className:"w-4 h-4 animate-spin"}):e.jsx(Ar,{className:"w-4 h-4"}),t&&t.trim()!==""||J.id?"Update":"Save"]}),e.jsxs("button",{onClick:we,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Cb,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),F&&e.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-400 gap-3",children:[e.jsx(Er,{className:"w-6 h-6 animate-spin text-blue-500"}),e.jsxs("span",{className:"text-sm",children:["Loading data for ref ",t,""]})]}),Te("View")&&!F?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"OT Hours Per Day"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"No. Of Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"Equivalent Hours"}),(Te("Edit")||Te("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-gray-700 text-sm w-24",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:R.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-6 text-center text-gray-400 text-sm",children:'No entries. Click "Add Entry" to get started.'})}):R.map((Qe,gt)=>e.jsxs("tr",{onClick:()=>a(gt),className:`cursor-pointer transition-colors ${r===gt?"bg-blue-50":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:Qe.noHours}),e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:Qe.equalHours}),(Te("Edit")||Te("Delete"))&&e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[Te("Edit")&&e.jsx("button",{onClick:vt=>{vt.stopPropagation(),v({...Qe})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(dl,{className:"w-3.5 h-3.5"})}),Te("Delete")&&e.jsx("button",{onClick:vt=>{vt.stopPropagation(),pt(Qe.id)},disabled:De===Qe.id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-40",title:"Delete",children:De===Qe.id?e.jsx(Er,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(is,{className:"w-3.5 h-3.5"})})]})})]},Qe.id))})]})}),Te("Add")&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add Entry"]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"OT Hours Per Week"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"No. Of Hours Per Week"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"Equivalent Hours Per Week"}),(Te("Edit")||Te("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-gray-700 text-sm w-24",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:W.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-6 text-center text-gray-400 text-sm",children:'No entries. Click "Add Entry" to get started.'})}):W.map((Qe,gt)=>e.jsxs("tr",{onClick:()=>l(gt),className:`cursor-pointer transition-colors ${n===gt?"bg-blue-50":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:Qe.noHoursPerWeek}),e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:Qe.equalHoursPerWeek}),(Te("Edit")||Te("Delete"))&&e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[Te("Edit")&&e.jsx("button",{onClick:vt=>{vt.stopPropagation(),y({...Qe})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(dl,{className:"w-3.5 h-3.5"})}),Te("Delete")&&e.jsx("button",{onClick:vt=>{vt.stopPropagation(),Lt(Qe.id)},disabled:De===Qe.id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-40",title:"Delete",children:De===Qe.id?e.jsx(Er,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(is,{className:"w-3.5 h-3.5"})})]})})]},Qe.id))})]})}),Te("Add")&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>h(!0),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add Entry"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4 text-sm font-semibold",children:"Schedule of additional hours per week"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Day"}),e.jsx("select",{value:J.day,disabled:!L,onChange:Qe=>H({...J,day:Qe.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(Qe=>e.jsx("option",{children:Qe},Qe))})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-gray-700 text-sm mb-3 font-medium",children:"Overtime rate basis for additional hours per week"}),["regularDay","restDay","legal","special"].map(Qe=>{const gt={regularDay:"Regular Day",restDay:"Rest Day",legal:"Legal Holiday",special:"Special National"},vt=Qe==="legal"?"legalHoliday":Qe==="special"?"specialNational":Qe;return e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:gt[Qe]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:J[Qe],readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50 cursor-not-allowed"}),e.jsx("button",{disabled:!L,onClick:()=>Ge(vt),className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]},Qe)}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx("input",{type:"checkbox",id:"leaveWorked",checked:J.paidLeave,disabled:!L,onChange:Qe=>H({...J,paidLeave:Qe.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"leaveWorked",className:"text-gray-700 text-sm",children:"Leave is Considered as part of worked rendered"})]})]})]})]})]}):F?null:e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),(i||p)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-base",children:p?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{d(!1),v(null),ze({noHours:"",equalHours:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Qe=>{Qe.preventDefault(),p?Ye():me()},className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 font-medium mb-4 text-sm",children:"OT Hours Per Day"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:p?p.noHours:Ae.noHours,onChange:Qe=>p?v({...p,noHours:Qe.target.value}):ze({...Ae,noHours:Qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 8"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Equivalent Hours :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:p?p.equalHours:Ae.equalHours,onChange:Qe=>p?v({...p,equalHours:Qe.target.value}):ze({...Ae,equalHours:Qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 8"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"submit",disabled:je,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:[je&&e.jsx(Er,{className:"w-4 h-4 animate-spin"}),p?"Update":"Submit"]}),e.jsx("button",{type:"button",onClick:()=>{d(!1),v(null),ze({noHours:"",equalHours:""})},disabled:je,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),(x||g)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-base",children:g?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{h(!1),y(null),Ve({noHoursPerWeek:"",equalHoursPerWeek:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Qe=>{Qe.preventDefault(),g?Bt():Ft()},className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 font-medium mb-4 text-sm",children:"OT Hours Per Week"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"No of Hours Per Week :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:g?g.noHoursPerWeek:He.noHoursPerWeek,onChange:Qe=>g?y({...g,noHoursPerWeek:Qe.target.value}):Ve({...He,noHoursPerWeek:Qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 40"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Equivalent Hours Per Week :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:g?g.equalHoursPerWeek:He.equalHoursPerWeek,onChange:Qe=>g?y({...g,equalHoursPerWeek:Qe.target.value}):Ve({...He,equalHoursPerWeek:Qe.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 40"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"submit",disabled:xe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:[xe&&e.jsx(Er,{className:"w-4 h-4 animate-spin"}),g?"Update":"Submit"]}),e.jsx("button",{type:"button",onClick:()=>{h(!1),y(null),Ve({noHoursPerWeek:"",equalHoursPerWeek:""})},disabled:xe,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("h2",{className:"text-blue-600 text-sm font-semibold whitespace-nowrap",children:"Search OT Codes"}),e.jsxs("div",{className:"relative flex-1 max-w-xs ml-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:D,onChange:Qe=>{T(Qe.target.value),j(1)},placeholder:"Filter by code or description",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",autoFocus:!0})]})]}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 ml-3 flex-shrink-0",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-0",children:U?e.jsxs("div",{className:"flex items-center justify-center py-16 gap-3 text-gray-400",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Loading OT codes"})]}):(()=>{const Qe=B.filter(xt=>D===""||xt.otfCode.toLowerCase().includes(D.toLowerCase())||xt.description.toLowerCase().includes(D.toLowerCase())||xt.earnCode.toLowerCase().includes(D.toLowerCase())),gt=Math.ceil(Qe.length/qe),vt=Qe.slice((C-1)*qe,C*qe);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium whitespace-nowrap",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium whitespace-nowrap",children:"Earn Code"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Rate 1"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Rate 2"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Def Amt"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Payslip"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Cola OT"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Cola Basic"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Exemption"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium",children:"Select"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:vt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-10 text-center text-gray-400",children:"No OT codes match your search."})}):vt.map(xt=>e.jsxs("tr",{onClick:()=>et(xt.otfCode),className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 font-medium text-blue-700 whitespace-nowrap",children:xt.otfCode}),e.jsx("td",{className:"px-4 py-2.5 text-gray-800",children:xt.description}),e.jsx("td",{className:"px-4 py-2.5 text-gray-600 whitespace-nowrap",children:xt.earnCode}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:xt.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:xt.rate2.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:xt.defAmt.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:xt.incPayslip}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:xt.incColaOT}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:xt.incColaBasic}),e.jsx("td",{className:"px-4 py-2.5 text-center",children:xt.isExemptionRpt?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-green-100 rounded-full",children:e.jsx(Ue,{className:"w-3 h-3 text-green-600"})}):e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-gray-100 rounded-full",children:e.jsx(nt,{className:"w-3 h-3 text-gray-400"})})}),e.jsx("td",{className:"px-4 py-2.5 text-center",children:e.jsx("button",{onClick:Ct=>{Ct.stopPropagation(),et(xt.otfCode)},className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-xs font-medium",children:"Select"})})]},xt.otfid))})]})}),gt>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",(C-1)*qe+1,"",Math.min(C*qe,Qe.length)," of ",Qe.length," records"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>j(xt=>Math.max(1,xt-1)),disabled:C===1,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Previous"}),Array.from({length:Math.min(7,gt)},(xt,Ct)=>Ct+1).map(xt=>e.jsx("button",{onClick:()=>j(xt),className:`px-3 py-1.5 rounded text-xs transition-colors ${C===xt?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:xt},xt)),e.jsx("button",{onClick:()=>j(xt=>Math.min(gt,xt+1)),disabled:C>=gt,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Next"})]})]})]})})()}),e.jsx("div",{className:"flex justify-end px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-lg flex-shrink-0",children:e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Close"})})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-sm",children:"Additional OT per Week"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-3 border-b border-gray-100 flex-shrink-0",children:[e.jsx("label",{className:"text-gray-600 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:Qe=>{T(Qe.target.value),P(1)},autoFocus:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-52"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:O?e.jsxs("div",{className:"flex items-center justify-center py-16 gap-3 text-gray-400",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Loading"})]}):(()=>{const Qe=oe.filter(xt=>D===""||String(xt.refCode).includes(D)||xt.day.toLowerCase().includes(D.toLowerCase())||xt.regularDay.toLowerCase().includes(D.toLowerCase())||xt.restDay.toLowerCase().includes(D.toLowerCase())||xt.legal.toLowerCase().includes(D.toLowerCase())||xt.special.toLowerCase().includes(D.toLowerCase())),gt=Math.ceil(Qe.length/qe),vt=Qe.slice((S-1)*qe,S*qe);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Ref Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Regular Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Rest Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Legal"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Special"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:vt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-10 text-center text-gray-400",children:oe.length===0?"No records found.":"No results match your search."})}):vt.map(xt=>e.jsxs("tr",{onClick:()=>{const Ct=String(xt.refCode);s(Ct),N(!1),ot(Ct)},className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:xt.refCode}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:xt.day}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:xt.regularDay}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:xt.restDay}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:xt.legal}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:xt.special})]},xt.refCode))})]})}),gt>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Math.min((S-1)*qe+1,Qe.length),"",Math.min(S*qe,Qe.length)," of ",Qe.length," records"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>P(xt=>Math.max(1,xt-1)),disabled:S===1,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Previous"}),Array.from({length:Math.min(7,gt)},(xt,Ct)=>Ct+1).map(xt=>e.jsx("button",{onClick:()=>P(xt),className:`px-3 py-1.5 rounded text-xs transition-colors ${S===xt?"bg-blue-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:xt},xt)),e.jsx("button",{onClick:()=>P(xt=>Math.min(gt,xt+1)),disabled:S>=gt,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Next"})]})]})]})})()}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 px-6 py-3 bg-gray-50 rounded-b-lg",children:e.jsx("button",{onClick:()=>N(!1),className:"px-6 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Close"})})]})}),e.jsx(Qt,{})]})}function TJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState(1),[g,y]=o.useState(null),[C,j]=o.useState(null),[S,P]=o.useState(!1),[D,T]=o.useState({code:"",desc:"",afterTheShift:"",withinTheShiftND:"",afterTheShiftND:"",otPremiumAfterTheShift:"",otPremiumWithinTheShift:"",doleRegDay:""}),[A,M]=o.useState([]),[L,q]=o.useState(!1),[B,te]=o.useState(""),[oe,fe]=o.useState([]),[R,V]=o.useState(!1);o.useEffect(()=>{W()},[]);const W=async()=>{q(!0),te("");try{const Te=await ae.get("/Fs/Process/Overtime/RegularDayOTRateSetUp");Te.status===200&&Te.data&&M(Te.data)}catch(Te){const Le=Te.response?.data?.message||Te.message||"Failed to load regular overtime data";te(Le),console.error("Error fetching regular OT data:",Te)}finally{q(!1)}},ne=async()=>{V(!0);try{const Te=await ae.get("/Fs/Process/Overtime/OverTimeFileSetUp");Te.status===200&&Te.data&&fe(Te.data)}catch(Te){console.error("Error fetching OT codes:",Te)}finally{V(!1)}},J=A.filter(Te=>Te.code.toLowerCase().includes(i.toLowerCase())||Te.desc.toLowerCase().includes(i.toLowerCase())),H=oe.filter(Te=>Te.otfCode.toLowerCase().includes(m.toLowerCase())||Te.description.toLowerCase().includes(m.toLowerCase())),F=10,I=Math.ceil(J.length/F),U=(f-1)*F,k=U+F,O=J.slice(U,k),he=10,ye=Math.ceil(H.length/he),be=(p-1)*he,je=be+he,ge=H.slice(be,je);o.useEffect(()=>{N(1)},[i]);const xe=()=>{T({code:"",desc:"",afterTheShift:"",withinTheShiftND:"",afterTheShiftND:"",otPremiumAfterTheShift:"",otPremiumWithinTheShift:"",doleRegDay:""}),y(null),s(!0)},Se=Te=>{y(Te),T({code:Te.code,desc:Te.desc,afterTheShift:Te.afterTheShift,withinTheShiftND:Te.withinTheShiftND,afterTheShiftND:Te.afterTheShiftND,otPremiumAfterTheShift:Te.otPremiumAfterTheShift,otPremiumWithinTheShift:Te.otPremiumWithinTheShift,doleRegDay:Te.doleRegDay}),s(!0)},De=Te=>{j(Te),l(!0)},Fe=Te=>{h(Te),b(""),v(1),ne(),a(!0)},Ae=Te=>{T(Le=>({...Le,[x]:Te})),a(!1)},ze=Te=>{T(Le=>({...Le,[Te]:""}))},He=async Te=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${Te.code} - ${Te.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Overtime/RegularDayOTRateSetUp/${Te.id}`),await Q.fire({icon:"success",title:"Success",text:"Record deleted successfully.",timer:2e3,showConfirmButton:!1}),await W()}catch(ot){await Q.fire({icon:"error",title:"Error",text:ot.response?.data?.message||ot.message||"Failed to delete record"})}},Ve=async()=>{if(!D.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(D.code.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be 10 characters or less."});return}if(!D.desc.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(A.some(Le=>(!g||Le.id!==g.id)&&Le.code.toLowerCase()===D.code.toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"A record with this code already exists."});return}P(!0);try{const Le={id:g?g.id:0,code:D.code,desc:D.desc,afterTheShift:D.afterTheShift,withinTheShiftND:D.withinTheShiftND,afterTheShiftND:D.afterTheShiftND,otPremiumAfterTheShift:D.otPremiumAfterTheShift,otPremiumWithinTheShift:D.otPremiumWithinTheShift,doleRegDay:D.doleRegDay};g?(await ae.put(`/Fs/Process/Overtime/RegularDayOTRateSetUp/${g.id}`,Le),await Q.fire({icon:"success",title:"Success",text:"Record updated successfully.",timer:2e3,showConfirmButton:!1})):(await ae.post("/Fs/Process/Overtime/RegularDayOTRateSetUp",Le),await Q.fire({icon:"success",title:"Success",text:"Record created successfully.",timer:2e3,showConfirmButton:!1})),await W(),s(!1),y(null)}catch(Le){await Q.fire({icon:"error",title:"Error",text:Le.response?.data?.message||Le.message||"An error occurred"})}finally{P(!1)}},qe=()=>{s(!1),a(!1),l(!1),y(null),j(null)};o.useEffect(()=>{const Te=Le=>{Le.key==="Escape"&&(n?l(!1):r?a(!1):t&&s(!1))};return(r||t||n)&&document.addEventListener("keydown",Te),()=>document.removeEventListener("keydown",Te)},[r,t,n]);const ve=(Te,Le)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-56 text-gray-700 text-sm",children:[Te," :"]}),e.jsx("input",{type:"text",value:D[Le],readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Fe(Le),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>ze(Le),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:e.jsx(nt,{className:"w-4 h-4"})})]}),Me=r?Qp.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9999] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl flex flex-col",style:{maxHeight:"85vh"},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 text-lg font-semibold",children:"Overtime Code"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:Te=>{b(Te.target.value),v(1)},className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-80",placeholder:"Search by code or description...",autoFocus:!0})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:R?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:ge.length>0?ge.map(Te=>e.jsxs("tr",{onClick:()=>Ae(Te.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:Te.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:Te.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Te.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Te.defAmt.toFixed(2)})]},Te.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",be+1," to ",Math.min(je,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(Te=>Math.max(1,Te-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),[...Array(Math.min(5,ye))].map((Te,Le)=>e.jsx("button",{onClick:()=>v(Le+1),className:`px-3 py-1 rounded text-sm ${p===Le+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le+1},Le)),e.jsx("button",{onClick:()=>v(Te=>Math.min(ye,Te+1)),disabled:p===ye||ye===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})}),document.body):null;return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Regular Day OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define regular day overtime rate codes and their corresponding overtime premiums. Configure rates for within shift, after shift, and night differential scenarios to ensure accurate overtime calculations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Within shift OT configurations","After shift OT premium rates","Night differential premiums","DOLE regular day compliance"].map(Te=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Te})]},Te))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"})," Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:Te=>d(Te.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:L?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading records..."})}):B?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:B})}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:O.length>0?O.map(Te=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Te.code}),e.jsx("td",{className:"px-4 py-2",children:Te.desc}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>De(Te),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Details",children:e.jsx(Xp,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Se(Te),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>He(Te),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Te.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",U+1," to ",Math.min(k,J.length)," of ",J.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(Te=>Math.max(1,Te-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),[...Array(I)].map((Te,Le)=>e.jsx("button",{onClick:()=>N(Le+1),className:`px-3 py-1 rounded ${f===Le+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le+1},Le)),e.jsx("button",{onClick:()=>N(Te=>Math.min(I,Te+1)),disabled:f===I,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:g?"Edit":"Create New"}),e.jsx("button",{onClick:qe,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Regular Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:D.code,onChange:Te=>T({...D,code:Te.target.value}),maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Max 10 characters"}),e.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[D.code.length,"/10"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:D.desc,onChange:Te=>T({...D,desc:Te.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),ve("After the Shift","afterTheShift"),ve("Within the Shift with ND","withinTheShiftND"),ve("After the Shift with ND","afterTheShiftND"),ve("OT Premium After the Shift","otPremiumAfterTheShift"),ve("OT Premium Within the Shift","otPremiumWithinTheShift"),ve("DOLE Regular Day","doleRegDay")]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Ve,disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:S?g?"Updating...":"Submitting...":g?"Update":"Submit"}),e.jsx("button",{onClick:qe,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]})]})}),Me,n&&C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:"Details"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Regular Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Code :"}),e.jsx("span",{className:"text-gray-700",children:C.code})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Description :"}),e.jsx("span",{className:"text-gray-700",children:C.desc})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:C.afterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:C.withinTheShiftND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:C.afterTheShiftND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:C.otPremiumAfterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium Within the Shift :"}),e.jsx("span",{className:"text-gray-700",children:C.otPremiumWithinTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"DOLE Regular Day :"}),e.jsx("span",{className:"text-gray-700",children:C.doleRegDay||""})]})]})]})]})}),e.jsx(Qt,{})]})}function AJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(1),[p,v]=o.useState(1),[g,y]=o.useState(null),[C,j]=o.useState(null),[S,P]=o.useState(!1),[D,T]=o.useState({code:"",desc:"",withinTheShift:"",afterTheShift:"",withinTheShiftWithND:"",afterTheShiftWithND:"",otPremiumWithinTheShiftWithND:"",otPremiumAfterTheShiftWithND:"",equiOTCode:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:""}),[A,M]=o.useState([]),[L,q]=o.useState(!1),[B,te]=o.useState(""),[oe,fe]=o.useState([]),[R,V]=o.useState(!1);o.useEffect(()=>{W()},[]);const W=async()=>{q(!0),te("");try{const Me=await ae.get("/Fs/Process/Overtime/RestDayOTRateSetUp");Me.status===200&&Me.data&&M(Me.data)}catch(Me){const Te=Me.response?.data?.message||Me.message||"Failed to load rest day overtime data";te(Te),console.error("Error fetching rest day OT data:",Me)}finally{q(!1)}},ne=async()=>{V(!0);try{const Me=await ae.get("/Fs/Process/Overtime/OverTimeFileSetUp");Me.status===200&&Me.data&&fe(Me.data)}catch(Me){console.error("Error fetching OT codes:",Me)}finally{V(!1)}},J=A.filter(Me=>Me.code.toLowerCase().includes(i.toLowerCase())||Me.desc.toLowerCase().includes(i.toLowerCase())),H=oe.filter(Me=>Me.otfCode.toLowerCase().includes(m.toLowerCase())||Me.description.toLowerCase().includes(m.toLowerCase())),F=10,I=Math.ceil(J.length/F),U=(f-1)*F,k=U+F,O=J.slice(U,k),he=10,ye=Math.ceil(H.length/he),be=(p-1)*he,je=be+he,ge=H.slice(be,je);o.useEffect(()=>{N(1)},[i]);const xe=()=>{T({code:"",desc:"",withinTheShift:"",afterTheShift:"",withinTheShiftWithND:"",afterTheShiftWithND:"",otPremiumWithinTheShiftWithND:"",otPremiumAfterTheShiftWithND:"",equiOTCode:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:""}),y(null),s(!0)},Se=Me=>{y(Me),T({code:Me.code,desc:Me.desc,withinTheShift:Me.withinTheShift,afterTheShift:Me.afterTheShift,withinTheShiftWithND:Me.withinTheShiftWithND,afterTheShiftWithND:Me.afterTheShiftWithND,otPremiumWithinTheShiftWithND:Me.otPremiumWithinTheShiftWithND,otPremiumAfterTheShiftWithND:Me.otPremiumAfterTheShiftWithND,equiOTCode:Me.equiOTCode,eqOTCodeAftrShfForNoOfHrs:Me.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:Me.eqOTCodeAftrShfNDForNoOfHrs}),s(!0)},De=Me=>{j(Me),l(!0)},Fe=Me=>{h(Me),b(""),v(1),ne(),a(!0)},Ae=Me=>{T(Te=>({...Te,[x]:Me})),a(!1)},ze=Me=>{T(Te=>({...Te,[Me]:""}))},He=async Me=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${Me.code} - ${Me.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Overtime/RestDayOTRateSetUp/${Me.id}`),await Q.fire({icon:"success",title:"Success",text:"Record deleted successfully.",timer:2e3,showConfirmButton:!1}),await W()}catch(Le){await Q.fire({icon:"error",title:"Error",text:Le.response?.data?.message||Le.message||"Failed to delete record"})}},Ve=async()=>{if(!D.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(D.code.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be 10 characters or less."});return}if(!D.desc.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(A.some(Te=>(!g||Te.id!==g.id)&&Te.code.toLowerCase()===D.code.toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"A record with this code already exists."});return}P(!0);try{const Te={id:g?g.id:0,code:D.code,desc:D.desc,withinTheShift:D.withinTheShift,afterTheShift:D.afterTheShift,withinTheShiftWithND:D.withinTheShiftWithND,afterTheShiftWithND:D.afterTheShiftWithND,otPremiumWithinTheShiftWithND:D.otPremiumWithinTheShiftWithND,otPremiumAfterTheShiftWithND:D.otPremiumAfterTheShiftWithND,equiOTCode:D.equiOTCode,eqOTCodeAftrShfForNoOfHrs:D.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:D.eqOTCodeAftrShfNDForNoOfHrs};g?(await ae.put(`/Fs/Process/Overtime/RestDayOTRateSetUp/${g.id}`,Te),await Q.fire({icon:"success",title:"Success",text:"Record updated successfully.",timer:2e3,showConfirmButton:!1})):(await ae.post("/Fs/Process/Overtime/RestDayOTRateSetUp",Te),await Q.fire({icon:"success",title:"Success",text:"Record created successfully.",timer:2e3,showConfirmButton:!1})),await W(),s(!1),y(null)}catch(Te){await Q.fire({icon:"error",title:"Error",text:Te.response?.data?.message||Te.message||"An error occurred"})}finally{P(!1)}},qe=()=>{s(!1),a(!1),l(!1),y(null),j(null)};o.useEffect(()=>{const Me=Te=>{Te.key==="Escape"&&(n?l(!1):r?a(!1):t&&s(!1))};return(r||t||n)&&document.addEventListener("keydown",Me),()=>document.removeEventListener("keydown",Me)},[r,t,n]);const ve=(Me,Te)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-56 text-gray-700 text-sm",children:[Me," :"]}),e.jsx("input",{type:"text",value:D[Te],readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Fe(Te),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>ze(Te),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:e.jsx(nt,{className:"w-4 h-4"})})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Rest Day OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure rest day overtime rate codes and premium calculations. Define rates for within shift, after shift, night differential scenarios, and equivalent overtime codes for accurate rest day pay computations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Rest day within/after shift rates","Night differential premium setup","OT premium configurations","Equivalent code for hours mapping"].map(Me=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Me})]},Me))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"})," Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:Me=>d(Me.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:L?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading records..."})}):B?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:B})}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:O.length>0?O.map(Me=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Me.code}),e.jsx("td",{className:"px-4 py-2",children:Me.desc}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>De(Me),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Details",children:e.jsx(Xp,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Se(Me),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>He(Me),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Me.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",U+1," to ",Math.min(k,J.length)," of ",J.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(Me=>Math.max(1,Me-1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),[...Array(I)].map((Me,Te)=>e.jsx("button",{onClick:()=>N(Te+1),className:`px-3 py-1 rounded ${f===Te+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te+1},Te)),e.jsx("button",{onClick:()=>N(Me=>Math.min(I,Me+1)),disabled:f===I,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:g?"Edit":"Create New"}),e.jsx("button",{onClick:qe,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:D.code,onChange:Me=>T({...D,code:Me.target.value}),maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Max 10 characters"}),e.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[D.code.length,"/10"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:D.desc,onChange:Me=>T({...D,desc:Me.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),ve("Within the Shift","withinTheShift"),ve("After the Shift","afterTheShift"),ve("Within the Shift with ND","withinTheShiftWithND"),ve("After the Shift with ND","afterTheShiftWithND"),ve("OT Premium Within the Shift with ND","otPremiumWithinTheShiftWithND"),ve("OT Premium After the Shift with ND","otPremiumAfterTheShiftWithND"),ve("Equivalent Overtime Code","equiOTCode"),e.jsxs("div",{className:"mt-3 border border-orange-300 bg-orange-50 p-3 rounded",children:[e.jsx("h4",{className:"text-orange-700 mb-2 text-sm",children:"Equivalent OT Code for No of Hrs"}),e.jsxs("div",{className:"space-y-2",children:[ve("After the Shift","eqOTCodeAftrShfForNoOfHrs"),ve("After the Shift with ND","eqOTCodeAftrShfNDForNoOfHrs")]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Ve,disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:S?g?"Updating...":"Submitting...":g?"Update":"Submit"}),e.jsx("button",{onClick:qe,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]}),r&&e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center z-[10] rounded-lg p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",style:{maxHeight:"85vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 text-lg font-semibold",children:"Overtime Code"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:Me=>b(Me.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-80"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:R?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:ge.length>0?ge.map(Me=>e.jsxs("tr",{onClick:()=>Ae(Me.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:Me.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:Me.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Me.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Me.defAmt.toFixed(2)})]},Me.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",be+1," to ",Math.min(je,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(Me=>Math.max(1,Me-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),[...Array(Math.min(5,ye))].map((Me,Te)=>e.jsx("button",{onClick:()=>v(Te+1),className:`px-3 py-1 rounded text-sm ${p===Te+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te+1},Te)),e.jsx("button",{onClick:()=>v(Me=>Math.min(ye,Me+1)),disabled:p===ye,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})})]})}),n&&C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:"Details"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Code :"}),e.jsx("span",{className:"text-gray-700",children:C.code})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Description :"}),e.jsx("span",{className:"text-gray-700",children:C.desc})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift :"}),e.jsx("span",{className:"text-gray-700",children:C.withinTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:C.afterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:C.withinTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:C.afterTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:C.otPremiumWithinTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:C.otPremiumAfterTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Equivalent Overtime Code :"}),e.jsx("span",{className:"text-gray-700",children:C.equiOTCode||""})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"bg-gray-100 px-3 py-2 rounded mb-3",children:e.jsx("h4",{className:"text-gray-700 font-semibold",children:"Equivalent OT Code for No of Hrs"})}),e.jsxs("div",{className:"space-y-3 pl-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-72",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:C.eqOTCodeAftrShfForNoOfHrs||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-72",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:C.eqOTCodeAftrShfNDForNoOfHrs||""})]})]})]})]})]})]})}),e.jsx(Qt,{})]})}function FJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(""),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(1),[f,N]=o.useState(1),[p,v]=o.useState(!1),[g,y]=o.useState(""),[C,j]=o.useState({referenceCode:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),[S,P]=o.useState([{referenceCode:"8AM7PM",monday:"6PM3AM",tuesday:"8AM7PM",wednesday:"8AM7PM",thursday:"8AM7PM",friday:"8AM5PM",saturday:"8AM5PM",sunday:"8AM5PM"},{referenceCode:"test",monday:"6PM3AM",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}]),[D]=o.useState([{code:"3PM12AM",description:"3PM TO 12AM"},{code:"6AM3PM",description:"6AM3PM"},{code:"6PM3AM",description:"6PM3AM"},{code:"724AM6PM",description:"7:24AM TO 6PM"},{code:"7AM4PM",description:"7AM to 4PM"},{code:"7AM530PM",description:"7AM TO 530PM"},{code:"7AM535PM",description:"7AM TO 535PM"},{code:"7AM5PM",description:"7AM to 5PM"},{code:"7AM6PM",description:"7AM to 6PM"},{code:"8AM5PM",description:"8AM to 5PM"},{code:"8AM7PM",description:"8AM to 7PM"},{code:"9AM6PM",description:"9AM to 6PM"}]),T=S.filter(O=>O.referenceCode.toLowerCase().includes(i.toLowerCase())),A=D.filter(O=>O.code.toLowerCase().includes(x.toLowerCase())||O.description.toLowerCase().includes(x.toLowerCase())),M=25,L=Math.ceil(T.length/M),q=(m-1)*M,B=q+M,te=T.slice(q,B),oe=10,fe=Math.ceil(A.length/oe),R=(f-1)*oe,V=R+oe,W=A.slice(R,V),ne=()=>{j({referenceCode:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),v(!1),s(!0)},J=O=>{j({referenceCode:O.referenceCode,monday:O.monday,tuesday:O.tuesday,wednesday:O.wednesday,thursday:O.thursday,friday:O.friday,saturday:O.saturday,sunday:O.sunday}),y(O.referenceCode),v(!0),s(!0)},H=O=>{l(O),h(""),N(1),a(!0)},F=O=>{j({...C,[n]:O}),a(!1)},I=O=>{j({...C,[O]:""})},U=O=>{confirm("Are you sure you want to delete this entry?")&&P(he=>he.filter(ye=>ye.referenceCode!==O))},k=()=>{if(!C.referenceCode.trim()){alert("Please enter a Reference Code.");return}if(p)P(O=>O.map(he=>he.referenceCode===g?{referenceCode:C.referenceCode,monday:C.monday,tuesday:C.tuesday,wednesday:C.wednesday,thursday:C.thursday,friday:C.friday,saturday:C.saturday,sunday:C.sunday}:he));else{if(S.some(he=>he.referenceCode===C.referenceCode)){alert("A Daily Schedule with this Reference Code already exists.");return}const O={referenceCode:C.referenceCode,monday:C.monday,tuesday:C.tuesday,wednesday:C.wednesday,thursday:C.thursday,friday:C.friday,saturday:C.saturday,sunday:C.sunday};P(he=>[...he,O])}s(!1),j({referenceCode:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),v(!1),y("")};return o.useEffect(()=>{const O=he=>{he.key==="Escape"&&(r?a(!1):t&&s(!1))};return(t||r)&&document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[t,r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Daily Schedule Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define daily work schedules by assigning workshift codes for each day of the week. Create reference codes that represent complete weekly schedule patterns for easy assignment to employees or groups."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Weekly schedule templates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Day-specific workshift assignments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Reference code organization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible schedule configurations"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:ne,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:O=>d(O.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Reference Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Monday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Tuesday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Wednesday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Thursday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Friday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Saturday"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Sunday"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:te.map((O,he)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:O.referenceCode}),e.jsx("td",{className:"px-4 py-2",children:O.monday}),e.jsx("td",{className:"px-4 py-2",children:O.tuesday}),e.jsx("td",{className:"px-4 py-2",children:O.wednesday}),e.jsx("td",{className:"px-4 py-2",children:O.thursday}),e.jsx("td",{className:"px-4 py-2",children:O.friday}),e.jsx("td",{className:"px-4 py-2",children:O.saturday}),e.jsx("td",{className:"px-4 py-2",children:O.sunday}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>J(O),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>U(O.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},he))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",q+1," to ",Math.min(B,T.length)," of ",T.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>b(O=>Math.max(1,O-1)),disabled:m===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:m}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>b(O=>Math.min(L,O+1)),disabled:m===L,children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Daily Schedule"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Reference Code :"}),e.jsx("input",{type:"text",value:C.referenceCode,onChange:O=>j({...C,referenceCode:O.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(O=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-32 text-gray-700 text-sm capitalize",children:[O," :"]}),e.jsx("input",{type:"text",value:C[O],onChange:he=>j({...C,[O]:he.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>H(O),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>I(O),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]},O))]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:k,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:p?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-end",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:x,onChange:O=>h(O.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),e.jsx("div",{className:"border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:W.map((O,he)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>F(O.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:O.code}),e.jsx("td",{className:"px-3 py-1.5",children:O.description})]},he))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",R+1," to ",Math.min(V,A.length)," of ",A.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-xs",onClick:()=>N(O=>Math.max(1,O-1)),disabled:f===1,children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:f}),f<fe&&e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",onClick:()=>N(f+1),children:f+1}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-xs",onClick:()=>N(O=>Math.min(fe,O+1)),disabled:f===fe,children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(Qt,{})]})}function PJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(""),[m,b]=o.useState({referenceNo:"",week1Day1:"",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}),[f,N]=o.useState([{code:"11",week1Day1:"Monday",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""},{code:"A",week1Day1:"Monday",week1Day2:"Tuesday",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}]),p=["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v=f.filter(M=>M.code.toLowerCase().includes(r.toLowerCase())),g=25,y=Math.ceil(v.length/g),C=(n-1)*g,j=C+g,S=v.slice(C,j),P=()=>{b({referenceNo:"",week1Day1:"",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}),d(!1),s(!0)},D=M=>{b({referenceNo:M.code,week1Day1:M.week1Day1,week1Day2:M.week1Day2,week1Day3:M.week1Day3,week2Day1:M.week2Day1,week2Day2:M.week2Day2,week2Day3:M.week2Day3}),d(!0),h(M.code),s(!0)},T=M=>{confirm("Are you sure you want to delete this entry?")&&N(L=>L.filter(q=>q.code!==M))},A=()=>{if(!m.referenceNo.trim()){alert("Please enter a Reference No.");return}if(i)N(M=>M.map(L=>L.code===x?{code:m.referenceNo,week1Day1:m.week1Day1,week1Day2:m.week1Day2,week1Day3:m.week1Day3,week2Day1:m.week2Day1,week2Day2:m.week2Day2,week2Day3:m.week2Day3}:L));else{if(f.some(L=>L.code===m.referenceNo)){alert("A Rest Day Setup with this Reference No. already exists.");return}const M={code:m.referenceNo,week1Day1:m.week1Day1,week1Day2:m.week1Day2,week1Day3:m.week1Day3,week2Day1:m.week2Day1,week2Day2:m.week2Day2,week2Day3:m.week2Day3};N(L=>[...L,M])}s(!1),b({referenceNo:"",week1Day1:"",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""}),d(!1),h("")};return o.useEffect(()=>{const M=L=>{L.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Rest Day Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define rest day schedules by specifying up to three rest days per week over a two-week cycle. Create reference codes that represent complete rest day patterns for easy assignment to employees or groups."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Two-week rest day patterns"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Up to 3 rest days per week"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Reference code organization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible schedule configurations"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:P,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:M=>a(M.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",rowSpan:2,children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 border-l border-gray-300",colSpan:3,children:"Week 1"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 border-l border-gray-300",colSpan:3,children:"Week 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",rowSpan:2})]}),e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 3"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:"Day 3"})]})]}),e.jsx("tbody",{children:S.map((M,L)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:M.code}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.week1Day1}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.week1Day2}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.week1Day3}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.week2Day1}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.week2Day2}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.week2Day3}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>D(M),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>T(M.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},L))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",C+1," to ",Math.min(j,v.length)," of ",v.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(M=>Math.max(1,M-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(M=>Math.min(y,M+1)),disabled:n===y,children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Reference No :"}),e.jsx("input",{type:"text",value:m.referenceNo,onChange:M=>b({...m,referenceNo:M.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("h4",{className:"text-blue-600 text-sm mt-4",children:"Week 1"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 1 :"}),e.jsx("select",{value:m.week1Day1,onChange:M=>b({...m,week1Day1:M.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((M,L)=>e.jsx("option",{value:M,children:M},L))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 2 :"}),e.jsx("select",{value:m.week1Day2,onChange:M=>b({...m,week1Day2:M.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((M,L)=>e.jsx("option",{value:M,children:M},L))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 3 :"}),e.jsx("select",{value:m.week1Day3,onChange:M=>b({...m,week1Day3:M.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((M,L)=>e.jsx("option",{value:M,children:M},L))})]}),e.jsx("h4",{className:"text-blue-600 text-sm mt-4",children:"Week 2"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 1 :"}),e.jsx("select",{value:m.week2Day1,onChange:M=>b({...m,week2Day1:M.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((M,L)=>e.jsx("option",{value:M,children:M},L))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 2 :"}),e.jsx("select",{value:m.week2Day2,onChange:M=>b({...m,week2Day2:M.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((M,L)=>e.jsx("option",{value:M,children:M},L))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"RestDay 3 :"}),e.jsx("select",{value:m.week2Day3,onChange:M=>b({...m,week2Day3:M.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:p.map((M,L)=>e.jsx("option",{value:M,children:M},L))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})}),e.jsx(Qt,{})]})}function MJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(!1),[m,b]=o.useState("tardiness"),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState(1),[C,j]=o.useState(!1),[S,P]=o.useState(""),[D,T]=o.useState(null),[A,M]=o.useState(3),[L,q]=o.useState(0),[B,te]=o.useState("PM"),oe=ve=>{let Te=ve.replace(/[^\d:]/g,"").replace(/:/g,"");return Te=Te.slice(0,4),Te.length>=3?Te.slice(0,2)+":"+Te.slice(2):Te.length>=1?Te:""},fe=ve=>{let Te=ve.replace(/[^\d:APMapm\s]/g,"").replace(/[^\d]/g,""),Le="";const ot=ve.toUpperCase();ot.includes("AM")?Le="AM":ot.includes("PM")&&(Le="PM"),Te=Te.slice(0,4);let Je="";if(Te.length>=3){let Ge=Te.slice(0,2),et=Te.slice(2,4),yt=parseInt(Ge);yt>12&&(Ge="12"),yt===0&&(Ge="01"),parseInt(et)>59&&(et="59"),Je=Ge+":"+et}else Te.length>=1&&(Je=Te);return Je&&Le?Je+" "+Le:Je},R=[{code:"TARDY",description:"Tardiness Bracket",flag:"TARDINESS"},{code:"UNDER",description:"Undertime Bracket",flag:"UNDERTIME"},{code:"COMBO",description:"Combined Bracket",flag:"COMBINED"}],[V,W]=o.useState({code:"",description:"",timeIn:"03:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"12:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""}),[ne,J]=o.useState([{code:"3PM12AM",description:"3PM TO 12AM",timeIn:"03:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"12:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""},{code:"6AM3PM",description:"6AM3PM",timeIn:"06:00 AM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"03:00 PM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""},{code:"6PM3AM",description:"6PM3AM",timeIn:"06:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"03:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""}]),H=ne.filter(ve=>ve.code.toLowerCase().includes(p.toLowerCase())||ve.description.toLowerCase().includes(p.toLowerCase())),F=25,I=Math.ceil(H.length/F),U=(g-1)*F,k=U+F,O=H.slice(U,k),he=()=>{W({code:"",description:"",timeIn:"03:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"12:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""}),j(!1),s(!0)},ye=ve=>{W({...ve}),P(ve.code),j(!0),s(!0)},be=ve=>{T(ve),a(!0)},je=ve=>{confirm(`Are you sure you want to delete workshift "${ve}"?`)&&J(Me=>Me.filter(Te=>Te.code!==ve))},ge=()=>{if(!V.code.trim()){alert("Please enter a Code.");return}if(!V.description.trim()){alert("Please enter a Description.");return}if(C)J(ve=>ve.map(Me=>Me.code===S?{...V}:Me));else{if(ne.some(ve=>ve.code===V.code)){alert("A Workshift with this Code already exists.");return}J(ve=>[...ve,{...V}])}s(!1),j(!1),P("")},xe=ve=>{const Me=["loginTimeConsiderAbsent","allowFlexibleTimeIn"],Te=V[ve];if(Te)if(Me.includes(ve)){const Le=Te.match(/(\d+):(\d+)/);if(Le){const ot=parseInt(Le[1]),Je=parseInt(Le[2]);let Ge=ot,et="AM";ot===0?(Ge=12,et="AM"):ot===12?(Ge=12,et="PM"):ot>12?(Ge=ot-12,et="PM"):(Ge=ot,et="AM"),M(Ge),q(Je),te(et)}}else{const Le=Te.match(/(\d+):(\d+)\s*(AM|PM)/i);Le&&(M(parseInt(Le[1])),q(parseInt(Le[2])),te(Le[3].toUpperCase()))}d(ve),l(!0)},Se=()=>{const ve=["loginTimeConsiderAbsent","allowFlexibleTimeIn"];let Me;if(ve.includes(i)){let Te=A;B==="PM"&&A!==12?Te=A+12:B==="AM"&&A===12&&(Te=0),Me=`${String(Te).padStart(2,"0")}:${String(L).padStart(2,"0")}`}else Me=`${String(A).padStart(2,"0")}:${String(L).padStart(2,"0")} ${B}`;W({...V,[i]:Me}),l(!1)},De=()=>{M(ve=>ve===12?1:ve+1)},Fe=()=>{M(ve=>ve===1?12:ve-1)},Ae=()=>{q(ve=>ve===59?0:ve+1)},ze=()=>{q(ve=>ve===0?59:ve-1)},He=ve=>{b(ve),N(""),h(!0)},Ve=ve=>{W(m==="tardiness"?{...V,tardiness:ve}:{...V,undertime:ve}),h(!1)},qe=ve=>{W(ve==="tardiness"?{...V,tardiness:""}:{...V,undertime:""})};return o.useEffect(()=>{const ve=Me=>{Me.key==="Escape"&&(x?h(!1):n?l(!1):t?s(!1):r&&a(!1))};return(t||r||n||x)&&document.addEventListener("keydown",ve),()=>{document.removeEventListener("keydown",ve)}},[t,r,n,x]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Workshift Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define workshift patterns including time in/out, break schedules, and calculation rules. Configure parameters for attendance tracking, overtime eligibility, and shift-specific policies."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible shift configurations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Break time management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Attendance calculation rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime and tardiness policies"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:he,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ve=>v(ve.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:O.map((ve,Me)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ve.code}),e.jsx("td",{className:"px-4 py-2",children:ve.description}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>be(ve),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:e.jsx(Xp,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ye(ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>je(ve.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Me))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",U+1," to ",Math.min(k,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>y(ve=>Math.max(1,ve-1)),disabled:g===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:g}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>y(ve=>Math.min(I,ve+1)),disabled:g===I,children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 z-20 overflow-y-auto",children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center pt-4 px-4 pb-20",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-h-[90vh] overflow-y-auto w-full max-w-4xl my-4",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:C?"Edit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Workshift Setup"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:V.code,onChange:ve=>W({...V,code:ve.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:C})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:V.description,onChange:ve=>W({...V,description:ve.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time In :"}),e.jsx("input",{type:"text",value:V.timeIn,onChange:ve=>W({...V,timeIn:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("timeIn"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 Out :"}),e.jsx("input",{type:"text",value:V.break1Out,onChange:ve=>W({...V,break1Out:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("break1Out"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 In :"}),e.jsx("input",{type:"text",value:V.break1In,onChange:ve=>W({...V,break1In:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("break1In"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 Out :"}),e.jsx("input",{type:"text",value:V.break2Out,onChange:ve=>W({...V,break2Out:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("break2Out"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 In :"}),e.jsx("input",{type:"text",value:V.break2In,onChange:ve=>W({...V,break2In:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("break2In"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 Out :"}),e.jsx("input",{type:"text",value:V.break3Out,onChange:ve=>W({...V,break3Out:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("break3Out"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 In :"}),e.jsx("input",{type:"text",value:V.break3In,onChange:ve=>W({...V,break3In:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("break3In"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time Out :"}),e.jsx("input",{type:"text",value:V.timeOut,onChange:ve=>W({...V,timeOut:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("timeOut"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Half of Shift :"}),e.jsx("input",{type:"text",value:V.halfOfShift,onChange:ve=>W({...V,halfOfShift:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("halfOfShift"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"midnightShift",checked:V.midnightShift,onChange:ve=>W({...V,midnightShift:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"midnightShift",className:"text-sm text-gray-700",children:"Midnight Shift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"shift12AMOnwards",checked:V.shift12AMOnwards,onChange:ve=>W({...V,shift12AMOnwards:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"shift12AMOnwards",className:"text-sm text-gray-700",children:"Shift that fall on 12:00AM onwards"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleWorkshift",checked:V.flexibleWorkshift,onChange:ve=>W({...V,flexibleWorkshift:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleWorkshift",className:"text-sm text-gray-700",children:"Flexible Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBaseOnWorkshift",checked:V.flexibleBaseOnWorkshift,onChange:ve=>W({...V,flexibleBaseOnWorkshift:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBaseOnWorkshift",className:"text-sm text-gray-700",children:"Flexible Base on Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBreak",checked:V.flexibleBreak,onChange:ve=>W({...V,flexibleBreak:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBreak",className:"text-sm text-gray-700",children:"Flexible Break"})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-4",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Maximum Allowable Break2"}),e.jsx("input",{type:"text",value:V.maxAllowableBreak2,onChange:ve=>W({...V,maxAllowableBreak2:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("input",{type:"checkbox",id:"inExcessAllowableBreak2ForFlexiBreak",checked:V.inExcessAllowableBreak2ForFlexiBreak,onChange:ve=>W({...V,inExcessAllowableBreak2ForFlexiBreak:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"inExcessAllowableBreak2ForFlexiBreak",className:"text-sm text-gray-700",children:"In Excess of Allowable Break2 for Flexi Break"})]}),e.jsxs("div",{className:"ml-8 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsTardiness",name:"excessCompute",checked:V.computeAsTardiness,onChange:ve=>W({...V,computeAsTardiness:ve.target.checked,computeAsUndertime:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsTardiness",className:"text-sm text-gray-700",children:"Compute as Tardiness"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsUndertime",name:"excessCompute",checked:V.computeAsUndertime,onChange:ve=>W({...V,computeAsUndertime:ve.target.checked,computeAsTardiness:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsUndertime",className:"text-sm text-gray-700",children:"Compute as Undertime"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. Standard Time :"}),e.jsx("input",{type:"text",value:V.standardHours,onChange:ve=>W({...V,standardHours:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For Absent :"}),e.jsx("input",{type:"text",value:V.hoursForAbsent,onChange:ve=>W({...V,hoursForAbsent:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Login :"}),e.jsx("input",{type:"text",value:V.hoursForNoLogin,onChange:ve=>W({...V,hoursForNoLogin:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Logout :"}),e.jsx("input",{type:"text",value:V.hoursForNoLogout,onChange:ve=>W({...V,hoursForNoLogout:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Break 2 Out :"}),e.jsx("input",{type:"text",value:V.hoursForNoBreak2Out,onChange:ve=>W({...V,hoursForNoBreak2Out:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Break2 In :"}),e.jsx("input",{type:"text",value:V.hoursForNoBreak2In,onChange:ve=>W({...V,hoursForNoBreak2In:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"For Paid Unworked Holiday :"}),e.jsx("input",{type:"text",value:V.paidUnworkedHoliday,onChange:ve=>W({...V,paidUnworkedHoliday:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Min. Hours To Complete a Shift :"}),e.jsx("input",{type:"text",value:V.minHoursToCompleteShift,onChange:ve=>W({...V,minHoursToCompleteShift:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"completeShiftWithUndertime",checked:V.completeShiftWithUndertime,onChange:ve=>W({...V,completeShiftWithUndertime:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"completeShiftWithUndertime",className:"text-sm text-gray-700",children:"Complete a Shift with Undertime"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Login Time To Consider as Absent :"}),e.jsx("input",{type:"text",value:V.loginTimeConsiderAbsent,onChange:ve=>W({...V,loginTimeConsiderAbsent:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("loginTimeConsiderAbsent"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors flex-shrink-0",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Allow. Flexible Time In :"}),e.jsx("input",{type:"text",value:V.allowFlexibleTimeIn,onChange:ve=>W({...V,allowFlexibleTimeIn:fe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>xe("allowFlexibleTimeIn"),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors flex-shrink-0",children:e.jsx(fr,{className:"w-4 h-4 text-gray-600"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Brk Round Up to the Nearest Hr/Min :"}),e.jsx("input",{type:"text",value:V.brkRoundUpNearest,onChange:ve=>W({...V,brkRoundUpNearest:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No of Hrs for OT Code :"}),e.jsx("input",{type:"text",value:V.hoursForOTCode,onChange:ve=>W({...V,hoursForOTCode:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Required No of Hrs. :"}),e.jsx("input",{type:"text",value:V.requiredHours,onChange:ve=>W({...V,requiredHours:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Required Hours w/ Pay if w/ Paid Leave :"}),e.jsx("input",{type:"text",value:V.requiredHoursPayIfPaidLeave,onChange:ve=>W({...V,requiredHoursPayIfPaidLeave:oe(ve.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-500",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"secondShiftForRawData",checked:V.secondShiftForRawData,onChange:ve=>W({...V,secondShiftForRawData:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"secondShiftForRawData",className:"text-sm text-gray-700",children:"2nd Shift For RawData"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"border border-gray-300 rounded p-3",children:[e.jsx("h4",{className:"text-sm text-gray-700 mb-2",children:"Break 1"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"deductBreak1Overbreak",checked:V.deductBreak1Overbreak,onChange:ve=>W({...V,deductBreak1Overbreak:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"deductBreak1Overbreak",className:"text-xs text-gray-700",children:"Deduct Break1 Overbreak"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBreak1",checked:V.flexibleBreak1,onChange:ve=>W({...V,flexibleBreak1:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBreak1",className:"text-xs text-gray-700",children:"Flexible Break1"})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3",children:[e.jsx("h4",{className:"text-sm text-gray-700 mb-2",children:"Break 3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"deductBreak3Overbreak",checked:V.deductBreak3Overbreak,onChange:ve=>W({...V,deductBreak3Overbreak:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"deductBreak3Overbreak",className:"text-xs text-gray-700",children:"Deduct Break3 Overbreak"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBreak3",checked:V.flexibleBreak3,onChange:ve=>W({...V,flexibleBreak3:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"flexibleBreak3",className:"text-xs text-gray-700",children:"Flexible Break3"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"combineBreak1And3",checked:V.combineBreak1And3,onChange:ve=>W({...V,combineBreak1And3:ve.target.checked}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"combineBreak1And3",className:"text-sm text-gray-700",children:"Combine Break1 and Break3"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsTardinessCombine",name:"combineCompute",checked:V.computeAsTardinessCombine,onChange:ve=>W({...V,computeAsTardinessCombine:ve.target.checked,computeAsUndertimeCombine:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsTardinessCombine",className:"text-xs text-gray-700",children:"Compute as Tardiness Combine"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:"computeAsUndertimeCombine",name:"combineCompute",checked:V.computeAsUndertimeCombine,onChange:ve=>W({...V,computeAsUndertimeCombine:ve.target.checked,computeAsTardinessCombine:!1}),className:"w-4 h-4"}),e.jsx("label",{htmlFor:"computeAsUndertimeCombine",className:"text-xs text-gray-700",children:"Compute as Undertime Combine"})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 mt-4",children:[e.jsx("h4",{className:"text-sm text-gray-700 mb-3",children:"Bracketing"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-24 text-xs text-gray-700",children:"Tardiness :"}),e.jsx("input",{type:"text",value:V.tardiness,onChange:ve=>W({...V,tardiness:ve.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>He("tardiness"),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>qe("tardiness"),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-24 text-xs text-gray-700",children:"Undertime :"}),e.jsx("input",{type:"text",value:V.undertime,onChange:ve=>W({...V,undertime:ve.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>He("undertime"),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>qe("undertime"),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ge,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:C?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})})]}),r&&D&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center pt-4 px-4 pb-20",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-h-[90vh] overflow-y-auto w-full max-w-4xl my-4",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Details"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Workshift Setup"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.code})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.description})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.timeIn})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.break1Out})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break1 In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.break1In})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.break2Out})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break2 In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.break2In})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.break3Out})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Break3 In :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.break3In})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Time Out :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.timeOut})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Half of Shift :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.halfOfShift})]}),e.jsxs("div",{className:"border border-gray-300 rounded p-3 space-y-2 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:D.midnightShift,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Midnight Shift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:D.shift12AMOnwards,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Shift that fall on 12:00AM onwards"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:D.flexibleWorkshift,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Flexible Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:D.flexibleBaseOnWorkshift,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Flexible Base on Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:D.flexibleBreak,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Flexible Break"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. Standard Time :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.standardHours})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For Absent :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.hoursForAbsent})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Login :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.hoursForNoLogin})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"No. of Hrs. For No Logout :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.hoursForNoLogout})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"For Paid Unworked Holiday :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.paidUnworkedHoliday})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Min. Hours To Complete a Shift :"}),e.jsx("div",{className:"flex-1 px-3 py-1.5 bg-gray-50 border border-gray-300 rounded text-sm",children:D.minHoursToCompleteShift})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:D.completeShiftWithUndertime,disabled:!0,className:"w-4 h-4"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Complete a Shift with Undertime"})]})]})]}),e.jsx("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Close"})})]})]})})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>l(!1)}),e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center w-full max-w-lg px-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-xs",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Time"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:De,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(D0,{className:"w-5 h-5 text-gray-600"})}),e.jsx("div",{className:"w-16 h-16 flex items-center justify-center my-2 text-2xl font-mono",children:String(A).padStart(2,"0")}),e.jsx("button",{onClick:Fe,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(lc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"text-2xl font-mono mb-2",children:":"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:Ae,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(D0,{className:"w-5 h-5 text-gray-600"})}),e.jsx("div",{className:"w-16 h-16 flex items-center justify-center my-2 text-2xl font-mono",children:String(L).padStart(2,"0")}),e.jsx("button",{onClick:ze,className:"w-12 h-10 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors",children:e.jsx(lc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:()=>te("AM"),className:`px-6 py-3 rounded transition-colors ${B==="AM"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"AM"}),e.jsx("button",{onClick:()=>te("PM"),className:`px-6 py-3 rounded transition-colors ${B==="PM"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"PM"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:Se,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"OK"}),e.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors text-sm",children:"Cancel"})]})]})]})})]}),x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>h(!1)}),e.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:m==="tardiness"?"Tardiness Bracketing":"Undertime Bracketing"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:ve=>N(ve.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code, description, or flag..."})]}),e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left border-b border-gray-300",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left border-b border-gray-300",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left border-b border-gray-300",children:"Flag"})]})}),e.jsx("tbody",{children:R.filter(ve=>f===""||ve.code.toLowerCase().includes(f.toLowerCase())||ve.description.toLowerCase().includes(f.toLowerCase())||ve.flag.toLowerCase().includes(f.toLowerCase())).map((ve,Me)=>e.jsxs("tr",{className:`${Me%2===0?"bg-white":"bg-gray-50"} hover:bg-blue-50 cursor-pointer`,onClick:()=>Ve(ve.code),children:[e.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:ve.code}),e.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:ve.description}),e.jsx("td",{className:"px-4 py-2 border-b border-gray-200",children:ve.flag})]},ve.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing 1 to ",R.filter(ve=>f===""||ve.code.toLowerCase().includes(f.toLowerCase())||ve.description.toLowerCase().includes(f.toLowerCase())||ve.flag.toLowerCase().includes(f.toLowerCase())).length," of ",R.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(Qt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function IJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState("ACCUMULATE"),[S,P]=o.useState(""),[D,T]=o.useState(null),[A,M]=o.useState(!1),[L,q]=o.useState("");o.useEffect(()=>{B()},[]);const B=async()=>{M(!0),q("");try{const je=await ae.get("/Fs/Process/Tardiness/BracketCodeSetup");if(je.status===200&&je.data){const ge=je.data.map(xe=>({id:xe.id?.toString()||"",bracketCode:xe.bracketCode||xe.code||"",description:xe.description||xe.Description||"",flag:fe[xe.flag]||"UNKNOWN"}));N(ge)}}catch(je){const ge=je.response?.data?.message||je.message||"Failed to load bracket codes";q(ge),console.error("Error fetching bracket codes:",je)}finally{M(!1)}},te=["TARDINESS","UNDERTIME","ACCUMULATE"],oe={TARDINESS:1,UNDERTIME:2,ACCUMULATE:3},fe={1:"TARDINESS",2:"UNDERTIME",3:"ACCUMULATE"},R=f.filter(je=>{const ge=String(je.bracketCode??"").toLowerCase(),xe=String(je.description??"").toLowerCase(),Se=String(je.flag??"").toLowerCase(),De=r.toLowerCase();return ge.includes(De)||xe.includes(De)||Se.includes(De)});o.useEffect(()=>{B()},[]);const V=25,W=Math.ceil(R.length/V),ne=(n-1)*V,J=ne+V,H=R.slice(ne,J),[F,I]=o.useState({}),U=je=>F[je]===!0;o.useEffect(()=>{k()},[]);const k=()=>{const je=localStorage.getItem("loginPayload");if(je)try{const Se=(JSON.parse(je).permissions||[]).filter(Fe=>ns(Fe.formName)==="BracketCodeSetup"),De={};Se.forEach(Fe=>{const Ae=ns(Fe.accessTypeName);Ae&&(De[Ae]=!0)}),I(De)}catch(ge){console.error("Error parsing or decrypting payload",ge)}},O=()=>{d(!1),h(null),T(null),v(""),y(""),P(""),s(!0)},he=(je,ge)=>{d(!0),h(ge),T(je.id??null),v(je.bracketCode??""),y(je.description??""),j(je.flag??"ACCUMULATE"),P(""),s(!0)},ye=async je=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete allowance bracket code ${je.bracketCode}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{b(!0),await ae.delete(`/Fs/Process/Tardiness/BracketCodeSetup/${je.id}`),await Q.fire({icon:"success",title:"Success",text:"Allowance bracket code deleted successfully.",timer:2e3,showConfirmButton:!1}),await B()}catch(xe){const Se=xe?.response?.data?.message||xe?.message||"Failed to delete allowance bracket code";await Q.fire({icon:"error",title:"Error",text:Se}),console.error("Delete error:",xe)}finally{b(!1)}},be=async()=>{if(!p.trim()||p.length>10){P("Code must be between 1 and 10 characters."),await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(!g.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(f.some((ge,xe)=>i&&x===xe?!1:ge.bracketCode.toLowerCase()===p.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use."});return}b(!0);try{const ge={id:i&&D?parseInt(D):0,bracketCode:p.trim(),description:g.trim(),flag:oe[C]};console.log(ge),i&&D?(await ae.put(`/Fs/Process/Tardiness/BracketCodeSetup/${ge.id}`,ge),await Q.fire({icon:"success",title:"Updated",text:"Allowance bracket code updated successfully.",timer:2e3,showConfirmButton:!1})):(await ae.post("/Fs/Process/Tardiness/BracketCodeSetup",ge),await Q.fire({icon:"success",title:"Created",text:"Allowance bracket code created successfully.",timer:2e3,showConfirmButton:!1})),await B(),s(!1),v(""),y(""),P(""),T(null),d(!1),h(null)}catch(ge){const xe=ge?.response?.data?.message||ge?.message||"Something went wrong";await Q.fire({icon:"error",title:"Error",text:xe}),console.error("Submit error:",ge)}finally{b(!1)}};return o.useEffect(()=>{const je=ge=>{ge.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",je),()=>{document.removeEventListener("keydown",je)}},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Bracket Code Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define bracket codes for tardiness, undertime, and accumulation tracking. Configure how different types of time deductions are categorized and flagged in the system."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Tardiness tracking codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Undertime categorization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accumulation brackets"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom deduction flags"})]})]})]})]})}),U("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[U("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:O,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),U("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:je=>a(je.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:A?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):f.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data available in table"}):U("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Flag"}),(U("Edit")||U("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:H.map((je,ge)=>{const xe=ne+ge;return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:je.bracketCode}),e.jsx("td",{className:"px-4 py-2",children:je.description}),e.jsx("td",{className:"px-4 py-2",children:je.flag}),(U("Edit")||U("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[U("Edit")&&e.jsx("button",{onClick:()=>he(je,xe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),U("Edit")&&U("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),U("Delete")&&e.jsx("button",{onClick:()=>ye(je),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},je.bracketCode)})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),U("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",R.length===0?0:ne+1," to"," ",Math.min(J,R.length)," of"," ",R.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(je=>Math.max(1,je-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(je=>Math.min(W,je+1)),disabled:n===W||W===0,children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Bracket Code Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:p,onChange:je=>v(je.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter code"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:g,onChange:je=>y(je.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter description"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Flag :"}),e.jsx("select",{value:C,onChange:je=>j(je.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:te.map(je=>e.jsx("option",{value:je,children:je},je))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:be,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]}),e.jsx("style",{children:`
            @keyframes blob {
              0% {
                transform: translate(0px, 0px) scale(1);
              }
              33% {
                transform: translate(30px, -50px) scale(1.1);
              }
              66% {
                transform: translate(-20px, 20px) scale(0.9);
              }
              100% {
                transform: translate(0px, 0px) scale(1);
              }
            }
            .animate-blob {
              animation: blob 7s infinite;
            }
            .animation-delay-2000 {
              animation-delay: 2s;
            }
            .animation-delay-4000 {
              animation-delay: 4s;
            }
          `})]})}),e.jsx(Qt,{})]})}function LJ(){const[t,s]=o.useState("Tardiness"),[r,a]=o.useState("Tardiness Bracket"),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState({time:"",equivalent:"",bracketCode:""}),[p,v]=o.useState({Tardiness:[],Undertime:[],Accumulation:[]}),g={Tardiness:["Tardiness Bracket","TARDY"],Undertime:["UT"],Accumulation:["ACCU"]};o.useEffect(()=>{y("Tardiness"),y("Undertime"),y("Accumulation")},[]);const y=async J=>{try{const H={Tardiness:"/Fs/Process/Tardiness/TardinessSetup",Undertime:"/Fs/Process/Tardiness/UnderTimeSetup",Accumulation:"/Fs/Process/Tardiness/AccumulateSetup"},F=await ae.get(H[J]);if(F.status===200&&F.data){const I=F.data.map(U=>({id:U.id,time:U.time,equivalent:U.equivalent}));v(U=>({...U,[J]:I}))}}catch(H){console.error(`Failed to fetch ${J} data:`,H)}},C=25,j=p[t],S=Math.ceil(j.length/C),P=(i-1)*C,D=P+C,T=j.slice(P,D),A=()=>t==="Accumulation"?"Late/Undertime":t==="Tardiness"?"Late":"Undertime",M=()=>t==="Accumulation"?"Accumulate Setup":t==="Tardiness"?"Tardiness Setup":"Undertime Setup",[L,q]=o.useState({}),B=J=>L[J]===!0;o.useEffect(()=>{te()},[]);const te=()=>{const J=localStorage.getItem("loginPayload");if(J)try{const I=(JSON.parse(J).permissions||[]).filter(k=>ns(k.formName)==="TardinessAndUndertimeTableSetUp"),U={};I.forEach(k=>{const O=ns(k.accessTypeName);O&&(U[O]=!0)}),q(U)}catch(H){console.error("Error parsing or decrypting payload",H)}},oe=()=>t==="Accumulation"?"Tardiness/Undertime":t.charAt(0).toUpperCase()+t.slice(1),fe=()=>{N({time:"",equivalent:"",bracketCode:r}),h(!1),b(null),l(!0)},R=(J,H)=>{N({time:J.time,equivalent:J.equivalent,bracketCode:r}),b(H),h(!0),l(!0)},V=J=>{confirm("Are you sure you want to delete this entry?")&&v(H=>({...H,[t]:H[t].filter((F,I)=>I!==J)}))},W=()=>{if(!f.time.trim()){alert("Please enter a time value.");return}if(!f.equivalent.trim()){alert("Please enter an equivalent value.");return}v(x&&m!==null?J=>({...J,[t]:J[t].map((H,F)=>F===m?{time:f.time,equivalent:f.equivalent}:H)}):J=>({...J,[t]:[...J[t],{time:f.time,equivalent:f.equivalent}]})),l(!1),h(!1),b(null)},ne=(J,H)=>{const F=J.replace(/[^\d.]/g,"");N({...f,[H]:F})};return o.useEffect(()=>{const J=H=>{H.key==="Escape"&&n&&l(!1)};return n&&document.addEventListener("keydown",J),()=>{document.removeEventListener("keydown",J)}},[n]),o.useEffect(()=>{a(g[t][0]),d(1)},[t]),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Bracketing Table Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure bracketing tables for tardiness, undertime, and accumulation calculations. Define time ranges and their equivalent values for automated deduction processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Tardiness brackets and equivalents"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Undertime calculation tables"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accumulation thresholds"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Time-to-value mapping"})]})]})]})]})}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:[{name:"Tardiness",icon:Us},{name:"Undertime",icon:fr},{name:"Accumulation",icon:Sb}].map(J=>e.jsxs("button",{onClick:()=>s(J.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===J.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(J.icon,{className:"w-4 h-4"}),J.name]},J.name))}),B("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[B("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:fe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsx("select",{value:r,onChange:J=>a(J.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:g[t].map(J=>e.jsx("option",{value:J,children:J},J))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700",children:[oe()," [hh.mm]"," ",e.jsx("span",{className:"text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Equivalent [hh.mm]"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:T.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No data available in table"})}):B("View")?T.map((J,H)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:J.time}),e.jsx("td",{className:"px-4 py-2",children:J.equivalent}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[B("Edit")&&e.jsx("button",{onClick:()=>R(J,H),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),B("Edit")&&B("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),B("Delete")&&e.jsx("button",{onClick:()=>V(J.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},H)):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})})]})}),B("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",j.length===0?0:P+1," to"," ",Math.min(D,j.length)," of ",j.length," ","entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>d(J=>Math.max(1,J-1)),disabled:i===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:i}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>d(J=>Math.min(S,J+1)),disabled:i===S||S===0,children:"Next"})]})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>l(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:x?"Edit":"Create New"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:M()}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-40 text-gray-700 text-sm",children:[A()," :"]}),e.jsx("input",{type:"text",value:f.time,onChange:J=>ne(J.target.value,"time"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Equivalent :"}),e.jsx("input",{type:"text",value:f.equivalent,onChange:J=>ne(J.target.value,"equivalent"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-40 text-gray-700 text-sm",children:[t==="Tardiness"?"BracketCode":"Bracket Code"," ",":"]}),e.jsx("select",{value:f.bracketCode,onChange:J=>N({...f,bracketCode:J.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:g[t].map(J=>e.jsx("option",{value:J,children:J},J))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:W,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:x?"Update":"Submit"}),e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}function Xl({isOpen:t,onClose:s,onSelect:r,devices:a,loading:n,error:l}){const[i,d]=o.useState(""),[x,h]=o.useState(1),m=20;o.useEffect(()=>{const y=C=>{C.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,s]),o.useEffect(()=>{t&&(d(""),h(1))},[t]);const b=a.filter(y=>y.code.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())),f=Math.ceil(b.length/m),N=(x-1)*m,p=N+m,v=b.slice(N,p),g=()=>{const y=[];if(f<=5)return Array.from({length:f},(P,D)=>D+1);y.push(1),x>3&&y.push("...");const j=Math.max(2,x-1),S=Math.min(f-1,x+1);for(let P=j;P<=S;P++)y.push(P);return x<f-2&&y.push("..."),y.push(f),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device ID"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{d(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by ID or name..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading devices..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device ID"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(y.code,y.description),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.code}),e.jsx("td",{className:"px-3 py-1.5",children:y.description})]},y.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No devices found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:N+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:x===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),g().map((y,C)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${C}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${x===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,f)),disabled:x===f||f===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function _J(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(null),[M,L]=o.useState(!1),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(""),[k,O]=o.useState(""),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState(""),[Se,De]=o.useState({}),Fe=we=>Se[we]===!0;o.useEffect(()=>{Ae()},[]);const Ae=()=>{const we=localStorage.getItem("loginPayload");if(we)try{const Ye=(JSON.parse(we).permissions||[]).filter(Ft=>ns(Ft.formName)==="AreaSetUp"),pt={};Ye.forEach(Ft=>{const Bt=ns(Ft.accessTypeName);Bt&&(pt[Bt]=!0)}),De(pt)}catch(Re){console.error("Error parsing or decrypting payload",Re)}};o.useEffect(()=>{ze(),He(),Ve()},[]);const ze=async()=>{je(!0),xe("");try{const we=await ae.get("/Fs/EmploymentAreaSetUp");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.id||me.ID||"",code:me.areaCode||me.AreaCode||"",description:me.areaDesc||me.AreaDesc||"",head:me.head||me.Head||"",headCode:me.headCode||me.HeadCode||"",deviceName:me.deviceName||me.DeviceName||""}));ye(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load areas";xe(Re),console.error("Error fetching areas:",we)}finally{je(!1)}},He=async()=>{J(!0),U("");try{const we=await ae.get("/Maintenance/EmployeeMasterFile");if(we.status===200&&we.data){const Re=we.data.map(me=>({empCode:me.empCode||me.code||"",name:`${me.lName||""}, ${me.fName||""} ${me.mName||""}`.trim(),groupCode:me.grpCode||""}));R(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load employees";U(Re),console.error("Error fetching employees:",we)}finally{J(!1)}},Ve=async()=>{F(!0),O("");try{const we=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.id||"",code:me.code||"",description:me.description||""}));W(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load devices";O(Re),console.error("Error fetching devices:",we)}finally{F(!1)}};o.useEffect(()=>{const we=Re=>{Re.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",we),()=>{document.removeEventListener("keydown",we)}},[t]);const qe=()=>{l(!1),d(null),A(null),f(""),p(""),g(""),C(""),S(""),D(""),s(!0)},ve=(we,Re)=>{l(!0),d(Re),A(we.id||null),f(we.code),p(""),g(we.description),C(we.headCode),S(we.head),D(we.deviceName),s(!0)},Me=async we=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete area ${we.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/EmploymentAreaSetUp/${we.id}`),await Q.fire({icon:"success",title:"Success",text:"Area deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to delete area";await Q.fire({icon:"error",title:"Error",text:Ye}),console.error("Error deleting area:",me)}},Te=we=>{f(we),we.length>10?p("Area Code maximum 10 characters"):p("")},Le=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Area Code must be between 1 and 10 characters."});return}if(he.some((Re,me)=>n&&i===me?!1:Re.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const Re={id:n&&T?parseInt(T):0,areaCode:b,areaDesc:v,head:j,headCode:y,deviceName:P};n&&T?(await ae.put(`/Fs/EmploymentAreaSetUp/${T}`,Re),await Q.fire({icon:"success",title:"Success",text:"Area updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ae.post("/Fs/EmploymentAreaSetUp",Re),await Q.fire({icon:"success",title:"Success",text:"Area created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),g(""),C(""),S(""),D(""),A(null),l(!1),d(null)}catch(Re){const me=Re.response?.data?.message||Re.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:me}),console.error("Error submitting form:",Re)}finally{L(!1)}},ot=(we,Re)=>{C(we),S(Re),B(!1)},Je=(we,Re)=>{D(Re),oe(!1)},Ge=he.filter(we=>we.code.toLowerCase().includes(r.toLowerCase())||we.description.toLowerCase().includes(r.toLowerCase())||we.head.toLowerCase().includes(r.toLowerCase())||we.deviceName.toLowerCase().includes(r.toLowerCase())),et=Math.ceil(Ge.length/m),yt=(x-1)*m,mt=yt+m,jt=Ge.slice(yt,mt);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Area Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational areas with department heads and device assignments for efficient workforce management and time tracking across different locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Area code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Department head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized area tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[(Fe("Add")||Fe("View"))&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:qe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),Fe("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:we=>a(we.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:be?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading areas..."})}):ge?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:ge})}):Fe("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Fe("Edit")||Fe("View"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:jt.map((we,Re)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:we.code}),e.jsx("td",{className:"px-4 py-2",children:we.description}),e.jsx("td",{className:"px-4 py-2",children:we.head}),e.jsx("td",{className:"px-4 py-2",children:we.deviceName}),(Fe("Edit")||Fe("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Fe("Edit")&&e.jsx("button",{onClick:()=>ve(we,Re),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),Fe("Edit")&&Fe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Fe("Delete")&&e.jsx("button",{onClick:()=>Me(we),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Re))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Fe("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ge.length===0?0:yt+1," to"," ",Math.min(mt,Ge.length)," of"," ",Ge.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(we=>Math.max(we-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:et},(we,Re)=>Re+1).map(we=>e.jsx("button",{onClick:()=>h(we),className:`px-3 py-1 rounded transition-colors ${x===we?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:we},we)),e.jsx("button",{onClick:()=>h(we=>Math.min(we+1,et)),disabled:x===et||et===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Area":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Area Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Area Code :"}),e.jsx("input",{type:"text",value:b,onChange:we=>Te(we.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:we=>g(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,maxLength:10,onChange:we=>C(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:we=>D(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Le,disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:M?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:M,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:q,onClose:()=>B(!1),onSelect:ot,employees:fe,loading:ne,error:I}),e.jsx(Xl,{isOpen:te,onClose:()=>oe(!1),onSelect:Je,devices:V,loading:H,error:k})]})]})}),e.jsx(Qt,{})]})}function OJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState(null),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState(!1),[L,q]=o.useState([]),[B,te]=o.useState(!1),[oe,fe]=o.useState(""),[R,V]=o.useState([]),[W,ne]=o.useState([]),[J,H]=o.useState(!1),[F,I]=o.useState(!1),[U,k]=o.useState(""),[O,he]=o.useState(""),[ye,be]=o.useState({}),je=Me=>ye[Me]===!0;o.useEffect(()=>{ge(),xe(),Se(),De()},[]);const ge=()=>{const Me=localStorage.getItem("loginPayload");if(Me)try{const ot=(JSON.parse(Me).permissions||[]).filter(Ge=>ns(Ge.formName)==="BranchSetup"),Je={};ot.forEach(Ge=>{const et=ns(Ge.accessTypeName);et&&(Je[et]=!0)}),be(Je)}catch(Te){console.error("Error parsing or decrypting payload",Te)}},xe=async()=>{te(!0),fe("");try{const Me=await ae.get("/Fs/Employment/BranchSetUp");if(Me.status===200&&Me.data){const Te=Me.data.map(Le=>({id:Le.braID||Le.id||"",branchId:Le.braID||Le.id||"",code:Le.braCode||Le.code||"",description:Le.braDesc||Le.description||"",branchManager:Le.braMngr||Le.branchManager||"",branchManagerCode:Le.braMngrCode||"",deviceName:Le.deviceName||Le.DeviceName||""}));q(Te)}}catch(Me){const Te=Me.response?.data?.message||Me.message||"Failed to load branches";fe(Te)}finally{te(!1)}},Se=async()=>{H(!0),k("");try{const Me=await ae.get("/Maintenance/EmployeeMasterFile");if(Me.status===200&&Me.data){const Te=Me.data.map(Le=>({empCode:Le.empCode||Le.code||"",name:`${Le.lName||""}, ${Le.fName||""} ${Le.mName||""}`.trim(),groupCode:Le.grpCode||""}));V(Te)}}catch{k("Failed to load employees")}finally{H(!1)}},De=async()=>{I(!0),he("");try{const Me=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(Me.status===200&&Me.data){const Te=Me.data.map(Le=>({id:Le.id||"",code:Le.code||"",description:Le.description||""}));ne(Te)}}catch{he("Failed to load devices")}finally{I(!1)}};o.useEffect(()=>{const Me=Te=>{Te.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",Me),()=>document.removeEventListener("keydown",Me)},[t]);const Fe=()=>{l(!1),d(null),h(""),b(""),N(""),v(""),y(""),s(!0)},Ae=(Me,Te)=>{l(!0),d(Te),j(Me.branchId),h(Me.code),b(Me.description),N(Me.branchManagerCode),v(Me.branchManager),y(Me.deviceName),s(!0)},ze=async Me=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete branch ${Me.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"})).isConfirmed)try{await ae.delete(`/Fs/Employment/BranchSetUp/${Me.id}`),await Q.fire({icon:"success",title:"Success",text:"Branch deleted successfully.",timer:2e3,showConfirmButton:!1}),await xe()}catch(Le){const ot=Le.response?.data?.message||Le.message||"Failed to delete branch";await Q.fire({icon:"error",title:"Error",text:ot}),console.error("Error deleting branch:",Le)}},He=async()=>{if(!x.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Please enter a Code."});return}if(L.some((Te,Le)=>n&&i===Le?!1:Te.code.toLowerCase()===x.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}P(!0);try{const Te={braID:n&&C?parseInt(C):0,braCode:x,braDesc:m,braMngr:p||null,braMngrCode:f||"",deviceName:g||null};n?await ae.put(`/Fs/Employment/BranchSetUp/${C}`,Te):await ae.post("/Fs/Employment/BranchSetUp",Te),await Q.fire({icon:"success",title:"Success",timer:2e3,showConfirmButton:!1}),await xe(),s(!1)}catch{Q.fire({icon:"error",title:"Error",text:"An error occurred"})}finally{P(!1)}},Ve=(Me,Te)=>{N(Me),v(Te),T(!1)},qe=(Me,Te)=>{y(Te),M(!1)},ve=L.filter(Me=>Me.code.toLowerCase().includes(r.toLowerCase())||Me.description.toLowerCase().includes(r.toLowerCase())||Me.branchManager.toLowerCase().includes(r.toLowerCase())||Me.deviceName.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 md:px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-lg md:text-xl",children:"Branch Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-4 md:p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage branch locations with branch manager assignments and device configurations for comprehensive organizational structure and time tracking across multiple business locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Branch code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Branch manager assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-location tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 mb-6",children:[je("Add")&&e.jsxs("button",{className:"w-full md:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 shadow-sm",onClick:Fe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"md:ml-auto flex flex-col sm:flex-row items-start sm:items-center gap-2 w-full md:w-auto",children:[e.jsx("label",{className:"text-gray-700 whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:Me=>a(Me.target.value),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"overflow-x-auto border rounded-lg",children:je("View")?e.jsxs("table",{className:"w-full border-collapse min-w-[700px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Branch Manager"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(je("Edit")||je("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ve.map((Me,Te)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Me.code}),e.jsx("td",{className:"px-4 py-2",children:Me.description}),e.jsx("td",{className:"px-4 py-2",children:Me.branchManager}),e.jsx("td",{className:"px-4 py-2",children:Me.deviceName}),(je("Edit")||je("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[je("Edit")&&e.jsx("button",{onClick:()=>Ae(Me,Te),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",children:e.jsx(Ns,{className:"w-4 h-4"})}),je("Delete")&&e.jsx("button",{onClick:()=>ze(Me),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Te))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Access denied."})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",ve.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 md:p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-3 border-b bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-800 text-lg",children:n?"Edit Branch":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto space-y-4",children:[e.jsx("h3",{className:"text-blue-600 font-semibold",children:"Branch Setup"}),e.jsxs("div",{className:"grid gap-4",children:[[{label:"Code",value:x,setter:h,max:10},{label:"Description",value:m,setter:b}].map(Me=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxs("label",{className:"sm:w-40 text-gray-700 text-sm",children:[Me.label," :"]}),e.jsx("input",{type:"text",maxLength:Me.max,value:Me.value,onChange:Te=>Me.setter(Te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm"})]},Me.label)),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Manager Code :"}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{readOnly:!0,value:f,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{onClick:()=>T(!0),className:"p-2 bg-green-600 text-white rounded-lg",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{v(""),N("")},className:"p-2 bg-red-600 text-white rounded-lg",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Manager Name :"}),e.jsx("input",{readOnly:!0,value:p,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{readOnly:!0,value:g,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{onClick:()=>M(!0),className:"p-2 bg-green-600 text-white rounded-lg",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(""),className:"p-2 bg-red-600 text-white rounded-lg",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:He,disabled:S,className:"flex-1 min-w-[120px] px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:S?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"flex-1 min-w-[120px] px-6 py-2.5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-sm",children:"Back to List"})]})]})]})}),e.jsx(na,{isOpen:D,onClose:()=>T(!1),onSelect:Ve,employees:R,loading:J,error:U}),e.jsx(Xl,{isOpen:A,onClose:()=>M(!1),onSelect:qe,devices:W,loading:F,error:O})]})]})}),e.jsx(Qt,{})]})}function BJ({isOpen:t,onClose:s,onSelect:r,divisions:a,loading:n,error:l}){const[i,d]=o.useState("");if(o.useEffect(()=>{const h=m=>{m.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[t,s]),!t)return null;const x=a.filter(h=>h.code.toLowerCase().includes(i.toLowerCase())||h.description.toLowerCase().includes(i.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:s}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Division Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:h=>d(h.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):l?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-red-500 text-sm",children:l})}):x.length>0?x.map(h=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>r(h.code,h.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:h.code}),e.jsx("td",{className:"px-3 py-1.5",children:h.description})]},h.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 text-sm",children:"No data available"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing 1 to ",x.length," of"," ",x.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function RJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=20,[b,f]=o.useState(""),[N,p]=o.useState(null),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(""),[M,L]=o.useState(""),[q,B]=o.useState(""),[te,oe]=o.useState(""),[fe,R]=o.useState(""),[V,W]=o.useState(!1),[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState(""),[ge,xe]=o.useState([]),[Se,De]=o.useState([]),[Fe,Ae]=o.useState([]),[ze,He]=o.useState(!1),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState(!1),[Te,Le]=o.useState(""),[ot,Je]=o.useState(""),[Ge,et]=o.useState(""),[yt,mt]=o.useState({}),jt=pe=>yt[pe]===!0;o.useEffect(()=>{we()},[]);const we=()=>{const pe=localStorage.getItem("loginPayload");if(pe)try{const _t=(JSON.parse(pe).permissions||[]).filter(bt=>ns(bt.formName)==="DepartmentSetUp"),it={};_t.forEach(bt=>{const se=ns(bt.accessTypeName);se&&(it[se]=!0)}),mt(it)}catch(at){console.error("Error parsing or decrypting payload",at)}};o.useEffect(()=>{Re()},[]);const Re=async()=>{ye(!0),je("");try{const pe=await ae.get("/Fs/Employment/DepartmentSetUp");if(pe.status===200&&pe.data){const at=pe.data.map(ut=>({departmentId:ut.depID||"",code:ut.depCode||"",departmentCode:ut.depCode||"",departmentHeadCode:ut.depHeadCode||"",description:ut.depDesc||"",divisionCode:ut.divCode||"",head:ut.depHead||"",deviceName:ut.deviceName||"",head1:ut.head1||"",email1:ut.email1||"",head2:ut.head2||"",email2:ut.email2||""}));O(at)}}catch(pe){const at=pe.response?.data?.message||pe.message||"Failed to load departments";je(at),console.error("Error fetching departments:",pe)}finally{ye(!1)}};o.useEffect(()=>{me()},[]);const me=async()=>{He(!0),Le("");try{const pe=await ae.get("/Fs/Employment/DivisionSetUp");if(pe.status===200&&pe.data){const at=pe.data.map(ut=>({code:ut.divCode||ut.code||"",description:ut.divDesc||ut.description||""}));xe(at)}}catch(pe){const at=pe.response?.data?.message||pe.message||"Failed to load divisions";Le(at),console.error("Error fetching divisions:",pe)}finally{He(!1)}};o.useEffect(()=>{Ye()},[]);const Ye=async()=>{qe(!0),Je("");try{const pe=await ae.get("/Maintenance/EmployeeMasterFile");if(pe.status===200&&pe.data){const at=pe.data.map(ut=>({empCode:ut.empCode||ut.code||"",name:`${ut.lName||""}, ${ut.fName||""} ${ut.mName||""}`.trim(),groupCode:ut.grpCode||""}));De(at)}}catch(pe){const at=pe.response?.data?.message||pe.message||"Failed to load employees";Je(at),console.error("Error fetching employees:",pe)}finally{qe(!1)}};o.useEffect(()=>{pt()},[]);const pt=async()=>{Me(!0),et("");try{const pe=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(pe.status===200&&pe.data){const at=pe.data.map(ut=>({id:ut.id||"",code:ut.code||"",description:ut.description||""}));Ae(at),Ae(at)}}catch(pe){const at=pe.response?.data?.message||pe.message||"Failed to load devices";et(at),console.error("Error fetching devices:",pe)}finally{Me(!1)}};o.useEffect(()=>{const pe=at=>{at.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[t]);const Ft=()=>{l(!1),d(null),f(""),g(""),C(""),S(""),D(""),A(""),L(""),B(""),oe(""),R(""),s(!0)},Bt=(pe,at)=>{l(!0),p(pe.departmentId),d(at),f(pe.code),S(pe.departmentHeadCode),g(pe.description),C(pe.divisionCode),D(pe.head),A(pe.deviceName),L(pe.head1),B(pe.email1),oe(pe.head2),R(pe.email2),s(!0)},Lt=async pe=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete department ${pe.departmentId}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/DepartmentSetUp/${pe.id}`),await Q.fire({icon:"success",title:"Success",text:"Department deleted successfully.",timer:2e3,showConfirmButton:!1}),await Re()}catch(ut){const _t=ut.response?.data?.message||ut.message||"Failed to delete department";await Q.fire({icon:"error",title:"Error",text:_t}),console.error("Error deleting department:",ut)}},Qe=async()=>{if(!b.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Please enter a Department Code."});return}if(k.some((ut,_t)=>n&&i===_t?!1:ut.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}const at=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(q.trim()&&!at.test(q)){await Q.fire({icon:"warning",title:"Validation Error",text:"Please enter a valid email address for Email 1."});return}if(fe.trim()&&!at.test(fe)){await Q.fire({icon:"warning",title:"Validation Error",text:"Please enter a valid email address for Email 2."});return}W(!0);try{const ut={depID:n&&N?parseInt(N):0,depCode:b,depDesc:v,divCode:y||null,depHead:P||null,depHeadCode:j||"",deviceName:T||null,head1:M||null,email1:q||null,head2:te||null,email2:fe||null};n&&i!==null?(await ae.put(`/Fs/Employment/DepartmentSetUp/${ut.depID}`,ut),await Q.fire({icon:"success",title:"Success",text:"Department updated successfully.",timer:2e3,showConfirmButton:!1}),await Re()):(await ae.post("/Fs/Employment/DepartmentSetUp",ut),await Q.fire({icon:"success",title:"Success",text:"Department created successfully.",timer:2e3,showConfirmButton:!1}),await Re()),s(!1),f(""),g(""),C(""),S(""),D(""),A(""),L(""),B(""),oe(""),R(""),l(!1),d(null)}catch(ut){const _t=ut.response?.data?.message||ut.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:_t}),console.error("Error submitting form:",ut)}finally{W(!1)}},gt=(pe,at)=>{C(at),J(!1)},vt=(pe,at)=>{S(pe),D(at),F(!1)},xt=(pe,at)=>{A(at),U(!1)},Ct=k.filter(pe=>pe.code.toLowerCase().includes(r.toLowerCase())||pe.description.toLowerCase().includes(r.toLowerCase())||pe.divisionCode.toLowerCase().includes(r.toLowerCase())||pe.head.toLowerCase().includes(r.toLowerCase())||pe.deviceName.toLowerCase().includes(r.toLowerCase())||pe.head1.toLowerCase().includes(r.toLowerCase())||pe.email1.toLowerCase().includes(r.toLowerCase())||pe.head2.toLowerCase().includes(r.toLowerCase())||pe.email2.toLowerCase().includes(r.toLowerCase())),Nt=Math.ceil(Ct.length/m),$e=(x-1)*m,Ke=$e+m,ce=Ct.slice($e,Ke),Ee=()=>{const pe=[];if(Nt<=5)return Array.from({length:Nt},(it,bt)=>bt+1);pe.push(1),x>3&&pe.push("...");const ut=Math.max(2,x-1),_t=Math.min(Nt-1,x+1);for(let it=ut;it<=_t;it++)pe.push(it);return x<Nt-2&&pe.push("..."),pe.push(Nt),pe};return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Department Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational departments with division assignments, department head information, device configurations, and contact details for effective management and communication across business units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Department code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division and department head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Contact information and email management"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[jt("Add")&&jt("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ft,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),jt("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:pe=>a(pe.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:jt("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Division Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Email 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Email 2"}),(jt("Edit")||jt("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:ce.map((pe,at)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:pe.code}),e.jsx("td",{className:"px-4 py-2",children:pe.description}),e.jsx("td",{className:"px-4 py-2",children:pe.divisionCode}),e.jsx("td",{className:"px-4 py-2",children:pe.head}),e.jsx("td",{className:"px-4 py-2",children:pe.deviceName}),e.jsx("td",{className:"px-4 py-2",children:pe.head1}),e.jsx("td",{className:"px-4 py-2",children:pe.email1}),e.jsx("td",{className:"px-4 py-2",children:pe.head2}),e.jsx("td",{className:"px-4 py-2",children:pe.email2}),(jt("Edit")||jt("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[jt("Edit")&&e.jsx("button",{onClick:()=>Bt(pe,$e+at),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),jt("Edit")&&jt("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),jt("Delete")&&e.jsx("button",{onClick:()=>Lt(pe),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},at))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),jt("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing"," ",Ct.length===0?0:$e+1," to"," ",Math.min(Ke,Ct.length)," of"," ",Ct.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(pe=>Math.max(pe-1,1)),disabled:x===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),Ee().map((pe,at)=>pe==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${at}`):e.jsx("button",{onClick:()=>h(pe),className:`px-4 py-2 rounded text-sm font-medium ${x===pe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:pe},pe)),e.jsx("button",{onClick:()=>h(pe=>Math.min(pe+1,Nt)),disabled:x===Nt||Nt===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Department":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Department Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Code :"}),e.jsx("input",{type:"text",value:b,onChange:pe=>{const at=pe.target.value;at.length<=10&&f(at)},maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:pe=>g(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Code :"}),e.jsx("input",{type:"text",value:y,onChange:pe=>C(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>J(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Head Code :"}),e.jsx("input",{type:"text",value:j,onChange:pe=>S(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>F(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{S(""),D("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Head :"}),e.jsx("input",{type:"text",value:P,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:T,onChange:pe=>A(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>U(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Head 1 :"}),e.jsx("input",{type:"text",value:M,onChange:pe=>L(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Email 1 :"}),e.jsx("input",{type:"email",value:q,onChange:pe=>B(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Head 2 :"}),e.jsx("input",{type:"text",value:te,onChange:pe=>oe(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Email 2 :"}),e.jsx("input",{type:"email",value:fe,onChange:pe=>R(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Qe,disabled:V,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:V?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:V,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})}),e.jsx(BJ,{isOpen:ne,onClose:()=>J(!1),onSelect:gt,divisions:ge,loading:ze,error:Te}),e.jsx(na,{isOpen:H,onClose:()=>F(!1),onSelect:vt,employees:Se,loading:Ve,error:ot}),e.jsx(Xl,{isOpen:I,onClose:()=>U(!1),onSelect:xt,devices:Fe,loading:ve,error:Ge})]})]})}),e.jsx(Qt,{})]})}function HJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(null),[M,L]=o.useState(!1),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(""),[k,O]=o.useState(""),[he,ye]=o.useState({}),be=we=>he[we]===!0;o.useEffect(()=>{je()},[]);const je=()=>{const we=localStorage.getItem("loginPayload");if(we)try{const Ye=(JSON.parse(we).permissions||[]).filter(Ft=>ns(Ft.formName)==="DivisionSetUp"),pt={};Ye.forEach(Ft=>{const Bt=ns(Ft.accessTypeName);Bt&&(pt[Bt]=!0)}),ye(pt)}catch(Re){console.error("Error parsing or decrypting payload",Re)}},[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState("");o.useEffect(()=>{ze(),He(),Ve()},[]);const ze=async()=>{De(!0),Ae("");try{const we=await ae.get("/Fs/Employment/DivisionSetUp");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.divID||"",code:me.divCode||"",description:me.divDesc||"",head:me.divHead||"",headCode:me.divHeadCode||"",deviceName:me.deviceName||""}));xe(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load divisions";Ae(Re),console.error("Error fetching divisions:",we)}finally{De(!1)}},He=async()=>{J(!0),U("");try{const we=await ae.get("/Maintenance/EmployeeMasterFile");if(we.status===200&&we.data){const Re=we.data.map(me=>({empCode:me.empCode||me.code||"",name:`${me.lName||""}, ${me.fName||""} ${me.mName||""}`.trim(),groupCode:me.grpCode||""}));R(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load employees";U(Re),console.error("Error fetching employees:",we)}finally{J(!1)}},Ve=async()=>{F(!0),O("");try{const we=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.id||"",code:me.code||"",description:me.description||""}));W(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load devices";O(Re),console.error("Error fetching devices:",we)}finally{F(!1)}};o.useEffect(()=>{const we=Re=>{Re.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",we),()=>{document.removeEventListener("keydown",we)}},[t]);const qe=()=>{l(!1),d(null),A(null),f(""),p(""),g(""),C(""),S(""),D(""),s(!0)},ve=(we,Re)=>{l(!0),d(Re),A(we.id||null),f(we.code),p(""),g(we.description),C(we.headCode),S(we.head),D(we.deviceName),s(!0)},Me=async we=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete division ${we.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/DivisionSetUp/${we.id}`),await Q.fire({icon:"success",title:"Success",text:"Division deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to delete division";await Q.fire({icon:"error",title:"Error",text:Ye}),console.error("Error deleting division:",me)}},Te=we=>{f(we),we.length>10?p("Code maximum 10 characters"):p("")},Le=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ge.some((Re,me)=>n&&i===me?!1:Re.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const Re={divID:n&&T?parseInt(T):0,divCode:b,divDesc:v,divHead:j,divHeadCode:y,deviceName:P};n&&T?(await ae.put(`/Fs/Employment/DivisionSetUp/${T}`,Re),await Q.fire({icon:"success",title:"Success",text:"Division updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ae.post("/Fs/Employment/DivisionSetUp",Re),await Q.fire({icon:"success",title:"Success",text:"Division created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),g(""),C(""),S(""),D(""),A(null),l(!1),d(null)}catch(Re){const me=Re.response?.data?.message||Re.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:me}),console.error("Error submitting form:",Re)}finally{L(!1)}},ot=(we,Re)=>{C(we),S(Re),B(!1)},Je=(we,Re)=>{D(Re),oe(!1)},Ge=ge.filter(we=>we.code.toLowerCase().includes(r.toLowerCase())||we.description.toLowerCase().includes(r.toLowerCase())||we.head.toLowerCase().includes(r.toLowerCase())||we.deviceName.toLowerCase().includes(r.toLowerCase())),et=Math.ceil(Ge.length/m),yt=(x-1)*m,mt=yt+m,jt=Ge.slice(yt,mt);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Division Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational divisions with division head assignments and device configurations for effective management and time tracking across different business units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized division tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[be("Add")&&be("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:qe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),be("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:we=>a(we.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Se?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading divisions..."})}):Fe?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Fe})}):be("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(be("Edit")||be("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:jt.map((we,Re)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:we.code}),e.jsx("td",{className:"px-4 py-2",children:we.description}),e.jsx("td",{className:"px-4 py-2",children:we.head}),e.jsx("td",{className:"px-4 py-2",children:we.deviceName}),(be("Edit")||be("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[be("Edit")&&e.jsx("button",{onClick:()=>ve(we,Re),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),be("Edit")&&be("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),be("Delete")&&e.jsx("button",{onClick:()=>Me(we),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Re))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),be("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ge.length===0?0:yt+1," ","to ",Math.min(mt,Ge.length)," of"," ",Ge.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(we=>Math.max(we-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:et},(we,Re)=>Re+1).map(we=>e.jsx("button",{onClick:()=>h(we),className:`px-3 py-1 rounded transition-colors ${x===we?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:we},we)),e.jsx("button",{onClick:()=>h(we=>Math.min(we+1,et)),disabled:x===et||et===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Division":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Division Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:we=>Te(we.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-40 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:we=>g(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:we=>C(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Head :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:we=>D(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Le,disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:M?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:M,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:q,onClose:()=>B(!1),onSelect:ot,employees:fe,loading:ne,error:I}),e.jsx(Xl,{isOpen:te,onClose:()=>oe(!1),onSelect:Je,devices:V,loading:H,error:k})]})]})}),e.jsx(Qt,{})]})}function UJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(""),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState(1),p=100,[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(""),[M,L]=o.useState(null),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(""),[I,U]=o.useState([]),[k,O]=o.useState(!1),[he,ye]=o.useState(""),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState(""),[Fe,Ae]=o.useState({}),ze=me=>Fe[me]===!0;o.useEffect(()=>{He()},[]);const He=()=>{const me=localStorage.getItem("loginPayload");if(me)try{const Ft=(JSON.parse(me).permissions||[]).filter(Lt=>ns(Lt.formName)==="EmployeeDesignationSetup"),Bt={};Ft.forEach(Lt=>{const Qe=ns(Lt.accessTypeName);Qe&&(Bt[Qe]=!0)}),Ae(Bt)}catch(Ye){console.error("Error parsing or decrypting payload",Ye)}};o.useEffect(()=>{Ve()},[]);const Ve=async()=>{O(!0),ye("");try{const me=await ae.get("/Fs/Employment/JobLevelSetUp");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({id:pt.jobLevelID||"",code:pt.jobLevelCode||"",description:pt.jobLevelDesc||""}));U(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load divisions";ye(Ye),console.error("Error fetching divisions:",me)}finally{O(!1)}};o.useEffect(()=>{qe()},[]);const qe=async()=>{xe(!0),De("");try{const me=await ae.get("/Fs/Employment/DesignationSetUp");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({id:pt.desID||"",code:pt.desCode||"",description:pt.desDesc||"",jobLevelCode:pt.jobLevelCode||"",deviceName:pt.deviceName||""}));je(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load divisions";De(Ye),console.error("Error fetching Designation:",me)}finally{xe(!1)}};o.useEffect(()=>{ve()},[]);const ve=async()=>{J(!0),F("");try{const me=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({id:pt.id||"",code:pt.code||"",description:pt.description||""}));W(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load devices";F(Ye),console.error("Error fetching devices:",me)}finally{J(!1)}};o.useEffect(()=>{const me=Ye=>{Ye.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[t]);const Me=()=>{h(!1),b(null),L(null),g(""),C(""),S(""),D(""),A(""),s(!0)},Te=(me,Ye)=>{h(!0),b(Ye),L(me.id||null),g(me.code),C(""),S(me.description),D(me.jobLevelCode),A(me.deviceName),s(!0)},Le=async me=>{if(console.log(me),(await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete designation ${me.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/Designation/${me.id}`),await Q.fire({icon:"success",title:"Success",text:"Designation deleted successfully.",timer:2e3,showConfirmButton:!1}),await qe()}catch(pt){const Ft=pt.response?.data?.message||pt.message||"Failed to delete designation";await Q.fire({icon:"error",title:"Error",text:Ft}),console.error("Error deleting designation:",pt)}},ot=async()=>{if(!v.trim()||v.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(be.some((Ye,pt)=>x&&m===pt?!1:Ye.code.toLowerCase()===v.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}B(!0);try{const Ye={desID:x&&M?parseInt(M):0,desCode:v,desDesc:j,jobLevelCode:P,deviceName:T};x&&M?(await ae.put(`/Fs/Employment/DesignationSetUp/${M}`,Ye),await Q.fire({icon:"success",title:"Success",text:"Designation updated successfully.",timer:2e3,showConfirmButton:!1}),await qe()):(await ae.post("/Fs/Employment/DesignationSetUp",Ye),await Q.fire({icon:"success",title:"Success",text:"Designation created successfully.",timer:2e3,showConfirmButton:!1}),await qe()),s(!1),g(""),C(""),S(""),D(""),A(""),L(null),h(!1),b(null)}catch(Ye){const pt=Ye.response?.data?.message||Ye.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:pt}),console.error("Error submitting form:",Ye)}finally{B(!1)}},Je=(me,Ye)=>{D(me),oe(!1)},Ge=(me,Ye)=>{A(Ye),R(!1)},et=be.filter(me=>me.code.toLowerCase().includes(i.toLowerCase())||me.description.toLowerCase().includes(i.toLowerCase())||me.jobLevelCode.toLowerCase().includes(i.toLowerCase())||me.deviceName.toLowerCase().includes(i.toLowerCase())),yt=I.filter(me=>me.code.toLowerCase().includes(r.toLowerCase())||me.description.toLowerCase().includes(r.toLowerCase())),mt=Math.ceil(et.length/p),jt=(f-1)*p,we=jt+p,Re=et.slice(jt,we);return o.useEffect(()=>{N(1)},[i]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Designation Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure employee designation codes and descriptions for job positions, linking them to job level classifications and device assignments for comprehensive employee role management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Designation code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Job level code assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Position description tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ze("Add")&&ze("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Me,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),ze("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:me=>d(me.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:ge?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading designations..."})}):Se?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Se})}):ze("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Job Level Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(ze("Edit")||ze("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Re.map((me,Ye)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:me.code}),e.jsx("td",{className:"px-4 py-2",children:me.description}),e.jsx("td",{className:"px-4 py-2",children:me.jobLevelCode}),e.jsx("td",{className:"px-4 py-2",children:me.deviceName}),(ze("Edit")||ze("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[ze("Edit")&&e.jsx("button",{onClick:()=>Te(me,Ye),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),ze("Edit")&&ze("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ze("Delete")&&e.jsx("button",{onClick:()=>Le(me),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ye))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ze("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing"," ",et.length===0?0:jt+1," to"," ",Math.min(we,et.length)," of"," ",et.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>N(me=>Math.max(me-1,1)),disabled:f===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:mt},(me,Ye)=>Ye+1).map(me=>e.jsx("button",{onClick:()=>N(me),className:`px-3 py-1 rounded transition-colors ${f===me?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:me},me)),e.jsx("button",{onClick:()=>N(me=>Math.min(me+1,mt)),disabled:f===mt||mt===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:x?"Edit Designation":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Designation Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:v,onChange:me=>g(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:j,onChange:me=>S(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Job Level Code :"}),e.jsx("input",{type:"text",value:P,onChange:me=>D(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:T,onChange:me=>A(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>R(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:ot,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:x?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})}),te&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>oe(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>oe(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Job Level Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:me=>a(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:yt.map((me,Ye)=>e.jsxs("tr",{onClick:()=>Je(me.code,me.description),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:me.code}),e.jsx("td",{className:"px-4 py-2 text-sm",children:me.description})]},Ye))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing 1 to ",yt.length," of"," ",yt.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})]})]})})]}),e.jsx(Xl,{isOpen:fe,onClose:()=>R(!1),onSelect:Ge,devices:V,loading:ne,error:H})]})]})}),e.jsx(Qt,{})]})}function WJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=10,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(null),[y,C]=o.useState(!1),[j,S]=o.useState([]),[P,D]=o.useState(!1),[T,A]=o.useState(""),[M,L]=o.useState({}),q=F=>M[F]===!0;o.useEffect(()=>{B()},[]);const B=()=>{const F=localStorage.getItem("loginPayload");if(F)try{const k=(JSON.parse(F).permissions||[]).filter(he=>ns(he.formName)==="EmployeeStatusSetUp"),O={};k.forEach(he=>{const ye=ns(he.accessTypeName);ye&&(O[ye]=!0)}),L(O)}catch(I){console.error("Error parsing or decrypting payload",I)}};o.useEffect(()=>{te()},[]);const te=async()=>{D(!0),A("");try{const F=await ae.get("/Fs/Employment/EmployeeStatusSetUp");if(F.status===200&&F.data){const I=F.data.map(U=>({id:U.empStatID,code:U.empStatCode||"",description:U.empStatDesc||""}));S(I)}}catch(F){const I=F.response?.data?.message||F.message||"Failed to load statuses";A(I)}finally{D(!1)}};o.useEffect(()=>{const F=I=>{I.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[t]);const oe=()=>{l(!1),g(null),f(""),p(""),s(!0)},fe=(F,I)=>{l(!0),d(I),g(F.id),f(F.code),p(F.description),s(!0)},R=async F=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete status ${F.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"})).isConfirmed)try{await ae.delete(`/Fs/Employment/EmployeeStatusSetUp/${F.id}`),await Q.fire({icon:"success",title:"Deleted",text:"Status deleted successfully.",timer:1500,showConfirmButton:!1}),te()}catch(U){Q.fire("Error",U.response?.data?.message||"Failed to delete","error")}},V=async()=>{if(!b.trim()){Q.fire("Warning","Please enter a Code.","warning");return}if(j.some((I,U)=>n&&i===U?!1:I.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}C(!0);try{const I={empStatID:n&&v?v:0,empStatCode:b,empStatDesc:N};n&&v?await ae.put(`/Fs/Employment/EmployeeStatusSetUp/${v}`,I):await ae.post("/Fs/Employment/EmployeeStatusSetUp",I),await Q.fire({icon:"success",title:"Success",text:`Status ${n?"updated":"created"} successfully.`,timer:1500,showConfirmButton:!1}),s(!1),te()}catch(I){Q.fire("Error",I.response?.data?.message||"An error occurred","error")}finally{C(!1)}},W=j.filter(F=>F.code.toLowerCase().includes(r.toLowerCase())||F.description.toLowerCase().includes(r.toLowerCase())),ne=Math.ceil(W.length/m),J=(x-1)*m,H=W.slice(J,J+m);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Status Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define employee status classifications for tracking employment types."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-gray-600",children:"Employment status code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-gray-600",children:"Status description tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[q("Add")&&q("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:oe,children:[e.jsx(gs,{className:"w-4 h-4"})," Create New"]}),q("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:F=>a(F.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:P?e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading statuses..."}):T?e.jsx("div",{className:"p-4 bg-red-50 text-red-700 border border-red-200 rounded",children:T}):q("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(q("Edit")||q("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:H.map((F,I)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:F.code}),e.jsx("td",{className:"px-4 py-2",children:F.description}),(q("Edit")||q("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[q("Edit")&&e.jsx("button",{onClick:()=>fe(F,I),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),q("Delete")&&e.jsx("button",{onClick:()=>R(F),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},F.id||I))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),q("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",W.length===0?0:J+1," ","to"," ",Math.min(J+m,W.length)," ","of ",W.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:x===1,onClick:()=>h(F=>F-1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),Array.from({length:ne},(F,I)=>I+1).map(F=>e.jsx("button",{onClick:()=>h(F),className:`px-3 py-1 rounded ${x===F?"bg-blue-600 text-white":"border border-gray-300"}`,children:F},F)),e.jsx("button",{disabled:x===ne||ne===0,onClick:()=>h(F=>F+1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>!y&&s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Employee Status":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Employee Status Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:F=>f(F.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:N,onChange:F=>p(F.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm outline-none"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:V,disabled:y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm disabled:opacity-50",children:y?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Qt,{})]})}function GJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(null),[T,A]=o.useState(!1),[M,L]=o.useState(!1),[q,B]=o.useState([]),[te,oe]=o.useState(!1),[fe,R]=o.useState(""),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(""),[I,U]=o.useState({}),k=qe=>I[qe]===!0;o.useEffect(()=>{O()},[]);const O=()=>{const qe=localStorage.getItem("loginPayload");if(qe)try{const Te=(JSON.parse(qe).permissions||[]).filter(ot=>ns(ot.formName)==="GroupScheduleSetUp"),Le={};Te.forEach(ot=>{const Je=ns(ot.accessTypeName);Je&&(Le[Je]=!0)}),U(Le)}catch(ve){console.error("Error parsing or decrypting payload",ve)}};o.useEffect(()=>{he()},[]);const he=async()=>{J(!0),F("");try{const qe=await ae.get("/Fs/Employment/GroupSetUp");if(qe.status===200&&qe.data){const ve=qe.data.map(Me=>({id:Me.id||"",code:Me.grpCode||"",description:Me.grpDesc||"",head:Me.grpHead||"",headCode:Me.grpHeadCode||""}));W(ve)}}catch(qe){const ve=qe.response?.data?.message||qe.message||"Failed to load groups";F(ve),console.error("Error fetching groups:",qe)}finally{J(!1)}};o.useEffect(()=>{ye()},[]);const ye=async()=>{oe(!0),R("");try{const qe=await ae.get("/Maintenance/EmployeeMasterFile");if(qe.status===200&&qe.data){const ve=qe.data.map(Me=>({empCode:Me.empCode||Me.code||"",name:`${Me.lName||""}, ${Me.fName||""} ${Me.mName||""}`.trim(),groupCode:Me.grpCode||""}));B(ve)}}catch(qe){const ve=qe.response?.data?.message||qe.message||"Failed to load employees";R(ve),console.error("Error fetching employees:",qe)}finally{oe(!1)}};o.useEffect(()=>{const qe=ve=>{ve.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",qe),()=>{document.removeEventListener("keydown",qe)}},[t]);const be=()=>{l(!1),d(null),D(null),f(""),p(""),g(""),C(""),S(""),s(!0)},je=(qe,ve)=>{l(!0),d(ve),D(qe.id||null),f(qe.code),p(""),g(qe.description),C(qe.headCode),S(qe.head),s(!0)},ge=async qe=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete group ${qe.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/GroupSetUp/${qe.id}`),await Q.fire({icon:"success",title:"Success",text:"Group deleted successfully.",timer:2e3,showConfirmButton:!1}),await he()}catch(Me){const Te=Me.response?.data?.message||Me.message||"Failed to delete group";await Q.fire({icon:"error",title:"Error",text:Te}),console.error("Error deleting group:",Me)}},xe=qe=>{f(qe),qe.length>10?p("Code maximum 10 characters"):p("")},Se=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(V.some((ve,Me)=>n&&i===Me?!1:ve.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}A(!0);try{const ve={id:n&&P?parseInt(P):0,grpCode:b,grpDesc:v,grpHead:j,grpHeadCode:y};console.log("Submitting payload:",ve),n&&P?(await ae.put(`/Fs/Employment/GroupSetUp/${P}`,ve),await Q.fire({icon:"success",title:"Success",text:"Group updated successfully.",timer:2e3,showConfirmButton:!1}),await he()):(await ae.post("/Fs/Employment/GroupSetUp",ve),await Q.fire({icon:"success",title:"Success",text:"Group created successfully.",timer:2e3,showConfirmButton:!1}),await he()),s(!1),f(""),p(""),g(""),C(""),S(""),D(null),l(!1),d(null)}catch(ve){const Me=ve.response?.data?.message||ve.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Me}),console.error("Error submitting form:",ve)}finally{A(!1)}},De=(qe,ve)=>{C(qe),S(ve),L(!1)},Fe=V.filter(qe=>qe.code.toLowerCase().includes(r.toLowerCase())||qe.description.toLowerCase().includes(r.toLowerCase())||qe.head.toLowerCase().includes(r.toLowerCase())),Ae=Math.ceil(Fe.length/m),ze=(x-1)*m,He=ze+m,Ve=Fe.slice(ze,He);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Group Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure work groups with designated group heads for effective team organization and time tracking management across different employee teams and units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Team organization tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Workforce grouping system"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[k("Add")&&k("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:be,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),k("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:qe=>a(qe.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:ne?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading groups..."})}):H?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:H})}):k("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),(k("Edit")||k("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Ve.map((qe,ve)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:qe.code}),e.jsx("td",{className:"px-4 py-2",children:qe.description}),e.jsx("td",{className:"px-4 py-2",children:qe.head}),(k("Edit")||k("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[k("Edit")&&e.jsx("button",{onClick:()=>je(qe,ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),k("Edit")&&k("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),k("Delete")&&e.jsx("button",{onClick:()=>ge(qe),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},ve))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),k("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Fe.length===0?0:ze+1," to"," ",Math.min(He,Fe.length)," of"," ",Fe.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(qe=>Math.max(qe-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ae},(qe,ve)=>ve+1).map(qe=>e.jsx("button",{onClick:()=>h(qe),className:`px-3 py-1 rounded transition-colors ${x===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>h(qe=>Math.min(qe+1,Ae)),disabled:x===Ae||Ae===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Group":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Group Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:qe=>xe(qe.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:qe=>g(qe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:qe=>C(qe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>L(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Se,disabled:T,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:T?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:T,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:M,onClose:()=>L(!1),onSelect:De,employees:q,loading:te,error:fe})]})]})}),e.jsx(Qt,{})]})}function $J(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(null),[j,S]=o.useState(!1),[P,D]=o.useState([]),[T,A]=o.useState(!1),[M,L]=o.useState(""),[q,B]=o.useState({}),te=k=>q[k]===!0;o.useEffect(()=>{oe()},[]);const oe=()=>{const k=localStorage.getItem("loginPayload");if(k)try{const ye=(JSON.parse(k).permissions||[]).filter(je=>ns(je.formName)==="JobLevelSetup"),be={};ye.forEach(je=>{const ge=ns(je.accessTypeName);ge&&(be[ge]=!0)}),B(be)}catch(O){console.error("Error parsing or decrypting payload",O)}};o.useEffect(()=>{fe()},[]);const fe=async()=>{A(!0),L("");try{const k=await ae.get("/Fs/Employment/JobLevelSetUp");if(k.status===200&&k.data){const O=k.data.map(he=>({id:he.jobLevelID||"",code:he.jobLevelCode||"",description:he.jobLevelDesc||""}));D(O)}}catch(k){const O=k.response?.data?.message||k.message||"Failed to load divisions";L(O),console.error("Error fetching divisions:",k)}finally{A(!1)}};o.useEffect(()=>{const k=O=>{O.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[t]);const R=()=>{l(!1),d(null),C(null),f(""),p(""),g(""),s(!0)},V=(k,O)=>{l(!0),d(O),C(k.id||null),f(k.code),p(""),g(k.description),s(!0)},W=async k=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete division ${k.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/DivisionSetUp/${k.divID}`),await Q.fire({icon:"success",title:"Success",text:"Division deleted successfully.",timer:2e3,showConfirmButton:!1}),await fe()}catch(he){const ye=he.response?.data?.message||he.message||"Failed to delete division";await Q.fire({icon:"error",title:"Error",text:ye}),console.error("Error deleting division:",he)}},ne=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(P.some((O,he)=>n&&i===he?!1:O.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}S(!0);try{const O={jobLevelID:n&&y?parseInt(y):0,jobLevelCode:b,jobLevelDesc:v};n&&y?(await ae.put(`/Fs/Employment/JobLevelSetUp/${y}`,O),await Q.fire({icon:"success",title:"Success",text:"Division updated successfully.",timer:2e3,showConfirmButton:!1}),await fe()):(await ae.post("/Fs/Employment/JobLevelSetUp",O),await Q.fire({icon:"success",title:"Success",text:"Division created successfully.",timer:2e3,showConfirmButton:!1}),await fe()),s(!1),f(""),p(""),g(""),C(null),l(!1),d(null)}catch(O){const he=O.response?.data?.message||O.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:he}),console.error("Error submitting form:",O)}finally{S(!1)}},J=P.filter(k=>k.code.toLowerCase().includes(r.toLowerCase())||k.description.toLowerCase().includes(r.toLowerCase())),H=Math.ceil(J.length/m),F=(x-1)*m,I=F+m,U=J.slice(F,I);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Job Level Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define job level classifications for organizational hierarchy management including staff levels, managerial positions, and executive roles for effective workforce structure."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Job level code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Position level description"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hierarchy classification system"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Organizational level tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[te("Add")&&te("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:R,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),te("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:k=>a(k.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:T?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading job levels..."})}):M?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:M})}):te("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(te("Edit")||te("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:U.map((k,O)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:k.code}),e.jsx("td",{className:"px-4 py-2",children:k.description}),(te("Edit")||te("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[te("Edit")&&e.jsx("button",{onClick:()=>V(k,O),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),(te("Edit")||te("Delete"))&&e.jsx("span",{className:"text-gray-300",children:"|"}),te("Delete")&&e.jsx("button",{onClick:()=>W(k.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},O))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),te("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",J.length===0?0:F+1," to"," ",Math.min(I,J.length)," of"," ",J.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(k=>Math.max(k-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:H},(k,O)=>O+1).map(k=>e.jsx("button",{onClick:()=>h(k),className:`px-3 py-1 rounded transition-colors ${x===k?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:k},k)),e.jsx("button",{onClick:()=>h(k=>Math.min(k+1,H)),disabled:x===H||H===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Job Level":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Job Level Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:k=>f(k.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:k=>g(k.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:ne,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Qt,{})]})}function zJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(null),[M,L]=o.useState(!1),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(""),[k,O]=o.useState(""),[he,ye]=o.useState([]),[be,je]=o.useState(!1),[ge,xe]=o.useState(""),[Se,De]=o.useState({}),Fe=Re=>Se[Re]===!0;o.useEffect(()=>{Ae()},[]);const Ae=()=>{const Re=localStorage.getItem("loginPayload");if(Re)try{const pt=(JSON.parse(Re).permissions||[]).filter(Bt=>ns(Bt.formName)==="LocationSetUp"),Ft={};pt.forEach(Bt=>{const Lt=ns(Bt.accessTypeName);Lt&&(Ft[Lt]=!0)}),De(Ft)}catch(me){console.error("Error parsing or decrypting payload",me)}};o.useEffect(()=>{ze()},[]);const ze=async()=>{je(!0),xe("");try{const Re=await ae.get("/Fs/Employment/LocationSetUp");if(Re.status===200&&Re.data){const me=Re.data.map(Ye=>({id:Ye.locID||"",code:Ye.locationCode||"",description:Ye.locationDesc||"",head:Ye.head||"",headCode:Ye.headCode||"",acctCode:Ye.acctCode||"",createdBy:Ye.createdBy||"",createdDate:Ye.createdDate||"",editedBy:Ye.editedBy||"",editedDate:Ye.editedDate||"",deviceName:Ye.deviceName||""}));ye(me)}}catch(Re){const me=Re.response?.data?.message||Re.message||"Failed to load locations";xe(me),console.error("Error fetching locations:",Re)}finally{je(!1)}};o.useEffect(()=>{He()},[]);const He=async()=>{J(!0),U("");try{const Re=await ae.get("/Maintenance/EmployeeMasterFile");if(Re.status===200&&Re.data){const me=Re.data.map(Ye=>({empCode:Ye.empCode||Ye.code||"",name:`${Ye.lName||""}, ${Ye.fName||""} ${Ye.mName||""}`.trim(),groupCode:Ye.grpCode||""}));R(me)}}catch(Re){const me=Re.response?.data?.message||Re.message||"Failed to load employees";U(me),console.error("Error fetching employees:",Re)}finally{J(!1)}};o.useEffect(()=>{Ve()},[]);const Ve=async()=>{F(!0),O("");try{const Re=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(Re.status===200&&Re.data){const me=Re.data.map(Ye=>({id:Ye.id||"",code:Ye.code||"",description:Ye.description||""}));W(me)}}catch(Re){const me=Re.response?.data?.message||Re.message||"Failed to load devices";O(me),console.error("Error fetching devices:",Re)}finally{F(!1)}};o.useEffect(()=>{const Re=me=>{me.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",Re),()=>{document.removeEventListener("keydown",Re)}},[t]);const qe=()=>{l(!1),d(null),A(null),f(""),p(""),g(""),C(""),S(""),D(""),s(!0)},ve=(Re,me)=>{l(!0),d(me),A(Re.id||null),f(Re.code),p(""),g(Re.description),C(Re.headCode),S(Re.head),D(Re.deviceName),s(!0)},Me=async Re=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete location ${Re.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/LocationSetUp/${Re.id}`),await Q.fire({icon:"success",title:"Success",text:"Location deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(Ye){const pt=Ye.response?.data?.message||Ye.message||"Failed to delete location";await Q.fire({icon:"error",title:"Error",text:pt}),console.error("Error deleting location:",Ye)}},Te=Re=>{f(Re),Re.length>10?p("Code maximum 10 characters"):p("")},Le=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(he.some((me,Ye)=>n&&i===Ye?!1:me.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const me=localStorage.getItem("userData"),Ye=me?JSON.parse(me):{},pt=Ye.userName||Ye.username||Ye.name||"Guest",Ft={id:n&&T?parseInt(T):0,locationCode:b,locationDesc:v,head:j,headCode:y,acctCode:"",deviceName:P,createdBy:n?null:pt,createdDate:n?null:new Date().toISOString(),editedBy:n?pt:null,editedDate:n?new Date().toISOString():null};n&&T?(await ae.put(`/Fs/Employment/LocationSetUp/${T}`,Ft),await Q.fire({icon:"success",title:"Success",text:"Location updated successfully.",timer:2e3,showConfirmButton:!1})):(await ae.post("/Fs/Employment/LocationSetUp",Ft),await Q.fire({icon:"success",title:"Success",text:"Location created successfully.",timer:2e3,showConfirmButton:!1})),await ze(),s(!1),ot()}catch(me){const Ye=me.response?.data?.message||me.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Ye}),console.error("Error submitting form:",me)}finally{L(!1)}},ot=()=>{f(""),p(""),g(""),C(""),S(""),D(""),A(null),l(!1),d(null)},Je=(Re,me)=>{C(Re),S(me),B(!1)},Ge=(Re,me)=>{D(me),oe(!1)},et=he.filter(Re=>Re.code.toLowerCase().includes(r.toLowerCase())||Re.description.toLowerCase().includes(r.toLowerCase())||Re.head.toLowerCase().includes(r.toLowerCase())||Re.deviceName.toLowerCase().includes(r.toLowerCase())),yt=Math.ceil(et.length/m),mt=(x-1)*m,jt=mt+m,we=et.slice(mt,jt);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Location Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure location designations with assigned heads and device names for effective geographical workforce tracking and time management across different office sites and branches."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Geographic site tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Fe("Add")&&Fe("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:qe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),Fe("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:Re=>a(Re.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:be?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading locations..."})}):ge?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:ge})}):Fe("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(Fe("Edit")||Fe("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:we.map((Re,me)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Re.code}),e.jsx("td",{className:"px-4 py-2",children:Re.description}),e.jsx("td",{className:"px-4 py-2",children:Re.head}),e.jsx("td",{className:"px-4 py-2",children:Re.deviceName}),(Fe("Edit")||Fe("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Fe("Edit")&&e.jsx("button",{onClick:()=>ve(Re,me),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),Fe("Edit")&&Fe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Fe("Delete")&&e.jsx("button",{onClick:()=>Me(Re),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},me))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Fe("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",et.length===0?0:mt+1," ","to ",Math.min(jt,et.length)," of"," ",et.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Re=>Math.max(Re-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:yt},(Re,me)=>me+1).map(Re=>e.jsx("button",{onClick:()=>h(Re),className:`px-3 py-1 rounded transition-colors ${x===Re?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Re},Re)),e.jsx("button",{onClick:()=>h(Re=>Math.min(Re+1,yt)),disabled:x===yt||yt===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Location":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Location Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:Re=>Te(Re.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Re=>g(Re.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:Re=>C(Re.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:Re=>D(Re.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Le,disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:M?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:M,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:q,onClose:()=>B(!1),onSelect:Je,employees:fe,loading:ne,error:I}),e.jsx(Xl,{isOpen:te,onClose:()=>oe(!1),onSelect:Ge,devices:V,loading:H,error:k})]})]})}),e.jsx(Qt,{})]})}function VJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(""),[M,L]=o.useState(null),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState(!1),[k,O]=o.useState(""),[he,ye]=o.useState(""),[be,je]=o.useState({}),ge=me=>be[me]===!0;o.useEffect(()=>{xe()},[]);const xe=()=>{const me=localStorage.getItem("loginPayload");if(me)try{const Ft=(JSON.parse(me).permissions||[]).filter(Lt=>ns(Lt.formName)==="LineSetUp"),Bt={};Ft.forEach(Lt=>{const Qe=ns(Lt.accessTypeName);Qe&&(Bt[Qe]=!0)}),je(Bt)}catch(Ye){console.error("Error parsing or decrypting payload",Ye)}},[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState("");o.useEffect(()=>{Ve()},[]);const Ve=async()=>{Ae(!0),He("");try{const me=await ae.get("/Fs/Employment/PayHouseSetUp");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({id:pt.lineID||"",code:pt.lineCode||"",description:pt.lineDesc||"",head:pt.head||"",headCode:pt.headCode||"",position:pt.position||"",deviceName:pt.deviceName||""}));De(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load pay houses";He(Ye),console.error("Error fetching pay houses:",me)}finally{Ae(!1)}};o.useEffect(()=>{qe()},[]);const qe=async()=>{F(!0),O("");try{const me=await ae.get("/Maintenance/EmployeeMasterFile");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({empCode:pt.empCode||pt.code||"",name:`${pt.lName||""}, ${pt.fName||""} ${pt.mName||""}`.trim(),groupCode:pt.grpCode||""}));W(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load employees";O(Ye),console.error("Error fetching employees:",me)}finally{F(!1)}};o.useEffect(()=>{ve()},[]);const ve=async()=>{U(!0),ye("");try{const me=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({id:pt.id||"",code:pt.code||"",description:pt.description||""}));J(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load devices";ye(Ye),console.error("Error fetching devices:",me)}finally{U(!1)}};o.useEffect(()=>{const me=Ye=>{Ye.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[t]);const Me=()=>{l(!1),d(null),L(null),f(""),p(""),g(""),C(""),S(""),D(""),A(""),s(!0)},Te=(me,Ye)=>{l(!0),d(Ye),L(me.id||null),f(me.code),p(""),g(me.description),C(me.headCode),S(me.head),D(me.position),A(me.deviceName),s(!0)},Le=async me=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete pay house ${me.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/PayHouseSetUp/${me.id}`),await Q.fire({icon:"success",title:"Success",text:"Pay house deleted successfully.",timer:2e3,showConfirmButton:!1}),await Ve()}catch(pt){const Ft=pt.response?.data?.message||pt.message||"Failed to delete pay house";await Q.fire({icon:"error",title:"Error",text:Ft}),console.error("Error deleting pay house:",pt)}},ot=me=>{f(me),me.length>10?p("Code maximum 10 characters"):p("")},Je=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(Se.some((Ye,pt)=>n&&i===pt?!1:Ye.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}B(!0);try{const Ye={lineID:n&&M?parseInt(M):0,lineCode:b,lineDesc:v,head:j,headCode:y,position:P,deviceName:T};n&&M?(await ae.put(`/Fs/Employment/PayHouseSetUp/${M}`,Ye),await Q.fire({icon:"success",title:"Success",text:"Pay house updated successfully.",timer:2e3,showConfirmButton:!1}),await Ve()):(await ae.post("/Fs/Employment/PayHouseSetUp",Ye),await Q.fire({icon:"success",title:"Success",text:"Pay house created successfully.",timer:2e3,showConfirmButton:!1}),await Ve()),s(!1),f(""),p(""),g(""),C(""),S(""),D(""),A(""),L(null),l(!1),d(null)}catch(Ye){const pt=Ye.response?.data?.message||Ye.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:pt}),console.error("Error submitting form:",Ye)}finally{B(!1)}},Ge=(me,Ye)=>{C(me),S(Ye),oe(!1)},et=(me,Ye)=>{A(Ye),R(!1)},yt=Se.filter(me=>me.code.toLowerCase().includes(r.toLowerCase())||me.description.toLowerCase().includes(r.toLowerCase())||me.head.toLowerCase().includes(r.toLowerCase())||me.position.toLowerCase().includes(r.toLowerCase())||me.deviceName.toLowerCase().includes(r.toLowerCase())),mt=Math.ceil(yt.length/m),jt=(x-1)*m,we=jt+m,Re=yt.slice(jt,we);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Pay House Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage pay house classifications with assigned heads and device configurations for effective payroll processing and timekeeping management across different payment groups and locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pay house code and description"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pay house head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll group organization"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ge("Add")&&ge("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Me,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),ge("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:me=>a(me.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Fe?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading pay houses..."})}):ze?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:ze})}):ge("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Position"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(ge("Edit")||ge("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Re.map((me,Ye)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:me.code}),e.jsx("td",{className:"px-4 py-2",children:me.description}),e.jsx("td",{className:"px-4 py-2",children:me.head}),e.jsx("td",{className:"px-4 py-2",children:me.position}),e.jsx("td",{className:"px-4 py-2",children:me.deviceName}),(ge("Edit")||ge("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[ge("Edit")&&e.jsx("button",{onClick:()=>Te(me,Ye),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),ge("Edit")&&ge("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ge("Delete")&&e.jsx("button",{onClick:()=>Le(me),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ye))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ge("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",yt.length===0?0:jt+1," ","to ",Math.min(we,yt.length)," of"," ",yt.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(me=>Math.max(me-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:mt},(me,Ye)=>Ye+1).map(me=>e.jsx("button",{onClick:()=>h(me),className:`px-3 py-1 rounded transition-colors ${x===me?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:me},me)),e.jsx("button",{onClick:()=>h(me=>Math.min(me+1,mt)),disabled:x===mt||mt===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Pay House":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Pay House Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:me=>ot(me.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:me=>g(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:me=>C(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Position :"}),e.jsx("input",{type:"text",value:P,onChange:me=>D(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:T,onChange:me=>A(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>R(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Je,disabled:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:q?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:q,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:te,onClose:()=>oe(!1),onSelect:Ge,employees:V,loading:H,error:k}),e.jsx(Xl,{isOpen:fe,onClose:()=>R(!1),onSelect:et,devices:ne,loading:I,error:he})]})]})}),e.jsx(Qt,{})]})}function YJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(null),[M,L]=o.useState(!1),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(""),[k,O]=o.useState(""),[he,ye]=o.useState({}),be=we=>he[we]===!0;o.useEffect(()=>{je()},[]);const je=()=>{const we=localStorage.getItem("loginPayload");if(we)try{const Ye=(JSON.parse(we).permissions||[]).filter(Ft=>ns(Ft.formName)==="OnlineApprovalSetup"),pt={};Ye.forEach(Ft=>{const Bt=ns(Ft.accessTypeName);Bt&&(pt[Bt]=!0)}),ye(pt)}catch(Re){console.error("Error parsing or decrypting payload",Re)}},[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState("");o.useEffect(()=>{ze()},[]);const ze=async()=>{De(!0),Ae("");try{const we=await ae.get("/Fs/Employment/OnlineApprovalSetUp");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.id||"",code:me.onlineAppCode||"",description:me.onlineAppDesc||"",head:me.onlineAppMngr||"",headCode:me.onlineAppMngr||"",deviceName:me.deviceName||"",createdBy:me.createdBy||"",createdDate:me.createdDate||"",editedBy:me.editedBy||"",editedDate:me.editedDate||""}));xe(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load online approvals";Ae(Re),console.error("Error fetching online approvals:",we)}finally{De(!1)}};o.useEffect(()=>{He()},[]);const He=async()=>{J(!0),U("");try{const we=await ae.get("/Maintenance/EmployeeMasterFile");if(we.status===200&&we.data){const Re=we.data.map(me=>({empCode:me.empCode||me.code||"",name:`${me.lName||""}, ${me.fName||""} ${me.mName||""}`.trim(),groupCode:me.grpCode||""}));R(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load employees";U(Re),console.error("Error fetching employees:",we)}finally{J(!1)}};o.useEffect(()=>{Ve()},[]);const Ve=async()=>{F(!0),O("");try{const we=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.id||"",code:me.code||"",description:me.description||""}));W(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load devices";O(Re),console.error("Error fetching devices:",we)}finally{F(!1)}};o.useEffect(()=>{const we=Re=>{Re.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",we),()=>{document.removeEventListener("keydown",we)}},[t]);const qe=()=>{l(!1),d(null),A(null),f(""),p(""),g(""),C(""),S(""),D(""),s(!0)},ve=(we,Re)=>{l(!0),d(Re),A(we.id||null),f(we.code),p(""),g(we.description),C(we.headCode),S(we.head),D(we.deviceName),s(!0)},Me=async we=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete online approval ${we.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/OnlineApprovalSetUp/${we.id}`),await Q.fire({icon:"success",title:"Success",text:"Online approval deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to delete online approval";await Q.fire({icon:"error",title:"Error",text:Ye}),console.error("Error deleting online approval:",me)}},Te=we=>{f(we),we.length>10?p("Code maximum 10 characters"):p("")},Le=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ge.some((Re,me)=>n&&i===me?!1:Re.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const Re=localStorage.getItem("userData"),me=Re?JSON.parse(Re):{},Ye=me.userName||me.username||me.name||"Guest",pt={id:n&&T?parseInt(T):0,onlineAppCode:b,onlineAppDesc:v,onlineAppMngr:y,createdBy:n?null:Ye,createdDate:n?null:new Date().toISOString(),editedBy:n?Ye:null,editedDate:n?new Date().toISOString():null,deviceName:P};n&&T?(await ae.put(`/Fs/Employment/OnlineApprovalSetUp/${T}`,pt),await Q.fire({icon:"success",title:"Success",text:"Online approval updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ae.post("/Fs/Employment/OnlineApprovalSetUp",pt),await Q.fire({icon:"success",title:"Success",text:"Online approval created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),g(""),C(""),S(""),D(""),A(null),l(!1),d(null)}catch(Re){const me=Re.response?.data?.message||Re.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:me}),console.error("Error submitting form:",Re)}finally{L(!1)}},ot=(we,Re)=>{C(we),S(Re),B(!1)},Je=(we,Re)=>{D(Re),oe(!1)},Ge=ge.filter(we=>we.code.toLowerCase().includes(r.toLowerCase())||we.description.toLowerCase().includes(r.toLowerCase())||we.head.toLowerCase().includes(r.toLowerCase())||we.deviceName.toLowerCase().includes(r.toLowerCase())),et=Math.ceil(Ge.length/m),yt=(x-1)*m,mt=yt+m,jt=Ge.slice(yt,mt);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Online Approval Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure online approval settings with designated approvers and device configurations for streamlined digital approval workflows and time record authorization management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Online approval code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Approver assignment and tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Digital workflow authorization"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[be("Add")&&be("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:qe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:we=>a(we.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Se?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading online approvals..."})}):Fe?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Fe})}):be("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(be("Edit")||be("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:jt.map((we,Re)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:we.code}),e.jsx("td",{className:"px-4 py-2",children:we.description}),e.jsx("td",{className:"px-4 py-2",children:we.head}),e.jsx("td",{className:"px-4 py-2",children:we.deviceName}),(be("Edit")||be("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[be("Edit")&&e.jsx("button",{onClick:()=>ve(we,Re),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),be("Edit")&&be("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),be("Delete")&&e.jsx("button",{onClick:()=>Me(we),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Re))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),be("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ge.length===0?0:yt+1," ","to ",Math.min(mt,Ge.length)," of"," ",Ge.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(we=>Math.max(we-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:et},(we,Re)=>Re+1).map(we=>e.jsx("button",{onClick:()=>h(we),className:`px-3 py-1 rounded transition-colors ${x===we?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:we},we)),e.jsx("button",{onClick:()=>h(we=>Math.min(we+1,et)),disabled:x===et||et===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Online Approval":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Online Approval Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:we=>Te(we.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:we=>g(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:y,onChange:we=>C(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Name :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:we=>D(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Le,disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:M?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:M,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:q,onClose:()=>B(!1),onSelect:ot,employees:fe,loading:ne,error:I}),e.jsx(Xl,{isOpen:te,onClose:()=>oe(!1),onSelect:Je,devices:V,loading:H,error:k})]})]})}),e.jsx(Qt,{})]})}function KJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(null),[M,L]=o.useState(!1),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState([]),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(""),[k,O]=o.useState(""),[he,ye]=o.useState({}),be=we=>he[we]===!0;o.useEffect(()=>{je()},[]);const je=()=>{const we=localStorage.getItem("loginPayload");if(we)try{const Ye=(JSON.parse(we).permissions||[]).filter(Ft=>ns(Ft.formName)==="SectionSetUp"),pt={};Ye.forEach(Ft=>{const Bt=ns(Ft.accessTypeName);Bt&&(pt[Bt]=!0)}),ye(pt)}catch(Re){console.error("Error parsing or decrypting payload",Re)}},[ge,xe]=o.useState([]),[Se,De]=o.useState(!1),[Fe,Ae]=o.useState("");o.useEffect(()=>{ze()},[]);const ze=async()=>{De(!0),Ae("");try{const we=await ae.get("/Fs/Employment/SectionSetUp");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.secID||me.id||"",code:me.secCode||me.code||"",description:me.secDesc||me.description||"",head:me.secHead||me.head||"",headCode:me.secHeadCode||me.headCode||"",deviceName:me.deviceName||""}));xe(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load sections";Ae(Re),console.error("Error fetching sections:",we)}finally{De(!1)}};o.useEffect(()=>{He()},[]);const He=async()=>{J(!0),U("");try{const we=await ae.get("/Maintenance/EmployeeMasterFile");if(we.status===200&&we.data){const Re=we.data.map(me=>({empCode:me.empCode||me.code||"",name:`${me.lName||""}, ${me.fName||""} ${me.mName||""}`.trim(),groupCode:me.grpCode||""}));R(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load employees";U(Re),console.error("Error fetching employees:",we)}finally{J(!1)}};o.useEffect(()=>{Ve()},[]);const Ve=async()=>{F(!0),O("");try{const we=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(we.status===200&&we.data){const Re=we.data.map(me=>({id:me.id||"",code:me.code||"",description:me.description||""}));W(Re)}}catch(we){const Re=we.response?.data?.message||we.message||"Failed to load devices";O(Re),console.error("Error fetching devices:",we)}finally{F(!1)}};o.useEffect(()=>{const we=Re=>{Re.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",we),()=>{document.removeEventListener("keydown",we)}},[t]);const qe=()=>{l(!1),d(null),A(null),f(""),p(""),g(""),C(""),S(""),D(""),s(!0)},ve=(we,Re)=>{l(!0),d(Re),A(we.id||null),f(we.code),p(""),g(we.description),C(we.headCode),S(we.head),D(we.deviceName),s(!0)},Me=async we=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete section ${we.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/SectionSetUp/${we.id}`),await Q.fire({icon:"success",title:"Success",text:"Section deleted successfully.",timer:2e3,showConfirmButton:!1}),await ze()}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to delete section";await Q.fire({icon:"error",title:"Error",text:Ye}),console.error("Error deleting section:",me)}},Te=we=>{f(we),we.length>10?p("Code maximum 10 characters"):p("")},Le=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ge.some((Re,me)=>n&&i===me?!1:Re.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const Re={secID:n&&T?parseInt(T):0,secCode:b,depCode:"",secDesc:v,secHead:j,secHeadCode:y,deviceName:P};n&&T?(await ae.put(`/Fs/Employment/SectionSetUp/${T}`,Re),await Q.fire({icon:"success",title:"Success",text:"Section updated successfully.",timer:2e3,showConfirmButton:!1}),await ze()):(await ae.post("/Fs/Employment/SectionSetUp",Re),await Q.fire({icon:"success",title:"Success",text:"Section created successfully.",timer:2e3,showConfirmButton:!1}),await ze()),s(!1),f(""),p(""),g(""),C(""),S(""),D(""),A(null),l(!1),d(null)}catch(Re){const me=Re.response?.data?.message||Re.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:me}),console.error("Error submitting form:",Re)}finally{L(!1)}},ot=(we,Re)=>{C(we),S(Re),B(!1)},Je=(we,Re)=>{D(Re),oe(!1)},Ge=ge.filter(we=>we.code.toLowerCase().includes(r.toLowerCase())||we.description.toLowerCase().includes(r.toLowerCase())||we.head.toLowerCase().includes(r.toLowerCase())||we.deviceName.toLowerCase().includes(r.toLowerCase())),et=Math.ceil(Ge.length/m),yt=(x-1)*m,mt=yt+m,jt=Ge.slice(yt,mt);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Section Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational sections with designated heads and device assignments for comprehensive departmental structure management and employee categorization across the company."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Section code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Section head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Organizational structure tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[be("Add")&&be("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:qe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:we=>a(we.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Se?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading sections..."})}):Fe?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Fe})}):be("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(be("Edit")||be("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:jt.map((we,Re)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:we.code}),e.jsx("td",{className:"px-4 py-2",children:we.description}),e.jsx("td",{className:"px-4 py-2",children:we.head}),e.jsx("td",{className:"px-4 py-2",children:we.deviceName}),(be("Edit")||be("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[be("Edit")&&e.jsx("button",{onClick:()=>ve(we,Re),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),be("Edit")&&be("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),be("Delete")&&e.jsx("button",{onClick:()=>Me(we),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Re))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),be("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ge.length===0?0:yt+1," ","to ",Math.min(mt,Ge.length)," of"," ",Ge.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(we=>Math.max(we-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:et},(we,Re)=>Re+1).map(we=>e.jsx("button",{onClick:()=>h(we),className:`px-3 py-1 rounded transition-colors ${x===we?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:we},we)),e.jsx("button",{onClick:()=>h(we=>Math.min(we+1,et)),disabled:x===et||et===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Section":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Section Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:we=>Te(we.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:we=>g(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:we=>C(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>B(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:P,onChange:we=>D(we.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>D(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Le,disabled:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:M?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:M,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:q,onClose:()=>B(!1),onSelect:ot,employees:fe,loading:ne,error:I}),e.jsx(Xl,{isOpen:te,onClose:()=>oe(!1),onSelect:Je,devices:V,loading:H,error:k})]})]})}),e.jsx(Qt,{})]})}function qJ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=100,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(""),[T,A]=o.useState(""),[M,L]=o.useState(null),[q,B]=o.useState(!1),[te,oe]=o.useState(!1),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState(!1),[k,O]=o.useState(""),[he,ye]=o.useState(""),[be,je]=o.useState({}),ge=me=>be[me]===!0;o.useEffect(()=>{xe()},[]);const xe=()=>{const me=localStorage.getItem("loginPayload");if(me)try{const Ft=(JSON.parse(me).permissions||[]).filter(Lt=>ns(Lt.formName)==="UnitSetUp"),Bt={};Ft.forEach(Lt=>{const Qe=ns(Lt.accessTypeName);Qe&&(Bt[Qe]=!0)}),je(Bt)}catch(Ye){console.error("Error parsing or decrypting payload",Ye)}},[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState("");o.useEffect(()=>{Ve()},[]);const Ve=async()=>{Ae(!0),He("");try{const me=await ae.get("/Fs/Employment/UnitSetUp");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({id:pt.unitID||"",code:pt.unitCode||"",description:pt.unitDesc||"",head:pt.head||"",position:pt.position||"",deviceName:pt.deviceName||""}));De(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load units";He(Ye),console.error("Error fetching units:",me)}finally{Ae(!1)}};o.useEffect(()=>{qe()},[]);const qe=async()=>{F(!0),O("");try{const me=await ae.get("/Maintenance/EmployeeMasterFile");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({empCode:pt.empCode||pt.code||"",name:`${pt.lName||""}, ${pt.fName||""} ${pt.mName||""}`.trim(),groupCode:pt.grpCode||""}));W(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load employees";O(Ye),console.error("Error fetching employees:",me)}finally{F(!1)}};o.useEffect(()=>{ve()},[]);const ve=async()=>{U(!0),ye("");try{const me=await ae.get("/Fs/Process/Device/BorrowedDeviceName");if(me.status===200&&me.data){const Ye=me.data.map(pt=>({id:pt.id||"",code:pt.code||"",description:pt.description||""}));J(Ye)}}catch(me){const Ye=me.response?.data?.message||me.message||"Failed to load devices";ye(Ye),console.error("Error fetching devices:",me)}finally{U(!1)}};o.useEffect(()=>{const me=Ye=>{Ye.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[t]);const Me=()=>{l(!1),d(null),L(null),f(""),p(""),g(""),C(""),S(""),D(""),A(""),s(!0)},Te=(me,Ye)=>{console.log("Editing unit:",me),l(!0),d(Ye),L(me.id||null),f(me.code),p(""),g(me.description);let pt=me.headCode||"";if(!pt&&me.head){const Ft=V.find(Bt=>Bt.name===me.head);Ft&&(console.log("Found employee for head:",Ft),pt=Ft.empCode,console.log("Set headCode to:",Ft.empCode))}C(pt),console.log("Final headCode value:",pt),S(me.head||""),D(me.position||""),A(me.deviceName||""),s(!0)},Le=async me=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete unit ${me.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Employment/UnitSetUp/${me.id}`),await Q.fire({icon:"success",title:"Success",text:"Unit deleted successfully.",timer:2e3,showConfirmButton:!1}),await Ve()}catch(pt){const Ft=pt.response?.data?.message||pt.message||"Failed to delete unit";await Q.fire({icon:"error",title:"Error",text:Ft}),console.error("Error deleting unit:",pt)}},ot=me=>{f(me),me.length>10?p("Code maximum 10 characters"):p("")},Je=async()=>{if(!b.trim()||b.length>10){await Q.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(Se.some((Ye,pt)=>n&&i===pt?!1:Ye.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}B(!0);try{const Ye={unitID:n&&M?parseInt(M):0,unitCode:b,unitDesc:v,head:j,headCode:y,position:P,deviceName:T};n&&M?(await ae.put(`/Fs/Employment/UnitSetUp/${M}`,Ye),await Q.fire({icon:"success",title:"Success",text:"Unit updated successfully.",timer:2e3,showConfirmButton:!1}),await Ve()):(await ae.post("/Fs/Employment/UnitSetUp",Ye),await Q.fire({icon:"success",title:"Success",text:"Unit created successfully.",timer:2e3,showConfirmButton:!1}),await Ve()),s(!1),f(""),p(""),g(""),C(""),S(""),D(""),A(""),L(null),l(!1),d(null)}catch(Ye){const pt=Ye.response?.data?.message||Ye.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:pt}),console.error("Error submitting form:",Ye)}finally{B(!1)}},Ge=(me,Ye)=>{C(me),S(Ye),oe(!1)},et=(me,Ye)=>{A(Ye),R(!1)},yt=Se.filter(me=>me.code.toLowerCase().includes(r.toLowerCase())||me.description.toLowerCase().includes(r.toLowerCase())||me.head.toLowerCase().includes(r.toLowerCase())||me.position.toLowerCase().includes(r.toLowerCase())||me.deviceName.toLowerCase().includes(r.toLowerCase())),mt=Math.ceil(yt.length/m),jt=(x-1)*m,we=jt+m,Re=yt.slice(jt,we);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unit Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational units with designated heads and device configurations for streamlined unit management and employee grouping within departments and divisions."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Unit code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Unit head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work unit organization tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[(ge("Add")||ge("View"))&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Me,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),ge("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:me=>a(me.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Fe?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading units..."})}):ze?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:ze})}):ge("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Position"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(ge("Edit")||ge("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Re.map((me,Ye)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:me.code}),e.jsx("td",{className:"px-4 py-2",children:me.description}),e.jsx("td",{className:"px-4 py-2",children:me.head}),e.jsx("td",{className:"px-4 py-2",children:me.position}),e.jsx("td",{className:"px-4 py-2",children:me.deviceName}),(ge("Edit")||ge("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[ge("Edit")&&e.jsx("button",{onClick:()=>Te(me,Ye),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),ge("Edit")&&ge("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ge("Delete")&&e.jsx("button",{onClick:()=>Le(me),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ye))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ge("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",yt.length===0?0:jt+1," to ",Math.min(we,yt.length)," of ",yt.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(me=>Math.max(me-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:mt},(me,Ye)=>Ye+1).map(me=>e.jsx("button",{onClick:()=>h(me),className:`px-3 py-1 rounded transition-colors ${x===me?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:me},me)),e.jsx("button",{onClick:()=>h(me=>Math.min(me+1,mt)),disabled:x===mt||mt===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Unit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Unit Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:me=>ot(me.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${N?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),N&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:N}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:me=>g(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:me=>C(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{C(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:j,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Position :"}),e.jsx("input",{type:"text",value:P,onChange:me=>D(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:T,onChange:me=>A(me.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>R(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Je,disabled:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:q?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:q,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:te,onClose:()=>oe(!1),onSelect:Ge,employees:V,loading:H,error:k}),e.jsx(Xl,{isOpen:fe,onClose:()=>R(!1),onSelect:et,devices:ne,loading:I,error:he})]})]})}),e.jsx(Qt,{})]})}function XJ(){const[t,s]=o.useState("128PC-92\\SQL2022"),[r,a]=o.useState(""),[n,l]=o.useState(!0),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState("results"),[g,y]=o.useState(""),[C,j]=o.useState(!1),S=()=>{if(!r||!m||!f){alert("Please fill in all required fields");return}j(!0),v("results"),y(`Creating database...
Initializing tables...
Setting up company information...
Database created successfully!`),setTimeout(()=>{j(!1)},2e3)};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Create New Database"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(gp,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create a new database for a company with all required tables, stored procedures, and initial configurations. This process will set up the complete timekeeping system structure."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Initialize database schema and tables"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set up stored procedures and functions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure company information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"SQL Server Authentication support"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Database Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Server Name"}),e.jsxs("select",{value:t,onChange:P=>s(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"128PC-87\\SQL2022",children:"128PC-87\\SQL2022"}),e.jsx("option",{value:"localhost",children:"localhost"}),e.jsx("option",{value:".\\SQLEXPRESS",children:".\\SQLEXPRESS"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Database Name"}),e.jsx("input",{type:"text",value:r,onChange:P=>a(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter database name"})]}),e.jsxs("div",{className:"bg-white rounded border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-gray-700 text-sm mb-3",children:"Authentication"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",checked:n,onChange:()=>l(!0),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Use SQL Server Authentication"})]}),n&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Username"}),e.jsx("input",{type:"text",value:i,onChange:P=>d(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Password"}),e.jsx("input",{type:"password",value:x,onChange:P=>h(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter password"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-gray-700 text-sm mb-3",children:"Company Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Code"}),e.jsx("input",{type:"text",value:m,onChange:P=>b(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter company code"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Name"}),e.jsx("input",{type:"text",value:f,onChange:P=>N(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter company name"})]})]})]}),e.jsx("div",{className:"flex justify-center pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:S,disabled:C,className:"px-8 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(gp,{className:"w-4 h-4"}),C?"Creating...":"Create"]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>v("results"),className:`px-4 py-2 text-sm transition-colors ${p==="results"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Results"}),e.jsx("button",{onClick:()=>v("scripts"),className:`px-4 py-2 text-sm transition-colors ${p==="scripts"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Scripts"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 h-[500px] overflow-auto",children:[p==="results"&&e.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:g||'No results yet. Click "Create" to initialize the database.'}),p==="scripts"&&e.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:`-- Database Creation Script
CREATE DATABASE [${r||"DatabaseName"}]
GO

USE [${r||"DatabaseName"}]
GO

-- Create Company Table
CREATE TABLE Company (
  CompanyCode VARCHAR(10) PRIMARY KEY,
  CompanyName VARCHAR(100) NOT NULL
)
GO

-- Create Employee Table
CREATE TABLE Employee (
  EmployeeID INT PRIMARY KEY IDENTITY(1,1),
  EmployeeCode VARCHAR(20) NOT NULL,
  FirstName VARCHAR(50),
  LastName VARCHAR(50),
  CompanyCode VARCHAR(10)
)
GO`})]})]})]})]})]})})})}function JJ(){const[t,s]=o.useState(!1),[r,a]=o.useState("perlita.manalo@128techconsultinginc.com"),[n,l]=o.useState("mail.128techconsultinginc.com"),[i,d]=o.useState("Others"),[x,h]=o.useState("587"),[m,b]=o.useState(""),[f,N]=o.useState("None"),[p,v]=o.useState(""),[g,y]=o.useState(""),[C,j]=o.useState(!1),[S,P]=o.useState(""),D=()=>{s(!1),alert("Email configuration saved successfully!")},T=()=>{j(!0),P(""),setTimeout(()=>{P(" Email test successful! Test email sent to configured address."),j(!1)},2e3)};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Email Configuration"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(gC,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure email server settings to enable system notifications, alerts, and automated reports. Set up SMTP server details and test connectivity."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure SMTP server settings"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Support for SSL/TLS encryption"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Test email configuration instantly"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Secure authentication support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("button",{onClick:()=>s(!t),className:"px-6 py-2.5 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:T,disabled:C,className:"px-6 py-2.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(yC,{className:"w-4 h-4"}),C?"Testing...":"Test Email Configuration"]})]}),S&&e.jsx("div",{className:"mb-6 bg-green-50 border-l-4 border-green-500 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-green-700",children:S})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"EmailSender"})}),t?e.jsx("input",{type:"email",value:r,onChange:A=>a(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:r})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"SmtpServer"})}),t?e.jsx("input",{type:"text",value:n,onChange:A=>l(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:n})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"SendOption"})}),t?e.jsxs("select",{value:i,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"Others",children:"Others"}),e.jsx("option",{value:"Gmail",children:"Gmail"}),e.jsx("option",{value:"Outlook",children:"Outlook"}),e.jsx("option",{value:"Yahoo",children:"Yahoo"})]}):e.jsx("p",{className:"text-gray-600",children:i})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"Port"})}),t?e.jsx("input",{type:"text",value:x,onChange:A=>h(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:x})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"TargetName"})}),t?e.jsx("input",{type:"text",value:m,onChange:A=>b(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Optional"}):e.jsx("p",{className:"text-gray-600",children:m||"(empty)"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"EncryptionConnection"})}),t?e.jsxs("select",{value:f,onChange:A=>N(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"SSL",children:"SSL"}),e.jsx("option",{value:"TLS",children:"TLS"}),e.jsx("option",{value:"STARTTLS",children:"STARTTLS"})]}):e.jsx("p",{className:"text-gray-600",children:f})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"Username"})}),e.jsx("input",{type:"text",value:p,onChange:A=>v(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"SMTP username (optional)"})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:e.jsx("span",{className:"text-gray-900",children:"Password"})}),e.jsx("input",{type:"password",value:g,onChange:A=>y(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"SMTP password (optional)"})]})]})]}),t&&e.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[e.jsxs("button",{onClick:D,className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),"Save Configuration"]}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Cancel"})]})]})]})})})}function QJ({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function ZJ({value:t,onChange:s,onClose:r,position:a}){const n=o.useRef(null),[l,i]=o.useState("10"),[d,x]=o.useState("00"),[h,m]=o.useState("00");o.useEffect(()=>{const f=N=>{n.current&&!n.current.contains(N.target)&&r()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const b=()=>{const f=`${l.padStart(2,"0")}:${d.padStart(2,"0")}:${h.padStart(2,"0")}`;s(f),r()};return e.jsxs("div",{ref:n,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"200px"},children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"Time"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",max:"23",value:l,onChange:f=>i(f.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"HH"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",value:d,onChange:f=>x(f.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"MM"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",value:h,onChange:f=>m(f.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"SS"})]})]}),e.jsx("button",{onClick:b,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"OK"})]})}function eQ(){const[t,s]=o.useState("12/26/2025"),[r,a]=o.useState("10:00:00"),[n,l]=o.useState("12/26/2025"),[i,d]=o.useState("10:00:00"),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState("date"),[g,y]=o.useState("desc"),[C,j]=o.useState(null),[S,P]=o.useState(null),[D,T]=o.useState({top:0,left:0}),[A,M]=o.useState({top:0,left:0}),L=[{id:1,date:"12/26/2025 10:30:15",user:"admin",pcName:"WORKSTATION-01",formName:"EmployeeForm",accessType:"Edit",activity:"Update Record",message:"Updated employee #12345 information"},{id:2,date:"12/26/2025 10:25:42",user:"jdoe",pcName:"WORKSTATION-02",formName:"AttendanceForm",accessType:"View",activity:"View Record",message:"Viewed attendance logs for 12/26/2025"},{id:3,date:"12/26/2025 10:20:33",user:"admin",pcName:"WORKSTATION-01",formName:"PayrollForm",accessType:"Create",activity:"Create Record",message:"Created new payroll batch #2025-12"}],[q,B]=o.useState(L),te=()=>{let V=L;x&&(V=V.filter(W=>W.formName.toLowerCase().includes(x.toLowerCase()))),m&&(V=V.filter(W=>W.activity.toLowerCase().includes(m.toLowerCase()))),f&&(V=V.filter(W=>W.user.toLowerCase().includes(f.toLowerCase()))),B(V)},oe=()=>{s("12/26/2025"),a("10:00:00"),l("12/26/2025"),d("10:00:00"),h(""),b(""),N(""),B(L)},fe=V=>{p===V?y(g==="asc"?"desc":"asc"):(v(V),y("asc"))},R=({field:V})=>p!==V?e.jsxs("div",{className:"ml-1 flex flex-col",children:[e.jsx(D0,{className:"w-3 h-3 text-gray-400"}),e.jsx(lc,{className:"w-3 h-3 text-gray-400 -mt-1"})]}):g==="asc"?e.jsx(D0,{className:"w-4 h-4 ml-1"}):e.jsx(lc,{className:"w-4 h-4 ml-1"});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Audit Trail"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(vi,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Monitor and review all system activities including user logins, form access, data modifications, and administrative actions. Filter by date range, user, form, or activity type."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Track all user activities and access logs"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by date range, user, or activity type"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Monitor data modifications and changes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export audit reports for compliance"})]})]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:V=>s(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:V=>{const W=V.currentTarget.getBoundingClientRect();T({top:W.bottom,left:W.left}),j("dateFrom")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Time From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r,onChange:V=>a(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:V=>{const W=V.currentTarget.getBoundingClientRect();M({top:W.bottom,left:W.left}),P("timeFrom")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(fr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:V=>l(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:V=>{const W=V.currentTarget.getBoundingClientRect();T({top:W.bottom,left:W.left}),j("dateTo")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Time To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:V=>d(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:V=>{const W=V.currentTarget.getBoundingClientRect();M({top:W.bottom,left:W.left}),P("timeTo")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(fr,{className:"w-4 h-4"})})]})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Form Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:V=>h(V.target.value),placeholder:"FormName",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:te,className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(""),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Activity"}),e.jsx("input",{type:"text",value:m,onChange:V=>b(V.target.value),placeholder:"Activity",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"User"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:V=>N(V.target.value),placeholder:"Users",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:te,className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(""),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]})})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs("button",{onClick:oe,className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(W0,{className:"w-4 h-4"}),"Reset"]}),e.jsxs("button",{onClick:()=>alert("Export functionality would be implemented here"),className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ln,{className:"w-4 h-4"}),"Export"]}),e.jsxs("button",{onClick:te,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>fe("date"),className:"flex items-center hover:text-gray-900",children:["Date",e.jsx(R,{field:"date"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>fe("user"),className:"flex items-center hover:text-gray-900",children:["User",e.jsx(R,{field:"user"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>fe("pcName"),className:"flex items-center hover:text-gray-900",children:["PC Name",e.jsx(R,{field:"pcName"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>fe("formName"),className:"flex items-center hover:text-gray-900",children:["Form Name",e.jsx(R,{field:"formName"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>fe("accessType"),className:"flex items-center hover:text-gray-900",children:["Access Type",e.jsx(R,{field:"accessType"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>fe("activity"),className:"flex items-center hover:text-gray-900",children:["Activity",e.jsx(R,{field:"activity"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Message"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q.length>0?q.map(V=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:V.date}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:V.user}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:V.pcName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:V.formName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:V.accessType}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:V.activity}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:V.message})]},V.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",q.length," ",q.length===1?"entry":"entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),C&&e.jsx(QJ,{value:C==="dateFrom"?t:n,onChange:V=>{C==="dateFrom"?s(V):l(V),j(null)},onClose:()=>j(null),position:D}),S&&e.jsx(ZJ,{value:S==="timeFrom"?r:i,onChange:V=>{S==="timeFrom"?a(V):d(V),P(null)},onClose:()=>P(null),position:A})]})}function G2(){const[t,s]=o.useState("security-manager"),[r,a]=o.useState("Administrator"),[n,l]=o.useState([]),[i,d]=o.useState([]),[x,h]=o.useState("access-type"),[m,b]=o.useState(1),[f,N]=o.useState([]),[p,v]=o.useState([]),[g,y]=o.useState(null),[C,j]=o.useState(null),S=25,P=[{id:1,username:"123",expiration:"10/31/2024",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:2,username:"128Dennis",expiration:"7/4/2029",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:3,username:"128Lhet",expiration:"10/1/2042",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:4,username:"128Manalo",expiration:"11/1/2030",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""},{id:5,username:"128Villano",expiration:"11/1/2041",logIn:!1,machineName:"128PC-80",suspended:!1,isWindowsAuth:!1,windowsLoginName:""}],D=[{id:1,groupName:"ADMIN",description:"administrator"},{id:2,groupName:"TIMEKEEP",description:"Timekeeper"},{id:3,groupName:"TIMEKEEP2",description:"Timekeeper 2"},{id:4,groupName:"TIMEKEEP3",description:"Timekeeper3"}],T=["123","128Manalo"],A=["128TCI","128Villano"],M=["AdditionalOTHoursPerWeek","AdditionalOTHoursPerWeekUtility","AddShortBreakOverBreakUtl","AllowancePerClassificationSetUp","Allowance","Allowance Bracket Code","AMS Database Configuration SetUp","Apply OT Allowances","Area SetUp","Audit Trail","Borrowed Device Name SetUp"],L=["Add New Record","Delete Record","Edit Record","Enable Editing Posted Record","Import Logs","Print Record","View Form"],[q,B]=o.useState([]),[te,oe]=o.useState([]),[fe,R]=o.useState([{id:1,formName:"AdditionalOTHoursPerWeek",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:2,formName:"AdditionalOTHoursPerWeekUtility",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:3,formName:"AllowancePerClassificationSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:4,formName:"Audit Trail",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:5,formName:"Bracket Code Setup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:6,formName:"BranchSetup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:7,formName:"CalendarSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:8,formName:"ClassificationSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:9,formName:"CompanyInformationSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:10,formName:"Create New Database",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:11,formName:"DailyScheduleSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:12,formName:"DayTypeSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:13,formName:"DeductionSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:14,formName:"Delete Incomplete Logs",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:15,formName:"Delete Records in Raw Data",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:16,formName:"DepartmentSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:17,formName:"DivisionSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:18,formName:"EarningSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:19,formName:"Employee Category Setup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:20,formName:"EmployeeDesignationSetup",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:21,formName:"EmployeeLogsSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:22,formName:"EmployeeStatusSetUp",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:23,formName:"EmpMasterFile",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:24,formName:"EmpTKConfigMaint",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1},{id:25,formName:"EquivHoursDeduction",view:!0,add:!0,edit:!0,delete:!0,print:!0,importLogs:!0,enableEditPosted:!1}]),V=[{id:1,name:"TK3",description:"TK3"}],W=[{id:1,tksGroupName:"1",description:"Batangas1 Balagtas Monthly Payroll",userGroup:"ADMIN"},{id:10,tksGroupName:"10",description:"Batangas Monthly Cash Payroll with Paycard",userGroup:"ADMIN"},{id:100,tksGroupName:"100",description:"-",userGroup:"ADMIN"},{id:101,tksGroupName:"101",description:"Main Batangas Daily",userGroup:"ADMIN"},{id:102,tksGroupName:"102",description:"Main Batangas Daily with Paycard",userGroup:"ADMIN"},{id:103,tksGroupName:"103",description:"Main Batangas Monthly",userGroup:"ADMIN"},{id:104,tksGroupName:"104",description:"Main Batangas Monthly with",userGroup:"ADMIN"}],ne=Math.ceil(fe.length/S),J=fe.slice((m-1)*S,m*S),H=k=>{b(k)},F=()=>{const k=[];for(let O=1;O<=ne;O++)k.push(e.jsx("button",{onClick:()=>H(O),className:`px-3 py-1 rounded border text-xs ${m===O?"border-blue-500 bg-blue-500 text-white":"border-gray-300 bg-white hover:bg-gray-100"}`,children:O},O));return k},I=()=>{i.length>0&&console.log("Moving users to group:",i)},U=()=>{n.length>0&&console.log("Removing users from group:",n)};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsxs("h1",{className:"text-white",children:[t==="security-manager"&&"User SetUp",t==="group-member"&&"Group Member SetUp",t==="security-control"&&"Security Control"]})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(yp,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure user accounts, manage user groups, and set up security permissions for forms and features. Control access levels and authentication methods for system security."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Create and manage user accounts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure user group memberships"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set form-level access permissions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Windows authentication support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-1 mb-6 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>s("security-manager"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="security-manager"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(yp,{className:"w-4 h-4"}),"Security Manager"]}),e.jsxs("button",{onClick:()=>s("group-member"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="group-member"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Us,{className:"w-4 h-4"}),"Group Member SetUp"]}),e.jsxs("button",{onClick:()=>s("security-control"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="security-control"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(wx,{className:"w-4 h-4"}),"Security Control"]})]}),t==="security-manager"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Users"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(QN,{className:"w-4 h-4"}),"Add"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Username"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Expiration"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Log In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Machine Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Suspended"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsWindowsAuthenticate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"WindowsLoginName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:P.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.username}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.expiration}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:k.logIn,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.machineName}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:k.suspended,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:k.isWindowsAuth,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.windowsLoginName}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-xs text-blue-600 hover:text-blue-700 border border-blue-600 rounded hover:bg-blue-50",children:"Change Password"}),e.jsx("button",{className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-700 border border-gray-600 rounded hover:bg-gray-50",children:"Reset"}),e.jsx("button",{className:"px-3 py-1 text-xs text-red-600 hover:text-red-700 border border-red-600 rounded hover:bg-red-50",children:"Remove"}),e.jsx("button",{className:"px-3 py-1 text-xs text-green-600 hover:text-green-700 border border-green-600 rounded hover:bg-green-50",children:"Edit"})]})})]},k.id))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-blue-500 bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"User Group"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(QN,{className:"w-4 h-4"}),"Add"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GroupName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:D.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.groupName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.description}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{className:"px-3 py-1 text-xs text-red-600 hover:text-red-700 border border-red-600 rounded hover:bg-red-50",children:"Remove"})})]},k.id))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-blue-500 bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]}),t==="group-member"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"User Group"}),e.jsxs("select",{value:r,onChange:k=>a(k.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{children:"Administrator"}),e.jsx("option",{children:"Timekeeper"}),e.jsx("option",{children:"Timekeeper 2"}),e.jsx("option",{children:"Timekeeper3"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3 text-sm",children:"Group Members"}),e.jsx("select",{multiple:!0,value:n,onChange:k=>l(Array.from(k.target.selectedOptions,O=>O.value)),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:T.map(k=>e.jsx("option",{value:k,children:k},k))})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsx("button",{onClick:I,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(fi,{className:"w-5 h-5"})}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(U0,{className:"w-5 h-5"})}),e.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(VA,{className:"w-5 h-5"})}),e.jsx("button",{className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx($A,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3 text-sm",children:"Users"}),e.jsx("select",{multiple:!0,value:i,onChange:k=>d(Array.from(k.target.selectedOptions,O=>O.value)),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:A.map(k=>e.jsx("option",{value:k,children:k},k))})]})]})]}),t==="security-control"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-1 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>h("access-type"),className:`px-4 py-2 text-sm transition-colors ${x==="access-type"?"bg-gray-100 text-gray-900 border border-gray-300 border-b-white":"text-gray-600 hover:text-gray-900"}`,children:"Set Up AccessType"}),e.jsx("button",{onClick:()=>h("tks-group"),className:`px-4 py-2 text-sm transition-colors ${x==="tks-group"?"bg-gray-100 text-gray-900 border border-gray-300 border-b-white":"text-gray-600 hover:text-gray-900"}`,children:"Set Up TKS Group"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"User Group"}),e.jsxs("select",{value:r,onChange:k=>a(k.target.value),className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{children:"Administrator"}),e.jsx("option",{children:"Timekeeper"}),e.jsx("option",{children:"Timekeeper 2"}),e.jsx("option",{children:"Timekeeper3"})]})]}),x==="access-type"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-3",children:"Forms"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 h-96 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:M.map((k,O)=>e.jsxs("label",{className:"flex items-center gap-2 hover:bg-gray-50 p-1 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:q.includes(k),onChange:he=>{he.target.checked?B([...q,k]):B(q.filter(ye=>ye!==k))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:k})]},O))})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-3",children:"Access Type"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("div",{className:"space-y-2",children:L.map((k,O)=>e.jsxs("label",{className:"flex items-center gap-2 hover:bg-gray-50 p-1 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:te.includes(k),onChange:he=>{he.target.checked?oe([...te,k]):oe(te.filter(ye=>ye!==k))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:k})]},O))}),e.jsxs("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add"]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"User Group Access"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Form Name"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"View"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Add"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Edit"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Delete"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Print"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"ImportLogs"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"EnableEditPosted"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:J.map(k=>{const O=g===k.id,he=O&&C?C:k;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.formName}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:he.view,disabled:!O,onChange:ye=>{O&&C&&j({...C,view:ye.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:he.add,disabled:!O,onChange:ye=>{O&&C&&j({...C,add:ye.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:he.edit,disabled:!O,onChange:ye=>{O&&C&&j({...C,edit:ye.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:he.delete,disabled:!O,onChange:ye=>{O&&C&&j({...C,delete:ye.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:he.print,disabled:!O,onChange:ye=>{O&&C&&j({...C,print:ye.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:he.importLogs,disabled:!O,onChange:ye=>{O&&C&&j({...C,importLogs:ye.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:he.enableEditPosted,disabled:!O,onChange:ye=>{O&&C&&j({...C,enableEditPosted:ye.target.checked})},className:"w-4 h-4 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:O?e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsxs("button",{onClick:()=>{C&&R(fe.map(ye=>ye.id===C.id?C:ye)),y(null),j(null)},className:"px-3 py-1 text-xs text-blue-600 hover:text-blue-700 border border-blue-600 rounded hover:bg-blue-50 flex items-center gap-1",children:[e.jsx(Ar,{className:"w-3 h-3"}),"Save"]}),e.jsxs("button",{onClick:()=>{y(null),j(null)},className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-700 border border-gray-600 rounded hover:bg-gray-50 flex items-center gap-1",children:[e.jsx(nt,{className:"w-3 h-3"}),"Cancel"]})]}):e.jsx("button",{onClick:()=>{y(k.id),j({...k})},className:"px-3 py-1 text-xs text-green-600 hover:text-green-700 border border-green-600 rounded hover:bg-green-50",children:"Edit"})})]},k.id)})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>m>1&&H(m-1),disabled:m===1,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),F(),e.jsx("button",{onClick:()=>m<ne&&H(m+1),disabled:m===ne,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add"]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 w-12",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKS Group Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:f.includes(k.id),onChange:O=>{O.target.checked?N([...f,k.id]):N(f.filter(he=>he!==k.id))},className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.description})]},k.id))})]})})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group Access"}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(is,{className:"w-4 h-4"}),"Remove"]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 w-12",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4"})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKS Group Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"User Group"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:W.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:p.includes(k.id),onChange:O=>{O.target.checked?v([...p,k.id]):v(p.filter(he=>he!==k.id))},className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:k.tksGroupName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.description}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:k.userGroup})]},k.id))})]})})})]})]})})]})]})]})})})}function tQ({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function sQ(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState(!1),[m,b]=o.useState("12/26/2025"),[f,N]=o.useState(""),[p,v]=o.useState(!1),[g,y]=o.useState(null),[C,j]=o.useState({top:0,left:0}),[S,P]=o.useState(""),[D,T]=o.useState([]),[A,M]=o.useState(1),[L,q]=o.useState(""),[B,te]=o.useState([]),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState(!1),[ne,J]=o.useState([]),[H,F]=o.useState(!1),[I,U]=o.useState([]),k=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ot=>({id:ot.ID||ot.id,code:ot.groupCode||ot.code,description:ot.groupDescription||ot.description}));o.useEffect(()=>{(async()=>{const ot=await k();J(ot)})()},[]);const O=async()=>{const Le=await ae.get("/EmployeeMasterFile");return(Array.isArray(Le.data)?Le.data:[]).map(Je=>({id:Je.empID??Je.ID??Je.id,code:Je.empCode||Je.code||"",name:`${Je.lName||""}, ${Je.fName||""} ${Je.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ot=await O();U(ot)})()},[]);const he=ne.filter(Le=>Le.code.toLowerCase().includes(S.toLowerCase())||Le.description.toLowerCase().includes(S.toLowerCase())),ye=I.filter(Le=>Le.code.toLowerCase().includes(L.toLowerCase())||Le.name.toLowerCase().includes(L.toLowerCase())),be=Math.ceil(he.length/R),je=(A-1)*R,ge=je+R,xe=he.slice((A-1)*R,A*R),Se=()=>{const Le=[];if(be<=7)for(let ot=1;ot<=be;ot++)Le.push(ot);else if(A<=4){for(let ot=1;ot<=5;ot++)Le.push(ot);Le.push("..."),Le.push(be)}else if(A>=be-3){Le.push(1),Le.push("...");for(let ot=be-4;ot<=be;ot++)Le.push(ot)}else{Le.push(1),Le.push("...");for(let ot=A-1;ot<=A+1;ot++)Le.push(ot);Le.push("..."),Le.push(be)}return Le},De=Math.ceil(ye.length/R),Fe=(oe-1)*R,Ae=Fe+R,ze=ye.slice((oe-1)*R,oe*R),He=()=>{const Le=[];if(De<=5)return Array.from({length:De},(et,yt)=>yt+1);Le.push(1),oe>3&&Le.push("...");const Je=Math.max(2,oe-1),Ge=Math.min(De-1,oe+1);for(let et=Je;et<=Ge;et++)Le.push(et);return oe<De-2&&Le.push("..."),Le.push(De),Le},Ve=Le=>{T(Le?ne.map(ot=>ot.id):[])},qe=(Le,ot)=>{T(Je=>ot?[...Je,Le]:Je.filter(Ge=>Ge!==Le))},ve=Le=>{te(ot=>ot.includes(Le)?ot.filter(Je=>Je!==Le):[...ot,Le])},Me=()=>{B.length===ye.length?te([]):te(ye.map(Le=>Le.id))},Te=Le=>{g==="dateRangeFrom"?l(Le):g==="dateRangeTo"?d(Le):g==="transactionDate"?b(Le):g==="assumedDate"&&N(Le)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export DTR Allowance"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ln,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Export Daily Time Record (DTR) and allowance data for payroll processing. Select employees by group, filter by status, and configure transaction dates."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export DTR and allowances"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure date ranges"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Leave and absence options"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:Le=>P(Le.target.value),placeholder:"",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:D.length===ne.length,onChange:Le=>Ve(Le.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:xe.map(Le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:D.includes(Le.id),onChange:ot=>qe(Le.id,ot.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Le.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Le.description})]},Le.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",he.length===0?0:je+1," to ",Math.min(ge,he.length)," of ",he.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>M(Le=>Math.max(Le-1,1)),disabled:A===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Se().map((Le,ot)=>Le==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ot}`):e.jsx("button",{onClick:()=>M(Le),className:`px-2 py-1 rounded text-xs ${A===Le?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le},Le)),e.jsx("button",{onClick:()=>M(Le=>Math.min(Le+1,be)),disabled:A===be||be===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:L,onChange:Le=>q(Le.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:B.length===ye.length&&ye.length>0,onChange:Me,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ze.map(Le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:B.includes(Le.id),onChange:()=>ve(Le.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Le.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Le.name})]},Le.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Fe+1," to ",Math.min(Ae,ye.length)," of ",ye.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(Le=>Math.max(1,Le-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),He().map((Le,ot)=>typeof Le=="number"?e.jsx("button",{onClick:()=>fe(Le),className:`px-2 py-1 rounded text-xs ${oe===Le?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le},ot):e.jsx("span",{className:"px-2",children:Le},ot)),e.jsx("button",{onClick:()=>fe(Le=>Math.min(De,Le+1)),disabled:oe===De,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:r==="active",onChange:()=>a("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:r==="inactive",onChange:()=>a("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:r==="all",onChange:()=>a("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:Le=>l(Le.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:n,onChange:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:Le=>d(Le.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:i,onChange:d})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Transaction Date"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:Le=>b(Le.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:m,onChange:l})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:Le=>h(Le.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apply"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Assumed Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:Le=>N(Le.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:f,onChange:N})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:Le=>v(Le.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave WithOut Pay And Absences"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Export"]})})]})]})]})]})}),g&&e.jsx(tQ,{value:g==="dateRangeFrom"?n:g==="dateRangeTo"?i:g==="transactionDate"?m:f,onChange:Te,onClose:()=>y(null),position:C})]})}function rQ({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&r()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},f=p=>{const v=n.getMonth()+1,g=n.getFullYear(),y=`${v}/${p}/${g}`;s(y),r()},N=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=x-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=d;y++)p.push(e.jsx("div",{onClick:()=>f(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const g=42-p.length;for(let y=1;y<=g;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:a.top,left:a.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N()})]})}function aQ(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState({top:0,left:0}),[n,l]=o.useState(null),[i,d]=o.useState("5/5/2021"),[x,h]=o.useState("05/05/2021"),[m,b]=o.useState("12/26/2025"),[f,N]=o.useState(""),[p,v]=o.useState([]),[g,y]=o.useState(1),C=10;o.useEffect(()=>{y(1)},[t]);const[j,S]=o.useState(!1),[P,D]=o.useState([]),[T,A]=o.useState(!1),[M,L]=o.useState([]),[q,B]=o.useState(!1),[te,oe]=o.useState([]),[fe,R]=o.useState(!1),[V,W]=o.useState([]),[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),he=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ge=>({id:Ge.ID||Ge.id,code:Ge.groupCode||Ge.code,description:Ge.groupDescription||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await he();D(Ge)})()},[]);const ye=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Ge=>({id:Ge.braID||Ge.ID,code:Ge.braCode||Ge.code,description:Ge.braDesc||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await ye();L(Ge)})()},[]);const be=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Ge=>({id:Ge.depID||Ge.ID,code:Ge.depCode||Ge.code,description:Ge.depDesc||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await be();oe(Ge)})()},[]);const je=async()=>{const Je=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Je.data)?Je.data:[]).map(et=>({id:et.grpSchID||et.id||et.ID,code:et.grpCode||et.code,description:et.grpDesc||et.description}))};o.useEffect(()=>{(async()=>{const Ge=await je();W(Ge)})()},[]);const ge=async()=>{const Je=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Je.data)?Je.data:[]).map(et=>({id:et.lineID??et.ID??et.id,code:et.lineCode??et.code,description:et.lineDesc??et.Description??et.description}))};o.useEffect(()=>{(async()=>{const Ge=await ge();F(Ge)})()},[]);const xe=async()=>{const Je=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Je.data)?Je.data:[]).map(et=>({id:et.secID??et.ID??et.id,code:et.secCode??et.sectionCode??et.code,description:et.secDesc??et.Description??et.description}))};o.useEffect(()=>{(async()=>{const Ge=await xe();O(Ge)})()},[]);const Fe=(()=>{switch(t){case"Branch":return M;case"Department":return te;case"Group Schedule":return V;case"Pay House":return H;case"Section":return k;default:return P}})().filter(Je=>Je.code.toLowerCase().includes(f.toLowerCase())||Je.description.toLowerCase().includes(f.toLowerCase())),Ae=Math.ceil(Fe.length/C),ze=(g-1)*C,He=ze+C,Ve=Fe.slice((g-1)*C,g*C),qe=()=>{const Je=[];if(Ae<=7)for(let Ge=1;Ge<=Ae;Ge++)Je.push(Ge);else if(g<=4){for(let Ge=1;Ge<=5;Ge++)Je.push(Ge);Je.push("..."),Je.push(Ae)}else if(g>=Ae-3){Je.push(1),Je.push("...");for(let Ge=Ae-4;Ge<=Ae;Ge++)Je.push(Ge)}else{Je.push(1),Je.push("...");for(let Ge=g-1;Ge<=g+1;Ge++)Je.push(Ge);Je.push("..."),Je.push(Ae)}return Je},ve=Je=>{v(Ge=>Ge.includes(Je)?Ge.filter(et=>et!==Je):[...Ge,Je])},Me=()=>{p.length===Fe.length?v([]):v(Fe.map(Je=>Je.id))},Te=Je=>{const Ge=Je.currentTarget.getBoundingClientRect();a({top:Ge.bottom,left:Ge.left}),l(Je.currentTarget.name)},Le=Je=>{n==="dateFrom"?d(Je):n==="dateTo"?h(Je):n==="postingDate"&&b(Je),l(null)},ot=()=>{l(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export NAV"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ua,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Export payroll and timekeeping data to NAV (Navision) accounting system. Select the date range and posting date, then choose the groups to export."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export to NAV accounting system"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and departments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set posting dates"})]})]})]})]})}),e.jsx("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:i,onChange:Je=>d(Je.target.value),onClick:Te,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:Je=>{const et=Je.currentTarget.previousElementSibling.getBoundingClientRect();a({top:et.bottom+5,left:et.left}),l("dateFrom")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:x,onChange:Je=>h(Je.target.value),onClick:Te,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:Je=>{const et=Je.currentTarget.previousElementSibling.getBoundingClientRect();a({top:et.bottom+5,left:et.left}),l("dateTo")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Posting Date"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:m,onChange:Je=>b(Je.target.value),onClick:Te,name:"postingDate",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:Je=>{const et=Je.currentTarget.previousElementSibling.getBoundingClientRect();a({top:et.bottom+5,left:et.left}),l("postingDate")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-4 h-4"})})]})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Export"]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr}].map(Je=>e.jsxs("button",{onClick:()=>s(Je.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Je.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(Je.icon,{className:"w-4 h-4"}),Je.name]},Je.name))})}),e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:Je=>N(Je.target.value),placeholder:"",className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm text-gray-700 w-12",children:e.jsx("input",{type:"checkbox",onChange:Me,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsxs("th",{className:"px-4 py-3 text-left text-sm text-gray-700 cursor-pointer",children:["Code",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-4 py-3 text-left text-sm text-gray-700 cursor-pointer",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ve.map(Je=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:p.includes(Je.id),onChange:Ge=>ve(Je.id),className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Je.code}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Je.description})]},Je.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Fe.length===0?0:ze+1," to ",Math.min(He,Fe.length)," of ",Fe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(Je=>Math.max(Je-1,1)),disabled:g===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),qe().map((Je,Ge)=>Je==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ge}`):e.jsx("button",{onClick:()=>y(Je),className:`px-2 py-1 rounded text-xs ${g===Je?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Je},Je)),e.jsx("button",{onClick:()=>y(Je=>Math.min(Je+1,Ae)),disabled:g===Ae||Ae===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),n&&e.jsx(rQ,{value:n==="dateFrom"?i:n==="dateTo"?x:m,onChange:Le,onClose:ot,position:r})]})}function nQ(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,d]=o.useState("05/05/2021"),[x,h]=o.useState("12/26/2025"),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState("date"),[g,y]=o.useState("perfect"),[C,j]=o.useState("sql"),[S,P]=o.useState(""),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState([]),[B,te]=o.useState(1),[oe,fe]=o.useState(1),R=10,[V,W]=o.useState({lates:!1,overtime:!1,otherEarnings:!1,undertime:!1,leaveAbsences:!1,daysAndHours:!1,selectAll:!1});o.useEffect(()=>{te(1)},[t]);const[ne,J]=o.useState(!1),[H,F]=o.useState([]),[I,U]=o.useState(!1),[k,O]=o.useState([]),[he,ye]=o.useState(!1),[be,je]=o.useState([]),[ge,xe]=o.useState(!1),[Se,De]=o.useState([]),[Fe,Ae]=o.useState(!1),[ze,He]=o.useState([]),[Ve,qe]=o.useState(!1),[ve,Me]=o.useState([]),[Te,Le]=o.useState(!1),[ot,Je]=o.useState([]),[Ge,et]=o.useState(!1),[yt,mt]=o.useState([]),[jt,we]=o.useState(!1),[Re,me]=o.useState([]),[Ye,pt]=o.useState(""),Ft=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(X=>({id:X.ID||X.id,code:X.groupCode||X.code,description:X.groupDescription||X.description}));o.useEffect(()=>{(async()=>{const X=await Ft();F(X)})()},[]);const Bt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(X=>({id:X.braID||X.ID,code:X.braCode||X.code,description:X.braDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Bt();O(X)})()},[]);const Lt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(X=>({id:X.depID||X.ID,code:X.depCode||X.code,description:X.depDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Lt();je(X)})()},[]);const Qe=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(X=>({id:X.divID||X.ID,code:X.divCode||X.code,description:X.divDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Qe();De(X)})()},[]);const gt=async()=>{const ke=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(Ne=>({id:Ne.grpSchID||Ne.id||Ne.ID,code:Ne.grpCode||Ne.code,description:Ne.grpDesc||Ne.description}))};o.useEffect(()=>{(async()=>{const X=await gt();He(X)})()},[]);const vt=async()=>{const ke=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(Ne=>({id:Ne.lineID??Ne.ID??Ne.id,code:Ne.lineCode??Ne.code,description:Ne.lineDesc??Ne.Description??Ne.description}))};o.useEffect(()=>{(async()=>{const X=await vt();Me(X)})()},[]);const xt=async()=>{const ke=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(Ne=>({id:Ne.secID??Ne.ID??Ne.id,code:Ne.secCode??Ne.sectionCode??Ne.code,description:Ne.secDesc??Ne.Description??Ne.description}))};o.useEffect(()=>{(async()=>{const X=await xt();Je(X)})()},[]);const Ct=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(X=>({id:X.unitID||X.ID,code:X.unitCode||X.code,description:X.unitDesc||X.description}));o.useEffect(()=>{(async()=>{const X=await Ct();mt(X)})()},[]);const Nt=async()=>{const ke=await ae.get("/EmployeeMasterFile");return(Array.isArray(ke.data)?ke.data:[]).map(Ne=>({id:Ne.empID??Ne.ID??Ne.id,code:Ne.empCode||Ne.code||"",name:`${Ne.lName||""}, ${Ne.fName||""} ${Ne.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const X=await Nt();me(X)})()},[]);const ce=(()=>{switch(t){case"Branch":return k;case"Department":return be;case"Division":return Se;case"Group Schedule":return ze;case"Pay House":return ve;case"Section":return ot;case"Unit":return yt;default:return H}})().filter(ke=>ke.code.toLowerCase().includes(S.toLowerCase())||ke.description.toLowerCase().includes(S.toLowerCase())),Ee=Re.filter(ke=>ke.code.toLowerCase().includes(D.toLowerCase())||ke.name.toLowerCase().includes(D.toLowerCase())),pe=Math.ceil(ce.length/R),at=(B-1)*R,ut=at+R,_t=ce.slice((B-1)*R,B*R),it=()=>{const ke=[];if(pe<=7)for(let X=1;X<=pe;X++)ke.push(X);else if(B<=4){for(let X=1;X<=5;X++)ke.push(X);ke.push("..."),ke.push(pe)}else if(B>=pe-3){ke.push(1),ke.push("...");for(let X=pe-4;X<=pe;X++)ke.push(X)}else{ke.push(1),ke.push("...");for(let X=B-1;X<=B+1;X++)ke.push(X);ke.push("..."),ke.push(pe)}return ke},bt=Math.ceil(Ee.length/R),se=(oe-1)*R,ue=se+R,Z=Ee.slice((oe-1)*R,oe*R),G=()=>{const ke=[];if(bt<=5)return Array.from({length:bt},(de,re)=>re+1);ke.push(1),oe>3&&ke.push("...");const Ne=Math.max(2,oe-1),ee=Math.min(bt-1,oe+1);for(let de=Ne;de<=ee;de++)ke.push(de);return oe<bt-2&&ke.push("..."),ke.push(bt),ke},Y=ke=>{M(X=>X.includes(ke)?X.filter(Ne=>Ne!==ke):[...X,ke])},_=ke=>{q(X=>X.includes(ke)?X.filter(Ne=>Ne!==ke):[...X,ke])},ie=()=>{A.length===ce.length?M([]):M(ce.map(ke=>ke.id))},_e=()=>{L.length===Ee.length?q([]):q(Ee.map(ke=>ke.id))},Ie=ke=>{W({lates:ke,overtime:ke,otherEarnings:ke,undertime:ke,leaveAbsences:ke,daysAndHours:ke,selectAll:ke})};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export Payroll Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ln,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Export payroll and timekeeping data to external systems. Select the date range and transaction date, then choose the groups to export."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Export to SQL or Text File"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select groups and departments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Set transaction dates"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-1 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>s("TK Group"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="TK Group"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Us,{className:"w-4 h-4"}),"TK Group"]}),e.jsxs("button",{onClick:()=>s("Branch"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="Branch"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(er,{className:"w-4 h-4"}),"Branch"]}),e.jsxs("button",{onClick:()=>s("Department"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Department"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Zs,{className:"w-4 h-4"}),"Department"]}),e.jsxs("button",{onClick:()=>s("Division"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Division"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Vu,{className:"w-4 h-4"}),"Division"]}),e.jsxs("button",{onClick:()=>s("Group Schedule"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Group Schedule"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(xC,{className:"w-4 h-4"}),"Group Schedule"]}),e.jsxs("button",{onClick:()=>s("Pay House"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Pay House"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ir,{className:"w-4 h-4"}),"Pay House"]}),e.jsxs("button",{onClick:()=>s("Section"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Section"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Na,{className:"w-4 h-4"}),"Section"]}),e.jsxs("button",{onClick:()=>s("Unit"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Unit"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(pC,{className:"w-4 h-4"}),"Unit"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ke=>P(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:A.length===ce.length&&ce.length>0,onChange:ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:A.includes(ke.id),onChange:()=>Y(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.description})]},ke.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ee.length===0?0:at+1," to ",Math.min(ut,ce.length)," of ",ce.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>te(ke=>Math.max(ke-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),it().map((ke,X)=>ke==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${X}`):e.jsx("button",{onClick:()=>te(ke),className:`px-2 py-1 rounded text-xs ${B===ke?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},ke)),e.jsx("button",{onClick:()=>te(ke=>Math.min(ke+1,pe)),disabled:B===pe||pe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:D,onChange:ke=>T(ke.target.value),placeholder:"",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Ee.length&&Ee.length>0,onChange:_e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(ke.id),onChange:()=>_(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.name})]},ke.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",se+1," to ",Math.min(ue,Ee.length)," of ",Ee.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fe(ke=>Math.max(1,ke-1)),disabled:oe===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),G().map((ke,X)=>typeof ke=="number"?e.jsx("button",{onClick:()=>fe(ke),className:`px-2 py-1 rounded text-xs ${oe===ke?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},X):e.jsx("span",{className:"px-2",children:ke},X)),e.jsx("button",{onClick:()=>fe(ke=>Math.min(bt,ke+1)),disabled:oe===bt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:r==="active",onChange:()=>a("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:r==="inactive",onChange:()=>a("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:r==="all",onChange:()=>a("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:ke=>l(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:n,onChange:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:ke=>d(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:i,onChange:d})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Transaction Date"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:x,onChange:ke=>h(ke.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:x,onChange:h})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:ke=>b(ke.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apply"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Assumed Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f,onChange:ke=>N(ke.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(hs,{date:f,onChange:N})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Compute Per"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computePer",value:"date",checked:p==="date",onChange:()=>v("date"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computePer",value:"sum",checked:p==="sum",onChange:()=>v("sum"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Sum Per Cut Off"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.lates,onChange:ke=>W({...V,lates:ke.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Lates"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.undertime,onChange:ke=>W({...V,undertime:ke.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.overtime,onChange:ke=>W({...V,overtime:ke.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.leaveAbsences,onChange:ke=>W({...V,leaveAbsences:ke.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave And Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.otherEarnings,onChange:ke=>W({...V,otherEarnings:ke.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Other Earnings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.daysAndHours,onChange:ke=>W({...V,daysAndHours:ke.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Days and No. of Hrs Worked"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:V.selectAll,onChange:ke=>Ie(ke.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All Processes"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Email Status"}),e.jsx("div",{className:"h-20"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Compute As [Applies To Daily Paid Only]"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computeAs",value:"perfect",checked:g==="perfect",onChange:()=>y("perfect"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Perfect Hours"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computeAs",value:"net",checked:g==="net",onChange:()=>y("net"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Net Of Unworked w/o pay Hours"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Export To"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportTo",value:"sql",checked:C==="sql",onChange:()=>j("sql"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"SQL"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportTo",value:"text",checked:C==="text",onChange:()=>j("text"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Text File"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),"Export"]})})]})]})]})]})})})}function oQ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(1),[i,d]=o.useState(null),[x,h]=o.useState(!1),[m,b]=o.useState({groupScheduleCode:"",groupScheduleDesc:""}),[f,N]=o.useState([]),[p,v]=o.useState(!1),[g,y]=o.useState("");o.useEffect(()=>{C()},[]);const C=async()=>{v(!0),y("");try{const ne=await ae.get("/Fs/Process/GroupScheduleSetUp");ne.status===200&&ne.data&&N(ne.data)}catch(ne){const J=ne.response?.data?.message||ne.message||"Failed to load group schedules";y(J),console.error("Error fetching group schedules:",ne)}finally{v(!1)}},j=10,[S,P]=o.useState({}),D=ne=>S[ne]===!0;o.useEffect(()=>{T()},[]);const T=()=>{const ne=localStorage.getItem("loginPayload");if(ne)try{const F=(JSON.parse(ne).permissions||[]).filter(U=>ns(U.formName)==="GroupScheduleSetUp"),I={};F.forEach(U=>{const k=ns(U.accessTypeName);k&&(I[k]=!0)}),P(I)}catch(J){console.error("Error parsing or decrypting payload",J)}},A=f.filter(ne=>ne.groupScheduleCode.toLowerCase().includes(t.toLowerCase())||ne.groupScheduleDesc.toLowerCase().includes(t.toLowerCase())),M=Math.ceil(A.length/j),L=(n-1)*j,q=A.slice(L,L+j);o.useEffect(()=>{l(1)},[t]);const B=()=>{b({groupScheduleCode:"",groupScheduleDesc:""}),d(null),a(!0)},te=ne=>{d(ne),b({groupScheduleCode:ne.groupScheduleCode,groupScheduleDesc:ne.groupScheduleDesc}),a(!0)},oe=async ne=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${ne.groupScheduleCode} - ${ne.groupScheduleDesc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/GroupScheduleSetUp/${ne.groupScheduleID}`),await Q.fire({icon:"success",title:"Success",text:"Group schedule deleted successfully.",timer:2e3,showConfirmButton:!1}),await C()}catch(H){const F=H.response?.data?.message||H.message||"Failed to delete group schedule";await Q.fire({icon:"error",title:"Error",text:F}),console.error("Error deleting group schedule:",H)}},fe=async ne=>{if(ne.preventDefault(),!m.groupScheduleCode.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(f.some(H=>H.groupScheduleCode.toLowerCase()===m.groupScheduleCode.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This group schedule code is already in use. Please use a different code."});return}h(!0);try{const H={groupScheduleID:0,groupScheduleCode:m.groupScheduleCode,groupScheduleDesc:m.groupScheduleDesc};await ae.post("/Fs/Process/GroupScheduleSetUp",H),await Q.fire({icon:"success",title:"Success",text:"Group schedule created successfully.",timer:2e3,showConfirmButton:!1}),await C(),a(!1)}catch(H){const F=H.response?.data?.message||H.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:F}),console.error("Error creating group schedule:",H)}finally{h(!1)}},R=async ne=>{if(ne.preventDefault(),!i)return;if(!m.groupScheduleCode.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(f.some(H=>H.groupScheduleID!==i.groupScheduleID&&H.groupScheduleCode.toLowerCase()===m.groupScheduleCode.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This group schedule code is already in use. Please use a different code."});return}h(!0);try{const H={groupScheduleID:i.groupScheduleID,groupScheduleCode:m.groupScheduleCode,groupScheduleDesc:m.groupScheduleDesc};await ae.put(`/Fs/Process/GroupScheduleSetUp/${i.groupScheduleID}`,H),await Q.fire({icon:"success",title:"Success",text:"Group schedule updated successfully.",timer:2e3,showConfirmButton:!1}),await C(),a(!1),d(null)}catch(H){const F=H.response?.data?.message||H.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:F}),console.error("Error updating group schedule:",H)}finally{h(!1)}},V=ne=>{i?R(ne):fe(ne)},W=()=>{a(!1),d(null)};return o.useEffect(()=>{const ne=J=>{J.key==="Escape"&&r&&(a(!1),d(null))};return r&&document.addEventListener("keydown",ne),()=>{document.removeEventListener("keydown",ne)}},[r]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Group Schedule Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create and manage group schedule codes and descriptions for organizing employee schedules. Group schedules allow you to efficiently manage multiple employees with similar shift patterns."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define group schedule codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom schedule descriptions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Efficient schedule management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Team-based organization"})]})]})]})]})}),D("Add")&&D("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[D("Add")&&e.jsxs("button",{onClick:B,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),D("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:ne=>s(ne.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),D("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(D("Edit")||D("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:q.length>0?q.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ne.groupScheduleCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ne.groupScheduleDesc}),(D("Edit")||D("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[D("Edit")&&e.jsx("button",{onClick:()=>te(ne),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),D("Edit")&&D("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),D("Delete")&&e.jsx("button",{onClick:()=>oe(ne),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},ne.groupScheduleID)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),D("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",A.length>0?L+1:0," to ",Math.min(L+j,A.length)," of ",A.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(ne=>Math.max(1,ne-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:M},(ne,J)=>J+1).map(ne=>e.jsx("button",{onClick:()=>l(ne),className:`px-3 py-1 rounded transition-colors ${n===ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ne},ne)),e.jsx("button",{onClick:()=>l(ne=>Math.min(M||1,ne+1)),disabled:n>=M||A.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:V,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Group Schedule Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:m.groupScheduleCode,onChange:ne=>b({...m,groupScheduleCode:ne.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:m.groupScheduleDesc,onChange:ne=>b({...m,groupScheduleDesc:ne.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:x?i?"Updating...":"Submitting...":i?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:W,disabled:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Qt,{})]})}const jy=ae.defaults.uploadedBaseURL||"https://localhost:7264/uploaded/HelpSetUp";function lQ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({code:"",description:"",fileName:""}),[p,v]=o.useState(null),[g,y]=o.useState([]),[C,j]=o.useState(!1),[S,P]=o.useState(""),D=10,[T,A]=o.useState({}),M=O=>T[O]===!0;o.useEffect(()=>{L()},[]);const L=()=>{const O=localStorage.getItem("loginPayload");if(O)try{const be=(JSON.parse(O).permissions||[]).filter(ge=>ns(ge.formName)==="HelpSetUp"),je={};be.forEach(ge=>{const xe=ns(ge.accessTypeName);xe&&(je[xe]=!0)}),A(je)}catch(he){console.error("Error parsing or decrypting payload",he)}};o.useEffect(()=>{q()},[]);const q=async()=>{j(!0),P("");try{const O=await ae.get("/Fs/Process/HelpSetUp");O.status===200&&O.data&&y(O.data)}catch(O){const he=O.response?.data?.message||O.message||"Failed to load help items";P(he),console.error("Error fetching help items:",O)}finally{j(!1)}},B=O=>`${jy}/${O}`,te=O=>{O&&window.open(B(O),"_blank","noopener,noreferrer")},oe=g.filter(O=>O.code.toLowerCase().includes(t.toLowerCase())||O.description.toLowerCase().includes(t.toLowerCase())||O.fileName.toLowerCase().includes(t.toLowerCase())),fe=Math.ceil(oe.length/D),R=(i-1)*D,V=oe.slice(R,R+D);o.useEffect(()=>{d(1)},[t]);const W=()=>{N({code:"",description:"",fileName:""}),v(null),a(!0)},ne=O=>{h(O),N({code:O.code,description:O.description,fileName:O.fileName}),v(null),l(!0)},J=async O=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete help item "${O.code}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/HelpSetUp/${O.id}`),await Q.fire({icon:"success",title:"Success",text:"Help item deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(ye){await Q.fire({icon:"error",title:"Error",text:ye.response?.data?.message||ye.message||"Failed to delete help item"})}},H=O=>{const he=O.target.files?.[0];he&&(v(he),N(ye=>({...ye,fileName:he.name})))},F=async O=>{if(O.preventDefault(),!f.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(g.some(he=>he.code.toLowerCase()===f.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different one."});return}b(!0);try{const he=new FormData;he.append("id","0"),he.append("code",f.code),he.append("description",f.description),he.append("fileName",f.fileName),p&&he.append("file",p),await ae.post("/Fs/Process/HelpSetUp",he,{headers:{"Content-Type":"multipart/form-data"}}),await Q.fire({icon:"success",title:"Success",text:"Help item created successfully.",timer:2e3,showConfirmButton:!1}),await q(),a(!1)}catch(he){await Q.fire({icon:"error",title:"Error",text:he.response?.data?.message||he.message||"An error occurred"})}finally{b(!1)}},I=async O=>{if(O.preventDefault(),!!x){if(!f.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(g.some(he=>he.id!==x.id&&he.code.toLowerCase()===f.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different one."});return}b(!0);try{const he=new FormData;he.append("id",String(x.id)),he.append("code",f.code),he.append("description",f.description),he.append("fileName",f.fileName),p&&he.append("file",p),await ae.put(`/Fs/Process/HelpSetUp/${x.id}`,he,{headers:{"Content-Type":"multipart/form-data"}}),await Q.fire({icon:"success",title:"Success",text:"Help item updated successfully.",timer:2e3,showConfirmButton:!1}),await q(),l(!1),h(null)}catch(he){await Q.fire({icon:"error",title:"Error",text:he.response?.data?.message||he.message||"An error occurred"})}finally{b(!1)}}},U=()=>{a(!1),l(!1),h(null),v(null)};o.useEffect(()=>{const O=he=>{he.key==="Escape"&&(r?a(!1):n&&(l(!1),h(null)))};return(r||n)&&document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[r,n]);const k=(O,he)=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:O?"Edit Help Item":"Create New"}),e.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:he,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Help Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:f.code,onChange:ye=>N({...f,code:ye.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:f.description,onChange:ye=>N({...f,description:ye.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"File Name :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"file",onChange:H,id:O?"file-upload-edit":"file-upload-create",className:"hidden"}),e.jsx("label",{htmlFor:O?"file-upload-edit":"file-upload-create",className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 cursor-pointer text-sm text-gray-700 transition-colors",children:"Choose File"}),e.jsx("span",{className:"text-sm text-gray-600",children:p?p.name:f.fileName||"No file chosen"}),O&&f.fileName&&e.jsxs("button",{type:"button",onClick:()=>te(f.fileName),className:"ml-2 px-3 py-1.5 bg-blue-50 border border-blue-300 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-1.5 text-sm flex-shrink-0",title:`Open: ${jy}/${f.fileName}`,children:[e.jsx(JN,{className:"w-3.5 h-3.5"}),"View File"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:m?O?"Updating...":"Submitting...":O?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:U,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]})]})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Help Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create and manage help documentation, user guides, and reference materials for the timekeeping system to assist users with various features and functionalities."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Comprehensive help documentation","Custom topic organization","Detailed content management","User-friendly reference system"].map(O=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:O})]},O))})]})]})}),M("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[M("Add")&&e.jsxs("button",{onClick:W,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"})," Create New"]}),M("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:O=>s(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:C?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading help items..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):M("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"File"}),(M("Edit")||M("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.length>0?V.map(O=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:O.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:O.description}),e.jsx("td",{className:"px-6 py-4 text-sm",children:O.fileName?e.jsxs("button",{type:"button",onClick:()=>te(O.fileName),className:"text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1 transition-colors",title:`Open: ${jy}/${O.fileName}`,children:[O.fileName,e.jsx(JN,{className:"w-3.5 h-3.5"})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No file"})}),(M("Edit")||M("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[M("Edit")&&e.jsx("button",{onClick:()=>ne(O),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),M("Edit")&&M("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),M("Delete")&&e.jsx("button",{onClick:()=>J(O),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},O.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),M("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",oe.length>0?R+1:0," to ",Math.min(R+D,oe.length)," of ",oe.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(O=>Math.max(1,O-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:fe},(O,he)=>he+1).map(O=>e.jsx("button",{onClick:()=>d(O),className:`px-3 py-1 rounded transition-colors ${i===O?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:O},O)),e.jsx("button",{onClick:()=>d(O=>Math.min(fe||1,O+1)),disabled:i>=fe||oe.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),r&&k(!1,F),n&&x&&k(!0,I),e.jsx(Qt,{})]})}function iQ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(1),[m,b]=o.useState(null),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState({code:"",description:"",chargeableTo:"",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}),[C,j]=o.useState([{id:1,code:"BL",description:"Birthday Leave",chargeableTo:"BL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:2,code:"HL",description:"Home Leave",chargeableTo:"HL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:3,code:"PL",description:"Paternity Leave",chargeableTo:"PL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:4,code:"SL",description:"Sick Leave",chargeableTo:"SL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:5,code:"SPL",description:"Solo Parent Leave",chargeableTo:"SPL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:6,code:"VL",description:"Vacation Leave",chargeableTo:"VL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:7,code:"WN",description:"Leave with notice",chargeableTo:"WN",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}]),S=10,[P,D]=o.useState({}),T=F=>P[F]===!0;o.useEffect(()=>{A()},[]);const A=()=>{const F=localStorage.getItem("loginPayload");if(F)try{const k=(JSON.parse(F).permissions||[]).filter(he=>ns(he.formName)==="LeaveTypeSetUp"),O={};k.forEach(he=>{const ye=ns(he.accessTypeName);ye&&(O[ye]=!0)}),D(O)}catch(I){console.error("Error parsing or decrypting payload",I)}},M=C.filter(F=>F.code.toLowerCase().includes(t.toLowerCase())||F.description.toLowerCase().includes(t.toLowerCase())||F.chargeableTo.toLowerCase().includes(t.toLowerCase())),L=Math.ceil(M.length/S),q=(x-1)*S,B=M.slice(q,q+S),te=()=>{y({code:"",description:"",chargeableTo:"",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}),N(""),a(!0)},oe=F=>{b(F),y({code:F.code,description:F.description,chargeableTo:F.chargeableTo,withPay:F.withPay,noBalance:F.noBalance,requiredAdvancedFiling:F.requiredAdvancedFiling,exemptedFromAllowanceDeduction:F.exemptedFromAllowanceDeduction,legal:F.legal,special:F.special,special2:F.special2,doubleLegal:F.doubleLegal,nonWorking:F.nonWorking}),N(""),l(!0)},fe=F=>{confirm("Are you sure you want to delete this leave type?")&&j(I=>I.filter(U=>U.id!==F))},R=F=>{F.preventDefault();const I={id:Math.max(...C.map(U=>U.id),0)+1,code:g.code,description:g.description,chargeableTo:g.chargeableTo,withPay:g.withPay,noBalance:g.noBalance,requiredAdvancedFiling:g.requiredAdvancedFiling,exemptedFromAllowanceDeduction:g.exemptedFromAllowanceDeduction,legal:g.legal,special:g.special,special2:g.special2,doubleLegal:g.doubleLegal,nonWorking:g.nonWorking};j(U=>[...U,I]),a(!1)},V=F=>{F.preventDefault(),m&&(j(I=>I.map(U=>U.id===m.id?{...U,code:g.code,description:g.description,chargeableTo:g.chargeableTo,withPay:g.withPay,noBalance:g.noBalance,requiredAdvancedFiling:g.requiredAdvancedFiling,exemptedFromAllowanceDeduction:g.exemptedFromAllowanceDeduction,legal:g.legal,special:g.special,special2:g.special2,doubleLegal:g.doubleLegal,nonWorking:g.nonWorking}:U)),l(!1),b(null))},W=()=>{a(!1),l(!1),b(null)},ne=()=>{v(""),d(!0)},J=F=>{y({...g,chargeableTo:F}),d(!1),v("")},H=C.filter(F=>F.code.toLowerCase().includes(p.toLowerCase())||F.description.toLowerCase().includes(p.toLowerCase()));return o.useEffect(()=>{const F=I=>{I.key==="Escape"&&(i?d(!1):r?a(!1):n&&(l(!1),b(null)))};return(i||r||n)&&document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[i,r,n]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-slate-700 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-white-700 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-20 left-1/2 transform -translate-x-1/2 w-96 h-96 bg-slate-600 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Leave Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and configure different types of employee leaves including vacation, sick leave, emergency leave, and other leave categories with specific rules and earning code mappings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple leave type categories"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code integration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible leave policies"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Comprehensive leave management"})]})]})]})]})}),T("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[T("Add")&&e.jsxs("button",{onClick:te,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),T("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:F=>s(F.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),T("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Chargeable To"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"With Pay"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"No Balance"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Required Advanced Filing"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Exempted From Allowance Deduction"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Legal"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Special"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Special 2"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Double Legal"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Non-Working"}),(T("Edit")||T("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:B.length>0?B.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:F.code}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:F.description}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:F.chargeableTo}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.withPay,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.noBalance,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.requiredAdvancedFiling,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.exemptedFromAllowanceDeduction,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.legal,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.special,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.special2,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.doubleLegal,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:F.nonWorking,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4",children:(T("Edit")||T("Delete"))&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[T("Edit")&&e.jsx("button",{onClick:()=>oe(F),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),T("Edit")&&T("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),T("Delete")&&e.jsx("button",{onClick:()=>fe(F.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),T("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",M.length>0?q+1:0," to ",Math.min(q+S,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(F=>Math.max(1,F-1)),disabled:x===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{className:`px-3 py-1 rounded ${x===1?"bg-blue-500 text-white":"text-blue-600 hover:bg-gray-100"}`,onClick:()=>h(1),children:"1"}),e.jsx("button",{onClick:()=>h(F=>Math.min(L||1,F+1)),disabled:x>=L||M.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:R,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Type Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Code :"}),e.jsx("input",{type:"text",value:g.code,onChange:F=>y({...g,code:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Description :"}),e.jsx("input",{type:"text",value:g.description,onChange:F=>y({...g,description:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Chargeable To :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"text",value:g.chargeableTo,onChange:F=>y({...g,chargeableTo:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:ne,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>y({...g,chargeableTo:""}),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:g.withPay,onChange:F=>y({...g,withPay:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"No Balance :"}),e.jsx("input",{type:"checkbox",checked:g.noBalance,onChange:F=>y({...g,noBalance:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Required Advanced Filing :"}),e.jsx("input",{type:"checkbox",checked:g.requiredAdvancedFiling,onChange:F=>y({...g,requiredAdvancedFiling:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Exempted From Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:g.exemptedFromAllowanceDeduction,onChange:F=>y({...g,exemptedFromAllowanceDeduction:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.legal,onChange:F=>y({...g,legal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.special,onChange:F=>y({...g,special:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday 2 Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.special2,onChange:F=>y({...g,special2:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Double Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.doubleLegal,onChange:F=>y({...g,doubleLegal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Non-Working Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.nonWorking,onChange:F=>y({...g,nonWorking:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Submit"}),e.jsx("button",{type:"button",onClick:W,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Leave Type"}),e.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:V,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Type Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Code :"}),e.jsx("input",{type:"text",value:g.code,onChange:F=>y({...g,code:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Description :"}),e.jsx("input",{type:"text",value:g.description,onChange:F=>y({...g,description:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Chargeable To :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"text",value:g.chargeableTo,onChange:F=>y({...g,chargeableTo:F.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:ne,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>y({...g,chargeableTo:""}),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:g.withPay,onChange:F=>y({...g,withPay:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"No Balance :"}),e.jsx("input",{type:"checkbox",checked:g.noBalance,onChange:F=>y({...g,noBalance:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Required Advanced Filing :"}),e.jsx("input",{type:"checkbox",checked:g.requiredAdvancedFiling,onChange:F=>y({...g,requiredAdvancedFiling:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Exempted From Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:g.exemptedFromAllowanceDeduction,onChange:F=>y({...g,exemptedFromAllowanceDeduction:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.legal,onChange:F=>y({...g,legal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.special,onChange:F=>y({...g,special:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday 2 Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.special2,onChange:F=>y({...g,special2:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Double Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.doubleLegal,onChange:F=>y({...g,doubleLegal:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Non-Working Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:g.nonWorking,onChange:F=>y({...g,nonWorking:F.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Update"}),e.jsx("button",{type:"button",onClick:W,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Search"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-600 hover:text-gray-800 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-blue-600",children:"Leave Type"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:F=>v(F.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"",autoFocus:!0})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-900",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-900",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:H.length>0?H.map(F=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>J(F.code),children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:F.code}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:F.description})]},F.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-12 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available"})})})})]})})]})})]})}),e.jsx(Qt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function cQ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(null),[p,v]=o.useState({key:null,direction:"asc"}),[g,y]=o.useState({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),[C,j]=o.useState([]),S=[{value:"M",label:"Monthly"},{value:"S",label:"Semi-Monthly"},{value:"D",label:"Daily"},{value:"W",label:"Weekly"}],P=k=>{const O=S.find(he=>he.value===k);return O?O.label:k};o.useEffect(()=>{D()},[]);const D=async()=>{b(!0);try{const k=await ae.get("/Fs/Process/PayRollLocationSetUp");k.status===200&&k.data&&j(k.data)}catch(k){const O=k.response?.data?.message||k.message||"Failed to load payroll locations";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error fetching payroll locations:",k)}finally{b(!1)}},T=k=>{let O="asc";p.key===k&&p.direction==="asc"&&(O="desc"),v({key:k,direction:O})},A=k=>p.key!==k?"":p.direction==="asc"?"":"",L=[...C.filter(k=>k.locCode?.toLowerCase().includes(r.toLowerCase())||k.locName?.toLowerCase().includes(r.toLowerCase())||P(k.payCode)?.toLowerCase().includes(r.toLowerCase()))].sort((k,O)=>{if(!p.key)return 0;const he=k[p.key],ye=O[p.key];return he==null?1:ye==null?-1:he<ye?p.direction==="asc"?-1:1:he>ye?p.direction==="asc"?1:-1:0}),q=20,B=Math.ceil(L.length/q),te=(n-1)*q,oe=te+q,fe=L.slice(te,oe),R=()=>{const k=[];if(B<=5)return Array.from({length:B},(ye,be)=>be+1);k.push(1),n>3&&k.push("...");const O=Math.max(2,n-1),he=Math.min(B-1,n+1);for(let ye=O;ye<=he;ye++)k.push(ye);return n<B-2&&k.push("..."),k.push(B),k};o.useEffect(()=>{l(1)},[r]);const[V,W]=o.useState({}),ne=k=>V[k]===!0;o.useEffect(()=>{J()},[]);const J=()=>{const k=localStorage.getItem("loginPayload");if(k)try{const ye=(JSON.parse(k).permissions||[]).filter(je=>ns(je.formName)==="PayrollLocationSetup"),be={};ye.forEach(je=>{const ge=ns(je.accessTypeName);ge&&(be[ge]=!0)}),W(be)}catch(O){console.error("Error parsing or decrypting payload",O)}},H=()=>{y({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),d(!1),N(null),s(!0)},F=k=>{y({locCode:k.locCode||"",locName:k.locName||"",payCode:k.payCode||"M",noOfDays:k.noOfDays?.toString()||"0",noOfHours:k.noOfHours?.toString()||"0",totalPeriod:k.totalPeriod?.toString()||"0"}),d(!0),N(k.id),s(!0)},I=async k=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${k.locName}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/PayRollLocationSetUp/${k.id}`),await Q.fire({icon:"success",title:"Success",text:"Payroll location deleted successfully.",timer:2e3,showConfirmButton:!1}),await D()}catch(he){const ye=he.response?.data?.message||he.message||"Failed to delete payroll location";await Q.fire({icon:"error",title:"Error",text:ye})}},U=async()=>{if(!g.locCode.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Please enter a Location Code."});return}h(!0);try{const k={id:0,locId:0,locCode:g.locCode,locName:g.locName||null,payCode:g.payCode||null,noOfDays:parseInt(g.noOfDays)||0,noOfHours:parseInt(g.noOfHours)||0,totalPeriod:parseInt(g.totalPeriod)||0,confidential:null,notedBy:null,preparedBy:null,reviewedBy:null,approvedBy:null,nonTaxAccum:0,header:null,desc1:null,desc2:null,desc3:null,desc4:null,contribFormula:null,contribPayPer:0,ins:null,insPayPer:0,pagIbig:null,pagPayPer:0,sssContrib:null,sssPayPer:0,philContrib:null,philPayPer:0,companyCode:null,clsCode:null,rateCode:null,costCenter1:null,costCenter2:null};if(i&&f!==null){const O={...k,id:f};await ae.put(`/Fs/Process/PayRollLocationSetUp/${f}`,O),await Q.fire({icon:"success",title:"Success",text:"Payroll location updated successfully.",timer:2e3,showConfirmButton:!1})}else await ae.post("/Fs/Process/PayRollLocationSetUp",k),await Q.fire({icon:"success",title:"Success",text:"Payroll location created successfully.",timer:2e3,showConfirmButton:!1});s(!1),y({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),d(!1),N(null),await D()}catch(k){console.error("Error details:",k.response?.data||k.message);const O=k.response?.data?.message||k.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:O})}finally{h(!1)}};return o.useEffect(()=>{const k=O=>{O.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Payroll Location Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define payroll locations with specific pay schedules and period configurations. Set up location-based payroll processing parameters including pay codes, working days, hours, and total periods."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Location-specific pay schedules","Daily and semi-monthly configurations","Working days and hours setup","Total period definitions"].map(k=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:k})]},k))})]})]})}),ne("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ne("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:H,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),ne("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:k=>a(k.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),ne("View")?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>T("locCode"),children:["Loc Code ",A("locCode")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>T("locName"),children:["Loc Name ",A("locName")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>T("payCode"),children:["Pay Code ",A("payCode")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>T("noOfDays"),children:["No. of Days ",A("noOfDays")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>T("noOfHours"),children:["No. of Hours ",A("noOfHours")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>T("totalPeriod"),children:["Total Period ",A("totalPeriod")]}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:m?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):fe.length>0?fe.map(k=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:k.locCode}),e.jsx("td",{className:"px-4 py-2",children:k.locName}),e.jsx("td",{className:"px-4 py-2",children:P(k.payCode)}),e.jsx("td",{className:"px-4 py-2",children:k.noOfDays}),e.jsx("td",{className:"px-4 py-2",children:k.noOfHours}),e.jsx("td",{className:"px-4 py-2",children:k.totalPeriod}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>F(k),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>I(k),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},k.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available"})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),ne("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",L.length===0?0:te+1," to ",Math.min(oe,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(k=>Math.max(k-1,1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),R().map((k,O)=>k==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${O}`):e.jsx("button",{onClick:()=>l(k),className:`px-4 py-2 rounded text-sm font-medium ${n===k?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:k},k)),e.jsx("button",{onClick:()=>l(k=>Math.min(k+1,B)),disabled:n===B||B===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit Payroll Location":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Payroll Location Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Loc Code :"}),e.jsx("input",{type:"text",value:g.locCode,onChange:k=>y({...g,locCode:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Loc Name :"}),e.jsx("input",{type:"text",value:g.locName,onChange:k=>y({...g,locName:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Pay Code :"}),e.jsx("select",{value:g.payCode,onChange:k=>y({...g,payCode:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:S.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"No. Of Days :"}),e.jsx("input",{type:"number",value:g.noOfDays,onChange:k=>y({...g,noOfDays:k.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"No. Of Hours :"}),e.jsx("input",{type:"number",value:g.noOfHours,onChange:k=>y({...g,noOfHours:k.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Total Period :"}),e.jsx("input",{type:"number",value:g.totalPeriod,onChange:k=>y({...g,totalPeriod:k.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:U,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Processing...":i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})})]})]})}),e.jsx(Qt,{})]})}function dQ(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(null),x=({checked:j,onChange:S,disabled:P})=>e.jsx("div",{onClick:()=>!P&&S(!j),className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all
        ${P?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        ${j?"bg-blue-600 border-blue-600":"bg-white border-gray-400 hover:border-gray-500"}`,children:j&&e.jsx(Ue,{className:"w-4 h-4 text-white stroke-[3]"})}),h=j=>j.replace(/[^\d]/g,""),[m,b]=o.useState({numOfMinBeforeTheShift:"",numOfMinToIgnoreMultipleOutInBreak:"",numOfMinBeforeMidnightShift:"",devicePolicy:"Device11",retryCount:"",retryInterval:"",noOfMinToConsiderBrk2In:"",oldOvertimeProc:!1,oldNighDiffProc:!1,oldTardinessProc:!1,useHHMM:!1,borrowedDeviceNameOrg:"",disableMultipleLogin:!1,brk1Brk3NoMinutes:"",brk2NoMinutes:"",noFlag_Break1:"",noFlag_Break2:"",noFlag_Break3:""}),[f,N]=o.useState({}),p=j=>f[j]===!0;o.useEffect(()=>{v()},[]);const v=()=>{const j=localStorage.getItem("loginPayload");if(j)try{const D=(JSON.parse(j).permissions||[]).filter(A=>ns(A.formName)==="SystemConfig"),T={};D.forEach(A=>{const M=ns(A.accessTypeName);M&&(T[M]=!0)}),N(T)}catch(S){console.error("Error parsing or decrypting payload",S)}};o.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const j=await ae.get("/Fs/Process/Device/SystemConfiguration");if(console.log("API Response:",j),j.status===200&&j.data){let S;if(Array.isArray(j.data)?S=j.data[0]:S=j.data,!S){console.error("No config data found");return}d(S);const P={numOfMinBeforeTheShift:String(S.numOfMinBeforeTheShift??""),numOfMinToIgnoreMultipleOutInBreak:String(S.numOfMinToIgnoreMultipleOutInBreak??""),numOfMinBeforeMidnightShift:String(S.numOfMinBeforeMidnightShift??""),devicePolicy:S.devicePolicy||"Device11",retryCount:String(S.retryCount??""),retryInterval:String(S.retryInterval??""),noOfMinToConsiderBrk2In:String(S.noOfMinToConsiderBrk2In??""),oldOvertimeProc:!!S.oldOvertimeProc,oldNighDiffProc:!!S.oldNighDiffProc,oldTardinessProc:!!S.oldTardinessProc,useHHMM:!!S.useHHMM,borrowedDeviceNameOrg:S.borrowedDeviceNameOrg??"",disableMultipleLogin:!!S.disableMultipleLogin,brk1Brk3NoMinutes:String(S.brk1Brk3NoMinutes??""),brk2NoMinutes:String(S.brk2NoMinutes??""),noFlag_Break1:S.noFlag_Break1!==null&&S.noFlag_Break1!==void 0?String(S.noFlag_Break1):"",noFlag_Break2:S.noFlag_Break2!==null&&S.noFlag_Break2!==void 0?String(S.noFlag_Break2):"",noFlag_Break3:S.noFlag_Break3!==null&&S.noFlag_Break3!==void 0?String(S.noFlag_Break3):""};b(P)}}catch(j){console.error("Fetch error:",j),await Q.fire({icon:"error",title:"Error",text:j.response?.data?.message||j.message||"Failed to load system configuration"})}finally{a(!1)}},y=async()=>{l(!0);try{const j={id:i?.id||1,numOfMinBeforeTheShift:parseInt(m.numOfMinBeforeTheShift)||0,numOfMinToIgnoreMultipleOutInBreak:parseInt(m.numOfMinToIgnoreMultipleOutInBreak)||0,numOfMinBeforeMidnightShift:parseInt(m.numOfMinBeforeMidnightShift)||0,devicePolicy:m.devicePolicy,retryCount:parseInt(m.retryCount)||0,retryInterval:parseInt(m.retryInterval)||0,noOfMinToConsiderBrk2In:parseInt(m.noOfMinToConsiderBrk2In)||0,oldOvertimeProc:m.oldOvertimeProc,oldNighDiffProc:m.oldNighDiffProc,oldTardinessProc:m.oldTardinessProc,useHHMM:m.useHHMM,borrowedDeviceNameOrg:m.borrowedDeviceNameOrg||null,disableMultipleLogin:m.disableMultipleLogin,brk1Brk3NoMinutes:parseInt(m.brk1Brk3NoMinutes)||0,brk2NoMinutes:parseInt(m.brk2NoMinutes)||0,noFlag_Break1:m.noFlag_Break1?parseInt(m.noFlag_Break1):null,noFlag_Break2:m.noFlag_Break2?parseInt(m.noFlag_Break2):null,noFlag_Break3:m.noFlag_Break3?parseInt(m.noFlag_Break3):null};await ae.put("/Fs/Process/Device/SystemConfiguration/1",j),await Q.fire({icon:"success",title:"Success",text:"System configuration saved successfully.",timer:2e3,showConfirmButton:!1}),s(!1),await g()}catch(j){await Q.fire({icon:"error",title:"Error",text:j.response?.data?.message||j.message||"Failed to save system configuration"})}finally{l(!1)}},C=()=>{i&&b({numOfMinBeforeTheShift:String(i.numOfMinBeforeTheShift),numOfMinToIgnoreMultipleOutInBreak:String(i.numOfMinToIgnoreMultipleOutInBreak),numOfMinBeforeMidnightShift:String(i.numOfMinBeforeMidnightShift),devicePolicy:i.devicePolicy||"Device11",retryCount:String(i.retryCount),retryInterval:String(i.retryInterval),noOfMinToConsiderBrk2In:String(i.noOfMinToConsiderBrk2In),oldOvertimeProc:i.oldOvertimeProc,oldNighDiffProc:i.oldNighDiffProc,oldTardinessProc:i.oldTardinessProc,useHHMM:i.useHHMM,borrowedDeviceNameOrg:i.borrowedDeviceNameOrg||"",disableMultipleLogin:i.disableMultipleLogin,brk1Brk3NoMinutes:String(i.brk1Brk3NoMinutes),brk2NoMinutes:String(i.brk2NoMinutes),noFlag_Break1:i.noFlag_Break1!==null?String(i.noFlag_Break1):"",noFlag_Break2:i.noFlag_Break2!==null?String(i.noFlag_Break2):"",noFlag_Break3:i.noFlag_Break3!==null?String(i.noFlag_Break3):""}),s(!1)};return o.useEffect(()=>{const j=S=>{S.key==="Escape"&&t&&C()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[t,i]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"System Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure system-wide settings for time and attendance processing. Define device policies, pairing rules, overtime calculations, and various system behaviors to match your organization's requirements."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Device pairing policies and configurations","Overtime and tardiness process options","Break time and shift validation rules","System retry and interval settings"].map(j=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:j})]},j))})]})]})}),e.jsxs("div",{className:"mb-6",children:[!t&&p("Edit")&&e.jsxs("button",{onClick:()=>s(!0),disabled:r,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]}),t&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:y,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ar,{className:"w-4 h-4"}),n?"Saving...":"Save"]}),e.jsxs("button",{onClick:C,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]})]}),r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})}):p("View")?i?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Overtime Process :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx(x,{checked:m.oldOvertimeProc,onChange:j=>b({...m,oldOvertimeProc:j}),disabled:!t}),e.jsx("p",{className:"text-sm text-green-600",children:"Use Old Overtime Process"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Night Differential Process :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx(x,{checked:m.oldNighDiffProc,onChange:j=>b({...m,oldNighDiffProc:j}),disabled:!t}),e.jsx("p",{className:"text-sm text-green-600",children:"Use Old Night Differential Process"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Old Tardiness Process :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx(x,{checked:m.oldTardinessProc,onChange:j=>b({...m,oldTardinessProc:j}),disabled:!t}),e.jsx("p",{className:"text-sm text-green-600",children:"Use Old Tardiness Process"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Borrowed Device Name Org :"}),e.jsx("input",{type:"text",value:m.borrowedDeviceNameOrg,onChange:j=>b({...m,borrowedDeviceNameOrg:j.target.value}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 disabled:bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Disable Multiple Login :"}),e.jsx(x,{checked:m.disableMultipleLogin,onChange:j=>b({...m,disableMultipleLogin:j}),disabled:!t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Use HH:MM :"}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{checked:m.useHHMM,onChange:j=>b({...m,useHHMM:j}),disabled:!t}),e.jsx("p",{className:"text-sm text-green-600",children:"To show HH:MM format in processing/processed data"})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No. of Min. Before the Shift :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:m.numOfMinBeforeTheShift,onChange:j=>b({...m,numOfMinBeforeTheShift:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Used in Validate Logs in Import ",">"," Update Raw Data"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No. of Min. to Ignore Multiple Break Out/In :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:m.numOfMinToIgnoreMultipleOutInBreak,onChange:j=>b({...m,numOfMinToIgnoreMultipleOutInBreak:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be triggered when your Device Policy is Device 4"}),e.jsx("p",{className:"text-sm text-green-600",children:"During pairing of Breaks The system will ignore Multiple breaks when the difference of break is equal or less than to defined policy."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No. of Min. Before Midnight Shift :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:m.numOfMinBeforeMidnightShift,onChange:j=>b({...m,numOfMinBeforeMidnightShift:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be triggered when Midnight Shift is check in workshift."})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Retry Count :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:m.retryCount,onChange:j=>b({...m,retryCount:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be the count on retries when deadlock occured."})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Retry Interval :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:m.retryInterval,onChange:j=>b({...m,retryInterval:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This will be the interval of system before retries when deadlock occured."}),e.jsx("p",{className:"text-sm text-green-600",children:"Note: that this setup is in seconds"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"No of Min. to Consider Break2 In :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:m.noOfMinToConsiderBrk2In,onChange:j=>b({...m,noOfMinToConsiderBrk2In:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100"}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"This is the number of minutes to consider as the pair of Break 2 Out, this is used in Device 5."})]})]})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700",children:"Device Policy :"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("select",{value:m.devicePolicy,onChange:j=>b({...m,devicePolicy:j.target.value}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 disabled:bg-gray-100",children:[e.jsx("option",{value:"Device11",children:"Device 11"}),e.jsx("option",{value:"Device1",children:"Device 1"}),e.jsx("option",{value:"Device2",children:"Device 2"}),e.jsx("option",{value:"Device3",children:"Device 3"}),e.jsx("option",{value:"Device4",children:"Device 4"}),e.jsx("option",{value:"Device5",children:"Device 5"}),e.jsx("option",{value:"Device6",children:"Device 6"}),e.jsx("option",{value:"Device7",children:"Device 7"}),e.jsx("option",{value:"Device8",children:"Device 8"}),e.jsx("option",{value:"Device9",children:"Device 9"}),e.jsx("option",{value:"Device10",children:"Device 10"}),e.jsx("option",{value:"Device12",children:"Device 12"}),e.jsx("option",{value:"Device13",children:"Device 13"}),e.jsx("option",{value:"Device14",children:"Device 14"}),e.jsx("option",{value:"Device15",children:"Device 15"}),e.jsx("option",{value:"Device12_v810",children:"Device 12_v810"})]}),e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"Leave blank if you want the default pairing of logs."})]})]})}),e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"text-gray-700 mb-3 font-semibold",children:"Device Policy Descriptions:"}),e.jsx("ul",{className:"space-y-2 text-sm",children:[{dev:"Device 1",desc:"First in Last Out Regardless of flagging"},{dev:"Device 2",desc:"First In = Time In, Second In = Break2 In, First Out = Break2 Out, Second Out = Time Out (if no second out First Out will become Time Out)"},{dev:"Device 3",desc:"First Flag for Break1Out = Break1Out, Second Flag for Break1Out = Break3Out, First flag for Break1In = Break1In, Last flag for break1In = Break3In"},{dev:"Device 4",desc:"First Flag for BreakIn = Break1In, Second Flag for BreakIn = Break2In, Third Flag for BreakIn = Break3In, First Flag for BreakOut = Break1Out, Second Flag for BreakOut = Break2Out, Third Flag for BreakOut = Break3Out"},{dev:"Device 5",desc:"If there is First Flag of any Break before Any flag of In/Out, Flagging of In/Out will always be Out."},{dev:"Device 6",desc:"From Windows Validation."},{dev:"Device 7",desc:"All Logs that falls on 6:00am Current Date to 5:59am the next day will be paired to Current Date"},{dev:"Device 8",desc:"24 Hours Pairing"},{dev:"Device 9",desc:"Standard pairing but First Time Out will pair"},{dev:"Device 10",desc:"First In of the current day and last out before first in of next day"},{dev:"Device 11",desc:"24 Hours Pairing With Workshift Validation"},{dev:"Device 12",desc:"24 Hours Pairing Device8 Replica"},{dev:"Device 13",desc:"24 Hours Pairing Breaks Flag are the Same"},{dev:"Device 14",desc:"Device10 Replica"},{dev:"Device 15",desc:"24 Hours Pairing Breaks IN/OUT Flags is same with IN/OUT Flags"},{dev:"Device 12_v810",desc:"Device12 of v810"}].map(({dev:j,desc:S})=>e.jsxs("li",{children:[e.jsx("strong",{className:"text-gray-700",children:j}),e.jsxs("p",{className:"text-gray-600 ml-4",children:["- ",S]})]},j))})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"text-blue-700 mb-3 font-semibold",children:"Policy for Utility to Update the Time Flag Base on Set Policy of Breaks"}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"No Flags - Break Hours Policy from Time In"}),e.jsx("div",{className:"bg-gray-100 p-3 rounded mb-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-24 text-sm text-gray-700",children:"Break1 (min)"}),e.jsx("input",{type:"text",value:m.noFlag_Break1,onChange:j=>b({...m,noFlag_Break1:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100",placeholder:"minutes"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-24 text-sm text-gray-700",children:"Break2 (min)"}),e.jsx("input",{type:"text",value:m.noFlag_Break2,onChange:j=>b({...m,noFlag_Break2:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100",placeholder:"minutes"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-24 text-sm text-gray-700",children:"Break3 (min)"}),e.jsx("input",{type:"text",value:m.noFlag_Break3,onChange:j=>b({...m,noFlag_Break3:h(j.target.value)}),disabled:!t,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 disabled:bg-gray-100",placeholder:"minutes"})]})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"text-red-600",children:"No configuration data available"})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),e.jsx(Qt,{})]})}function uQ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(1),[i,d]=o.useState(!1),[x,h]=o.useState(null),m=o.useRef(null),[b,f]=o.useState({overtime:"",lunchDeduction:""}),[N,p]=o.useState([]),v=L=>{let B=L.replace(/[^\d:]/g,"").replace(/:/g,"");return B=B.slice(0,4),B.length>=3?B.slice(0,2)+":"+B.slice(2):B.length>=1?B:""},g=N.filter(L=>L.overtime.toLowerCase().includes(r.toLowerCase())||L.lunchDeduction.toLowerCase().includes(r.toLowerCase())),y=25,C=Math.ceil(g.length/y),j=(n-1)*y,S=j+y,P=g.slice(j,S),D=()=>{f({overtime:"",lunchDeduction:""}),d(!1),h(null),s(!0)},T=(L,q)=>{f({overtime:L.overtime,lunchDeduction:L.lunchDeduction}),h(q),d(!0),s(!0)},A=L=>{confirm(`Are you sure you want to delete workshift "${L}"?`)&&p(q=>q.filter((B,te)=>te!==L))},M=()=>{if(!b.overtime.trim()){alert("Please enter Overtime hours.");return}if(!b.lunchDeduction.trim()){alert("Please enter Lunch Deduction hours.");return}p(i&&x!==null?L=>L.map((q,B)=>B===x?{overtime:b.overtime,lunchDeduction:b.lunchDeduction}:q):L=>[...L,{overtime:b.overtime,lunchDeduction:b.lunchDeduction}]),s(!1),d(!1),h(null)};return o.useEffect(()=>{const L=q=>{q.key==="Escape"&&t&&s(!1)};return t&&(document.addEventListener("keydown",L),setTimeout(()=>{m.current?.focus()},100)),()=>{document.removeEventListener("keydown",L)}},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpaid Lunch Deduction Bracket Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define unpaid lunch deduction brackets based on overtime hours worked. Configure automatic lunch break deductions that apply when employees exceed specified overtime thresholds."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime-based deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated lunch calculations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Time-based brackets"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible deduction rules"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:D,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:L=>a(L.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Overtime [hh:mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Lunch Deduction [hh:mm]"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:P.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No data available in table"})}):P.map((L,q)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:L.overtime}),e.jsx("td",{className:"px-4 py-2",children:L.lunchDeduction}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>T(L,j+q),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>A(j+q),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},q))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",g.length===0?0:j+1," to ",Math.min(S,g.length)," of ",g.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(L=>Math.max(1,L-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(L=>Math.min(C,L+1)),disabled:n===C||C===0,children:"Next"})]})]}),t&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Unpaid Lunch Deduction Bracket Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OTHours :"}),e.jsx("input",{type:"text",value:b.overtime,onChange:L=>f({...b,overtime:v(L.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]",ref:m})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Lunch Deduction :"}),e.jsx("input",{type:"text",value:b.lunchDeduction,onChange:L=>f({...b,lunchDeduction:v(L.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh:mm]"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:M,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})})]})]})}),e.jsx(Qt,{})]})}function xQ(){const t="w-4 h-4 appearance-none border-2 border-gray-400 rounded bg-white checked:bg-blue-600 checked:border-blue-600 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50",[s,r]=o.useState("definition"),[a,n]=o.useState(!1),[l,i]=o.useState(""),[d,x]=o.useState("1"),[h,m]=o.useState("Batangas1 Balagtas Monthly Payroll"),[b,f]=o.useState(!1),[N,p]=o.useState(""),[v,g]=o.useState("1"),[y,C]=o.useState("Batangas Balagtas Monthly Payroll"),[j,S]=o.useState("05/05/2021"),[P,D]=o.useState("05/05/2021"),[T,A]=o.useState("August"),[M,L]=o.useState("2"),[q,B]=o.useState(""),[te,oe]=o.useState(!1),[fe,R]=o.useState(""),[V,W]=o.useState(!1),[ne,J]=o.useState(""),[H,F]=o.useState(!1),[I,U]=o.useState(""),[k,O]=o.useState(!1),[he,ye]=o.useState(""),[be,je]=o.useState(!1),[ge,xe]=o.useState(""),[Se,De]=o.useState("09/29/2025"),[Fe,Ae]=o.useState("09/29/2025"),[ze,He]=o.useState(!1),[Ve,qe]=o.useState(""),[ve,Me]=o.useState(!1),[Te,Le]=o.useState(!1),[ot,Je]=o.useState(!1),[Ge,et]=o.useState(""),[yt,mt]=o.useState(""),[jt,we]=o.useState(""),[Re,me]=o.useState(""),[Ye,pt]=o.useState(""),[Ft,Bt]=o.useState(!0),[Lt,Qe]=o.useState(""),[gt,vt]=o.useState(!1),[xt,Ct]=o.useState(!1),[Nt,$e]=o.useState("10:00 PM"),[Ke,ce]=o.useState("6:00 AM"),[Ee,pe]=o.useState(!1),[at,ut]=o.useState(!0),[_t,it]=o.useState("2.00"),[bt,se]=o.useState("3"),[ue,Z]=o.useState(!1),[G,Y]=o.useState(!0),[_,ie]=o.useState(!0),[_e,Ie]=o.useState("3.00"),[ke,X]=o.useState(""),[Ne,ee]=o.useState(!1),[de,re]=o.useState(""),[We,ft]=o.useState(!1),[$t,z]=o.useState("12"),[Pe,Xe]=o.useState(""),[as,us]=o.useState(""),[tt,Zt]=o.useState(""),[kt,zt]=o.useState("tardiness"),[ds,Js]=o.useState(""),[Tt,Ht]=o.useState("ABSENT"),[ms,Nr]=o.useState("NOLOGIN"),[xr,hr]=o.useState("NOLOGOUT"),[Br,ha]=o.useState(""),[tr,sr]=o.useState(""),[Ca,ct]=o.useState("ROT"),[Vt,ws]=o.useState("RDOT"),[Ys,Ks]=o.useState("LEGAL"),[qs,lr]=o.useState("SPECIAL"),[Xr,ir]=o.useState(!1),[cr,vr]=o.useState(!1),[lt,os]=o.useState(!1),[Ds,mr]=o.useState("0.00"),[Qs,jr]=o.useState(!1),[Oe,At]=o.useState(!1),[Mt,pr]=o.useState(!1),[Bs,Cr]=o.useState("3.00"),[Ja,dn]=o.useState(!1),[un,Ia]=o.useState(!1),[Qa,ao]=o.useState("0"),[An,Un]=o.useState("0"),[Jr,Qr]=o.useState("0"),[no,rt]=o.useState("0"),[fs,Os]=o.useState(""),[Xt,Rr]=o.useState(!1),Zr=[{id:"definition",label:"TKS Group Definition",icon:Us},{id:"login-policy",label:"Login Policy",icon:yp},{id:"overtime",label:"Overtime Rates",icon:fr},{id:"other",label:"Other Policies",icon:vi},{id:"system",label:"SystemConfiguration",icon:wx}],oa=["January","February","March","April","May","June","July","August","September","October","November","December"];o.useEffect(()=>{const dt=Ws=>{Ws.key==="Escape"&&(b?f(!1):a?n(!1):te?oe(!1):V?W(!1):H?F(!1):k?O(!1):be&&je(!1))};return document.addEventListener("keydown",dt),()=>{document.removeEventListener("keydown",dt)}},[a,b,te,V,H,k,be]);const wr=()=>{x(""),m(""),g(""),C(""),S(""),D(""),A("January"),L(""),B(""),De(""),Ae(""),He(!1),qe(""),Me(!1),Le(!1),Je(!1),et(""),mt(""),we(""),me(""),pt(""),Bt(!1),Qe(""),vt(!1),Ct(!1),$e(""),ce(""),pe(!1),ut(!1),it(""),se(""),Z(!1),Y(!1),ie(!1),Ie(""),X(""),ee(!1),re(""),ft(!1),z(""),Xe(""),us(""),Zt(""),zt(""),Js(""),Ht(""),Nr(""),hr(""),ha(""),sr(""),ct(""),ws(""),Ks(""),lr(""),ir(!1),vr(!1),os(!1),mr(""),jr(!1),At(!1),pr(!1),Cr(""),Ia(!1),ao(""),Un(""),Qr(""),rt(""),Os(""),Rr(!0),r("definition")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Time Keep Group"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure time keeping groups with detailed policies including login rules, overtime rates, grace periods, and system configurations for automated payroll processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group definitions and payroll location setup"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Login policies and grace period rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime rates and special calculations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Cut-off dates and terminal configurations"})]})]})]})]})}),e.jsx("div",{className:"flex items-center gap-3 mb-6",children:Xt?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{Rr(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ar,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{onClick:()=>Rr(!1),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:wr,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("button",{onClick:()=>Rr(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(is,{className:"w-4 h-4"}),"Delete"]}),e.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:Zr.map(dt=>{const Ws=dt.icon;return e.jsxs("button",{onClick:()=>r(dt.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${s===dt.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ws,{className:"w-4 h-4"}),dt.label]},dt.id)})}),s==="definition"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4 max-w-full",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:d,onChange:dt=>x(dt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Description"}),e.jsx("input",{type:"text",value:h,onChange:dt=>m(dt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"Payroll Location Code"}),e.jsxs("div",{className:"flex-1 min-w-0 flex gap-2",children:[e.jsx("input",{type:"text",value:v,onChange:dt=>g(dt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(!0),className:"px-3 py-2 rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md active:scale-95",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm bg-red-600 text-white hover:bg-red-700 hover:shadow-md active:scale-95",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"Payroll Description"}),e.jsx("input",{type:"text",value:y,onChange:dt=>C(dt.target.value),readOnly:!Xt,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3",children:"Time Keep Cut Off Dates"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"Month"}),e.jsx("select",{value:T,onChange:dt=>A(dt.target.value),disabled:!Xt,className:`w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"bg-white":"bg-gray-50"}`,children:oa.map(dt=>e.jsx("option",{value:dt,children:dt},dt))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"Period"}),e.jsx("input",{type:"text",value:M,onChange:dt=>L(dt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Date From"}),e.jsx(an,{value:j,onChange:dt=>S(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Date To"}),e.jsx(an,{value:P,onChange:dt=>D(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Terminal ID"}),e.jsx("input",{type:"text",value:q,onChange:dt=>B(dt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3",children:"Auto Pairing Logs Cut-Off Dates"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"From:"}),e.jsx(an,{value:Se,onChange:dt=>De(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"To:"}),e.jsx(an,{value:Fe,onChange:dt=>Ae(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]})]})]})]})}),s==="login-policy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:d,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none text-sm bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Definition"}),e.jsx("input",{type:"text",value:h,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none text-sm bg-gray-100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Semi-Annual"}),e.jsx("input",{type:"checkbox",checked:ze,onChange:dt=>He(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Per Day"}),e.jsx("input",{type:"text",value:Ve,onChange:dt=>qe(dt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Include in Tardiness"}),e.jsx("input",{type:"checkbox",checked:ve,onChange:dt=>Me(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Include Break 2 in Grace Period"}),e.jsx("input",{type:"checkbox",checked:Te,onChange:dt=>Le(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Deductible even within grace period"}),e.jsx("input",{type:"checkbox",checked:ot,onChange:dt=>Je(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Per Semi-Annual"}),e.jsx("input",{type:"text",value:Ge,onChange:dt=>et(dt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"1st Half Semi-Annual Date From"}),e.jsx(an,{value:yt,onChange:dt=>mt(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"1st Half Semi-Annual Date To"}),e.jsx(an,{value:jt,onChange:dt=>we(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"2nd Half Semi-Annual Date From"}),e.jsx(an,{value:Re,onChange:dt=>me(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"2nd Half Semi-Annual Date To"}),e.jsx(an,{value:Ye,onChange:dt=>pt(dt),disabled:!Xt,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Deduct Over Break"}),e.jsx("input",{type:"checkbox",checked:Ft,onChange:dt=>Bt(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period for Calamity 2"}),e.jsx("input",{type:"text",value:Lt,onChange:dt=>Qe(dt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Combine Tardiness for TimeIn and Break2"}),e.jsx("input",{type:"checkbox",checked:gt,onChange:dt=>vt(dt.target.checked),className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Compute Tardiness For No Logout"}),e.jsx("input",{type:"checkbox",checked:xt,onChange:dt=>Ct(dt.target.checked),className:t})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Night Diff. Start Time"}),e.jsx("input",{type:"text",value:Nt,onChange:dt=>$e(dt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Night Diff. End Time"}),e.jsx("input",{type:"text",value:Ke,onChange:dt=>ce(dt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Deduct Meal Break in ND Comp."}),e.jsx("input",{type:"checkbox",checked:Ee,onChange:dt=>pe(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"2 Shifts In A Day"}),e.jsx("input",{type:"checkbox",checked:at,onChange:dt=>ut(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Hours Interval for 2 Shifts in A Day"}),e.jsx("input",{type:"text",value:_t,onChange:dt=>it(dt.target.value),readOnly:!Xt,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm pt-1",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Allowable Grace Period in a Month"}),e.jsx("input",{type:"text",value:bt,onChange:dt=>se(dt.target.value),readOnly:!Xt,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Exclude the no. of Allowable Grace Period in Bracket"}),e.jsx("input",{type:"checkbox",checked:ue,onChange:dt=>Z(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Allowable Grace Period in a Month Based on Actual Month"}),e.jsx("input",{type:"checkbox",checked:G,onChange:dt=>Y(dt.target.checked),className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Consider Saturday as Paid Regular Hours"}),e.jsx("input",{type:"checkbox",checked:_,onChange:dt=>ie(dt.target.checked),className:t})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Max. Days Per Week to Consider UnWorked Saturday As Paid Regular Hours"}),e.jsx("input",{type:"text",value:_e,onChange:dt=>Ie(dt.target.value),className:"w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Allowable Tardy in Excess of Grace Period in a Month"}),e.jsx("input",{type:"text",value:ke,onChange:dt=>X(dt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Exclude Tardiness Within Grace Period in Count for Allowable Tardy in Excess of Grace Period in a Month"}),e.jsx("input",{type:"checkbox",checked:Ne,onChange:dt=>ee(dt.target.checked),className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Supervisory GroupCode"}),e.jsx("input",{type:"text",value:de,onChange:dt=>re(dt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>O(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>re(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Apply Occurances to Break1 and Break3"}),e.jsx("input",{type:"checkbox",checked:We,onChange:dt=>ft(dt.target.checked),className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Max No. of Occurances for no deduction"}),e.jsx("input",{type:"text",value:$t,onChange:dt=>z(dt.target.value),className:"w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Grace Period"}),e.jsx("input",{type:"text",value:Pe,onChange:dt=>Xe(dt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No of Hrs Required to Complete Per Week"}),e.jsx("input",{type:"text",value:as,onChange:dt=>us(dt.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-gray-500 text-sm pt-1",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Start of Week"}),e.jsx("input",{type:"text",value:tt,onChange:dt=>Zt(dt.target.value),className:"w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"computeType",value:"tardiness",checked:kt==="tardiness",onChange:dt=>zt(dt.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute as Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"computeType",value:"undertime",checked:kt==="undertime",onChange:dt=>zt(dt.target.value),className:"w-4 h-4"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute as Undertime"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"OT Code Per Week"}),e.jsx("input",{type:"text",value:ds,onChange:dt=>Js(dt.target.value),readOnly:!Xt,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>je(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Js(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-gray-700 mb-4",children:"Default Equivalent Hours To Be Deducted for Absent, No Login, and No Logout if No Shift Defined"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For Absent"}),e.jsx("input",{type:"text",value:Tt,onChange:dt=>Ht(dt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ht(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Break 2 Out"}),e.jsx("input",{type:"text",value:Br,onChange:dt=>ha(dt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Login"}),e.jsx("input",{type:"text",value:ms,onChange:dt=>Nr(dt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>W(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Nr(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Break 2 In"}),e.jsx("input",{type:"text",value:tr,onChange:dt=>sr(dt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Logout"}),e.jsx("input",{type:"text",value:xr,onChange:dt=>hr(dt.target.value),readOnly:!Xt,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`}),Xt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>F(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>hr(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]})]})]}),s==="overtime"&&e.jsx(OvertimeRatesTabContent,{tksGroupCode:d,tksGroupDescription:h,isEditMode:Xt,regularDayOT:Ca,setRegularDayOT:ct,restDayOT:Vt,setRestDayOT:ws,legalHolidayOT:Ys,setLegalHolidayOT:Ks,specialHolidayOT:qs,setSpecialHolidayOT:lr,otBreakMinHours:Ds,setOtBreakMinHours:mr}),s==="other"&&e.jsx(OtherPoliciesTabContent,{tksGroupCode:d,tksGroupDescription:h,isEditMode:Xt}),s==="system"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Use Timekeeping System Config :"}),e.jsx("input",{type:"checkbox",checked:un,onChange:dt=>Ia(dt.target.checked),disabled:!Xt,className:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. Before the Shift :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsxs("li",{className:"text-green-600 text-sm",children:[" Used in Validate Logs in Import ",">"," Update Raw Data"]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. to Ignore Multiple Break Out/In :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsxs("ul",{className:"ml-6 space-y-1",children:[e.jsx("li",{className:"text-green-600 text-sm",children:" This will be triggered when your Device Policy is Device 4"}),e.jsx("li",{className:"text-green-600 text-sm",children:"During pairing of Breaks The system will ignore Multiple breaks when the difference of break is equal or less than to defined policy."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. Before Midnight Shift :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" This will be triggered when Midnight Shift is check in workshift."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No of Min. to Consider Break2 In :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!Xt,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" This is the number of minutes to consider as the pair of Break 2 Out, this is used in Device 5."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Device Policy :"}),e.jsx("input",{type:"text",readOnly:!Xt,className:`w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${Xt?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" Leave blank if you want the default pairing of logs."})})]}),e.jsxs("div",{className:"ml-6 space-y-3 text-sm",children:[e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 1"})," - First In Last Out Regardless of flagging"]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 2"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First In = Time In"}),e.jsx("div",{children:"Second In = Break2 In"}),e.jsx("div",{children:"First Out = Break2 Out"}),e.jsx("div",{children:"Second Out = Time Out (if no second out First Out will become Time Out)"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 3"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First Flag for Break1Out = Break1Out"}),e.jsx("div",{children:"Second Flag for Break1Out = Break3Out"}),e.jsx("div",{children:"First flag for Break1In = Break1In"}),e.jsx("div",{children:"Last flag for break1In = Break3In"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 4"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First Flag for BreakIn = Break1In"}),e.jsx("div",{children:"Second Flag for BreakIn = Break2In"}),e.jsx("div",{children:"Third Flag for BreakIn = Break3In"}),e.jsx("div",{children:"First Flag for BreakOut = Break1Out"}),e.jsx("div",{children:"Second Flag for BreakOut = Break2Out"}),e.jsx("div",{children:"Third Flag for BreakOut = Break3Out"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 5"}),e.jsx("br",{}),"If there is First Flag of any Break before Any flag of In/Out, Flagging of In/Out will always be Out."]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 6"}),e.jsx("br",{}),"From Windows Validation."]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 7"}),e.jsx("br",{}),"All Logs that falls on 6:00am Current Date to 5:59am the next day will be paired to Current Date"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 8"}),e.jsx("br",{}),"24 Hours Pairing"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 9"}),e.jsx("br",{}),"Standard pairing but First Time Out will pair"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 10"}),e.jsx("br",{}),"First In of the current day and last out before first in of next day"]})})]})]})]}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>n(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:dt=>dt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"TKS Group"}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:dt=>i(dt.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code or description..."})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Desc"})]})}),e.jsx("tbody",{children:[{code:"1",desc:"Batangas1 Balagtas Monthly Payroll"},{code:"10",desc:"Batangas Monthly Cash Payroll with Paycard"},{code:"100",desc:""},{code:"101",desc:"Main Batangas Daily"},{code:"102",desc:"Main Batangas Daily with Paycard"},{code:"103",desc:"Main Batangas Monthly"},{code:"104",desc:"Main Batangas Monthly with Paycard"},{code:"105",desc:"Nueva Ecija Monthly Payroll"},{code:"106",desc:"Nueva Ecija Daily Payroll"},{code:"107",desc:"Nueva Ecija Monthly Cash Payroll"}].filter(dt=>l===""||dt.code.toLowerCase().includes(l.toLowerCase())||dt.desc.toLowerCase().includes(l.toLowerCase())).map((dt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{x(dt.code),m(dt.desc),n(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:dt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:dt.desc})]},dt.code))})]})}),e.jsxs("div",{className:"px-6 py-3 border-t border-gray-200 flex items-center justify-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"12"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>n(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Close"})})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>f(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl",onClick:dt=>dt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Payroll Location"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:N,onChange:dt=>p(dt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:[{code:"1",desc:"Batangas Balagtas Monthly Payroll"},{code:"2",desc:"Batangas Balagtas Satellite Monthly Cash"},{code:"3",desc:"Batangas Cavite Satellite Daily Cash"},{code:"4",desc:"Batangas Cavite Satellie Monthly Cash"},{code:"5",desc:"Batangas Cavite Satellite"},{code:"6",desc:"Batangas Daily"},{code:"7",desc:"Batangas Daily Cash Payroll with Paycard"},{code:"8",desc:"Batangas Employees with the same employee number"},{code:"9",desc:"Batangas Monthly Cash 2"},{code:"10",desc:"Batangas Monthly Cash Payroll with Paycard"}].filter(dt=>N===""||dt.code.toLowerCase().includes(N.toLowerCase())||dt.desc.toLowerCase().includes(N.toLowerCase())).map((dt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{g(dt.code),C(dt.desc),f(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:dt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:dt.desc})]},dt.code))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Showing 1 to 10 of 115 entries"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"12"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})]})})]})}),te&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>oe(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:dt=>dt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>oe(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:fe,onChange:dt=>R(dt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:["ABSENT"].filter(dt=>dt.toLowerCase().includes(fe.toLowerCase())).map((dt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Ht(dt),oe(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:dt}),e.jsx("td",{className:"py-2 text-gray-800",children:dt}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"})]},Ws))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),V&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>W(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:dt=>dt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>W(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:ne,onChange:dt=>J(dt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:["NOLOGIN"].filter(dt=>dt.toLowerCase().includes(ne.toLowerCase())).map((dt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Nr(dt),W(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:dt}),e.jsx("td",{className:"py-2 text-gray-800",children:dt}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"})]},Ws))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),H&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>F(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:dt=>dt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>F(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:dt=>U(dt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:["NOLOGOUT"].filter(dt=>dt.toLowerCase().includes(I.toLowerCase())).map((dt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{hr(dt),F(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:dt}),e.jsx("td",{className:"py-2 text-gray-800",children:dt}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"}),e.jsx("td",{className:"py-2 text-gray-800",children:"8.0"})]},Ws))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),k&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>O(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl",onClick:dt=>dt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"TKS Group"}),e.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:he,onChange:dt=>ye(dt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Desc"})]})}),e.jsx("tbody",{children:[{code:"1",desc:"Batangas1 Balagtas Monthly Payroll"},{code:"10",desc:"Batangas Monthly Cash Payroll with Paycard"},{code:"100",desc:"Main Batangas Monthly"},{code:"101",desc:"Main Batangas Daily"},{code:"102",desc:"Main Batangas Daily with Paycard"},{code:"103",desc:"Main Batangas Monthly"},{code:"104",desc:"Main Batangas Monthly with Paycard"},{code:"105",desc:"Nueva Ecija Monthly Payroll"},{code:"106",desc:"Nueva Ecija Daily Payroll"},{code:"107",desc:"Nueva Ecija Monthly Cash Payroll"}].filter(dt=>he===""||dt.code.toLowerCase().includes(he.toLowerCase())||dt.desc.toLowerCase().includes(he.toLowerCase())).map((dt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{re(dt.code),O(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:dt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:dt.desc})]},dt.code))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("span",{className:"px-2 text-gray-500",children:"..."}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"12"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})})]})}),be&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>je(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:dt=>dt.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>je(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:ge,onChange:dt=>xe(dt.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Rate"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Default Amount"})]})}),e.jsx("tbody",{children:[{code:"ADJ_PAY",desc:"Adjustment",rate:"100.00",defaultAmount:"0.00"},{code:"ATESTOT1",desc:"TEST OT 11",rate:"123.00",defaultAmount:"0.00"},{code:"BASC_RATE",desc:"Basic Rate",rate:"100.00",defaultAmount:"0.00"},{code:"HOLIDAY",desc:"Unworked Holiday Pay",rate:"100.00",defaultAmount:"0.00"},{code:"HOLMON",desc:"Holiday Monthly",rate:"0.00",defaultAmount:"0.00"},{code:"ND_BASIC",desc:"Night Differential Basic Rate",rate:"10.00",defaultAmount:"0.00"},{code:"ND_LHF8",desc:"ND Legal Holiday First 8 Hours",rate:"20.00",defaultAmount:"0.00"},{code:"ND_LHRDF8",desc:"ND Legal Holiday falls on Rest Day First 8 Hours",rate:"26.00",defaultAmount:"0.00"},{code:"ND_LHRDX8",desc:"ND Legal Holiday falls on Rest Day Excess of 8 Hours",rate:"33.80",defaultAmount:"0.00"},{code:"ND_LHX8",desc:"ND Legal Holiday Excess of 8 Hours",rate:"26.00",defaultAmount:"0.00"}].filter(dt=>ge===""||dt.code.toLowerCase().includes(ge.toLowerCase())||dt.desc.toLowerCase().includes(ge.toLowerCase())).map((dt,Ws)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ws%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Js(dt.code),je(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:dt.code}),e.jsx("td",{className:"py-2 text-gray-800",children:dt.desc}),e.jsx("td",{className:"py-2 text-gray-800",children:dt.rate}),e.jsx("td",{className:"py-2 text-gray-800",children:dt.defaultAmount})]},dt.code))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Showing 1 to 10 of 68 entries"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"6"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"7"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})]})})]})})]})}),e.jsx(Qt,{})]})}const dm="/Fs/Process/Device/BorrowedDeviceName";function hQ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=10,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(null),[y,C]=o.useState(!1),[j,S]=o.useState([]),[P,D]=o.useState(!1),[T,A]=o.useState("");o.useEffect(()=>{M()},[]);const M=async()=>{D(!0),A("");try{const I=await ae.get(dm);I.status===200&&I.data&&S(I.data)}catch(I){const U=I.response?.data?.message||I.message||"Failed to load devices";A(U),console.error("Error fetching devices:",I)}finally{D(!1)}},[L,q]=o.useState({}),B=I=>L[I]===!0;o.useEffect(()=>{te()},[]);const te=()=>{const I=localStorage.getItem("loginPayload");if(I)try{const O=(JSON.parse(I).permissions||[]).filter(ye=>ns(ye.formName)==="BorrowedDeviceNameSetUp"),he={};O.forEach(ye=>{const be=ns(ye.accessTypeName);be&&(he[be]=!0)}),q(he)}catch(U){console.error("Error parsing or decrypting payload",U)}};o.useEffect(()=>{const I=U=>{U.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[t]);const oe=()=>{l(!1),d(null),g(null),f(""),p(""),s(!0)},fe=(I,U)=>{l(!0),d(U),g(I.id),f(I.code),p(I.description),s(!0)},R=async I=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete device ${I.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`${dm}/${I.id}`),await Q.fire({icon:"success",title:"Success",text:"Device deleted successfully.",timer:2e3,showConfirmButton:!1}),await M()}catch(k){const O=k.response?.data?.message||k.message||"Failed to delete device";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error deleting device:",k)}},V=async()=>{if(!b.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(j.some((U,k)=>n&&i===k?!1:U.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}C(!0);try{const U={id:n&&v?v:0,code:b,description:N};n&&v?(await ae.put(`${dm}/${v}`,U),await Q.fire({icon:"success",title:"Success",text:"Device updated successfully.",timer:2e3,showConfirmButton:!1}),await M()):(await ae.post(dm,U),await Q.fire({icon:"success",title:"Success",text:"Device created successfully.",timer:2e3,showConfirmButton:!1}),await M()),s(!1),f(""),p(""),g(null),l(!1),d(null)}catch(U){const k=U.response?.data?.message||U.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:k}),console.error("Error submitting form:",U)}finally{C(!1)}},W=j.filter(I=>I.code.toLowerCase().includes(r.toLowerCase())||I.description.toLowerCase().includes(r.toLowerCase())),ne=Math.ceil(W.length/m),J=(x-1)*m,H=J+m,F=W.slice(J,H);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Borrowed Device Name"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage borrowed biometric devices used temporarily across different locations. Track device codes and maintain descriptions for loaned equipment to ensure proper time log attribution."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location flexibility"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Quick device lookup"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Temporary assignments"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[B("Add")&&B("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:oe,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),B("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:I=>a(I.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:P?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading devices..."})}):T?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:T})}):B("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(B("Edit")||B("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:F.length>0?F.map((I,U)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:I.code}),e.jsx("td",{className:"px-4 py-2",children:I.description}),(B("Edit")||B("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[B("Edit")&&e.jsx("button",{onClick:()=>fe(I,U),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),B("Edit")&&B("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),B("Delete")&&e.jsx("button",{onClick:()=>R(I),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},I.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),B("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",W.length===0?0:J+1," to ",Math.min(H,W.length)," of ",W.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(I=>Math.max(I-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ne},(I,U)=>U+1).map(I=>e.jsx("button",{onClick:()=>h(I),className:`px-3 py-1 rounded transition-colors ${x===I?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:I},I)),e.jsx("button",{onClick:()=>h(I=>Math.min(I+1,ne)),disabled:x===ne||ne===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Device":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Borrowed Device Name"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:I=>f(I.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:N,onChange:I=>p(I.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:V,disabled:y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:y?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:y,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Qt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function mQ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({flagCode:"",timeIn:"",timeOut:"",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:""}),[p,v]=o.useState(!1),[g,y]=o.useState(!1),[C,j]=o.useState(!1),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState(!1),[L,q]=o.useState(!1),[B,te]=o.useState(!1),[oe,fe]=o.useState([]),[R,V]=o.useState(!1),[W,ne]=o.useState(""),J=10,[H,F]=o.useState({}),I=Ve=>H[Ve]===!0;o.useEffect(()=>{U()},[]);const U=()=>{const Ve=localStorage.getItem("loginPayload");if(Ve)try{const Me=(JSON.parse(Ve).permissions||[]).filter(Le=>ns(Le.formName)==="DTRFlagSetup"),Te={};Me.forEach(Le=>{const ot=ns(Le.accessTypeName);ot&&(Te[ot]=!0)}),F(Te)}catch(qe){console.error("Error parsing or decrypting payload",qe)}};o.useEffect(()=>{k()},[]);const k=async()=>{V(!0),ne("");try{const Ve=await ae.get("/Fs/Process/Device/DTRFlagSetUp");Ve.status===200&&Ve.data&&fe(Ve.data)}catch(Ve){const qe=Ve.response?.data?.message||Ve.message||"Failed to load DTR flags";ne(qe),console.error("Error fetching DTR flags:",Ve)}finally{V(!1)}},O=oe.filter(Ve=>Ve.flagCode?.toLowerCase().includes(t.toLowerCase())||Ve.timeIn?.toLowerCase().includes(t.toLowerCase())||Ve.timeOut?.toLowerCase().includes(t.toLowerCase())||Ve.break1Out?.toLowerCase().includes(t.toLowerCase())||Ve.break1In?.toLowerCase().includes(t.toLowerCase())||Ve.break2Out?.toLowerCase().includes(t.toLowerCase())||Ve.break2In?.toLowerCase().includes(t.toLowerCase())||Ve.break3Out?.toLowerCase().includes(t.toLowerCase())||Ve.break3In?.toLowerCase().includes(t.toLowerCase())),he=Math.ceil(O.length/J),ye=(i-1)*J,be=O.slice(ye,ye+J),je=()=>{v(!1),y(!1),j(!1),P(!1),T(!1),M(!1),q(!1),te(!1)},ge=()=>{N({flagCode:"",timeIn:"",timeOut:"",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:""}),je(),a(!0)},xe=Ve=>{h(Ve),N({flagCode:Ve.flagCode,timeIn:Ve.timeIn,timeOut:Ve.timeOut,break1Out:Ve.break1Out,break1In:Ve.break1In,break2Out:Ve.break2Out,break2In:Ve.break2In,break3Out:Ve.break3Out,break3In:Ve.break3In}),je(),l(!0)},Se=async Ve=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete DTR flag "${Ve.flagCode}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Device/DTRFlagSetUp/${Ve.id}`),await Q.fire({icon:"success",title:"Success",text:"DTR flag deleted successfully.",timer:2e3,showConfirmButton:!1}),await k()}catch(ve){const Me=ve.response?.data?.message||ve.message||"Failed to delete DTR flag";await Q.fire({icon:"error",title:"Error",text:Me}),console.error("Error deleting DTR flag:",ve)}},De=async Ve=>{if(Ve.preventDefault(),!f.flagCode.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Flag Code is required."});return}if(oe.some(ve=>ve.flagCode.toLowerCase()===f.flagCode.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Flag Code",text:"This flag code is already in use. Please use a different code."});return}b(!0);try{const ve={id:0,flagCode:f.flagCode,timeIn:f.timeIn,timeOut:f.timeOut,break1Out:f.break1Out,break1In:f.break1In,break2Out:f.break2Out,break2In:f.break2In,break3Out:f.break3Out,break3In:f.break3In};await ae.post("/Fs/Process/Device/DTRFlagSetUp",ve),await Q.fire({icon:"success",title:"Success",text:"DTR flag created successfully.",timer:2e3,showConfirmButton:!1}),await k(),a(!1)}catch(ve){const Me=ve.response?.data?.message||ve.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Me}),console.error("Error creating DTR flag:",ve)}finally{b(!1)}},Fe=async Ve=>{if(Ve.preventDefault(),!x)return;if(!f.flagCode.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Flag Code is required."});return}if(oe.some(ve=>ve.id!==x.id&&ve.flagCode.toLowerCase()===f.flagCode.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Flag Code",text:"This flag code is already in use. Please use a different code."});return}b(!0);try{const ve={id:x.id,flagCode:f.flagCode,timeIn:f.timeIn,timeOut:f.timeOut,break1Out:f.break1Out,break1In:f.break1In,break2Out:f.break2Out,break2In:f.break2In,break3Out:f.break3Out,break3In:f.break3In};await ae.put(`/Fs/Process/Device/DTRFlagSetUp/${x.id}`,ve),await Q.fire({icon:"success",title:"Success",text:"DTR flag updated successfully.",timer:2e3,showConfirmButton:!1}),await k(),l(!1),h(null)}catch(ve){const Me=ve.response?.data?.message||ve.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Me}),console.error("Error updating DTR flag:",ve)}finally{b(!1)}},Ae=()=>{a(!1),l(!1),h(null),je()};o.useEffect(()=>{const Ve=qe=>{qe.key==="Escape"&&(r?(a(!1),je()):n&&(l(!1),h(null),je()))};return(r||n)&&document.addEventListener("keydown",Ve),()=>{document.removeEventListener("keydown",Ve)}},[r,n]);const ze=(Ve,qe,ve,Me)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:[Ve," :"]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:f[qe],onChange:Te=>N({...f,[qe]:Te.target.value}),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{type:"button",onClick:()=>Me(!ve),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",title:"Pick time",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),ve&&e.jsx(ya,{initialTime:f[qe],onTimeSelect:Te=>{N({...f,[qe]:Te}),Me(!1)},onClose:()=>Me(!1)})]})]}),He=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Flag Code :"}),e.jsx("input",{type:"text",value:f.flagCode,maxLength:10,onChange:Ve=>N({...f,flagCode:Ve.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),ze("Time In","timeIn",p,v),ze("Time Out","timeOut",g,y),ze("Break1 Out","break1Out",C,j),ze("Break1 In","break1In",S,P),ze("Break2 Out","break2Out",D,T),ze("Break2 In","break2In",A,M),ze("Break3 Out","break3Out",L,q),ze("Break3 In","break3In",B,te)]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"DTR Flag Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure DTR (Daily Time Record) flag codes that identify different types of attendance transactions. Map flag values from biometric devices to corresponding time log actions like clock-in, clock-out, and break periods."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Transaction identification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Break time tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-flag support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device compatibility"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[I("Add")&&I("View")&&e.jsxs("button",{onClick:ge,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),I("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:Ve=>{s(Ve.target.value),d(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden overflow-x-auto",children:R?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading DTR flags..."})}):W?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:W})}):I("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Flag Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Time In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Time Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break1 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break1 In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break2 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break2 In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break3 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break3 In"}),(I("Edit")||I("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:be.length>0?be.map(Ve=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:Ve.flagCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.timeIn}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.timeOut}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.break1Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.break1In}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.break2Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.break2In}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.break3Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:Ve.break3In}),(I("Edit")||I("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[I("Edit")&&e.jsx("button",{onClick:()=>xe(Ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),I("Edit")&&I("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),I("Delete")&&e.jsx("button",{onClick:()=>Se(Ve),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ve.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),I("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",O.length>0?ye+1:0," to ",Math.min(ye+J,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(Ve=>Math.max(1,Ve-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:he},(Ve,qe)=>qe+1).map(Ve=>e.jsx("button",{onClick:()=>d(Ve),className:`px-3 py-1 rounded transition-colors ${i===Ve?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ve},Ve)),e.jsx("button",{onClick:()=>d(Ve=>Math.min(he||1,Ve+1)),disabled:i>=he||O.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:De,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag Setup"}),He(),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:Ae,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit DTR Flag"}),e.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Fe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag Setup"}),He(),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:Ae,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(Qt,{})]})}function pQ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(null),[m,b]=o.useState(!1),[f,N]=o.useState({code:"",description:"",deviceType:"Excel File",deviceFormat:"Excel Format",flagCode:"",dateFormat:"MM DD YYYY",dateSeparator:"/",empCodePos:0,empCodeNoOfChar:0,datePos:0,dateNoOfChar:0,timePos:0,timeNoOfChar:0,flagPos:0,flagNoOfChar:0,terminalPos:0,terminalNoOfChar:0,monthPos:0,monthNoOfChar:0,dayPos:0,dayNoOfChar:0,yearPos:0,yearNoOfChar:0,hourPos:0,hourNoOfChar:0,minutesPos:0,minutesNoOfChar:0,timePeriodPos:0,timePeriodNoOfChar:0,combineDateTime:!0,identifierPos:0,identifierNoOfChar:0}),[p,v]=o.useState([]),[g,y]=o.useState(!1),[C,j]=o.useState(""),[S,P]=o.useState(!1),[D,T]=o.useState(""),[A,M]=o.useState([]),[L,q]=o.useState(!1),B=10,[te,oe]=o.useState({}),fe=Se=>te[Se]===!0;o.useEffect(()=>{R()},[]);const R=()=>{const Se=localStorage.getItem("loginPayload");if(Se)try{const Ae=(JSON.parse(Se).permissions||[]).filter(He=>ns(He.formName)==="DTRLogFieldsSetup"),ze={};Ae.forEach(He=>{const Ve=ns(He.accessTypeName);Ve&&(ze[Ve]=!0)}),oe(ze)}catch(De){console.error("Error parsing or decrypting payload",De)}};o.useEffect(()=>{V()},[]);const V=async()=>{y(!0),j("");try{const Se=await ae.get("/Fs/Process/Device/DTRLogFIeldsSetUp");Se.status===200&&Se.data&&v(Se.data)}catch(Se){const De=Se.response?.data?.message||Se.message||"Failed to load DTR log fields";j(De),console.error("Error fetching DTR log fields:",Se)}finally{y(!1)}},W=async()=>{q(!0);try{const Se=await ae.get("/Fs/Process/Device/DTRFlagSetUp");Se.status===200&&Se.data&&M(Se.data)}catch(Se){console.error("Error fetching DTR flags:",Se)}finally{q(!1)}},ne=()=>{T(""),W(),P(!0)},J=p.filter(Se=>Se.code.toLowerCase().includes(t.toLowerCase())||Se.description.toLowerCase().includes(t.toLowerCase())||Se.deviceType.toLowerCase().includes(t.toLowerCase())||Se.deviceFormat.toLowerCase().includes(t.toLowerCase())||Se.flagCode.toLowerCase().includes(t.toLowerCase())),H=Math.ceil(J.length/B),F=(i-1)*B,I=J.slice(F,F+B);o.useEffect(()=>{d(1)},[t]);const U=()=>{N({code:"",description:"",deviceType:"Excel File",deviceFormat:"Excel Format",flagCode:"",dateFormat:"MM DD YYYY",dateSeparator:"/",empCodePos:0,empCodeNoOfChar:0,datePos:0,dateNoOfChar:0,timePos:0,timeNoOfChar:0,flagPos:0,flagNoOfChar:0,terminalPos:0,terminalNoOfChar:0,monthPos:0,monthNoOfChar:0,dayPos:0,dayNoOfChar:0,yearPos:0,yearNoOfChar:0,hourPos:0,hourNoOfChar:0,minutesPos:0,minutesNoOfChar:0,timePeriodPos:0,timePeriodNoOfChar:0,combineDateTime:!0,identifierPos:0,identifierNoOfChar:0}),a(!0)},k=Se=>{h(Se),N({code:Se.code,description:Se.description,deviceType:Se.deviceType,deviceFormat:Se.deviceFormat,flagCode:Se.flagCode,dateFormat:Se.dateFormat,dateSeparator:Se.dateSeparator,empCodePos:Se.empCodePos,empCodeNoOfChar:Se.empCodeNoOfChar,datePos:Se.datePos,dateNoOfChar:Se.dateNoOfChar,timePos:Se.timePos,timeNoOfChar:Se.timeNoOfChar,flagPos:Se.flagPos,flagNoOfChar:Se.flagNoOfChar,terminalPos:Se.terminalPos,terminalNoOfChar:Se.terminalNoOfChar,monthPos:Se.monthPos,monthNoOfChar:Se.monthNoOfChar,dayPos:Se.dayPos,dayNoOfChar:Se.dayNoOfChar,yearPos:Se.yearPos,yearNoOfChar:Se.yearNoOfChar,hourPos:Se.hourPos,hourNoOfChar:Se.hourNoOfChar,minutesPos:Se.minutesPos,minutesNoOfChar:Se.minutesNoOfChar,timePeriodPos:Se.timePeriodPos,timePeriodNoOfChar:Se.timePeriodNoOfChar,combineDateTime:Se.combineDateTime,identifierPos:Se.identifierPos,identifierNoOfChar:Se.identifierNoOfChar}),l(!0)},O=async Se=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete DTR log field "${Se.code}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Device/DTRLogFIeldsSetUp/${Se.id}`),await Q.fire({icon:"success",title:"Success",text:"DTR log field deleted successfully.",timer:2e3,showConfirmButton:!1}),await V()}catch(Fe){const Ae=Fe.response?.data?.message||Fe.message||"Failed to delete DTR log field";await Q.fire({icon:"error",title:"Error",text:Ae}),console.error("Error deleting DTR log field:",Fe)}},he=async Se=>{if(Se.preventDefault(),!f.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(p.some(Fe=>Fe.code.toLowerCase()===f.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}b(!0);try{await ae.post("/Fs/Process/Device/DTRLogFIeldsSetUp",{id:0,...f}),await Q.fire({icon:"success",title:"Success",text:"DTR log field created successfully.",timer:2e3,showConfirmButton:!1}),await V(),a(!1)}catch(Fe){const Ae=Fe.response?.data?.message||Fe.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Ae}),console.error("Error creating DTR log field:",Fe)}finally{b(!1)}},ye=async Se=>{if(Se.preventDefault(),!x)return;if(!f.code.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(p.some(Fe=>Fe.id!==x.id&&Fe.code.toLowerCase()===f.code.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}b(!0);try{await ae.put(`/Fs/Process/Device/DTRLogFIeldsSetUp/${x.id}`,{id:x.id,...f}),await Q.fire({icon:"success",title:"Success",text:"DTR log field updated successfully.",timer:2e3,showConfirmButton:!1}),await V(),l(!1),h(null)}catch(Fe){const Ae=Fe.response?.data?.message||Fe.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:Ae}),console.error("Error updating DTR log field:",Fe)}finally{b(!1)}},be=()=>{a(!1),l(!1),h(null),P(!1)};o.useEffect(()=>{const Se=De=>{De.key==="Escape"&&(S?P(!1):r?a(!1):n&&(l(!1),h(null)))};return(r||n||S)&&document.addEventListener("keydown",Se),()=>{document.removeEventListener("keydown",Se)}},[r,n,S]);const je=["Excel File","Text File","DAT File","CSV File"],ge=["Excel Format","Comma Separated","Tab Delimited","Pipe Delimited"],xe=["MM DD YYYY","DD MM YYYY","YYYY MM DD","MM/DD/YYYY","DD/MM/YYYY"];return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"DTR Log Fields Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure field mappings for importing DTR logs from various file formats. Define data positions, formats, and separators to ensure accurate parsing of employee attendance records from external sources."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Flexible import formats","Custom field mapping","Date format configuration","Multi-device support"].map(Se=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Se})]},Se))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[fe("Add")&&fe("View")&&e.jsxs("button",{onClick:U,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),fe("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:Se=>s(Se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:g?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading DTR log fields..."})}):C?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:C})}):fe("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Device Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Device Format"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),(fe("Edit")||fe("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:I.length>0?I.map(Se=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Se.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.deviceType}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.deviceFormat}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Se.flagCode}),(fe("Edit")||fe("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[fe("Edit")&&e.jsx("button",{onClick:()=>k(Se),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),fe("Edit")&&fe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),fe("Delete")&&e.jsx("button",{onClick:()=>O(Se),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Se.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),fe("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",J.length>0?F+1:0," to ",Math.min(F+B,J.length)," of ",J.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d(Se=>Math.max(1,Se-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:H},(Se,De)=>De+1).map(Se=>e.jsx("button",{onClick:()=>d(Se),className:`px-3 py-1 rounded transition-colors ${i===Se?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Se},Se)),e.jsx("button",{onClick:()=>d(Se=>Math.min(H||1,Se+1)),disabled:i>=H||J.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),(r||n)&&e.jsx(fQ,{isEdit:n,formData:f,setFormData:N,onSubmit:n?ye:he,onClose:be,submitting:m,deviceTypes:je,deviceFormats:ge,dateFormats:xe,showFlagModal:S,onOpenFlagModal:ne,onCloseFlagModal:()=>P(!1),flagSearchTerm:D,setFlagSearchTerm:T,dtrFlags:A,loadingFlags:L}),e.jsx(Qt,{})]})}function fQ({isEdit:t,formData:s,setFormData:r,onSubmit:a,onClose:n,submitting:l,deviceTypes:i,deviceFormats:d,dateFormats:x,showFlagModal:h,onOpenFlagModal:m,onCloseFlagModal:b,flagSearchTerm:f,setFlagSearchTerm:N,dtrFlags:p,loadingFlags:v}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:t?"Edit DTR Log Field":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:a,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Log Fields Setup"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:s.code,maxLength:10,onChange:g=>r({...s,code:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:s.description,onChange:g=>r({...s,description:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Flag Code :"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:s.flagCode,readOnly:!0,placeholder:"Select flag code...",className:"flex-1 min-w-0 px-3 py-1.5 border border-gray-300 rounded-lg bg-gray-50 text-sm cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:m,className:"w-8 h-8 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center flex-shrink-0",children:e.jsx(Gt,{className:"w-3.5 h-3.5"})}),e.jsx("button",{type:"button",onClick:()=>r({...s,flagCode:""}),className:"w-8 h-8 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center flex-shrink-0",children:e.jsx(nt,{className:"w-3.5 h-3.5"})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Device Type :"}),e.jsx("select",{value:s.deviceType,onChange:g=>r({...s,deviceType:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i.map(g=>e.jsx("option",{value:g,children:g},g))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Device Format :"}),e.jsx("select",{value:s.deviceFormat,onChange:g=>r({...s,deviceFormat:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:d.map(g=>e.jsx("option",{value:g,children:g},g))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Date Format :"}),e.jsx("select",{value:s.dateFormat,onChange:g=>r({...s,dateFormat:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:x.map(g=>e.jsx("option",{value:g,children:g},g))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Date Separator :"}),e.jsx("input",{type:"text",value:s.dateSeparator,onChange:g=>r({...s,dateSeparator:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Combine Date/Time :"}),e.jsx("input",{type:"checkbox",checked:s.combineDateTime,onChange:g=>r({...s,combineDateTime:g.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-gray-700 mb-4 font-medium",children:"Field Positions & Character Counts"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"EmpCode Position"}),e.jsx("input",{type:"number",value:s.empCodePos,onChange:g=>r({...s,empCodePos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"EmpCode Chars"}),e.jsx("input",{type:"number",value:s.empCodeNoOfChar,onChange:g=>r({...s,empCodeNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Date Position"}),e.jsx("input",{type:"number",value:s.datePos,onChange:g=>r({...s,datePos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Date Chars"}),e.jsx("input",{type:"number",value:s.dateNoOfChar,onChange:g=>r({...s,dateNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Position"}),e.jsx("input",{type:"number",value:s.timePos,onChange:g=>r({...s,timePos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Chars"}),e.jsx("input",{type:"number",value:s.timeNoOfChar,onChange:g=>r({...s,timeNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Month Position"}),e.jsx("input",{type:"number",value:s.monthPos,onChange:g=>r({...s,monthPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Month Chars"}),e.jsx("input",{type:"number",value:s.monthNoOfChar,onChange:g=>r({...s,monthNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Day Position"}),e.jsx("input",{type:"number",value:s.dayPos,onChange:g=>r({...s,dayPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Day Chars"}),e.jsx("input",{type:"number",value:s.dayNoOfChar,onChange:g=>r({...s,dayNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Year Position"}),e.jsx("input",{type:"number",value:s.yearPos,onChange:g=>r({...s,yearPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Year Chars"}),e.jsx("input",{type:"number",value:s.yearNoOfChar,onChange:g=>r({...s,yearNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Hour Position"}),e.jsx("input",{type:"number",value:s.hourPos,onChange:g=>r({...s,hourPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Hour Chars"}),e.jsx("input",{type:"number",value:s.hourNoOfChar,onChange:g=>r({...s,hourNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Minutes Position"}),e.jsx("input",{type:"number",value:s.minutesPos,onChange:g=>r({...s,minutesPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Minutes Chars"}),e.jsx("input",{type:"number",value:s.minutesNoOfChar,onChange:g=>r({...s,minutesNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Period Position"}),e.jsx("input",{type:"number",value:s.timePeriodPos,onChange:g=>r({...s,timePeriodPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Period Chars"}),e.jsx("input",{type:"number",value:s.timePeriodNoOfChar,onChange:g=>r({...s,timePeriodNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Flag Position"}),e.jsx("input",{type:"number",value:s.flagPos,onChange:g=>r({...s,flagPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Flag Chars"}),e.jsx("input",{type:"number",value:s.flagNoOfChar,onChange:g=>r({...s,flagNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Terminal Position"}),e.jsx("input",{type:"number",value:s.terminalPos,onChange:g=>r({...s,terminalPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Terminal Chars"}),e.jsx("input",{type:"number",value:s.terminalNoOfChar,onChange:g=>r({...s,terminalNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Identifier Position"}),e.jsx("input",{type:"number",value:s.identifierPos,onChange:g=>r({...s,identifierPos:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Identifier Chars"}),e.jsx("input",{type:"number",value:s.identifierNoOfChar,onChange:g=>r({...s,identifierNoOfChar:parseInt(g.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:l?t?"Updating...":"Creating...":t?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:n,disabled:l,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]}),h&&e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-[10] rounded-lg",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-2xl w-full max-w-2xl max-h-[95%] flex flex-col mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:"Search DTR Flag"}),e.jsx("button",{type:"button",onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Select a Flag Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",autoFocus:!0,value:f,onChange:g=>N(g.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-48 md:w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex-1 flex flex-col",children:e.jsx("div",{className:"overflow-y-auto max-h-[400px]",children:v?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0 z-20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Break 1"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const g=p.filter(y=>y.flagCode.toLowerCase().includes(f.toLowerCase()));return g.length>0?g.map(y=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors group",onClick:()=>{r({...s,flagCode:y.flagCode}),b()},children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-blue-600 group-hover:underline",children:y.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.timeOut}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[y.break1Out," - ",y.break1In]})]},y.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"px-4 py-12 text-center text-gray-500",children:["No flag codes found",f?` matching "${f}"`:""]})})})()})]})})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm transition-colors",children:"Cancel"})})]})]})})]})})}const gQ="/Fs/Process/Device/DeviceTypeSetUp",Iu="/Fs/Process/Device/DeviceTypeSetUp/DeviceType2";function yQ(){const[t,s]=o.useState(""),[r,a]=o.useState(1),[n,l]=o.useState("asc"),[i,d]=o.useState([]),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(""),[p,v]=o.useState(null),g=25,[y,C]=o.useState({}),j=R=>y[R]===!0;o.useEffect(()=>{S()},[]);const S=()=>{const R=localStorage.getItem("loginPayload");if(R)try{const ne=(JSON.parse(R).permissions||[]).filter(H=>ns(H.formName)==="DeviceTypeSetUp"),J={};ne.forEach(H=>{const F=ns(H.accessTypeName);F&&(J[F]=!0)}),C(J)}catch(V){console.error("Error parsing or decrypting payload",V)}};o.useEffect(()=>{P()},[]);const P=async()=>{h(!0),N("");try{const R=await ae.get(gQ);if(R.status===200&&R.data){const V=R.data.map((W,ne)=>({id:ne+1,deviceName:W.deviceName,isChecked:!1,deviceType2Id:null}));console.log("Fetched device types:",V),d(V),await D(V)}}catch(R){const V=R.response?.data?.message||R.message||"Failed to load device types";N(V),console.error("Error fetching device types:",R)}finally{h(!1)}},D=async R=>{b(!0);try{const V=await ae.get(Iu);if(V.status===200&&V.data){const W=new Map;V.data.forEach(H=>{W.set(H.deviceName,H.id)}),console.log("Active devices map:",Object.fromEntries(W));const J=(R||i).map(H=>({...H,isChecked:W.has(H.deviceName),deviceType2Id:W.get(H.deviceName)||null}));console.log("Updated devices with active status"),d(J)}}catch(V){console.error("Error fetching active devices:",V)}finally{b(!1)}},T=async(R,V)=>{if(console.log("handleToggleDevice called with:",{deviceId:R,deviceName:V}),p!==null){console.log("Already processing, skipping...");return}const W=i.findIndex(J=>J.deviceName===V);if(W===-1){console.error("Device not found with deviceName:",V);return}const ne=i[W];console.log("Found device at index",W,":",{id:ne.id,deviceName:ne.deviceName,isChecked:ne.isChecked,deviceType2Id:ne.deviceType2Id}),v(R);try{if(ne.isChecked&&ne.deviceType2Id){console.log("Deleting active device:",{deviceType2Id:ne.deviceType2Id,deviceName:ne.deviceName});const J=`${Iu}/${ne.deviceType2Id}`;console.log("DELETE URL:",J),await ae.delete(J),d(H=>{const F=H.findIndex(U=>U.deviceName===V);if(F===-1)return H;const I=[...H];return I[F]={...I[F],isChecked:!1,deviceType2Id:null},console.log("Updated device to unchecked:",I[F]),I})}else{const J={id:0,deviceName:ne.deviceName};console.log("POST payload:",J);const H=await ae.post(Iu,J);console.log("POST response:",H.data);const F=H.data?.id||null;console.log("New DeviceType2 ID:",F),d(I=>{const U=I.findIndex(O=>O.deviceName===V);if(U===-1)return I;const k=[...I];return k[U]={...k[U],isChecked:!0,deviceType2Id:F},console.log("Updated device to checked:",k[U]),k}),await D()}}catch(J){const H=J.response?.data?.message||J.message||"Failed to update device";await Q.fire({icon:"error",title:"Error",text:H}),console.error("Error toggling device:",J),await D()}finally{v(null)}},A=async()=>{if(p!==null)return;const R=te.every(W=>W.isChecked),V=te;v(-1);try{if(R){for(const W of V)if(W.deviceType2Id){console.log("Deleting active device with ID:",W.deviceType2Id);try{await ae.delete(`${Iu}/${W.deviceType2Id}`),d(ne=>{const J=ne.findIndex(F=>F.deviceName===W.deviceName);if(J===-1)return ne;const H=[...ne];return H[J]={...H[J],isChecked:!1,deviceType2Id:null},H})}catch(ne){console.error(`Failed to delete device ${W.deviceName}:`,ne)}}}else{for(const W of V)if(!W.isChecked)try{const ne={id:0,deviceName:W.deviceName},H=(await ae.post(Iu,ne)).data?.id||null;d(F=>{const I=F.findIndex(k=>k.deviceName===W.deviceName);if(I===-1)return F;const U=[...F];return U[I]={...U[I],isChecked:!0,deviceType2Id:H},U})}catch(ne){console.error(`Failed to add device ${W.deviceName}:`,ne)}await D()}}catch(W){const ne=W.response?.data?.message||W.message||"Failed to update devices";await Q.fire({icon:"error",title:"Error",text:ne}),console.error("Error toggling all devices:",W),await D()}finally{v(null)}},L=[...i.filter(R=>R.deviceName.toLowerCase().includes(t.toLowerCase()))].sort((R,V)=>n==="asc"?R.deviceName.localeCompare(V.deviceName):V.deviceName.localeCompare(R.deviceName)),q=Math.ceil(L.length/g),B=(r-1)*g,te=L.slice(B,B+g),oe=()=>{l(R=>R==="asc"?"desc":"asc")},fe=te.length>0&&te.every(R=>R.isChecked);return o.useEffect(()=>{a(1)},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Device Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage biometric device types and models used throughout your organization. Configure device classifications for proper integration with different hardware manufacturers and attendance capture systems."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-vendor support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device classification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hardware compatibility"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized configuration"})]})]})]})]})}),e.jsx("div",{className:"flex items-center justify-end mb-6",children:j("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:R=>s(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})}),e.jsx("div",{className:"overflow-x-auto",children:x||m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading device types..."})}):f?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:f})}):j("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left w-12",children:e.jsx("input",{type:"checkbox",checked:fe,onChange:A,disabled:p!==null,className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-2 focus:ring-blue-500 cursor-pointer disabled:opacity-50"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase cursor-pointer hover:text-gray-900 select-none",onClick:oe,children:e.jsxs("div",{className:"flex items-center gap-2",children:["DeviceName",e.jsx("span",{className:"text-gray-400",children:n==="asc"?"":""})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:te.length>0?te.map(R=>e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${R.isChecked?"bg-blue-50":""} ${p===R.id?"opacity-50":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:R.isChecked,onChange:V=>{V.stopPropagation(),T(R.id,R.deviceName)},disabled:p!==null,className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-2 focus:ring-blue-500 cursor-pointer disabled:opacity-50"})}),e.jsx("td",{className:`px-6 py-4 text-sm cursor-pointer ${R.isChecked?"text-blue-700":"text-gray-900"}`,onClick:()=>T(R.id,R.deviceName),children:R.deviceName})]},R.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),j("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",L.length>0?B+1:0," to ",Math.min(B+g,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>a(R=>Math.max(1,R-1)),disabled:r===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:q},(R,V)=>V+1).map(R=>e.jsx("button",{className:`px-3 py-1 rounded ${r===R?"bg-blue-500 text-white":"text-blue-600 hover:bg-gray-100"}`,onClick:()=>a(R),children:R},R)),e.jsx("button",{onClick:()=>a(R=>Math.min(q||1,R+1)),disabled:r>=q||L.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),e.jsx(Qt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const um="/Fs/Process/Device/CoordinatesSetUp";function bQ(){const[t,s]=o.useState(!1),[r,a]=o.useState(""),[n,l]=o.useState(!1),[i,d]=o.useState(null),[x,h]=o.useState(1),m=10,[b,f]=o.useState(""),[N,p]=o.useState(""),[v,g]=o.useState(""),[y,C]=o.useState(""),[j,S]=o.useState(""),[P,D]=o.useState(null),[T,A]=o.useState(!1),[M,L]=o.useState([]),[q,B]=o.useState(!1),[te,oe]=o.useState("");o.useEffect(()=>{fe()},[]);const fe=async()=>{B(!0),oe("");try{const be=await ae.get(um);be.status===200&&be.data&&L(be.data)}catch(be){const je=be.response?.data?.message||be.message||"Failed to load coordinates";oe(je),console.error("Error fetching coordinates:",be)}finally{B(!1)}},[R,V]=o.useState({}),W=be=>R[be]===!0;o.useEffect(()=>{ne()},[]);const ne=()=>{const be=localStorage.getItem("loginPayload");if(be)try{const xe=(JSON.parse(be).permissions||[]).filter(De=>ns(De.formName)==="CoordinatesSetUp"),Se={};xe.forEach(De=>{const Fe=ns(De.accessTypeName);Fe&&(Se[Fe]=!0)}),V(Se)}catch(je){console.error("Error parsing or decrypting payload",je)}};o.useEffect(()=>{const be=je=>{je.key==="Escape"&&t&&s(!1)};return t&&document.addEventListener("keydown",be),()=>{document.removeEventListener("keydown",be)}},[t]);const J=()=>{l(!1),d(null),D(null),f(""),p(""),g(""),C(""),S(""),s(!0)},H=(be,je)=>{l(!0),d(je),D(be.id),f(be.code),p(be.description),g(be.latitude.toString()),C(be.longitude.toString()),S(be.distance.toString()),s(!0)},F=async be=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete coordinate ${be.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`${um}/${be.id}`),await Q.fire({icon:"success",title:"Success",text:"Coordinate deleted successfully.",timer:2e3,showConfirmButton:!1}),await fe()}catch(ge){const xe=ge.response?.data?.message||ge.message||"Failed to delete coordinate";await Q.fire({icon:"error",title:"Error",text:xe}),console.error("Error deleting coordinate:",ge)}},I=async()=>{if(!b.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(M.some((je,ge)=>n&&i===ge?!1:je.code.toLowerCase()===b.trim().toLowerCase())){await Q.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}A(!0);try{const je={id:n&&P?P:0,code:b,description:N,latitude:parseFloat(v)||0,longitude:parseFloat(y)||0,distance:parseFloat(j)||0};n&&P?(await ae.put(`${um}/${P}`,je),await Q.fire({icon:"success",title:"Success",text:"Coordinate updated successfully.",timer:2e3,showConfirmButton:!1}),await fe()):(await ae.post(um,je),await Q.fire({icon:"success",title:"Success",text:"Coordinate created successfully.",timer:2e3,showConfirmButton:!1}),await fe()),s(!1),f(""),p(""),g(""),C(""),S(""),D(null),l(!1),d(null)}catch(je){const ge=je.response?.data?.message||je.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:ge}),console.error("Error submitting form:",je)}finally{A(!1)}},U=M.filter(be=>be.code.toLowerCase().includes(r.toLowerCase())||be.description.toLowerCase().includes(r.toLowerCase())||be.latitude.toString().includes(r.toLowerCase())||be.longitude.toString().includes(r.toLowerCase())||be.distance.toString().includes(r.toLowerCase())),k=Math.ceil(U.length/m),O=(x-1)*m,he=O+m,ye=U.slice(O,he);return o.useEffect(()=>{h(1)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Coordinates Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define geographic coordinates for workplace locations to enable location-based attendance tracking. Configure latitude and longitude parameters for geofencing and proximity validation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"GPS-based validation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location boundaries"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple work sites"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Geofencing support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[W("Add")&&W("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:J,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),W("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:be=>a(be.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:q?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading coordinates..."})}):te?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:te})}):W("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Latitude"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Longitude"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Distance"}),(W("Edit")||W("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:ye.length>0?ye.map((be,je)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:be.code}),e.jsx("td",{className:"px-4 py-2",children:be.description}),e.jsx("td",{className:"px-4 py-2",children:be.latitude}),e.jsx("td",{className:"px-4 py-2",children:be.longitude}),e.jsx("td",{className:"px-4 py-2",children:be.distance}),(W("Edit")||W("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[W("Edit")&&e.jsx("button",{onClick:()=>H(be,je),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),W("Edit")&&W("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),W("Delete")&&e.jsx("button",{onClick:()=>F(be),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},be.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),W("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",U.length===0?0:O+1," to ",Math.min(he,U.length)," of ",U.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(be=>Math.max(be-1,1)),disabled:x===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:k},(be,je)=>je+1).map(be=>e.jsx("button",{onClick:()=>h(be),className:`px-3 py-1 rounded transition-colors ${x===be?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:be},be)),e.jsx("button",{onClick:()=>h(be=>Math.min(be+1,k)),disabled:x===k||k===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>s(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Coordinate":"Create New"}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Coordinates Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,maxLength:10,onChange:be=>f(be.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:N,onChange:be=>p(be.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Latitude :"}),e.jsx("input",{type:"number",step:"any",value:v,onChange:be=>g(be.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Longitude :"}),e.jsx("input",{type:"number",step:"any",value:y,onChange:be=>C(be.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Distance :"}),e.jsx("input",{type:"number",step:"any",value:j,onChange:be=>S(be.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:I,disabled:T,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:T?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>s(!1),disabled:T,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(Qt,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function vQ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(1),[m,b]=o.useState(null),[f,N]=o.useState(""),[p,v]=o.useState(null),[g,y]=o.useState(!1),[C,j]=o.useState({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",tableName:"",empCodeColumn:"",timeStampColumn:"",flagColumn:"",flagCode:"",automaticEmpCode:!1,empCodeTableName:"",empCodeColumnName:"",empCodeIDColumn:"",daysToDeduct:"",specificRange:!1,lastDateUpdatedFrom:"",lastDateUpdatedTo:"",deviceNameColumn:""}),[S,P]=o.useState([]),[D,T]=o.useState(!1),[A,M]=o.useState(""),[L,q]=o.useState([]),[B,te]=o.useState(!1),oe=10,[fe,R]=o.useState({}),V=He=>fe[He]===!0;o.useEffect(()=>{W()},[]);const W=()=>{const He=localStorage.getItem("loginPayload");if(He)try{const ve=(JSON.parse(He).permissions||[]).filter(Te=>ns(Te.formName)==="AMSDbConfigSetup"),Me={};ve.forEach(Te=>{const Le=ns(Te.accessTypeName);Le&&(Me[Le]=!0)}),R(Me)}catch(Ve){console.error("Error parsing or decrypting payload",Ve)}};o.useEffect(()=>{ne(),J()},[]);const ne=async()=>{T(!0),M("");try{const He=await ae.get("/Fs/Process/Device/AMSDbConfigSetUp");He.status===200&&He.data&&P(He.data)}catch(He){const Ve=He.response?.data?.message||He.message||"Failed to load AMS databases";M(Ve)}finally{T(!1)}},J=async()=>{te(!0);try{const He=await ae.get("/Fs/Process/Device/DTRFlagSetUp");He.status===200&&He.data&&q(He.data)}catch(He){console.error("Error fetching flag codes:",He),q([])}finally{te(!1)}},H=S.filter(He=>He.description.toLowerCase().includes(t.toLowerCase())||He.server.toLowerCase().includes(t.toLowerCase())||He.databaseName.toLowerCase().includes(t.toLowerCase())||He.username.toLowerCase().includes(t.toLowerCase())),F=Math.ceil(H.length/oe),I=(x-1)*oe,U=H.slice(I,I+oe),k=L.filter(He=>He.flagCode.toLowerCase().includes(f.toLowerCase()));o.useEffect(()=>{h(1)},[t]);const O=()=>{j({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",tableName:"",empCodeColumn:"",timeStampColumn:"",flagColumn:"",flagCode:"",automaticEmpCode:!1,empCodeTableName:"",empCodeColumnName:"",empCodeIDColumn:"",daysToDeduct:"",specificRange:!1,lastDateUpdatedFrom:"",lastDateUpdatedTo:"",deviceNameColumn:""}),v(null),a(!0)},he=He=>{b(He),j({description:He.description,server:He.server,databaseName:He.databaseName,username:He.username,password:"",withDeviceCode:He.withDeviceCode,lastDateUpdated:He.lastDateUpdated,tableName:He.tableName,empCodeColumn:He.empCode,timeStampColumn:He.timeStamp,flagColumn:He.flag,flagCode:He.flagCode,automaticEmpCode:He.isAutomaticEmpCode,empCodeTableName:He.employeeCodeTable,empCodeColumnName:He.employeeCodeCol,empCodeIDColumn:He.empoyeeCodeIDCol,daysToDeduct:He.dateDaysAhead.toString(),specificRange:He.lastDateUpdateFlag,lastDateUpdatedFrom:He.lastDateUpdateFrom,lastDateUpdatedTo:He.lastDateUpdateTo,deviceNameColumn:He.deviceNameCol}),v(null),l(!0)},ye=async He=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete database configuration "${He.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Device/AMSDbConfigSetUp/${He.id}`),await Q.fire({icon:"success",title:"Success",text:"Database configuration deleted successfully.",timer:2e3,showConfirmButton:!1}),await ne()}catch(qe){const ve=qe.response?.data?.message||qe.message||"Failed to delete database configuration";await Q.fire({icon:"error",title:"Error",text:ve})}},be=async He=>{if(He.preventDefault(),!C.description.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(!C.server.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Server is required."});return}if(!C.databaseName.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Database Name is required."});return}if(!C.username.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Username is required."});return}y(!0);try{const Ve={id:0,description:C.description,server:C.server,databaseName:C.databaseName,username:C.username,password:C.password,lastDateUpdated:C.lastDateUpdated||new Date().toISOString(),withDeviceCode:C.withDeviceCode,tableName:C.tableName,empCode:C.empCodeColumn,timeStamp:C.timeStampColumn,flag:C.flagColumn,flagCode:C.flagCode,isAutomaticEmpCode:C.automaticEmpCode,employeeCodeTable:C.empCodeTableName,employeeCodeCol:C.empCodeColumnName,empoyeeCodeIDCol:C.empCodeIDColumn,dateDaysAhead:parseInt(C.daysToDeduct)||0,lastDateUpdateReplica:"",lastDateUpdateTo:C.lastDateUpdatedTo||new Date().toISOString(),lastDateUpdateFlag:C.specificRange,lastDateUpdateFrom:C.lastDateUpdatedFrom||new Date().toISOString(),deviceNameCol:C.deviceNameColumn};await ae.post("/Fs/Process/Device/AMSDbConfigSetUp",Ve),await Q.fire({icon:"success",title:"Success",text:"Database configuration created successfully.",timer:2e3,showConfirmButton:!1}),await ne(),a(!1)}catch(Ve){const qe=Ve.response?.data?.message||Ve.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:qe})}finally{y(!1)}},je=async He=>{if(He.preventDefault(),!!m){if(!C.description.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(!C.server.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Server is required."});return}if(!C.databaseName.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Database Name is required."});return}if(!C.username.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Username is required."});return}y(!0);try{const Ve={id:m.id,description:C.description,server:C.server,databaseName:C.databaseName,username:C.username,password:C.password||m.password,lastDateUpdated:C.lastDateUpdated||m.lastDateUpdated,withDeviceCode:C.withDeviceCode,tableName:C.tableName,empCode:C.empCodeColumn,timeStamp:C.timeStampColumn,flag:C.flagColumn,flagCode:C.flagCode,isAutomaticEmpCode:C.automaticEmpCode,employeeCodeTable:C.empCodeTableName,employeeCodeCol:C.empCodeColumnName,empoyeeCodeIDCol:C.empCodeIDColumn,dateDaysAhead:parseInt(C.daysToDeduct)||0,lastDateUpdateReplica:m.lastDateUpdateReplica,lastDateUpdateTo:C.lastDateUpdatedTo||m.lastDateUpdateTo,lastDateUpdateFlag:C.specificRange,lastDateUpdateFrom:C.lastDateUpdatedFrom||m.lastDateUpdateFrom,deviceNameCol:C.deviceNameColumn};await ae.put(`/Fs/Process/Device/AMSDbConfigSetUp/${m.id}`,Ve),await Q.fire({icon:"success",title:"Success",text:"Database configuration updated successfully.",timer:2e3,showConfirmButton:!1}),await ne(),l(!1),b(null)}catch(Ve){const qe=Ve.response?.data?.message||Ve.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:qe})}finally{y(!1)}}},ge=()=>{a(!1),l(!1),d(!1),v(null),b(null)},xe=He=>{j(Ve=>({...Ve,flagCode:He})),d(!1),N("")},Se=(He,Ve)=>{j(qe=>({...qe,[He]:Ve})),v(null)};o.useEffect(()=>{const He=Ve=>{Ve.key==="Escape"&&(p?v(null):i?d(!1):r?a(!1):n&&(l(!1),b(null)))};return(r||n||i||p)&&document.addEventListener("keydown",He),()=>document.removeEventListener("keydown",He)},[r,n,i,p]);const De="text-gray-700 text-sm whitespace-nowrap w-40 shrink-0",Fe="flex-1 min-w-0 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",Ae=(He,Ve,qe="w-40")=>e.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0 relative",children:[e.jsx("input",{type:"text",value:C[Ve],onChange:ve=>j({...C,[Ve]:ve.target.value}),placeholder:"MM/DD/YYYY",className:Fe}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors shrink-0",onClick:()=>v(p===Ve?null:Ve),children:e.jsx(cs,{className:"w-4 h-4"})}),p===Ve&&e.jsx(Hr,{onDateSelect:ve=>Se(Ve,ve),onClose:()=>v(null)})]}),ze=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Description :"}),e.jsx("input",{type:"text",value:C.description,onChange:He=>j({...C,description:He.target.value}),className:Fe,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Server :"}),e.jsx("input",{type:"text",value:C.server,onChange:He=>j({...C,server:He.target.value}),className:Fe,required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Database Name :"}),e.jsx("input",{type:"text",value:C.databaseName,onChange:He=>j({...C,databaseName:He.target.value}),className:Fe,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Username :"}),e.jsx("input",{type:"text",value:C.username,onChange:He=>j({...C,username:He.target.value}),className:Fe,required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Password :"}),e.jsx("input",{type:"password",value:C.password,onChange:He=>j({...C,password:He.target.value}),className:Fe})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:C.withDeviceCode,onChange:He=>j({...C,withDeviceCode:He.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Last Date Updated :"}),Ae("Last Date Updated","lastDateUpdated","w-36")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Table Name :"}),e.jsx("input",{type:"text",value:C.tableName,onChange:He=>j({...C,tableName:He.target.value}),className:Fe})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"EmpCode Column :"}),e.jsx("input",{type:"text",value:C.empCodeColumn,onChange:He=>j({...C,empCodeColumn:He.target.value}),className:Fe})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Time Stamp Column :"}),e.jsx("input",{type:"text",value:C.timeStampColumn,onChange:He=>j({...C,timeStampColumn:He.target.value}),className:Fe})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Flag Column :"}),e.jsx("input",{type:"text",value:C.flagColumn,onChange:He=>j({...C,flagColumn:He.target.value}),className:Fe})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Flag Code :"}),e.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[e.jsx("input",{type:"text",value:C.flagCode,onChange:He=>j({...C,flagCode:He.target.value}),className:Fe,readOnly:!0}),e.jsx("button",{type:"button",onClick:()=>d(!0),className:"w-8 h-8 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>j({...C,flagCode:""}),className:"w-8 h-8 bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center justify-center shrink-0",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Automatic EmpCode :"}),e.jsx("input",{type:"checkbox",checked:C.automaticEmpCode,onChange:He=>j({...C,automaticEmpCode:He.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"EmpCode Table Name :"}),e.jsx("input",{type:"text",value:C.empCodeTableName,onChange:He=>j({...C,empCodeTableName:He.target.value}),className:Fe})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"EmpCode Column :"}),e.jsx("input",{type:"text",value:C.empCodeColumnName,onChange:He=>j({...C,empCodeColumnName:He.target.value}),className:Fe})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"EmpCode ID Column :"}),e.jsx("input",{type:"text",value:C.empCodeIDColumn,onChange:He=>j({...C,empCodeIDColumn:He.target.value}),className:Fe})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56 shrink-0",children:"Days to Deduct to Convert Date :"}),e.jsx("input",{type:"text",value:C.daysToDeduct,onChange:He=>j({...C,daysToDeduct:He.target.value}),className:Fe})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Specific Range :"}),e.jsx("input",{type:"checkbox",checked:C.specificRange,onChange:He=>j({...C,specificRange:He.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40 shrink-0",children:"Last Date Updated From :"}),Ae("Last Date Updated From","lastDateUpdatedFrom","w-40")]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Date Updated To :"}),Ae("Date Updated To","lastDateUpdatedTo","w-36")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:De,children:"Device Name Column :"}),e.jsx("input",{type:"text",value:C.deviceNameColumn,onChange:He=>j({...C,deviceNameColumn:He.target.value}),className:Fe})]})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"AMS Database Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure database connections for Attendance Management System (AMS) integration. Set up server details, credentials, and field mappings to synchronize employee time logs from external biometric systems."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["External database connectivity","Field mapping configuration","Device code support","Automatic synchronization"].map(He=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:He})]},He))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[V("Add")&&V("View")&&e.jsxs("button",{onClick:O,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),V("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:He=>s(He.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:D?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading database configurations..."})}):A?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:A})}):V("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Server"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Database Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"With Device Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Last Date Updated"}),(V("Edit")||V("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:U.length>0?U.map(He=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:He.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:He.server}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:He.databaseName}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:He.username}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:He.withDeviceCode?"Yes":"No"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(He.lastDateUpdated).toLocaleDateString()}),(V("Edit")||V("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[V("Edit")&&e.jsx("button",{onClick:()=>he(He),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),V("Edit")&&V("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),V("Delete")&&e.jsx("button",{onClick:()=>ye(He),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},He.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),V("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",H.length>0?I+1:0," to ",Math.min(I+oe,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(He=>Math.max(1,He-1)),disabled:x===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",children:x}),e.jsx("button",{onClick:()=>h(He=>Math.min(F||1,He+1)),disabled:x>=F||H.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:be,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"AMS Database Configuration Setup"}),ze(),e.jsxs("div",{className:"flex gap-3 mt-5 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:ge,disabled:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit"}),e.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:je,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"AMS Database Configuration Setup"}),ze(),e.jsxs("div",{className:"flex gap-3 mt-5 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:ge,disabled:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Search"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:He=>N(He.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:B?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading flag codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 In"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:k.length>0?k.map((He,Ve)=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>xe(He.flagCode),children:[e.jsx("td",{className:"px-4 py-3 text-sm text-blue-600 hover:underline",children:He.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.timeOut}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.break1Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.break1In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.break2Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.break2In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.break3Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:He.break3In})]},Ve)):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No flag codes available"})})})]})})]})]})}),e.jsx(Qt,{})]})}function wQ({value:t,onChange:s,onClose:r,position:a}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const f=N=>{i.current&&!i.current.contains(N.target)&&r()};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[r]);const d=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),x=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=f=>{const N=String(n.getMonth()+1).padStart(2,"0"),p=n.getFullYear(),v=String(f).padStart(2,"0");s(`${p}-${N}-${v}T00:00:00.000Z`),r()},b=()=>{const f=[],N=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let v=x-1;v>=0;v--)f.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:N-v},`prev-${v}`));for(let v=1;v<=d;v++)f.push(e.jsx("div",{onClick:()=>m(v),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:v},v));const p=42-f.length;for(let v=1;v<=p;v++)f.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v},`next-${v}`));return f};return e.jsx("div",{ref:i,className:"fixed inset-0 flex items-center justify-center z-[100]",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-xl p-4",style:{width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>l(new Date(n.getFullYear(),n.getMonth()-1)),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:()=>l(new Date(n.getFullYear(),n.getMonth()+1)),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(f=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:f},f))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:b()})]})})}const xm=t=>{if(!t)return"";try{const s=new Date(t),r=s.getMonth()+1,a=s.getDate(),n=s.getFullYear();return`${r}/${a}/${n}`}catch{return t}};function NQ(){const[t,s]=o.useState(""),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(1),[x,h]=o.useState(!1),[m,b]=o.useState(null),[f,N]=o.useState({top:0,left:0}),[p,v]=o.useState({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",lastDateUpdateReplica:"",lastDateUpdateFlag:!1,lastDateUpdateFrom:"",lastDateUpdateTo:""}),[g,y]=o.useState([]),[C,j]=o.useState(!1),[S,P]=o.useState(null),D=20,[T,A]=o.useState({}),M=k=>T[k]===!0;o.useEffect(()=>{L()},[]);const L=()=>{const k=localStorage.getItem("loginPayload");if(k)try{const ye=(JSON.parse(k).permissions||[]).filter(je=>ns(je.formName)==="MySQLDbConfigSetup"),be={};ye.forEach(je=>{const ge=ns(je.accessTypeName);ge&&(be[ge]=!0)}),A(be)}catch(O){console.error("Error parsing or decrypting payload",O)}};o.useEffect(()=>{q()},[]);const q=async()=>{j(!0);try{const k=await ae.get("/Fs/Process/Device/MySQLDbConfigSetUp");k.status===200&&k.data&&y(k.data)}catch(k){const O=k.response?.data?.message||k.message||"Failed to load configurations";await Q.fire({icon:"error",title:"Error",text:O}),console.error("Error fetching MySQL configs:",k)}finally{j(!1)}},B=g.filter(k=>k.description.toLowerCase().includes(t.toLowerCase())||k.server.toLowerCase().includes(t.toLowerCase())||k.databaseName.toLowerCase().includes(t.toLowerCase())||k.username.toLowerCase().includes(t.toLowerCase())),te=Math.ceil(B.length/D),oe=(i-1)*D,fe=oe+D,R=B.slice(oe,fe),V=()=>{const k=[];if(te<=5)return Array.from({length:te},(ye,be)=>be+1);k.push(1),i>3&&k.push("...");const O=Math.max(2,i-1),he=Math.min(te-1,i+1);for(let ye=O;ye<=he;ye++)k.push(ye);return i<te-2&&k.push("..."),k.push(te),k};o.useEffect(()=>{d(1)},[t]);const W=()=>{v({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",lastDateUpdateReplica:"",lastDateUpdateFlag:!1,lastDateUpdateFrom:"",lastDateUpdateTo:""})},ne=()=>{l(!1),P(null),W(),a(!0)},J=k=>{l(!0),P(k.id),v({description:k.description||"",server:k.server||"",databaseName:k.databaseName||"",username:k.username||"",password:k.password||"",withDeviceCode:k.withDeviceCode||!1,lastDateUpdated:k.lastDateUpdated||"",lastDateUpdateReplica:k.lastDateUpdateReplica||"",lastDateUpdateFlag:k.lastDateUpdateFlag||!1,lastDateUpdateFrom:k.lastDateUpdateFrom||"",lastDateUpdateTo:k.lastDateUpdateTo||""}),a(!0)},H=async k=>{if((await Q.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${k.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await ae.delete(`/Fs/Process/Device/MySQLDbConfigSetUp/${k.id}`),await Q.fire({icon:"success",title:"Success",text:"Configuration deleted successfully.",timer:2e3,showConfirmButton:!1}),await q()}catch(he){const ye=he.response?.data?.message||he.message||"Failed to delete configuration";await Q.fire({icon:"error",title:"Error",text:ye})}},F=async()=>{if(!p.description.trim()){await Q.fire({icon:"warning",title:"Validation Error",text:"Please enter a Description."});return}h(!0);try{const k={description:p.description,server:p.server||null,databaseName:p.databaseName||null,username:p.username||null,password:p.password||null,withDeviceCode:p.withDeviceCode,lastDateUpdated:p.lastDateUpdated||null,lastDateUpdateReplica:p.lastDateUpdateReplica||null,lastDateUpdateFlag:p.lastDateUpdateFlag,lastDateUpdateFrom:p.lastDateUpdateFrom||null,lastDateUpdateTo:p.lastDateUpdateTo||null};n&&S!==null?(await ae.put(`/Fs/Process/Device/MySQLDbConfigSetUp/${S}`,k),await Q.fire({icon:"success",title:"Success",text:"Configuration updated successfully.",timer:2e3,showConfirmButton:!1})):(await ae.post("/Fs/Process/Device/MySQLDbConfigSetUp",k),await Q.fire({icon:"success",title:"Success",text:"Configuration created successfully.",timer:2e3,showConfirmButton:!1})),a(!1),W(),l(!1),P(null),await q()}catch(k){const O=k.response?.data?.message||k.message||"An error occurred";await Q.fire({icon:"error",title:"Error",text:O})}finally{h(!1)}},I=(k,O)=>{const he=O.currentTarget.getBoundingClientRect();N({top:he.bottom+window.scrollY+5,left:he.left+window.scrollX}),b(k)},U=k=>{m&&v({...p,[m]:k})};return o.useEffect(()=>{const k=O=>{O.key==="Escape"&&r&&a(!1)};return r&&document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"MySQL Database Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure MySQL database connections for alternative attendance data storage. Set up server credentials, connection parameters, and date range filters for MySQL-based time log synchronization and backup."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["MySQL connectivity","Date range filtering","Backup configuration","Cross-platform support"].map(k=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:k})]},k))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[M("Add")&&M("View")&&e.jsxs("button",{onClick:ne,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),M("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:k=>s(k.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:M("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Server"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Database Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Username"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Last Date Updated"}),(M("Edit")||M("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:C?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):R.length>0?R.map(k=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:k.description}),e.jsx("td",{className:"px-4 py-2 text-sm",children:k.server}),e.jsx("td",{className:"px-4 py-2 text-sm",children:k.databaseName}),e.jsx("td",{className:"px-4 py-2 text-sm",children:k.username}),e.jsx("td",{className:"px-4 py-2 text-sm",children:xm(k.lastDateUpdated)}),(M("Edit")||M("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[M("Edit")&&e.jsx("button",{onClick:()=>J(k),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),M("Edit")&&M("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),M("Delete")&&e.jsx("button",{onClick:()=>H(k),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},k.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),M("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",B.length===0?0:oe+1," to ",Math.min(fe,B.length)," of ",B.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(k=>Math.max(k-1,1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),V().map((k,O)=>k==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${O}`):e.jsx("button",{onClick:()=>d(k),className:`px-4 py-2 rounded text-sm font-medium ${i===k?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:k},k)),e.jsx("button",{onClick:()=>d(k=>Math.min(k+1,te)),disabled:i===te||te===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit MySQL Configuration":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"MySQL Database Configuration Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Description :"}),e.jsx("input",{type:"text",value:p.description,onChange:k=>v({...p,description:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Server :"}),e.jsx("input",{type:"text",value:p.server,onChange:k=>v({...p,server:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Database Name :"}),e.jsx("input",{type:"text",value:p.databaseName,onChange:k=>v({...p,databaseName:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Username :"}),e.jsx("input",{type:"text",value:p.username,onChange:k=>v({...p,username:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Password :"}),e.jsx("input",{type:"password",value:p.password,onChange:k=>v({...p,password:k.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:p.withDeviceCode,onChange:k=>v({...p,withDeviceCode:k.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated :"}),e.jsx("input",{type:"text",value:xm(p.lastDateUpdated),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:k=>I("lastDateUpdated",k),children:e.jsx(cs,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdated:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Specific Range :"}),e.jsx("input",{type:"checkbox",checked:p.lastDateUpdateFlag,onChange:k=>v({...p,lastDateUpdateFlag:k.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated From :"}),e.jsx("input",{type:"text",value:xm(p.lastDateUpdateFrom),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:k=>I("lastDateUpdateFrom",k),children:e.jsx(cs,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdateFrom:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated To :"}),e.jsx("input",{type:"text",value:xm(p.lastDateUpdateTo),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:k=>I("lastDateUpdateTo",k),children:e.jsx(cs,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdateTo:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:F,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})}),m&&e.jsx(wQ,{value:p[m],onChange:U,onClose:()=>b(null),position:f})]})]})}),e.jsx(Qt,{})]})}function qc({date:t,onChange:s,disabled:r}){const[a,n]=o.useState(!1),[l,i]=o.useState(new Date),d=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),x=new Date(l.getFullYear(),l.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=new Date().getFullYear(),b=[];for(let j=1900;j<=m+10;j++)b.push(j);const f=()=>{i(new Date(l.getFullYear(),l.getMonth()-1))},N=()=>{i(new Date(l.getFullYear(),l.getMonth()+1))},p=j=>{i(new Date(l.getFullYear(),j,1))},v=j=>{i(new Date(j,l.getMonth(),1))},g=j=>{const S=(l.getMonth()+1).toString().padStart(2,"0"),P=j.toString().padStart(2,"0"),D=l.getFullYear();s(`${S}/${P}/${D}`),n(!1)},y=()=>{const j=new Date,S=(j.getMonth()+1).toString().padStart(2,"0"),P=j.getDate().toString().padStart(2,"0"),D=j.getFullYear();s(`${S}/${P}/${D}`),n(!1)},C=[];for(let j=0;j<x;j++)C.push(e.jsx("div",{className:"h-8"},`empty-${j}`));for(let j=1;j<=d;j++)C.push(e.jsx("button",{onClick:()=>g(j),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:j},j));return e.jsxs(Cx,{open:a,onOpenChange:n,children:[e.jsx(Sx,{asChild:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:j=>s(j.target.value),disabled:r,className:"w-full pl-9 pr-3 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 cursor-pointer",readOnly:!0}),e.jsx(cs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})}),e.jsx(kx,{children:e.jsxs(Dx,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"start",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:f,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(U0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:l.getMonth(),onChange:j=>p(Number(j.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map((j,S)=>e.jsx("option",{value:S,children:j},j))}),e.jsx("select",{value:l.getFullYear(),onChange:j=>v(Number(j.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:b.map(j=>e.jsx("option",{value:j,children:j},j))})]}),e.jsx("button",{onClick:N,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(fi,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(j=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:j},j))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:C}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:y,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function jQ(){const[t,s]=o.useState("employment"),[r,a]=o.useState(!1),[n,l]=o.useState(!1),[i,d]=o.useState(!1),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[g,y]=o.useState(!1),[C,j]=o.useState(!1),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState(!1),[L,q]=o.useState(!1),[B,te]=o.useState(!1),[oe,fe]=o.useState(!1),[R,V]=o.useState([]),[W,ne]=o.useState(null),[J,H]=o.useState(!1),[F,I]=o.useState(""),[U,k]=o.useState(""),[O,he]=o.useState(""),[ye,be]=o.useState(null),[je,ge]=o.useState(""),xe=o.useRef(null),[Se,De]=o.useState([]),[Fe,Ae]=o.useState([]),[ze,He]=o.useState([]),[Ve,qe]=o.useState([]),[ve,Me]=o.useState([]),[Te,Le]=o.useState([]),[ot,Je]=o.useState([]),[Ge,et]=o.useState([]),[yt,mt]=o.useState([]),[jt,we]=o.useState([]),[Re,me]=o.useState([]),[Ye,pt]=o.useState(!1),[Ft,Bt]=o.useState(!1),[Lt,Qe]=o.useState(!1),[gt,vt]=o.useState(!1),[xt,Ct]=o.useState(!1),[Nt,$e]=o.useState(!1),[Ke,ce]=o.useState(!1),[Ee,pe]=o.useState(!1),[at,ut]=o.useState(!1),[_t,it]=o.useState(!1),[bt,se]=o.useState(!1),[ue,Z]=o.useState(""),[G,Y]=o.useState(""),[_,ie]=o.useState(""),[_e,Ie]=o.useState(""),[ke,X]=o.useState(""),[Ne,ee]=o.useState(""),[de,re]=o.useState(""),[We,ft]=o.useState(""),[$t,z]=o.useState(""),[Pe,Xe]=o.useState(""),[as,us]=o.useState(""),[tt,Zt]=o.useState({empID:0,empCode:"",empStatCode:"",courtesy:"",lastName:"",firstName:"",middleName:"",suffix:"",dateHired:"",regularized:"",probeStart:"",probeEnd:"",dateResigned:"",suspended:"",suspend:!1,separated:!1,contractual:!1,sss:"",pagibig:"",philhealth:"",tin:"",gsisNo:"",branch:"",branchCode:"",division:"",divisionCode:"",department:"",departmentCode:"",section:"",sectionCode:"",unit:"",unitCode:"",payHouse:"",payHouseCode:"",area:"",areaCode:"",location:"",locationCode:"",onlineApplication:"",onlineAppCode:"",designation:"",jobLevel:"",jobLevelCode:"",homeAddress:"",presentAddress:"",city:"",province:"",postalCode:"",mobilePhone:"",presentPhone:"",homePhone:"",civilStatus:"",citizenship:"",religion:"",weight:"0",height:"0",gender:"M",email:"",birthDate:"",age:"0",birthPlace:""}),kt=async()=>{H(!0),I("");try{const Oe=await ae.get("/Maintenance/EmployeeMasterFile");Oe.status===200&&Oe.data&&V(Oe.data)}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load employees";I(At),console.error("Error fetching employees:",Oe)}finally{H(!1)}},zt=async Oe=>{H(!0),I("");try{const At=await ae.get(`/Maintenance/EmployeeMasterFile/${Oe}`);if(At.status===200&&At.data)return ne(At.data),At.data}catch(At){const Mt=At.response?.data?.message||At.message||"Failed to load employee";I(Mt),console.error("Error fetching employee:",At)}finally{H(!1)}},ds=async Oe=>{H(!0),I("");try{const At=new FormData;ye&&At.append("Photo",ye),Object.keys(Oe).forEach(pr=>{const Bs=Oe[pr];Bs!=null&&(Bs instanceof Date?At.append(pr,Bs.toISOString()):At.append(pr,Bs.toString()))});const Mt=await ae.post("/Maintenance/EmployeeMasterFile",At,{headers:{"Content-Type":"multipart/form-data"}});if(Mt.status===200||Mt.status===201)return await kt(),await Q.fire({icon:"success",title:"Success",text:"Employee created successfully.",timer:2e3,showConfirmButton:!1}),be(null),ge(""),Mt.data}catch(At){const Mt=At.response?.data?.message||At.message||"Failed to create employee";throw I(Mt),await Q.fire({icon:"error",title:"Oops...",text:Mt}),At}finally{H(!1)}},Js=async(Oe,At)=>{H(!0);try{At.EmpID&&Number(At.EmpID)!==Oe&&console.error("ID Mismatch: URL has "+Oe+" but Body has "+At.EmpID);const Mt=new FormData;ye&&Mt.append("photo",ye),Object.keys(At).forEach(Bs=>{const Cr=At[Bs];Cr!=null&&(Cr instanceof Date?Mt.append(Bs,Cr.toISOString()):Mt.append(Bs,Cr.toString()))});const pr=await ae.put(`/Maintenance/EmployeeMasterFile/${Oe}`,Mt,{headers:{"Content-Type":"multipart/form-data"}});if(pr.status===200||pr.status===204)return await kt(),await Q.fire({icon:"success",title:"Updated!",text:"Employee record has been updated successfully.",timer:2e3,showConfirmButton:!1}),be(null),pr.data}catch(Mt){console.error("Error updating employee:",Mt);const pr=Mt.response?.data?.message||Mt.message||"An error occurred during update.";throw await Q.fire({icon:"error",title:"Update Failed",text:pr}),Mt}finally{H(!1)}},Tt=async Oe=>{H(!0),I("");try{const At=await ae.delete(`/Maintenance/EmployeeMasterFile/${Oe}`);if(At.status===200||At.status===204)return await kt(),ne(null),!0}catch(At){const Mt=At.response?.data?.message||At.message||"Failed to delete employee";throw I(Mt),console.error("Error deleting employee:",At),At}finally{H(!1)}},Ht=async()=>{pt(!0),Z("");try{const Oe=await ae.get("/Fs/Employment/BranchSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({branchId:Mt.braID||Mt.id||"",code:Mt.braCode||Mt.code||"",description:Mt.braDesc||Mt.description||"",branchManager:Mt.braMngr||Mt.branchManager||"",branchManagerCode:Mt.braMngrCode||"",deviceName:Mt.deviceName||Mt.DeviceName||""}));De(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load branches";Z(At),console.error("Error fetching branches:",Oe)}finally{pt(!1)}},ms=async()=>{Bt(!0),Y("");try{const Oe=await ae.get("/Fs/Employment/DivisionSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.divID||"",code:Mt.divCode||"",description:Mt.divDesc||"",head:Mt.divHead||"",headCode:Mt.divHeadCode||"",deviceName:Mt.deviceName||""}));Ae(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load divisions";Y(At),console.error("Error fetching divisions:",Oe)}finally{Bt(!1)}},Nr=async()=>{Qe(!0),ie("");try{const Oe=await ae.get("/Fs/Employment/DepartmentSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({departmentId:Mt.depID||"",code:Mt.depCode||"",departmentCode:Mt.depCode||"",departmentHeadCode:Mt.depHeadCode||"",description:Mt.depDesc||"",divisionCode:Mt.divCode||"",head:Mt.depHead||"",deviceName:Mt.deviceName||"",head1:Mt.head1||"",email1:Mt.email1||"",head2:Mt.head2||"",email2:Mt.email2||""}));He(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load departments";ie(At),console.error("Error fetching departments:",Oe)}finally{Qe(!1)}},xr=async()=>{vt(!0),Ie("");try{const Oe=await ae.get("/Fs/Employment/SectionSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.secID||Mt.id||"",code:Mt.secCode||Mt.code||"",description:Mt.secDesc||Mt.description||"",head:Mt.secHead||Mt.head||"",headCode:Mt.secHeadCode||Mt.headCode||"",deviceName:Mt.deviceName||""}));qe(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load sections";Ie(At),console.error("Error fetching sections:",Oe)}finally{vt(!1)}},hr=async()=>{Ct(!0),X("");try{const Oe=await ae.get("/Fs/Employment/UnitSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.unitID||"",code:Mt.unitCode||"",description:Mt.unitDesc||"",head:Mt.head||"",position:Mt.position||"",deviceName:Mt.deviceName||""}));Me(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load units";X(At),console.error("Error fetching units:",Oe)}finally{Ct(!1)}},Br=async()=>{$e(!0),ee("");try{const Oe=await ae.get("/Fs/Employment/PayHouseSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.lineID||"",code:Mt.lineCode||"",description:Mt.lineDesc||"",head:Mt.head||"",headCode:Mt.headCode||"",position:Mt.position||"",deviceName:Mt.deviceName||""}));Le(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load pay houses";ee(At),console.error("Error fetching pay houses:",Oe)}finally{$e(!1)}},ha=async()=>{ce(!0),re("");try{const Oe=await ae.get("/Fs/EmploymentAreaSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.id||Mt.ID||"",code:Mt.areaCode||Mt.AreaCode||"",description:Mt.areaDesc||Mt.AreaDesc||"",head:Mt.head||Mt.Head||"",headCode:Mt.headCode||Mt.HeadCode||"",deviceName:Mt.deviceName||Mt.DeviceName||""}));Je(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load areas";re(At),console.error("Error fetching areas:",Oe)}finally{ce(!1)}},tr=async()=>{pe(!0),ft("");try{const Oe=await ae.get("/Fs/Employment/LocationSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.locID||"",code:Mt.locationCode||"",description:Mt.locationDesc||"",head:Mt.head||"",headCode:Mt.headCode||"",acctCode:Mt.acctCode||"",createdBy:Mt.createdBy||"",createdDate:Mt.createdDate||"",editedBy:Mt.editedBy||"",editedDate:Mt.editedDate||"",deviceName:Mt.deviceName||""}));et(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load locations";ft(At),console.error("Error fetching locations:",Oe)}finally{pe(!1)}},sr=async()=>{ut(!0),z("");try{const Oe=await ae.get("/Fs/Employment/OnlineApprovalSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.id||"",code:Mt.onlineAppCode||"",description:Mt.onlineAppDesc||"",head:Mt.onlineAppMngr||"",headCode:Mt.onlineAppMngr||"",deviceName:Mt.deviceName||"",createdBy:Mt.createdBy||"",createdDate:Mt.createdDate||"",editedBy:Mt.editedBy||"",editedDate:Mt.editedDate||""}));mt(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load online approvals";z(At),console.error("Error fetching online approvals:",Oe)}finally{ut(!1)}},Ca=async()=>{it(!0),Xe("");try{const Oe=await ae.get("/Fs/Employment/JobLevelSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.jobLevelID||"",code:Mt.jobLevelCode||"",description:Mt.jobLevelDesc||""}));we(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load job levels";Xe(At),console.error("Error fetching job levels:",Oe)}finally{it(!1)}},ct=async()=>{se(!0),us("");try{const Oe=await ae.get("/Fs/Employment/JobLevelSetUp");if(Oe.status===200&&Oe.data){const At=Oe.data.map(Mt=>({id:Mt.jobLevelID||"",code:Mt.jobLevelCode||"",description:Mt.jobLevelDesc||""}));me(At)}}catch(Oe){const At=Oe.response?.data?.message||Oe.message||"Failed to load employee statuses";us(At),console.error("Error fetching employee statuses:",Oe)}finally{se(!1)}},Vt=()=>({empID:tt.empID,empCode:tt.empCode,empStatCode:tt.empStatCode,courtesy:tt.courtesy,lName:tt.lastName,fName:tt.firstName,mName:tt.middleName,suffix:tt.suffix,dateHired:tt.dateHired||null,dateRegularized:tt.regularized||null,probeStart:tt.probeStart||null,probeEnd:tt.probeEnd||null,dateResigned:tt.dateResigned||null,dateSuspended:tt.suspended||null,suspend:tt.suspend,separated:tt.separated,contractual:tt.contractual,sssNo:tt.sss,pagIbigNo:tt.pagibig,pHilHealthNo:tt.philhealth,tin:tt.tin,gsisNo:tt.gsisNo,braCode:tt.branchCode,divCode:tt.divisionCode,depCode:tt.departmentCode,secCode:tt.sectionCode,unitCode:tt.unitCode,payCode:tt.payHouseCode,areaCode:tt.areaCode,locCode:tt.locationCode,onlineAppCode:tt.onlineAppCode,desCode:tt.designation,grdCode:tt.jobLevelCode,hAddress:tt.homeAddress,pAddress:tt.presentAddress,city:tt.city,province:tt.province,postalCode:tt.postalCode,mobilePhone:tt.mobilePhone,presentPhone:tt.presentPhone,homePhone:tt.homePhone,civilStatus:tt.civilStatus,citizenship:tt.citizenship,religion:tt.religion,weight:tt.weight,height:tt.height,sex:tt.gender,email:tt.email,birthDate:tt.birthDate||null,age:parseInt(tt.age)||0,birthPlace:tt.birthPlace,unionMember:!1,agency:!1,subAcctCode:"",shiftCode:"",superior:"",clsCode:"",locId:0,rateCode:"",taxID:0,taxCode:"",bankAccount:"",bankCode:"",pagibigCode:"",photo:"",catCode:"",nickName:""}),ws=Oe=>{if(Zt({empID:Oe.empID,empCode:Oe.empCode,empStatCode:Oe.empStatCode,courtesy:Oe.courtesy,lastName:Oe.lName,firstName:Oe.fName,middleName:Oe.mName,suffix:Oe.suffix,dateHired:Oe.dateHired||"",regularized:Oe.dateRegularized||"",probeStart:Oe.probeStart||"",probeEnd:Oe.probeEnd||"",dateResigned:Oe.dateResigned||"",suspended:Oe.dateSuspended||"",suspend:Oe.suspend,separated:Oe.separated,contractual:Oe.contractual,sss:Oe.sssNo,pagibig:Oe.pagIbigNo,philhealth:Oe.pHilHealthNo,tin:Oe.tin,gsisNo:Oe.gsisNo,branch:Se.find(At=>At.code===Oe.braCode)?.description||"",branchCode:Oe.braCode,division:Fe.find(At=>At.code===Oe.divCode)?.description||"",divisionCode:Oe.divCode,department:ze.find(At=>At.code===Oe.depCode)?.description||"",departmentCode:Oe.depCode,section:Ve.find(At=>At.code===Oe.secCode)?.description||"",sectionCode:Oe.secCode,unit:ve.find(At=>At.code===Oe.unitCode)?.description||"",unitCode:Oe.unitCode,payHouse:Te.find(At=>At.code===Oe.payCode)?.description||"",payHouseCode:Oe.payCode,area:ot.find(At=>At.code===Oe.areaCode)?.description||"",areaCode:Oe.areaCode,location:Ge.find(At=>At.code===Oe.locCode)?.description||"",locationCode:Oe.locCode,onlineApplication:yt.find(At=>At.code===Oe.onlineAppCode)?.description||"",onlineAppCode:Oe.onlineAppCode,designation:Oe.desCode,jobLevel:jt.find(At=>At.code===Oe.grdCode)?.description||"",jobLevelCode:Oe.grdCode,homeAddress:Oe.hAddress,presentAddress:Oe.pAddress,city:Oe.city,province:Oe.province,postalCode:Oe.postalCode,mobilePhone:Oe.mobilePhone,presentPhone:Oe.presentPhone,homePhone:Oe.homePhone,civilStatus:Oe.civilStatus,citizenship:Oe.citizenship,religion:Oe.religion,weight:Oe.weight,height:Oe.height,gender:Oe.sex,email:Oe.email,birthDate:Oe.birthDate||"",age:Oe.age.toString(),birthPlace:Oe.birthPlace}),Oe.photo||Oe.photoBytes){const At=Oe.photoBytes||Oe.photo;At.startsWith("data:image")?ge(At):ge(`data:image/jpeg;base64,${At}`)}else ge("");be(null)},Ys=Oe=>{const At=Oe.target.files?.[0];if(At){if(!At.type.startsWith("image/")){Q.fire({icon:"error",title:"Invalid File",text:"Please select an image file (JPG, PNG, etc.)"});return}if(At.size>5*1024*1024){Q.fire({icon:"error",title:"File Too Large",text:"Please select an image smaller than 5MB"});return}be(At);const Mt=new FileReader;Mt.onloadend=()=>{ge(Mt.result)},Mt.readAsDataURL(At)}},Ks=()=>{be(null),ge(""),xe.current&&(xe.current.value="")},qs=()=>{r&&xe.current?.click()},lr=()=>{a(!0),l(!0),be(null),ge(""),Zt({empID:0,empCode:"",empStatCode:"",courtesy:"",lastName:"",firstName:"",middleName:"",suffix:"",dateHired:"",regularized:"",probeStart:"",probeEnd:"",dateResigned:"",suspended:"",suspend:!1,separated:!1,contractual:!1,sss:"",pagibig:"",philhealth:"",tin:"",gsisNo:"",branch:"",branchCode:"",division:"",divisionCode:"",department:"",departmentCode:"",section:"",sectionCode:"",unit:"",unitCode:"",payHouse:"",payHouseCode:"",area:"",areaCode:"",location:"",locationCode:"",onlineApplication:"",onlineAppCode:"",designation:"",jobLevel:"",jobLevelCode:"",homeAddress:"",presentAddress:"",city:"",province:"",postalCode:"",mobilePhone:"",presentPhone:"",homePhone:"",civilStatus:"",citizenship:"",religion:"",weight:"0",height:"0",gender:"M",email:"",birthDate:"",age:"0",birthPlace:""})},Xr=()=>{a(!0)},ir=async()=>{try{const Oe=Vt();n?await ds(Oe):await Js(tt.empID,Oe),a(!1),l(!1)}catch(Oe){console.error("Error saving employee:",Oe),alert("Failed to save employee. Please try again.")}},cr=()=>{a(!1),l(!1),W&&!n&&ws(W)},vr=()=>{b(!0)},lt=async()=>{try{await Tt(tt.empID),alert("Employee deleted successfully!"),b(!1),lr()}catch(Oe){console.error("Error deleting employee:",Oe),alert("Failed to delete employee. Please try again.")}},os=()=>{b(!1)},Ds=()=>{d(!0)},mr=o.useMemo(()=>R.map(Oe=>({...Oe,name:`${Oe.lName}, ${Oe.fName}`,groupCode:Oe.grpCode})),[R]),Qs=async(Oe,At)=>{try{const Mt=R.find(Bs=>Bs.empCode===Oe);if(!Mt){console.error("Employee not found:",Oe),alert("Employee not found");return}const pr=await zt(Mt.empID);pr&&ws(pr),d(!1)}catch(Mt){console.error("Error loading employee:",Mt),alert("Failed to load employee details")}};o.useEffect(()=>{kt(),Ht(),ms(),Nr(),xr(),hr(),Br(),ha(),tr(),sr(),Ca(),ct()},[]),o.useEffect(()=>{const Oe=At=>{At.key==="Escape"&&(i&&d(!1),x&&h(!1),m&&b(!1),f&&N(!1),p&&v(!1),g&&y(!1),C&&j(!1),S&&P(!1),D&&T(!1),A&&M(!1),L&&q(!1),B&&te(!1),oe&&fe(!1))};return document.addEventListener("keydown",Oe),()=>{document.removeEventListener("keydown",Oe)}},[i,x,m,f,p,g,C,S,D,A,L,B,oe]),R.filter(Oe=>Oe.empCode.toLowerCase().includes(U.toLowerCase())||`${Oe.lName}, ${Oe.fName}`.toLowerCase().includes(U.toLowerCase()));const jr=Re.filter(Oe=>Oe.code.toLowerCase().includes(O.toLowerCase())||Oe.description.toLowerCase().includes(O.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Master File"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage employee records including personal information, employment details, organizational assignments, and government ID numbers. This master file serves as the central repository for all employee data."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employment and organizational information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Personal details and contact information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Government IDs (SSS, PAG-IBIG, PhilHealth, TIN)"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Status tracking and employment history"})]})]})]})]})}),F&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-600",children:F})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[!n&&!r&&e.jsxs("button",{onClick:lr,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),r?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ir,disabled:J,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(Ar,{className:"w-4 h-4"}),J?"Saving...":"Save"]}),e.jsxs("button",{onClick:cr,disabled:J,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:Xr,disabled:tt.empID===0,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]}),!n&&!r&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:vr,disabled:tt.empID===0,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(is,{className:"w-4 h-4"}),"Delete"]}),e.jsxs("button",{onClick:Ds,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsx("div",{className:"mb-6 space-y-4",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Emp. Code"}),e.jsx("input",{type:"text",value:tt.empCode,onChange:Oe=>Zt({...tt,empCode:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Emp. Stat Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.empStatCode,onChange:Oe=>Zt({...tt,empStatCode:Oe.target.value}),disabled:!r,className:"flex-1 px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Courtesy"}),e.jsxs("select",{value:tt.courtesy,onChange:Oe=>Zt({...tt,courtesy:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Engr",children:"Engr (Engineer)"}),e.jsx("option",{value:"Dr",children:"Dr (Doctor)"}),e.jsx("option",{value:"Mr",children:"Mr (Mister)"}),e.jsx("option",{value:"Mrs",children:"Mrs (Mrs)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:tt.lastName,onChange:Oe=>Zt({...tt,lastName:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:tt.firstName,onChange:Oe=>Zt({...tt,firstName:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Middle Name"}),e.jsx("input",{type:"text",value:tt.middleName,onChange:Oe=>Zt({...tt,middleName:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Suffix"}),e.jsx("input",{type:"text",value:tt.suffix,onChange:Oe=>Zt({...tt,suffix:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:()=>s("employment"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="employment"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Zs,{className:"w-4 h-4"}),"Employment Information"]}),e.jsxs("button",{onClick:()=>s("personal"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="personal"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(bp,{className:"w-4 h-4"}),"Personal Information"]})]})}),t==="employment"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Position"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Designation"}),e.jsx("input",{type:"text",value:tt.designation,onChange:Oe=>Zt({...tt,designation:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Job Level"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.jobLevel,onChange:Oe=>Zt({...tt,jobLevel:Oe.target.value}),disabled:!r,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>fe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,jobLevel:"",jobLevelCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employment Dates"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Date Hired"}),e.jsx(qc,{date:tt.dateHired,onChange:Oe=>Zt({...tt,dateHired:Oe}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Regularized"}),e.jsx(qc,{date:tt.regularized,onChange:Oe=>Zt({...tt,regularized:Oe}),disabled:!r})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:tt.contractual,onChange:Oe=>Zt({...tt,contractual:Oe.target.checked}),disabled:!r,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Contractual"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Probe Start"}),e.jsx(qc,{date:tt.probeStart,onChange:Oe=>Zt({...tt,probeStart:Oe}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Probe End"}),e.jsx(qc,{date:tt.probeEnd,onChange:Oe=>Zt({...tt,probeEnd:Oe}),disabled:!r})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:tt.separated,onChange:Oe=>Zt({...tt,separated:Oe.target.checked}),disabled:!r,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Separated"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Date Resigned"}),e.jsx(qc,{date:tt.dateResigned,onChange:Oe=>Zt({...tt,dateResigned:Oe}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Suspended"}),e.jsx(qc,{date:tt.suspended,onChange:Oe=>Zt({...tt,suspended:Oe}),disabled:!r})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:tt.suspend,onChange:Oe=>Zt({...tt,suspend:Oe.target.checked}),disabled:!r,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Suspend"})]})})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Government IDs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"SSS"}),e.jsx("input",{type:"text",value:tt.sss,onChange:Oe=>Zt({...tt,sss:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"PAG-IBIG"}),e.jsx("input",{type:"text",value:tt.pagibig,onChange:Oe=>Zt({...tt,pagibig:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Philhealth"}),e.jsx("input",{type:"text",value:tt.philhealth,onChange:Oe=>Zt({...tt,philhealth:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"TIN"}),e.jsx("input",{type:"text",value:tt.tin,onChange:Oe=>Zt({...tt,tin:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"GSIS/No"}),e.jsx("input",{type:"text",value:tt.gsisNo,onChange:Oe=>Zt({...tt,gsisNo:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Organizational Assignment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Branch"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.branch,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>N(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,branch:"",branchCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Division"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.division,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>v(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,division:"",divisionCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Department"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.department,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,department:"",departmentCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Section"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.section,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>j(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,section:"",sectionCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Unit"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.unit,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>P(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,unit:"",unitCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Pay House"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.payHouse,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,payHouse:"",payHouseCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Area"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.area,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>M(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,area:"",areaCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Location"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.location,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>q(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,location:"",locationCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Online Application"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:tt.onlineApplication,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>te(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Zt({...tt,onlineApplication:"",onlineAppCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]})]})]})]})]})]}),t==="personal"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Address Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Home Address"}),e.jsx("textarea",{value:tt.homeAddress,onChange:Oe=>Zt({...tt,homeAddress:Oe.target.value}),disabled:!r,rows:3,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Present Address"}),e.jsx("textarea",{value:tt.presentAddress,onChange:Oe=>Zt({...tt,presentAddress:Oe.target.value}),disabled:!r,rows:3,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"City"}),e.jsx("input",{type:"text",value:tt.city,onChange:Oe=>Zt({...tt,city:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Province"}),e.jsx("input",{type:"text",value:tt.province,onChange:Oe=>Zt({...tt,province:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Postal Code"}),e.jsx("input",{type:"text",value:tt.postalCode,onChange:Oe=>Zt({...tt,postalCode:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Mobile Phone"}),e.jsx("input",{type:"text",value:tt.mobilePhone,onChange:Oe=>Zt({...tt,mobilePhone:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Present Phone"}),e.jsx("input",{type:"text",value:tt.presentPhone,onChange:Oe=>Zt({...tt,presentPhone:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Home Phone"}),e.jsx("input",{type:"text",value:tt.homePhone,onChange:Oe=>Zt({...tt,homePhone:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Personal Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Civil Status"}),e.jsx("input",{type:"text",value:tt.civilStatus,onChange:Oe=>Zt({...tt,civilStatus:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Citizenship"}),e.jsx("input",{type:"text",value:tt.citizenship,onChange:Oe=>Zt({...tt,citizenship:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Religion"}),e.jsx("input",{type:"text",value:tt.religion,onChange:Oe=>Zt({...tt,religion:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Weight"}),e.jsx("input",{type:"text",value:tt.weight,onChange:Oe=>Zt({...tt,weight:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Height"}),e.jsx("input",{type:"text",value:tt.height,onChange:Oe=>Zt({...tt,height:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Gender"}),e.jsx("input",{type:"text",value:tt.gender,onChange:Oe=>Zt({...tt,gender:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Email"}),e.jsx("input",{type:"text",value:tt.email,onChange:Oe=>Zt({...tt,email:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Birth Date"}),e.jsx(qc,{date:tt.birthDate,onChange:Oe=>Zt({...tt,birthDate:Oe}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Age"}),e.jsx("input",{type:"text",value:tt.age,onChange:Oe=>Zt({...tt,age:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Birth Place"}),e.jsx("input",{type:"text",value:tt.birthPlace,onChange:Oe=>Zt({...tt,birthPlace:Oe.target.value}),disabled:!r,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Photo"}),e.jsx("input",{ref:xe,type:"file",accept:"image/*",onChange:Ys,disabled:!r,className:"hidden"}),e.jsx("div",{className:`relative flex items-center justify-center w-full h-64 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg border-2 border-dashed border-blue-300 overflow-hidden ${r?"cursor-pointer hover:border-blue-500 transition-colors":""}`,onClick:qs,children:je?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:je,alt:"Employee",className:"w-full h-full object-cover"}),r&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity",children:e.jsx(_A,{className:"w-12 h-12 text-white"})})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center text-blue-400",children:[e.jsx(bp,{className:"w-32 h-32 mb-2"}),r&&e.jsx("p",{className:"text-sm text-blue-600",children:"Click to upload photo"})]})}),r&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("button",{type:"button",onClick:()=>xe.current?.click(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ua,{className:"w-4 h-4"}),je?"Change Photo":"Upload Photo"]}),(je||ye)&&e.jsxs("button",{type:"button",onClick:Ks,className:"w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(nt,{className:"w-4 h-4"}),"Remove Photo"]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Max size: 5MB  Formats: JPG, PNG, GIF"})]})]})})]})})]})]})}),e.jsx(Qt,{}),e.jsx(na,{isOpen:i,onClose:()=>d(!1),onSelect:Qs,employees:mr,loading:J,error:F}),x&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Employee Status"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Emp Stat Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:O,onChange:Oe=>he(Oe.target.value),placeholder:"Type status code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),bt?e.jsx("div",{className:"text-center py-8",children:"Loading employee statuses..."}):as?e.jsx("div",{className:"text-center py-8 text-red-600",children:as}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:jr.length>0?jr.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,empStatCode:Oe.code}),h(!1),he("")},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description})]},Oe.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-8 text-center text-gray-500",children:"No employee statuses found"})})})]})}),e.jsx("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-700",children:e.jsxs("div",{children:["Showing ",jr.length," status(es)"]})})]})]})]})}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>N(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Branch"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Branch"}),Ye?e.jsx("div",{className:"text-center py-8",children:"Loading branches..."}):ue?e.jsx("div",{className:"text-center py-8 text-red-600",children:ue}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Manager"})]})}),e.jsx("tbody",{children:Se.length>0?Se.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,branch:Oe.description,branchCode:Oe.code}),N(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.branchManager})]},Oe.branchId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No branches found"})})})]})})]})]})})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>v(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Division"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Division"}),Ft?e.jsx("div",{className:"text-center py-8",children:"Loading divisions..."}):G?e.jsx("div",{className:"text-center py-8 text-red-600",children:G}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Fe.length>0?Fe.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,division:Oe.description,divisionCode:Oe.code}),v(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No divisions found"})})})]})})]})]})})]}),g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>y(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Department"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Department"}),Lt?e.jsx("div",{className:"text-center py-8",children:"Loading departments..."}):_?e.jsx("div",{className:"text-center py-8 text-red-600",children:_}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Division"})]})}),e.jsx("tbody",{children:ze.length>0?ze.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,department:Oe.description,departmentCode:Oe.code}),y(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.divisionCode})]},Oe.departmentId)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"No departments found"})})})]})})]})]})})]}),C&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>j(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Section"}),e.jsx("button",{onClick:()=>j(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Section"}),gt?e.jsx("div",{className:"text-center py-8",children:"Loading sections..."}):_e?e.jsx("div",{className:"text-center py-8 text-red-600",children:_e}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Ve.length>0?Ve.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,section:Oe.description,sectionCode:Oe.code}),j(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No sections found"})})})]})})]})]})})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>P(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Unit"}),e.jsx("button",{onClick:()=>P(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Unit"}),xt?e.jsx("div",{className:"text-center py-8",children:"Loading units..."}):ke?e.jsx("div",{className:"text-center py-8 text-red-600",children:ke}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:ve.length>0?ve.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,unit:Oe.description,unitCode:Oe.code}),P(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No units found"})})})]})})]})]})})]}),D&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>T(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Pay House"}),e.jsx("button",{onClick:()=>T(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Pay House"}),Nt?e.jsx("div",{className:"text-center py-8",children:"Loading pay houses..."}):Ne?e.jsx("div",{className:"text-center py-8 text-red-600",children:Ne}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Te.length>0?Te.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,payHouse:Oe.description,payHouseCode:Oe.code}),T(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No pay houses found"})})})]})})]})]})})]}),A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>M(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Area"}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Area"}),Ke?e.jsx("div",{className:"text-center py-8",children:"Loading areas..."}):de?e.jsx("div",{className:"text-center py-8 text-red-600",children:de}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:ot.length>0?ot.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,area:Oe.description,areaCode:Oe.code}),M(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No areas found"})})})]})})]})]})})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>q(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Location"}),e.jsx("button",{onClick:()=>q(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Location"}),Ee?e.jsx("div",{className:"text-center py-8",children:"Loading locations..."}):We?e.jsx("div",{className:"text-center py-8 text-red-600",children:We}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Ge.length>0?Ge.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,location:Oe.description,locationCode:Oe.code}),q(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No locations found"})})})]})})]})]})})]}),B&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>te(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Online Approval"}),e.jsx("button",{onClick:()=>te(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Online Approval"}),at?e.jsx("div",{className:"text-center py-8",children:"Loading online approvals..."}):$t?e.jsx("div",{className:"text-center py-8 text-red-600",children:$t}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Manager"})]})}),e.jsx("tbody",{children:yt.length>0?yt.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,onlineApplication:Oe.description,onlineAppCode:Oe.code}),te(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.head})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No online approvals found"})})})]})})]})]})})]}),oe&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>fe(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Job Level"}),e.jsx("button",{onClick:()=>fe(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Job Level"}),_t?e.jsx("div",{className:"text-center py-8",children:"Loading job levels..."}):Pe?e.jsx("div",{className:"text-center py-8 text-red-600",children:Pe}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:jt.length>0?jt.map((Oe,At)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${At%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Zt({...tt,jobLevel:Oe.description,jobLevelCode:Oe.code}),fe(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Oe.description})]},Oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-8 text-center text-gray-500",children:"No job levels found"})})})]})})]})]})})]}),m&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md",children:[e.jsx("div",{className:"bg-gray-100 px-4 py-3 border-b border-gray-300",children:e.jsx("h2",{className:"text-gray-800",children:"Confirm Delete"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-800 mb-6",children:"Are you sure you want to delete this employee?"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:lt,className:"px-8 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-sm",children:"OK"}),e.jsx("button",{onClick:os,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 transition-colors shadow-sm",children:"Cancel"})]})]})]})})]})}function CQ({isOpen:t,isEditMode:s,empCode:r,date:a,hoursApproved:n,leaveCode:l,period:i,reason:d,remarks:x,withPay:h,sssNotification:m,isLateFiling:b,onClose:f,onDateChange:N,onHoursApprovedChange:p,onLeaveCodeChange:v,onPeriodChange:g,onReasonChange:y,onRemarksChange:C,onWithPayChange:j,onSssNotificationChange:S,onIsLateFilingChange:P,onSubmit:D}){const[T,A]=o.useState(!1);return o.useEffect(()=>{const M=L=>{L.key==="Escape"&&t&&!T&&f()};return t&&document.addEventListener("keydown",M),()=>{document.removeEventListener("keydown",M)}},[t,T,f]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:f}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Leave":"Create New"}),e.jsx("button",{onClick:f,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Applications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx("input",{type:"date",value:a,onChange:M=>N(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No of Hours Approved :"}),e.jsx("input",{type:"text",value:n,onChange:M=>p(M.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"LeaveCode :"}),e.jsx("input",{type:"text",value:l,onChange:M=>v(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>A(!0),children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Period :"}),e.jsxs("select",{value:i,onChange:M=>g(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"1ST HALF",children:"1ST HALF"}),e.jsx("option",{value:"2ND HALF",children:"2ND HALF"}),e.jsx("option",{value:"WITHIN THE SHIFT",children:"WITHIN THE SHIFT"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:d,onChange:M=>y(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:x,onChange:M=>C(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:h,onChange:M=>j(M.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"SSS Notification :"}),e.jsx("input",{type:"checkbox",checked:m,onChange:M=>S(M.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:b,onChange:M=>P(M.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:D,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(nD,{isOpen:T,onClose:()=>A(!1),onSelect:v,leaveCodeItems:[],loading:!1,error:""})]}):null}function SQ({isOpen:t,isEditMode:s,dateFrom:r,dateTo:a,onClose:n,onDateFromChange:l,onDateToChange:i,onSubmit:d}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:n}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Employee Contractual"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx(an,{value:r,onChange:x=>l(x),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx(an,{value:a,onChange:x=>i(x),className:"flex-1"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function kQ({isOpen:t,isEditMode:s,dateFrom:r,dateTo:a,onClose:n,onDateFromChange:l,onDateToChange:i,onSubmit:d}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:n}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Suspension":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Suspension"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx(an,{value:r,onChange:x=>l(x),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx(an,{value:a,onChange:x=>i(x),className:"flex-1"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function DQ({isOpen:t,onClose:s,onSelect:r,groupSchedules:a,loading:n}){const[l,i]=o.useState(""),[d,x]=o.useState(1),h=10;o.useEffect(()=>{t&&(i(""),x(1))},[t]);const m=a.filter(j=>(j.groupScheduleCode?.toLowerCase()||"").includes(l.toLowerCase())||(j.groupScheduleDesc?.toLowerCase()||"").includes(l.toLowerCase())),b=Math.ceil(m.length/h),f=(d-1)*h,N=f+h,p=m.slice(f,N),v=()=>{const j=[];if(b<=5)for(let P=1;P<=b;P++)j.push(P);else if(d<=3){for(let P=1;P<=4;P++)j.push(P);j.push("..."),j.push(b)}else if(d>=b-2){j.push(1),j.push("...");for(let P=b-3;P<=b;P++)j.push(P)}else j.push(1),j.push("..."),j.push(d-1),j.push(d),j.push(d+1),j.push("..."),j.push(b);return j},g=j=>{x(j)},y=()=>{d>1&&x(d-1)},C=()=>{d<b&&x(d+1)};return o.useEffect(()=>{x(1)},[l]),o.useEffect(()=>{const j=S=>{S.key==="Escape"&&t&&s()};return t&&document.addEventListener("keydown",j),()=>{document.removeEventListener("keydown",j)}},[t,s]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Group Schedule"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Group Schedule Setup"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:j=>i(j.target.value),placeholder:"Search by code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),n?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading group schedules..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Group Schedule Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500",children:"No group schedules found"})}):p.map(j=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(j.groupScheduleCode),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:j.groupScheduleCode}),e.jsx("td",{className:"px-3 py-1.5",children:j.groupScheduleDesc})]},j.groupScheduleID))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",m.length>0?f+1:0," to ",Math.min(N,m.length)," of ",m.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:y,disabled:d===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),v().map((j,S)=>typeof j=="number"?e.jsx("button",{onClick:()=>g(j),className:`px-2 py-1 rounded text-xs ${d===j?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:j},S):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:j},S)),e.jsx("button",{onClick:C,disabled:d===b||b===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}):null}function EQ({isOpen:t,isEditMode:s,empCode:r,code:a,password:n,effectivityDate:l,expiryDate:i,onClose:d,onCodeChange:x,onPasswordChange:h,onEffectivityDateChange:m,onExpiryDateChange:b,onSubmit:f}){return o.useEffect(()=>{const N=p=>{p.key==="Escape"&&t&&d()};return t&&document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[t,d]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:d}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Device Code":"Add Device Code"}),e.jsx("button",{onClick:d,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Device Code Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Code :"}),e.jsx("input",{type:"text",value:a,onChange:N=>x(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Password :"}),e.jsx("input",{type:"password",value:n,onChange:N=>h(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Effectivity Date :"}),e.jsx("input",{type:"date",value:l,onChange:N=>m(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Expiry Date :"}),e.jsx("input",{type:"date",value:i,onChange:N=>b(N.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Add"}),e.jsx("button",{onClick:d,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]}):null}function TQ({isOpen:t,isEditMode:s,empCode:r,dateFrom:a,dateTo:n,restDay1:l,restDay2:i,restDay3:d,onClose:x,onDateFromChange:h,onDateToChange:m,onRestDay1Change:b,onRestDay2Change:f,onRestDay3Change:N,onSubmit:p}){if(o.useEffect(()=>{const g=y=>{y.key==="Escape"&&t&&x()};return t&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[t,x]),!t)return null;const v=[{value:"",label:"Select Day"},{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"},{value:"Sunday",label:"Sunday"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:x}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Variable Rest Day":"Add Variable Rest Day"}),e.jsx("button",{onClick:x,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Variable Rest Day Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"date",value:a,onChange:g=>h(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"date",value:n,onChange:g=>m(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 1 :"}),e.jsx("select",{value:l,onChange:g=>b(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 2 :"}),e.jsx("select",{value:i,onChange:g=>f(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 3 :"}),e.jsx("select",{value:d,onChange:g=>N(g.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Add"}),e.jsx("button",{onClick:x,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]})}function AQ({isOpen:t,isEditMode:s,empCode:r,dateFrom:a,dateTo:n,shiftCode:l,dailyScheduleCode:i,glCode:d,onClose:x,onDateFromChange:h,onDateToChange:m,onShiftCodeChange:b,onDailyScheduleCodeChange:f,onGLCodeChange:N,onSubmit:p}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:x}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-gray-800 text-sm",children:[s?"Edit":"Add"," Variable Workshift"]}),e.jsx("button",{onClick:x,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Employee Code"}),e.jsx("input",{type:"text",value:r,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date From"}),e.jsx("input",{type:"date",value:a,onChange:v=>h(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date To"}),e.jsx("input",{type:"date",value:n,onChange:v=>m(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Shift Code"}),e.jsx("input",{type:"text",value:l,onChange:v=>b(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Daily Schedule Code"}),e.jsx("input",{type:"text",value:i,onChange:v=>f(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"GL Code"}),e.jsx("input",{type:"text",value:d,onChange:v=>N(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:x,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s?"Update":"Save"})]})]})]})})]}):null}function FQ({isOpen:t,isEditMode:s,empCode:r,dateFrom:a,dateTo:n,classificationCode:l,onClose:i,onDateFromChange:d,onDateToChange:x,onClassificationCodeChange:h,onSubmit:m}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:i}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-gray-800 text-sm",children:[s?"Edit":"Add"," Variable Classification"]}),e.jsx("button",{onClick:i,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Employee Code"}),e.jsx("input",{type:"text",value:r,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date From"}),e.jsx("input",{type:"date",value:a,onChange:b=>d(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date To"}),e.jsx("input",{type:"date",value:n,onChange:b=>x(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Classification Code"}),e.jsx("input",{type:"text",value:l,onChange:b=>h(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:s?"Update":"Save"})]})]})]})})]}):null}function PQ({isOpen:t,onClose:s,onSelect:r,dailySchedules:a,loading:n}){const[l,i]=o.useState("");if(o.useEffect(()=>{t&&i("")},[t]),!t)return null;const d=a.filter(x=>(x.referenceNo?.toLowerCase()||"").includes(l.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:s}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Daily Schedule"}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:x=>i(x.target.value),placeholder:"Search by reference number...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),n?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading daily schedules..."}):e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Reference No"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Mon"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Tue"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Wed"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Thu"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Fri"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Sat"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Sun"})]})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-3 py-8 text-center text-gray-500",children:"No daily schedules found"})}):d.map(x=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{r(x.referenceNo),s()},children:[e.jsx("td",{className:"px-3 py-1.5",children:x.referenceNo}),e.jsx("td",{className:"px-3 py-1.5",children:x.monday}),e.jsx("td",{className:"px-3 py-1.5",children:x.tuesday}),e.jsx("td",{className:"px-3 py-1.5",children:x.wednesday}),e.jsx("td",{className:"px-3 py-1.5",children:x.thursday}),e.jsx("td",{className:"px-3 py-1.5",children:x.friday}),e.jsx("td",{className:"px-3 py-1.5",children:x.saturday}),e.jsx("td",{className:"px-3 py-1.5",children:x.sunday})]},x.dailyScheduleID))})]})})]})]})})]})}function MQ(){const[t,s]=o.useState("basic-config"),[r,a]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState(""),[x,h]=o.useState(""),[m,b]=o.useState(""),[f,N]=o.useState(""),[p,v]=o.useState(""),[g,y]=o.useState(!1),[C,j]=o.useState(!1),[S,P]=o.useState(!1),[D,T]=o.useState(!1),[A,M]=o.useState([]),[L,q]=o.useState(!1),[B,te]=o.useState(""),[oe,fe]=o.useState(null),[R,V]=o.useState(!1),[W,ne]=o.useState(""),[J,H]=o.useState([]),[F,I]=o.useState(!1),[U,k]=o.useState(null),[O,he]=o.useState(!1),[ye,be]=o.useState(!1),[je,ge]=o.useState(!1),[xe,Se]=o.useState(0),[De,Fe]=o.useState(""),[Ae,ze]=o.useState(""),[He,Ve]=o.useState(""),[qe,ve]=o.useState(""),[Me,Te]=o.useState(""),[Le,ot]=o.useState(""),[Je,Ge]=o.useState(!1),[et,yt]=o.useState(!1),[mt,jt]=o.useState(!1),[we,Re]=o.useState(!1),[me,Ye]=o.useState(!1),[pt,Ft]=o.useState(null),[Bt,Lt]=o.useState(""),[Qe,gt]=o.useState(""),[vt,xt]=o.useState(""),[Ct,Nt]=o.useState(""),[$e,Ke]=o.useState(""),[ce,Ee]=o.useState(""),[pe,at]=o.useState(!1),[ut,_t]=o.useState(!1),[it,bt]=o.useState(null),[se,ue]=o.useState(""),[Z,G]=o.useState(""),[Y,_]=o.useState(!1),[ie,_e]=o.useState(!1),[Ie,ke]=o.useState(null),[X,Ne]=o.useState(""),[ee,de]=o.useState(""),[re,We]=o.useState([]),[ft,$t]=o.useState(!1),[z,Pe]=o.useState([]),[Xe,as]=o.useState(!1),[us,tt]=o.useState(!1),[Zt,kt]=o.useState(!1),[zt,ds]=o.useState(null),[Js,Tt]=o.useState(""),[Ht,ms]=o.useState(""),[Nr,xr]=o.useState(""),[hr,Br]=o.useState(""),[ha,tr]=o.useState(!1),[sr,Ca]=o.useState("variable"),[ct,Vt]=o.useState(null),[ws,Ys]=o.useState([]),[Ks,qs]=o.useState(!1),[lr,Xr]=o.useState(!1),[ir,cr]=o.useState(null),[vr,lt]=o.useState(""),[os,Ds]=o.useState(""),[mr,Qs]=o.useState(""),[jr,Oe]=o.useState(""),[At,Mt]=o.useState(""),[pr,Bs]=o.useState(!1),[Cr,Ja]=o.useState("variable"),[dn,un]=o.useState(null),[Ia,Qa]=o.useState([]),[ao,An]=o.useState(!1),[Un,Jr]=o.useState(!1),[Qr,no]=o.useState(null),[rt,fs]=o.useState(""),[Os,Xt]=o.useState(""),[Rr,Zr]=o.useState(""),[oa,wr]=o.useState(""),[dt,Ws]=o.useState(""),[La,xn]=o.useState(""),[oo,Ho]=o.useState([]),[Uo,Wo]=o.useState(!1),[Jl,yl]=o.useState(!1),[Nc,_a]=o.useState(!1),[hn,Ql]=o.useState("variable"),[bl,Ei]=o.useState(null),[Go,Ti]=o.useState([]),[jo,Co]=o.useState(!1),[$o,Ai]=o.useState(!1),[zo,vl]=o.useState(null),[Vo,Zl]=o.useState(""),[Yo,wl]=o.useState(""),[Ed,Td]=o.useState(""),[Ad,jc]=o.useState(""),[Fd,Cc]=o.useState([]),[J0,Wn]=o.useState(!1),[Nl,Pd]=o.useState([]),[Md,lo]=o.useState(!1),[Sc,kc]=o.useState([]),[Id,Za]=o.useState(!1),Q0="Last122, First A",Z0="Main Monthly",[Fi,Ko]=o.useState(!1),[ei,jl]=o.useState(""),[ti,eu]=o.useState([]),[Pi,Ld]=o.useState(!1),[Oa,qo]=o.useState(1),[si]=o.useState(10),[Dc,Mi]=o.useState(""),[_d,Hx]=o.useState(""),[Dt,Ut]=o.useState(""),[ma,Hv]=o.useState(""),[io,Od]=o.useState(""),[Ux,gf]=o.useState(""),[Wx,yf]=o.useState(""),[Bd,tu]=o.useState(""),[Gx,Cl]=o.useState(""),[su,Rd]=o.useState(""),[ru,bf]=o.useState(""),[Ec,Sl]=o.useState(!1),[au,vf]=o.useState(""),[Hd,wf]=o.useState(!1),$x=async()=>{Ld(!0);try{const Ce=await ae.get("/Fs/Process/PayRollLocationSetUp");Ce.status===200&&Ce.data&&(console.log("Payroll locations fetched successfully:",Ce.data),eu(Ce.data))}catch(Ce){const Ze=Ce.response?.data?.message||Ce.message||"Failed to load payroll locations";await Q.fire({icon:"error",title:"Error",text:Ze}),console.error("Error fetching payroll locations:",Ce)}finally{Ld(!1)}},zx=async()=>{I(!0);try{const Ce=await ae.get("/Fs/Process/GroupScheduleSetUp");Ce.status===200&&Ce.data&&H(Ce.data)}catch(Ce){const Ze=Ce.response?.data?.message||Ce.message||"Failed to load group schedules";console.error("Error fetching group schedules:",Ce),await Q.fire({icon:"error",title:"Error",text:Ze})}finally{I(!1)}},Vx=async()=>{q(!0),te("");try{const Ce=await ae.get("/Maintenance/EmployeeMasterFile");Ce.status===200&&Ce.data&&M(Ce.data)}catch(Ce){const Ze=Ce.response?.data?.message||Ce.message||"Failed to load employees";te(Ze),console.error("Error fetching employees:",Ce)}finally{q(!1)}},Ii=async Ce=>{if(Ce){V(!0),ne("");try{const Ze=await ae.get("/Maintenance/EmployeeBasicConfiguration",{params:{empCode:Ce}});if(Ze.status===200&&Ze.data)if(Ze.data.items&&Ze.data.items.length>0){const St=Ze.data.items[0];fe(St),T(!1)}else fe(null),T(!0)}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to load basic configuration";ne(St),console.error("Error fetching basic configuration:",Ze),Ze.response?.status===404&&(fe(null),T(!0))}finally{V(!1)}}},Tc=async Ce=>{if(Ce){he(!0);try{const Ze=await ae.get("/Maintenance/EmployeeExemptions");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).find(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());rs?(console.log(rs),k(rs)):k({id:0,empCode:Ce,tardiness:!1,undertime:!1,nightDiffBasic:!1,overtime:!1,absences:!1,otherEarnAndAllow:!1,holidayPay:!1,unprodWorkHoliday:!1})}}catch(Ze){console.error("Error fetching exemptions:",Ze),k({id:0,empCode:Ce,tardiness:!1,undertime:!1,nightDiffBasic:!1,overtime:!1,absences:!1,otherEarnAndAllow:!1,holidayPay:!1,unprodWorkHoliday:!1})}finally{he(!1)}}},Gn=async Ce=>{if(Ce){$t(!0);try{const Ze=await ae.get("/Maintenance/EmployeeLeaveApplication");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase()).map(Fs=>({id:Fs.id,empCode:Fs.empCode?.trim()??"",leaveDate:Fs.date?new Date(Fs.date).toLocaleDateString():"N/A",leaveCode:Fs.leaveCode?.trim()??"",hours:Fs.hoursApprovedNum??0,reason:Fs.reason??"No reason provided",remarks:Fs.remarks??"",withPay:Fs.withPay??!1,isLate:Fs.isLateFiling??!1,status:Fs.hoursApprovedNum>0?"Approved":"Pending"}));We(rs)}}catch(Ze){console.error("Error fetching/filtering leave applications:",Ze),We([])}finally{$t(!1)}}},ri=async Ce=>{if(Ce){as(!0);try{const Ze=await ae.get("/Maintenance/EmployeeDeviceCode");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());Pe(rs)}}catch(Ze){console.error("Error fetching device codes:",Ze),Pe([])}finally{as(!1)}}},nu=async Ce=>{as(!0);try{const Ze=await ae.post("/Maintenance/EmployeeDeviceCode",Ce);(Ze.status===200||Ze.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Device code created successfully.",timer:2e3,showConfirmButton:!1}),await ri(r),tt(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create device code";throw await Q.fire({icon:"error",title:"Error",text:St}),Ze}finally{as(!1)}},Nf=async(Ce,Ze)=>{as(!0);try{const St=await ae.put(`/Maintenance/EmployeeDeviceCode/${Ce}`,Ze);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Device code updated successfully.",timer:2e3,showConfirmButton:!1}),await ri(r),tt(!1))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update device code";throw await Q.fire({icon:"error",title:"Error",text:rs}),St}finally{as(!1)}},jf=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){as(!0);try{const St=await ae.delete(`/Maintenance/EmployeeDeviceCode/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Device code has been deleted.",timer:2e3,showConfirmButton:!1}),await ri(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete device code";await Q.fire({icon:"error",title:"Error",text:rs})}finally{as(!1)}}},Ac=async()=>{try{const Ce={empCode:r,timeInAndOutCode:Js,timeInAndOutPass:Ht,timeInAndOutEffectDate:Nr,timeInAndOutExpiryDate:hr};Zt&&zt!==null?await Nf(zt,Ce):await nu(Ce)}catch(Ce){console.error("Error submitting device code:",Ce)}},Yx=async Ce=>{if(Ce){tr(!0);try{const Ze=await ae.get("/Maintenance/EmployeeRestDay/Fixed");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).find(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());rs&&(Vt(rs),Ca(rs.isFixed===!0?"fixed":"variable"),console.log(rs),Qs(rs.fixedRestDay1?.trim()??""),Oe(rs.fixedRestDay2?.trim()??""),Mt(rs.fixedRestDay3?.trim()??""))}}catch(Ze){console.error("Error fetching rest day fixed:",Ze),Vt(null)}finally{tr(!1)}}},Fc=async Ce=>{if(Ce){tr(!0);try{const Ze=await ae.get("/Maintenance/EmployeeRestDay/Variable");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());Ys(rs)}}catch(Ze){console.error("Error fetching rest day variable:",Ze),Ys([])}finally{tr(!1)}}},Ud=async Ce=>{await Promise.all([Yx(Ce),Fc(Ce)])},Lr=async()=>{const Ce={id:ct?.id||0,empCode:r,fixedRestDay1:mr,fixedRestDay2:jr,fixedRestDay3:At,isFixed:!0};tr(!0);try{let Ze;Ce.id===0||!Ce.id?Ze=await ae.post("/Maintenance/EmployeeRestDay/Fixed",Ce):Ze=await ae.put(`/Maintenance/EmployeeRestDay/Fixed/${Ce.id}`,Ce),(Ze.status===200||Ze.status===201||Ze.status===204)&&(await Q.fire({icon:"success",title:"Success",text:"Fixed rest day saved successfully.",timer:2e3,showConfirmButton:!1}),await Yx(r),P(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to save fixed rest day";await Q.fire({icon:"error",title:"Error",text:St})}finally{tr(!1)}},ou=async Ce=>{tr(!0);try{const Ze=await ae.post("/Maintenance/EmployeeRestDay/Variable",Ce);(Ze.status===200||Ze.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Variable rest day created successfully.",timer:2e3,showConfirmButton:!1}),await Fc(r),qs(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create variable rest day";await Q.fire({icon:"error",title:"Error",text:St})}finally{tr(!1)}},Wd=async(Ce,Ze)=>{tr(!0);try{const St=await ae.put(`/Maintenance/EmployeeRestDay/Variable/${Ce}`,Ze);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Variable rest day updated successfully.",timer:2e3,showConfirmButton:!1}),await Fc(r),qs(!1))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update variable rest day";await Q.fire({icon:"error",title:"Error",text:rs})}finally{tr(!1)}},Pc=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){tr(!0);try{const St=await ae.delete(`/Maintenance/EmployeeRestDay/Variable/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Variable rest day has been deleted.",timer:2e3,showConfirmButton:!1}),await Fc(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete variable rest day";await Q.fire({icon:"error",title:"Error",text:rs})}finally{tr(!1)}}},Kx=async()=>{try{const Ce={empCode:r,datefrom:vr,dateTo:os,restDay1:mr,restDay2:jr,restDay3:At};lr&&ir!==null?await Wd(ir,Ce):await ou(Ce)}catch(Ce){console.error("Error submitting rest day:",Ce)}},lu=async()=>{Wo(!0);try{const Ce=await ae.get("/Fs/Process/Dailyschedule");Ce.status===200&&Ce.data&&Ho(Ce.data)}catch(Ce){console.error("Error fetching daily schedules:",Ce)}finally{Wo(!1)}},Li=async Ce=>{if(Ce){Bs(!0);try{const Ze=await ae.get("/Maintenance/EmployeeWorkshiftFixed");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).find(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());rs&&(un(rs),Ja(rs.isFixed===!0?"fixed":"variable"),xn(rs.dailySched||""))}}catch(Ze){console.error("Error fetching workshift fixed:",Ze),un(null)}finally{Bs(!1)}}},ai=async Ce=>{if(Ce){Bs(!0);try{const Ze=await ae.get("/Maintenance/EmployeeWorkshiftVariable");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());Qa(rs)}}catch(Ze){console.error("Error fetching workshift variable:",Ze),Qa([])}finally{Bs(!1)}}},Xo=async Ce=>{await Promise.all([Li(Ce),ai(Ce)])},qx=async()=>{const Ce={id:dn?.id||0,empCode:r,dailySched:La,isFixed:!0};Bs(!0);try{let Ze;Ce.id===0||!Ce.id?Ze=await ae.post("/Maintenance/EmployeeWorkshiftFixed",Ce):Ze=await ae.put(`/Maintenance/EmployeeWorkshiftFixed/${Ce.id}`,Ce),(Ze.status===200||Ze.status===201||Ze.status===204)&&(await Q.fire({icon:"success",title:"Success",text:"Fixed workshift saved successfully.",timer:2e3,showConfirmButton:!1}),await Li(r),P(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to save fixed workshift";await Q.fire({icon:"error",title:"Error",text:St})}finally{Bs(!1)}},Cf=async Ce=>{Bs(!0);try{const Ze=await ae.post("/Maintenance/EmployeeWorkshiftVariable",Ce);(Ze.status===200||Ze.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Variable workshift created successfully.",timer:2e3,showConfirmButton:!1}),await ai(r),An(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create variable workshift";await Q.fire({icon:"error",title:"Error",text:St})}finally{Bs(!1)}},Sf=async(Ce,Ze)=>{Bs(!0);try{const St=await ae.put(`/Maintenance/EmployeeWorkshiftVariable/${Ce}`,Ze);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Variable workshift updated successfully.",timer:2e3,showConfirmButton:!1}),await ai(r),An(!1))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update variable workshift";await Q.fire({icon:"error",title:"Error",text:rs})}finally{Bs(!1)}},Xx=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Bs(!0);try{const St=await ae.delete(`/Maintenance/EmployeeWorkshiftVariable/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Variable workshift has been deleted.",timer:2e3,showConfirmButton:!1}),await ai(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete variable workshift";await Q.fire({icon:"error",title:"Error",text:rs})}finally{Bs(!1)}}},Gd=async()=>{try{const Ce={empCode:r,dateFrom:rt,dateTo:Os,shiftCode:Rr,dailyScheduleCode:oa,glCode:dt,updateDate:new Date().toISOString()};Un&&Qr!==null?await Sf(Qr,Ce):await Cf(Ce)}catch(Ce){console.error("Error submitting workshift:",Ce)}},Mc=async Ce=>{if(Ce){_a(!0);try{const Ze=await ae.get("/Maintenance/EmployeeClassification/Fixed");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).find(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());rs&&(Ei(rs),Ql(rs.isFixed===!0?"fixed":"variable"),Td(rs.classCode||""))}}catch(Ze){console.error("Error fetching classification fixed:",Ze),Ei(null)}finally{_a(!1)}}},_i=async Ce=>{if(Ce){_a(!0);try{const Ze=await ae.get("/Maintenance/EmployeeClassification/Variable");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());Ti(rs)}}catch(Ze){console.error("Error fetching classification variable:",Ze),Ti([])}finally{_a(!1)}}},Oi=async Ce=>{await Promise.all([Mc(Ce),_i(Ce)])},iu=async()=>{const Ce={id:bl?.id||0,empCode:r,classCode:Ed,isFixed:!0};_a(!0);try{let Ze;Ce.id===0||!Ce.id?Ze=await ae.post("/Maintenance/EmployeeClassification/Fixed",Ce):Ze=await ae.put(`/Maintenance/EmployeeClassification/Fixed/${Ce.id}`,Ce),(Ze.status===200||Ze.status===201||Ze.status===204)&&(await Q.fire({icon:"success",title:"Success",text:"Fixed classification saved successfully.",timer:2e3,showConfirmButton:!1}),await Mc(r),P(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to save fixed classification";await Q.fire({icon:"error",title:"Error",text:St})}finally{_a(!1)}},cu=async Ce=>{_a(!0);try{const Ze=await ae.post("/Maintenance/EmployeeClassification/Variable",Ce);(Ze.status===200||Ze.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Variable classification created successfully.",timer:2e3,showConfirmButton:!1}),await _i(r),Co(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create variable classification";await Q.fire({icon:"error",title:"Error",text:St})}finally{_a(!1)}},kf=async(Ce,Ze)=>{_a(!0);try{const St=await ae.put(`/Maintenance/EmployeeClassification/Variable/${Ce}`,Ze);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Variable classification updated successfully.",timer:2e3,showConfirmButton:!1}),await _i(r),Co(!1))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update variable classification";await Q.fire({icon:"error",title:"Error",text:rs})}finally{_a(!1)}},Jx=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){_a(!0);try{const St=await ae.delete(`/Maintenance/EmployeeClassification/Variable/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Variable classification has been deleted.",timer:2e3,showConfirmButton:!1}),await _i(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete variable classification";await Q.fire({icon:"error",title:"Error",text:rs})}finally{_a(!1)}}},Df=async()=>{try{const Ce={empCode:r,dateFrom:Vo,dateTo:Yo,classCode:Ad};$o&&zo!==null?await kf(zo,Ce):await cu(Ce)}catch(Ce){console.error("Error submitting classification:",Ce)}},Ic=async Ce=>{if(Ce){Wn(!0);try{const Ze=await ae.get("/Maintenance/EmployeeOvertimeApplication");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());Cc(rs)}}catch(Ze){console.error("Error fetching overtime applications:",Ze),Cc([])}finally{Wn(!1)}}},du=async Ce=>{Wn(!0);try{const Ze=await ae.post("/Maintenance/EmployeeOvertimeApplication",Ce);(Ze.status===200||Ze.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Overtime application created successfully.",timer:2e3,showConfirmButton:!1}),await Ic(r))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create overtime application";throw await Q.fire({icon:"error",title:"Error",text:St}),Ze}finally{Wn(!1)}},kl=async(Ce,Ze)=>{Wn(!0);try{const St=await ae.put(`/Maintenance/EmployeeOvertimeApplication/${Ce}`,Ze);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Overtime application updated successfully.",timer:2e3,showConfirmButton:!1}),await Ic(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update overtime application";throw await Q.fire({icon:"error",title:"Error",text:rs}),St}finally{Wn(!1)}},Qx=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Wn(!0);try{const St=await ae.delete(`/Maintenance/EmployeeOvertimeApplication/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Overtime application has been deleted.",timer:2e3,showConfirmButton:!1}),await Ic(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete overtime application";await Q.fire({icon:"error",title:"Error",text:rs})}finally{Wn(!1)}}},Bi=async()=>{try{const Ce={empCode:r,date:Dc,numOTHoursApproved:parseFloat(_d)||0,earlyOTStartTime:Dt,earlyTimeIn:ma,startOTPM:io,minHRSOTBreak:parseFloat(Ux)||0,earlyOTStartTimeRestHol:Wx,reason:Bd,remarks:Gx,approvedOTBreaksHrs:parseFloat(su)||0,stotats:ru,isLateFiling:Ec,isLateFilingProcessed:!1,appliedBeforeShiftDate:au,isOTBeforeShiftNextDay:Hd};me&&pt!==null?await kl(pt,Ce):await du(Ce),Re(!1)}catch(Ce){console.error("Error submitting overtime application:",Ce)}},mn=async Ce=>{if(Ce){lo(!0);try{const Ze=await ae.get("/Maintenance/EmployeeContractual");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());Pd(rs)}}catch(Ze){console.error("Error fetching contractual records:",Ze),Pd([])}finally{lo(!1)}}},Lc=async Ce=>{lo(!0);try{const Ze={id:0,empCode:Ce.empCode,dateFr:Ce.dateFr?new Date(Ce.dateFr).toISOString():null,dateTo:Ce.dateTo?new Date(Ce.dateTo).toISOString():null},St=await ae.post("/Maintenance/EmployeeContractual",Ze);(St.status===200||St.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Contractual record created successfully.",timer:2e3,showConfirmButton:!1}),await mn(r))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create contractual record";throw await Q.fire({icon:"error",title:"Error",text:St}),Ze}finally{lo(!1)}},Jo=async(Ce,Ze)=>{lo(!0);try{const St=await ae.put(`/Maintenance/EmployeeContractual/${Ce}`,Ze);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Contractual record updated successfully.",timer:2e3,showConfirmButton:!1}),await mn(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update contractual record";throw await Q.fire({icon:"error",title:"Error",text:rs}),St}finally{lo(!1)}},uu=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){lo(!0);try{const St=await ae.delete(`/Maintenance/EmployeeContractual/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Contractual record has been deleted.",timer:2e3,showConfirmButton:!1}),await mn(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete contractual record";await Q.fire({icon:"error",title:"Error",text:rs})}finally{lo(!1)}}},Ef=async()=>{try{const Ce={empCode:r,dateFr:se,dateTo:Z};ut&&it!==null?await Jo(it,Ce):await Lc(Ce),at(!1)}catch(Ce){console.error("Error submitting contractual:",Ce)}},_c=async Ce=>{if(Ce){Za(!0);try{const Ze=await ae.get("/Maintenance/EmployeeSuspension");if(Ze.status===200&&Ze.data){const rs=(Array.isArray(Ze.data)?Ze.data:Ze.data.items||[]).filter(Fs=>(Fs.empCode?.trim()||"").toLowerCase()===Ce.trim().toLowerCase());kc(rs)}}catch(Ze){console.error("Error fetching suspension records:",Ze),kc([])}finally{Za(!1)}}},ni=async Ce=>{Za(!0);try{const Ze={id:0,empCode:Ce.empCode,dateFrom:Ce.dateFrom?new Date(Ce.dateFrom).toISOString():null,dateTo:Ce.dateTo?new Date(Ce.dateTo).toISOString():null},St=await ae.post("/Maintenance/EmployeeSuspension",Ze);(St.status===200||St.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Suspension record created successfully.",timer:2e3,showConfirmButton:!1}),await _c(r))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create suspension record";throw await Q.fire({icon:"error",title:"Error",text:St}),Ze}finally{Za(!1)}},Oc=async(Ce,Ze)=>{Za(!0);try{const St=await ae.put(`/Maintenance/EmployeeSuspension/${Ce}`,Ze);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Suspension record updated successfully.",timer:2e3,showConfirmButton:!1}),await _c(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update suspension record";throw await Q.fire({icon:"error",title:"Error",text:rs}),St}finally{Za(!1)}},Ri=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Za(!0);try{const St=await ae.delete(`/Maintenance/EmployeeSuspension/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Suspension record has been deleted.",timer:2e3,showConfirmButton:!1}),await _c(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete suspension record";await Q.fire({icon:"error",title:"Error",text:rs})}finally{Za(!1)}}},$d=async()=>{try{const Ce={empCode:r,dateFrom:X,dateTo:ee};ie&&Ie!==null?await Oc(Ie,Ce):await ni(Ce),_(!1)}catch(Ce){console.error("Error submitting suspension:",Ce)}},xu=async Ce=>{V(!0);try{const Ze=await ae.post("/Maintenance/EmployeeBasicConfiguration",Ce);(Ze.status===200||Ze.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Basic configuration created successfully.",timer:2e3,showConfirmButton:!1}),await Ii(r),P(!1),T(!1))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create basic configuration";throw await Q.fire({icon:"error",title:"Oops...",text:St}),Ze}finally{V(!1)}},Hi=async(Ce,Ze)=>{V(!0);try{const St={...Ze,id:Ce},rs=await ae.put(`/Maintenance/EmployeeBasicConfiguration/${Ce}`,Ze);(rs.status===200||rs.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Basic configuration updated successfully.",timer:2e3,showConfirmButton:!1}),await Ii(r),P(!1))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to update basic configuration";throw await Q.fire({icon:"error",title:"Update Failed",text:rs}),St}finally{V(!1)}},Dl=async()=>{if(U){he(!0);try{let Ce;U.id===0?Ce=await ae.post("/Maintenance/EmployeeExemptions",U):Ce=await ae.put(`/Maintenance/EmployeeExemptions/${U.id}`,{id:U.id,empCode:U.empCode,tardiness:U.tardiness,undertime:U.undertime,nightDiffBasic:U.nightDiffBasic,overtime:U.overtime,absences:U.absences,otherEarnAndAllow:U.otherEarnAndAllow,holidayPay:U.holidayPay,unprodWorkHoliday:U.unprodWorkHoliday}),(Ce.status===200||Ce.status===201||Ce.status===204)&&(await Q.fire({icon:"success",title:"Success",text:"Exemptions saved successfully.",timer:2e3,showConfirmButton:!1}),await Tc(r),P(!1))}catch(Ce){const Ze=Ce.response?.data?.message||Ce.message||"Failed to save exemptions";await Q.fire({icon:"error",title:"Error",text:Ze})}finally{he(!1)}}},_r=async Ce=>{$t(!0);try{const Ze=await ae.post("/Maintenance/EmployeeLeaveApplication",Ce);(Ze.status===200||Ze.status===201)&&(await Q.fire({icon:"success",title:"Success",text:"Leave application created successfully.",timer:2e3,showConfirmButton:!1}),await Gn(r))}catch(Ze){const St=Ze.response?.data?.message||Ze.message||"Failed to create leave application";throw await Q.fire({icon:"error",title:"Error",text:St}),Ze}finally{$t(!1)}},Fr=async(Ce,Ze)=>{$t(!0);try{const St={...Ze,id:Ce,balanceID:Ze.balanceID===""?null:Ze.balanceID,date:Ze.date?new Date(Ze.date).toISOString():null};console.log("Sending Cleaned Payload:",St);const rs=await ae.put(`/Maintenance/EmployeeLeaveApplication/${Ce}`,St);(rs.status===200||rs.status===204)&&(await Q.fire({icon:"success",title:"Updated!",text:"Leave application updated successfully.",timer:2e3,showConfirmButton:!1}),await Gn(r))}catch(St){console.error("Backend Error Details:",St.response?.data?.errors);const rs=St.response?.data?.message||St.message||"Failed to update leave application";throw await Q.fire({icon:"error",title:"Error",text:rs}),St}finally{$t(!1)}},El=async Ce=>{if((await Q.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){$t(!0);try{const St=await ae.delete(`/Maintenance/EmployeeLeaveApplication/${Ce}`);(St.status===200||St.status===204)&&(await Q.fire({icon:"success",title:"Deleted!",text:"Leave application has been deleted.",timer:2e3,showConfirmButton:!1}),await Gn(r))}catch(St){const rs=St.response?.data?.message||St.message||"Failed to delete leave application";await Q.fire({icon:"error",title:"Error",text:rs})}finally{$t(!1)}}},la=ti.filter(Ce=>(Ce.locCode?.toLowerCase()||"").includes(ei.toLowerCase())||(Ce.locName?.toLowerCase()||"").includes(ei.toLowerCase())),Gr=Math.ceil(la.length/si),Qo=(Oa-1)*si,oi=Qo+si,en=la.slice(Qo,oi),zd=()=>{const Ce=[];if(Gr<=5)for(let St=1;St<=Gr;St++)Ce.push(St);else if(Oa<=3){for(let St=1;St<=4;St++)Ce.push(St);Ce.push("..."),Ce.push(Gr)}else if(Oa>=Gr-2){Ce.push(1),Ce.push("...");for(let St=Gr-3;St<=Gr;St++)Ce.push(St)}else Ce.push(1),Ce.push("..."),Ce.push(Oa-1),Ce.push(Oa),Ce.push(Oa+1),Ce.push("..."),Ce.push(Gr);return Ce},Zx=(Ce,Ze)=>{l(Ce),d(Ze),Ko(!1),jl(""),qo(1)},eh=Ce=>{qo(Ce)},Vd=()=>{Oa>1&&qo(Oa-1)},th=()=>{Oa<Gr&&qo(Oa+1)},Zo=o.useMemo(()=>A.map(Ce=>({...Ce,name:`${Ce.lName}, ${Ce.fName}`,groupCode:Ce.grpCode})),[A]),Yd=async(Ce,Ze)=>{try{const St=A.find(rs=>rs.empCode===Ce);if(!St){console.error("Employee not found:",Ce),await Q.fire({icon:"error",title:"Error",text:"Employee not found"});return}a(Ce),l(St.grpCode),y(!1),await Promise.all([Ii(Ce),Tc(Ce),Gn(Ce),ri(Ce),Ud(Ce),Xo(Ce),Oi(Ce),Ic(Ce),mn(Ce),_c(Ce),Xo(Ce),Oi(Ce)])}catch(St){console.error("Error loading employee:",St),await Q.fire({icon:"error",title:"Error",text:"Failed to load employee details"})}},hu=async()=>{try{if(!r){await Q.fire({icon:"warning",title:"Warning",text:"Please select an employee first"});return}if(t==="basic-config"){const Ce={empCode:r,groupCode:n,groupScheduleCode:oe?.groupScheduleCode||"",allowOTDefault:oe?.allowOTDefault||!1,active:oe?.active??!0,compAllowFrRDExmpOT:oe?.compAllowFrRDExmpOT||!1,compAllowFrHolExmpOT:oe?.compAllowFrHolExmpOT||!1,timeAttendanceStatus:oe?.timeAttendanceStatus||!1};D||!oe?await xu(Ce):await Hi(oe.id,Ce)}else t==="exemptions"?await Dl():t==="rest-day"&&sr==="fixed"?await Lr():t==="workshift"&&Cr==="fixed"?await qx():t==="classification"&&hn==="fixed"&&await iu()}catch(Ce){console.error("Error saving:",Ce)}},sh=()=>{P(!1),r&&(t==="basic-config"?Ii(r):t==="exemptions"?Tc(r):t==="rest-day"?Ud(r):t==="workshift"?Xo(r):t==="classification"&&Oi(r))},Tf=()=>{P(!0)},pn=(Ce,Ze)=>{fe(St=>St?{...St,[Ce]:Ze}:{id:0,empCode:r,groupCode:n,groupScheduleCode:"",allowOTDefault:!1,active:!0,compAllowFrRDExmpOT:!1,compAllowFrHolExmpOT:!1,timeAttendanceStatus:!1,[Ce]:Ze})},Fn=(Ce,Ze)=>{k(St=>St?{...St,[Ce]:Ze}:null)},Ui=async()=>{try{const Ce={empCode:r,date:De,hoursApprovedNum:parseFloat(Ae)||0,leaveCode:He,period:qe,reason:Me,remarks:Le,withPay:Je,sssNotif:et,isProcSSSNotif:!1,balanceID:"",isLateFiling:mt,isLateFilingProcessed:!1,exemptAllowFlag:!1};je&&xe!==0?await Fr(xe,Ce):await _r(Ce),be(!1)}catch(Ce){console.error("Error submitting leave application:",Ce)}},Kd=async Ce=>{await El(Ce)},qd=async Ce=>{await Qx(Ce)},$n=async Ce=>{await uu(Ce)},zn=async Ce=>{await Ri(Ce)};o.useEffect(()=>{$x(),Vx(),zx(),lu()},[]),o.useEffect(()=>{if(r)switch(t){case"basic-config":Ii(r);break;case"exemptions":Tc(r);break;case"device-code":ri(r);break;case"rest-day":Ud(r);break;case"workshift":Xo(r);break;case"classification":Oi(r);break;case"leave-applications":Gn(r);break;case"overtime-applications":Ic(r);break;case"contractual":mn(r);break;case"suspension":_c(r);break}},[r,t]),o.useEffect(()=>{qo(1)},[ei]),o.useEffect(()=>{const Ce=Ze=>{Ze.key==="Escape"&&(g?y(!1):Fi?Ko(!1):C?j(!1):us?tt(!1):Ks?qs(!1):we?Re(!1):pe?at(!1):Y?_(!1):ao?An(!1):jo?Co(!1):Jl&&yl(!1))};return(g||Fi||C||us||Ks||we||pe||Y)&&document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}},[g,Fi,C,us,Ks,we,pe,Y]);const li=[{id:"basic-config",label:"Basic Configuration",icon:wx},{id:"exemptions",label:"Exemptions",icon:xF},{id:"device-code",label:"Device Code",icon:$F},{id:"rest-day",label:"Rest Day",icon:cs},{id:"workshift",label:"Workshift",icon:fr},{id:"classification",label:"Classification",icon:bC},{id:"leave-applications",label:"Leave Applications",icon:vi},{id:"overtime-applications",label:"Overtime Applications",icon:Sb},{id:"contractual",label:"Contractual",icon:cF},{id:"suspension",label:"Suspension",icon:mC}],el=()=>{switch(t){case"basic-config":return"Employee Basic Configuration";case"exemptions":return"Employee Exemptions";case"device-code":return"Employee Device Code";case"rest-day":return"Employee Rest Day";case"workshift":return"Employee Workshift";case"classification":return"Employee Classification";case"leave-applications":return"Employee Leave Applications";case"overtime-applications":return"Employee Overtime Applications";case"contractual":return"Employee Contractual";case"suspension":return"Employee Suspension";default:return"Employee Timekeep Configuration"}},tl=()=>{switch(t){case"basic-config":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:R?e.jsx("div",{className:"text-center py-8",children:"Loading configuration..."}):W?e.jsx("div",{className:"text-center py-8 text-red-600",children:W}):e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"GroupScheduleCode"}),e.jsx("input",{type:"text",value:oe?.groupScheduleCode||"",onChange:Ce=>pn("groupScheduleCode",Ce.target.value),disabled:!0,className:"w-64 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 cursor-pointer",onClick:()=>S&&j(!0)}),S&&e.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Browse"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"AllowOTDefault"}),e.jsx("input",{type:"checkbox",checked:oe?.allowOTDefault||!1,onChange:Ce=>pn("allowOTDefault",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Active"}),e.jsx("input",{type:"checkbox",checked:oe?.active??!0,onChange:Ce=>pn("active",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Worked Rest Day Allowance Not based on Computed OT"}),e.jsx("input",{type:"checkbox",checked:oe?.compAllowFrRDExmpOT||!1,onChange:Ce=>pn("compAllowFrRDExmpOT",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Worked Holiday Allowance Not based on Computed OT"}),e.jsx("input",{type:"checkbox",checked:oe?.compAllowFrHolExmpOT||!1,onChange:Ce=>pn("compAllowFrHolExmpOT",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"TimeAttendanceStatus"}),e.jsx("input",{type:"checkbox",checked:oe?.timeAttendanceStatus||!1,onChange:Ce=>pn("timeAttendanceStatus",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),D&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-yellow-800 text-sm",children:"No configuration found for this employee. Click Save to create a new configuration."})})]})});case"exemptions":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:O?e.jsx("div",{className:"text-center py-8",children:"Loading exemptions..."}):e.jsxs("div",{className:"grid grid-cols-2 gap-x-24 gap-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.tardiness||!1,onChange:Ce=>Fn("tardiness",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Tardiness"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.absences||!1,onChange:Ce=>Fn("absences",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Absences"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.undertime||!1,onChange:Ce=>Fn("undertime",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Undertime"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.otherEarnAndAllow||!1,onChange:Ce=>Fn("otherEarnAndAllow",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Other Earn And Allowance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.nightDiffBasic||!1,onChange:Ce=>Fn("nightDiffBasic",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Night Diff Basic"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.holidayPay||!1,onChange:Ce=>Fn("holidayPay",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"HolidayPay"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.overtime||!1,onChange:Ce=>Fn("overtime",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Overtime"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U?.unprodWorkHoliday||!1,onChange:Ce=>Fn("unprodWorkHoliday",Ce.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Unproductive Work Holiday"})]})]})});case"leave-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{ge(!1),Se(0),Fe(""),ze(""),Ve(""),ve(""),Te(""),ot(""),Ge(!1),yt(!1),jt(!1),be(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:ft?e.jsx("div",{className:"text-center py-8",children:"Loading leave applications..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Leave Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"With Pay"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"SSS Notification"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:re.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-8 text-center text-gray-500",children:"No leave applications found"})}):re.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:new Date(Ce.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.hoursApprovedNum}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.leaveCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.period}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.withPay?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.sssNotif?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{const Ze=Ce.date?new Date(Ce.date):null,St=Ze&&!isNaN(Ze.getTime());ge(!0),Se(Ce.id),Fe(St?Ze.toISOString().split("T")[0]:""),ze(Ce.hoursApprovedNum?.toString()??"0"),Ve(Ce.leaveCode?.trim()??""),ve(Ce.period??""),Te(Ce.reason??""),ot(Ce.remarks??""),Ge(Ce.withPay??!1),yt(Ce.sssNotif??!1),jt(Ce.isLateFiling??!1),be(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Kd(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})})]})});case"device-code":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:Xe?e.jsx("div",{className:"text-center py-8",children:"Loading device codes..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{kt(!1),ds(null),Tt(""),ms(""),xr(""),Br(""),tt(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:z.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No device codes found"})}):z.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.timeInAndOutEffectDate?new Date(Ce.timeInAndOutEffectDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.timeInAndOutExpiryDate?new Date(Ce.timeInAndOutExpiryDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.timeInAndOutCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{kt(!0),ds(Ce.id),Tt(Ce.timeInAndOutCode||""),ms(Ce.timeInAndOutPass||""),xr(Ce.timeInAndOutEffectDate?new Date(Ce.timeInAndOutEffectDate).toISOString().split("T")[0]:""),Br(Ce.timeInAndOutExpiryDate?new Date(Ce.timeInAndOutExpiryDate).toISOString().split("T")[0]:""),tt(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>jf(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})]})});case"rest-day":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:ha?e.jsx("div",{className:"text-center py-8",children:"Loading rest days..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"rest-day-fixed",checked:sr==="fixed",onChange:()=>Ca("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"rest-day-fixed",className:"text-gray-700",children:"Fixed"})]}),sr==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 1"}),e.jsxs("select",{value:mr,onChange:Ce=>Qs(Ce.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 2"}),e.jsxs("select",{value:jr,onChange:Ce=>Oe(Ce.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 3"}),e.jsxs("select",{value:At,onChange:Ce=>Mt(Ce.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"rest-day-variable",checked:sr==="variable",onChange:()=>Ca("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"rest-day-variable",className:"text-gray-700",children:"Variable"})]}),sr==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Xr(!1),cr(null),lt(""),Ds(""),Qs(""),Oe(""),Mt(""),qs(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 1"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 2"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 3"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ws.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No variable rest day records found"})}):ws.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.datefrom?new Date(Ce.datefrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateTo?new Date(Ce.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.restDay1}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.restDay2}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.restDay3}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Xr(!0),cr(Ce.id),lt(Ce.datefrom?new Date(Ce.datefrom).toISOString().split("T")[0]:""),Ds(Ce.dateTo?new Date(Ce.dateTo).toISOString().split("T")[0]:""),Qs(Ce.restDay1||""),Oe(Ce.restDay2||""),Mt(Ce.restDay3||""),qs(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Pc(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})]})]})]})});case"workshift":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:pr?e.jsx("div",{className:"text-center py-8",children:"Loading workshifts..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-fixed",checked:Cr==="fixed",onChange:()=>Ja("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"workshift-fixed",className:"text-gray-700",children:"Fixed"})]}),Cr==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-32",children:"Daily Schedule"}),e.jsx("input",{type:"text",value:La,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 cursor-pointer",onClick:()=>S&&yl(!0)}),S&&e.jsxs("button",{onClick:()=>yl(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-variable",checked:Cr==="variable",onChange:()=>Ja("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"workshift-variable",className:"text-gray-700",children:"Variable"})]}),Cr==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Jr(!1),no(null),fs(""),Xt(""),Zr(""),wr(""),Ws(""),An(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Shift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Daily Schedule Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"GL Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Ia.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No variable workshift records found"})}):Ia.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateFrom?new Date(Ce.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateTo?new Date(Ce.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.shiftCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dailyScheduleCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.glCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Jr(!0),no(Ce.id),fs(Ce.dateFrom?new Date(Ce.dateFrom).toISOString().split("T")[0]:""),Xt(Ce.dateTo?new Date(Ce.dateTo).toISOString().split("T")[0]:""),Zr(Ce.shiftCode||""),wr(Ce.dailyScheduleCode||""),Ws(Ce.glCode||""),An(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Xx(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})]})]})]})});case"classification":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:Nc?e.jsx("div",{className:"text-center py-8",children:"Loading classifications..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"classification-fixed",checked:hn==="fixed",onChange:()=>Ql("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"classification-fixed",className:"text-gray-700",children:"Fixed"})]}),hn==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Classification Code"}),e.jsx("input",{type:"text",value:Ed,onChange:Ce=>Td(Ce.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"classification-variable",checked:hn==="variable",onChange:()=>Ql("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"classification-variable",className:"text-gray-700",children:"Variable"})]}),hn==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ai(!1),vl(null),Zl(""),wl(""),jc(""),Co(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Classification Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Go.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No variable classification records found"})}):Go.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateFrom?new Date(Ce.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateTo?new Date(Ce.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.classCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ai(!0),vl(Ce.id),Zl(Ce.dateFrom?new Date(Ce.dateFrom).toISOString().split("T")[0]:""),wl(Ce.dateTo?new Date(Ce.dateTo).toISOString().split("T")[0]:""),jc(Ce.classCode||""),Co(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Jx(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})]})]})]})});case"overtime-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ye(!1),Ft(null),Mi(""),Lt(""),gt(""),xt(""),Nt(""),Ke(""),Ee(""),tu(""),Cl(""),Sl(!1),Re(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:J0?e.jsx("div",{className:"text-center py-8",children:"Loading overtime applications..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Start Time OT Before"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Approved OT Break"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Fd.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"No overtime applications found"})}):Fd.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.date}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.hoursApproved}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.startTimeOTBefore}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.approvedOTBreak}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ye(!0),Ft(Ce.id),Mi(Ce.date),Lt(Ce.hoursApproved),gt(Ce.actualDateInOTBefore),xt(Ce.startTimeOTBefore),Nt(Ce.startOvertimeDate),Ke(Ce.startOvertimeTime),Ee(Ce.approvedOTBreak),tu(Ce.reason),Cl(Ce.remarks),Sl(Ce.isLateFiling),Re(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>qd(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})})]})});case"contractual":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{_t(!1),bt(null),ue(""),G(""),at(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:Md?e.jsx("div",{className:"text-center py-8",children:"Loading contractual records..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Nl.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No contractual records found"})}):Nl.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateFrom}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateTo}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{_t(!0),bt(Ce.id),ue(Ce.dateFrom),G(Ce.dateTo),at(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>$n(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})})]})});case"suspension":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{_e(!1),ke(null),Ne(""),de(""),_(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:Id?e.jsx("div",{className:"text-center py-8",children:"Loading suspension records..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Sc.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No suspension records found"})}):Sc.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateFrom}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.dateTo}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{_e(!0),ke(Ce.id),Ne(Ce.dateFrom),de(Ce.dateTo),_(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>zn(Ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},Ce.id))})]})})})]})});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:el()})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure comprehensive employee timekeeping settings including basic information, exemptions, device codes, rest days, work shifts, classifications, and leave/overtime applications for accurate time tracking."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employee timekeeping configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work shift and rest day setup"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Leave and overtime tracking"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[!["leave-applications","overtime-applications","contractual","suspension"].includes(t)&&e.jsx(e.Fragment,{children:S?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:hu,disabled:R||O,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(Ar,{className:"w-4 h-4"}),R||O?"Saving...":"Save"]}),e.jsxs("button",{onClick:sh,disabled:R||O,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(nt,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:Tf,disabled:!r||!oe&&!D&&t==="basic-config"||t==="exemptions"&&!U,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(dl,{className:"w-4 h-4"}),"Edit"]})}),["leave-applications","overtime-applications","contractual","suspension"].includes(t)&&e.jsx("div",{className:"px-4 py-2",children:""})]}),e.jsx("div",{className:"mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"TKS Group"}),e.jsx("div",{onClick:()=>Ko(!0),className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded-lg bg-white cursor-pointer hover:bg-gray-50 transition-colors",children:n?e.jsx("span",{className:"text-sm font-medium text-gray-900 truncate block",children:n}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Select..."})}),e.jsxs("button",{onClick:()=>Ko(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 flex-shrink-0",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Browse"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"Location Name"}),e.jsx("input",{type:"text",value:i,disabled:!0,placeholder:"Auto-filled from selection",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"EmpCode"}),e.jsx("input",{type:"text",value:r,onChange:Ce=>a(Ce.target.value),disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"}),e.jsxs("button",{onClick:()=>y(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 flex-shrink-0",children:[e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-blue-700 mb-1",children:Q0}),e.jsx("div",{className:"text-blue-600",children:Z0})]})]}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:li.map(Ce=>e.jsxs("button",{onClick:()=>s(Ce.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ce.id?"text-white bg-blue-600 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Ce.icon,{className:"w-4 h-4"}),e.jsx("span",{children:Ce.label})]},Ce.id))}),Fi&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>Ko(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select TKS Group"}),e.jsx("button",{onClick:()=>Ko(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Payroll Location"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:ei,onChange:Ce=>jl(Ce.target.value),placeholder:"Search by code or name...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Pi?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payroll locations..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Location Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Location Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Company Code"})]})}),e.jsx("tbody",{children:en.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-gray-500",children:"No payroll locations found"})}):en.map(Ce=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Zx(Ce.locCode,Ce.locName),children:[e.jsx("td",{className:"px-3 py-1.5",children:Ce.locCode}),e.jsx("td",{className:"px-3 py-1.5",children:Ce.locName}),e.jsx("td",{className:"px-3 py-1.5",children:Ce.companyCode})]},Ce.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",la.length>0?Qo+1:0," to ",Math.min(oi,la.length)," of ",la.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:Vd,disabled:Oa===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),zd().map((Ce,Ze)=>typeof Ce=="number"?e.jsx("button",{onClick:()=>eh(Ce),className:`px-2 py-1 rounded text-xs ${Oa===Ce?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ce},Ze):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:Ce},Ze)),e.jsx("button",{onClick:th,disabled:Oa===Gr||Gr===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}),tl()]})]})}),e.jsx(na,{isOpen:g,onClose:()=>y(!1),onSelect:Yd,employees:Zo,loading:L,error:B}),e.jsx(DQ,{isOpen:C,onClose:()=>j(!1),onSelect:Ce=>pn("groupScheduleCode",Ce),groupSchedules:J,loading:F}),e.jsx(CQ,{isOpen:ye,isEditMode:je,empCode:r,date:De,hoursApproved:Ae,leaveCode:He,period:qe,reason:Me,remarks:Le,withPay:Je,sssNotification:et,isLateFiling:mt,onClose:()=>be(!1),onDateChange:Fe,onHoursApprovedChange:ze,onLeaveCodeChange:Ve,onPeriodChange:ve,onReasonChange:Te,onRemarksChange:ot,onWithPayChange:Ge,onSssNotificationChange:yt,onIsLateFilingChange:jt,onSubmit:Ui}),e.jsx(aD,{isOpen:we,isEditMode:me,empCode:r,date:Dc,hoursApproved:Bt,actualDateInOTBefore:Qe,startTimeBefore:vt,startOvertimeDate:Ct,startOvertimeTime:$e,approvedBreak:ce,reason:Bd,remarks:Gx,isLateFiling:Ec,onClose:()=>Re(!1),onDateChange:Mi,onHoursApprovedChange:Lt,onActualDateInOTBeforeChange:gt,onStartTimeBeforeChange:xt,onStartOvertimeDateChange:Nt,onStartOvertimeTimeChange:Ke,onApprovedBreakChange:Ee,onReasonChange:tu,onRemarksChange:Cl,onIsLateFilingChange:Sl,onSubmit:Bi}),e.jsx(SQ,{isOpen:pe,isEditMode:ut,dateFrom:se,dateTo:Z,onClose:()=>at(!1),onDateFromChange:ue,onDateToChange:G,onSubmit:Ef}),e.jsx(kQ,{isOpen:Y,isEditMode:ie,dateFrom:X,dateTo:ee,onClose:()=>_(!1),onDateFromChange:Ne,onDateToChange:de,onSubmit:$d}),e.jsx(EQ,{isOpen:us,isEditMode:Zt,empCode:r,code:Js,password:Ht,effectivityDate:Nr,expiryDate:hr,onClose:()=>tt(!1),onCodeChange:Tt,onPasswordChange:ms,onEffectivityDateChange:xr,onExpiryDateChange:Br,onSubmit:Ac}),e.jsx(TQ,{isOpen:Ks,isEditMode:lr,empCode:r,dateFrom:vr,dateTo:os,restDay1:mr,restDay2:jr,restDay3:At,onClose:()=>qs(!1),onDateFromChange:lt,onDateToChange:Ds,onRestDay1Change:Qs,onRestDay2Change:Oe,onRestDay3Change:Mt,onSubmit:Kx}),e.jsx(PQ,{isOpen:Jl,onClose:()=>yl(!1),onSelect:Ce=>xn(Ce),dailySchedules:oo,loading:Uo}),e.jsx(AQ,{isOpen:ao,isEditMode:Un,empCode:r,dateFrom:rt,dateTo:Os,shiftCode:Rr,dailyScheduleCode:oa,glCode:dt,onClose:()=>An(!1),onDateFromChange:fs,onDateToChange:Xt,onShiftCodeChange:Zr,onDailyScheduleCodeChange:wr,onGLCodeChange:Ws,onSubmit:Gd}),"// Update the modal import at the end (before Footer)",e.jsx(FQ,{isOpen:jo,isEditMode:$o,empCode:r,dateFrom:Vo,dateTo:Yo,classificationCode:Ad,onClose:()=>Co(!1),onDateFromChange:Zl,onDateToChange:wl,onClassificationCodeChange:jc,onSubmit:Df}),e.jsx(Qt,{})]})}const hm="/Maintenance/EmployeeRawData",IQ="/Fs/Process/Device/BorrowedDeviceName",LQ="/Maintenance/WorkShift",_Q="/Maintenance/EmployeeMasterFile",Ga=(t,s="")=>{if(!t)return new Date().toISOString();try{let r=t;if(t.includes("/")){const[a,n,l]=t.split("/");r=`${l}-${a.padStart(2,"0")}-${n.padStart(2,"0")}`}if(s){const n=s.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],d=n[3];return d==="PM"&&l!==12&&(l+=12),d==="AM"&&l===12&&(l=0),`${r}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${r}T00:00:00.000Z`}catch{return new Date().toISOString()}},Vr=t=>{if(!t)return{date:"",time:""};try{const s=new Date(t),r=String(s.getUTCMonth()+1).padStart(2,"0"),a=String(s.getUTCDate()).padStart(2,"0"),n=s.getUTCFullYear();let l=s.getUTCHours();const i=String(s.getUTCMinutes()).padStart(2,"0"),d=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${r}/${a}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${d}`}}catch{return{date:"",time:""}}},OQ=t=>{const s=t.trim().toUpperCase();if(!s)return"";const r=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(r.test(s)){const a=s.match(r);return`${a[1].padStart(2,"0")}:${a[2]} ${a[3].toUpperCase()}`}return t},$2=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function BQ(){const[t,s]=o.useState($2()),[r,a]=o.useState($2()),[n,l]=o.useState(!0),[i,d]=o.useState("all"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState([]),[p,v]=o.useState(!1),[g,y]=o.useState(""),[C,j]=o.useState("empCode"),[S,P]=o.useState("asc"),D=ct=>{C===ct?P(Vt=>Vt==="asc"?"desc":"asc"):(j(ct),P("asc"))},[T,A]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[M,L]=o.useState(!1),[q,B]=o.useState(null),[te,oe]=o.useState(!1),[fe,R]=o.useState(""),[V,W]=o.useState(""),[ne,J]=o.useState(""),[H,F]=o.useState(""),[I,U]=o.useState(""),[k,O]=o.useState(""),[he,ye]=o.useState(""),[be,je]=o.useState(""),[ge,xe]=o.useState(""),[Se,De]=o.useState(""),[Fe,Ae]=o.useState(""),[ze,He]=o.useState(""),[Ve,qe]=o.useState(""),[ve,Me]=o.useState(""),[Te,Le]=o.useState(""),[ot,Je]=o.useState(""),[Ge,et]=o.useState(!1),[yt,mt]=o.useState(!1),[jt,we]=o.useState(""),[Re,me]=o.useState(""),[Ye,pt]=o.useState(!1),[Ft,Bt]=o.useState(!1),[Lt,Qe]=o.useState(!1),[gt,vt]=o.useState([]),[xt,Ct]=o.useState(!1),[Nt,$e]=o.useState(""),[Ke,ce]=o.useState(""),[Ee,pe]=o.useState(""),[at,ut]=o.useState(!1),[_t,it]=o.useState(!1),[bt,se]=o.useState(""),[ue,Z]=o.useState([]),[G,Y]=o.useState(!1),[_,ie]=o.useState(""),[_e,Ie]=o.useState(!1),[ke,X]=o.useState(""),[Ne,ee]=o.useState([]),[de,re]=o.useState(!1),[We,ft]=o.useState(""),$t=o.useCallback(async()=>{v(!0),y("");try{const ct={dateFrom:Ga(t),dateTo:Ga(r)};i==="specific"&&Ke&&(ct.empCode=Ke);const Vt=await ae.get(hm,{params:ct});if(Vt.status===200&&Vt.data){const ws=Array.isArray(Vt.data)?Vt.data:[],Ys=new Date(Ga(t)).setUTCHours(0,0,0,0),Ks=new Date(Ga(r)).setUTCHours(23,59,0,0),qs=ws.filter(lr=>{if(!lr.rawDateIn)return!1;const Xr=new Date(lr.rawDateIn).getTime();if(Xr<Ys||Xr>Ks)return!1;const ir=!!lr.rawDateOut&&lr.rawDateOut.trim()!=="",cr=!!lr.rawTimeIn,vr=!!lr.rawTimeOut,lt=ir&&cr&&vr;return n?!lt:lt});N(qs)}}catch(ct){const Vt=ct.response?.data?.message||ct.message||"Failed to load raw data";y(Vt),console.error("Error fetching raw data:",ct)}finally{v(!1)}},[t,r,n,i,Ke]),z=o.useCallback(async()=>{re(!0),ft("");try{const ct=await ae.get(IQ);ct.status===200&&ct.data&&ee(Array.isArray(ct.data)?ct.data:[])}catch(ct){const Vt=ct.response?.data?.message||ct.message||"Failed to load devices";ft(Vt),console.error("Error fetching devices:",ct)}finally{re(!1)}},[]),Pe=o.useCallback(async()=>{Y(!0),ie("");try{const ct=await ae.get(LQ);if(ct.status===200&&ct.data){const Vt=Array.isArray(ct.data)?ct.data:[];Z(Vt.map(ws=>({code:ws.code||ws.workShiftCode||ws.workshiftCode||"",description:ws.description||ws.workShiftDescription||""})))}}catch(ct){const Vt=ct.response?.data?.message||ct.message||"Failed to load workshifts";ie(Vt),console.error("Error fetching workshifts:",ct)}finally{Y(!1)}},[]),Xe=async()=>{Ct(!0),$e("");try{const ct=await ae.get(_Q);if(ct.status===200&&ct.data){const Vt=ct.data.map(ws=>({empCode:ws.empCode||ws.code||"",name:`${ws.lName||""}, ${ws.fName||""} ${ws.mName||""}`.trim(),groupCode:ws.grpCode||""}));vt(Vt)}}catch(ct){const Vt=ct.response?.data?.message||ct.message||"Failed to load employees";$e(Vt),console.error("Error fetching employees:",ct)}finally{Ct(!1)}},as=async()=>{if(!V.trim()){R("Please select an Employee Code.");return}if(!I.trim()){R("Date In is required.");return}R(""),oe(!0);const ct={empCode:V,workShiftCode:H,dayType:"Regular",rawDateIn:Ga(I),rawTimeIn:Ga(I,k),actualDateIn:Ga(he||I),actualTimeIn2:Ga(he||I,be),rawBreak1Out:Ga(I,ge),rawBreak1In:Ga(I,Se),rawBreak2Out:Ga(I,Fe),rawBreak2In:Ga(I,ze),rawBreak3Out:Ga(I,Ve),rawBreak3In:Ga(I,ve),rawDateOut:Ga(Te||I),rawTimeOut:Ga(Te||I,ot),rawotApproved:Ge,rawRemarks:jt,isLateFiling:yt,bDeviceName:Re,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:Ga(t),rawDisplDateTo:Ga(r),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1,otAppApprovalFlag:!1,sdWorkShiftCodeFlag:!1,flexiBreakFlag:!1};try{q!==null?await ae.put(`${hm}/${q}`,{...ct,id:q}):await ae.post(hm,ct),L(!1),B(null),await $t()}catch(Vt){const ws=Vt.response?.data?.message||Vt.message||"Failed to save entry";R(ws),console.error("Error saving raw data:",Vt)}finally{oe(!1)}},us=ct=>{B(ct.id),W(ct.empCode),F(ct.workShiftCode);const Vt=Vr(ct.rawDateIn),ws=Vr(ct.rawTimeIn),Ys=Vr(ct.actualDateIn),Ks=Vr(ct.actualTimeIn2),qs=Vr(ct.rawBreak1Out),lr=Vr(ct.rawBreak1In),Xr=Vr(ct.rawBreak2Out),ir=Vr(ct.rawBreak2In),cr=Vr(ct.rawBreak3Out),vr=Vr(ct.rawBreak3In),lt=Vr(ct.rawDateOut),os=Vr(ct.rawTimeOut);U(Vt.date),O(ws.time),ye(Ys.date),je(Ks.time),xe(qs.time),De(lr.time),Ae(Xr.time),He(ir.time),qe(cr.time),Me(vr.time),Le(lt.date),Je(os.time),et(ct.rawotApproved),mt(ct.isLateFiling),we(ct.rawRemarks),me(ct.bDeviceName),R(""),L(!0)},tt=async ct=>{if(confirm("Are you sure you want to delete this entry?"))try{await ae.delete(`${hm}/${ct}`),N(Vt=>Vt.filter(ws=>ws.id!==ct))}catch(Vt){const ws=Vt.response?.data?.message||Vt.message||"Failed to delete entry";alert(ws),console.error("Error deleting raw data:",Vt)}},Zt=()=>{B(null),W(""),J(""),F(""),U(""),O(""),ye(""),je(""),xe(""),De(""),Ae(""),He(""),qe(""),Me(""),Le(""),Je(""),et(!1),mt(!1),we(""),me(""),R(""),L(!0)},kt=(ct,Vt)=>{W(ct),J(Vt),Qe(!1)},zt=(ct,Vt)=>{ce(ct),pe(Vt),ut(!1)},ds=ct=>{F(ct),it(!1)},Js=ct=>{me(ct),Ie(!1)},Tt=ue.filter(ct=>ct.code.toLowerCase().includes(bt.toLowerCase())||ct.description.toLowerCase().includes(bt.toLowerCase())),Ht=Ne.filter(ct=>ct.code.toLowerCase().includes(ke.toLowerCase())||ct.description.toLowerCase().includes(ke.toLowerCase())),ms=ct=>{A(Vt=>({...Vt,[ct]:!Vt[ct]}))},Nr=()=>{const ct=!T.selectAll;A({break1Out:ct,break1In:ct,break2Out:ct,break2In:ct,break3Out:ct,break3In:ct,terminalId:ct,secondDayType:ct,remarks:ct,entryFlag:ct,isLateFiling:ct,borrowedDeviceName:ct,approvedOvertime:ct,deviceName:ct,selectAll:ct})};o.useEffect(()=>{Xe()},[]),o.useEffect(()=>{const ct=Vt=>{if(Vt.key==="Escape"){if(Lt){Qe(!1);return}if(at){ut(!1);return}if(_t){it(!1);return}if(_e){Ie(!1);return}if(M){L(!1);return}h(!1),b(!1),pt(!1),Bt(!1)}};return document.addEventListener("keydown",ct),()=>document.removeEventListener("keydown",ct)},[Lt,at,_t,_e,M]),o.useEffect(()=>{_t&&ue.length===0&&Pe()},[_t,ue.length,Pe]),o.useEffect(()=>{_e&&z()},[_e,z]);const xr=ct=>Vt=>ct(Vt.target.value),hr=(ct,Vt)=>()=>Vt(OQ(ct)),Br=({col:ct})=>C!==ct?e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-400",children:""})]}):e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:S==="asc"?"text-blue-600":"text-gray-300",children:""}),e.jsx("span",{className:S==="desc"?"text-blue-600":"text-gray-300",children:""})]}),tr=[...i==="specific"&&Ke?f.filter(ct=>ct.empCode===Ke):f].sort((ct,Vt)=>{let ws="",Ys="";return C==="rawotApproved"?(ws=ct.rawotApproved?1:0,Ys=Vt.rawotApproved?1:0):["rawDateIn","rawTimeIn","actualDateIn","rawDateOut","rawTimeOut"].includes(C)?(ws=ct[C]?new Date(ct[C]).getTime():0,Ys=Vt[C]?new Date(Vt[C]).getTime():0):(ws=ct[C]??"",Ys=Vt[C]??""),ws<Ys?S==="asc"?-1:1:ws>Ys?S==="asc"?1:-1:0}),sr=(ct,Vt,ws,Ys="flex-1")=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:[ct," :"]}),e.jsx("input",{type:"text",value:Vt,onChange:xr(ws),onBlur:hr(Vt,ws),placeholder:"HH:MM AM/PM",className:`${Ys} px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm`})]}),Ca=(ct,Vt,ws,Ys,Ks)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:[ct," :"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Vt,onChange:qs=>ws(qs.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Ks(!Ys),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),Ys&&e.jsx(Hr,{onDateSelect:qs=>{ws(qs),Ks(!1)},onClose:()=>Ks(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data including clock in/out times, breaks, and overtime approvals."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(ct=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:ct})]},ct))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Zt,children:[e.jsx(gs,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:ct=>l(ct.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(ct=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===ct,onChange:()=>{d(ct),ct==="all"&&(ce(""),pe(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:ct})]},ct))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:Ke,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:Ee,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>ut(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Gt,{className:"w-3.5 h-3.5"}),"Browse"]}),Ke&&e.jsxs("button",{onClick:()=>{ce(""),pe("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(nt,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[Ca("Date From",t,s,x,h),Ca("Date To",r,a,m,b),e.jsxs("button",{onClick:$t,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(Er,{className:"w-4 h-4 animate-spin"}):e.jsx(Gt,{className:"w-4 h-4"}),"Search"]})]}),g&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),g]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(ct=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T[ct.key],onChange:()=>ms(ct.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:ct.label})]},ct.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T.selectAll,onChange:Nr,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),[{key:"empCode",label:"Emp Code"},{key:"workShiftCode",label:"Workshift"},{key:"rawDateIn",label:"Date-In"},{key:"rawTimeIn",label:"Time-In"},{key:"actualDateIn",label:"Actual Date/Time In"}].map(({key:ct,label:Vt})=>e.jsxs("th",{onClick:()=>D(ct),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[Vt,e.jsx(Br,{col:ct})]},ct)),!T.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!T.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!T.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!T.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!T.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!T.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),[{key:"rawDateOut",label:"Date-Out"},{key:"rawTimeOut",label:"Time-Out"},{key:"dayType",label:"Day Type"},{key:"rawotApproved",label:"OT Approved"}].map(({key:ct,label:Vt})=>e.jsxs("th",{onClick:()=>D(ct),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[Vt,e.jsx(Br,{col:ct})]},ct)),!T.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!T.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!T.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal ID"}),!T.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!T.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT"}),!T.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device In/Out"}),!T.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Late Filing"}),!T.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):tr.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available. Use the Search button to load records."})}):tr.map(ct=>{const Vt=Vr(ct.rawDateIn),ws=Vr(ct.rawTimeIn),Ys=Vr(ct.actualDateIn),Ks=Vr(ct.actualTimeIn2),qs=Vr(ct.rawBreak1Out),lr=Vr(ct.rawBreak1In),Xr=Vr(ct.rawBreak2Out),ir=Vr(ct.rawBreak2In),cr=Vr(ct.rawBreak3Out),vr=Vr(ct.rawBreak3In),lt=Vr(ct.rawDateOut),os=Vr(ct.rawTimeOut),Ds=Vr(ct.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>us(ct),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Ns,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>tt(ct.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(is,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Vt.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ws.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[Ys.date," ",Ks.time]}),!T.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:qs.time}),!T.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:lr.time}),!T.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Xr.time}),!T.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ir.time}),!T.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:cr.time}),!T.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:vr.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:lt.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:os.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.rawotApproved?"Yes":"No"}),!T.remarks&&e.jsx("td",{className:"px-4 py-2 text-sm max-w-xs truncate",children:ct.rawRemarks}),!T.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.entryFlag}),!T.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.terminalID}),!T.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.dayType2}),!T.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ds.time}),!T.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-xs",children:[ct.deviceNameIn,"/",ct.deviceNameOut]}),!T.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.isLateFiling?"Yes":"No"}),!T.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ct.bDeviceName})]},ct.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:f.length>0?`Showing 1 to ${f.length} of ${f.length} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),M&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>L(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-5 py-3 border-b border-gray-200 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:q!==null?"Edit Entry":"Create New Entry"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(nt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Raw Data"}),fe&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(yr,{className:"w-4 h-4 flex-shrink-0"}),fe]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Emp Code :"}),e.jsx("input",{type:"text",value:V,readOnly:!0,placeholder:"Select employee...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>Qe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:H,readOnly:!0,placeholder:"Select workshift...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{se(""),it(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-4 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm flex-shrink-0",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:I,onChange:ct=>U(ct.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>pt(!Ye),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),Ye&&e.jsx(Hr,{onDateSelect:ct=>{U(ct),pt(!1)},onClose:()=>pt(!1)})]}),sr("Time In",k,O)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Actual Date In :"}),e.jsx("input",{type:"text",value:he,onChange:ct=>ye(ct.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sr("Actual Time In",be,je)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 1 Out :"}),e.jsx("input",{type:"text",value:ge,onChange:xr(xe),onBlur:hr(ge,xe),placeholder:"HH:MM AM/PM",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sr("Break 1 In",Se,De)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 2 Out :"}),e.jsx("input",{type:"text",value:Fe,onChange:xr(Ae),onBlur:hr(Fe,Ae),placeholder:"HH:MM AM/PM",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sr("Break 2 In",ze,He)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 3 Out :"}),e.jsx("input",{type:"text",value:Ve,onChange:xr(qe),onBlur:hr(Ve,qe),placeholder:"HH:MM AM/PM",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm"}),sr("Break 3 In",ve,Me)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Te,onChange:ct=>Le(ct.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Bt(!Ft),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),Ft&&e.jsx(Hr,{onDateSelect:ct=>{Le(ct),Bt(!1)},onClose:()=>Bt(!1)})]}),sr("Time Out",ot,Je)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:Ge,onChange:ct=>et(ct.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:yt,onChange:ct=>mt(ct.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Remarks :"}),e.jsx("textarea",{value:jt,onChange:ct=>we(ct.target.value),rows:3,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Borrowed Device :"}),e.jsx("input",{type:"text",value:Re,readOnly:!0,placeholder:"Select device...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{X(""),Ie(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>me(""),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:as,disabled:te,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-60",children:[te&&e.jsx(Er,{className:"w-4 h-4 animate-spin"}),q!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>L(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(na,{isOpen:Lt,onClose:()=>Qe(!1),onSelect:ct=>{const Vt=gt.find(ws=>ws.empCode===ct);kt(ct,Vt?.name??"")},employees:gt,loading:xt,error:Nt}),_t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>it(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Workshift Code"}),e.jsx("button",{onClick:()=>it(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:bt,autoFocus:!0,onChange:ct=>se(ct.target.value),placeholder:"Search workshifts...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),_&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",_]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:G?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Tt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Tt.map(ct=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>ds(ct.code),children:[e.jsx("td",{className:"px-3 py-2 font-mono font-medium",children:ct.code}),e.jsx("td",{className:"px-3 py-2",children:ct.description})]},ct.code))})]})})]})]})})]}),_e&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Ie(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Borrowed Device Name"}),e.jsx("button",{onClick:()=>Ie(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:ke,autoFocus:!0,onChange:ct=>X(ct.target.value),placeholder:"Search devices...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),We&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4"})," ",We]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:de?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(Er,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Ht.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):Ht.map(ct=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>Js(ct.description),children:[e.jsx("td",{className:"px-3 py-2 font-mono",children:ct.code}),e.jsx("td",{className:"px-3 py-2",children:ct.description})]},ct.id))})]})})]})]})})]}),e.jsx(na,{isOpen:at,onClose:()=>ut(!1),onSelect:ct=>{const Vt=gt.find(ws=>ws.empCode===ct);zt(ct,Vt?.name??"")},employees:gt,loading:xt,error:Nt})]})]})}),e.jsx(Qt,{})]})}function RQ(){const[t,s]=o.useState("TK Group"),[r,a]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,d]=o.useState("7/7/2021"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(!1),[p,v]=o.useState(!1),[g,y]=o.useState("tardiness"),C=o.useRef(null),[j,S]=o.useState(1),P=50,[D,T]=o.useState(""),[A,M]=o.useState(""),[L,q]=o.useState([]),[B,te]=o.useState([]),[oe,fe]=o.useState(1),[R,V]=o.useState(1),W=10,[ne,J]=o.useState(!1),[H,F]=o.useState(!1),[I,U]=o.useState(!1),[k,O]=o.useState(null),[he,ye]=o.useState(null),[be,je]=o.useState({tardiness:!1,leaveAbsences:!1,allowances:!1,nightDifferentials:!1,undertime:!1,regularWorking:!1,overtime:!1,selectAll:!1});o.useEffect(()=>{fe(1)},[t]);const[ge,xe]=o.useState([]),[Se,De]=o.useState([]),[Fe,Ae]=o.useState([]),[ze,He]=o.useState([]),[Ve,qe]=o.useState([]),[ve,Me]=o.useState([]),[Te,Le]=o.useState([]),[ot,Je]=o.useState([]),[Ge,et]=o.useState([]),yt=async()=>(await ae.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Pe=>({id:Pe.ID||Pe.id,code:Pe.groupCode||Pe.code,description:Pe.groupDescription||Pe.description})),mt=async()=>(await ae.get("/Fs/Employment/BranchSetUp")).data.map(Pe=>({id:Pe.braID||Pe.ID,code:Pe.braCode||Pe.code,description:Pe.braDesc||Pe.description})),jt=async()=>(await ae.get("/Fs/Employment/DepartmentSetUp")).data.map(Pe=>({id:Pe.depID||Pe.ID,code:Pe.depCode||Pe.code,description:Pe.depDesc||Pe.description})),we=async()=>(await ae.get("/Fs/Employment/DivisionSetUp")).data.map(Pe=>({id:Pe.divID||Pe.ID,code:Pe.divCode||Pe.code,description:Pe.divDesc||Pe.description})),Re=async()=>{const z=await ae.get("/Fs/Employment/GroupSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.grpSchID||Xe.id||Xe.ID,code:Xe.grpCode||Xe.code,description:Xe.grpDesc||Xe.description}))},me=async()=>{const z=await ae.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.lineID??Xe.ID??Xe.id,code:Xe.lineCode??Xe.code,description:Xe.lineDesc??Xe.Description??Xe.description}))},Ye=async()=>{const z=await ae.get("/Fs/Employment/SectionSetUp");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.secID??Xe.ID??Xe.id,code:Xe.secCode??Xe.sectionCode??Xe.code,description:Xe.secDesc??Xe.Description??Xe.description}))},pt=async()=>(await ae.get("/Fs/Employment/UnitSetUp")).data.map(Pe=>({id:Pe.unitID||Pe.ID,code:Pe.unitCode||Pe.code,description:Pe.unitDesc||Pe.description})),Ft=async()=>{const z=await ae.get("/Maintenance/EmployeeMasterFile");return(Array.isArray(z.data)?z.data:[]).map(Xe=>({id:Xe.empID??Xe.ID??Xe.id,code:Xe.empCode||Xe.code||"",name:`${Xe.lName||""}, ${Xe.fName||""} ${Xe.mName||""}`.trim(),tkGroup:Xe.tkGroup??Xe.tKGroup??Xe.groupCode??Xe.tkGroupCode??"",branchCode:Xe.braCode??Xe.branchCode??Xe.branch??"",departmentCode:Xe.depCode??Xe.departmentCode??Xe.department??"",divisionCode:Xe.divCode??Xe.divisionCode??Xe.division??"",groupScheduleCode:Xe.grpCode??Xe.groupSchedule??Xe.grpSchCode??"",payHouseCode:Xe.lineCode??Xe.payCode??Xe.payHouseCode??Xe.payHouse??"",sectionCode:Xe.secCode??Xe.sectionCode??Xe.section??"",unitCode:Xe.unitCode??Xe.unit??""}))};o.useEffect(()=>{yt().then(xe)},[]),o.useEffect(()=>{mt().then(De)},[]),o.useEffect(()=>{jt().then(Ae)},[]),o.useEffect(()=>{we().then(He)},[]),o.useEffect(()=>{Re().then(qe)},[]),o.useEffect(()=>{me().then(Me)},[]),o.useEffect(()=>{Ye().then(Le)},[]),o.useEffect(()=>{pt().then(Je)},[]),o.useEffect(()=>{Ft().then(et)},[]);const Lt=(()=>{switch(t){case"Branch":return Se;case"Department":return Fe;case"Division":return ze;case"Group Schedule":return Ve;case"Pay House":return ve;case"Section":return Te;case"Unit":return ot;default:return ge}})(),Qe=()=>{switch(t){case"TK Group":return"TK Group Selection";case"Branch":return"Branch Selection";case"Department":return"Department Selection";case"Division":return"Division Selection";case"Group Schedule":return"Group Schedule Selection";case"Pay House":return"Pay House Selection";case"Section":return"Section Selection";case"Unit":return"Unit Selection";default:return"Selection"}},gt=Lt.filter(z=>z.code.toLowerCase().includes(D.toLowerCase())||z.description.toLowerCase().includes(D.toLowerCase())),vt=()=>{switch(t){case"TK Group":return"tkGroup";case"Branch":return"branchCode";case"Department":return"departmentCode";case"Division":return"divisionCode";case"Group Schedule":return"groupScheduleCode";case"Pay House":return"payHouseCode";case"Section":return"sectionCode";case"Unit":return"unitCode";default:return null}},xt=new Set(Lt.filter(z=>L.includes(z.id)).map(z=>z.code.trim().toLowerCase())),Ct=Ge.filter(z=>{if(!(z.code.toLowerCase().includes(A.toLowerCase())||z.name.toLowerCase().includes(A.toLowerCase())))return!1;if(xt.size===0)return!0;const Xe=vt();if(!Xe)return!0;const as=z[Xe]?.trim().toLowerCase()??"";return xt.has(as)}),Nt=Math.ceil(gt.length/W),$e=(oe-1)*W,Ke=$e+W,ce=gt.slice($e,Ke),Ee=()=>{const z=[];if(Nt<=7)for(let Pe=1;Pe<=Nt;Pe++)z.push(Pe);else if(oe<=4){for(let Pe=1;Pe<=5;Pe++)z.push(Pe);z.push("..."),z.push(Nt)}else if(oe>=Nt-3){z.push(1),z.push("...");for(let Pe=Nt-4;Pe<=Nt;Pe++)z.push(Pe)}else{z.push(1),z.push("...");for(let Pe=oe-1;Pe<=oe+1;Pe++)z.push(Pe);z.push("..."),z.push(Nt)}return z},pe=Math.ceil(Ct.length/W),at=(R-1)*W,ut=at+W,_t=Ct.slice(at,ut),it=()=>{const z=[];if(pe<=5)return Array.from({length:pe},(as,us)=>us+1);z.push(1),R>3&&z.push("...");const Pe=Math.max(2,R-1),Xe=Math.min(pe-1,R+1);for(let as=Pe;as<=Xe;as++)z.push(as);return R<pe-2&&z.push("..."),z.push(pe),z},bt=z=>{q(Pe=>Pe.includes(z)?Pe.filter(Xe=>Xe!==z):[...Pe,z])},se=z=>{te(Pe=>Pe.includes(z)?Pe.filter(Xe=>Xe!==z):[...Pe,z])},ue=()=>{L.length===gt.length?q([]):q(gt.map(z=>z.id))},Z=()=>{B.length===Ct.length?te([]):te(Ct.map(z=>z.id))},G=z=>{if(z==="selectAll"){const Pe=!be.selectAll;je({tardiness:Pe,leaveAbsences:Pe,allowances:Pe,nightDifferentials:Pe,undertime:Pe,regularWorking:Pe,overtime:Pe,selectAll:Pe})}else je(Pe=>({...Pe,[z]:!Pe[z]}))},Y=()=>B.length>0?Ge.filter(z=>B.includes(z.id)).map(z=>z.code):Ge.map(z=>z.code),_=z=>{if(!z)return new Date().toISOString();try{if(z.includes("/")){const[Pe,Xe,as]=z.split("/"),us=Pe.padStart(2,"0"),tt=Xe.padStart(2,"0");return`${as}-${us}-${tt}T00:00:00.000Z`}return new Date(z).toISOString()}catch{return new Date().toISOString()}},ie=z=>{const Pe=Math.floor(z/1e3),Xe=Math.floor(Pe/3600),as=Math.floor(Pe%3600/60),us=Pe%60;return{h:Xe,m:as,s:us}},_e=async()=>{const z=Y();if(z.length===0){Q.fire({icon:"warning",title:"No Employees",text:"Please select at least one employee or group."});return}const Pe={dateFrom:_(r),dateTo:_(n),dateApplied:_(i),empCode:"",empCodes:z,tardiness:be.tardiness,undertime:be.undertime,leaveAndAbsences:be.leaveAbsences,regularWorkingDays:be.regularWorking,allowances:be.allowances,overtime:be.overtime,nightDiff:be.nightDifferentials,holidayPay:!1,unprodWorkOnHoliday:!1,lateFiling:x,oldOvertimeProcess:!1,oldNighDiffProcess:!1,oldTardinessProcess:!1,userName:"currentUser"};v(!0),b(!1),O(null),ye(null);const Xe=Date.now();try{const as=await ae.post("/Populate2Shifts/Populate",Pe),us=ie(Date.now()-Xe),tt=as.data;console.log(as),O(tt),ye({...Pe,allowances:be.allowances,undertime:be.undertime,overtime:be.overtime,nightDiff:be.nightDifferentials,holidayPay:!1,regularWorkingDays:be.regularWorking,tardiness:be.tardiness,leaveAndAbsences:be.leaveAbsences,lateFiling:x,dataAllowance:tt.allowance??[],dataUndertime:tt.undertime??[],dataOvertime:tt.overtime??[],dataNightDiff:tt.nightDiff??[],dataHolidayPay:[],dataRegularWorkingHours:tt.regularWorkingHours??[],dataTardiness:tt.tardiness??[],dataLeaveAbsences:tt.leaveAbsences??[],tardinessBelowThreshold:tt.tardinessBelowThreshold??[],tardinessAboveThreshold:tt.tardinessAboveThreshold??[],undertimeBelowThreshold:tt.undertimeBelowThreshold??[],undertimeAboveThreshold:tt.undertimeAboveThreshold??[]}),b(!0),y("tardiness"),await Q.fire({icon:"success",title:"Done Populating",html:`
          <div style="text-align:center">
            <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
            <p style="font-size:1.25rem;font-weight:600;color:#1d4ed8">
              ${us.h} hour(s), ${us.m} minute(s) and ${us.s} second(s)
            </p>
          </div>
        `,confirmButtonText:"View Results",confirmButtonColor:"#2563eb"}),setTimeout(()=>{C.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(as){const us=as?.response?.data?.message??as?.message??"An unexpected error occurred.";Q.fire({icon:"error",title:"Populate Failed",text:us})}finally{v(!1)}},Ie=async()=>{if(!he){Q.fire({icon:"warning",title:"Populate First",text:"Please run Populate before Process."});return}N(!0);const z=Date.now();try{const Pe=await ae.post("/Populate2Shifts/Process",he),Xe=ie(Date.now()-z),as=Pe.data;as?.isSuccessful===!1?Q.fire({icon:"error",title:"Process Error",text:as.message??"Process failed."}):await Q.fire({icon:"success",title:"Done Processing",html:`
            <div style="text-align:center">
              <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
              <p style="font-size:1.25rem;font-weight:600;color:#16a34a">
                ${Xe.h} hour(s), ${Xe.m} minute(s) and ${Xe.s} second(s)
              </p>
            </div>
          `,confirmButtonText:"OK",confirmButtonColor:"#16a34a"})}catch(Pe){const Xe=Pe?.response?.data?.message??Pe?.message??"An unexpected error occurred.";Q.fire({icon:"error",title:"Process Failed",text:Xe})}finally{N(!1)}};o.useEffect(()=>{S(1)},[g]);const ke=[{id:"tardiness",label:"Tardiness"},{id:"undertime",label:"Undertime"},{id:"leave-absences",label:"Leave and Absences"},{id:"regular-working",label:"Regular Working Days/Hours"},{id:"allowances",label:"Allowances"},{id:"overtime",label:"Overtime"},{id:"night-differentials",label:"Night Differentials"}],Ne=(()=>{if(!k)return[];switch(g){case"tardiness":return k.tardiness??[];case"undertime":return k.undertime??[];case"leave-absences":return k.leaveAbsences??[];case"regular-working":return k.regularWorkingHours??[];case"allowances":return k.allowance??[];case"overtime":return k.overtime??[];case"night-differentials":return k.nightDiff??[];default:return[]}})(),ee=Math.ceil(Ne.length/P),de=Ne.slice((j-1)*P,j*P),re=()=>{const z=[];if(ee<=7)for(let Pe=1;Pe<=ee;Pe++)z.push(Pe);else if(j<=4){for(let Pe=1;Pe<=5;Pe++)z.push(Pe);z.push("..."),z.push(ee)}else if(j>=ee-3){z.push(1),z.push("...");for(let Pe=ee-4;Pe<=ee;Pe++)z.push(Pe)}else{z.push(1),z.push("...");for(let Pe=j-1;Pe<=j+1;Pe++)z.push(Pe);z.push("..."),z.push(ee)}return z},We=z=>{if(!z)return"";try{return new Date(z).toLocaleDateString()}catch{return z}},ft=z=>{if(!z)return"";try{return new Date(z).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return z}},$t=z=>z!=null?z.toFixed(4):"";return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Processing 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process employee timekeeping data by various criteria including TK Group, branch, department, and more."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Process by multiple organizational groups","Generate comprehensive attendance reports","Track tardiness, undertime, and overtime","Monitor leave and absences efficiently"].map(z=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:z})]},z))})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Us},{name:"Branch",icon:er},{name:"Department",icon:Zs},{name:"Division",icon:Na},{name:"Group Schedule",icon:Or},{name:"Pay House",icon:Ir},{name:"Section",icon:Mr},{name:"Unit",icon:cn}].map(z=>e.jsxs("button",{onClick:()=>s(z.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===z.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(z.icon,{className:"w-4 h-4"}),z.name]},z.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:Qe()}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:D,onChange:z=>T(z.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===gt.length&&gt.length>0,onChange:ue,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(z.id),onChange:()=>bt(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.description})]},z.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",gt.length===0?0:$e+1," to ",Math.min(Ke,gt.length)," of ",gt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>fe(z=>Math.max(z-1,1)),disabled:oe===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),Ee().map((z,Pe)=>z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`g-ellipsis-${Pe}`):e.jsx("button",{onClick:()=>fe(z),className:`px-2 py-1 rounded text-xs ${oe===z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},z)),e.jsx("button",{onClick:()=>fe(z=>Math.min(z+1,Nt)),disabled:oe===Nt||Nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Employees"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[B.length," selected"]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:A,onChange:z=>M(z.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:B.length===Ct.length&&Ct.length>0,onChange:Z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_t.map(z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:B.includes(z.id),onChange:()=>se(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:z.name})]},z.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",at+1," to ",Math.min(ut,Ct.length)," of ",Ct.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>V(z=>Math.max(1,z-1)),disabled:R===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),it().map((z,Pe)=>typeof z=="number"?e.jsx("button",{onClick:()=>V(z),className:`px-2 py-1 rounded text-xs ${R===z?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},Pe):e.jsx("span",{className:"px-2",children:z},Pe)),e.jsx("button",{onClick:()=>V(z=>Math.min(pe,z+1)),disabled:R===pe,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 mb-4",children:e.jsx("h2",{className:"text-gray-900",children:"Processing Options"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r,onChange:z=>a(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>J(!ne),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),ne&&e.jsx(Hr,{onDateSelect:z=>{a(z),J(!1)},onClose:()=>J(!1)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:z=>l(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>F(!H),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),H&&e.jsx(Hr,{onDateSelect:z=>{l(z),F(!1)},onClose:()=>F(!1)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date Applied"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:z=>d(z.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>U(!I),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(cs,{className:"w-3.5 h-3.5"})}),I&&e.jsx(Hr,{onDateSelect:z=>{d(z),U(!1)},onClose:()=>U(!1)})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x,onChange:z=>h(z.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Late Filing"})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3 pb-3 border-b border-blue-200",children:[["tardiness","Tardiness"],["leaveAbsences","Leave/Absences"],["allowances","Allowances"],["nightDifferentials","Night Differential"]].map(([z,Pe])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:be[z],onChange:()=>G(z),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Pe})]},z))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[[["undertime","Undertime"],["regularWorking","Regular Working"],["overtime","Overtime"]].map(([z,Pe])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:be[z],onChange:()=>G(z),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Pe})]},z)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:be.selectAll,onChange:()=>G("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"Select All"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:_e,disabled:p||f,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(Dn,{className:"w-4 h-4 animate-spin"}),"Populating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"w-4 h-4"}),"Populate"]})}),e.jsx("button",{onClick:Ie,disabled:p||f||!he,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:he?"":"Run Populate first",children:f?e.jsxs(e.Fragment,{children:[e.jsx(Dn,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(kb,{className:"w-4 h-4"}),"Process"]})})]}),!he&&e.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[" Run ",e.jsx("strong",{children:"Populate"})," first to enable the Process button."]})]}),m&&k&&e.jsxs("div",{ref:C,className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Populate Results"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Completed"})]}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:ke.map(z=>e.jsx("button",{onClick:()=>y(z.id),className:`px-4 py-3 whitespace-nowrap transition-all border-b-2 text-sm ${g===z.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:z.label},z.id))})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[g==="tardiness"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Tardiness"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),g==="undertime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Undertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),g==="leave-absences"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"With Pay"})]}),g==="regular-working"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),g==="allowances"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Allowance Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Amount"})]}),g==="overtime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),g==="night-differentials"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"ND Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[g==="tardiness"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||"",e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.tardiness)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.tardinessWithInGrace)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.actualTardiness)})]},Pe)),g==="undertime"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||"",e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.undertime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.undertimeWithinGracePeriod)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.actualUndertime)})]},Pe)),g==="leave-absences"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateL)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.leaveCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.hoursLeaveAbsent)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.remarks}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:!!z.withPay,readOnly:!0,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"})})]},Pe)),g==="regular-working"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.noOfHours)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.remarks})]},Pe)),g==="allowances"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.allowanceCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.date)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.amount?.toFixed(2)})]},Pe)),g==="overtime"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.otCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.remarks})]},Pe)),g==="night-differentials"&&de.map((z,Pe)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:z.empName||z.formattedName||Ge.find(Xe=>Xe.code===z.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:We(z.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:ft(z.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:z.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:$t(z.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:z.otCode})]},Pe)),Ne.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-12 text-center text-gray-400 text-sm",children:"No data available for this category."})})]})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing"," ",Ne.length===0?0:(j-1)*P+1," ",""," ",Math.min(j*P,Ne.length)," ","of"," ",Ne.length," entries"]}),ee>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(z=>Math.max(1,z-1)),disabled:j===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),re().map((z,Pe)=>z==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`rp-ellipsis-${Pe}`):e.jsx("button",{onClick:()=>S(z),className:`px-2 py-1 rounded text-xs ${j===z?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:z},z)),e.jsx("button",{onClick:()=>S(z=>Math.min(ee,z+1)),disabled:j===ee,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(Qt,{})]})}function HQ({activeSection:t}){return t==="workshift-variable"?e.jsx(n1,{}):t==="import-workshift-variable"?e.jsx(n1,{}):t==="import-adjustment"?e.jsx(HL,{}):t==="import-logs-from-device-v2"?e.jsx(UL,{}):t==="import-device-code"?e.jsx(Uz,{}):t==="import-employee-masterfile"?e.jsx(Wz,{}):t==="overtime-application"?e.jsx(p2,{}):t==="import-overtime-application"?e.jsx(p2,{}):t==="leave-application"?e.jsx(f2,{}):t==="import-leave-application"?e.jsx(f2,{}):t==="logs-from-device-v2"?e.jsx(Gz,{}):t==="overtime-application-2-shifts"?e.jsx(Lq,{}):t==="workshift-variable-2-shifts"?e.jsx(_q,{}):t==="logs-from-device-2-shifts"?e.jsx(Oq,{}):t==="update-raw-data"||t==="update-rawdata-import"?e.jsx($z,{}):t==="raw-data-ot-group"?e.jsx(vq,{}):t==="rawdata-ot-gap"?e.jsx(jq,{}):t==="rawdata-on-straight-duty"?e.jsx(Eq,{}):t==="2-shifts-rawdata"?e.jsx(Mq,{}):t==="2-shifts-employee-timekeep-config"?e.jsx(Iq,{}):t==="raw-data"?e.jsx(BQ,{}):t==="process"||t==="process-data"?e.jsx(aJ,{}):t==="2-shifts-payroll"||t==="process-2-shifts-payroll"?e.jsx(RQ,{}):t==="processed-data"?e.jsx(qq,{}):t==="daily-time-record-monitoring"?e.jsx(nJ,{}):t==="update-status"?e.jsx(Jq,{}):t==="update-employee-overtime-application"?e.jsx(Zq,{}):t==="update-employee-workshift"?e.jsx(tX,{}):t==="update-employee-leave-application"?e.jsx(rX,{}):t==="update-employee-pay-house"?e.jsx(nX,{}):t==="update-employee-classification"?e.jsx(iX,{}):t==="update-batch-rest-day"?e.jsx(cX,{}):t==="delete-employee-transactions"?e.jsx(dX,{}):t==="update-rawdata-online"?e.jsx(uX,{}):t==="update-daytype-rawdata"?e.jsx(hX,{}):t==="update-workshift-rawdata"?e.jsx(pX,{}):t==="delete-incomplete-logs"?e.jsx(gX,{}):t==="delete-rawdata"?e.jsx(bX,{}):t==="unpost-transaction"?e.jsx(wX,{}):t==="additional-hours-per-week"?e.jsx(jX,{}):t==="apply-ot-allowances"?e.jsx(SX,{}):t==="apply-break-overbreak"?e.jsx(DX,{}):t==="update-allowance-per-bracket"?e.jsx(TX,{}):t==="update-gl-code-utility"?e.jsx(FX,{}):t==="update-flexi-break"?e.jsx(MX,{}):t==="update-sss-notification"?e.jsx(LX,{}):t==="update-hours-per-week"?e.jsx(OX,{}):t==="update-tardiness-penalty"?e.jsx(RX,{}):t==="delete-ot-restday-absent"?e.jsx(UX,{}):t==="process-overtime-cutoff"?e.jsx(GX,{}):t==="update-assumed-days"?e.jsx(zX,{}):t==="deduct-absences-excess"?e.jsx(YX,{}):t==="process-overtime-24hours"?e.jsx(qX,{}):t==="post-processed-timekeeping"?e.jsx(JX,{}):t==="update-time-flag-breaks"?e.jsx(ZX,{}):t==="unpaid-lunch-deduction"?e.jsx(tJ,{}):t==="deduct-tardiness-to-overtime"?e.jsx(rJ,{}):t==="timekeep-group"||t==="tks-group-setup"||t==="timekeep-group-setup"?e.jsx(xQ,{}):t==="tks-group-setup-definition"?e.jsx(oJ,{}):t==="company-information"?e.jsx(lJ,{}):t==="calendar-setup"?e.jsx(iJ,{}):t==="holiday-ot-rates-setup"?e.jsx(dJ,{}):t==="overtime-setup"?e.jsx(uJ,{}):t==="employee-master-file"?e.jsx(jQ,{}):t==="employee-timekeep-configuration"?e.jsx(MQ,{}):t==="allowance-bracket-code-setup"?e.jsx(xJ,{}):t==="allowance-bracketing-setup"?e.jsx(hJ,{}):t==="allowance-per-classification-setup"?e.jsx(mJ,{}):t==="classification-setup"?e.jsx(pJ,{}):t==="earning-setup"?e.jsx(fJ,{}):t==="day-type-setup"?e.jsx(gJ,{}):t==="ams-database-configuration-setup"?e.jsx(vQ,{}):t==="borrowed-device-name"?e.jsx(hQ,{}):t==="coordinates-setup"?e.jsx(bQ,{}):t==="device-type-setup"?e.jsx(yQ,{}):t==="dtr-flag-setup"?e.jsx(mQ,{}):t==="dtr-log-fields-setup"?e.jsx(pQ,{}):t==="sdk-list-setup"?e.jsx(yJ,{}):t==="mysql-database-configuration-setup"?e.jsx(NQ,{}):t==="equivalent-hours-deduction-setup"?e.jsx(bJ,{}):t==="group-schedule-setup"?e.jsx(oQ,{}):t==="help-setup"?e.jsx(lQ,{}):t==="leave-type-setup"?e.jsx(iQ,{}):t==="additional-ot-hours-per-week"?e.jsx(EJ,{}):t==="regular-overtime-setup"?e.jsx(TJ,{}):t==="rest-day-overtime-setup"?e.jsx(AJ,{}):t==="payroll-location-setup"?e.jsx(cQ,{}):t==="system-configuration-setup"?e.jsx(dQ,{}):t==="daily-schedule-setup"?e.jsx(FJ,{}):t==="rest-day-setup"?e.jsx(PJ,{}):t==="workshift-setup"?e.jsx(MJ,{}):t==="unpaid-lunch-deduction-bracket-setup"?e.jsx(uQ,{}):t==="bracket-code-setup"?e.jsx(IJ,{}):t==="tardiness-undertime-accumulation-table-setup"?e.jsx(LJ,{}):t==="area-setup"?e.jsx(_J,{}):t==="branch-setup"?e.jsx(OJ,{}):t==="department-setup"?e.jsx(RJ,{}):t==="division-setup"?e.jsx(HJ,{}):t==="employee-designation-setup"?e.jsx(UJ,{}):t==="employee-status-setup"?e.jsx(WJ,{}):t==="group-setup"?e.jsx(GJ,{}):t==="job-level-setup"?e.jsx($J,{}):t==="location-setup"?e.jsx(zJ,{}):t==="pay-house-setup"?e.jsx(VJ,{}):t==="online-approval-setup"?e.jsx(YJ,{}):t==="section-setup"?e.jsx(KJ,{}):t==="unit-setup"?e.jsx(qJ,{}):t==="create-new-database"?e.jsx(XJ,{}):t==="email-configuration"?e.jsx(JJ,{}):t==="audit-trail"?e.jsx(eQ,{}):t==="security-manager"?e.jsx(G2,{}):t==="security"?e.jsx(G2,{}):t==="export-nav"?e.jsx(aQ,{}):t==="export-payroll-data"?e.jsx(nQ,{}):t==="payroll-dtr-allowance"?e.jsx(sQ,{}):t!=="home"?e.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-gray-900 mb-2",children:z2(t)}),e.jsxs("p",{className:"text-gray-600",children:["Content for ",z2(t)," will be displayed here."]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8 flex-1",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Welcome back, Admin"}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your timekeeping today"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(mm,{icon:Us,label:"Active Employees",value:"247",change:"+12 this month",changeType:"positive",color:"blue"}),e.jsx(mm,{icon:fr,label:"Hours This Week",value:"9,845",change:"+5.2% vs last week",changeType:"positive",color:"cyan"}),e.jsx(mm,{icon:yr,label:"Pending Exceptions",value:"18",change:"Needs attention",changeType:"warning",color:"amber"}),e.jsx(mm,{icon:zl,label:"Approved Time Cards",value:"229",change:"92.7% completion",changeType:"positive",color:"green"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(m0,{icon:vi,title:"Review Time Cards",description:"View and approve pending time cards",action:"Go to Time Cards"}),e.jsx(m0,{icon:Us,title:"Manage Employees",description:"Add, edit, or deactivate employees",action:"Manage Employees"}),e.jsx(m0,{icon:hC,title:"Generate Reports",description:"Create custom reports and exports",action:"View Reports"}),e.jsx(m0,{icon:yr,title:"Exception Review",description:"Handle exceptions and discrepancies",action:"Review Exceptions"}),e.jsx(m0,{icon:cs,title:"Schedule Management",description:"Update shifts and schedules",action:"Manage Schedules"}),e.jsx(m0,{icon:t7,title:"Process Payroll",description:"Calculate and post payroll data",action:"Process Now"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(pm,{type:"success",title:"Payroll Posted",description:"Period ending 11/30/2025 successfully posted",time:"2 hours ago"}),e.jsx(pm,{type:"info",title:"New Employee Added",description:"Sarah Johnson added to Sales department",time:"4 hours ago"}),e.jsx(pm,{type:"warning",title:"Exception Created",description:"Missing punch for employee #1247",time:"Yesterday"}),e.jsx(pm,{type:"success",title:"Data Backup Complete",description:"Automated backup finished successfully",time:"Yesterday"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Upcoming Tasks"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(fm,{title:"Weekly Payroll Processing",due:"Due in 2 days",priority:"high"}),e.jsx(fm,{title:"Monthly Report Generation",due:"Due in 5 days",priority:"medium"}),e.jsx(fm,{title:"Employee Schedule Update",due:"Due in 1 week",priority:"low"}),e.jsx(fm,{title:"Quarterly Data Backup",due:"Due in 2 weeks",priority:"medium"})]})]})]})]})}function mm({icon:t,label:s,value:r,change:a,changeType:n,color:l}){const i={blue:"from-blue-500 to-blue-600",cyan:"from-cyan-500 to-cyan-600",amber:"from-amber-500 to-amber-600",green:"from-green-500 to-green-600"},d={positive:"text-green-600",warning:"text-amber-600",negative:"text-red-600"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:`p-3 bg-gradient-to-br ${i[l]} rounded-xl shadow-lg`,children:e.jsx(t,{className:"w-6 h-6 text-white"})})}),e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"text-gray-900",style:{fontSize:"1.875rem",lineHeight:"2.25rem"},children:r})}),e.jsx("div",{className:"text-gray-600 mb-2",children:s}),e.jsx("div",{className:`${d[n]}`,style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:a})]})}function m0({icon:t,title:s,description:r,action:a}){return e.jsxs("button",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md hover:border-blue-200 transition-all duration-200 text-left group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:e.jsx(t,{className:"w-5 h-5 text-blue-600"})}),e.jsx(NA,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h4",{className:"text-gray-900 mb-1",children:s}),e.jsx("p",{className:"text-gray-600 mb-3",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:r}),e.jsxs("div",{className:"text-blue-600",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:[a," "]})]})}function pm({type:t,title:s,description:r,time:a}){const n={success:"bg-green-100 text-green-600",info:"bg-blue-100 text-blue-600",warning:"bg-amber-100 text-amber-600"};return e.jsxs("div",{className:"flex items-start space-x-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n[t].replace("text-","bg-")}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900",children:s}),e.jsx("div",{className:"text-gray-600",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:r}),e.jsx("div",{className:"text-gray-500 mt-1",style:{fontSize:"0.75rem",lineHeight:"1rem"},children:a})]})]})}function fm({title:t,due:s,priority:r}){const a={high:"bg-red-100 text-red-700",medium:"bg-amber-100 text-amber-700",low:"bg-blue-100 text-blue-700"};return e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900",children:t}),e.jsx("div",{className:"text-gray-600 mt-1",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:s})]}),e.jsx("span",{className:`px-3 py-1 rounded-full ${a[r]}`,style:{fontSize:"0.75rem",lineHeight:"1rem"},children:r.charAt(0).toUpperCase()+r.slice(1)})]})}function z2(t){return{home:"Home","file-setup":"File Setup","timekeep-group-setup":"TimeKeep Group Setup","holiday-calendar":"Holiday Calendar",maintenance:"Maintenance","employee-master-file":"Employee Master File","employee-timekeep-configuration":"Employee Timekeep Configuration","raw-data":"Raw Data","raw-data-ot-group":"Raw Data OT Group","processed-data":"Processed Data",process:"Process",reports:"Reports",import:"Import","workshift-variable":"Workshift Variable","leave-application":"Leave Application","overtime-application":"Overtime Application","rawdata-ot-gap":"Rawdata OT Gap","rawdata-on-straight-duty":"Rawdata On Straight Duty","2-shifts-rawdata":"Two Shifts Raw Data","2-shifts-employee-timekeep-config":"Two Shifts Employee Timekeep Config",export:"Export",utilities:"Utilities",security:"Security","daily-time-record-monitoring":"Daily Time Record Monitoring","tks-group-setup-definition":"TKS Group Setup Definition","company-information":"Company Information","calendar-setup":"Calendar Setup","holiday-ot-rates-setup":"Holiday OT Rates Setup","overtime-setup":"Overtime Setup","allowance-bracket-code-setup":"Allowance Bracket Code Setup","allowance-bracketing-setup":"Allowance Bracketing Setup","allowance-per-classification-setup":"Allowance Per Classification Setup","classification-setup":"Classification Setup","earning-setup":"Earning Setup","day-type-setup":"Day Type Setup","ams-database-configuration-setup":"AMS Database Configuration Setup","borrowed-device-name":"Borrowed Device Name","coordinates-setup":"Coordinates Setup","device-type-setup":"Device Type Setup","dtr-flag-setup":"DTR Flag Setup","dtr-log-fields-setup":"DTR Log Fields Setup","sdk-list-setup":"SDK List Setup","mysql-database-configuration-setup":"MySQL Database Configuration Setup","equivalent-hours-deduction-setup":"Equivalent Hours Deduction Setup","group-schedule-setup":"Group Schedule Setup","help-setup":"Help Setup","leave-type-setup":"Leave Type Setup","additional-ot-hours-per-week":"Additional OT Hours Per Week","regular-overtime-setup":"Regular Overtime Setup","rest-day-overtime-setup":"Rest Day Overtime Setup","payroll-location-setup":"Payroll Location Setup","system-configuration-setup":"System Configuration Setup","daily-schedule-setup":"Daily Schedule Setup","rest-day-setup":"Rest Day Setup","workshift-setup":"Workshift Setup","unpaid-lunch-deduction-bracket-setup":"Unpaid Lunch Deduction Bracket Setup","bracket-code-setup":"Bracket Code Setup","tardiness-undertime-accumulation-table-setup":"Tardiness Undertime Accumulation Table Setup","area-setup":"Area Setup","branch-setup":"Branch Setup","department-setup":"Department Setup","division-setup":"Division Setup","employee-designation-setup":"Employee Designation Setup","employee-status-setup":"Employee Status Setup","group-setup":"Group Setup","job-level-setup":"Job Level Setup","location-setup":"Location Setup","pay-house-setup":"Pay House Setup","online-approval-setup":"Online Approval Setup","section-setup":"Section Setup","unit-setup":"Unit Setup","create-new-database":"Create New Database","email-configuration":"Email Configuration","audit-trail":"Audit Trail","export-nav":"Export NAV","export-payroll-data":"Export Payroll Data","payroll-dtr-allowance":"Payroll DTR Allowance"}[t]||t}function UQ({onLogout:t}){const[s,r]=o.useState("home"),n=["workshift-variable","import-workshift-variable","import-adjustment","import-device-code","import-employee-masterfile","overtime-application","import-overtime-application","leave-application","import-leave-application","logs-from-device-v2","import-logs-from-device-v2","update-raw-data","update-rawdata-import","raw-data-ot-group","rawdata-ot-gap","rawdata-on-straight-duty","2-shifts-rawdata","raw-data","process","2-shifts-payroll","process-data","process-2-shifts-payroll","processed-data","daily-time-record-monitoring","timekeep-group","timekeep-group-setup","tks-group-setup","tks-group-setup-definition","company-information","calendar-setup","holiday-ot-rates-setup","overtime-setup","employee-master-file","employee-timekeep-configuration","allowance-bracket-code-setup","allowance-bracketing-setup","allowance-per-classification-setup","classification-setup","earning-setup","day-type-setup","ams-database-configuration-setup","borrowed-device-name","coordinates-setup","device-type-setup","dtr-flag-setup","dtr-log-fields-setup","sdk-list-setup","mysql-database-configuration-setup","equivalent-hours-deduction-setup","group-schedule-setup","help-setup","leave-type-setup","additional-ot-hours-per-week","regular-overtime-setup","rest-day-overtime-setup","payroll-location-setup","system-configuration-setup","daily-schedule-setup","rest-day-setup","workshift-setup","unpaid-lunch-deduction-bracket-setup","bracket-code-setup","tardiness-undertime-accumulation-table-setup","area-setup","branch-setup","department-setup","division-setup","employee-designation-setup","employee-status-setup","group-setup","job-level-setup","location-setup","pay-house-setup","online-approval-setup","section-setup","unit-setup","2-shifts-employee-timekeep-config","overtime-application-2-shifts","workshift-variable-2-shifts","logs-from-device-2-shifts","update-status","update-employee-overtime-application","update-employee-workshift","update-employee-leave-application","update-employee-pay-house","update-employee-classification","update-batch-rest-day","delete-employee-transactions","update-rawdata-online","update-daytype-rawdata","update-workshift-rawdata","delete-incomplete-logs","delete-rawdata","unpost-transaction","additional-hours-per-week","apply-ot-allowances","apply-break-overbreak","update-allowance-per-bracket","update-gl-code-utility","update-sss-notification","process-overtime-24hours","post-processed-timekeeping","update-time-flag-breaks","unpaid-lunch-deduction","update-flexi-break","deduct-tardiness-to-overtime"].includes(s);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-lime-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"})]}),e.jsx(PP,{onLogout:t,activeSection:s,setActiveSection:r}),e.jsx(HQ,{activeSection:s}),!n&&e.jsx(Qt,{})]})}const WQ="128bl3$$1ng$",GQ="bl3$$1ng$128";let gm=null;function $Q(){if(gm)return gm;const t=za.enc.Utf16LE.parse(GQ),s=za.PBKDF2(WQ,t,{keySize:12,iterations:1e3,hasher:za.algo.SHA1});return gm={iv:za.lib.WordArray.create(s.words.slice(0,4)),key:za.lib.WordArray.create(s.words.slice(4,12))},gm}function Cy(t){if(!t)return"";try{const{key:s,iv:r}=$Q(),a=za.enc.Utf16LE.parse(t);return za.AES.encrypt(a,s,{iv:r,mode:za.mode.CBC,padding:za.pad.Pkcs7}).toString()}catch(s){return console.error("Encryption Error:",s),""}}function zQ({onLogin:t,onForgotPassword:s}){const[r,a]=o.useState(""),[n,l]=o.useState(""),[i,d]=o.useState("DEMO COMPANY INC"),[x,h]=o.useState(!1),[m,b]=o.useState(!1),[f,N]=o.useState(""),p=async g=>{g.preventDefault(),N(""),b(!0);try{const y=Cy(r),C=Cy(n),j=Cy(i);console.log(y,C,j);const S=await ae.post("UserLogin/login",{username:y,password:C,company:j,windowsAuth:x});S.status===200&&(S.data.token&&(localStorage.setItem("authToken",S.data.token),localStorage.setItem("loginTimestamp",new Date().getTime().toString())),S.data&&localStorage.setItem("loginPayload",JSON.stringify(S.data)),S.data.user&&localStorage.setItem("userData",JSON.stringify(S.data.user)),await Q.fire({icon:"success",title:"Login Successful",text:"Welcome back!",timer:2e3,showConfirmButton:!1}),t())}catch(y){v(y)}finally{b(!1)}},v=async g=>{const y=g.response?.status,C=g.response?.data?.message||g.message||"Login failed. Please try again.";N(C),y===401?await Q.fire({icon:"error",title:"Invalid Credentials",text:"Invalid username or password.",confirmButtonColor:"#dc2626"}):y===403?await Q.fire({icon:"warning",title:"Account Suspended",text:C,confirmButtonColor:"#dc2626"}):y===400?await Q.fire({icon:"warning",title:"Invalid Input",text:C,confirmButtonColor:"#dc2626"}):y>=500?await Q.fire({icon:"error",title:"Server Error",text:"Server error. Please try again later.",confirmButtonColor:"#dc2626"}):g.message==="Network Error"||!g.response?await Q.fire({icon:"error",title:"Connection Error",text:"Unable to connect to the server.",confirmButtonColor:"#dc2626"}):await Q.fire({icon:"error",title:"Login Failed",text:C,confirmButtonColor:"#dc2626"})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-lime-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"})]}),e.jsx("div",{className:"w-full bg-green-600 text-white py-3",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-white tracking-wide",children:"DEMO ACCOUNT"})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 relative z-10",children:e.jsxs("div",{className:"w-full max-w-md relative",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8 pt-16",children:[e.jsx("div",{className:"flex flex-col items-center mb-8",children:e.jsx("h2",{className:"text-gray-900 text-center",children:"Login"})}),e.jsxs("form",{onSubmit:p,className:"space-y-5",children:[f&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-700 text-sm",children:f})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(bp,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:r,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"Username"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(wF,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",value:n,onChange:g=>l(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"Password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-2",style:{fontSize:"0.875rem"},children:"Company Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(er,{className:"h-5 w-5 text-gray-400"})}),e.jsxs("select",{value:i,onChange:g=>d(g.target.value),className:"w-full pl-10 pr-10 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer text-gray-700",children:[e.jsx("option",{value:"DEMO COMPANY INC",children:"DEMO COMPANY INC"}),e.jsx("option",{value:"LIFEBANK MICROFINANCE FOUNDATION INC",children:"LIFEBANK MICROFINANCE FOUNDATION INC"}),e.jsx("option",{value:"ACME Corporation",children:"ACME Corporation"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex items-center pt-2",children:[e.jsx("input",{type:"checkbox",id:"windowsAuth",checked:x,onChange:g=>h(g.target.checked),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsx("label",{htmlFor:"windowsAuth",className:"ml-3 text-gray-700 cursor-pointer select-none",children:"Windows Authentication"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-md hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 uppercase tracking-wider disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-red-500 disabled:hover:to-red-600 disabled:hover:shadow-lg disabled:transform-none",children:m?"Logging in...":"Log in"}),e.jsx("button",{type:"button",onClick:s,disabled:m,className:"text-blue-600 hover:text-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Forgot Password?"})]})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-gray-500",style:{fontSize:"0.875rem"},children:"v7.3  Secure Login"})})]})}),e.jsx("div",{className:"bg-green-700 text-white px-6 py-4 relative z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto text-center",children:e.jsx("p",{className:"text-white",style:{fontSize:"0.875rem"},children:" 128 Tech Consulting Inc. 2025. All Rights Reserved."})})}),e.jsx("style",{children:`
        @keyframes blob {
          0%   { transform: translate(0px, 0px) scale(1); }
          33%  { transform: translate(30px, -50px) scale(1.1); }
          66%  { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
      `})]})}const VQ="/TKS_128_TEST/assets/61938a0d79b7addf7705f197066d189cda2ff9a9-C5CCugB1.png";function YQ({onBack:t}){const[s,r]=o.useState(""),[a,n]=o.useState(!1),l=i=>{i.preventDefault(),n(!0)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsx("img",{src:VQ,alt:"LifeBank Foundation",className:"h-12 object-contain"})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 shadow-md",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-white/95",children:"LIFEBANK MICROFINANCE FOUNDATION, INC."})})}),e.jsxs("div",{className:"flex-1 flex items-center justify-center p-6",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 right-10 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute bottom-20 left-10 w-96 h-96 bg-cyan-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"})]}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(zl,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-gray-900 mb-2",children:"Check Your Email"}),e.jsx("p",{className:"text-gray-600",children:"If an account exists with the provided email or username, you will receive password reset instructions shortly."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-800",style:{fontSize:"0.875rem"},children:[e.jsx("strong",{children:"Note:"})," The email may take a few minutes to arrive. Please check your spam folder if you don't see it in your inbox."]})}),e.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40",children:"Back to Login"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>n(!1),className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Didn't receive the email? Try again"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-gray-600",children:"Enter your email address or username and we'll send you instructions to reset your password."})]}),e.jsxs("form",{onSubmit:l,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email or Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(gC,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"email",value:s,onChange:i=>r(i.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email or username",required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transform hover:-translate-y-0.5",children:"Send Reset Instructions"}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(vA,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Login"})]})})]})]})}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-gray-500",style:{fontSize:"0.875rem"},children:"v7.3  Secure Login"})})]})]}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function KQ(){const[t,s]=o.useState(!1),[r,a]=o.useState(!1),[n,l]=o.useState(!0);return o.useEffect(()=>{localStorage.getItem("authToken")&&s(!0),l(!1)},[]),n?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-lime-200 via-green-400 to-lime-200 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Loading..."})]})}):t?e.jsx(UQ,{onLogout:()=>s(!1)}):r?e.jsx(YQ,{onBack:()=>a(!1)}):e.jsx(zQ,{onLogin:()=>s(!0),onForgotPassword:()=>a(!0)})}XD.createRoot(document.getElementById("root")).render(e.jsx(KQ,{}));
