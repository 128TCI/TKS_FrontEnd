function h6(t,a){for(var s=0;s<a.length;s++){const r=a[s];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(r,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function m6(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var a=t.default;if(typeof a=="function"){var s=function r(){return this instanceof r?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};s.prototype=a.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ry={exports:{}},Dx={},ny={exports:{}},ga={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kj;function p6(){if(kj)return ga;kj=1;var t=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),i=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=b&&Y[b]||Y["@@iterator"],typeof Y=="function"?Y:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,v={};function f(Y,E,P){this.props=Y,this.context=E,this.refs=v,this.updater=P||w}f.prototype.isReactComponent={},f.prototype.setState=function(Y,E){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,E,"setState")},f.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function y(){}y.prototype=f.prototype;function N(Y,E,P){this.props=Y,this.context=E,this.refs=v,this.updater=P||w}var C=N.prototype=new y;C.constructor=N,p(C,f.prototype),C.isPureReactComponent=!0;var S=Array.isArray,I=Object.prototype.hasOwnProperty,k={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function F(Y,E,P){var V,D={},R=null,ee=null;if(E!=null)for(V in E.ref!==void 0&&(ee=E.ref),E.key!==void 0&&(R=""+E.key),E)I.call(E,V)&&!A.hasOwnProperty(V)&&(D[V]=E[V]);var Se=arguments.length-2;if(Se===1)D.children=P;else if(1<Se){for(var ue=Array(Se),oe=0;oe<Se;oe++)ue[oe]=arguments[oe+2];D.children=ue}if(Y&&Y.defaultProps)for(V in Se=Y.defaultProps,Se)D[V]===void 0&&(D[V]=Se[V]);return{$$typeof:t,type:Y,key:R,ref:ee,props:D,_owner:k.current}}function O(Y,E){return{$$typeof:t,type:Y.type,key:E,ref:Y.ref,props:Y.props,_owner:Y._owner}}function M(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function U(Y){var E={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(P){return E[P]})}var L=/\/+/g;function G(Y,E){return typeof Y=="object"&&Y!==null&&Y.key!=null?U(""+Y.key):E.toString(36)}function re(Y,E,P,V,D){var R=typeof Y;(R==="undefined"||R==="boolean")&&(Y=null);var ee=!1;if(Y===null)ee=!0;else switch(R){case"string":case"number":ee=!0;break;case"object":switch(Y.$$typeof){case t:case a:ee=!0}}if(ee)return ee=Y,D=D(ee),Y=V===""?"."+G(ee,0):V,S(D)?(P="",Y!=null&&(P=Y.replace(L,"$&/")+"/"),re(D,E,P,"",function(oe){return oe})):D!=null&&(M(D)&&(D=O(D,P+(!D.key||ee&&ee.key===D.key?"":(""+D.key).replace(L,"$&/")+"/")+Y)),E.push(D)),1;if(ee=0,V=V===""?".":V+":",S(Y))for(var Se=0;Se<Y.length;Se++){R=Y[Se];var ue=V+G(R,Se);ee+=re(R,E,P,ue,D)}else if(ue=g(Y),typeof ue=="function")for(Y=ue.call(Y),Se=0;!(R=Y.next()).done;)R=R.value,ue=V+G(R,Se++),ee+=re(R,E,P,ue,D);else if(R==="object")throw E=String(Y),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.");return ee}function ye(Y,E,P){if(Y==null)return Y;var V=[],D=0;return re(Y,V,"","",function(R){return E.call(P,R,D++)}),V}function K(Y){if(Y._status===-1){var E=Y._result;E=E(),E.then(function(P){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=P)},function(P){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=P)}),Y._status===-1&&(Y._status=0,Y._result=E)}if(Y._status===1)return Y._result.default;throw Y._result}var ne={current:null},H={transition:null},se={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:H,ReactCurrentOwner:k};function we(){throw Error("act(...) is not supported in production builds of React.")}return ga.Children={map:ye,forEach:function(Y,E,P){ye(Y,function(){E.apply(this,arguments)},P)},count:function(Y){var E=0;return ye(Y,function(){E++}),E},toArray:function(Y){return ye(Y,function(E){return E})||[]},only:function(Y){if(!M(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},ga.Component=f,ga.Fragment=s,ga.Profiler=n,ga.PureComponent=N,ga.StrictMode=r,ga.Suspense=u,ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,ga.act=we,ga.cloneElement=function(Y,E,P){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var V=p({},Y.props),D=Y.key,R=Y.ref,ee=Y._owner;if(E!=null){if(E.ref!==void 0&&(R=E.ref,ee=k.current),E.key!==void 0&&(D=""+E.key),Y.type&&Y.type.defaultProps)var Se=Y.type.defaultProps;for(ue in E)I.call(E,ue)&&!A.hasOwnProperty(ue)&&(V[ue]=E[ue]===void 0&&Se!==void 0?Se[ue]:E[ue])}var ue=arguments.length-2;if(ue===1)V.children=P;else if(1<ue){Se=Array(ue);for(var oe=0;oe<ue;oe++)Se[oe]=arguments[oe+2];V.children=Se}return{$$typeof:t,type:Y.type,key:D,ref:R,props:V,_owner:ee}},ga.createContext=function(Y){return Y={$$typeof:i,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:l,_context:Y},Y.Consumer=Y},ga.createElement=F,ga.createFactory=function(Y){var E=F.bind(null,Y);return E.type=Y,E},ga.createRef=function(){return{current:null}},ga.forwardRef=function(Y){return{$$typeof:c,render:Y}},ga.isValidElement=M,ga.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:K}},ga.memo=function(Y,E){return{$$typeof:h,type:Y,compare:E===void 0?null:E}},ga.startTransition=function(Y){var E=H.transition;H.transition={};try{Y()}finally{H.transition=E}},ga.unstable_act=we,ga.useCallback=function(Y,E){return ne.current.useCallback(Y,E)},ga.useContext=function(Y){return ne.current.useContext(Y)},ga.useDebugValue=function(){},ga.useDeferredValue=function(Y){return ne.current.useDeferredValue(Y)},ga.useEffect=function(Y,E){return ne.current.useEffect(Y,E)},ga.useId=function(){return ne.current.useId()},ga.useImperativeHandle=function(Y,E,P){return ne.current.useImperativeHandle(Y,E,P)},ga.useInsertionEffect=function(Y,E){return ne.current.useInsertionEffect(Y,E)},ga.useLayoutEffect=function(Y,E){return ne.current.useLayoutEffect(Y,E)},ga.useMemo=function(Y,E){return ne.current.useMemo(Y,E)},ga.useReducer=function(Y,E,P){return ne.current.useReducer(Y,E,P)},ga.useRef=function(Y){return ne.current.useRef(Y)},ga.useState=function(Y){return ne.current.useState(Y)},ga.useSyncExternalStore=function(Y,E,P){return ne.current.useSyncExternalStore(Y,E,P)},ga.useTransition=function(){return ne.current.useTransition()},ga.version="18.3.1",ga}var Dj;function gv(){return Dj||(Dj=1,ny.exports=p6()),ny.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ej;function g6(){if(Ej)return Dx;Ej=1;var t=gv(),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function i(c,u,h){var m,b={},g=null,w=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(w=u.ref);for(m in u)r.call(u,m)&&!l.hasOwnProperty(m)&&(b[m]=u[m]);if(c&&c.defaultProps)for(m in u=c.defaultProps,u)b[m]===void 0&&(b[m]=u[m]);return{$$typeof:a,type:c,key:g,ref:w,props:b,_owner:n.current}}return Dx.Fragment=s,Dx.jsx=i,Dx.jsxs=i,Dx}var Tj;function f6(){return Tj||(Tj=1,ry.exports=g6()),ry.exports}var e=f6(),wm={},oy={exports:{}},Ko={},ly={exports:{}},iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function y6(){return Aj||(Aj=1,(function(t){function a(H,se){var we=H.length;H.push(se);e:for(;0<we;){var Y=we-1>>>1,E=H[Y];if(0<n(E,se))H[Y]=se,H[we]=E,we=Y;else break e}}function s(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var se=H[0],we=H.pop();if(we!==se){H[0]=we;e:for(var Y=0,E=H.length,P=E>>>1;Y<P;){var V=2*(Y+1)-1,D=H[V],R=V+1,ee=H[R];if(0>n(D,we))R<E&&0>n(ee,D)?(H[Y]=ee,H[R]=we,Y=R):(H[Y]=D,H[V]=we,Y=V);else if(R<E&&0>n(ee,we))H[Y]=ee,H[R]=we,Y=R;else break e}}return se}function n(H,se){var we=H.sortIndex-se.sortIndex;return we!==0?we:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,c=i.now();t.unstable_now=function(){return i.now()-c}}var u=[],h=[],m=1,b=null,g=3,w=!1,p=!1,v=!1,f=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var se=s(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=H)r(h),se.sortIndex=se.expirationTime,a(u,se);else break;se=s(h)}}function S(H){if(v=!1,C(H),!p)if(s(u)!==null)p=!0,K(I);else{var se=s(h);se!==null&&ne(S,se.startTime-H)}}function I(H,se){p=!1,v&&(v=!1,y(F),F=-1),w=!0;var we=g;try{for(C(se),b=s(u);b!==null&&(!(b.expirationTime>se)||H&&!U());){var Y=b.callback;if(typeof Y=="function"){b.callback=null,g=b.priorityLevel;var E=Y(b.expirationTime<=se);se=t.unstable_now(),typeof E=="function"?b.callback=E:b===s(u)&&r(u),C(se)}else r(u);b=s(u)}if(b!==null)var P=!0;else{var V=s(h);V!==null&&ne(S,V.startTime-se),P=!1}return P}finally{b=null,g=we,w=!1}}var k=!1,A=null,F=-1,O=5,M=-1;function U(){return!(t.unstable_now()-M<O)}function L(){if(A!==null){var H=t.unstable_now();M=H;var se=!0;try{se=A(!0,H)}finally{se?G():(k=!1,A=null)}}else k=!1}var G;if(typeof N=="function")G=function(){N(L)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ye=re.port2;re.port1.onmessage=L,G=function(){ye.postMessage(null)}}else G=function(){f(L,0)};function K(H){A=H,k||(k=!0,G())}function ne(H,se){F=f(function(){H(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){p||w||(p=!0,K(I))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return s(u)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var we=g;g=se;try{return H()}finally{g=we}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var we=g;g=H;try{return se()}finally{g=we}},t.unstable_scheduleCallback=function(H,se,we){var Y=t.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Y+we:Y):we=Y,H){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=we+E,H={id:m++,callback:se,priorityLevel:H,startTime:we,expirationTime:E,sortIndex:-1},we>Y?(H.sortIndex=we,a(h,H),s(u)===null&&H===s(h)&&(v?(y(F),F=-1):v=!0,ne(S,we-Y))):(H.sortIndex=E,a(u,H),p||w||(p=!0,K(I))),H},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(H){var se=g;return function(){var we=g;g=se;try{return H.apply(this,arguments)}finally{g=we}}}})(iy)),iy}var Fj;function b6(){return Fj||(Fj=1,ly.exports=y6()),ly.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pj;function v6(){if(Pj)return Ko;Pj=1;var t=gv(),a=b6();function s(d){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+d,j=1;j<arguments.length;j++)x+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+d+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,n={};function l(d,x){i(d,x),i(d+"Capture",x)}function i(d,x){for(n[d]=x,d=0;d<x.length;d++)r.add(x[d])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},b={};function g(d){return u.call(b,d)?!0:u.call(m,d)?!1:h.test(d)?b[d]=!0:(m[d]=!0,!1)}function w(d,x,j,T){if(j!==null&&j.type===0)return!1;switch(typeof x){case"function":case"symbol":return!0;case"boolean":return T?!1:j!==null?!j.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function p(d,x,j,T){if(x===null||typeof x>"u"||w(d,x,j,T))return!0;if(T)return!1;if(j!==null)switch(j.type){case 3:return!x;case 4:return x===!1;case 5:return isNaN(x);case 6:return isNaN(x)||1>x}return!1}function v(d,x,j,T,X,fe,ze){this.acceptsBooleans=x===2||x===3||x===4,this.attributeName=T,this.attributeNamespace=X,this.mustUseProperty=j,this.propertyName=d,this.type=x,this.sanitizeURL=fe,this.removeEmptyString=ze}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){f[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var x=d[0];f[x]=new v(x,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){f[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){f[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){f[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){f[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){f[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){f[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){f[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var x=d.replace(y,N);f[x]=new v(x,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var x=d.replace(y,N);f[x]=new v(x,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var x=d.replace(y,N);f[x]=new v(x,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){f[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),f.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){f[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function C(d,x,j,T){var X=f.hasOwnProperty(x)?f[x]:null;(X!==null?X.type!==0:T||!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(p(x,j,X,T)&&(j=null),T||X===null?g(x)&&(j===null?d.removeAttribute(x):d.setAttribute(x,""+j)):X.mustUseProperty?d[X.propertyName]=j===null?X.type===3?!1:"":j:(x=X.attributeName,T=X.attributeNamespace,j===null?d.removeAttribute(x):(X=X.type,j=X===3||X===4&&j===!0?"":""+j,T?d.setAttributeNS(T,x,j):d.setAttribute(x,j))))}var S=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),k=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),H=Symbol.iterator;function se(d){return d===null||typeof d!="object"?null:(d=H&&d[H]||d["@@iterator"],typeof d=="function"?d:null)}var we=Object.assign,Y;function E(d){if(Y===void 0)try{throw Error()}catch(j){var x=j.stack.trim().match(/\n( *(at )?)/);Y=x&&x[1]||""}return`
`+Y+d}var P=!1;function V(d,x){if(!d||P)return"";P=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Yt){var T=Yt}Reflect.construct(d,[],x)}else{try{x.call()}catch(Yt){T=Yt}d.call(x.prototype)}else{try{throw Error()}catch(Yt){T=Yt}d()}}catch(Yt){if(Yt&&T&&typeof Yt.stack=="string"){for(var X=Yt.stack.split(`
`),fe=T.stack.split(`
`),ze=X.length-1,mt=fe.length-1;1<=ze&&0<=mt&&X[ze]!==fe[mt];)mt--;for(;1<=ze&&0<=mt;ze--,mt--)if(X[ze]!==fe[mt]){if(ze!==1||mt!==1)do if(ze--,mt--,0>mt||X[ze]!==fe[mt]){var Ct=`
`+X[ze].replace(" at new "," at ");return d.displayName&&Ct.includes("<anonymous>")&&(Ct=Ct.replace("<anonymous>",d.displayName)),Ct}while(1<=ze&&0<=mt);break}}}finally{P=!1,Error.prepareStackTrace=j}return(d=d?d.displayName||d.name:"")?E(d):""}function D(d){switch(d.tag){case 5:return E(d.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 2:case 15:return d=V(d.type,!1),d;case 11:return d=V(d.type.render,!1),d;case 1:return d=V(d.type,!0),d;default:return""}}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case A:return"Fragment";case k:return"Portal";case O:return"Profiler";case F:return"StrictMode";case G:return"Suspense";case re:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case U:return(d.displayName||"Context")+".Consumer";case M:return(d._context.displayName||"Context")+".Provider";case L:var x=d.render;return d=d.displayName,d||(d=x.displayName||x.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case ye:return x=d.displayName||null,x!==null?x:R(d.type)||"Memo";case K:x=d._payload,d=d._init;try{return R(d(x))}catch{}}return null}function ee(d){var x=d.type;switch(d.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=x.render,d=d.displayName||d.name||"",x.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(x);case 8:return x===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function Se(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ue(d){var x=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(x==="checkbox"||x==="radio")}function oe(d){var x=ue(d)?"checked":"value",j=Object.getOwnPropertyDescriptor(d.constructor.prototype,x),T=""+d[x];if(!d.hasOwnProperty(x)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var X=j.get,fe=j.set;return Object.defineProperty(d,x,{configurable:!0,get:function(){return X.call(this)},set:function(ze){T=""+ze,fe.call(this,ze)}}),Object.defineProperty(d,x,{enumerable:j.enumerable}),{getValue:function(){return T},setValue:function(ze){T=""+ze},stopTracking:function(){d._valueTracker=null,delete d[x]}}}}function le(d){d._valueTracker||(d._valueTracker=oe(d))}function Q(d){if(!d)return!1;var x=d._valueTracker;if(!x)return!0;var j=x.getValue(),T="";return d&&(T=ue(d)?d.checked?"true":"false":d.value),d=T,d!==j?(x.setValue(d),!0):!1}function ve(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Ce(d,x){var j=x.checked;return we({},x,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??d._wrapperState.initialChecked})}function $e(d,x){var j=x.defaultValue==null?"":x.defaultValue,T=x.checked!=null?x.checked:x.defaultChecked;j=Se(x.value!=null?x.value:j),d._wrapperState={initialChecked:T,initialValue:j,controlled:x.type==="checkbox"||x.type==="radio"?x.checked!=null:x.value!=null}}function Ae(d,x){x=x.checked,x!=null&&C(d,"checked",x,!1)}function We(d,x){Ae(d,x);var j=Se(x.value),T=x.type;if(j!=null)T==="number"?(j===0&&d.value===""||d.value!=j)&&(d.value=""+j):d.value!==""+j&&(d.value=""+j);else if(T==="submit"||T==="reset"){d.removeAttribute("value");return}x.hasOwnProperty("value")?et(d,x.type,j):x.hasOwnProperty("defaultValue")&&et(d,x.type,Se(x.defaultValue)),x.checked==null&&x.defaultChecked!=null&&(d.defaultChecked=!!x.defaultChecked)}function Re(d,x,j){if(x.hasOwnProperty("value")||x.hasOwnProperty("defaultValue")){var T=x.type;if(!(T!=="submit"&&T!=="reset"||x.value!==void 0&&x.value!==null))return;x=""+d._wrapperState.initialValue,j||x===d.value||(d.value=x),d.defaultValue=x}j=d.name,j!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,j!==""&&(d.name=j)}function et(d,x,j){(x!=="number"||ve(d.ownerDocument)!==d)&&(j==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+j&&(d.defaultValue=""+j))}var B=Array.isArray;function q(d,x,j,T){if(d=d.options,x){x={};for(var X=0;X<j.length;X++)x["$"+j[X]]=!0;for(j=0;j<d.length;j++)X=x.hasOwnProperty("$"+d[j].value),d[j].selected!==X&&(d[j].selected=X),X&&T&&(d[j].defaultSelected=!0)}else{for(j=""+Se(j),x=null,X=0;X<d.length;X++){if(d[X].value===j){d[X].selected=!0,T&&(d[X].defaultSelected=!0);return}x!==null||d[X].disabled||(x=d[X])}x!==null&&(x.selected=!0)}}function Z(d,x){if(x.dangerouslySetInnerHTML!=null)throw Error(s(91));return we({},x,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function je(d,x){var j=x.value;if(j==null){if(j=x.children,x=x.defaultValue,j!=null){if(x!=null)throw Error(s(92));if(B(j)){if(1<j.length)throw Error(s(93));j=j[0]}x=j}x==null&&(x=""),j=x}d._wrapperState={initialValue:Se(j)}}function De(d,x){var j=Se(x.value),T=Se(x.defaultValue);j!=null&&(j=""+j,j!==d.value&&(d.value=j),x.defaultValue==null&&d.defaultValue!==j&&(d.defaultValue=j)),T!=null&&(d.defaultValue=""+T)}function Qe(d){var x=d.textContent;x===d._wrapperState.initialValue&&x!==""&&x!==null&&(d.value=x)}function qe(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ye(d,x){return d==null||d==="http://www.w3.org/1999/xhtml"?qe(x):d==="http://www.w3.org/2000/svg"&&x==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var ht,St=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(x,j,T,X){MSApp.execUnsafeLocalFunction(function(){return d(x,j,T,X)})}:d})(function(d,x){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=x;else{for(ht=ht||document.createElement("div"),ht.innerHTML="<svg>"+x.valueOf().toString()+"</svg>",x=ht.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;x.firstChild;)d.appendChild(x.firstChild)}});function dt(d,x){if(x){var j=d.firstChild;if(j&&j===d.lastChild&&j.nodeType===3){j.nodeValue=x;return}}d.textContent=x}var Et={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Te=["Webkit","ms","Moz","O"];Object.keys(Et).forEach(function(d){Te.forEach(function(x){x=x+d.charAt(0).toUpperCase()+d.substring(1),Et[x]=Et[d]})});function Ee(d,x,j){return x==null||typeof x=="boolean"||x===""?"":j||typeof x!="number"||x===0||Et.hasOwnProperty(d)&&Et[d]?(""+x).trim():x+"px"}function pe(d,x){d=d.style;for(var j in x)if(x.hasOwnProperty(j)){var T=j.indexOf("--")===0,X=Ee(j,x[j],T);j==="float"&&(j="cssFloat"),T?d.setProperty(j,X):d[j]=X}}var Je=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(d,x){if(x){if(Je[d]&&(x.children!=null||x.dangerouslySetInnerHTML!=null))throw Error(s(137,d));if(x.dangerouslySetInnerHTML!=null){if(x.children!=null)throw Error(s(60));if(typeof x.dangerouslySetInnerHTML!="object"||!("__html"in x.dangerouslySetInnerHTML))throw Error(s(61))}if(x.style!=null&&typeof x.style!="object")throw Error(s(62))}}function Mt(d,x){if(d.indexOf("-")===-1)return typeof x.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=null;function $t(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var lt=null,bt=null,Nt=null;function wt(d){if(d=Lt(d)){if(typeof lt!="function")throw Error(s(280));var x=d.stateNode;x&&(x=Sr(x),lt(d.stateNode,d.type,x))}}function It(d){bt?Nt?Nt.push(d):Nt=[d]:bt=d}function Dt(){if(bt){var d=bt,x=Nt;if(Nt=bt=null,wt(d),x)for(d=0;d<x.length;d++)wt(x[d])}}function Ke(d,x){return d(x)}function tt(){}var Le=!1;function He(d,x,j){if(Le)return d(x,j);Le=!0;try{return Ke(d,x,j)}finally{Le=!1,(bt!==null||Nt!==null)&&(tt(),Dt())}}function ge(d,x){var j=d.stateNode;if(j===null)return null;var T=Sr(j);if(T===null)return null;j=T[x];e:switch(x){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(d=d.type,T=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!T;break e;default:d=!1}if(d)return null;if(j&&typeof j!="function")throw Error(s(231,x,typeof j));return j}var st=!1;if(c)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){st=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{st=!1}function Rt(d,x,j,T,X,fe,ze,mt,Ct){var Yt=Array.prototype.slice.call(arguments,3);try{x.apply(j,Yt)}catch(is){this.onError(is)}}var ft=!1,kt=null,he=!1,be=null,ie={onError:function(d){ft=!0,kt=d}};function de(d,x,j,T,X,fe,ze,mt,Ct){ft=!1,kt=null,Rt.apply(ie,arguments)}function J(d,x,j,T,X,fe,ze,mt,Ct){if(de.apply(this,arguments),ft){if(ft){var Yt=kt;ft=!1,kt=null}else throw Error(s(198));he||(he=!0,be=Yt)}}function _(d){var x=d,j=d;if(d.alternate)for(;x.return;)x=x.return;else{d=x;do x=d,(x.flags&4098)!==0&&(j=x.return),d=x.return;while(d)}return x.tag===3?j:null}function Fe(d){if(d.tag===13){var x=d.memoizedState;if(x===null&&(d=d.alternate,d!==null&&(x=d.memoizedState)),x!==null)return x.dehydrated}return null}function Oe(d){if(_(d)!==d)throw Error(s(188))}function ke(d){var x=d.alternate;if(!x){if(x=_(d),x===null)throw Error(s(188));return x!==d?null:d}for(var j=d,T=x;;){var X=j.return;if(X===null)break;var fe=X.alternate;if(fe===null){if(T=X.return,T!==null){j=T;continue}break}if(X.child===fe.child){for(fe=X.child;fe;){if(fe===j)return Oe(X),d;if(fe===T)return Oe(X),x;fe=fe.sibling}throw Error(s(188))}if(j.return!==T.return)j=X,T=fe;else{for(var ze=!1,mt=X.child;mt;){if(mt===j){ze=!0,j=X,T=fe;break}if(mt===T){ze=!0,T=X,j=fe;break}mt=mt.sibling}if(!ze){for(mt=fe.child;mt;){if(mt===j){ze=!0,j=fe,T=X;break}if(mt===T){ze=!0,T=fe,j=X;break}mt=mt.sibling}if(!ze)throw Error(s(189))}}if(j.alternate!==T)throw Error(s(190))}if(j.tag!==3)throw Error(s(188));return j.stateNode.current===j?d:x}function Ie(d){return d=ke(d),d!==null?te(d):null}function te(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var x=te(d);if(x!==null)return x;d=d.sibling}return null}var Pe=a.unstable_scheduleCallback,ae=a.unstable_cancelCallback,me=a.unstable_shouldYield,ce=a.unstable_requestPaint,Ge=a.unstable_now,yt=a.unstable_getCurrentPriorityLevel,Gt=a.unstable_ImmediatePriority,W=a.unstable_UserBlockingPriority,Be=a.unstable_NormalPriority,rt=a.unstable_LowPriority,ns=a.unstable_IdlePriority,ps=null,ct=null;function ss(d){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(ps,d,void 0,(d.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Kt,Jt=Math.log,vt=Math.LN2;function Kt(d){return d>>>=0,d===0?32:31-(Jt(d)/vt|0)|0}var jt=64,Vt=4194304;function cs(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function sa(d,x){var j=d.pendingLanes;if(j===0)return 0;var T=0,X=d.suspendedLanes,fe=d.pingedLanes,ze=j&268435455;if(ze!==0){var mt=ze&~X;mt!==0?T=cs(mt):(fe&=ze,fe!==0&&(T=cs(fe)))}else ze=j&~X,ze!==0?T=cs(ze):fe!==0&&(T=cs(fe));if(T===0)return 0;if(x!==0&&x!==T&&(x&X)===0&&(X=T&-T,fe=x&-x,X>=fe||X===16&&(fe&4194240)!==0))return x;if((T&4)!==0&&(T|=j&16),x=d.entangledLanes,x!==0)for(d=d.entanglements,x&=T;0<x;)j=31-Ft(x),X=1<<j,T|=d[j],x&=~X;return T}function ua(d,x){switch(d){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ka(d,x){for(var j=d.suspendedLanes,T=d.pingedLanes,X=d.expirationTimes,fe=d.pendingLanes;0<fe;){var ze=31-Ft(fe),mt=1<<ze,Ct=X[ze];Ct===-1?((mt&j)===0||(mt&T)!==0)&&(X[ze]=ua(mt,x)):Ct<=x&&(d.expiredLanes|=mt),fe&=~mt}}function Ea(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Ra(){var d=jt;return jt<<=1,(jt&4194240)===0&&(jt=64),d}function oa(d){for(var x=[],j=0;31>j;j++)x.push(d);return x}function xa(d,x,j){d.pendingLanes|=x,x!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,x=31-Ft(x),d[x]=j}function Ka(d,x){var j=d.pendingLanes&~x;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=x,d.mutableReadLanes&=x,d.entangledLanes&=x,x=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<j;){var X=31-Ft(j),fe=1<<X;x[X]=0,T[X]=-1,d[X]=-1,j&=~fe}}function Ha(d,x){var j=d.entangledLanes|=x;for(d=d.entanglements;j;){var T=31-Ft(j),X=1<<T;X&x|d[T]&x&&(d[T]|=x),j&=~X}}var Ws=0;function Ta(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var at,Qt,_s,Us,nr,Ma=!1,wa=[],ya=null,gt=null,bs=null,_e=new Map,nt=new Map,xs=[],Bs="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ue(d,x){switch(d){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":gt=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":_e.delete(x.pointerId);break;case"gotpointercapture":case"lostpointercapture":nt.delete(x.pointerId)}}function _t(d,x,j,T,X,fe){return d===null||d.nativeEvent!==fe?(d={blockedOn:x,domEventName:j,eventSystemFlags:T,nativeEvent:fe,targetContainers:[X]},x!==null&&(x=Lt(x),x!==null&&Qt(x)),d):(d.eventSystemFlags|=T,x=d.targetContainers,X!==null&&x.indexOf(X)===-1&&x.push(X),d)}function Ve(d,x,j,T,X){switch(x){case"focusin":return ya=_t(ya,d,x,j,T,X),!0;case"dragenter":return gt=_t(gt,d,x,j,T,X),!0;case"mouseover":return bs=_t(bs,d,x,j,T,X),!0;case"pointerover":var fe=X.pointerId;return _e.set(fe,_t(_e.get(fe)||null,d,x,j,T,X)),!0;case"gotpointercapture":return fe=X.pointerId,nt.set(fe,_t(nt.get(fe)||null,d,x,j,T,X)),!0}return!1}function ds(d){var x=At(d.target);if(x!==null){var j=_(x);if(j!==null){if(x=j.tag,x===13){if(x=Fe(j),x!==null){d.blockedOn=x,nr(d.priority,function(){_s(j)});return}}else if(x===3&&j.stateNode.current.memoizedState.isDehydrated){d.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ws(d){if(d.blockedOn!==null)return!1;for(var x=d.targetContainers;0<x.length;){var j=ba(d.domEventName,d.eventSystemFlags,x[0],d.nativeEvent);if(j===null){j=d.nativeEvent;var T=new j.constructor(j.type,j);Wt=T,j.target.dispatchEvent(T),Wt=null}else return x=Lt(j),x!==null&&Qt(x),d.blockedOn=j,!1;x.shift()}return!0}function ea(d,x,j){ws(d)&&j.delete(x)}function er(){Ma=!1,ya!==null&&ws(ya)&&(ya=null),gt!==null&&ws(gt)&&(gt=null),bs!==null&&ws(bs)&&(bs=null),_e.forEach(ea),nt.forEach(ea)}function qa(d,x){d.blockedOn===x&&(d.blockedOn=null,Ma||(Ma=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,er)))}function it(d){function x(X){return qa(X,d)}if(0<wa.length){qa(wa[0],d);for(var j=1;j<wa.length;j++){var T=wa[j];T.blockedOn===d&&(T.blockedOn=null)}}for(ya!==null&&qa(ya,d),gt!==null&&qa(gt,d),bs!==null&&qa(bs,d),_e.forEach(x),nt.forEach(x),j=0;j<xs.length;j++)T=xs[j],T.blockedOn===d&&(T.blockedOn=null);for(;0<xs.length&&(j=xs[0],j.blockedOn===null);)ds(j),j.blockedOn===null&&xs.shift()}var qt=S.ReactCurrentBatchConfig,or=!0;function Hr(d,x,j,T){var X=Ws,fe=qt.transition;qt.transition=null;try{Ws=1,jr(d,x,j,T)}finally{Ws=X,qt.transition=fe}}function Nr(d,x,j,T){var X=Ws,fe=qt.transition;qt.transition=null;try{Ws=4,jr(d,x,j,T)}finally{Ws=X,qt.transition=fe}}function jr(d,x,j,T){if(or){var X=ba(d,x,j,T);if(X===null)zc(d,x,T,Ya,j),Ue(d,T);else if(Ve(X,d,x,j,T))T.stopPropagation();else if(Ue(d,T),x&4&&-1<Bs.indexOf(d)){for(;X!==null;){var fe=Lt(X);if(fe!==null&&at(fe),fe=ba(d,x,j,T),fe===null&&zc(d,x,T,Ya,j),fe===X)break;X=fe}X!==null&&T.stopPropagation()}else zc(d,x,T,null,j)}}var Ya=null;function ba(d,x,j,T){if(Ya=null,d=$t(T),d=At(d),d!==null)if(x=_(d),x===null)d=null;else if(j=x.tag,j===13){if(d=Fe(x),d!==null)return d;d=null}else if(j===3){if(x.stateNode.current.memoizedState.isDehydrated)return x.tag===3?x.stateNode.containerInfo:null;d=null}else x!==d&&(d=null);return Ya=d,null}function br(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yt()){case Gt:return 1;case W:return 4;case Be:case rt:return 16;case ns:return 536870912;default:return 16}default:return 16}}var ut=null,Ts=null,aa=null;function cn(){if(aa)return aa;var d,x=Ts,j=x.length,T,X="value"in ut?ut.value:ut.textContent,fe=X.length;for(d=0;d<j&&x[d]===X[d];d++);var ze=j-d;for(T=1;T<=ze&&x[j-T]===X[fe-T];T++);return aa=X.slice(d,1<T?1-T:void 0)}function Cr(d){var x=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&x===13&&(d=13)):d=x,d===10&&(d=13),32<=d||d===13?d:0}function Ar(){return!0}function Fr(){return!1}function tr(d){function x(j,T,X,fe,ze){this._reactName=j,this._targetInst=X,this.type=T,this.nativeEvent=fe,this.target=ze,this.currentTarget=null;for(var mt in d)d.hasOwnProperty(mt)&&(j=d[mt],this[mt]=j?j(fe):fe[mt]);return this.isDefaultPrevented=(fe.defaultPrevented!=null?fe.defaultPrevented:fe.returnValue===!1)?Ar:Fr,this.isPropagationStopped=Fr,this}return we(x.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),x}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qn=tr(Zr),_n=we({},Zr,{view:0,detail:0}),dn=tr(_n),Ao,Yi,Fo,hi=we({},_n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Fo&&(Fo&&d.type==="mousemove"?(Ao=d.screenX-Fo.screenX,Yi=d.screenY-Fo.screenY):Yi=Ao=0,Fo=d),Ao)},movementY:function(d){return"movementY"in d?d.movementY:Yi}}),Ki=tr(hi),qi=we({},hi,{dataTransfer:0}),fd=tr(qi),bn=we({},_n,{relatedTarget:0}),Po=tr(bn),Fc=we({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pc=tr(Fc),yd=we({},Zr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),mi=tr(yd),bd=we({},Zr,{data:0}),pi=tr(bd),Ml={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ji(d){var x=this.nativeEvent;return x.getModifierState?x.getModifierState(d):(d=vd[d])?!!x[d]:!1}function Qi(){return Ji}var Ic=we({},_n,{key:function(d){if(d.key){var x=Ml[d.key]||d.key;if(x!=="Unidentified")return x}return d.type==="keypress"?(d=Cr(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Xi[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(d){return d.type==="keypress"?Cr(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Cr(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Mc=tr(Ic),Lc=we({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=tr(Lc),wd=we({},_n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),Ll=tr(wd),Zi=we({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_c=tr(Zi),Ol=we({},hi,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Nd=tr(Ol),Bc=[9,13,27,32],Xn=c&&"CompositionEvent"in window,Io=null;c&&"documentMode"in document&&(Io=document.documentMode);var rs=c&&"TextEvent"in window&&!Io,al=c&&(!Xn||Io&&8<Io&&11>=Io),cr=" ",gi=!1;function Rc(d,x){switch(d){case"keyup":return Bc.indexOf(x.keyCode)!==-1;case"keydown":return x.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Pr=!1;function ec(d,x){switch(d){case"compositionend":return Hc(x);case"keypress":return x.which!==32?null:(gi=!0,cr);case"textInput":return d=x.data,d===cr&&gi?null:d;default:return null}}function rl(d,x){if(Pr)return d==="compositionend"||!Xn&&Rc(d,x)?(d=cn(),aa=Ts=ut=null,Pr=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(x.ctrlKey||x.altKey||x.metaKey)||x.ctrlKey&&x.altKey){if(x.char&&1<x.char.length)return x.char;if(x.which)return String.fromCharCode(x.which)}return null;case"compositionend":return al&&x.locale!=="ko"?null:x.data;default:return null}}var go={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(d){var x=d&&d.nodeName&&d.nodeName.toLowerCase();return x==="input"?!!go[d.type]:x==="textarea"}function Lo(d,x,j,T){It(T),x=xl(x,"onChange"),0<x.length&&(j=new qn("onChange","change",null,j,T),d.push({event:j,listeners:x}))}var _l=null,nl=null;function tc(d){bo(d,0)}function Bl(d){var x=Ms(d);if(Q(x))return d}function Rl(d,x){if(d==="change")return x}var Ir=!1;if(c){var ol;if(c){var fi="oninput"in document;if(!fi){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),fi=typeof Oo.oninput=="function"}ol=fi}else ol=!1;Ir=ol&&(!document.documentMode||9<document.documentMode)}function Hl(){_l&&(_l.detachEvent("onpropertychange",jd),nl=_l=null)}function jd(d){if(d.propertyName==="value"&&Bl(nl)){var x=[];Lo(x,nl,d,$t(d)),He(tc,x)}}function sc(d,x,j){d==="focusin"?(Hl(),_l=x,nl=j,_l.attachEvent("onpropertychange",jd)):d==="focusout"&&Hl()}function Cd(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Bl(nl)}function Sd(d,x){if(d==="click")return Bl(x)}function kd(d,x){if(d==="input"||d==="change")return Bl(x)}function Dd(d,x){return d===x&&(d!==0||1/d===1/x)||d!==d&&x!==x}var vn=typeof Object.is=="function"?Object.is:Dd;function Ul(d,x){if(vn(d,x))return!0;if(typeof d!="object"||d===null||typeof x!="object"||x===null)return!1;var j=Object.keys(d),T=Object.keys(x);if(j.length!==T.length)return!1;for(T=0;T<j.length;T++){var X=j[T];if(!u.call(x,X)||!vn(d[X],x[X]))return!1}return!0}function Uc(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function $c(d,x){var j=Uc(d);d=0;for(var T;j;){if(j.nodeType===3){if(T=d+j.textContent.length,d<=x&&T>=x)return{node:j,offset:x-d};d=T}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=Uc(j)}}function pa(d,x){return d&&x?d===x?!0:d&&d.nodeType===3?!1:x&&x.nodeType===3?pa(d,x.parentNode):"contains"in d?d.contains(x):d.compareDocumentPosition?!!(d.compareDocumentPosition(x)&16):!1:!1}function ll(){for(var d=window,x=ve();x instanceof d.HTMLIFrameElement;){try{var j=typeof x.contentWindow.location.href=="string"}catch{j=!1}if(j)d=x.contentWindow;else break;x=ve(d.document)}return x}function yi(d){var x=d&&d.nodeName&&d.nodeName.toLowerCase();return x&&(x==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||x==="textarea"||d.contentEditable==="true")}function fo(d){var x=ll(),j=d.focusedElem,T=d.selectionRange;if(x!==j&&j&&j.ownerDocument&&pa(j.ownerDocument.documentElement,j)){if(T!==null&&yi(j)){if(x=T.start,d=T.end,d===void 0&&(d=x),"selectionStart"in j)j.selectionStart=x,j.selectionEnd=Math.min(d,j.value.length);else if(d=(x=j.ownerDocument||document)&&x.defaultView||window,d.getSelection){d=d.getSelection();var X=j.textContent.length,fe=Math.min(T.start,X);T=T.end===void 0?fe:Math.min(T.end,X),!d.extend&&fe>T&&(X=T,T=fe,fe=X),X=$c(j,fe);var ze=$c(j,T);X&&ze&&(d.rangeCount!==1||d.anchorNode!==X.node||d.anchorOffset!==X.offset||d.focusNode!==ze.node||d.focusOffset!==ze.offset)&&(x=x.createRange(),x.setStart(X.node,X.offset),d.removeAllRanges(),fe>T?(d.addRange(x),d.extend(ze.node,ze.offset)):(x.setEnd(ze.node,ze.offset),d.addRange(x)))}}for(x=[],d=j;d=d.parentNode;)d.nodeType===1&&x.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<x.length;j++)d=x[j],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var ac=c&&"documentMode"in document&&11>=document.documentMode,Ur=null,$l=null,Wl=null,$r=!1;function Jn(d,x,j){var T=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;$r||Ur==null||Ur!==ve(T)||(T=Ur,"selectionStart"in T&&yi(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Wl&&Ul(Wl,T)||(Wl=T,T=xl($l,"onSelect"),0<T.length&&(x=new qn("onSelect","select",null,x,j),d.push({event:x,listeners:T}),x.target=Ur)))}function il(d,x){var j={};return j[d.toLowerCase()]=x.toLowerCase(),j["Webkit"+d]="webkit"+x,j["Moz"+d]="moz"+x,j}var un={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},bi={},Wc={};c&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);function vi(d){if(bi[d])return bi[d];if(!un[d])return d;var x=un[d],j;for(j in x)if(x.hasOwnProperty(j)&&j in Wc)return bi[d]=x[j];return d}var wi=vi("animationend"),cl=vi("animationiteration"),_o=vi("animationstart"),Ni=vi("transitionend"),yo=new Map,Gl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(d,x){yo.set(d,x),l(x,[d])}for(var Wr=0;Wr<Gl.length;Wr++){var dl=Gl[Wr],ji=dl.toLowerCase(),zl=dl[0].toUpperCase()+dl.slice(1);en(ji,"on"+zl)}en(wi,"onAnimationEnd"),en(cl,"onAnimationIteration"),en(_o,"onAnimationStart"),en("dblclick","onDoubleClick"),en("focusin","onFocus"),en("focusout","onBlur"),en(Ni,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ci=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function Yl(d,x,j){var T=d.type||"unknown-event";d.currentTarget=j,J(T,x,void 0,d),d.currentTarget=null}function bo(d,x){x=(x&4)!==0;for(var j=0;j<d.length;j++){var T=d[j],X=T.event;T=T.listeners;e:{var fe=void 0;if(x)for(var ze=T.length-1;0<=ze;ze--){var mt=T[ze],Ct=mt.instance,Yt=mt.currentTarget;if(mt=mt.listener,Ct!==fe&&X.isPropagationStopped())break e;Yl(X,mt,Yt),fe=Ct}else for(ze=0;ze<T.length;ze++){if(mt=T[ze],Ct=mt.instance,Yt=mt.currentTarget,mt=mt.listener,Ct!==fe&&X.isPropagationStopped())break e;Yl(X,mt,Yt),fe=Ct}}}if(he)throw d=be,he=!1,be=null,d}function Na(d,x){var j=x[Di];j===void 0&&(j=x[Di]=new Set);var T=d+"__bubble";j.has(T)||(Gc(x,d,2,!1),j.add(T))}function Bo(d,x,j){var T=0;x&&(T|=4),Gc(j,d,T,x)}var Ro="_reactListening"+Math.random().toString(36).slice(2);function ul(d){if(!d[Ro]){d[Ro]=!0,r.forEach(function(j){j!=="selectionchange"&&(Ci.has(j)||Bo(j,!1,d),Bo(j,!0,d))});var x=d.nodeType===9?d:d.ownerDocument;x===null||x[Ro]||(x[Ro]=!0,Bo("selectionchange",!1,x))}}function Gc(d,x,j,T){switch(br(x)){case 1:var X=Hr;break;case 4:X=Nr;break;default:X=jr}j=X.bind(null,x,j,d),X=void 0,!st||x!=="touchstart"&&x!=="touchmove"&&x!=="wheel"||(X=!0),T?X!==void 0?d.addEventListener(x,j,{capture:!0,passive:X}):d.addEventListener(x,j,!0):X!==void 0?d.addEventListener(x,j,{passive:X}):d.addEventListener(x,j,!1)}function zc(d,x,j,T,X){var fe=T;if((x&1)===0&&(x&2)===0&&T!==null)e:for(;;){if(T===null)return;var ze=T.tag;if(ze===3||ze===4){var mt=T.stateNode.containerInfo;if(mt===X||mt.nodeType===8&&mt.parentNode===X)break;if(ze===4)for(ze=T.return;ze!==null;){var Ct=ze.tag;if((Ct===3||Ct===4)&&(Ct=ze.stateNode.containerInfo,Ct===X||Ct.nodeType===8&&Ct.parentNode===X))return;ze=ze.return}for(;mt!==null;){if(ze=At(mt),ze===null)return;if(Ct=ze.tag,Ct===5||Ct===6){T=fe=ze;continue e}mt=mt.parentNode}}T=T.return}He(function(){var Yt=fe,is=$t(j),us=[];e:{var os=yo.get(d);if(os!==void 0){var ks=qn,As=d;switch(d){case"keypress":if(Cr(j)===0)break e;case"keydown":case"keyup":ks=Mc;break;case"focusin":As="focus",ks=Po;break;case"focusout":As="blur",ks=Po;break;case"beforeblur":case"afterblur":ks=Po;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ks=Ki;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ks=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ks=Ll;break;case wi:case cl:case _o:ks=Pc;break;case Ni:ks=_c;break;case"scroll":ks=dn;break;case"wheel":ks=Nd;break;case"copy":case"cut":case"paste":ks=mi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ks=Oc}var Os=(x&4)!==0,zr=!Os&&d==="scroll",Bt=Os?os!==null?os+"Capture":null:os;Os=[];for(var Tt=Yt,Ht;Tt!==null;){Ht=Tt;var ms=Ht.stateNode;if(Ht.tag===5&&ms!==null&&(Ht=ms,Bt!==null&&(ms=ge(Tt,Bt),ms!=null&&Os.push(Ho(Tt,ms,Ht)))),zr)break;Tt=Tt.return}0<Os.length&&(os=new ks(os,As,null,j,is),us.push({event:os,listeners:Os}))}}if((x&7)===0){e:{if(os=d==="mouseover"||d==="pointerover",ks=d==="mouseout"||d==="pointerout",os&&j!==Wt&&(As=j.relatedTarget||j.fromElement)&&(At(As)||As[wo]))break e;if((ks||os)&&(os=is.window===is?is:(os=is.ownerDocument)?os.defaultView||os.parentWindow:window,ks?(As=j.relatedTarget||j.toElement,ks=Yt,As=As?At(As):null,As!==null&&(zr=_(As),As!==zr||As.tag!==5&&As.tag!==6)&&(As=null)):(ks=null,As=Yt),ks!==As)){if(Os=Ki,ms="onMouseLeave",Bt="onMouseEnter",Tt="mouse",(d==="pointerout"||d==="pointerover")&&(Os=Oc,ms="onPointerLeave",Bt="onPointerEnter",Tt="pointer"),zr=ks==null?os:Ms(ks),Ht=As==null?os:Ms(As),os=new Os(ms,Tt+"leave",ks,j,is),os.target=zr,os.relatedTarget=Ht,ms=null,At(is)===Yt&&(Os=new Os(Bt,Tt+"enter",As,j,is),Os.target=Ht,Os.relatedTarget=zr,ms=Os),zr=ms,ks&&As)t:{for(Os=ks,Bt=As,Tt=0,Ht=Os;Ht;Ht=Mr(Ht))Tt++;for(Ht=0,ms=Bt;ms;ms=Mr(ms))Ht++;for(;0<Tt-Ht;)Os=Mr(Os),Tt--;for(;0<Ht-Tt;)Bt=Mr(Bt),Ht--;for(;Tt--;){if(Os===Bt||Bt!==null&&Os===Bt.alternate)break t;Os=Mr(Os),Bt=Mr(Bt)}Os=null}else Os=null;ks!==null&&hl(us,os,ks,Os,!1),As!==null&&zr!==null&&hl(us,zr,As,Os,!0)}}e:{if(os=Yt?Ms(Yt):window,ks=os.nodeName&&os.nodeName.toLowerCase(),ks==="select"||ks==="input"&&os.type==="file")var Rs=Rl;else if(Mo(os))if(Ir)Rs=kd;else{Rs=Cd;var Gs=sc}else(ks=os.nodeName)&&ks.toLowerCase()==="input"&&(os.type==="checkbox"||os.type==="radio")&&(Rs=Sd);if(Rs&&(Rs=Rs(d,Yt))){Lo(us,Rs,j,is);break e}Gs&&Gs(d,os,Yt),d==="focusout"&&(Gs=os._wrapperState)&&Gs.controlled&&os.type==="number"&&et(os,"number",os.value)}switch(Gs=Yt?Ms(Yt):window,d){case"focusin":(Mo(Gs)||Gs.contentEditable==="true")&&(Ur=Gs,$l=Yt,Wl=null);break;case"focusout":Wl=$l=Ur=null;break;case"mousedown":$r=!0;break;case"contextmenu":case"mouseup":case"dragend":$r=!1,Jn(us,j,is);break;case"selectionchange":if(ac)break;case"keydown":case"keyup":Jn(us,j,is)}var zs;if(Xn)e:{switch(d){case"compositionstart":var Qs="onCompositionStart";break e;case"compositionend":Qs="onCompositionEnd";break e;case"compositionupdate":Qs="onCompositionUpdate";break e}Qs=void 0}else Pr?Rc(d,j)&&(Qs="onCompositionEnd"):d==="keydown"&&j.keyCode===229&&(Qs="onCompositionStart");Qs&&(al&&j.locale!=="ko"&&(Pr||Qs!=="onCompositionStart"?Qs==="onCompositionEnd"&&Pr&&(zs=cn()):(ut=is,Ts="value"in ut?ut.value:ut.textContent,Pr=!0)),Gs=xl(Yt,Qs),0<Gs.length&&(Qs=new pi(Qs,d,null,j,is),us.push({event:Qs,listeners:Gs}),zs?Qs.data=zs:(zs=Hc(j),zs!==null&&(Qs.data=zs)))),(zs=rs?ec(d,j):rl(d,j))&&(Yt=xl(Yt,"onBeforeInput"),0<Yt.length&&(is=new pi("onBeforeInput","beforeinput",null,j,is),us.push({event:is,listeners:Yt}),is.data=zs))}bo(us,x)})}function Ho(d,x,j){return{instance:d,listener:x,currentTarget:j}}function xl(d,x){for(var j=x+"Capture",T=[];d!==null;){var X=d,fe=X.stateNode;X.tag===5&&fe!==null&&(X=fe,fe=ge(d,j),fe!=null&&T.unshift(Ho(d,fe,X)),fe=ge(d,x),fe!=null&&T.push(Ho(d,fe,X))),d=d.return}return T}function Mr(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function hl(d,x,j,T,X){for(var fe=x._reactName,ze=[];j!==null&&j!==T;){var mt=j,Ct=mt.alternate,Yt=mt.stateNode;if(Ct!==null&&Ct===T)break;mt.tag===5&&Yt!==null&&(mt=Yt,X?(Ct=ge(j,fe),Ct!=null&&ze.unshift(Ho(j,Ct,mt))):X||(Ct=ge(j,fe),Ct!=null&&ze.push(Ho(j,Ct,mt)))),j=j.return}ze.length!==0&&d.push({event:x,listeners:ze})}var Vc=/\r\n?/g,Si=/\u0000|\uFFFD/g;function rc(d){return(typeof d=="string"?d:""+d).replace(Vc,`
`).replace(Si,"")}function Kl(d,x,j){if(x=rc(x),rc(d)!==x&&j)throw Error(s(425))}function Uo(){}var $o=null,vo=null;function Wo(d,x){return d==="textarea"||d==="noscript"||typeof x.children=="string"||typeof x.children=="number"||typeof x.dangerouslySetInnerHTML=="object"&&x.dangerouslySetInnerHTML!==null&&x.dangerouslySetInnerHTML.__html!=null}var ml=typeof setTimeout=="function"?setTimeout:void 0,Yc=typeof clearTimeout=="function"?clearTimeout:void 0,nc=typeof Promise=="function"?Promise:void 0,Kc=typeof queueMicrotask=="function"?queueMicrotask:typeof nc<"u"?function(d){return nc.resolve(null).then(d).catch(pl)}:ml;function pl(d){setTimeout(function(){throw d})}function qc(d,x){var j=x,T=0;do{var X=j.nextSibling;if(d.removeChild(j),X&&X.nodeType===8)if(j=X.data,j==="/$"){if(T===0){d.removeChild(X),it(x);return}T--}else j!=="$"&&j!=="$?"&&j!=="$!"||T++;j=X}while(j);it(x)}function Qn(d){for(;d!=null;d=d.nextSibling){var x=d.nodeType;if(x===1||x===3)break;if(x===8){if(x=d.data,x==="$"||x==="$!"||x==="$?")break;if(x==="/$")return null}}return d}function ki(d){d=d.previousSibling;for(var x=0;d;){if(d.nodeType===8){var j=d.data;if(j==="$"||j==="$!"||j==="$?"){if(x===0)return d;x--}else j==="/$"&&x++}d=d.previousSibling}return null}var Go=Math.random().toString(36).slice(2),tn="__reactFiber$"+Go,ql="__reactProps$"+Go,wo="__reactContainer$"+Go,Di="__reactEvents$"+Go,gu="__reactListeners$"+Go,gl="__reactHandles$"+Go;function At(d){var x=d[tn];if(x)return x;for(var j=d.parentNode;j;){if(x=j[wo]||j[tn]){if(j=x.alternate,x.child!==null||j!==null&&j.child!==null)for(d=ki(d);d!==null;){if(j=d[tn])return j;d=ki(d)}return x}d=j,j=d.parentNode}return null}function Lt(d){return d=d[tn]||d[wo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Ms(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(s(33))}function Sr(d){return d[ql]||null}var vr=[],lr=-1;function ta(d){return{current:d}}function ja(d){0>lr||(d.current=vr[lr],vr[lr]=null,lr--)}function na(d,x){lr++,vr[lr]=d.current,d.current=x}var Gr={},Ua=ta(Gr),$a=ta(!1),wn=Gr;function fl(d,x){var j=d.type.contextTypes;if(!j)return Gr;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===x)return T.__reactInternalMemoizedMaskedChildContext;var X={},fe;for(fe in j)X[fe]=x[fe];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=x,d.__reactInternalMemoizedMaskedChildContext=X),X}function xn(d){return d=d.childContextTypes,d!=null}function oc(){ja($a),ja(Ua)}function Xc(d,x,j){if(Ua.current!==Gr)throw Error(s(168));na(Ua,x),na($a,j)}function Ed(d,x,j){var T=d.stateNode;if(x=x.childContextTypes,typeof T.getChildContext!="function")return j;T=T.getChildContext();for(var X in T)if(!(X in x))throw Error(s(108,ee(d)||"Unknown",X));return we({},j,T)}function Td(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Gr,wn=Ua.current,na(Ua,d),na($a,$a.current),!0}function fu(d,x,j){var T=d.stateNode;if(!T)throw Error(s(169));j?(d=Ed(d,x,wn),T.__reactInternalMemoizedMergedChildContext=d,ja($a),ja(Ua),na(Ua,d)):ja($a),na($a,j)}var yl=null,lc=!1,yu=!1;function Ad(d){yl===null?yl=[d]:yl.push(d)}function Fd(d){lc=!0,Ad(d)}function sn(){if(!yu&&yl!==null){yu=!0;var d=0,x=Ws;try{var j=yl;for(Ws=1;d<j.length;d++){var T=j[d];do T=T(!0);while(T!==null)}yl=null,lc=!1}catch(X){throw yl!==null&&(yl=yl.slice(d+1)),Pe(Gt,sn),X}finally{Ws=x,yu=!1}}return null}var Bn=[],Ei=0,Pd=null,Ti=0,Zn=[],eo=0,Ai=null,Rn=1,bl="";function Me(d,x){Bn[Ei++]=Ti,Bn[Ei++]=Pd,Pd=d,Ti=x}function xt(d,x,j){Zn[eo++]=Rn,Zn[eo++]=bl,Zn[eo++]=Ai,Ai=d;var T=Rn;d=bl;var X=32-Ft(T)-1;T&=~(1<<X),j+=1;var fe=32-Ft(x)+X;if(30<fe){var ze=X-X%5;fe=(T&(1<<ze)-1).toString(32),T>>=ze,X-=ze,Rn=1<<32-Ft(x)+X|j<<X|T,bl=fe+d}else Rn=1<<fe|j<<X|T,bl=d}function Pt(d){d.return!==null&&(Me(d,1),xt(d,1,0))}function gs(d){for(;d===Pd;)Pd=Bn[--Ei],Bn[Ei]=null,Ti=Bn[--Ei],Bn[Ei]=null;for(;d===Ai;)Ai=Zn[--eo],Zn[eo]=null,bl=Zn[--eo],Zn[eo]=null,Rn=Zn[--eo],Zn[eo]=null}var Ne=null,Ot=null,Cs=!1,ir=null;function Ls(d,x){var j=Zl(5,null,null,0);j.elementType="DELETED",j.stateNode=x,j.return=d,x=d.deletions,x===null?(d.deletions=[j],d.flags|=16):x.push(j)}function Id(d,x){switch(d.tag){case 5:var j=d.type;return x=x.nodeType!==1||j.toLowerCase()!==x.nodeName.toLowerCase()?null:x,x!==null?(d.stateNode=x,Ne=d,Ot=Qn(x.firstChild),!0):!1;case 6:return x=d.pendingProps===""||x.nodeType!==3?null:x,x!==null?(d.stateNode=x,Ne=d,Ot=null,!0):!1;case 13:return x=x.nodeType!==8?null:x,x!==null?(j=Ai!==null?{id:Rn,overflow:bl}:null,d.memoizedState={dehydrated:x,treeContext:j,retryLane:1073741824},j=Zl(18,null,null,0),j.stateNode=x,j.return=d,d.child=j,Ne=d,Ot=null,!0):!1;default:return!1}}function af(d){return(d.mode&1)!==0&&(d.flags&128)===0}function rf(d){if(Cs){var x=Ot;if(x){var j=x;if(!Id(d,x)){if(af(d))throw Error(s(418));x=Qn(j.nextSibling);var T=Ne;x&&Id(d,x)?Ls(T,j):(d.flags=d.flags&-4097|2,Cs=!1,Ne=d)}}else{if(af(d))throw Error(s(418));d.flags=d.flags&-4097|2,Cs=!1,Ne=d}}}function tN(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ne=d}function $h(d){if(d!==Ne)return!1;if(!Cs)return tN(d),Cs=!0,!1;var x;if((x=d.tag!==3)&&!(x=d.tag!==5)&&(x=d.type,x=x!=="head"&&x!=="body"&&!Wo(d.type,d.memoizedProps)),x&&(x=Ot)){if(af(d))throw sN(),Error(s(418));for(;x;)Ls(d,x),x=Qn(x.nextSibling)}if(tN(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));e:{for(d=d.nextSibling,x=0;d;){if(d.nodeType===8){var j=d.data;if(j==="/$"){if(x===0){Ot=Qn(d.nextSibling);break e}x--}else j!=="$"&&j!=="$!"&&j!=="$?"||x++}d=d.nextSibling}Ot=null}}else Ot=Ne?Qn(d.stateNode.nextSibling):null;return!0}function sN(){for(var d=Ot;d;)d=Qn(d.nextSibling)}function h0(){Ot=Ne=null,Cs=!1}function nf(d){ir===null?ir=[d]:ir.push(d)}var I5=S.ReactCurrentBatchConfig;function hx(d,x,j){if(d=j.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(s(309));var T=j.stateNode}if(!T)throw Error(s(147,d));var X=T,fe=""+d;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===fe?x.ref:(x=function(ze){var mt=X.refs;ze===null?delete mt[fe]:mt[fe]=ze},x._stringRef=fe,x)}if(typeof d!="string")throw Error(s(284));if(!j._owner)throw Error(s(290,d))}return d}function Wh(d,x){throw d=Object.prototype.toString.call(x),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":d))}function aN(d){var x=d._init;return x(d._payload)}function rN(d){function x(Bt,Tt){if(d){var Ht=Bt.deletions;Ht===null?(Bt.deletions=[Tt],Bt.flags|=16):Ht.push(Tt)}}function j(Bt,Tt){if(!d)return null;for(;Tt!==null;)x(Bt,Tt),Tt=Tt.sibling;return null}function T(Bt,Tt){for(Bt=new Map;Tt!==null;)Tt.key!==null?Bt.set(Tt.key,Tt):Bt.set(Tt.index,Tt),Tt=Tt.sibling;return Bt}function X(Bt,Tt){return Bt=Ud(Bt,Tt),Bt.index=0,Bt.sibling=null,Bt}function fe(Bt,Tt,Ht){return Bt.index=Ht,d?(Ht=Bt.alternate,Ht!==null?(Ht=Ht.index,Ht<Tt?(Bt.flags|=2,Tt):Ht):(Bt.flags|=2,Tt)):(Bt.flags|=1048576,Tt)}function ze(Bt){return d&&Bt.alternate===null&&(Bt.flags|=2),Bt}function mt(Bt,Tt,Ht,ms){return Tt===null||Tt.tag!==6?(Tt=Jf(Ht,Bt.mode,ms),Tt.return=Bt,Tt):(Tt=X(Tt,Ht),Tt.return=Bt,Tt)}function Ct(Bt,Tt,Ht,ms){var Rs=Ht.type;return Rs===A?is(Bt,Tt,Ht.props.children,ms,Ht.key):Tt!==null&&(Tt.elementType===Rs||typeof Rs=="object"&&Rs!==null&&Rs.$$typeof===K&&aN(Rs)===Tt.type)?(ms=X(Tt,Ht.props),ms.ref=hx(Bt,Tt,Ht),ms.return=Bt,ms):(ms=hm(Ht.type,Ht.key,Ht.props,null,Bt.mode,ms),ms.ref=hx(Bt,Tt,Ht),ms.return=Bt,ms)}function Yt(Bt,Tt,Ht,ms){return Tt===null||Tt.tag!==4||Tt.stateNode.containerInfo!==Ht.containerInfo||Tt.stateNode.implementation!==Ht.implementation?(Tt=Qf(Ht,Bt.mode,ms),Tt.return=Bt,Tt):(Tt=X(Tt,Ht.children||[]),Tt.return=Bt,Tt)}function is(Bt,Tt,Ht,ms,Rs){return Tt===null||Tt.tag!==7?(Tt=ku(Ht,Bt.mode,ms,Rs),Tt.return=Bt,Tt):(Tt=X(Tt,Ht),Tt.return=Bt,Tt)}function us(Bt,Tt,Ht){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return Tt=Jf(""+Tt,Bt.mode,Ht),Tt.return=Bt,Tt;if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case I:return Ht=hm(Tt.type,Tt.key,Tt.props,null,Bt.mode,Ht),Ht.ref=hx(Bt,null,Tt),Ht.return=Bt,Ht;case k:return Tt=Qf(Tt,Bt.mode,Ht),Tt.return=Bt,Tt;case K:var ms=Tt._init;return us(Bt,ms(Tt._payload),Ht)}if(B(Tt)||se(Tt))return Tt=ku(Tt,Bt.mode,Ht,null),Tt.return=Bt,Tt;Wh(Bt,Tt)}return null}function os(Bt,Tt,Ht,ms){var Rs=Tt!==null?Tt.key:null;if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Rs!==null?null:mt(Bt,Tt,""+Ht,ms);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case I:return Ht.key===Rs?Ct(Bt,Tt,Ht,ms):null;case k:return Ht.key===Rs?Yt(Bt,Tt,Ht,ms):null;case K:return Rs=Ht._init,os(Bt,Tt,Rs(Ht._payload),ms)}if(B(Ht)||se(Ht))return Rs!==null?null:is(Bt,Tt,Ht,ms,null);Wh(Bt,Ht)}return null}function ks(Bt,Tt,Ht,ms,Rs){if(typeof ms=="string"&&ms!==""||typeof ms=="number")return Bt=Bt.get(Ht)||null,mt(Tt,Bt,""+ms,Rs);if(typeof ms=="object"&&ms!==null){switch(ms.$$typeof){case I:return Bt=Bt.get(ms.key===null?Ht:ms.key)||null,Ct(Tt,Bt,ms,Rs);case k:return Bt=Bt.get(ms.key===null?Ht:ms.key)||null,Yt(Tt,Bt,ms,Rs);case K:var Gs=ms._init;return ks(Bt,Tt,Ht,Gs(ms._payload),Rs)}if(B(ms)||se(ms))return Bt=Bt.get(Ht)||null,is(Tt,Bt,ms,Rs,null);Wh(Tt,ms)}return null}function As(Bt,Tt,Ht,ms){for(var Rs=null,Gs=null,zs=Tt,Qs=Tt=0,Cn=null;zs!==null&&Qs<Ht.length;Qs++){zs.index>Qs?(Cn=zs,zs=null):Cn=zs.sibling;var La=os(Bt,zs,Ht[Qs],ms);if(La===null){zs===null&&(zs=Cn);break}d&&zs&&La.alternate===null&&x(Bt,zs),Tt=fe(La,Tt,Qs),Gs===null?Rs=La:Gs.sibling=La,Gs=La,zs=Cn}if(Qs===Ht.length)return j(Bt,zs),Cs&&Me(Bt,Qs),Rs;if(zs===null){for(;Qs<Ht.length;Qs++)zs=us(Bt,Ht[Qs],ms),zs!==null&&(Tt=fe(zs,Tt,Qs),Gs===null?Rs=zs:Gs.sibling=zs,Gs=zs);return Cs&&Me(Bt,Qs),Rs}for(zs=T(Bt,zs);Qs<Ht.length;Qs++)Cn=ks(zs,Bt,Qs,Ht[Qs],ms),Cn!==null&&(d&&Cn.alternate!==null&&zs.delete(Cn.key===null?Qs:Cn.key),Tt=fe(Cn,Tt,Qs),Gs===null?Rs=Cn:Gs.sibling=Cn,Gs=Cn);return d&&zs.forEach(function($d){return x(Bt,$d)}),Cs&&Me(Bt,Qs),Rs}function Os(Bt,Tt,Ht,ms){var Rs=se(Ht);if(typeof Rs!="function")throw Error(s(150));if(Ht=Rs.call(Ht),Ht==null)throw Error(s(151));for(var Gs=Rs=null,zs=Tt,Qs=Tt=0,Cn=null,La=Ht.next();zs!==null&&!La.done;Qs++,La=Ht.next()){zs.index>Qs?(Cn=zs,zs=null):Cn=zs.sibling;var $d=os(Bt,zs,La.value,ms);if($d===null){zs===null&&(zs=Cn);break}d&&zs&&$d.alternate===null&&x(Bt,zs),Tt=fe($d,Tt,Qs),Gs===null?Rs=$d:Gs.sibling=$d,Gs=$d,zs=Cn}if(La.done)return j(Bt,zs),Cs&&Me(Bt,Qs),Rs;if(zs===null){for(;!La.done;Qs++,La=Ht.next())La=us(Bt,La.value,ms),La!==null&&(Tt=fe(La,Tt,Qs),Gs===null?Rs=La:Gs.sibling=La,Gs=La);return Cs&&Me(Bt,Qs),Rs}for(zs=T(Bt,zs);!La.done;Qs++,La=Ht.next())La=ks(zs,Bt,Qs,La.value,ms),La!==null&&(d&&La.alternate!==null&&zs.delete(La.key===null?Qs:La.key),Tt=fe(La,Tt,Qs),Gs===null?Rs=La:Gs.sibling=La,Gs=La);return d&&zs.forEach(function(x6){return x(Bt,x6)}),Cs&&Me(Bt,Qs),Rs}function zr(Bt,Tt,Ht,ms){if(typeof Ht=="object"&&Ht!==null&&Ht.type===A&&Ht.key===null&&(Ht=Ht.props.children),typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case I:e:{for(var Rs=Ht.key,Gs=Tt;Gs!==null;){if(Gs.key===Rs){if(Rs=Ht.type,Rs===A){if(Gs.tag===7){j(Bt,Gs.sibling),Tt=X(Gs,Ht.props.children),Tt.return=Bt,Bt=Tt;break e}}else if(Gs.elementType===Rs||typeof Rs=="object"&&Rs!==null&&Rs.$$typeof===K&&aN(Rs)===Gs.type){j(Bt,Gs.sibling),Tt=X(Gs,Ht.props),Tt.ref=hx(Bt,Gs,Ht),Tt.return=Bt,Bt=Tt;break e}j(Bt,Gs);break}else x(Bt,Gs);Gs=Gs.sibling}Ht.type===A?(Tt=ku(Ht.props.children,Bt.mode,ms,Ht.key),Tt.return=Bt,Bt=Tt):(ms=hm(Ht.type,Ht.key,Ht.props,null,Bt.mode,ms),ms.ref=hx(Bt,Tt,Ht),ms.return=Bt,Bt=ms)}return ze(Bt);case k:e:{for(Gs=Ht.key;Tt!==null;){if(Tt.key===Gs)if(Tt.tag===4&&Tt.stateNode.containerInfo===Ht.containerInfo&&Tt.stateNode.implementation===Ht.implementation){j(Bt,Tt.sibling),Tt=X(Tt,Ht.children||[]),Tt.return=Bt,Bt=Tt;break e}else{j(Bt,Tt);break}else x(Bt,Tt);Tt=Tt.sibling}Tt=Qf(Ht,Bt.mode,ms),Tt.return=Bt,Bt=Tt}return ze(Bt);case K:return Gs=Ht._init,zr(Bt,Tt,Gs(Ht._payload),ms)}if(B(Ht))return As(Bt,Tt,Ht,ms);if(se(Ht))return Os(Bt,Tt,Ht,ms);Wh(Bt,Ht)}return typeof Ht=="string"&&Ht!==""||typeof Ht=="number"?(Ht=""+Ht,Tt!==null&&Tt.tag===6?(j(Bt,Tt.sibling),Tt=X(Tt,Ht),Tt.return=Bt,Bt=Tt):(j(Bt,Tt),Tt=Jf(Ht,Bt.mode,ms),Tt.return=Bt,Bt=Tt),ze(Bt)):j(Bt,Tt)}return zr}var m0=rN(!0),nN=rN(!1),Gh=ta(null),zh=null,p0=null,of=null;function lf(){of=p0=zh=null}function cf(d){var x=Gh.current;ja(Gh),d._currentValue=x}function df(d,x,j){for(;d!==null;){var T=d.alternate;if((d.childLanes&x)!==x?(d.childLanes|=x,T!==null&&(T.childLanes|=x)):T!==null&&(T.childLanes&x)!==x&&(T.childLanes|=x),d===j)break;d=d.return}}function g0(d,x){zh=d,of=p0=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&x)!==0&&(zo=!0),d.firstContext=null)}function Xl(d){var x=d._currentValue;if(of!==d)if(d={context:d,memoizedValue:x,next:null},p0===null){if(zh===null)throw Error(s(308));p0=d,zh.dependencies={lanes:0,firstContext:d}}else p0=p0.next=d;return x}var bu=null;function uf(d){bu===null?bu=[d]:bu.push(d)}function oN(d,x,j,T){var X=x.interleaved;return X===null?(j.next=j,uf(x)):(j.next=X.next,X.next=j),x.interleaved=j,Jc(d,T)}function Jc(d,x){d.lanes|=x;var j=d.alternate;for(j!==null&&(j.lanes|=x),j=d,d=d.return;d!==null;)d.childLanes|=x,j=d.alternate,j!==null&&(j.childLanes|=x),j=d,d=d.return;return j.tag===3?j.stateNode:null}var Md=!1;function xf(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lN(d,x){d=d.updateQueue,x.updateQueue===d&&(x.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Qc(d,x){return{eventTime:d,lane:x,tag:0,payload:null,callback:null,next:null}}function Ld(d,x,j){var T=d.updateQueue;if(T===null)return null;if(T=T.shared,(Aa&2)!==0){var X=T.pending;return X===null?x.next=x:(x.next=X.next,X.next=x),T.pending=x,Jc(d,j)}return X=T.interleaved,X===null?(x.next=x,uf(T)):(x.next=X.next,X.next=x),T.interleaved=x,Jc(d,j)}function Vh(d,x,j){if(x=x.updateQueue,x!==null&&(x=x.shared,(j&4194240)!==0)){var T=x.lanes;T&=d.pendingLanes,j|=T,x.lanes=j,Ha(d,j)}}function iN(d,x){var j=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,j===T)){var X=null,fe=null;if(j=j.firstBaseUpdate,j!==null){do{var ze={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};fe===null?X=fe=ze:fe=fe.next=ze,j=j.next}while(j!==null);fe===null?X=fe=x:fe=fe.next=x}else X=fe=x;j={baseState:T.baseState,firstBaseUpdate:X,lastBaseUpdate:fe,shared:T.shared,effects:T.effects},d.updateQueue=j;return}d=j.lastBaseUpdate,d===null?j.firstBaseUpdate=x:d.next=x,j.lastBaseUpdate=x}function Yh(d,x,j,T){var X=d.updateQueue;Md=!1;var fe=X.firstBaseUpdate,ze=X.lastBaseUpdate,mt=X.shared.pending;if(mt!==null){X.shared.pending=null;var Ct=mt,Yt=Ct.next;Ct.next=null,ze===null?fe=Yt:ze.next=Yt,ze=Ct;var is=d.alternate;is!==null&&(is=is.updateQueue,mt=is.lastBaseUpdate,mt!==ze&&(mt===null?is.firstBaseUpdate=Yt:mt.next=Yt,is.lastBaseUpdate=Ct))}if(fe!==null){var us=X.baseState;ze=0,is=Yt=Ct=null,mt=fe;do{var os=mt.lane,ks=mt.eventTime;if((T&os)===os){is!==null&&(is=is.next={eventTime:ks,lane:0,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null});e:{var As=d,Os=mt;switch(os=x,ks=j,Os.tag){case 1:if(As=Os.payload,typeof As=="function"){us=As.call(ks,us,os);break e}us=As;break e;case 3:As.flags=As.flags&-65537|128;case 0:if(As=Os.payload,os=typeof As=="function"?As.call(ks,us,os):As,os==null)break e;us=we({},us,os);break e;case 2:Md=!0}}mt.callback!==null&&mt.lane!==0&&(d.flags|=64,os=X.effects,os===null?X.effects=[mt]:os.push(mt))}else ks={eventTime:ks,lane:os,tag:mt.tag,payload:mt.payload,callback:mt.callback,next:null},is===null?(Yt=is=ks,Ct=us):is=is.next=ks,ze|=os;if(mt=mt.next,mt===null){if(mt=X.shared.pending,mt===null)break;os=mt,mt=os.next,os.next=null,X.lastBaseUpdate=os,X.shared.pending=null}}while(!0);if(is===null&&(Ct=us),X.baseState=Ct,X.firstBaseUpdate=Yt,X.lastBaseUpdate=is,x=X.shared.interleaved,x!==null){X=x;do ze|=X.lane,X=X.next;while(X!==x)}else fe===null&&(X.shared.lanes=0);Nu|=ze,d.lanes=ze,d.memoizedState=us}}function cN(d,x,j){if(d=x.effects,x.effects=null,d!==null)for(x=0;x<d.length;x++){var T=d[x],X=T.callback;if(X!==null){if(T.callback=null,T=j,typeof X!="function")throw Error(s(191,X));X.call(T)}}}var mx={},ic=ta(mx),px=ta(mx),gx=ta(mx);function vu(d){if(d===mx)throw Error(s(174));return d}function hf(d,x){switch(na(gx,x),na(px,d),na(ic,mx),d=x.nodeType,d){case 9:case 11:x=(x=x.documentElement)?x.namespaceURI:Ye(null,"");break;default:d=d===8?x.parentNode:x,x=d.namespaceURI||null,d=d.tagName,x=Ye(x,d)}ja(ic),na(ic,x)}function f0(){ja(ic),ja(px),ja(gx)}function dN(d){vu(gx.current);var x=vu(ic.current),j=Ye(x,d.type);x!==j&&(na(px,d),na(ic,j))}function mf(d){px.current===d&&(ja(ic),ja(px))}var kr=ta(0);function Kh(d){for(var x=d;x!==null;){if(x.tag===13){var j=x.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var pf=[];function gf(){for(var d=0;d<pf.length;d++)pf[d]._workInProgressVersionPrimary=null;pf.length=0}var qh=S.ReactCurrentDispatcher,ff=S.ReactCurrentBatchConfig,wu=0,Dr=null,hn=null,Nn=null,Xh=!1,fx=!1,yx=0,M5=0;function to(){throw Error(s(321))}function yf(d,x){if(x===null)return!1;for(var j=0;j<x.length&&j<d.length;j++)if(!vn(d[j],x[j]))return!1;return!0}function bf(d,x,j,T,X,fe){if(wu=fe,Dr=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,qh.current=d===null||d.memoizedState===null?B5:R5,d=j(T,X),fx){fe=0;do{if(fx=!1,yx=0,25<=fe)throw Error(s(301));fe+=1,Nn=hn=null,x.updateQueue=null,qh.current=H5,d=j(T,X)}while(fx)}if(qh.current=Zh,x=hn!==null&&hn.next!==null,wu=0,Nn=hn=Dr=null,Xh=!1,x)throw Error(s(300));return d}function vf(){var d=yx!==0;return yx=0,d}function cc(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Dr.memoizedState=Nn=d:Nn=Nn.next=d,Nn}function Jl(){if(hn===null){var d=Dr.alternate;d=d!==null?d.memoizedState:null}else d=hn.next;var x=Nn===null?Dr.memoizedState:Nn.next;if(x!==null)Nn=x,hn=d;else{if(d===null)throw Error(s(310));hn=d,d={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},Nn===null?Dr.memoizedState=Nn=d:Nn=Nn.next=d}return Nn}function bx(d,x){return typeof x=="function"?x(d):x}function wf(d){var x=Jl(),j=x.queue;if(j===null)throw Error(s(311));j.lastRenderedReducer=d;var T=hn,X=T.baseQueue,fe=j.pending;if(fe!==null){if(X!==null){var ze=X.next;X.next=fe.next,fe.next=ze}T.baseQueue=X=fe,j.pending=null}if(X!==null){fe=X.next,T=T.baseState;var mt=ze=null,Ct=null,Yt=fe;do{var is=Yt.lane;if((wu&is)===is)Ct!==null&&(Ct=Ct.next={lane:0,action:Yt.action,hasEagerState:Yt.hasEagerState,eagerState:Yt.eagerState,next:null}),T=Yt.hasEagerState?Yt.eagerState:d(T,Yt.action);else{var us={lane:is,action:Yt.action,hasEagerState:Yt.hasEagerState,eagerState:Yt.eagerState,next:null};Ct===null?(mt=Ct=us,ze=T):Ct=Ct.next=us,Dr.lanes|=is,Nu|=is}Yt=Yt.next}while(Yt!==null&&Yt!==fe);Ct===null?ze=T:Ct.next=mt,vn(T,x.memoizedState)||(zo=!0),x.memoizedState=T,x.baseState=ze,x.baseQueue=Ct,j.lastRenderedState=T}if(d=j.interleaved,d!==null){X=d;do fe=X.lane,Dr.lanes|=fe,Nu|=fe,X=X.next;while(X!==d)}else X===null&&(j.lanes=0);return[x.memoizedState,j.dispatch]}function Nf(d){var x=Jl(),j=x.queue;if(j===null)throw Error(s(311));j.lastRenderedReducer=d;var T=j.dispatch,X=j.pending,fe=x.memoizedState;if(X!==null){j.pending=null;var ze=X=X.next;do fe=d(fe,ze.action),ze=ze.next;while(ze!==X);vn(fe,x.memoizedState)||(zo=!0),x.memoizedState=fe,x.baseQueue===null&&(x.baseState=fe),j.lastRenderedState=fe}return[fe,T]}function uN(){}function xN(d,x){var j=Dr,T=Jl(),X=x(),fe=!vn(T.memoizedState,X);if(fe&&(T.memoizedState=X,zo=!0),T=T.queue,jf(pN.bind(null,j,T,d),[d]),T.getSnapshot!==x||fe||Nn!==null&&Nn.memoizedState.tag&1){if(j.flags|=2048,vx(9,mN.bind(null,j,T,X,x),void 0,null),jn===null)throw Error(s(349));(wu&30)!==0||hN(j,x,X)}return X}function hN(d,x,j){d.flags|=16384,d={getSnapshot:x,value:j},x=Dr.updateQueue,x===null?(x={lastEffect:null,stores:null},Dr.updateQueue=x,x.stores=[d]):(j=x.stores,j===null?x.stores=[d]:j.push(d))}function mN(d,x,j,T){x.value=j,x.getSnapshot=T,gN(x)&&fN(d)}function pN(d,x,j){return j(function(){gN(x)&&fN(d)})}function gN(d){var x=d.getSnapshot;d=d.value;try{var j=x();return!vn(d,j)}catch{return!0}}function fN(d){var x=Jc(d,1);x!==null&&Mi(x,d,1,-1)}function yN(d){var x=cc();return typeof d=="function"&&(d=d()),x.memoizedState=x.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bx,lastRenderedState:d},x.queue=d,d=d.dispatch=_5.bind(null,Dr,d),[x.memoizedState,d]}function vx(d,x,j,T){return d={tag:d,create:x,destroy:j,deps:T,next:null},x=Dr.updateQueue,x===null?(x={lastEffect:null,stores:null},Dr.updateQueue=x,x.lastEffect=d.next=d):(j=x.lastEffect,j===null?x.lastEffect=d.next=d:(T=j.next,j.next=d,d.next=T,x.lastEffect=d)),d}function bN(){return Jl().memoizedState}function Jh(d,x,j,T){var X=cc();Dr.flags|=d,X.memoizedState=vx(1|x,j,void 0,T===void 0?null:T)}function Qh(d,x,j,T){var X=Jl();T=T===void 0?null:T;var fe=void 0;if(hn!==null){var ze=hn.memoizedState;if(fe=ze.destroy,T!==null&&yf(T,ze.deps)){X.memoizedState=vx(x,j,fe,T);return}}Dr.flags|=d,X.memoizedState=vx(1|x,j,fe,T)}function vN(d,x){return Jh(8390656,8,d,x)}function jf(d,x){return Qh(2048,8,d,x)}function wN(d,x){return Qh(4,2,d,x)}function NN(d,x){return Qh(4,4,d,x)}function jN(d,x){if(typeof x=="function")return d=d(),x(d),function(){x(null)};if(x!=null)return d=d(),x.current=d,function(){x.current=null}}function CN(d,x,j){return j=j!=null?j.concat([d]):null,Qh(4,4,jN.bind(null,x,d),j)}function Cf(){}function SN(d,x){var j=Jl();x=x===void 0?null:x;var T=j.memoizedState;return T!==null&&x!==null&&yf(x,T[1])?T[0]:(j.memoizedState=[d,x],d)}function kN(d,x){var j=Jl();x=x===void 0?null:x;var T=j.memoizedState;return T!==null&&x!==null&&yf(x,T[1])?T[0]:(d=d(),j.memoizedState=[d,x],d)}function DN(d,x,j){return(wu&21)===0?(d.baseState&&(d.baseState=!1,zo=!0),d.memoizedState=j):(vn(j,x)||(j=Ra(),Dr.lanes|=j,Nu|=j,d.baseState=!0),x)}function L5(d,x){var j=Ws;Ws=j!==0&&4>j?j:4,d(!0);var T=ff.transition;ff.transition={};try{d(!1),x()}finally{Ws=j,ff.transition=T}}function EN(){return Jl().memoizedState}function O5(d,x,j){var T=Rd(d);if(j={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null},TN(d))AN(x,j);else if(j=oN(d,x,j,T),j!==null){var X=jo();Mi(j,d,T,X),FN(j,x,T)}}function _5(d,x,j){var T=Rd(d),X={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null};if(TN(d))AN(x,X);else{var fe=d.alternate;if(d.lanes===0&&(fe===null||fe.lanes===0)&&(fe=x.lastRenderedReducer,fe!==null))try{var ze=x.lastRenderedState,mt=fe(ze,j);if(X.hasEagerState=!0,X.eagerState=mt,vn(mt,ze)){var Ct=x.interleaved;Ct===null?(X.next=X,uf(x)):(X.next=Ct.next,Ct.next=X),x.interleaved=X;return}}catch{}finally{}j=oN(d,x,X,T),j!==null&&(X=jo(),Mi(j,d,T,X),FN(j,x,T))}}function TN(d){var x=d.alternate;return d===Dr||x!==null&&x===Dr}function AN(d,x){fx=Xh=!0;var j=d.pending;j===null?x.next=x:(x.next=j.next,j.next=x),d.pending=x}function FN(d,x,j){if((j&4194240)!==0){var T=x.lanes;T&=d.pendingLanes,j|=T,x.lanes=j,Ha(d,j)}}var Zh={readContext:Xl,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useInsertionEffect:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useSyncExternalStore:to,useId:to,unstable_isNewReconciler:!1},B5={readContext:Xl,useCallback:function(d,x){return cc().memoizedState=[d,x===void 0?null:x],d},useContext:Xl,useEffect:vN,useImperativeHandle:function(d,x,j){return j=j!=null?j.concat([d]):null,Jh(4194308,4,jN.bind(null,x,d),j)},useLayoutEffect:function(d,x){return Jh(4194308,4,d,x)},useInsertionEffect:function(d,x){return Jh(4,2,d,x)},useMemo:function(d,x){var j=cc();return x=x===void 0?null:x,d=d(),j.memoizedState=[d,x],d},useReducer:function(d,x,j){var T=cc();return x=j!==void 0?j(x):x,T.memoizedState=T.baseState=x,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:x},T.queue=d,d=d.dispatch=O5.bind(null,Dr,d),[T.memoizedState,d]},useRef:function(d){var x=cc();return d={current:d},x.memoizedState=d},useState:yN,useDebugValue:Cf,useDeferredValue:function(d){return cc().memoizedState=d},useTransition:function(){var d=yN(!1),x=d[0];return d=L5.bind(null,d[1]),cc().memoizedState=d,[x,d]},useMutableSource:function(){},useSyncExternalStore:function(d,x,j){var T=Dr,X=cc();if(Cs){if(j===void 0)throw Error(s(407));j=j()}else{if(j=x(),jn===null)throw Error(s(349));(wu&30)!==0||hN(T,x,j)}X.memoizedState=j;var fe={value:j,getSnapshot:x};return X.queue=fe,vN(pN.bind(null,T,fe,d),[d]),T.flags|=2048,vx(9,mN.bind(null,T,fe,j,x),void 0,null),j},useId:function(){var d=cc(),x=jn.identifierPrefix;if(Cs){var j=bl,T=Rn;j=(T&~(1<<32-Ft(T)-1)).toString(32)+j,x=":"+x+"R"+j,j=yx++,0<j&&(x+="H"+j.toString(32)),x+=":"}else j=M5++,x=":"+x+"r"+j.toString(32)+":";return d.memoizedState=x},unstable_isNewReconciler:!1},R5={readContext:Xl,useCallback:SN,useContext:Xl,useEffect:jf,useImperativeHandle:CN,useInsertionEffect:wN,useLayoutEffect:NN,useMemo:kN,useReducer:wf,useRef:bN,useState:function(){return wf(bx)},useDebugValue:Cf,useDeferredValue:function(d){var x=Jl();return DN(x,hn.memoizedState,d)},useTransition:function(){var d=wf(bx)[0],x=Jl().memoizedState;return[d,x]},useMutableSource:uN,useSyncExternalStore:xN,useId:EN,unstable_isNewReconciler:!1},H5={readContext:Xl,useCallback:SN,useContext:Xl,useEffect:jf,useImperativeHandle:CN,useInsertionEffect:wN,useLayoutEffect:NN,useMemo:kN,useReducer:Nf,useRef:bN,useState:function(){return Nf(bx)},useDebugValue:Cf,useDeferredValue:function(d){var x=Jl();return hn===null?x.memoizedState=d:DN(x,hn.memoizedState,d)},useTransition:function(){var d=Nf(bx)[0],x=Jl().memoizedState;return[d,x]},useMutableSource:uN,useSyncExternalStore:xN,useId:EN,unstable_isNewReconciler:!1};function Fi(d,x){if(d&&d.defaultProps){x=we({},x),d=d.defaultProps;for(var j in d)x[j]===void 0&&(x[j]=d[j]);return x}return x}function Sf(d,x,j,T){x=d.memoizedState,j=j(T,x),j=j==null?x:we({},x,j),d.memoizedState=j,d.lanes===0&&(d.updateQueue.baseState=j)}var em={isMounted:function(d){return(d=d._reactInternals)?_(d)===d:!1},enqueueSetState:function(d,x,j){d=d._reactInternals;var T=jo(),X=Rd(d),fe=Qc(T,X);fe.payload=x,j!=null&&(fe.callback=j),x=Ld(d,fe,X),x!==null&&(Mi(x,d,X,T),Vh(x,d,X))},enqueueReplaceState:function(d,x,j){d=d._reactInternals;var T=jo(),X=Rd(d),fe=Qc(T,X);fe.tag=1,fe.payload=x,j!=null&&(fe.callback=j),x=Ld(d,fe,X),x!==null&&(Mi(x,d,X,T),Vh(x,d,X))},enqueueForceUpdate:function(d,x){d=d._reactInternals;var j=jo(),T=Rd(d),X=Qc(j,T);X.tag=2,x!=null&&(X.callback=x),x=Ld(d,X,T),x!==null&&(Mi(x,d,T,j),Vh(x,d,T))}};function PN(d,x,j,T,X,fe,ze){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,fe,ze):x.prototype&&x.prototype.isPureReactComponent?!Ul(j,T)||!Ul(X,fe):!0}function IN(d,x,j){var T=!1,X=Gr,fe=x.contextType;return typeof fe=="object"&&fe!==null?fe=Xl(fe):(X=xn(x)?wn:Ua.current,T=x.contextTypes,fe=(T=T!=null)?fl(d,X):Gr),x=new x(j,fe),d.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=em,d.stateNode=x,x._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=X,d.__reactInternalMemoizedMaskedChildContext=fe),x}function MN(d,x,j,T){d=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(j,T),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(j,T),x.state!==d&&em.enqueueReplaceState(x,x.state,null)}function kf(d,x,j,T){var X=d.stateNode;X.props=j,X.state=d.memoizedState,X.refs={},xf(d);var fe=x.contextType;typeof fe=="object"&&fe!==null?X.context=Xl(fe):(fe=xn(x)?wn:Ua.current,X.context=fl(d,fe)),X.state=d.memoizedState,fe=x.getDerivedStateFromProps,typeof fe=="function"&&(Sf(d,x,fe,j),X.state=d.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof X.getSnapshotBeforeUpdate=="function"||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(x=X.state,typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount(),x!==X.state&&em.enqueueReplaceState(X,X.state,null),Yh(d,j,X,T),X.state=d.memoizedState),typeof X.componentDidMount=="function"&&(d.flags|=4194308)}function y0(d,x){try{var j="",T=x;do j+=D(T),T=T.return;while(T);var X=j}catch(fe){X=`
Error generating stack: `+fe.message+`
`+fe.stack}return{value:d,source:x,stack:X,digest:null}}function Df(d,x,j){return{value:d,source:null,stack:j??null,digest:x??null}}function Ef(d,x){try{console.error(x.value)}catch(j){setTimeout(function(){throw j})}}var U5=typeof WeakMap=="function"?WeakMap:Map;function LN(d,x,j){j=Qc(-1,j),j.tag=3,j.payload={element:null};var T=x.value;return j.callback=function(){lm||(lm=!0,Wf=T),Ef(d,x)},j}function ON(d,x,j){j=Qc(-1,j),j.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var X=x.value;j.payload=function(){return T(X)},j.callback=function(){Ef(d,x)}}var fe=d.stateNode;return fe!==null&&typeof fe.componentDidCatch=="function"&&(j.callback=function(){Ef(d,x),typeof T!="function"&&(_d===null?_d=new Set([this]):_d.add(this));var ze=x.stack;this.componentDidCatch(x.value,{componentStack:ze!==null?ze:""})}),j}function _N(d,x,j){var T=d.pingCache;if(T===null){T=d.pingCache=new U5;var X=new Set;T.set(x,X)}else X=T.get(x),X===void 0&&(X=new Set,T.set(x,X));X.has(j)||(X.add(j),d=t6.bind(null,d,x,j),x.then(d,d))}function BN(d){do{var x;if((x=d.tag===13)&&(x=d.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return d;d=d.return}while(d!==null);return null}function RN(d,x,j,T,X){return(d.mode&1)===0?(d===x?d.flags|=65536:(d.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(x=Qc(-1,1),x.tag=2,Ld(j,x,1))),j.lanes|=1),d):(d.flags|=65536,d.lanes=X,d)}var $5=S.ReactCurrentOwner,zo=!1;function No(d,x,j,T){x.child=d===null?nN(x,null,j,T):m0(x,d.child,j,T)}function HN(d,x,j,T,X){j=j.render;var fe=x.ref;return g0(x,X),T=bf(d,x,j,T,fe,X),j=vf(),d!==null&&!zo?(x.updateQueue=d.updateQueue,x.flags&=-2053,d.lanes&=~X,Zc(d,x,X)):(Cs&&j&&Pt(x),x.flags|=1,No(d,x,T,X),x.child)}function UN(d,x,j,T,X){if(d===null){var fe=j.type;return typeof fe=="function"&&!Xf(fe)&&fe.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(x.tag=15,x.type=fe,$N(d,x,fe,T,X)):(d=hm(j.type,null,T,x,x.mode,X),d.ref=x.ref,d.return=x,x.child=d)}if(fe=d.child,(d.lanes&X)===0){var ze=fe.memoizedProps;if(j=j.compare,j=j!==null?j:Ul,j(ze,T)&&d.ref===x.ref)return Zc(d,x,X)}return x.flags|=1,d=Ud(fe,T),d.ref=x.ref,d.return=x,x.child=d}function $N(d,x,j,T,X){if(d!==null){var fe=d.memoizedProps;if(Ul(fe,T)&&d.ref===x.ref)if(zo=!1,x.pendingProps=T=fe,(d.lanes&X)!==0)(d.flags&131072)!==0&&(zo=!0);else return x.lanes=d.lanes,Zc(d,x,X)}return Tf(d,x,j,T,X)}function WN(d,x,j){var T=x.pendingProps,X=T.children,fe=d!==null?d.memoizedState:null;if(T.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null,transitions:null},na(v0,vl),vl|=j;else{if((j&1073741824)===0)return d=fe!==null?fe.baseLanes|j:j,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:d,cachePool:null,transitions:null},x.updateQueue=null,na(v0,vl),vl|=d,null;x.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=fe!==null?fe.baseLanes:j,na(v0,vl),vl|=T}else fe!==null?(T=fe.baseLanes|j,x.memoizedState=null):T=j,na(v0,vl),vl|=T;return No(d,x,X,j),x.child}function GN(d,x){var j=x.ref;(d===null&&j!==null||d!==null&&d.ref!==j)&&(x.flags|=512,x.flags|=2097152)}function Tf(d,x,j,T,X){var fe=xn(j)?wn:Ua.current;return fe=fl(x,fe),g0(x,X),j=bf(d,x,j,T,fe,X),T=vf(),d!==null&&!zo?(x.updateQueue=d.updateQueue,x.flags&=-2053,d.lanes&=~X,Zc(d,x,X)):(Cs&&T&&Pt(x),x.flags|=1,No(d,x,j,X),x.child)}function zN(d,x,j,T,X){if(xn(j)){var fe=!0;Td(x)}else fe=!1;if(g0(x,X),x.stateNode===null)sm(d,x),IN(x,j,T),kf(x,j,T,X),T=!0;else if(d===null){var ze=x.stateNode,mt=x.memoizedProps;ze.props=mt;var Ct=ze.context,Yt=j.contextType;typeof Yt=="object"&&Yt!==null?Yt=Xl(Yt):(Yt=xn(j)?wn:Ua.current,Yt=fl(x,Yt));var is=j.getDerivedStateFromProps,us=typeof is=="function"||typeof ze.getSnapshotBeforeUpdate=="function";us||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(mt!==T||Ct!==Yt)&&MN(x,ze,T,Yt),Md=!1;var os=x.memoizedState;ze.state=os,Yh(x,T,ze,X),Ct=x.memoizedState,mt!==T||os!==Ct||$a.current||Md?(typeof is=="function"&&(Sf(x,j,is,T),Ct=x.memoizedState),(mt=Md||PN(x,j,mt,T,os,Ct,Yt))?(us||typeof ze.UNSAFE_componentWillMount!="function"&&typeof ze.componentWillMount!="function"||(typeof ze.componentWillMount=="function"&&ze.componentWillMount(),typeof ze.UNSAFE_componentWillMount=="function"&&ze.UNSAFE_componentWillMount()),typeof ze.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ze.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=T,x.memoizedState=Ct),ze.props=T,ze.state=Ct,ze.context=Yt,T=mt):(typeof ze.componentDidMount=="function"&&(x.flags|=4194308),T=!1)}else{ze=x.stateNode,lN(d,x),mt=x.memoizedProps,Yt=x.type===x.elementType?mt:Fi(x.type,mt),ze.props=Yt,us=x.pendingProps,os=ze.context,Ct=j.contextType,typeof Ct=="object"&&Ct!==null?Ct=Xl(Ct):(Ct=xn(j)?wn:Ua.current,Ct=fl(x,Ct));var ks=j.getDerivedStateFromProps;(is=typeof ks=="function"||typeof ze.getSnapshotBeforeUpdate=="function")||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(mt!==us||os!==Ct)&&MN(x,ze,T,Ct),Md=!1,os=x.memoizedState,ze.state=os,Yh(x,T,ze,X);var As=x.memoizedState;mt!==us||os!==As||$a.current||Md?(typeof ks=="function"&&(Sf(x,j,ks,T),As=x.memoizedState),(Yt=Md||PN(x,j,Yt,T,os,As,Ct)||!1)?(is||typeof ze.UNSAFE_componentWillUpdate!="function"&&typeof ze.componentWillUpdate!="function"||(typeof ze.componentWillUpdate=="function"&&ze.componentWillUpdate(T,As,Ct),typeof ze.UNSAFE_componentWillUpdate=="function"&&ze.UNSAFE_componentWillUpdate(T,As,Ct)),typeof ze.componentDidUpdate=="function"&&(x.flags|=4),typeof ze.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ze.componentDidUpdate!="function"||mt===d.memoizedProps&&os===d.memoizedState||(x.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||mt===d.memoizedProps&&os===d.memoizedState||(x.flags|=1024),x.memoizedProps=T,x.memoizedState=As),ze.props=T,ze.state=As,ze.context=Ct,T=Yt):(typeof ze.componentDidUpdate!="function"||mt===d.memoizedProps&&os===d.memoizedState||(x.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||mt===d.memoizedProps&&os===d.memoizedState||(x.flags|=1024),T=!1)}return Af(d,x,j,T,fe,X)}function Af(d,x,j,T,X,fe){GN(d,x);var ze=(x.flags&128)!==0;if(!T&&!ze)return X&&fu(x,j,!1),Zc(d,x,fe);T=x.stateNode,$5.current=x;var mt=ze&&typeof j.getDerivedStateFromError!="function"?null:T.render();return x.flags|=1,d!==null&&ze?(x.child=m0(x,d.child,null,fe),x.child=m0(x,null,mt,fe)):No(d,x,mt,fe),x.memoizedState=T.state,X&&fu(x,j,!0),x.child}function VN(d){var x=d.stateNode;x.pendingContext?Xc(d,x.pendingContext,x.pendingContext!==x.context):x.context&&Xc(d,x.context,!1),hf(d,x.containerInfo)}function YN(d,x,j,T,X){return h0(),nf(X),x.flags|=256,No(d,x,j,T),x.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function Pf(d){return{baseLanes:d,cachePool:null,transitions:null}}function KN(d,x,j){var T=x.pendingProps,X=kr.current,fe=!1,ze=(x.flags&128)!==0,mt;if((mt=ze)||(mt=d!==null&&d.memoizedState===null?!1:(X&2)!==0),mt?(fe=!0,x.flags&=-129):(d===null||d.memoizedState!==null)&&(X|=1),na(kr,X&1),d===null)return rf(x),d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((x.mode&1)===0?x.lanes=1:d.data==="$!"?x.lanes=8:x.lanes=1073741824,null):(ze=T.children,d=T.fallback,fe?(T=x.mode,fe=x.child,ze={mode:"hidden",children:ze},(T&1)===0&&fe!==null?(fe.childLanes=0,fe.pendingProps=ze):fe=mm(ze,T,0,null),d=ku(d,T,j,null),fe.return=x,d.return=x,fe.sibling=d,x.child=fe,x.child.memoizedState=Pf(j),x.memoizedState=Ff,d):If(x,ze));if(X=d.memoizedState,X!==null&&(mt=X.dehydrated,mt!==null))return W5(d,x,ze,T,mt,X,j);if(fe){fe=T.fallback,ze=x.mode,X=d.child,mt=X.sibling;var Ct={mode:"hidden",children:T.children};return(ze&1)===0&&x.child!==X?(T=x.child,T.childLanes=0,T.pendingProps=Ct,x.deletions=null):(T=Ud(X,Ct),T.subtreeFlags=X.subtreeFlags&14680064),mt!==null?fe=Ud(mt,fe):(fe=ku(fe,ze,j,null),fe.flags|=2),fe.return=x,T.return=x,T.sibling=fe,x.child=T,T=fe,fe=x.child,ze=d.child.memoizedState,ze=ze===null?Pf(j):{baseLanes:ze.baseLanes|j,cachePool:null,transitions:ze.transitions},fe.memoizedState=ze,fe.childLanes=d.childLanes&~j,x.memoizedState=Ff,T}return fe=d.child,d=fe.sibling,T=Ud(fe,{mode:"visible",children:T.children}),(x.mode&1)===0&&(T.lanes=j),T.return=x,T.sibling=null,d!==null&&(j=x.deletions,j===null?(x.deletions=[d],x.flags|=16):j.push(d)),x.child=T,x.memoizedState=null,T}function If(d,x){return x=mm({mode:"visible",children:x},d.mode,0,null),x.return=d,d.child=x}function tm(d,x,j,T){return T!==null&&nf(T),m0(x,d.child,null,j),d=If(x,x.pendingProps.children),d.flags|=2,x.memoizedState=null,d}function W5(d,x,j,T,X,fe,ze){if(j)return x.flags&256?(x.flags&=-257,T=Df(Error(s(422))),tm(d,x,ze,T)):x.memoizedState!==null?(x.child=d.child,x.flags|=128,null):(fe=T.fallback,X=x.mode,T=mm({mode:"visible",children:T.children},X,0,null),fe=ku(fe,X,ze,null),fe.flags|=2,T.return=x,fe.return=x,T.sibling=fe,x.child=T,(x.mode&1)!==0&&m0(x,d.child,null,ze),x.child.memoizedState=Pf(ze),x.memoizedState=Ff,fe);if((x.mode&1)===0)return tm(d,x,ze,null);if(X.data==="$!"){if(T=X.nextSibling&&X.nextSibling.dataset,T)var mt=T.dgst;return T=mt,fe=Error(s(419)),T=Df(fe,T,void 0),tm(d,x,ze,T)}if(mt=(ze&d.childLanes)!==0,zo||mt){if(T=jn,T!==null){switch(ze&-ze){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}X=(X&(T.suspendedLanes|ze))!==0?0:X,X!==0&&X!==fe.retryLane&&(fe.retryLane=X,Jc(d,X),Mi(T,d,X,-1))}return qf(),T=Df(Error(s(421))),tm(d,x,ze,T)}return X.data==="$?"?(x.flags|=128,x.child=d.child,x=s6.bind(null,d),X._reactRetry=x,null):(d=fe.treeContext,Ot=Qn(X.nextSibling),Ne=x,Cs=!0,ir=null,d!==null&&(Zn[eo++]=Rn,Zn[eo++]=bl,Zn[eo++]=Ai,Rn=d.id,bl=d.overflow,Ai=x),x=If(x,T.children),x.flags|=4096,x)}function qN(d,x,j){d.lanes|=x;var T=d.alternate;T!==null&&(T.lanes|=x),df(d.return,x,j)}function Mf(d,x,j,T,X){var fe=d.memoizedState;fe===null?d.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:T,tail:j,tailMode:X}:(fe.isBackwards=x,fe.rendering=null,fe.renderingStartTime=0,fe.last=T,fe.tail=j,fe.tailMode=X)}function XN(d,x,j){var T=x.pendingProps,X=T.revealOrder,fe=T.tail;if(No(d,x,T.children,j),T=kr.current,(T&2)!==0)T=T&1|2,x.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=x.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&qN(d,j,x);else if(d.tag===19)qN(d,j,x);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===x)break e;for(;d.sibling===null;){if(d.return===null||d.return===x)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(na(kr,T),(x.mode&1)===0)x.memoizedState=null;else switch(X){case"forwards":for(j=x.child,X=null;j!==null;)d=j.alternate,d!==null&&Kh(d)===null&&(X=j),j=j.sibling;j=X,j===null?(X=x.child,x.child=null):(X=j.sibling,j.sibling=null),Mf(x,!1,X,j,fe);break;case"backwards":for(j=null,X=x.child,x.child=null;X!==null;){if(d=X.alternate,d!==null&&Kh(d)===null){x.child=X;break}d=X.sibling,X.sibling=j,j=X,X=d}Mf(x,!0,j,null,fe);break;case"together":Mf(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function sm(d,x){(x.mode&1)===0&&d!==null&&(d.alternate=null,x.alternate=null,x.flags|=2)}function Zc(d,x,j){if(d!==null&&(x.dependencies=d.dependencies),Nu|=x.lanes,(j&x.childLanes)===0)return null;if(d!==null&&x.child!==d.child)throw Error(s(153));if(x.child!==null){for(d=x.child,j=Ud(d,d.pendingProps),x.child=j,j.return=x;d.sibling!==null;)d=d.sibling,j=j.sibling=Ud(d,d.pendingProps),j.return=x;j.sibling=null}return x.child}function G5(d,x,j){switch(x.tag){case 3:VN(x),h0();break;case 5:dN(x);break;case 1:xn(x.type)&&Td(x);break;case 4:hf(x,x.stateNode.containerInfo);break;case 10:var T=x.type._context,X=x.memoizedProps.value;na(Gh,T._currentValue),T._currentValue=X;break;case 13:if(T=x.memoizedState,T!==null)return T.dehydrated!==null?(na(kr,kr.current&1),x.flags|=128,null):(j&x.child.childLanes)!==0?KN(d,x,j):(na(kr,kr.current&1),d=Zc(d,x,j),d!==null?d.sibling:null);na(kr,kr.current&1);break;case 19:if(T=(j&x.childLanes)!==0,(d.flags&128)!==0){if(T)return XN(d,x,j);x.flags|=128}if(X=x.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),na(kr,kr.current),T)break;return null;case 22:case 23:return x.lanes=0,WN(d,x,j)}return Zc(d,x,j)}var JN,Lf,QN,ZN;JN=function(d,x){for(var j=x.child;j!==null;){if(j.tag===5||j.tag===6)d.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===x)break;for(;j.sibling===null;){if(j.return===null||j.return===x)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},Lf=function(){},QN=function(d,x,j,T){var X=d.memoizedProps;if(X!==T){d=x.stateNode,vu(ic.current);var fe=null;switch(j){case"input":X=Ce(d,X),T=Ce(d,T),fe=[];break;case"select":X=we({},X,{value:void 0}),T=we({},T,{value:void 0}),fe=[];break;case"textarea":X=Z(d,X),T=Z(d,T),fe=[];break;default:typeof X.onClick!="function"&&typeof T.onClick=="function"&&(d.onclick=Uo)}pt(j,T);var ze;j=null;for(Yt in X)if(!T.hasOwnProperty(Yt)&&X.hasOwnProperty(Yt)&&X[Yt]!=null)if(Yt==="style"){var mt=X[Yt];for(ze in mt)mt.hasOwnProperty(ze)&&(j||(j={}),j[ze]="")}else Yt!=="dangerouslySetInnerHTML"&&Yt!=="children"&&Yt!=="suppressContentEditableWarning"&&Yt!=="suppressHydrationWarning"&&Yt!=="autoFocus"&&(n.hasOwnProperty(Yt)?fe||(fe=[]):(fe=fe||[]).push(Yt,null));for(Yt in T){var Ct=T[Yt];if(mt=X?.[Yt],T.hasOwnProperty(Yt)&&Ct!==mt&&(Ct!=null||mt!=null))if(Yt==="style")if(mt){for(ze in mt)!mt.hasOwnProperty(ze)||Ct&&Ct.hasOwnProperty(ze)||(j||(j={}),j[ze]="");for(ze in Ct)Ct.hasOwnProperty(ze)&&mt[ze]!==Ct[ze]&&(j||(j={}),j[ze]=Ct[ze])}else j||(fe||(fe=[]),fe.push(Yt,j)),j=Ct;else Yt==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,mt=mt?mt.__html:void 0,Ct!=null&&mt!==Ct&&(fe=fe||[]).push(Yt,Ct)):Yt==="children"?typeof Ct!="string"&&typeof Ct!="number"||(fe=fe||[]).push(Yt,""+Ct):Yt!=="suppressContentEditableWarning"&&Yt!=="suppressHydrationWarning"&&(n.hasOwnProperty(Yt)?(Ct!=null&&Yt==="onScroll"&&Na("scroll",d),fe||mt===Ct||(fe=[])):(fe=fe||[]).push(Yt,Ct))}j&&(fe=fe||[]).push("style",j);var Yt=fe;(x.updateQueue=Yt)&&(x.flags|=4)}},ZN=function(d,x,j,T){j!==T&&(x.flags|=4)};function wx(d,x){if(!Cs)switch(d.tailMode){case"hidden":x=d.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?d.tail=null:j.sibling=null;break;case"collapsed":j=d.tail;for(var T=null;j!==null;)j.alternate!==null&&(T=j),j=j.sibling;T===null?x||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function so(d){var x=d.alternate!==null&&d.alternate.child===d.child,j=0,T=0;if(x)for(var X=d.child;X!==null;)j|=X.lanes|X.childLanes,T|=X.subtreeFlags&14680064,T|=X.flags&14680064,X.return=d,X=X.sibling;else for(X=d.child;X!==null;)j|=X.lanes|X.childLanes,T|=X.subtreeFlags,T|=X.flags,X.return=d,X=X.sibling;return d.subtreeFlags|=T,d.childLanes=j,x}function z5(d,x,j){var T=x.pendingProps;switch(gs(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return so(x),null;case 1:return xn(x.type)&&oc(),so(x),null;case 3:return T=x.stateNode,f0(),ja($a),ja(Ua),gf(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&($h(x)?x.flags|=4:d===null||d.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,ir!==null&&(Vf(ir),ir=null))),Lf(d,x),so(x),null;case 5:mf(x);var X=vu(gx.current);if(j=x.type,d!==null&&x.stateNode!=null)QN(d,x,j,T,X),d.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!T){if(x.stateNode===null)throw Error(s(166));return so(x),null}if(d=vu(ic.current),$h(x)){T=x.stateNode,j=x.type;var fe=x.memoizedProps;switch(T[tn]=x,T[ql]=fe,d=(x.mode&1)!==0,j){case"dialog":Na("cancel",T),Na("close",T);break;case"iframe":case"object":case"embed":Na("load",T);break;case"video":case"audio":for(X=0;X<Vl.length;X++)Na(Vl[X],T);break;case"source":Na("error",T);break;case"img":case"image":case"link":Na("error",T),Na("load",T);break;case"details":Na("toggle",T);break;case"input":$e(T,fe),Na("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!fe.multiple},Na("invalid",T);break;case"textarea":je(T,fe),Na("invalid",T)}pt(j,fe),X=null;for(var ze in fe)if(fe.hasOwnProperty(ze)){var mt=fe[ze];ze==="children"?typeof mt=="string"?T.textContent!==mt&&(fe.suppressHydrationWarning!==!0&&Kl(T.textContent,mt,d),X=["children",mt]):typeof mt=="number"&&T.textContent!==""+mt&&(fe.suppressHydrationWarning!==!0&&Kl(T.textContent,mt,d),X=["children",""+mt]):n.hasOwnProperty(ze)&&mt!=null&&ze==="onScroll"&&Na("scroll",T)}switch(j){case"input":le(T),Re(T,fe,!0);break;case"textarea":le(T),Qe(T);break;case"select":case"option":break;default:typeof fe.onClick=="function"&&(T.onclick=Uo)}T=X,x.updateQueue=T,T!==null&&(x.flags|=4)}else{ze=X.nodeType===9?X:X.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=qe(j)),d==="http://www.w3.org/1999/xhtml"?j==="script"?(d=ze.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof T.is=="string"?d=ze.createElement(j,{is:T.is}):(d=ze.createElement(j),j==="select"&&(ze=d,T.multiple?ze.multiple=!0:T.size&&(ze.size=T.size))):d=ze.createElementNS(d,j),d[tn]=x,d[ql]=T,JN(d,x,!1,!1),x.stateNode=d;e:{switch(ze=Mt(j,T),j){case"dialog":Na("cancel",d),Na("close",d),X=T;break;case"iframe":case"object":case"embed":Na("load",d),X=T;break;case"video":case"audio":for(X=0;X<Vl.length;X++)Na(Vl[X],d);X=T;break;case"source":Na("error",d),X=T;break;case"img":case"image":case"link":Na("error",d),Na("load",d),X=T;break;case"details":Na("toggle",d),X=T;break;case"input":$e(d,T),X=Ce(d,T),Na("invalid",d);break;case"option":X=T;break;case"select":d._wrapperState={wasMultiple:!!T.multiple},X=we({},T,{value:void 0}),Na("invalid",d);break;case"textarea":je(d,T),X=Z(d,T),Na("invalid",d);break;default:X=T}pt(j,X),mt=X;for(fe in mt)if(mt.hasOwnProperty(fe)){var Ct=mt[fe];fe==="style"?pe(d,Ct):fe==="dangerouslySetInnerHTML"?(Ct=Ct?Ct.__html:void 0,Ct!=null&&St(d,Ct)):fe==="children"?typeof Ct=="string"?(j!=="textarea"||Ct!=="")&&dt(d,Ct):typeof Ct=="number"&&dt(d,""+Ct):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(n.hasOwnProperty(fe)?Ct!=null&&fe==="onScroll"&&Na("scroll",d):Ct!=null&&C(d,fe,Ct,ze))}switch(j){case"input":le(d),Re(d,T,!1);break;case"textarea":le(d),Qe(d);break;case"option":T.value!=null&&d.setAttribute("value",""+Se(T.value));break;case"select":d.multiple=!!T.multiple,fe=T.value,fe!=null?q(d,!!T.multiple,fe,!1):T.defaultValue!=null&&q(d,!!T.multiple,T.defaultValue,!0);break;default:typeof X.onClick=="function"&&(d.onclick=Uo)}switch(j){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(x.flags|=4)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return so(x),null;case 6:if(d&&x.stateNode!=null)ZN(d,x,d.memoizedProps,T);else{if(typeof T!="string"&&x.stateNode===null)throw Error(s(166));if(j=vu(gx.current),vu(ic.current),$h(x)){if(T=x.stateNode,j=x.memoizedProps,T[tn]=x,(fe=T.nodeValue!==j)&&(d=Ne,d!==null))switch(d.tag){case 3:Kl(T.nodeValue,j,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Kl(T.nodeValue,j,(d.mode&1)!==0)}fe&&(x.flags|=4)}else T=(j.nodeType===9?j:j.ownerDocument).createTextNode(T),T[tn]=x,x.stateNode=T}return so(x),null;case 13:if(ja(kr),T=x.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Cs&&Ot!==null&&(x.mode&1)!==0&&(x.flags&128)===0)sN(),h0(),x.flags|=98560,fe=!1;else if(fe=$h(x),T!==null&&T.dehydrated!==null){if(d===null){if(!fe)throw Error(s(318));if(fe=x.memoizedState,fe=fe!==null?fe.dehydrated:null,!fe)throw Error(s(317));fe[tn]=x}else h0(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;so(x),fe=!1}else ir!==null&&(Vf(ir),ir=null),fe=!0;if(!fe)return x.flags&65536?x:null}return(x.flags&128)!==0?(x.lanes=j,x):(T=T!==null,T!==(d!==null&&d.memoizedState!==null)&&T&&(x.child.flags|=8192,(x.mode&1)!==0&&(d===null||(kr.current&1)!==0?mn===0&&(mn=3):qf())),x.updateQueue!==null&&(x.flags|=4),so(x),null);case 4:return f0(),Lf(d,x),d===null&&ul(x.stateNode.containerInfo),so(x),null;case 10:return cf(x.type._context),so(x),null;case 17:return xn(x.type)&&oc(),so(x),null;case 19:if(ja(kr),fe=x.memoizedState,fe===null)return so(x),null;if(T=(x.flags&128)!==0,ze=fe.rendering,ze===null)if(T)wx(fe,!1);else{if(mn!==0||d!==null&&(d.flags&128)!==0)for(d=x.child;d!==null;){if(ze=Kh(d),ze!==null){for(x.flags|=128,wx(fe,!1),T=ze.updateQueue,T!==null&&(x.updateQueue=T,x.flags|=4),x.subtreeFlags=0,T=j,j=x.child;j!==null;)fe=j,d=T,fe.flags&=14680066,ze=fe.alternate,ze===null?(fe.childLanes=0,fe.lanes=d,fe.child=null,fe.subtreeFlags=0,fe.memoizedProps=null,fe.memoizedState=null,fe.updateQueue=null,fe.dependencies=null,fe.stateNode=null):(fe.childLanes=ze.childLanes,fe.lanes=ze.lanes,fe.child=ze.child,fe.subtreeFlags=0,fe.deletions=null,fe.memoizedProps=ze.memoizedProps,fe.memoizedState=ze.memoizedState,fe.updateQueue=ze.updateQueue,fe.type=ze.type,d=ze.dependencies,fe.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),j=j.sibling;return na(kr,kr.current&1|2),x.child}d=d.sibling}fe.tail!==null&&Ge()>w0&&(x.flags|=128,T=!0,wx(fe,!1),x.lanes=4194304)}else{if(!T)if(d=Kh(ze),d!==null){if(x.flags|=128,T=!0,j=d.updateQueue,j!==null&&(x.updateQueue=j,x.flags|=4),wx(fe,!0),fe.tail===null&&fe.tailMode==="hidden"&&!ze.alternate&&!Cs)return so(x),null}else 2*Ge()-fe.renderingStartTime>w0&&j!==1073741824&&(x.flags|=128,T=!0,wx(fe,!1),x.lanes=4194304);fe.isBackwards?(ze.sibling=x.child,x.child=ze):(j=fe.last,j!==null?j.sibling=ze:x.child=ze,fe.last=ze)}return fe.tail!==null?(x=fe.tail,fe.rendering=x,fe.tail=x.sibling,fe.renderingStartTime=Ge(),x.sibling=null,j=kr.current,na(kr,T?j&1|2:j&1),x):(so(x),null);case 22:case 23:return Kf(),T=x.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(x.flags|=8192),T&&(x.mode&1)!==0?(vl&1073741824)!==0&&(so(x),x.subtreeFlags&6&&(x.flags|=8192)):so(x),null;case 24:return null;case 25:return null}throw Error(s(156,x.tag))}function V5(d,x){switch(gs(x),x.tag){case 1:return xn(x.type)&&oc(),d=x.flags,d&65536?(x.flags=d&-65537|128,x):null;case 3:return f0(),ja($a),ja(Ua),gf(),d=x.flags,(d&65536)!==0&&(d&128)===0?(x.flags=d&-65537|128,x):null;case 5:return mf(x),null;case 13:if(ja(kr),d=x.memoizedState,d!==null&&d.dehydrated!==null){if(x.alternate===null)throw Error(s(340));h0()}return d=x.flags,d&65536?(x.flags=d&-65537|128,x):null;case 19:return ja(kr),null;case 4:return f0(),null;case 10:return cf(x.type._context),null;case 22:case 23:return Kf(),null;case 24:return null;default:return null}}var am=!1,ao=!1,Y5=typeof WeakSet=="function"?WeakSet:Set,Ds=null;function b0(d,x){var j=d.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(T){Lr(d,x,T)}else j.current=null}function Of(d,x,j){try{j()}catch(T){Lr(d,x,T)}}var ej=!1;function K5(d,x){if($o=or,d=ll(),yi(d)){if("selectionStart"in d)var j={start:d.selectionStart,end:d.selectionEnd};else e:{j=(j=d.ownerDocument)&&j.defaultView||window;var T=j.getSelection&&j.getSelection();if(T&&T.rangeCount!==0){j=T.anchorNode;var X=T.anchorOffset,fe=T.focusNode;T=T.focusOffset;try{j.nodeType,fe.nodeType}catch{j=null;break e}var ze=0,mt=-1,Ct=-1,Yt=0,is=0,us=d,os=null;t:for(;;){for(var ks;us!==j||X!==0&&us.nodeType!==3||(mt=ze+X),us!==fe||T!==0&&us.nodeType!==3||(Ct=ze+T),us.nodeType===3&&(ze+=us.nodeValue.length),(ks=us.firstChild)!==null;)os=us,us=ks;for(;;){if(us===d)break t;if(os===j&&++Yt===X&&(mt=ze),os===fe&&++is===T&&(Ct=ze),(ks=us.nextSibling)!==null)break;us=os,os=us.parentNode}us=ks}j=mt===-1||Ct===-1?null:{start:mt,end:Ct}}else j=null}j=j||{start:0,end:0}}else j=null;for(vo={focusedElem:d,selectionRange:j},or=!1,Ds=x;Ds!==null;)if(x=Ds,d=x.child,(x.subtreeFlags&1028)!==0&&d!==null)d.return=x,Ds=d;else for(;Ds!==null;){x=Ds;try{var As=x.alternate;if((x.flags&1024)!==0)switch(x.tag){case 0:case 11:case 15:break;case 1:if(As!==null){var Os=As.memoizedProps,zr=As.memoizedState,Bt=x.stateNode,Tt=Bt.getSnapshotBeforeUpdate(x.elementType===x.type?Os:Fi(x.type,Os),zr);Bt.__reactInternalSnapshotBeforeUpdate=Tt}break;case 3:var Ht=x.stateNode.containerInfo;Ht.nodeType===1?Ht.textContent="":Ht.nodeType===9&&Ht.documentElement&&Ht.removeChild(Ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ms){Lr(x,x.return,ms)}if(d=x.sibling,d!==null){d.return=x.return,Ds=d;break}Ds=x.return}return As=ej,ej=!1,As}function Nx(d,x,j){var T=x.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var X=T=T.next;do{if((X.tag&d)===d){var fe=X.destroy;X.destroy=void 0,fe!==void 0&&Of(x,j,fe)}X=X.next}while(X!==T)}}function rm(d,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var j=x=x.next;do{if((j.tag&d)===d){var T=j.create;j.destroy=T()}j=j.next}while(j!==x)}}function _f(d){var x=d.ref;if(x!==null){var j=d.stateNode;switch(d.tag){case 5:d=j;break;default:d=j}typeof x=="function"?x(d):x.current=d}}function tj(d){var x=d.alternate;x!==null&&(d.alternate=null,tj(x)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(x=d.stateNode,x!==null&&(delete x[tn],delete x[ql],delete x[Di],delete x[gu],delete x[gl])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function sj(d){return d.tag===5||d.tag===3||d.tag===4}function aj(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||sj(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Bf(d,x,j){var T=d.tag;if(T===5||T===6)d=d.stateNode,x?j.nodeType===8?j.parentNode.insertBefore(d,x):j.insertBefore(d,x):(j.nodeType===8?(x=j.parentNode,x.insertBefore(d,j)):(x=j,x.appendChild(d)),j=j._reactRootContainer,j!=null||x.onclick!==null||(x.onclick=Uo));else if(T!==4&&(d=d.child,d!==null))for(Bf(d,x,j),d=d.sibling;d!==null;)Bf(d,x,j),d=d.sibling}function Rf(d,x,j){var T=d.tag;if(T===5||T===6)d=d.stateNode,x?j.insertBefore(d,x):j.appendChild(d);else if(T!==4&&(d=d.child,d!==null))for(Rf(d,x,j),d=d.sibling;d!==null;)Rf(d,x,j),d=d.sibling}var Hn=null,Pi=!1;function Od(d,x,j){for(j=j.child;j!==null;)rj(d,x,j),j=j.sibling}function rj(d,x,j){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(ps,j)}catch{}switch(j.tag){case 5:ao||b0(j,x);case 6:var T=Hn,X=Pi;Hn=null,Od(d,x,j),Hn=T,Pi=X,Hn!==null&&(Pi?(d=Hn,j=j.stateNode,d.nodeType===8?d.parentNode.removeChild(j):d.removeChild(j)):Hn.removeChild(j.stateNode));break;case 18:Hn!==null&&(Pi?(d=Hn,j=j.stateNode,d.nodeType===8?qc(d.parentNode,j):d.nodeType===1&&qc(d,j),it(d)):qc(Hn,j.stateNode));break;case 4:T=Hn,X=Pi,Hn=j.stateNode.containerInfo,Pi=!0,Od(d,x,j),Hn=T,Pi=X;break;case 0:case 11:case 14:case 15:if(!ao&&(T=j.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){X=T=T.next;do{var fe=X,ze=fe.destroy;fe=fe.tag,ze!==void 0&&((fe&2)!==0||(fe&4)!==0)&&Of(j,x,ze),X=X.next}while(X!==T)}Od(d,x,j);break;case 1:if(!ao&&(b0(j,x),T=j.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=j.memoizedProps,T.state=j.memoizedState,T.componentWillUnmount()}catch(mt){Lr(j,x,mt)}Od(d,x,j);break;case 21:Od(d,x,j);break;case 22:j.mode&1?(ao=(T=ao)||j.memoizedState!==null,Od(d,x,j),ao=T):Od(d,x,j);break;default:Od(d,x,j)}}function nj(d){var x=d.updateQueue;if(x!==null){d.updateQueue=null;var j=d.stateNode;j===null&&(j=d.stateNode=new Y5),x.forEach(function(T){var X=a6.bind(null,d,T);j.has(T)||(j.add(T),T.then(X,X))})}}function Ii(d,x){var j=x.deletions;if(j!==null)for(var T=0;T<j.length;T++){var X=j[T];try{var fe=d,ze=x,mt=ze;e:for(;mt!==null;){switch(mt.tag){case 5:Hn=mt.stateNode,Pi=!1;break e;case 3:Hn=mt.stateNode.containerInfo,Pi=!0;break e;case 4:Hn=mt.stateNode.containerInfo,Pi=!0;break e}mt=mt.return}if(Hn===null)throw Error(s(160));rj(fe,ze,X),Hn=null,Pi=!1;var Ct=X.alternate;Ct!==null&&(Ct.return=null),X.return=null}catch(Yt){Lr(X,x,Yt)}}if(x.subtreeFlags&12854)for(x=x.child;x!==null;)oj(x,d),x=x.sibling}function oj(d,x){var j=d.alternate,T=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ii(x,d),dc(d),T&4){try{Nx(3,d,d.return),rm(3,d)}catch(Os){Lr(d,d.return,Os)}try{Nx(5,d,d.return)}catch(Os){Lr(d,d.return,Os)}}break;case 1:Ii(x,d),dc(d),T&512&&j!==null&&b0(j,j.return);break;case 5:if(Ii(x,d),dc(d),T&512&&j!==null&&b0(j,j.return),d.flags&32){var X=d.stateNode;try{dt(X,"")}catch(Os){Lr(d,d.return,Os)}}if(T&4&&(X=d.stateNode,X!=null)){var fe=d.memoizedProps,ze=j!==null?j.memoizedProps:fe,mt=d.type,Ct=d.updateQueue;if(d.updateQueue=null,Ct!==null)try{mt==="input"&&fe.type==="radio"&&fe.name!=null&&Ae(X,fe),Mt(mt,ze);var Yt=Mt(mt,fe);for(ze=0;ze<Ct.length;ze+=2){var is=Ct[ze],us=Ct[ze+1];is==="style"?pe(X,us):is==="dangerouslySetInnerHTML"?St(X,us):is==="children"?dt(X,us):C(X,is,us,Yt)}switch(mt){case"input":We(X,fe);break;case"textarea":De(X,fe);break;case"select":var os=X._wrapperState.wasMultiple;X._wrapperState.wasMultiple=!!fe.multiple;var ks=fe.value;ks!=null?q(X,!!fe.multiple,ks,!1):os!==!!fe.multiple&&(fe.defaultValue!=null?q(X,!!fe.multiple,fe.defaultValue,!0):q(X,!!fe.multiple,fe.multiple?[]:"",!1))}X[ql]=fe}catch(Os){Lr(d,d.return,Os)}}break;case 6:if(Ii(x,d),dc(d),T&4){if(d.stateNode===null)throw Error(s(162));X=d.stateNode,fe=d.memoizedProps;try{X.nodeValue=fe}catch(Os){Lr(d,d.return,Os)}}break;case 3:if(Ii(x,d),dc(d),T&4&&j!==null&&j.memoizedState.isDehydrated)try{it(x.containerInfo)}catch(Os){Lr(d,d.return,Os)}break;case 4:Ii(x,d),dc(d);break;case 13:Ii(x,d),dc(d),X=d.child,X.flags&8192&&(fe=X.memoizedState!==null,X.stateNode.isHidden=fe,!fe||X.alternate!==null&&X.alternate.memoizedState!==null||($f=Ge())),T&4&&nj(d);break;case 22:if(is=j!==null&&j.memoizedState!==null,d.mode&1?(ao=(Yt=ao)||is,Ii(x,d),ao=Yt):Ii(x,d),dc(d),T&8192){if(Yt=d.memoizedState!==null,(d.stateNode.isHidden=Yt)&&!is&&(d.mode&1)!==0)for(Ds=d,is=d.child;is!==null;){for(us=Ds=is;Ds!==null;){switch(os=Ds,ks=os.child,os.tag){case 0:case 11:case 14:case 15:Nx(4,os,os.return);break;case 1:b0(os,os.return);var As=os.stateNode;if(typeof As.componentWillUnmount=="function"){T=os,j=os.return;try{x=T,As.props=x.memoizedProps,As.state=x.memoizedState,As.componentWillUnmount()}catch(Os){Lr(T,j,Os)}}break;case 5:b0(os,os.return);break;case 22:if(os.memoizedState!==null){cj(us);continue}}ks!==null?(ks.return=os,Ds=ks):cj(us)}is=is.sibling}e:for(is=null,us=d;;){if(us.tag===5){if(is===null){is=us;try{X=us.stateNode,Yt?(fe=X.style,typeof fe.setProperty=="function"?fe.setProperty("display","none","important"):fe.display="none"):(mt=us.stateNode,Ct=us.memoizedProps.style,ze=Ct!=null&&Ct.hasOwnProperty("display")?Ct.display:null,mt.style.display=Ee("display",ze))}catch(Os){Lr(d,d.return,Os)}}}else if(us.tag===6){if(is===null)try{us.stateNode.nodeValue=Yt?"":us.memoizedProps}catch(Os){Lr(d,d.return,Os)}}else if((us.tag!==22&&us.tag!==23||us.memoizedState===null||us===d)&&us.child!==null){us.child.return=us,us=us.child;continue}if(us===d)break e;for(;us.sibling===null;){if(us.return===null||us.return===d)break e;is===us&&(is=null),us=us.return}is===us&&(is=null),us.sibling.return=us.return,us=us.sibling}}break;case 19:Ii(x,d),dc(d),T&4&&nj(d);break;case 21:break;default:Ii(x,d),dc(d)}}function dc(d){var x=d.flags;if(x&2){try{e:{for(var j=d.return;j!==null;){if(sj(j)){var T=j;break e}j=j.return}throw Error(s(160))}switch(T.tag){case 5:var X=T.stateNode;T.flags&32&&(dt(X,""),T.flags&=-33);var fe=aj(d);Rf(d,fe,X);break;case 3:case 4:var ze=T.stateNode.containerInfo,mt=aj(d);Bf(d,mt,ze);break;default:throw Error(s(161))}}catch(Ct){Lr(d,d.return,Ct)}d.flags&=-3}x&4096&&(d.flags&=-4097)}function q5(d,x,j){Ds=d,lj(d)}function lj(d,x,j){for(var T=(d.mode&1)!==0;Ds!==null;){var X=Ds,fe=X.child;if(X.tag===22&&T){var ze=X.memoizedState!==null||am;if(!ze){var mt=X.alternate,Ct=mt!==null&&mt.memoizedState!==null||ao;mt=am;var Yt=ao;if(am=ze,(ao=Ct)&&!Yt)for(Ds=X;Ds!==null;)ze=Ds,Ct=ze.child,ze.tag===22&&ze.memoizedState!==null?dj(X):Ct!==null?(Ct.return=ze,Ds=Ct):dj(X);for(;fe!==null;)Ds=fe,lj(fe),fe=fe.sibling;Ds=X,am=mt,ao=Yt}ij(d)}else(X.subtreeFlags&8772)!==0&&fe!==null?(fe.return=X,Ds=fe):ij(d)}}function ij(d){for(;Ds!==null;){var x=Ds;if((x.flags&8772)!==0){var j=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ao||rm(5,x);break;case 1:var T=x.stateNode;if(x.flags&4&&!ao)if(j===null)T.componentDidMount();else{var X=x.elementType===x.type?j.memoizedProps:Fi(x.type,j.memoizedProps);T.componentDidUpdate(X,j.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var fe=x.updateQueue;fe!==null&&cN(x,fe,T);break;case 3:var ze=x.updateQueue;if(ze!==null){if(j=null,x.child!==null)switch(x.child.tag){case 5:j=x.child.stateNode;break;case 1:j=x.child.stateNode}cN(x,ze,j)}break;case 5:var mt=x.stateNode;if(j===null&&x.flags&4){j=mt;var Ct=x.memoizedProps;switch(x.type){case"button":case"input":case"select":case"textarea":Ct.autoFocus&&j.focus();break;case"img":Ct.src&&(j.src=Ct.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(x.memoizedState===null){var Yt=x.alternate;if(Yt!==null){var is=Yt.memoizedState;if(is!==null){var us=is.dehydrated;us!==null&&it(us)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ao||x.flags&512&&_f(x)}catch(os){Lr(x,x.return,os)}}if(x===d){Ds=null;break}if(j=x.sibling,j!==null){j.return=x.return,Ds=j;break}Ds=x.return}}function cj(d){for(;Ds!==null;){var x=Ds;if(x===d){Ds=null;break}var j=x.sibling;if(j!==null){j.return=x.return,Ds=j;break}Ds=x.return}}function dj(d){for(;Ds!==null;){var x=Ds;try{switch(x.tag){case 0:case 11:case 15:var j=x.return;try{rm(4,x)}catch(Ct){Lr(x,j,Ct)}break;case 1:var T=x.stateNode;if(typeof T.componentDidMount=="function"){var X=x.return;try{T.componentDidMount()}catch(Ct){Lr(x,X,Ct)}}var fe=x.return;try{_f(x)}catch(Ct){Lr(x,fe,Ct)}break;case 5:var ze=x.return;try{_f(x)}catch(Ct){Lr(x,ze,Ct)}}}catch(Ct){Lr(x,x.return,Ct)}if(x===d){Ds=null;break}var mt=x.sibling;if(mt!==null){mt.return=x.return,Ds=mt;break}Ds=x.return}}var X5=Math.ceil,nm=S.ReactCurrentDispatcher,Hf=S.ReactCurrentOwner,Ql=S.ReactCurrentBatchConfig,Aa=0,jn=null,an=null,Un=0,vl=0,v0=ta(0),mn=0,jx=null,Nu=0,om=0,Uf=0,Cx=null,Vo=null,$f=0,w0=1/0,ed=null,lm=!1,Wf=null,_d=null,im=!1,Bd=null,cm=0,Sx=0,Gf=null,dm=-1,um=0;function jo(){return(Aa&6)!==0?Ge():dm!==-1?dm:dm=Ge()}function Rd(d){return(d.mode&1)===0?1:(Aa&2)!==0&&Un!==0?Un&-Un:I5.transition!==null?(um===0&&(um=Ra()),um):(d=Ws,d!==0||(d=window.event,d=d===void 0?16:br(d.type)),d)}function Mi(d,x,j,T){if(50<Sx)throw Sx=0,Gf=null,Error(s(185));xa(d,j,T),((Aa&2)===0||d!==jn)&&(d===jn&&((Aa&2)===0&&(om|=j),mn===4&&Hd(d,Un)),Yo(d,T),j===1&&Aa===0&&(x.mode&1)===0&&(w0=Ge()+500,lc&&sn()))}function Yo(d,x){var j=d.callbackNode;ka(d,x);var T=sa(d,d===jn?Un:0);if(T===0)j!==null&&ae(j),d.callbackNode=null,d.callbackPriority=0;else if(x=T&-T,d.callbackPriority!==x){if(j!=null&&ae(j),x===1)d.tag===0?Fd(xj.bind(null,d)):Ad(xj.bind(null,d)),Kc(function(){(Aa&6)===0&&sn()}),j=null;else{switch(Ta(T)){case 1:j=Gt;break;case 4:j=W;break;case 16:j=Be;break;case 536870912:j=ns;break;default:j=Be}j=vj(j,uj.bind(null,d))}d.callbackPriority=x,d.callbackNode=j}}function uj(d,x){if(dm=-1,um=0,(Aa&6)!==0)throw Error(s(327));var j=d.callbackNode;if(N0()&&d.callbackNode!==j)return null;var T=sa(d,d===jn?Un:0);if(T===0)return null;if((T&30)!==0||(T&d.expiredLanes)!==0||x)x=xm(d,T);else{x=T;var X=Aa;Aa|=2;var fe=mj();(jn!==d||Un!==x)&&(ed=null,w0=Ge()+500,Cu(d,x));do try{Z5();break}catch(mt){hj(d,mt)}while(!0);lf(),nm.current=fe,Aa=X,an!==null?x=0:(jn=null,Un=0,x=mn)}if(x!==0){if(x===2&&(X=Ea(d),X!==0&&(T=X,x=zf(d,X))),x===1)throw j=jx,Cu(d,0),Hd(d,T),Yo(d,Ge()),j;if(x===6)Hd(d,T);else{if(X=d.current.alternate,(T&30)===0&&!J5(X)&&(x=xm(d,T),x===2&&(fe=Ea(d),fe!==0&&(T=fe,x=zf(d,fe))),x===1))throw j=jx,Cu(d,0),Hd(d,T),Yo(d,Ge()),j;switch(d.finishedWork=X,d.finishedLanes=T,x){case 0:case 1:throw Error(s(345));case 2:Su(d,Vo,ed);break;case 3:if(Hd(d,T),(T&130023424)===T&&(x=$f+500-Ge(),10<x)){if(sa(d,0)!==0)break;if(X=d.suspendedLanes,(X&T)!==T){jo(),d.pingedLanes|=d.suspendedLanes&X;break}d.timeoutHandle=ml(Su.bind(null,d,Vo,ed),x);break}Su(d,Vo,ed);break;case 4:if(Hd(d,T),(T&4194240)===T)break;for(x=d.eventTimes,X=-1;0<T;){var ze=31-Ft(T);fe=1<<ze,ze=x[ze],ze>X&&(X=ze),T&=~fe}if(T=X,T=Ge()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*X5(T/1960))-T,10<T){d.timeoutHandle=ml(Su.bind(null,d,Vo,ed),T);break}Su(d,Vo,ed);break;case 5:Su(d,Vo,ed);break;default:throw Error(s(329))}}}return Yo(d,Ge()),d.callbackNode===j?uj.bind(null,d):null}function zf(d,x){var j=Cx;return d.current.memoizedState.isDehydrated&&(Cu(d,x).flags|=256),d=xm(d,x),d!==2&&(x=Vo,Vo=j,x!==null&&Vf(x)),d}function Vf(d){Vo===null?Vo=d:Vo.push.apply(Vo,d)}function J5(d){for(var x=d;;){if(x.flags&16384){var j=x.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var T=0;T<j.length;T++){var X=j[T],fe=X.getSnapshot;X=X.value;try{if(!vn(fe(),X))return!1}catch{return!1}}}if(j=x.child,x.subtreeFlags&16384&&j!==null)j.return=x,x=j;else{if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function Hd(d,x){for(x&=~Uf,x&=~om,d.suspendedLanes|=x,d.pingedLanes&=~x,d=d.expirationTimes;0<x;){var j=31-Ft(x),T=1<<j;d[j]=-1,x&=~T}}function xj(d){if((Aa&6)!==0)throw Error(s(327));N0();var x=sa(d,0);if((x&1)===0)return Yo(d,Ge()),null;var j=xm(d,x);if(d.tag!==0&&j===2){var T=Ea(d);T!==0&&(x=T,j=zf(d,T))}if(j===1)throw j=jx,Cu(d,0),Hd(d,x),Yo(d,Ge()),j;if(j===6)throw Error(s(345));return d.finishedWork=d.current.alternate,d.finishedLanes=x,Su(d,Vo,ed),Yo(d,Ge()),null}function Yf(d,x){var j=Aa;Aa|=1;try{return d(x)}finally{Aa=j,Aa===0&&(w0=Ge()+500,lc&&sn())}}function ju(d){Bd!==null&&Bd.tag===0&&(Aa&6)===0&&N0();var x=Aa;Aa|=1;var j=Ql.transition,T=Ws;try{if(Ql.transition=null,Ws=1,d)return d()}finally{Ws=T,Ql.transition=j,Aa=x,(Aa&6)===0&&sn()}}function Kf(){vl=v0.current,ja(v0)}function Cu(d,x){d.finishedWork=null,d.finishedLanes=0;var j=d.timeoutHandle;if(j!==-1&&(d.timeoutHandle=-1,Yc(j)),an!==null)for(j=an.return;j!==null;){var T=j;switch(gs(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&oc();break;case 3:f0(),ja($a),ja(Ua),gf();break;case 5:mf(T);break;case 4:f0();break;case 13:ja(kr);break;case 19:ja(kr);break;case 10:cf(T.type._context);break;case 22:case 23:Kf()}j=j.return}if(jn=d,an=d=Ud(d.current,null),Un=vl=x,mn=0,jx=null,Uf=om=Nu=0,Vo=Cx=null,bu!==null){for(x=0;x<bu.length;x++)if(j=bu[x],T=j.interleaved,T!==null){j.interleaved=null;var X=T.next,fe=j.pending;if(fe!==null){var ze=fe.next;fe.next=X,T.next=ze}j.pending=T}bu=null}return d}function hj(d,x){do{var j=an;try{if(lf(),qh.current=Zh,Xh){for(var T=Dr.memoizedState;T!==null;){var X=T.queue;X!==null&&(X.pending=null),T=T.next}Xh=!1}if(wu=0,Nn=hn=Dr=null,fx=!1,yx=0,Hf.current=null,j===null||j.return===null){mn=1,jx=x,an=null;break}e:{var fe=d,ze=j.return,mt=j,Ct=x;if(x=Un,mt.flags|=32768,Ct!==null&&typeof Ct=="object"&&typeof Ct.then=="function"){var Yt=Ct,is=mt,us=is.tag;if((is.mode&1)===0&&(us===0||us===11||us===15)){var os=is.alternate;os?(is.updateQueue=os.updateQueue,is.memoizedState=os.memoizedState,is.lanes=os.lanes):(is.updateQueue=null,is.memoizedState=null)}var ks=BN(ze);if(ks!==null){ks.flags&=-257,RN(ks,ze,mt,fe,x),ks.mode&1&&_N(fe,Yt,x),x=ks,Ct=Yt;var As=x.updateQueue;if(As===null){var Os=new Set;Os.add(Ct),x.updateQueue=Os}else As.add(Ct);break e}else{if((x&1)===0){_N(fe,Yt,x),qf();break e}Ct=Error(s(426))}}else if(Cs&&mt.mode&1){var zr=BN(ze);if(zr!==null){(zr.flags&65536)===0&&(zr.flags|=256),RN(zr,ze,mt,fe,x),nf(y0(Ct,mt));break e}}fe=Ct=y0(Ct,mt),mn!==4&&(mn=2),Cx===null?Cx=[fe]:Cx.push(fe),fe=ze;do{switch(fe.tag){case 3:fe.flags|=65536,x&=-x,fe.lanes|=x;var Bt=LN(fe,Ct,x);iN(fe,Bt);break e;case 1:mt=Ct;var Tt=fe.type,Ht=fe.stateNode;if((fe.flags&128)===0&&(typeof Tt.getDerivedStateFromError=="function"||Ht!==null&&typeof Ht.componentDidCatch=="function"&&(_d===null||!_d.has(Ht)))){fe.flags|=65536,x&=-x,fe.lanes|=x;var ms=ON(fe,mt,x);iN(fe,ms);break e}}fe=fe.return}while(fe!==null)}gj(j)}catch(Rs){x=Rs,an===j&&j!==null&&(an=j=j.return);continue}break}while(!0)}function mj(){var d=nm.current;return nm.current=Zh,d===null?Zh:d}function qf(){(mn===0||mn===3||mn===2)&&(mn=4),jn===null||(Nu&268435455)===0&&(om&268435455)===0||Hd(jn,Un)}function xm(d,x){var j=Aa;Aa|=2;var T=mj();(jn!==d||Un!==x)&&(ed=null,Cu(d,x));do try{Q5();break}catch(X){hj(d,X)}while(!0);if(lf(),Aa=j,nm.current=T,an!==null)throw Error(s(261));return jn=null,Un=0,mn}function Q5(){for(;an!==null;)pj(an)}function Z5(){for(;an!==null&&!me();)pj(an)}function pj(d){var x=bj(d.alternate,d,vl);d.memoizedProps=d.pendingProps,x===null?gj(d):an=x,Hf.current=null}function gj(d){var x=d;do{var j=x.alternate;if(d=x.return,(x.flags&32768)===0){if(j=z5(j,x,vl),j!==null){an=j;return}}else{if(j=V5(j,x),j!==null){j.flags&=32767,an=j;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{mn=6,an=null;return}}if(x=x.sibling,x!==null){an=x;return}an=x=d}while(x!==null);mn===0&&(mn=5)}function Su(d,x,j){var T=Ws,X=Ql.transition;try{Ql.transition=null,Ws=1,e6(d,x,j,T)}finally{Ql.transition=X,Ws=T}return null}function e6(d,x,j,T){do N0();while(Bd!==null);if((Aa&6)!==0)throw Error(s(327));j=d.finishedWork;var X=d.finishedLanes;if(j===null)return null;if(d.finishedWork=null,d.finishedLanes=0,j===d.current)throw Error(s(177));d.callbackNode=null,d.callbackPriority=0;var fe=j.lanes|j.childLanes;if(Ka(d,fe),d===jn&&(an=jn=null,Un=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||im||(im=!0,vj(Be,function(){return N0(),null})),fe=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||fe){fe=Ql.transition,Ql.transition=null;var ze=Ws;Ws=1;var mt=Aa;Aa|=4,Hf.current=null,K5(d,j),oj(j,d),fo(vo),or=!!$o,vo=$o=null,d.current=j,q5(j),ce(),Aa=mt,Ws=ze,Ql.transition=fe}else d.current=j;if(im&&(im=!1,Bd=d,cm=X),fe=d.pendingLanes,fe===0&&(_d=null),ss(j.stateNode),Yo(d,Ge()),x!==null)for(T=d.onRecoverableError,j=0;j<x.length;j++)X=x[j],T(X.value,{componentStack:X.stack,digest:X.digest});if(lm)throw lm=!1,d=Wf,Wf=null,d;return(cm&1)!==0&&d.tag!==0&&N0(),fe=d.pendingLanes,(fe&1)!==0?d===Gf?Sx++:(Sx=0,Gf=d):Sx=0,sn(),null}function N0(){if(Bd!==null){var d=Ta(cm),x=Ql.transition,j=Ws;try{if(Ql.transition=null,Ws=16>d?16:d,Bd===null)var T=!1;else{if(d=Bd,Bd=null,cm=0,(Aa&6)!==0)throw Error(s(331));var X=Aa;for(Aa|=4,Ds=d.current;Ds!==null;){var fe=Ds,ze=fe.child;if((Ds.flags&16)!==0){var mt=fe.deletions;if(mt!==null){for(var Ct=0;Ct<mt.length;Ct++){var Yt=mt[Ct];for(Ds=Yt;Ds!==null;){var is=Ds;switch(is.tag){case 0:case 11:case 15:Nx(8,is,fe)}var us=is.child;if(us!==null)us.return=is,Ds=us;else for(;Ds!==null;){is=Ds;var os=is.sibling,ks=is.return;if(tj(is),is===Yt){Ds=null;break}if(os!==null){os.return=ks,Ds=os;break}Ds=ks}}}var As=fe.alternate;if(As!==null){var Os=As.child;if(Os!==null){As.child=null;do{var zr=Os.sibling;Os.sibling=null,Os=zr}while(Os!==null)}}Ds=fe}}if((fe.subtreeFlags&2064)!==0&&ze!==null)ze.return=fe,Ds=ze;else e:for(;Ds!==null;){if(fe=Ds,(fe.flags&2048)!==0)switch(fe.tag){case 0:case 11:case 15:Nx(9,fe,fe.return)}var Bt=fe.sibling;if(Bt!==null){Bt.return=fe.return,Ds=Bt;break e}Ds=fe.return}}var Tt=d.current;for(Ds=Tt;Ds!==null;){ze=Ds;var Ht=ze.child;if((ze.subtreeFlags&2064)!==0&&Ht!==null)Ht.return=ze,Ds=Ht;else e:for(ze=Tt;Ds!==null;){if(mt=Ds,(mt.flags&2048)!==0)try{switch(mt.tag){case 0:case 11:case 15:rm(9,mt)}}catch(Rs){Lr(mt,mt.return,Rs)}if(mt===ze){Ds=null;break e}var ms=mt.sibling;if(ms!==null){ms.return=mt.return,Ds=ms;break e}Ds=mt.return}}if(Aa=X,sn(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(ps,d)}catch{}T=!0}return T}finally{Ws=j,Ql.transition=x}}return!1}function fj(d,x,j){x=y0(j,x),x=LN(d,x,1),d=Ld(d,x,1),x=jo(),d!==null&&(xa(d,1,x),Yo(d,x))}function Lr(d,x,j){if(d.tag===3)fj(d,d,j);else for(;x!==null;){if(x.tag===3){fj(x,d,j);break}else if(x.tag===1){var T=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(_d===null||!_d.has(T))){d=y0(j,d),d=ON(x,d,1),x=Ld(x,d,1),d=jo(),x!==null&&(xa(x,1,d),Yo(x,d));break}}x=x.return}}function t6(d,x,j){var T=d.pingCache;T!==null&&T.delete(x),x=jo(),d.pingedLanes|=d.suspendedLanes&j,jn===d&&(Un&j)===j&&(mn===4||mn===3&&(Un&130023424)===Un&&500>Ge()-$f?Cu(d,0):Uf|=j),Yo(d,x)}function yj(d,x){x===0&&((d.mode&1)===0?x=1:(x=Vt,Vt<<=1,(Vt&130023424)===0&&(Vt=4194304)));var j=jo();d=Jc(d,x),d!==null&&(xa(d,x,j),Yo(d,j))}function s6(d){var x=d.memoizedState,j=0;x!==null&&(j=x.retryLane),yj(d,j)}function a6(d,x){var j=0;switch(d.tag){case 13:var T=d.stateNode,X=d.memoizedState;X!==null&&(j=X.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(s(314))}T!==null&&T.delete(x),yj(d,j)}var bj;bj=function(d,x,j){if(d!==null)if(d.memoizedProps!==x.pendingProps||$a.current)zo=!0;else{if((d.lanes&j)===0&&(x.flags&128)===0)return zo=!1,G5(d,x,j);zo=(d.flags&131072)!==0}else zo=!1,Cs&&(x.flags&1048576)!==0&&xt(x,Ti,x.index);switch(x.lanes=0,x.tag){case 2:var T=x.type;sm(d,x),d=x.pendingProps;var X=fl(x,Ua.current);g0(x,j),X=bf(null,x,T,d,X,j);var fe=vf();return x.flags|=1,typeof X=="object"&&X!==null&&typeof X.render=="function"&&X.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,xn(T)?(fe=!0,Td(x)):fe=!1,x.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,xf(x),X.updater=em,x.stateNode=X,X._reactInternals=x,kf(x,T,d,j),x=Af(null,x,T,!0,fe,j)):(x.tag=0,Cs&&fe&&Pt(x),No(null,x,X,j),x=x.child),x;case 16:T=x.elementType;e:{switch(sm(d,x),d=x.pendingProps,X=T._init,T=X(T._payload),x.type=T,X=x.tag=n6(T),d=Fi(T,d),X){case 0:x=Tf(null,x,T,d,j);break e;case 1:x=zN(null,x,T,d,j);break e;case 11:x=HN(null,x,T,d,j);break e;case 14:x=UN(null,x,T,Fi(T.type,d),j);break e}throw Error(s(306,T,""))}return x;case 0:return T=x.type,X=x.pendingProps,X=x.elementType===T?X:Fi(T,X),Tf(d,x,T,X,j);case 1:return T=x.type,X=x.pendingProps,X=x.elementType===T?X:Fi(T,X),zN(d,x,T,X,j);case 3:e:{if(VN(x),d===null)throw Error(s(387));T=x.pendingProps,fe=x.memoizedState,X=fe.element,lN(d,x),Yh(x,T,null,j);var ze=x.memoizedState;if(T=ze.element,fe.isDehydrated)if(fe={element:T,isDehydrated:!1,cache:ze.cache,pendingSuspenseBoundaries:ze.pendingSuspenseBoundaries,transitions:ze.transitions},x.updateQueue.baseState=fe,x.memoizedState=fe,x.flags&256){X=y0(Error(s(423)),x),x=YN(d,x,T,j,X);break e}else if(T!==X){X=y0(Error(s(424)),x),x=YN(d,x,T,j,X);break e}else for(Ot=Qn(x.stateNode.containerInfo.firstChild),Ne=x,Cs=!0,ir=null,j=nN(x,null,T,j),x.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(h0(),T===X){x=Zc(d,x,j);break e}No(d,x,T,j)}x=x.child}return x;case 5:return dN(x),d===null&&rf(x),T=x.type,X=x.pendingProps,fe=d!==null?d.memoizedProps:null,ze=X.children,Wo(T,X)?ze=null:fe!==null&&Wo(T,fe)&&(x.flags|=32),GN(d,x),No(d,x,ze,j),x.child;case 6:return d===null&&rf(x),null;case 13:return KN(d,x,j);case 4:return hf(x,x.stateNode.containerInfo),T=x.pendingProps,d===null?x.child=m0(x,null,T,j):No(d,x,T,j),x.child;case 11:return T=x.type,X=x.pendingProps,X=x.elementType===T?X:Fi(T,X),HN(d,x,T,X,j);case 7:return No(d,x,x.pendingProps,j),x.child;case 8:return No(d,x,x.pendingProps.children,j),x.child;case 12:return No(d,x,x.pendingProps.children,j),x.child;case 10:e:{if(T=x.type._context,X=x.pendingProps,fe=x.memoizedProps,ze=X.value,na(Gh,T._currentValue),T._currentValue=ze,fe!==null)if(vn(fe.value,ze)){if(fe.children===X.children&&!$a.current){x=Zc(d,x,j);break e}}else for(fe=x.child,fe!==null&&(fe.return=x);fe!==null;){var mt=fe.dependencies;if(mt!==null){ze=fe.child;for(var Ct=mt.firstContext;Ct!==null;){if(Ct.context===T){if(fe.tag===1){Ct=Qc(-1,j&-j),Ct.tag=2;var Yt=fe.updateQueue;if(Yt!==null){Yt=Yt.shared;var is=Yt.pending;is===null?Ct.next=Ct:(Ct.next=is.next,is.next=Ct),Yt.pending=Ct}}fe.lanes|=j,Ct=fe.alternate,Ct!==null&&(Ct.lanes|=j),df(fe.return,j,x),mt.lanes|=j;break}Ct=Ct.next}}else if(fe.tag===10)ze=fe.type===x.type?null:fe.child;else if(fe.tag===18){if(ze=fe.return,ze===null)throw Error(s(341));ze.lanes|=j,mt=ze.alternate,mt!==null&&(mt.lanes|=j),df(ze,j,x),ze=fe.sibling}else ze=fe.child;if(ze!==null)ze.return=fe;else for(ze=fe;ze!==null;){if(ze===x){ze=null;break}if(fe=ze.sibling,fe!==null){fe.return=ze.return,ze=fe;break}ze=ze.return}fe=ze}No(d,x,X.children,j),x=x.child}return x;case 9:return X=x.type,T=x.pendingProps.children,g0(x,j),X=Xl(X),T=T(X),x.flags|=1,No(d,x,T,j),x.child;case 14:return T=x.type,X=Fi(T,x.pendingProps),X=Fi(T.type,X),UN(d,x,T,X,j);case 15:return $N(d,x,x.type,x.pendingProps,j);case 17:return T=x.type,X=x.pendingProps,X=x.elementType===T?X:Fi(T,X),sm(d,x),x.tag=1,xn(T)?(d=!0,Td(x)):d=!1,g0(x,j),IN(x,T,X),kf(x,T,X,j),Af(null,x,T,!0,d,j);case 19:return XN(d,x,j);case 22:return WN(d,x,j)}throw Error(s(156,x.tag))};function vj(d,x){return Pe(d,x)}function r6(d,x,j,T){this.tag=d,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zl(d,x,j,T){return new r6(d,x,j,T)}function Xf(d){return d=d.prototype,!(!d||!d.isReactComponent)}function n6(d){if(typeof d=="function")return Xf(d)?1:0;if(d!=null){if(d=d.$$typeof,d===L)return 11;if(d===ye)return 14}return 2}function Ud(d,x){var j=d.alternate;return j===null?(j=Zl(d.tag,x,d.key,d.mode),j.elementType=d.elementType,j.type=d.type,j.stateNode=d.stateNode,j.alternate=d,d.alternate=j):(j.pendingProps=x,j.type=d.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=d.flags&14680064,j.childLanes=d.childLanes,j.lanes=d.lanes,j.child=d.child,j.memoizedProps=d.memoizedProps,j.memoizedState=d.memoizedState,j.updateQueue=d.updateQueue,x=d.dependencies,j.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},j.sibling=d.sibling,j.index=d.index,j.ref=d.ref,j}function hm(d,x,j,T,X,fe){var ze=2;if(T=d,typeof d=="function")Xf(d)&&(ze=1);else if(typeof d=="string")ze=5;else e:switch(d){case A:return ku(j.children,X,fe,x);case F:ze=8,X|=8;break;case O:return d=Zl(12,j,x,X|2),d.elementType=O,d.lanes=fe,d;case G:return d=Zl(13,j,x,X),d.elementType=G,d.lanes=fe,d;case re:return d=Zl(19,j,x,X),d.elementType=re,d.lanes=fe,d;case ne:return mm(j,X,fe,x);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case M:ze=10;break e;case U:ze=9;break e;case L:ze=11;break e;case ye:ze=14;break e;case K:ze=16,T=null;break e}throw Error(s(130,d==null?d:typeof d,""))}return x=Zl(ze,j,x,X),x.elementType=d,x.type=T,x.lanes=fe,x}function ku(d,x,j,T){return d=Zl(7,d,T,x),d.lanes=j,d}function mm(d,x,j,T){return d=Zl(22,d,T,x),d.elementType=ne,d.lanes=j,d.stateNode={isHidden:!1},d}function Jf(d,x,j){return d=Zl(6,d,null,x),d.lanes=j,d}function Qf(d,x,j){return x=Zl(4,d.children!==null?d.children:[],d.key,x),x.lanes=j,x.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},x}function o6(d,x,j,T,X){this.tag=x,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oa(0),this.expirationTimes=oa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oa(0),this.identifierPrefix=T,this.onRecoverableError=X,this.mutableSourceEagerHydrationData=null}function Zf(d,x,j,T,X,fe,ze,mt,Ct){return d=new o6(d,x,j,mt,Ct),x===1?(x=1,fe===!0&&(x|=8)):x=0,fe=Zl(3,null,null,x),d.current=fe,fe.stateNode=d,fe.memoizedState={element:T,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},xf(fe),d}function l6(d,x,j){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:T==null?null:""+T,children:d,containerInfo:x,implementation:j}}function wj(d){if(!d)return Gr;d=d._reactInternals;e:{if(_(d)!==d||d.tag!==1)throw Error(s(170));var x=d;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(xn(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(s(171))}if(d.tag===1){var j=d.type;if(xn(j))return Ed(d,j,x)}return x}function Nj(d,x,j,T,X,fe,ze,mt,Ct){return d=Zf(j,T,!0,d,X,fe,ze,mt,Ct),d.context=wj(null),j=d.current,T=jo(),X=Rd(j),fe=Qc(T,X),fe.callback=x??null,Ld(j,fe,X),d.current.lanes=X,xa(d,X,T),Yo(d,T),d}function pm(d,x,j,T){var X=x.current,fe=jo(),ze=Rd(X);return j=wj(j),x.context===null?x.context=j:x.pendingContext=j,x=Qc(fe,ze),x.payload={element:d},T=T===void 0?null:T,T!==null&&(x.callback=T),d=Ld(X,x,ze),d!==null&&(Mi(d,X,ze,fe),Vh(d,X,ze)),ze}function gm(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function jj(d,x){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var j=d.retryLane;d.retryLane=j!==0&&j<x?j:x}}function ey(d,x){jj(d,x),(d=d.alternate)&&jj(d,x)}function i6(){return null}var Cj=typeof reportError=="function"?reportError:function(d){console.error(d)};function ty(d){this._internalRoot=d}fm.prototype.render=ty.prototype.render=function(d){var x=this._internalRoot;if(x===null)throw Error(s(409));pm(d,x,null,null)},fm.prototype.unmount=ty.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var x=d.containerInfo;ju(function(){pm(null,d,null,null)}),x[wo]=null}};function fm(d){this._internalRoot=d}fm.prototype.unstable_scheduleHydration=function(d){if(d){var x=Us();d={blockedOn:null,target:d,priority:x};for(var j=0;j<xs.length&&x!==0&&x<xs[j].priority;j++);xs.splice(j,0,d),j===0&&ds(d)}};function sy(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function ym(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function Sj(){}function c6(d,x,j,T,X){if(X){if(typeof T=="function"){var fe=T;T=function(){var Yt=gm(ze);fe.call(Yt)}}var ze=Nj(x,T,d,0,null,!1,!1,"",Sj);return d._reactRootContainer=ze,d[wo]=ze.current,ul(d.nodeType===8?d.parentNode:d),ju(),ze}for(;X=d.lastChild;)d.removeChild(X);if(typeof T=="function"){var mt=T;T=function(){var Yt=gm(Ct);mt.call(Yt)}}var Ct=Zf(d,0,!1,null,null,!1,!1,"",Sj);return d._reactRootContainer=Ct,d[wo]=Ct.current,ul(d.nodeType===8?d.parentNode:d),ju(function(){pm(x,Ct,j,T)}),Ct}function bm(d,x,j,T,X){var fe=j._reactRootContainer;if(fe){var ze=fe;if(typeof X=="function"){var mt=X;X=function(){var Ct=gm(ze);mt.call(Ct)}}pm(x,ze,d,X)}else ze=c6(j,x,d,X,T);return gm(ze)}at=function(d){switch(d.tag){case 3:var x=d.stateNode;if(x.current.memoizedState.isDehydrated){var j=cs(x.pendingLanes);j!==0&&(Ha(x,j|1),Yo(x,Ge()),(Aa&6)===0&&(w0=Ge()+500,sn()))}break;case 13:ju(function(){var T=Jc(d,1);if(T!==null){var X=jo();Mi(T,d,1,X)}}),ey(d,1)}},Qt=function(d){if(d.tag===13){var x=Jc(d,134217728);if(x!==null){var j=jo();Mi(x,d,134217728,j)}ey(d,134217728)}},_s=function(d){if(d.tag===13){var x=Rd(d),j=Jc(d,x);if(j!==null){var T=jo();Mi(j,d,x,T)}ey(d,x)}},Us=function(){return Ws},nr=function(d,x){var j=Ws;try{return Ws=d,x()}finally{Ws=j}},lt=function(d,x,j){switch(x){case"input":if(We(d,j),x=j.name,j.type==="radio"&&x!=null){for(j=d;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+x)+'][type="radio"]'),x=0;x<j.length;x++){var T=j[x];if(T!==d&&T.form===d.form){var X=Sr(T);if(!X)throw Error(s(90));Q(T),We(T,X)}}}break;case"textarea":De(d,j);break;case"select":x=j.value,x!=null&&q(d,!!j.multiple,x,!1)}},Ke=Yf,tt=ju;var d6={usingClientEntryPoint:!1,Events:[Lt,Ms,Sr,It,Dt,Yf]},kx={findFiberByHostInstance:At,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u6={bundleType:kx.bundleType,version:kx.version,rendererPackageName:kx.rendererPackageName,rendererConfig:kx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:S.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Ie(d),d===null?null:d.stateNode},findFiberByHostInstance:kx.findFiberByHostInstance||i6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{ps=vm.inject(u6),ct=vm}catch{}}return Ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d6,Ko.createPortal=function(d,x){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(x))throw Error(s(200));return l6(d,x,null,j)},Ko.createRoot=function(d,x){if(!sy(d))throw Error(s(299));var j=!1,T="",X=Cj;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onRecoverableError!==void 0&&(X=x.onRecoverableError)),x=Zf(d,1,!1,null,null,j,!1,T,X),d[wo]=x.current,ul(d.nodeType===8?d.parentNode:d),new ty(x)},Ko.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var x=d._reactInternals;if(x===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=Ie(x),d=d===null?null:d.stateNode,d},Ko.flushSync=function(d){return ju(d)},Ko.hydrate=function(d,x,j){if(!ym(x))throw Error(s(200));return bm(null,d,x,!0,j)},Ko.hydrateRoot=function(d,x,j){if(!sy(d))throw Error(s(405));var T=j!=null&&j.hydratedSources||null,X=!1,fe="",ze=Cj;if(j!=null&&(j.unstable_strictMode===!0&&(X=!0),j.identifierPrefix!==void 0&&(fe=j.identifierPrefix),j.onRecoverableError!==void 0&&(ze=j.onRecoverableError)),x=Nj(x,null,d,1,j??null,X,!1,fe,ze),d[wo]=x.current,ul(d),T)for(d=0;d<T.length;d++)j=T[d],X=j._getVersion,X=X(j._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[j,X]:x.mutableSourceEagerHydrationData.push(j,X);return new fm(x)},Ko.render=function(d,x,j){if(!ym(x))throw Error(s(200));return bm(null,d,x,!1,j)},Ko.unmountComponentAtNode=function(d){if(!ym(d))throw Error(s(40));return d._reactRootContainer?(ju(function(){bm(null,null,d,!1,function(){d._reactRootContainer=null,d[wo]=null})}),!0):!1},Ko.unstable_batchedUpdates=Yf,Ko.unstable_renderSubtreeIntoContainer=function(d,x,j,T){if(!ym(j))throw Error(s(200));if(d==null||d._reactInternals===void 0)throw Error(s(38));return bm(d,x,j,!1,T)},Ko.version="18.3.1-next-f1338f8080-20240426",Ko}var Ij;function g4(){if(Ij)return oy.exports;Ij=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),oy.exports=v6(),oy.exports}var Mj;function w6(){if(Mj)return wm;Mj=1;var t=g4();return wm.createRoot=t.createRoot,wm.hydrateRoot=t.hydrateRoot,wm}var N6=w6(),o=gv();const f4=pv(o),y4=h6({__proto__:null,default:f4},[o]);function b4(t,a){return function(){return t.apply(a,arguments)}}const{toString:j6}=Object.prototype,{getPrototypeOf:fv}=Object,{iterator:Tg,toStringTag:v4}=Symbol,Ag=(t=>a=>{const s=j6.call(a);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Vi=t=>(t=t.toLowerCase(),a=>Ag(a)===t),Fg=t=>a=>typeof a===t,{isArray:Q0}=Array,$0=Fg("undefined");function xh(t){return t!==null&&!$0(t)&&t.constructor!==null&&!$0(t.constructor)&&Jo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const w4=Vi("ArrayBuffer");function C6(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&w4(t.buffer),a}const S6=Fg("string"),Jo=Fg("function"),N4=Fg("number"),hh=t=>t!==null&&typeof t=="object",k6=t=>t===!0||t===!1,lp=t=>{if(Ag(t)!=="object")return!1;const a=fv(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(v4 in t)&&!(Tg in t)},D6=t=>{if(!hh(t)||xh(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},E6=Vi("Date"),T6=Vi("File"),A6=Vi("Blob"),F6=Vi("FileList"),P6=t=>hh(t)&&Jo(t.pipe),I6=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||Jo(t.append)&&((a=Ag(t))==="formdata"||a==="object"&&Jo(t.toString)&&t.toString()==="[object FormData]"))},M6=Vi("URLSearchParams"),[L6,O6,_6,B6]=["ReadableStream","Request","Response","Headers"].map(Vi),R6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mh(t,a,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),Q0(t))for(r=0,n=t.length;r<n;r++)a.call(null,t[r],r,t);else{if(xh(t))return;const l=s?Object.getOwnPropertyNames(t):Object.keys(t),i=l.length;let c;for(r=0;r<i;r++)c=l[r],a.call(null,t[c],c,t)}}function j4(t,a){if(xh(t))return null;a=a.toLowerCase();const s=Object.keys(t);let r=s.length,n;for(;r-- >0;)if(n=s[r],a===n.toLowerCase())return n;return null}const Lu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,C4=t=>!$0(t)&&t!==Lu;function _b(){const{caseless:t,skipUndefined:a}=C4(this)&&this||{},s={},r=(n,l)=>{if(l==="__proto__"||l==="constructor"||l==="prototype")return;const i=t&&j4(s,l)||l;lp(s[i])&&lp(n)?s[i]=_b(s[i],n):lp(n)?s[i]=_b({},n):Q0(n)?s[i]=n.slice():(!a||!$0(n))&&(s[i]=n)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&mh(arguments[n],r);return s}const H6=(t,a,s,{allOwnKeys:r}={})=>(mh(a,(n,l)=>{s&&Jo(n)?Object.defineProperty(t,l,{value:b4(n,s),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,l,{value:n,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),U6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$6=(t,a,s,r)=>{t.prototype=Object.create(a.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:a.prototype}),s&&Object.assign(t.prototype,s)},W6=(t,a,s,r)=>{let n,l,i;const c={};if(a=a||{},t==null)return a;do{for(n=Object.getOwnPropertyNames(t),l=n.length;l-- >0;)i=n[l],(!r||r(i,t,a))&&!c[i]&&(a[i]=t[i],c[i]=!0);t=s!==!1&&fv(t)}while(t&&(!s||s(t,a))&&t!==Object.prototype);return a},G6=(t,a,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=a.length;const r=t.indexOf(a,s);return r!==-1&&r===s},z6=t=>{if(!t)return null;if(Q0(t))return t;let a=t.length;if(!N4(a))return null;const s=new Array(a);for(;a-- >0;)s[a]=t[a];return s},V6=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&fv(Uint8Array)),Y6=(t,a)=>{const r=(t&&t[Tg]).call(t);let n;for(;(n=r.next())&&!n.done;){const l=n.value;a.call(t,l[0],l[1])}},K6=(t,a)=>{let s;const r=[];for(;(s=t.exec(a))!==null;)r.push(s);return r},q6=Vi("HTMLFormElement"),X6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),Lj=(({hasOwnProperty:t})=>(a,s)=>t.call(a,s))(Object.prototype),J6=Vi("RegExp"),S4=(t,a)=>{const s=Object.getOwnPropertyDescriptors(t),r={};mh(s,(n,l)=>{let i;(i=a(n,l,t))!==!1&&(r[l]=i||n)}),Object.defineProperties(t,r)},Q6=t=>{S4(t,(a,s)=>{if(Jo(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(Jo(r)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Z6=(t,a)=>{const s={},r=n=>{n.forEach(l=>{s[l]=!0})};return Q0(t)?r(t):r(String(t).split(a)),s},eE=()=>{},tE=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function sE(t){return!!(t&&Jo(t.append)&&t[v4]==="FormData"&&t[Tg])}const aE=t=>{const a=new Array(10),s=(r,n)=>{if(hh(r)){if(a.indexOf(r)>=0)return;if(xh(r))return r;if(!("toJSON"in r)){a[n]=r;const l=Q0(r)?[]:{};return mh(r,(i,c)=>{const u=s(i,n+1);!$0(u)&&(l[c]=u)}),a[n]=void 0,l}}return r};return s(t,0)},rE=Vi("AsyncFunction"),nE=t=>t&&(hh(t)||Jo(t))&&Jo(t.then)&&Jo(t.catch),k4=((t,a)=>t?setImmediate:a?((s,r)=>(Lu.addEventListener("message",({source:n,data:l})=>{n===Lu&&l===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Lu.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Jo(Lu.postMessage)),oE=typeof queueMicrotask<"u"?queueMicrotask.bind(Lu):typeof process<"u"&&process.nextTick||k4,lE=t=>t!=null&&Jo(t[Tg]),Xt={isArray:Q0,isArrayBuffer:w4,isBuffer:xh,isFormData:I6,isArrayBufferView:C6,isString:S6,isNumber:N4,isBoolean:k6,isObject:hh,isPlainObject:lp,isEmptyObject:D6,isReadableStream:L6,isRequest:O6,isResponse:_6,isHeaders:B6,isUndefined:$0,isDate:E6,isFile:T6,isBlob:A6,isRegExp:J6,isFunction:Jo,isStream:P6,isURLSearchParams:M6,isTypedArray:V6,isFileList:F6,forEach:mh,merge:_b,extend:H6,trim:R6,stripBOM:U6,inherits:$6,toFlatObject:W6,kindOf:Ag,kindOfTest:Vi,endsWith:G6,toArray:z6,forEachEntry:Y6,matchAll:K6,isHTMLForm:q6,hasOwnProperty:Lj,hasOwnProp:Lj,reduceDescriptors:S4,freezeMethods:Q6,toObjectSet:Z6,toCamelCase:X6,noop:eE,toFiniteNumber:tE,findKey:j4,global:Lu,isContextDefined:C4,isSpecCompliantForm:sE,toJSONObject:aE,isAsyncFn:rE,isThenable:nE,setImmediate:k4,asap:oE,isIterable:lE};let Xs=class D4 extends Error{static from(a,s,r,n,l,i){const c=new D4(a.message,s||a.code,r,n,l);return c.cause=a,c.name=a.name,i&&Object.assign(c,i),c}constructor(a,s,r,n,l){super(a),this.name="AxiosError",this.isAxiosError=!0,s&&(this.code=s),r&&(this.config=r),n&&(this.request=n),l&&(this.response=l,this.status=l.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xt.toJSONObject(this.config),code:this.code,status:this.status}}};Xs.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Xs.ERR_BAD_OPTION="ERR_BAD_OPTION";Xs.ECONNABORTED="ECONNABORTED";Xs.ETIMEDOUT="ETIMEDOUT";Xs.ERR_NETWORK="ERR_NETWORK";Xs.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Xs.ERR_DEPRECATED="ERR_DEPRECATED";Xs.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Xs.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Xs.ERR_CANCELED="ERR_CANCELED";Xs.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Xs.ERR_INVALID_URL="ERR_INVALID_URL";const iE=null;function Bb(t){return Xt.isPlainObject(t)||Xt.isArray(t)}function E4(t){return Xt.endsWith(t,"[]")?t.slice(0,-2):t}function Oj(t,a,s){return t?t.concat(a).map(function(n,l){return n=E4(n),!s&&l?"["+n+"]":n}).join(s?".":""):a}function cE(t){return Xt.isArray(t)&&!t.some(Bb)}const dE=Xt.toFlatObject(Xt,{},null,function(a){return/^is[A-Z]/.test(a)});function Pg(t,a,s){if(!Xt.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,s=Xt.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,f){return!Xt.isUndefined(f[v])});const r=s.metaTokens,n=s.visitor||m,l=s.dots,i=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&Xt.isSpecCompliantForm(a);if(!Xt.isFunction(n))throw new TypeError("visitor must be a function");function h(p){if(p===null)return"";if(Xt.isDate(p))return p.toISOString();if(Xt.isBoolean(p))return p.toString();if(!u&&Xt.isBlob(p))throw new Xs("Blob is not supported. Use a Buffer instead.");return Xt.isArrayBuffer(p)||Xt.isTypedArray(p)?u&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function m(p,v,f){let y=p;if(p&&!f&&typeof p=="object"){if(Xt.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(Xt.isArray(p)&&cE(p)||(Xt.isFileList(p)||Xt.endsWith(v,"[]"))&&(y=Xt.toArray(p)))return v=E4(v),y.forEach(function(C,S){!(Xt.isUndefined(C)||C===null)&&a.append(i===!0?Oj([v],S,l):i===null?v:v+"[]",h(C))}),!1}return Bb(p)?!0:(a.append(Oj(f,v,l),h(p)),!1)}const b=[],g=Object.assign(dE,{defaultVisitor:m,convertValue:h,isVisitable:Bb});function w(p,v){if(!Xt.isUndefined(p)){if(b.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));b.push(p),Xt.forEach(p,function(y,N){(!(Xt.isUndefined(y)||y===null)&&n.call(a,y,Xt.isString(N)?N.trim():N,v,g))===!0&&w(y,v?v.concat(N):[N])}),b.pop()}}if(!Xt.isObject(t))throw new TypeError("data must be an object");return w(t),a}function _j(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return a[r]})}function yv(t,a){this._pairs=[],t&&Pg(t,this,a)}const T4=yv.prototype;T4.append=function(a,s){this._pairs.push([a,s])};T4.toString=function(a){const s=a?function(r){return a.call(this,r,_j)}:_j;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function uE(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function A4(t,a,s){if(!a)return t;const r=s&&s.encode||uE,n=Xt.isFunction(s)?{serialize:s}:s,l=n&&n.serialize;let i;if(l?i=l(a,n):i=Xt.isURLSearchParams(a)?a.toString():new yv(a,n).toString(r),i){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Bj{constructor(){this.handlers=[]}use(a,s,r){return this.handlers.push({fulfilled:a,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){Xt.forEach(this.handlers,function(r){r!==null&&a(r)})}}const bv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},xE=typeof URLSearchParams<"u"?URLSearchParams:yv,hE=typeof FormData<"u"?FormData:null,mE=typeof Blob<"u"?Blob:null,pE={isBrowser:!0,classes:{URLSearchParams:xE,FormData:hE,Blob:mE},protocols:["http","https","file","blob","url","data"]},vv=typeof window<"u"&&typeof document<"u",Rb=typeof navigator=="object"&&navigator||void 0,gE=vv&&(!Rb||["ReactNative","NativeScript","NS"].indexOf(Rb.product)<0),fE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yE=vv&&window.location.href||"http://localhost",bE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vv,hasStandardBrowserEnv:gE,hasStandardBrowserWebWorkerEnv:fE,navigator:Rb,origin:yE},Symbol.toStringTag,{value:"Module"})),co={...bE,...pE};function vE(t,a){return Pg(t,new co.classes.URLSearchParams,{visitor:function(s,r,n,l){return co.isNode&&Xt.isBuffer(s)?(this.append(r,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...a})}function wE(t){return Xt.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function NE(t){const a={},s=Object.keys(t);let r;const n=s.length;let l;for(r=0;r<n;r++)l=s[r],a[l]=t[l];return a}function F4(t){function a(s,r,n,l){let i=s[l++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),u=l>=s.length;return i=!i&&Xt.isArray(n)?n.length:i,u?(Xt.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!c):((!n[i]||!Xt.isObject(n[i]))&&(n[i]=[]),a(s,r,n[i],l)&&Xt.isArray(n[i])&&(n[i]=NE(n[i])),!c)}if(Xt.isFormData(t)&&Xt.isFunction(t.entries)){const s={};return Xt.forEachEntry(t,(r,n)=>{a(wE(r),n,s,0)}),s}return null}function jE(t,a,s){if(Xt.isString(t))try{return(a||JSON.parse)(t),Xt.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const ph={transitional:bv,adapter:["xhr","http","fetch"],transformRequest:[function(a,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,l=Xt.isObject(a);if(l&&Xt.isHTMLForm(a)&&(a=new FormData(a)),Xt.isFormData(a))return n?JSON.stringify(F4(a)):a;if(Xt.isArrayBuffer(a)||Xt.isBuffer(a)||Xt.isStream(a)||Xt.isFile(a)||Xt.isBlob(a)||Xt.isReadableStream(a))return a;if(Xt.isArrayBufferView(a))return a.buffer;if(Xt.isURLSearchParams(a))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let c;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vE(a,this.formSerializer).toString();if((c=Xt.isFileList(a))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Pg(c?{"files[]":a}:a,u&&new u,this.formSerializer)}}return l||n?(s.setContentType("application/json",!1),jE(a)):a}],transformResponse:[function(a){const s=this.transitional||ph.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(Xt.isResponse(a)||Xt.isReadableStream(a))return a;if(a&&Xt.isString(a)&&(r&&!this.responseType||n)){const i=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(a,this.parseReviver)}catch(c){if(i)throw c.name==="SyntaxError"?Xs.from(c,Xs.ERR_BAD_RESPONSE,this,null,this.response):c}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:co.classes.FormData,Blob:co.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xt.forEach(["delete","get","head","post","put","patch"],t=>{ph.headers[t]={}});const CE=Xt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),SE=t=>{const a={};let s,r,n;return t&&t.split(`
`).forEach(function(i){n=i.indexOf(":"),s=i.substring(0,n).trim().toLowerCase(),r=i.substring(n+1).trim(),!(!s||a[s]&&CE[s])&&(s==="set-cookie"?a[s]?a[s].push(r):a[s]=[r]:a[s]=a[s]?a[s]+", "+r:r)}),a},Rj=Symbol("internals");function Ex(t){return t&&String(t).trim().toLowerCase()}function ip(t){return t===!1||t==null?t:Xt.isArray(t)?t.map(ip):String(t)}function kE(t){const a=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)a[r[1]]=r[2];return a}const DE=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cy(t,a,s,r,n){if(Xt.isFunction(r))return r.call(this,a,s);if(n&&(a=s),!!Xt.isString(a)){if(Xt.isString(r))return a.indexOf(r)!==-1;if(Xt.isRegExp(r))return r.test(a)}}function EE(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,s,r)=>s.toUpperCase()+r)}function TE(t,a){const s=Xt.toCamelCase(" "+a);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(n,l,i){return this[r].call(this,a,n,l,i)},configurable:!0})})}let Qo=class{constructor(a){a&&this.set(a)}set(a,s,r){const n=this;function l(c,u,h){const m=Ex(u);if(!m)throw new Error("header name must be a non-empty string");const b=Xt.findKey(n,m);(!b||n[b]===void 0||h===!0||h===void 0&&n[b]!==!1)&&(n[b||u]=ip(c))}const i=(c,u)=>Xt.forEach(c,(h,m)=>l(h,m,u));if(Xt.isPlainObject(a)||a instanceof this.constructor)i(a,s);else if(Xt.isString(a)&&(a=a.trim())&&!DE(a))i(SE(a),s);else if(Xt.isObject(a)&&Xt.isIterable(a)){let c={},u,h;for(const m of a){if(!Xt.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(u=c[h])?Xt.isArray(u)?[...u,m[1]]:[u,m[1]]:m[1]}i(c,s)}else a!=null&&l(s,a,r);return this}get(a,s){if(a=Ex(a),a){const r=Xt.findKey(this,a);if(r){const n=this[r];if(!s)return n;if(s===!0)return kE(n);if(Xt.isFunction(s))return s.call(this,n,r);if(Xt.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,s){if(a=Ex(a),a){const r=Xt.findKey(this,a);return!!(r&&this[r]!==void 0&&(!s||cy(this,this[r],r,s)))}return!1}delete(a,s){const r=this;let n=!1;function l(i){if(i=Ex(i),i){const c=Xt.findKey(r,i);c&&(!s||cy(r,r[c],c,s))&&(delete r[c],n=!0)}}return Xt.isArray(a)?a.forEach(l):l(a),n}clear(a){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const l=s[r];(!a||cy(this,this[l],l,a,!0))&&(delete this[l],n=!0)}return n}normalize(a){const s=this,r={};return Xt.forEach(this,(n,l)=>{const i=Xt.findKey(r,l);if(i){s[i]=ip(n),delete s[l];return}const c=a?EE(l):String(l).trim();c!==l&&delete s[l],s[c]=ip(n),r[c]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const s=Object.create(null);return Xt.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=a&&Xt.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,s])=>a+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...s){const r=new this(a);return s.forEach(n=>r.set(n)),r}static accessor(a){const r=(this[Rj]=this[Rj]={accessors:{}}).accessors,n=this.prototype;function l(i){const c=Ex(i);r[c]||(TE(n,i),r[c]=!0)}return Xt.isArray(a)?a.forEach(l):l(a),this}};Qo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Xt.reduceDescriptors(Qo.prototype,({value:t},a)=>{let s=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(r){this[s]=r}}});Xt.freezeMethods(Qo);function dy(t,a){const s=this||ph,r=a||s,n=Qo.from(r.headers);let l=r.data;return Xt.forEach(t,function(c){l=c.call(s,l,n.normalize(),a?a.status:void 0)}),n.normalize(),l}function P4(t){return!!(t&&t.__CANCEL__)}let gh=class extends Xs{constructor(a,s,r){super(a??"canceled",Xs.ERR_CANCELED,s,r),this.name="CanceledError",this.__CANCEL__=!0}};function I4(t,a,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):a(new Xs("Request failed with status code "+s.status,[Xs.ERR_BAD_REQUEST,Xs.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function AE(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function FE(t,a){t=t||10;const s=new Array(t),r=new Array(t);let n=0,l=0,i;return a=a!==void 0?a:1e3,function(u){const h=Date.now(),m=r[l];i||(i=h),s[n]=u,r[n]=h;let b=l,g=0;for(;b!==n;)g+=s[b++],b=b%t;if(n=(n+1)%t,n===l&&(l=(l+1)%t),h-i<a)return;const w=m&&h-m;return w?Math.round(g*1e3/w):void 0}}function PE(t,a){let s=0,r=1e3/a,n,l;const i=(h,m=Date.now())=>{s=m,n=null,l&&(clearTimeout(l),l=null),t(...h)};return[(...h)=>{const m=Date.now(),b=m-s;b>=r?i(h,m):(n=h,l||(l=setTimeout(()=>{l=null,i(n)},r-b)))},()=>n&&i(n)]}const Xp=(t,a,s=3)=>{let r=0;const n=FE(50,250);return PE(l=>{const i=l.loaded,c=l.lengthComputable?l.total:void 0,u=i-r,h=n(u),m=i<=c;r=i;const b={loaded:i,total:c,progress:c?i/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&m?(c-i)/h:void 0,event:l,lengthComputable:c!=null,[a?"download":"upload"]:!0};t(b)},s)},Hj=(t,a)=>{const s=t!=null;return[r=>a[0]({lengthComputable:s,total:t,loaded:r}),a[1]]},Uj=t=>(...a)=>Xt.asap(()=>t(...a)),IE=co.hasStandardBrowserEnv?((t,a)=>s=>(s=new URL(s,co.origin),t.protocol===s.protocol&&t.host===s.host&&(a||t.port===s.port)))(new URL(co.origin),co.navigator&&/(msie|trident)/i.test(co.navigator.userAgent)):()=>!0,ME=co.hasStandardBrowserEnv?{write(t,a,s,r,n,l,i){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(a)}`];Xt.isNumber(s)&&c.push(`expires=${new Date(s).toUTCString()}`),Xt.isString(r)&&c.push(`path=${r}`),Xt.isString(n)&&c.push(`domain=${n}`),l===!0&&c.push("secure"),Xt.isString(i)&&c.push(`SameSite=${i}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function LE(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function OE(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function M4(t,a,s){let r=!LE(a);return t&&(r||s==!1)?OE(t,a):a}const $j=t=>t instanceof Qo?{...t}:t;function Wu(t,a){a=a||{};const s={};function r(h,m,b,g){return Xt.isPlainObject(h)&&Xt.isPlainObject(m)?Xt.merge.call({caseless:g},h,m):Xt.isPlainObject(m)?Xt.merge({},m):Xt.isArray(m)?m.slice():m}function n(h,m,b,g){if(Xt.isUndefined(m)){if(!Xt.isUndefined(h))return r(void 0,h,b,g)}else return r(h,m,b,g)}function l(h,m){if(!Xt.isUndefined(m))return r(void 0,m)}function i(h,m){if(Xt.isUndefined(m)){if(!Xt.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function c(h,m,b){if(b in a)return r(h,m);if(b in t)return r(void 0,h)}const u={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(h,m,b)=>n($j(h),$j(m),b,!0)};return Xt.forEach(Object.keys({...t,...a}),function(m){if(m==="__proto__"||m==="constructor"||m==="prototype")return;const b=Xt.hasOwnProp(u,m)?u[m]:n,g=b(t[m],a[m],m);Xt.isUndefined(g)&&b!==c||(s[m]=g)}),s}const L4=t=>{const a=Wu({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:c}=a;if(a.headers=i=Qo.from(i),a.url=A4(M4(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Xt.isFormData(s)){if(co.hasStandardBrowserEnv||co.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Xt.isFunction(s.getHeaders)){const u=s.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([m,b])=>{h.includes(m.toLowerCase())&&i.set(m,b)})}}if(co.hasStandardBrowserEnv&&(r&&Xt.isFunction(r)&&(r=r(a)),r||r!==!1&&IE(a.url))){const u=n&&l&&ME.read(l);u&&i.set(n,u)}return a},_E=typeof XMLHttpRequest<"u",BE=_E&&function(t){return new Promise(function(s,r){const n=L4(t);let l=n.data;const i=Qo.from(n.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=n,m,b,g,w,p;function v(){w&&w(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let f=new XMLHttpRequest;f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout;function y(){if(!f)return;const C=Qo.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),I={data:!c||c==="text"||c==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:C,config:t,request:f};I4(function(A){s(A),v()},function(A){r(A),v()},I),f=null}"onloadend"in f?f.onloadend=y:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(y)},f.onabort=function(){f&&(r(new Xs("Request aborted",Xs.ECONNABORTED,t,f)),f=null)},f.onerror=function(S){const I=S&&S.message?S.message:"Network Error",k=new Xs(I,Xs.ERR_NETWORK,t,f);k.event=S||null,r(k),f=null},f.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const I=n.transitional||bv;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),r(new Xs(S,I.clarifyTimeoutError?Xs.ETIMEDOUT:Xs.ECONNABORTED,t,f)),f=null},l===void 0&&i.setContentType(null),"setRequestHeader"in f&&Xt.forEach(i.toJSON(),function(S,I){f.setRequestHeader(I,S)}),Xt.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),c&&c!=="json"&&(f.responseType=n.responseType),h&&([g,p]=Xp(h,!0),f.addEventListener("progress",g)),u&&f.upload&&([b,w]=Xp(u),f.upload.addEventListener("progress",b),f.upload.addEventListener("loadend",w)),(n.cancelToken||n.signal)&&(m=C=>{f&&(r(!C||C.type?new gh(null,t,f):C),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const N=AE(n.url);if(N&&co.protocols.indexOf(N)===-1){r(new Xs("Unsupported protocol "+N+":",Xs.ERR_BAD_REQUEST,t));return}f.send(l||null)})},RE=(t,a)=>{const{length:s}=t=t?t.filter(Boolean):[];if(a||s){let r=new AbortController,n;const l=function(h){if(!n){n=!0,c();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Xs?m:new gh(m instanceof Error?m.message:m))}};let i=a&&setTimeout(()=>{i=null,l(new Xs(`timeout of ${a}ms exceeded`,Xs.ETIMEDOUT))},a);const c=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),t=null)};t.forEach(h=>h.addEventListener("abort",l));const{signal:u}=r;return u.unsubscribe=()=>Xt.asap(c),u}},HE=function*(t,a){let s=t.byteLength;if(s<a){yield t;return}let r=0,n;for(;r<s;)n=r+a,yield t.slice(r,n),r=n},UE=async function*(t,a){for await(const s of $E(t))yield*HE(s,a)},$E=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:s,value:r}=await a.read();if(s)break;yield r}}finally{await a.cancel()}},Wj=(t,a,s,r)=>{const n=UE(t,a);let l=0,i,c=u=>{i||(i=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:m}=await n.next();if(h){c(),u.close();return}let b=m.byteLength;if(s){let g=l+=b;s(g)}u.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(u){return c(u),n.return()}},{highWaterMark:2})},Gj=64*1024,{isFunction:Nm}=Xt,WE=(({Request:t,Response:a})=>({Request:t,Response:a}))(Xt.global),{ReadableStream:zj,TextEncoder:Vj}=Xt.global,Yj=(t,...a)=>{try{return!!t(...a)}catch{return!1}},GE=t=>{t=Xt.merge.call({skipUndefined:!0},WE,t);const{fetch:a,Request:s,Response:r}=t,n=a?Nm(a):typeof fetch=="function",l=Nm(s),i=Nm(r);if(!n)return!1;const c=n&&Nm(zj),u=n&&(typeof Vj=="function"?(p=>v=>p.encode(v))(new Vj):async p=>new Uint8Array(await new s(p).arrayBuffer())),h=l&&c&&Yj(()=>{let p=!1;const v=new s(co.origin,{body:new zj,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),m=i&&c&&Yj(()=>Xt.isReadableStream(new r("").body)),b={stream:m&&(p=>p.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!b[p]&&(b[p]=(v,f)=>{let y=v&&v[p];if(y)return y.call(v);throw new Xs(`Response type '${p}' is not supported`,Xs.ERR_NOT_SUPPORT,f)})});const g=async p=>{if(p==null)return 0;if(Xt.isBlob(p))return p.size;if(Xt.isSpecCompliantForm(p))return(await new s(co.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(Xt.isArrayBufferView(p)||Xt.isArrayBuffer(p))return p.byteLength;if(Xt.isURLSearchParams(p)&&(p=p+""),Xt.isString(p))return(await u(p)).byteLength},w=async(p,v)=>{const f=Xt.toFiniteNumber(p.getContentLength());return f??g(v)};return async p=>{let{url:v,method:f,data:y,signal:N,cancelToken:C,timeout:S,onDownloadProgress:I,onUploadProgress:k,responseType:A,headers:F,withCredentials:O="same-origin",fetchOptions:M}=L4(p),U=a||fetch;A=A?(A+"").toLowerCase():"text";let L=RE([N,C&&C.toAbortSignal()],S),G=null;const re=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let ye;try{if(k&&h&&f!=="get"&&f!=="head"&&(ye=await w(F,y))!==0){let Y=new s(v,{method:"POST",body:y,duplex:"half"}),E;if(Xt.isFormData(y)&&(E=Y.headers.get("content-type"))&&F.setContentType(E),Y.body){const[P,V]=Hj(ye,Xp(Uj(k)));y=Wj(Y.body,Gj,P,V)}}Xt.isString(O)||(O=O?"include":"omit");const K=l&&"credentials"in s.prototype,ne={...M,signal:L,method:f.toUpperCase(),headers:F.normalize().toJSON(),body:y,duplex:"half",credentials:K?O:void 0};G=l&&new s(v,ne);let H=await(l?U(G,M):U(v,ne));const se=m&&(A==="stream"||A==="response");if(m&&(I||se&&re)){const Y={};["status","statusText","headers"].forEach(D=>{Y[D]=H[D]});const E=Xt.toFiniteNumber(H.headers.get("content-length")),[P,V]=I&&Hj(E,Xp(Uj(I),!0))||[];H=new r(Wj(H.body,Gj,P,()=>{V&&V(),re&&re()}),Y)}A=A||"text";let we=await b[Xt.findKey(b,A)||"text"](H,p);return!se&&re&&re(),await new Promise((Y,E)=>{I4(Y,E,{data:we,headers:Qo.from(H.headers),status:H.status,statusText:H.statusText,config:p,request:G})})}catch(K){throw re&&re(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Xs("Network Error",Xs.ERR_NETWORK,p,G,K&&K.response),{cause:K.cause||K}):Xs.from(K,K&&K.code,p,G,K&&K.response)}}},zE=new Map,O4=t=>{let a=t&&t.env||{};const{fetch:s,Request:r,Response:n}=a,l=[r,n,s];let i=l.length,c=i,u,h,m=zE;for(;c--;)u=l[c],h=m.get(u),h===void 0&&m.set(u,h=c?new Map:GE(a)),m=h;return h};O4();const wv={http:iE,xhr:BE,fetch:{get:O4}};Xt.forEach(wv,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Kj=t=>`- ${t}`,VE=t=>Xt.isFunction(t)||t===null||t===!1;function YE(t,a){t=Xt.isArray(t)?t:[t];const{length:s}=t;let r,n;const l={};for(let i=0;i<s;i++){r=t[i];let c;if(n=r,!VE(r)&&(n=wv[(c=String(r)).toLowerCase()],n===void 0))throw new Xs(`Unknown adapter '${c}'`);if(n&&(Xt.isFunction(n)||(n=n.get(a))))break;l[c||"#"+i]=n}if(!n){const i=Object.entries(l).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=s?i.length>1?`since :
`+i.map(Kj).join(`
`):" "+Kj(i[0]):"as no adapter specified";throw new Xs("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n}const _4={getAdapter:YE,adapters:wv};function uy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new gh(null,t)}function qj(t){return uy(t),t.headers=Qo.from(t.headers),t.data=dy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_4.getAdapter(t.adapter||ph.adapter,t)(t).then(function(r){return uy(t),r.data=dy.call(t,t.transformResponse,r),r.headers=Qo.from(r.headers),r},function(r){return P4(r)||(uy(t),r&&r.response&&(r.response.data=dy.call(t,t.transformResponse,r.response),r.response.headers=Qo.from(r.response.headers))),Promise.reject(r)})}const B4="1.13.5",Ig={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Ig[t]=function(r){return typeof r===t||"a"+(a<1?"n ":" ")+t}});const Xj={};Ig.transitional=function(a,s,r){function n(l,i){return"[Axios v"+B4+"] Transitional option '"+l+"'"+i+(r?". "+r:"")}return(l,i,c)=>{if(a===!1)throw new Xs(n(i," has been removed"+(s?" in "+s:"")),Xs.ERR_DEPRECATED);return s&&!Xj[i]&&(Xj[i]=!0,console.warn(n(i," has been deprecated since v"+s+" and will be removed in the near future"))),a?a(l,i,c):!0}};Ig.spelling=function(a){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${a}`),!0)};function KE(t,a,s){if(typeof t!="object")throw new Xs("options must be an object",Xs.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const l=r[n],i=a[l];if(i){const c=t[l],u=c===void 0||i(c,l,t);if(u!==!0)throw new Xs("option "+l+" must be "+u,Xs.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Xs("Unknown option "+l,Xs.ERR_BAD_OPTION)}}const cp={assertOptions:KE,validators:Ig},ei=cp.validators;let _u=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Bj,response:new Bj}}async request(a,s){try{return await this._request(a,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(a,s){typeof a=="string"?(s=s||{},s.url=a):s=a||{},s=Wu(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:l}=s;r!==void 0&&cp.assertOptions(r,{silentJSONParsing:ei.transitional(ei.boolean),forcedJSONParsing:ei.transitional(ei.boolean),clarifyTimeoutError:ei.transitional(ei.boolean),legacyInterceptorReqResOrdering:ei.transitional(ei.boolean)},!1),n!=null&&(Xt.isFunction(n)?s.paramsSerializer={serialize:n}:cp.assertOptions(n,{encode:ei.function,serialize:ei.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),cp.assertOptions(s,{baseUrl:ei.spelling("baseURL"),withXsrfToken:ei.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=l&&Xt.merge(l.common,l[s.method]);l&&Xt.forEach(["delete","get","head","post","put","patch","common"],p=>{delete l[p]}),s.headers=Qo.concat(i,l);const c=[];let u=!0;this.interceptors.request.forEach(function(v){if(typeof v.runWhen=="function"&&v.runWhen(s)===!1)return;u=u&&v.synchronous;const f=s.transitional||bv;f&&f.legacyInterceptorReqResOrdering?c.unshift(v.fulfilled,v.rejected):c.push(v.fulfilled,v.rejected)});const h=[];this.interceptors.response.forEach(function(v){h.push(v.fulfilled,v.rejected)});let m,b=0,g;if(!u){const p=[qj.bind(this),void 0];for(p.unshift(...c),p.push(...h),g=p.length,m=Promise.resolve(s);b<g;)m=m.then(p[b++],p[b++]);return m}g=c.length;let w=s;for(;b<g;){const p=c[b++],v=c[b++];try{w=p(w)}catch(f){v.call(this,f);break}}try{m=qj.call(this,w)}catch(p){return Promise.reject(p)}for(b=0,g=h.length;b<g;)m=m.then(h[b++],h[b++]);return m}getUri(a){a=Wu(this.defaults,a);const s=M4(a.baseURL,a.url,a.allowAbsoluteUrls);return A4(s,a.params,a.paramsSerializer)}};Xt.forEach(["delete","get","head","options"],function(a){_u.prototype[a]=function(s,r){return this.request(Wu(r||{},{method:a,url:s,data:(r||{}).data}))}});Xt.forEach(["post","put","patch"],function(a){function s(r){return function(l,i,c){return this.request(Wu(c||{},{method:a,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}_u.prototype[a]=s(),_u.prototype[a+"Form"]=s(!0)});let qE=class R4{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const r=this;this.promise.then(n=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](n);r._listeners=null}),this.promise.then=n=>{let l;const i=new Promise(c=>{r.subscribe(c),l=c}).then(n);return i.cancel=function(){r.unsubscribe(l)},i},a(function(l,i,c){r.reason||(r.reason=new gh(l,i,c),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const s=this._listeners.indexOf(a);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const a=new AbortController,s=r=>{a.abort(r)};return this.subscribe(s),a.signal.unsubscribe=()=>this.unsubscribe(s),a.signal}static source(){let a;return{token:new R4(function(n){a=n}),cancel:a}}};function XE(t){return function(s){return t.apply(null,s)}}function JE(t){return Xt.isObject(t)&&t.isAxiosError===!0}const Hb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hb).forEach(([t,a])=>{Hb[a]=t});function H4(t){const a=new _u(t),s=b4(_u.prototype.request,a);return Xt.extend(s,_u.prototype,a,{allOwnKeys:!0}),Xt.extend(s,a,null,{allOwnKeys:!0}),s.create=function(n){return H4(Wu(t,n))},s}const qr=H4(ph);qr.Axios=_u;qr.CanceledError=gh;qr.CancelToken=qE;qr.isCancel=P4;qr.VERSION=B4;qr.toFormData=Pg;qr.AxiosError=Xs;qr.Cancel=qr.CanceledError;qr.all=function(a){return Promise.all(a)};qr.spread=XE;qr.isAxiosError=JE;qr.mergeConfig=Wu;qr.AxiosHeaders=Qo;qr.formToJSON=t=>F4(Xt.isHTMLForm(t)?new FormData(t):t);qr.getAdapter=_4.getAdapter;qr.HttpStatusCode=Hb;qr.default=qr;const{Axios:dte,AxiosError:ute,CanceledError:xte,isCancel:hte,CancelToken:mte,VERSION:pte,all:gte,Cancel:fte,isAxiosError:yte,spread:bte,toFormData:vte,AxiosHeaders:wte,HttpStatusCode:Nte,formToJSON:jte,getAdapter:Cte,mergeConfig:Ste}=qr,z=qr.create({baseURL:"https://demo.128techconsultinginc.com/DEMO_128_TKS/api"}),ts={log:async({accessType:t,trans:a,messages:s,formName:r})=>{try{const n=JSON.parse(localStorage.getItem("userData")||"{}");await z.put("/AuditTrail/AddAuditTrail",{userId:(n?.userID??"UnknownUser").toString(),formName:r??"Form Name not found",accessType:t||"Unknown",trans:a||"No transaction",messages:s||"No message",machine:(n?.machineName||"Machine Name not found").toString()})}catch(n){console.error("Failed to log audit trail:",n)}}};/*!
* sweetalert2 v11.26.17
* Released under the MIT License.
*/function U4(t,a,s){if(typeof t=="function"?t===a:t.has(a))return arguments.length<3?a:s;throw new TypeError("Private element is not present on this object")}function QE(t,a){if(a.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Jj(t,a){return t.get(U4(t,a))}function ZE(t,a,s){QE(t,a),a.set(t,s)}function eT(t,a,s){return t.set(U4(t,a),s),s}const tT=100,Hs={},sT=()=>{Hs.previousActiveElement instanceof HTMLElement?(Hs.previousActiveElement.focus(),Hs.previousActiveElement=null):document.body&&document.body.focus()},aT=t=>new Promise(a=>{if(!t)return a();const s=window.scrollX,r=window.scrollY;Hs.restoreFocusTimeout=setTimeout(()=>{sT(),a()},tT),window.scrollTo(s,r)}),$4="swal2-",rT=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Zt=rT.reduce((t,a)=>(t[a]=$4+a,t),{}),nT=["success","warning","info","question","error"],Jp=nT.reduce((t,a)=>(t[a]=$4+a,t),{}),W4="SweetAlert2:",Nv=t=>t.charAt(0).toUpperCase()+t.slice(1),Eo=t=>{console.warn(`${W4} ${typeof t=="object"?t.join(" "):t}`)},t0=t=>{console.error(`${W4} ${t}`)},Qj=[],oT=t=>{Qj.includes(t)||(Qj.push(t),Eo(t))},G4=(t,a=null)=>{oT(`"${t}" is deprecated and will be removed in the next major release.${a?` Use "${a}" instead.`:""}`)},Mg=t=>typeof t=="function"?t():t,jv=t=>t&&typeof t.toPromise=="function",fh=t=>jv(t)?t.toPromise():Promise.resolve(t),Cv=t=>t&&Promise.resolve(t)===t,To=()=>document.body.querySelector(`.${Zt.container}`),yh=t=>{const a=To();return a?a.querySelector(t):null},Pl=t=>yh(`.${t}`),Va=()=>Pl(Zt.popup),Z0=()=>Pl(Zt.icon),lT=()=>Pl(Zt["icon-content"]),z4=()=>Pl(Zt.title),Sv=()=>Pl(Zt["html-container"]),V4=()=>Pl(Zt.image),kv=()=>Pl(Zt["progress-steps"]),Lg=()=>Pl(Zt["validation-message"]),Nc=()=>yh(`.${Zt.actions} .${Zt.confirm}`),ex=()=>yh(`.${Zt.actions} .${Zt.cancel}`),s0=()=>yh(`.${Zt.actions} .${Zt.deny}`),iT=()=>Pl(Zt["input-label"]),tx=()=>yh(`.${Zt.loader}`),bh=()=>Pl(Zt.actions),Y4=()=>Pl(Zt.footer),Og=()=>Pl(Zt["timer-progress-bar"]),Dv=()=>Pl(Zt.close),cT=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ev=()=>{const t=Va();if(!t)return[];const a=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),s=Array.from(a).sort((l,i)=>{const c=parseInt(l.getAttribute("tabindex")||"0"),u=parseInt(i.getAttribute("tabindex")||"0");return c>u?1:c<u?-1:0}),r=t.querySelectorAll(cT),n=Array.from(r).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(s.concat(n))].filter(l=>Zo(l))},Tv=()=>nd(document.body,Zt.shown)&&!nd(document.body,Zt["toast-shown"])&&!nd(document.body,Zt["no-backdrop"]),_g=()=>{const t=Va();return t?nd(t,Zt.toast):!1},dT=()=>{const t=Va();return t?t.hasAttribute("data-loading"):!1},Il=(t,a)=>{if(t.textContent="",a){const r=new DOMParser().parseFromString(a,"text/html"),n=r.querySelector("head");n&&Array.from(n.childNodes).forEach(i=>{t.appendChild(i)});const l=r.querySelector("body");l&&Array.from(l.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?t.appendChild(i.cloneNode(!0)):t.appendChild(i)})}},nd=(t,a)=>{if(!a)return!1;const s=a.split(/\s+/);for(let r=0;r<s.length;r++)if(!t.classList.contains(s[r]))return!1;return!0},uT=(t,a)=>{Array.from(t.classList).forEach(s=>{!Object.values(Zt).includes(s)&&!Object.values(Jp).includes(s)&&!Object.values(a.showClass||{}).includes(s)&&t.classList.remove(s)})},Tl=(t,a,s)=>{if(uT(t,a),!a.customClass)return;const r=a.customClass[s];if(r){if(typeof r!="string"&&!r.forEach){Eo(`Invalid type of customClass.${s}! Expected string or iterable object, got "${typeof r}"`);return}Wa(t,r)}},Bg=(t,a)=>{if(!a)return null;switch(a){case"select":case"textarea":case"file":return t.querySelector(`.${Zt.popup} > .${Zt[a]}`);case"checkbox":return t.querySelector(`.${Zt.popup} > .${Zt.checkbox} input`);case"radio":return t.querySelector(`.${Zt.popup} > .${Zt.radio} input:checked`)||t.querySelector(`.${Zt.popup} > .${Zt.radio} input:first-child`);case"range":return t.querySelector(`.${Zt.popup} > .${Zt.range} input`);default:return t.querySelector(`.${Zt.popup} > .${Zt.input}`)}},K4=t=>{if(t.focus(),t.type!=="file"){const a=t.value;t.value="",t.value=a}},q4=(t,a,s)=>{!t||!a||(typeof a=="string"&&(a=a.split(/\s+/).filter(Boolean)),a.forEach(r=>{Array.isArray(t)?t.forEach(n=>{s?n.classList.add(r):n.classList.remove(r)}):s?t.classList.add(r):t.classList.remove(r)}))},Wa=(t,a)=>{q4(t,a,!0)},di=(t,a)=>{q4(t,a,!1)},qd=(t,a)=>{const s=Array.from(t.children);for(let r=0;r<s.length;r++){const n=s[r];if(n instanceof HTMLElement&&nd(n,a))return n}},Bu=(t,a,s)=>{s===`${parseInt(`${s}`)}`&&(s=parseInt(s)),s||parseInt(`${s}`)===0?t.style.setProperty(a,typeof s=="number"?`${s}px`:s):t.style.removeProperty(a)},Mn=(t,a="flex")=>{t&&(t.style.display=a)},ho=t=>{t&&(t.style.display="none")},Av=(t,a="block")=>{t&&new MutationObserver(()=>{vh(t,t.innerHTML,a)}).observe(t,{childList:!0,subtree:!0})},Zj=(t,a,s,r)=>{const n=t.querySelector(a);n&&n.style.setProperty(s,r)},vh=(t,a,s="flex")=>{a?Mn(t,s):ho(t)},Zo=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),xT=()=>!Zo(Nc())&&!Zo(s0())&&!Zo(ex()),Ub=t=>t.scrollHeight>t.clientHeight,hT=(t,a)=>{let s=t;for(;s&&s!==a;){if(Ub(s))return!0;s=s.parentElement}return!1},X4=t=>{const a=window.getComputedStyle(t),s=parseFloat(a.getPropertyValue("animation-duration")||"0"),r=parseFloat(a.getPropertyValue("transition-duration")||"0");return s>0||r>0},Fv=(t,a=!1)=>{const s=Og();s&&Zo(s)&&(a&&(s.style.transition="none",s.style.width="100%"),setTimeout(()=>{s.style.transition=`width ${t/1e3}s linear`,s.style.width="0%"},10))},mT=()=>{const t=Og();if(!t)return;const a=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const s=parseInt(window.getComputedStyle(t).width),r=a/s*100;t.style.width=`${r}%`},pT=()=>typeof window>"u"||typeof document>"u",gT=`
 <div aria-labelledby="${Zt.title}" aria-describedby="${Zt["html-container"]}" class="${Zt.popup}" tabindex="-1">
   <button type="button" class="${Zt.close}"></button>
   <ul class="${Zt["progress-steps"]}"></ul>
   <div class="${Zt.icon}"></div>
   <img class="${Zt.image}" />
   <h2 class="${Zt.title}" id="${Zt.title}"></h2>
   <div class="${Zt["html-container"]}" id="${Zt["html-container"]}"></div>
   <input class="${Zt.input}" id="${Zt.input}" />
   <input type="file" class="${Zt.file}" />
   <div class="${Zt.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Zt.select}" id="${Zt.select}"></select>
   <div class="${Zt.radio}"></div>
   <label class="${Zt.checkbox}">
     <input type="checkbox" id="${Zt.checkbox}" />
     <span class="${Zt.label}"></span>
   </label>
   <textarea class="${Zt.textarea}" id="${Zt.textarea}"></textarea>
   <div class="${Zt["validation-message"]}" id="${Zt["validation-message"]}"></div>
   <div class="${Zt.actions}">
     <div class="${Zt.loader}"></div>
     <button type="button" class="${Zt.confirm}"></button>
     <button type="button" class="${Zt.deny}"></button>
     <button type="button" class="${Zt.cancel}"></button>
   </div>
   <div class="${Zt.footer}"></div>
   <div class="${Zt["timer-progress-bar-container"]}">
     <div class="${Zt["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),fT=()=>{const t=To();return t?(t.remove(),di([document.documentElement,document.body],[Zt["no-backdrop"],Zt["toast-shown"],Zt["has-column"]]),!0):!1},Du=()=>{Hs.currentInstance&&Hs.currentInstance.resetValidationMessage()},yT=()=>{const t=Va();if(!t)return;const a=qd(t,Zt.input),s=qd(t,Zt.file),r=t.querySelector(`.${Zt.range} input`),n=t.querySelector(`.${Zt.range} output`),l=qd(t,Zt.select),i=t.querySelector(`.${Zt.checkbox} input`),c=qd(t,Zt.textarea);a&&(a.oninput=Du),s&&(s.onchange=Du),l&&(l.onchange=Du),i&&(i.onchange=Du),c&&(c.oninput=Du),r&&n&&(r.oninput=()=>{Du(),n.value=r.value},r.onchange=()=>{Du(),n.value=r.value})},bT=t=>{if(typeof t=="string"){const a=document.querySelector(t);if(!a)throw new Error(`Target element "${t}" not found`);return a}return t},vT=t=>{const a=Va();a&&(a.setAttribute("role",t.toast?"alert":"dialog"),a.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||a.setAttribute("aria-modal","true"))},wT=t=>{window.getComputedStyle(t).direction==="rtl"&&(Wa(To(),Zt.rtl),Hs.isRTL=!0)},NT=t=>{const a=fT();if(pT()){t0("SweetAlert2 requires document to initialize");return}const s=document.createElement("div");s.className=Zt.container,a&&Wa(s,Zt["no-transition"]),Il(s,gT),s.dataset.swal2Theme=t.theme;const r=bT(t.target||"body");r.appendChild(s),t.topLayer&&(s.setAttribute("popover",""),s.showPopover()),vT(t),wT(r),yT()},Pv=(t,a)=>{t instanceof HTMLElement?a.appendChild(t):typeof t=="object"?jT(t,a):t&&Il(a,t)},jT=(t,a)=>{"jquery"in t?CT(a,t):Il(a,t.toString())},CT=(t,a)=>{if(t.textContent="",0 in a)for(let s=0;s in a;s++)t.appendChild(a[s].cloneNode(!0));else t.appendChild(a.cloneNode(!0))},ST=(t,a)=>{const s=bh(),r=tx();!s||!r||(!a.showConfirmButton&&!a.showDenyButton&&!a.showCancelButton?ho(s):Mn(s),Tl(s,a,"actions"),kT(s,r,a),Il(r,a.loaderHtml||""),Tl(r,a,"loader"))};function kT(t,a,s){const r=Nc(),n=s0(),l=ex();!r||!n||!l||(hy(r,"confirm",s),hy(n,"deny",s),hy(l,"cancel",s),DT(r,n,l,s),s.reverseButtons&&(s.toast?(t.insertBefore(l,r),t.insertBefore(n,r)):(t.insertBefore(l,a),t.insertBefore(n,a),t.insertBefore(r,a))))}function DT(t,a,s,r){if(!r.buttonsStyling){di([t,a,s],Zt.styled);return}Wa([t,a,s],Zt.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&a.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&s.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),xy(t),xy(a),xy(s)}function xy(t){const a=window.getComputedStyle(t);if(a.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const s=a.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",a.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${s}`))}function hy(t,a,s){const r=Nv(a);vh(t,s[`show${r}Button`],"inline-block"),Il(t,s[`${a}ButtonText`]||""),t.setAttribute("aria-label",s[`${a}ButtonAriaLabel`]||""),t.className=Zt[a],Tl(t,s,`${a}Button`)}const ET=(t,a)=>{const s=Dv();s&&(Il(s,a.closeButtonHtml||""),Tl(s,a,"closeButton"),vh(s,a.showCloseButton),s.setAttribute("aria-label",a.closeButtonAriaLabel||""))},TT=(t,a)=>{const s=To();s&&(AT(s,a.backdrop),FT(s,a.position),PT(s,a.grow),Tl(s,a,"container"))};function AT(t,a){typeof a=="string"?t.style.background=a:a||Wa([document.documentElement,document.body],Zt["no-backdrop"])}function FT(t,a){a&&(a in Zt?Wa(t,Zt[a]):(Eo('The "position" parameter is not valid, defaulting to "center"'),Wa(t,Zt.center)))}function PT(t,a){a&&Wa(t,Zt[`grow-${a}`])}var dr={innerParams:new WeakMap,domCache:new WeakMap};const IT=["input","file","range","select","radio","checkbox","textarea"],MT=(t,a)=>{const s=Va();if(!s)return;const r=dr.innerParams.get(t),n=!r||a.input!==r.input;IT.forEach(l=>{const i=qd(s,Zt[l]);i&&(_T(l,a.inputAttributes),i.className=Zt[l],n&&ho(i))}),a.input&&(n&&LT(a),BT(a))},LT=t=>{if(!t.input)return;if(!Yr[t.input]){t0(`Unexpected type of input! Expected ${Object.keys(Yr).join(" | ")}, got "${t.input}"`);return}const a=J4(t.input);if(!a)return;const s=Yr[t.input](a,t);Mn(a),t.inputAutoFocus&&setTimeout(()=>{K4(s)})},OT=t=>{for(let a=0;a<t.attributes.length;a++){const s=t.attributes[a].name;["id","type","value","style"].includes(s)||t.removeAttribute(s)}},_T=(t,a)=>{const s=Va();if(!s)return;const r=Bg(s,t);if(r){OT(r);for(const n in a)r.setAttribute(n,a[n])}},BT=t=>{if(!t.input)return;const a=J4(t.input);a&&Tl(a,t,"input")},Iv=(t,a)=>{!t.placeholder&&a.inputPlaceholder&&(t.placeholder=a.inputPlaceholder)},wh=(t,a,s)=>{if(s.inputLabel){const r=document.createElement("label"),n=Zt["input-label"];r.setAttribute("for",t.id),r.className=n,typeof s.customClass=="object"&&Wa(r,s.customClass.inputLabel),r.innerText=s.inputLabel,a.insertAdjacentElement("beforebegin",r)}},J4=t=>{const a=Va();if(a)return qd(a,Zt[t]||Zt.input)},Qp=(t,a)=>{["string","number"].includes(typeof a)?t.value=`${a}`:Cv(a)||Eo(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof a}"`)},Yr={};Yr.text=Yr.email=Yr.password=Yr.number=Yr.tel=Yr.url=Yr.search=Yr.date=Yr["datetime-local"]=Yr.time=Yr.week=Yr.month=(t,a)=>{const s=t;return Qp(s,a.inputValue),wh(s,s,a),Iv(s,a),s.type=a.input,s};Yr.file=(t,a)=>{const s=t;return wh(s,s,a),Iv(s,a),s};Yr.range=(t,a)=>{const s=t,r=s.querySelector("input"),n=s.querySelector("output");return r&&(Qp(r,a.inputValue),r.type=a.input,wh(r,t,a)),n&&Qp(n,a.inputValue),t};Yr.select=(t,a)=>{const s=t;if(s.textContent="",a.inputPlaceholder){const r=document.createElement("option");Il(r,a.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,s.appendChild(r)}return wh(s,s,a),s};Yr.radio=t=>{const a=t;return a.textContent="",t};Yr.checkbox=(t,a)=>{const s=Va();if(!s)throw new Error("Popup not found");const r=Bg(s,"checkbox");if(!r)throw new Error("Checkbox input not found");r.value="1",r.checked=!!a.inputValue;const l=t.querySelector("span");if(l){const i=a.inputPlaceholder||a.inputLabel;i&&Il(l,i)}return r};Yr.textarea=(t,a)=>{const s=t;Qp(s,a.inputValue),Iv(s,a),wh(s,s,a);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=Va();if(!n)return;const l=parseInt(window.getComputedStyle(n).width),i=()=>{if(!document.body.contains(s))return;const c=s.offsetWidth+r(s),u=Va();u&&(c>l?u.style.width=`${c}px`:Bu(u,"width",a.width))};new MutationObserver(i).observe(s,{attributes:!0,attributeFilter:["style"]})}}),s};const RT=(t,a)=>{const s=Sv();s&&(Av(s),Tl(s,a,"htmlContainer"),a.html?(Pv(a.html,s),Mn(s,"block")):a.text?(s.textContent=a.text,Mn(s,"block")):ho(s),MT(t,a))},HT=(t,a)=>{const s=Y4();s&&(Av(s),vh(s,!!a.footer,"block"),a.footer&&Pv(a.footer,s),Tl(s,a,"footer"))},UT=(t,a)=>{const s=dr.innerParams.get(t),r=Z0();if(!r)return;if(s&&a.icon===s.icon){t1(r,a),e1(r,a);return}if(!a.icon&&!a.iconHtml){ho(r);return}if(a.icon&&Object.keys(Jp).indexOf(a.icon)===-1){t0(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${a.icon}"`),ho(r);return}Mn(r),t1(r,a),e1(r,a),Wa(r,a.showClass&&a.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Q4)},e1=(t,a)=>{for(const[s,r]of Object.entries(Jp))a.icon!==s&&di(t,r);Wa(t,a.icon&&Jp[a.icon]),GT(t,a),Q4(),Tl(t,a,"icon")},Q4=()=>{const t=Va();if(!t)return;const a=window.getComputedStyle(t).getPropertyValue("background-color"),s=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<s.length;r++)s[r].style.backgroundColor=a},$T=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,WT=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,t1=(t,a)=>{if(!a.icon&&!a.iconHtml)return;let s=t.innerHTML,r="";a.iconHtml?r=s1(a.iconHtml):a.icon==="success"?(r=$T(a),s=s.replace(/ style=".*?"/g,"")):a.icon==="error"?r=WT:a.icon&&(r=s1({question:"?",warning:"!",info:"i"}[a.icon])),s.trim()!==r.trim()&&Il(t,r)},GT=(t,a)=>{if(a.iconColor){t.style.color=a.iconColor,t.style.borderColor=a.iconColor;for(const s of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Zj(t,s,"background-color",a.iconColor);Zj(t,".swal2-success-ring","border-color",a.iconColor)}},s1=t=>`<div class="${Zt["icon-content"]}">${t}</div>`,zT=(t,a)=>{const s=V4();if(s){if(!a.imageUrl){ho(s);return}Mn(s,""),s.setAttribute("src",a.imageUrl),s.setAttribute("alt",a.imageAlt||""),Bu(s,"width",a.imageWidth),Bu(s,"height",a.imageHeight),s.className=Zt.image,Tl(s,a,"image")}};let Mv=!1,Z4=0,eS=0,tS=0,sS=0;const VT=t=>{t.addEventListener("mousedown",Zp),document.body.addEventListener("mousemove",eg),t.addEventListener("mouseup",tg),t.addEventListener("touchstart",Zp),document.body.addEventListener("touchmove",eg),t.addEventListener("touchend",tg)},YT=t=>{t.removeEventListener("mousedown",Zp),document.body.removeEventListener("mousemove",eg),t.removeEventListener("mouseup",tg),t.removeEventListener("touchstart",Zp),document.body.removeEventListener("touchmove",eg),t.removeEventListener("touchend",tg)},Zp=t=>{const a=Va();if(!a)return;const s=Z0();if(t.target===a||s&&s.contains(t.target)){Mv=!0;const r=aS(t);Z4=r.clientX,eS=r.clientY,tS=parseInt(a.style.insetInlineStart)||0,sS=parseInt(a.style.insetBlockStart)||0,Wa(a,"swal2-dragging")}},eg=t=>{const a=Va();if(a&&Mv){let{clientX:s,clientY:r}=aS(t);const n=s-Z4;a.style.insetInlineStart=`${tS+(Hs.isRTL?-n:n)}px`,a.style.insetBlockStart=`${sS+(r-eS)}px`}},tg=()=>{const t=Va();Mv=!1,di(t,"swal2-dragging")},aS=t=>{let a=0,s=0;return t.type.startsWith("mouse")?(a=t.clientX,s=t.clientY):t.type.startsWith("touch")&&(a=t.touches[0].clientX,s=t.touches[0].clientY),{clientX:a,clientY:s}},KT=(t,a)=>{const s=To(),r=Va();if(!(!s||!r)){if(a.toast){Bu(s,"width",a.width),r.style.width="100%";const n=tx();n&&r.insertBefore(n,Z0())}else Bu(r,"width",a.width);Bu(r,"padding",a.padding),a.color&&(r.style.color=a.color),a.background&&(r.style.background=a.background),ho(Lg()),qT(r,a),a.draggable&&!a.toast?(Wa(r,Zt.draggable),VT(r)):(di(r,Zt.draggable),YT(r))}},qT=(t,a)=>{const s=a.showClass||{};t.className=`${Zt.popup} ${Zo(t)?s.popup:""}`,a.toast?(Wa([document.documentElement,document.body],Zt["toast-shown"]),Wa(t,Zt.toast)):Wa(t,Zt.modal),Tl(t,a,"popup"),typeof a.customClass=="string"&&Wa(t,a.customClass),a.icon&&Wa(t,Zt[`icon-${a.icon}`])},XT=(t,a)=>{const s=kv();if(!s)return;const{progressSteps:r,currentProgressStep:n}=a;if(!r||r.length===0||n===void 0){ho(s);return}Mn(s),s.textContent="",n>=r.length&&Eo("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((l,i)=>{const c=JT(l);if(s.appendChild(c),i===n&&Wa(c,Zt["active-progress-step"]),i!==r.length-1){const u=QT(a);s.appendChild(u)}})},JT=t=>{const a=document.createElement("li");return Wa(a,Zt["progress-step"]),Il(a,t),a},QT=t=>{const a=document.createElement("li");return Wa(a,Zt["progress-step-line"]),t.progressStepsDistance&&Bu(a,"width",t.progressStepsDistance),a},ZT=(t,a)=>{const s=z4();s&&(Av(s),vh(s,!!(a.title||a.titleText),"block"),a.title&&Pv(a.title,s),a.titleText&&(s.innerText=a.titleText),Tl(s,a,"title"))},rS=(t,a)=>{var s;KT(t,a),TT(t,a),XT(t,a),UT(t,a),zT(t,a),ZT(t,a),ET(t,a),RT(t,a),ST(t,a),HT(t,a);const r=Va();typeof a.didRender=="function"&&r&&a.didRender(r),(s=Hs.eventEmitter)===null||s===void 0||s.emit("didRender",r)},eA=()=>Zo(Va()),nS=()=>{var t;return(t=Nc())===null||t===void 0?void 0:t.click()},tA=()=>{var t;return(t=s0())===null||t===void 0?void 0:t.click()},sA=()=>{var t;return(t=ex())===null||t===void 0?void 0:t.click()},sx=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),oS=t=>{if(t.keydownTarget&&t.keydownHandlerAdded&&t.keydownHandler){const a=t.keydownHandler;t.keydownTarget.removeEventListener("keydown",a,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1}},aA=(t,a,s)=>{if(oS(t),!a.toast){const r=l=>nA(a,l,s);t.keydownHandler=r;const n=a.keydownListenerCapture?window:Va();if(n){t.keydownTarget=n,t.keydownListenerCapture=a.keydownListenerCapture;const l=r;t.keydownTarget.addEventListener("keydown",l,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0}}},$b=(t,a)=>{var s;const r=Ev();if(r.length){t=t+a,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(s=Va())===null||s===void 0||s.focus()},lS=["ArrowRight","ArrowDown"],rA=["ArrowLeft","ArrowUp"],nA=(t,a,s)=>{t&&(a.isComposing||a.keyCode===229||(t.stopKeydownPropagation&&a.stopPropagation(),a.key==="Enter"?oA(a,t):a.key==="Tab"?lA(a):[...lS,...rA].includes(a.key)?iA(a.key):a.key==="Escape"&&cA(a,t,s)))},oA=(t,a)=>{if(!Mg(a.allowEnterKey))return;const s=Va();if(!s||!a.input)return;const r=Bg(s,a.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(a.input))return;nS(),t.preventDefault()}},lA=t=>{const a=t.target,s=Ev();let r=-1;for(let n=0;n<s.length;n++)if(a===s[n]){r=n;break}t.shiftKey?$b(r,-1):$b(r,1),t.stopPropagation(),t.preventDefault()},iA=t=>{const a=bh(),s=Nc(),r=s0(),n=ex();if(!a||!s||!r||!n)return;const l=[s,r,n];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const i=lS.includes(t)?"nextElementSibling":"previousElementSibling";let c=document.activeElement;if(c){for(let u=0;u<a.children.length;u++){if(c=c[i],!c)return;if(c instanceof HTMLButtonElement&&Zo(c))break}c instanceof HTMLButtonElement&&c.focus()}},cA=(t,a,s)=>{t.preventDefault(),Mg(a.allowEscapeKey)&&s(sx.esc)};var W0={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const dA=()=>{const t=To();Array.from(document.body.children).forEach(s=>{s.contains(t)||(s.hasAttribute("aria-hidden")&&s.setAttribute("data-previous-aria-hidden",s.getAttribute("aria-hidden")||""),s.setAttribute("aria-hidden","true"))})},iS=()=>{Array.from(document.body.children).forEach(a=>{a.hasAttribute("data-previous-aria-hidden")?(a.setAttribute("aria-hidden",a.getAttribute("data-previous-aria-hidden")||""),a.removeAttribute("data-previous-aria-hidden")):a.removeAttribute("aria-hidden")})},cS=typeof window<"u"&&!!window.GestureEvent,uA=()=>{if(cS&&!nd(document.body,Zt.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Wa(document.body,Zt.iosfix),xA()}},xA=()=>{const t=To();if(!t)return;let a;t.ontouchstart=s=>{a=hA(s)},t.ontouchmove=s=>{a&&(s.preventDefault(),s.stopPropagation())}},hA=t=>{const a=t.target,s=To(),r=Sv();return!s||!r||mA(t)||pA(t)?!1:a===s||!Ub(s)&&a instanceof HTMLElement&&!hT(a,r)&&a.tagName!=="INPUT"&&a.tagName!=="TEXTAREA"&&!(Ub(r)&&r.contains(a))},mA=t=>!!(t.touches&&t.touches.length&&t.touches[0].touchType==="stylus"),pA=t=>t.touches&&t.touches.length>1,gA=()=>{if(nd(document.body,Zt.iosfix)){const t=parseInt(document.body.style.top,10);di(document.body,Zt.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},fA=()=>{const t=document.createElement("div");t.className=Zt["scrollbar-measure"],document.body.appendChild(t);const a=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),a};let L0=null;const yA=t=>{L0===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(L0=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${L0+fA()}px`)},bA=()=>{L0!==null&&(document.body.style.paddingRight=`${L0}px`,L0=null)};function dS(t,a,s,r){_g()?a1(t,r):(aT(s).then(()=>a1(t,r)),oS(Hs)),cS?(a.setAttribute("style","display:none !important"),a.removeAttribute("class"),a.innerHTML=""):a.remove(),Tv()&&(bA(),gA(),iS()),vA()}function vA(){di([document.documentElement,document.body],[Zt.shown,Zt["height-auto"],Zt["no-backdrop"],Zt["toast-shown"]])}function Xd(t){t=NA(t);const a=W0.swalPromiseResolve.get(this),s=wA(this);this.isAwaitingPromise?t.isDismissed||(Nh(this),a(t)):s&&a(t)}const wA=t=>{const a=Va();if(!a)return!1;const s=dr.innerParams.get(t);if(!s||nd(a,s.hideClass.popup))return!1;di(a,s.showClass.popup),Wa(a,s.hideClass.popup);const r=To();return di(r,s.showClass.backdrop),Wa(r,s.hideClass.backdrop),jA(t,a,s),!0};function uS(t){const a=W0.swalPromiseReject.get(this);Nh(this),a&&a(t)}const Nh=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,dr.innerParams.get(t)||t._destroy())},NA=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),jA=(t,a,s)=>{var r;const n=To(),l=X4(a);typeof s.willClose=="function"&&s.willClose(a),(r=Hs.eventEmitter)===null||r===void 0||r.emit("willClose",a),l&&n?CA(t,a,n,!!s.returnFocus,s.didClose):n&&dS(t,n,!!s.returnFocus,s.didClose)},CA=(t,a,s,r,n)=>{Hs.swalCloseEventFinishedCallback=dS.bind(null,t,s,r,n);const l=function(i){if(i.target===a){var c;(c=Hs.swalCloseEventFinishedCallback)===null||c===void 0||c.call(Hs),delete Hs.swalCloseEventFinishedCallback,a.removeEventListener("animationend",l),a.removeEventListener("transitionend",l)}};a.addEventListener("animationend",l),a.addEventListener("transitionend",l)},a1=(t,a)=>{setTimeout(()=>{var s;typeof a=="function"&&a.bind(t.params)(),(s=Hs.eventEmitter)===null||s===void 0||s.emit("didClose"),t._destroy&&t._destroy()})},G0=t=>{let a=Va();if(a||new xe,a=Va(),!a)return;const s=tx();_g()?ho(Z0()):SA(a,t),Mn(s),a.setAttribute("data-loading","true"),a.setAttribute("aria-busy","true"),a.focus()},SA=(t,a)=>{const s=bh(),r=tx();!s||!r||(!a&&Zo(Nc())&&(a=Nc()),Mn(s),a&&(ho(a),r.setAttribute("data-button-to-replace",a.className),s.insertBefore(r,a)),Wa([t,s],Zt.loading))},kA=(t,a)=>{a.input==="select"||a.input==="radio"?FA(t,a):["text","email","number","tel","textarea"].some(s=>s===a.input)&&(jv(a.inputValue)||Cv(a.inputValue))&&(G0(Nc()),PA(t,a))},DA=(t,a)=>{const s=t.getInput();if(!s)return null;switch(a.input){case"checkbox":return EA(s);case"radio":return TA(s);case"file":return AA(s);default:return a.inputAutoTrim?s.value.trim():s.value}},EA=t=>t.checked?1:0,TA=t=>t.checked?t.value:null,AA=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,FA=(t,a)=>{const s=Va();if(!s)return;const r=n=>{a.input==="select"?IA(s,sg(n),a):a.input==="radio"&&MA(s,sg(n),a)};jv(a.inputOptions)||Cv(a.inputOptions)?(G0(Nc()),fh(a.inputOptions).then(n=>{t.hideLoading(),r(n)})):typeof a.inputOptions=="object"?r(a.inputOptions):t0(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof a.inputOptions}`)},PA=(t,a)=>{const s=t.getInput();s&&(ho(s),fh(a.inputValue).then(r=>{s.value=a.input==="number"?`${parseFloat(r)||0}`:`${r}`,Mn(s),s.focus(),t.hideLoading()}).catch(r=>{t0(`Error in inputValue promise: ${r}`),s.value="",Mn(s),s.focus(),t.hideLoading()}))};function IA(t,a,s){const r=qd(t,Zt.select);if(!r)return;const n=(l,i,c)=>{const u=document.createElement("option");u.value=c,Il(u,i),u.selected=xS(c,s.inputValue),l.appendChild(u)};a.forEach(l=>{const i=l[0],c=l[1];if(Array.isArray(c)){const u=document.createElement("optgroup");u.label=i,u.disabled=!1,r.appendChild(u),c.forEach(h=>n(u,h[1],h[0]))}else n(r,c,i)}),r.focus()}function MA(t,a,s){const r=qd(t,Zt.radio);if(!r)return;a.forEach(l=>{const i=l[0],c=l[1],u=document.createElement("input"),h=document.createElement("label");u.type="radio",u.name=Zt.radio,u.value=i,xS(i,s.inputValue)&&(u.checked=!0);const m=document.createElement("span");Il(m,c),m.className=Zt.label,h.appendChild(u),h.appendChild(m),r.appendChild(h)});const n=r.querySelectorAll("input");n.length&&n[0].focus()}const sg=t=>{const a=[];return t instanceof Map?t.forEach((s,r)=>{let n=s;typeof n=="object"&&(n=sg(n)),a.push([r,n])}):Object.keys(t).forEach(s=>{let r=t[s];typeof r=="object"&&(r=sg(r)),a.push([s,r])}),a},xS=(t,a)=>!!a&&a!==null&&a!==void 0&&a.toString()===t.toString(),LA=t=>{const a=dr.innerParams.get(t);t.disableButtons(),a.input?hS(t,"confirm"):Ov(t,!0)},OA=t=>{const a=dr.innerParams.get(t);t.disableButtons(),a.returnInputValueOnDeny?hS(t,"deny"):Lv(t,!1)},_A=(t,a)=>{t.disableButtons(),a(sx.cancel)},hS=(t,a)=>{const s=dr.innerParams.get(t);if(!s.input){t0(`The "input" parameter is needed to be set when using returnInputValueOn${Nv(a)}`);return}const r=t.getInput(),n=DA(t,s);s.inputValidator?BA(t,n,a):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(s.validationMessage||r.validationMessage)):a==="deny"?Lv(t,n):Ov(t,n)},BA=(t,a,s)=>{const r=dr.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>fh(r.inputValidator(a,r.validationMessage))).then(l=>{t.enableButtons(),t.enableInput(),l?t.showValidationMessage(l):s==="deny"?Lv(t,a):Ov(t,a)})},Lv=(t,a)=>{const s=dr.innerParams.get(t);s.showLoaderOnDeny&&G0(s0()),s.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>fh(s.preDeny(a,s.validationMessage))).then(n=>{n===!1?(t.hideLoading(),Nh(t)):t.close({isDenied:!0,value:typeof n>"u"?a:n})}).catch(n=>mS(t,n))):t.close({isDenied:!0,value:a})},r1=(t,a)=>{t.close({isConfirmed:!0,value:a})},mS=(t,a)=>{t.rejectPromise(a)},Ov=(t,a)=>{const s=dr.innerParams.get(t);s.showLoaderOnConfirm&&G0(),s.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>fh(s.preConfirm(a,s.validationMessage))).then(n=>{Zo(Lg())||n===!1?(t.hideLoading(),Nh(t)):r1(t,typeof n>"u"?a:n)}).catch(n=>mS(t,n))):r1(t,a)};function ag(){const t=dr.innerParams.get(this);if(!t)return;const a=dr.domCache.get(this);ho(a.loader),_g()?t.icon&&Mn(Z0()):RA(a),di([a.popup,a.actions],Zt.loading),a.popup.removeAttribute("aria-busy"),a.popup.removeAttribute("data-loading"),a.confirmButton.disabled=!1,a.denyButton.disabled=!1,a.cancelButton.disabled=!1}const RA=t=>{const a=t.loader.getAttribute("data-button-to-replace"),s=a?t.popup.getElementsByClassName(a):[];s.length?Mn(s[0],"inline-block"):xT()&&ho(t.actions)};function pS(){const t=dr.innerParams.get(this),a=dr.domCache.get(this);return a?Bg(a.popup,t.input):null}function gS(t,a,s){const r=dr.domCache.get(t);a.forEach(n=>{r[n].disabled=s})}function fS(t,a){const s=Va();if(!(!s||!t))if(t.type==="radio"){const r=s.querySelectorAll(`[name="${Zt.radio}"]`);for(let n=0;n<r.length;n++)r[n].disabled=a}else t.disabled=a}function yS(){gS(this,["confirmButton","denyButton","cancelButton"],!1)}function bS(){gS(this,["confirmButton","denyButton","cancelButton"],!0)}function vS(){fS(this.getInput(),!1)}function wS(){fS(this.getInput(),!0)}function NS(t){const a=dr.domCache.get(this),s=dr.innerParams.get(this);Il(a.validationMessage,t),a.validationMessage.className=Zt["validation-message"],s.customClass&&s.customClass.validationMessage&&Wa(a.validationMessage,s.customClass.validationMessage),Mn(a.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",Zt["validation-message"]),K4(r),Wa(r,Zt.inputerror))}function jS(){const t=dr.domCache.get(this);t.validationMessage&&ho(t.validationMessage);const a=this.getInput();a&&(a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby"),di(a,Zt.inputerror))}const Jd={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},HA=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],UA={allowEnterKey:void 0},$A=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],CS=t=>Object.prototype.hasOwnProperty.call(Jd,t),SS=t=>HA.indexOf(t)!==-1,kS=t=>UA[t],WA=t=>{CS(t)||Eo(`Unknown parameter "${t}"`)},GA=t=>{$A.includes(t)&&Eo(`The parameter "${t}" is incompatible with toasts`)},zA=t=>{const a=kS(t);a&&G4(t,a)},DS=t=>{t.backdrop===!1&&t.allowOutsideClick&&Eo('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Eo(`Invalid theme "${t.theme}"`);for(const a in t)WA(a),t.toast&&GA(a),zA(a)};function ES(t){const a=To(),s=Va(),r=dr.innerParams.get(this);if(!s||nd(s,r.hideClass.popup)){Eo("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const n=VA(t),l=Object.assign({},r,n);DS(l),a&&(a.dataset.swal2Theme=l.theme),rS(this,l),dr.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const VA=t=>{const a={};return Object.keys(t).forEach(s=>{if(SS(s)){const r=t;a[s]=r[s]}else Eo(`Invalid parameter to update: ${s}`)}),a};function TS(){var t;const a=dr.domCache.get(this),s=dr.innerParams.get(this);if(!s){AS(this);return}a.popup&&Hs.swalCloseEventFinishedCallback&&(Hs.swalCloseEventFinishedCallback(),delete Hs.swalCloseEventFinishedCallback),typeof s.didDestroy=="function"&&s.didDestroy(),(t=Hs.eventEmitter)===null||t===void 0||t.emit("didDestroy"),YA(this)}const YA=t=>{AS(t),delete t.params,delete Hs.keydownHandler,delete Hs.keydownTarget,delete Hs.currentInstance},AS=t=>{t.isAwaitingPromise?(my(dr,t),t.isAwaitingPromise=!0):(my(W0,t),my(dr,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},my=(t,a)=>{for(const s in t)t[s].delete(a)};var KA=Object.freeze({__proto__:null,_destroy:TS,close:Xd,closeModal:Xd,closePopup:Xd,closeToast:Xd,disableButtons:bS,disableInput:wS,disableLoading:ag,enableButtons:yS,enableInput:vS,getInput:pS,handleAwaitingPromise:Nh,hideLoading:ag,rejectPromise:uS,resetValidationMessage:jS,showValidationMessage:NS,update:ES});const qA=(t,a,s)=>{t.toast?XA(t,a,s):(QA(a),ZA(a),eF(t,a,s))},XA=(t,a,s)=>{a.popup.onclick=()=>{t&&(JA(t)||t.timer||t.input)||s(sx.close)}},JA=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let rg=!1;const QA=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(a){t.container.onmouseup=()=>{},a.target===t.container&&(rg=!0)}}},ZA=t=>{t.container.onmousedown=a=>{a.target===t.container&&a.preventDefault(),t.popup.onmouseup=function(s){t.popup.onmouseup=()=>{},(s.target===t.popup||s.target instanceof HTMLElement&&t.popup.contains(s.target))&&(rg=!0)}}},eF=(t,a,s)=>{a.container.onclick=r=>{if(rg){rg=!1;return}r.target===a.container&&Mg(t.allowOutsideClick)&&s(sx.backdrop)}},tF=t=>typeof t=="object"&&t.jquery,n1=t=>t instanceof Element||tF(t),sF=t=>{const a={};return typeof t[0]=="object"&&!n1(t[0])?Object.assign(a,t[0]):["title","html","icon"].forEach((s,r)=>{const n=t[r];typeof n=="string"||n1(n)?a[s]=n:n!==void 0&&t0(`Unexpected type of ${s}! Expected "string" or "Element", got ${typeof n}`)}),a};function aF(...t){return new this(...t)}function rF(t){class a extends this{_main(r,n){return super._main(r,Object.assign({},t,n))}}return a}const nF=()=>Hs.timeout&&Hs.timeout.getTimerLeft(),FS=()=>{if(Hs.timeout)return mT(),Hs.timeout.stop()},PS=()=>{if(Hs.timeout){const t=Hs.timeout.start();return Fv(t),t}},oF=()=>{const t=Hs.timeout;return t&&(t.running?FS():PS())},lF=t=>{if(Hs.timeout){const a=Hs.timeout.increase(t);return Fv(a,!0),a}},iF=()=>!!(Hs.timeout&&Hs.timeout.isRunning());let o1=!1;const Wb={};function cF(t="data-swal-template"){Wb[t]=this,o1||(document.body.addEventListener("click",dF),o1=!0)}const dF=t=>{for(let a=t.target;a&&a!==document;a=a.parentNode)for(const s in Wb){const r=a.getAttribute&&a.getAttribute(s);if(r){Wb[s].fire({template:r});return}}};class uF{constructor(){this.events={}}_getHandlersByEventName(a){return typeof this.events[a]>"u"&&(this.events[a]=[]),this.events[a]}on(a,s){const r=this._getHandlersByEventName(a);r.includes(s)||r.push(s)}once(a,s){const r=(...n)=>{this.removeListener(a,r),s.apply(this,n)};this.on(a,r)}emit(a,...s){this._getHandlersByEventName(a).forEach(r=>{try{r.apply(this,s)}catch(n){console.error(n)}})}removeListener(a,s){const r=this._getHandlersByEventName(a),n=r.indexOf(s);n>-1&&r.splice(n,1)}removeAllListeners(a){this.events[a]!==void 0&&(this.events[a].length=0)}reset(){this.events={}}}Hs.eventEmitter=new uF;const xF=(t,a)=>{Hs.eventEmitter&&Hs.eventEmitter.on(t,a)},hF=(t,a)=>{Hs.eventEmitter&&Hs.eventEmitter.once(t,a)},mF=(t,a)=>{if(Hs.eventEmitter){if(!t){Hs.eventEmitter.reset();return}a?Hs.eventEmitter.removeListener(t,a):Hs.eventEmitter.removeAllListeners(t)}};var pF=Object.freeze({__proto__:null,argsToParams:sF,bindClickHandler:cF,clickCancel:sA,clickConfirm:nS,clickDeny:tA,enableLoading:G0,fire:aF,getActions:bh,getCancelButton:ex,getCloseButton:Dv,getConfirmButton:Nc,getContainer:To,getDenyButton:s0,getFocusableElements:Ev,getFooter:Y4,getHtmlContainer:Sv,getIcon:Z0,getIconContent:lT,getImage:V4,getInputLabel:iT,getLoader:tx,getPopup:Va,getProgressSteps:kv,getTimerLeft:nF,getTimerProgressBar:Og,getTitle:z4,getValidationMessage:Lg,increaseTimer:lF,isDeprecatedParameter:kS,isLoading:dT,isTimerRunning:iF,isUpdatableParameter:SS,isValidParameter:CS,isVisible:eA,mixin:rF,off:mF,on:xF,once:hF,resumeTimer:PS,showLoading:G0,stopTimer:FS,toggleTimer:oF});class gF{constructor(a,s){this.callback=a,this.remaining=s,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(a){const s=this.running;return s&&this.stop(),this.remaining+=a,s&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const IS=["swal-title","swal-html","swal-footer"],fF=t=>{const a=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!a)return{};const s=a.content;return SF(s),Object.assign(yF(s),bF(s),vF(s),wF(s),NF(s),jF(s),CF(s,IS))},yF=t=>{const a={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Gu(r,["name","value"]);const n=r.getAttribute("name"),l=r.getAttribute("value");!n||!l||(n in Jd&&typeof Jd[n]=="boolean"?a[n]=l!=="false":n in Jd&&typeof Jd[n]=="object"?a[n]=JSON.parse(l):a[n]=l)}),a},bF=t=>{const a={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const n=r.getAttribute("name"),l=r.getAttribute("value");!n||!l||(a[n]=new Function(`return ${l}`)())}),a},vF=t=>{const a={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Gu(r,["type","color","aria-label"]);const n=r.getAttribute("type");if(!(!n||!["confirm","cancel","deny"].includes(n))){if(a[`${n}ButtonText`]=r.innerHTML,a[`show${Nv(n)}Button`]=!0,r.hasAttribute("color")){const l=r.getAttribute("color");l!==null&&(a[`${n}ButtonColor`]=l)}if(r.hasAttribute("aria-label")){const l=r.getAttribute("aria-label");l!==null&&(a[`${n}ButtonAriaLabel`]=l)}}}),a},wF=t=>{const a={},s=t.querySelector("swal-image");return s&&(Gu(s,["src","width","height","alt"]),s.hasAttribute("src")&&(a.imageUrl=s.getAttribute("src")||void 0),s.hasAttribute("width")&&(a.imageWidth=s.getAttribute("width")||void 0),s.hasAttribute("height")&&(a.imageHeight=s.getAttribute("height")||void 0),s.hasAttribute("alt")&&(a.imageAlt=s.getAttribute("alt")||void 0)),a},NF=t=>{const a={},s=t.querySelector("swal-icon");return s&&(Gu(s,["type","color"]),s.hasAttribute("type")&&(a.icon=s.getAttribute("type")),s.hasAttribute("color")&&(a.iconColor=s.getAttribute("color")),a.iconHtml=s.innerHTML),a},jF=t=>{const a={},s=t.querySelector("swal-input");s&&(Gu(s,["type","label","placeholder","value"]),a.input=s.getAttribute("type")||"text",s.hasAttribute("label")&&(a.inputLabel=s.getAttribute("label")),s.hasAttribute("placeholder")&&(a.inputPlaceholder=s.getAttribute("placeholder")),s.hasAttribute("value")&&(a.inputValue=s.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(a.inputOptions={},r.forEach(n=>{Gu(n,["value"]);const l=n.getAttribute("value");if(!l)return;const i=n.innerHTML;a.inputOptions[l]=i})),a},CF=(t,a)=>{const s={};for(const r in a){const n=a[r],l=t.querySelector(n);l&&(Gu(l,[]),s[n.replace(/^swal-/,"")]=l.innerHTML.trim())}return s},SF=t=>{const a=IS.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(s=>{const r=s.tagName.toLowerCase();a.includes(r)||Eo(`Unrecognized element <${r}>`)})},Gu=(t,a)=>{Array.from(t.attributes).forEach(s=>{a.indexOf(s.name)===-1&&Eo([`Unrecognized attribute "${s.name}" on <${t.tagName.toLowerCase()}>.`,`${a.length?`Allowed attributes are: ${a.join(", ")}`:"To set the value, use HTML within the element."}`])})},MS=10,kF=t=>{var a,s;const r=To(),n=Va();if(!r||!n)return;typeof t.willOpen=="function"&&t.willOpen(n),(a=Hs.eventEmitter)===null||a===void 0||a.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;if(TF(r,n,t),setTimeout(()=>{DF(r,n)},MS),Tv()&&(EF(r,t.scrollbarPadding!==void 0?t.scrollbarPadding:!1,i),dA()),!_g()&&!Hs.previousActiveElement&&(Hs.previousActiveElement=document.activeElement),typeof t.didOpen=="function"){const c=t.didOpen;setTimeout(()=>c(n))}(s=Hs.eventEmitter)===null||s===void 0||s.emit("didOpen",n)},ng=t=>{const a=Va();if(!a||t.target!==a)return;const s=To();s&&(a.removeEventListener("animationend",ng),a.removeEventListener("transitionend",ng),s.style.overflowY="auto",di(s,Zt["no-transition"]))},DF=(t,a)=>{X4(a)?(t.style.overflowY="hidden",a.addEventListener("animationend",ng),a.addEventListener("transitionend",ng)):t.style.overflowY="auto"},EF=(t,a,s)=>{uA(),a&&s!=="hidden"&&yA(s),setTimeout(()=>{t.scrollTop=0})},TF=(t,a,s)=>{var r;(r=s.showClass)!==null&&r!==void 0&&r.backdrop&&Wa(t,s.showClass.backdrop),s.animation?(a.style.setProperty("opacity","0","important"),Mn(a,"grid"),setTimeout(()=>{var n;(n=s.showClass)!==null&&n!==void 0&&n.popup&&Wa(a,s.showClass.popup),a.style.removeProperty("opacity")},MS)):Mn(a,"grid"),Wa([document.documentElement,document.body],Zt.shown),s.heightAuto&&s.backdrop&&!s.toast&&Wa([document.documentElement,document.body],Zt["height-auto"])};var l1={email:(t,a)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(a||"Invalid email address"),url:(t,a)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(a||"Invalid URL")};function AF(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=l1.email),t.input==="url"&&(t.inputValidator=l1.url))}function FF(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Eo('Target parameter is not valid, defaulting to "body"'),t.target="body")}function PF(t){AF(t),t.showLoaderOnConfirm&&!t.preConfirm&&Eo(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),FF(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),NT(t)}let pc;var jm=new WeakMap;class Jr{constructor(...a){if(ZE(this,jm,Promise.resolve({isConfirmed:!1,isDenied:!1,isDismissed:!0})),typeof window>"u")return;pc=this;const s=Object.freeze(this.constructor.argsToParams(a));this.params=s,this.isAwaitingPromise=!1,eT(jm,this,this._main(pc.params))}_main(a,s={}){if(DS(Object.assign({},s,a)),Hs.currentInstance){const l=W0.swalPromiseResolve.get(Hs.currentInstance),{isAwaitingPromise:i}=Hs.currentInstance;Hs.currentInstance._destroy(),i||l({isDismissed:!0}),Tv()&&iS()}Hs.currentInstance=pc;const r=MF(a,s);PF(r),Object.freeze(r),Hs.timeout&&(Hs.timeout.stop(),delete Hs.timeout),clearTimeout(Hs.restoreFocusTimeout);const n=LF(pc);return rS(pc,r),dr.innerParams.set(pc,r),IF(pc,n,r)}then(a){return Jj(jm,this).then(a)}finally(a){return Jj(jm,this).finally(a)}}const IF=(t,a,s)=>new Promise((r,n)=>{const l=i=>{t.close({isDismissed:!0,dismiss:i,isConfirmed:!1,isDenied:!1})};W0.swalPromiseResolve.set(t,r),W0.swalPromiseReject.set(t,n),a.confirmButton.onclick=()=>{LA(t)},a.denyButton.onclick=()=>{OA(t)},a.cancelButton.onclick=()=>{_A(t,l)},a.closeButton.onclick=()=>{l(sx.close)},qA(s,a,l),aA(Hs,s,l),kA(t,s),kF(s),OF(Hs,s,l),_F(a,s),setTimeout(()=>{a.container.scrollTop=0})}),MF=(t,a)=>{const s=fF(t),r=Object.assign({},Jd,a,s,t);return r.showClass=Object.assign({},Jd.showClass,r.showClass),r.hideClass=Object.assign({},Jd.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},LF=t=>{const a={popup:Va(),container:To(),actions:bh(),confirmButton:Nc(),denyButton:s0(),cancelButton:ex(),loader:tx(),closeButton:Dv(),validationMessage:Lg(),progressSteps:kv()};return dr.domCache.set(t,a),a},OF=(t,a,s)=>{const r=Og();ho(r),a.timer&&(t.timeout=new gF(()=>{s("timer"),delete t.timeout},a.timer),a.timerProgressBar&&r&&(Mn(r),Tl(r,a,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Fv(a.timer)})))},_F=(t,a)=>{if(!a.toast){if(!Mg(a.allowEnterKey)){G4("allowEnterKey"),HF();return}BF(t)||RF(t,a)||$b(-1,1)}},BF=t=>{const a=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const s of a)if(s instanceof HTMLElement&&Zo(s))return s.focus(),!0;return!1},RF=(t,a)=>a.focusDeny&&Zo(t.denyButton)?(t.denyButton.focus(),!0):a.focusCancel&&Zo(t.cancelButton)?(t.cancelButton.focus(),!0):a.focusConfirm&&Zo(t.confirmButton)?(t.confirmButton.focus(),!0):!1,HF=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Jr.prototype.disableButtons=bS;Jr.prototype.enableButtons=yS;Jr.prototype.getInput=pS;Jr.prototype.disableInput=wS;Jr.prototype.enableInput=vS;Jr.prototype.hideLoading=ag;Jr.prototype.disableLoading=ag;Jr.prototype.showValidationMessage=NS;Jr.prototype.resetValidationMessage=jS;Jr.prototype.close=Xd;Jr.prototype.closePopup=Xd;Jr.prototype.closeModal=Xd;Jr.prototype.closeToast=Xd;Jr.prototype.rejectPromise=uS;Jr.prototype.update=ES;Jr.prototype._destroy=TS;Object.assign(Jr,pF);Object.keys(KA).forEach(t=>{Jr[t]=function(...a){if(pc&&pc[t])return pc[t](...a)}});Jr.DismissReason=sx;Jr.version="11.26.17";const xe=Jr;xe.default=xe;typeof document<"u"&&(function(t,a){var s=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(s),s.styleSheet)s.styleSheet.disabled||(s.styleSheet.cssText=a);else try{s.innerHTML=a}catch{s.innerText=a}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$F=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,s,r)=>r?r.toUpperCase():s.toLowerCase()),i1=t=>{const a=$F(t);return a.charAt(0).toUpperCase()+a.slice(1)},LS=(...t)=>t.filter((a,s,r)=>!!a&&a.trim()!==""&&r.indexOf(a)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=o.forwardRef(({color:t="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:l,iconNode:i,...c},u)=>o.createElement("svg",{ref:u,...WF,width:a,height:a,stroke:t,strokeWidth:r?Number(s)*24/Number(a):s,className:LS("lucide",n),...c},[...i.map(([h,m])=>o.createElement(h,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=(t,a)=>{const s=o.forwardRef(({className:r,...n},l)=>o.createElement(GF,{ref:l,iconNode:a,className:LS(`lucide-${UF(i1(t))}`,`lucide-${t}`,r),...n}));return s.displayName=i1(t),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],VF=js("arrow-left",zF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],KF=js("arrow-right",YF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],py=js("arrow-up-down",qF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],_v=js("award",XF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Kn=js("box",JF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ia=js("briefcase",QF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],da=js("building-2",ZF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],tP=js("calculator",eP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Da=js("calendar-clock",sP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],OS=js("calendar-days",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],nP=js("calendar-x",rP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hs=js("calendar",oP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],iP=js("camera",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_S=js("chart-column",cP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xe=js("check",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ii=js("chevron-down",uP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],a0=js("chevron-left",xP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],vc=js("chevron-right",hP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zu=js("chevron-up",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],gP=js("chevrons-left",pP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],yP=js("chevrons-right",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ba=js("circle-alert",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sc=js("circle-check-big",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],BS=js("circle-pause",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],jP=js("circle-play",NP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bv=js("circle-x",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Rv=js("clipboard-list",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ur=js("clock",kP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],og=js("database",DP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TP=js("dollar-sign",EP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],In=js("download",AP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],c1=js("external-link",FP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IP=js("eye",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],LP=js("file-pen-line",MP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cd=js("file-text",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],BP=js("file-x",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],HP=js("flask-conical",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ar=js("grid-3x3",UP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],WP=js("house",$P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rg=js("info",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],d1=js("key",zP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],RS=js("layers",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Kx=js("layout-grid",YP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_a=js("loader-circle",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],XP=js("lock",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],QP=js("log-in",JP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Gb=js("log-out",ZP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],tu=js("mail",e7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],s7=js("menu",t7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M5 12h14",key:"1ays0h"}]],r7=js("minus",a7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],rr=js("network",n7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Ri=js("pencil",o7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Hv=js("play",l7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Es=js("plus",i7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],d7=js("printer",c7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Xr=js("refresh-cw",u7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ax=js("rotate-ccw",x7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],za=js("save",h7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ut=js("search",m7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],HS=js("send",p7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rx=js("settings",g7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lg=js("shield",f7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],b7=js("smartphone",y7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],w7=js("square-check-big",v7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Is=js("square-pen",N7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M21 12h.01",key:"msek7k"}],["path",{d:"M21 18h.01",key:"1e8rq1"}],["path",{d:"M21 6h.01",key:"1koanj"}]],C7=js("table-of-contents",j7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],US=js("tag",S7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ns=js("trash-2",k7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],E7=js("trending-down",D7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],A7=js("trending-up",T7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],P7=js("triangle-alert",F7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Br=js("upload",I7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],u1=js("user-plus",M7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],O7=js("user-x",L7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ig=js("user",_7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Js=js("users",B7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ca=js("wallet",R7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],U7=js("wrench",H7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ot=js("x",$7);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],G7=js("zap",W7);var dp={exports:{}};function z7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var up={exports:{}};const V7={},Y7=Object.freeze(Object.defineProperty({__proto__:null,default:V7},Symbol.toStringTag,{value:"Module"})),K7=m6(Y7);var q7=up.exports,x1;function Sa(){return x1||(x1=1,(function(t,a){(function(s,r){t.exports=r()})(q7,function(){var s=s||(function(r,n){var l;if(typeof window<"u"&&window.crypto&&(l=window.crypto),typeof self<"u"&&self.crypto&&(l=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(l=globalThis.crypto),!l&&typeof window<"u"&&window.msCrypto&&(l=window.msCrypto),!l&&typeof ay<"u"&&ay.crypto&&(l=ay.crypto),!l&&typeof z7=="function")try{l=K7}catch{}var i=function(){if(l){if(typeof l.getRandomValues=="function")try{return l.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof l.randomBytes=="function")try{return l.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function N(){}return function(C){var S;return N.prototype=C,S=new N,N.prototype=null,S}})(),u={},h=u.lib={},m=h.Base=(function(){return{extend:function(N){var C=c(this);return N&&C.mixIn(N),(!C.hasOwnProperty("init")||this.init===C.init)&&(C.init=function(){C.$super.init.apply(this,arguments)}),C.init.prototype=C,C.$super=this,C},create:function(){var N=this.extend();return N.init.apply(N,arguments),N},init:function(){},mixIn:function(N){for(var C in N)N.hasOwnProperty(C)&&(this[C]=N[C]);N.hasOwnProperty("toString")&&(this.toString=N.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),b=h.WordArray=m.extend({init:function(N,C){N=this.words=N||[],C!=n?this.sigBytes=C:this.sigBytes=N.length*4},toString:function(N){return(N||w).stringify(this)},concat:function(N){var C=this.words,S=N.words,I=this.sigBytes,k=N.sigBytes;if(this.clamp(),I%4)for(var A=0;A<k;A++){var F=S[A>>>2]>>>24-A%4*8&255;C[I+A>>>2]|=F<<24-(I+A)%4*8}else for(var O=0;O<k;O+=4)C[I+O>>>2]=S[O>>>2];return this.sigBytes+=k,this},clamp:function(){var N=this.words,C=this.sigBytes;N[C>>>2]&=4294967295<<32-C%4*8,N.length=r.ceil(C/4)},clone:function(){var N=m.clone.call(this);return N.words=this.words.slice(0),N},random:function(N){for(var C=[],S=0;S<N;S+=4)C.push(i());return new b.init(C,N)}}),g=u.enc={},w=g.Hex={stringify:function(N){for(var C=N.words,S=N.sigBytes,I=[],k=0;k<S;k++){var A=C[k>>>2]>>>24-k%4*8&255;I.push((A>>>4).toString(16)),I.push((A&15).toString(16))}return I.join("")},parse:function(N){for(var C=N.length,S=[],I=0;I<C;I+=2)S[I>>>3]|=parseInt(N.substr(I,2),16)<<24-I%8*4;return new b.init(S,C/2)}},p=g.Latin1={stringify:function(N){for(var C=N.words,S=N.sigBytes,I=[],k=0;k<S;k++){var A=C[k>>>2]>>>24-k%4*8&255;I.push(String.fromCharCode(A))}return I.join("")},parse:function(N){for(var C=N.length,S=[],I=0;I<C;I++)S[I>>>2]|=(N.charCodeAt(I)&255)<<24-I%4*8;return new b.init(S,C)}},v=g.Utf8={stringify:function(N){try{return decodeURIComponent(escape(p.stringify(N)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(N){return p.parse(unescape(encodeURIComponent(N)))}},f=h.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(N){typeof N=="string"&&(N=v.parse(N)),this._data.concat(N),this._nDataBytes+=N.sigBytes},_process:function(N){var C,S=this._data,I=S.words,k=S.sigBytes,A=this.blockSize,F=A*4,O=k/F;N?O=r.ceil(O):O=r.max((O|0)-this._minBufferSize,0);var M=O*A,U=r.min(M*4,k);if(M){for(var L=0;L<M;L+=A)this._doProcessBlock(I,L);C=I.splice(0,M),S.sigBytes-=U}return new b.init(C,U)},clone:function(){var N=m.clone.call(this);return N._data=this._data.clone(),N},_minBufferSize:0});h.Hasher=f.extend({cfg:m.extend(),init:function(N){this.cfg=this.cfg.extend(N),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(N){return this._append(N),this._process(),this},finalize:function(N){N&&this._append(N);var C=this._doFinalize();return C},blockSize:16,_createHelper:function(N){return function(C,S){return new N.init(S).finalize(C)}},_createHmacHelper:function(N){return function(C,S){return new y.HMAC.init(N,S).finalize(C)}}});var y=u.algo={};return u})(Math);return s})})(up)),up.exports}var xp={exports:{}},X7=xp.exports,h1;function Hg(){return h1||(h1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(X7,function(s){return(function(r){var n=s,l=n.lib,i=l.Base,c=l.WordArray,u=n.x64={};u.Word=i.extend({init:function(h,m){this.high=h,this.low=m}}),u.WordArray=i.extend({init:function(h,m){h=this.words=h||[],m!=r?this.sigBytes=m:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,m=h.length,b=[],g=0;g<m;g++){var w=h[g];b.push(w.high),b.push(w.low)}return c.create(b,this.sigBytes)},clone:function(){for(var h=i.clone.call(this),m=h.words=this.words.slice(0),b=m.length,g=0;g<b;g++)m[g]=m[g].clone();return h}})})(),s})})(xp)),xp.exports}var hp={exports:{}},J7=hp.exports,m1;function Q7(){return m1||(m1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(J7,function(s){return(function(){if(typeof ArrayBuffer=="function"){var r=s,n=r.lib,l=n.WordArray,i=l.init,c=l.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var h=u.byteLength,m=[],b=0;b<h;b++)m[b>>>2]|=u[b]<<24-b%4*8;i.call(this,m,h)}else i.apply(this,arguments)};c.prototype=l}})(),s.lib.WordArray})})(hp)),hp.exports}var mp={exports:{}},Z7=mp.exports,p1;function eI(){return p1||(p1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(Z7,function(s){return(function(){var r=s,n=r.lib,l=n.WordArray,i=r.enc;i.Utf16=i.Utf16BE={stringify:function(u){for(var h=u.words,m=u.sigBytes,b=[],g=0;g<m;g+=2){var w=h[g>>>2]>>>16-g%4*8&65535;b.push(String.fromCharCode(w))}return b.join("")},parse:function(u){for(var h=u.length,m=[],b=0;b<h;b++)m[b>>>1]|=u.charCodeAt(b)<<16-b%2*16;return l.create(m,h*2)}},i.Utf16LE={stringify:function(u){for(var h=u.words,m=u.sigBytes,b=[],g=0;g<m;g+=2){var w=c(h[g>>>2]>>>16-g%4*8&65535);b.push(String.fromCharCode(w))}return b.join("")},parse:function(u){for(var h=u.length,m=[],b=0;b<h;b++)m[b>>>1]|=c(u.charCodeAt(b)<<16-b%2*16);return l.create(m,h*2)}};function c(u){return u<<8&4278255360|u>>>8&16711935}})(),s.enc.Utf16})})(mp)),mp.exports}var pp={exports:{}},tI=pp.exports,g1;function r0(){return g1||(g1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(tI,function(s){return(function(){var r=s,n=r.lib,l=n.WordArray,i=r.enc;i.Base64={stringify:function(u){var h=u.words,m=u.sigBytes,b=this._map;u.clamp();for(var g=[],w=0;w<m;w+=3)for(var p=h[w>>>2]>>>24-w%4*8&255,v=h[w+1>>>2]>>>24-(w+1)%4*8&255,f=h[w+2>>>2]>>>24-(w+2)%4*8&255,y=p<<16|v<<8|f,N=0;N<4&&w+N*.75<m;N++)g.push(b.charAt(y>>>6*(3-N)&63));var C=b.charAt(64);if(C)for(;g.length%4;)g.push(C);return g.join("")},parse:function(u){var h=u.length,m=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var g=0;g<m.length;g++)b[m.charCodeAt(g)]=g}var w=m.charAt(64);if(w){var p=u.indexOf(w);p!==-1&&(h=p)}return c(u,h,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(u,h,m){for(var b=[],g=0,w=0;w<h;w++)if(w%4){var p=m[u.charCodeAt(w-1)]<<w%4*2,v=m[u.charCodeAt(w)]>>>6-w%4*2,f=p|v;b[g>>>2]|=f<<24-g%4*8,g++}return l.create(b,g)}})(),s.enc.Base64})})(pp)),pp.exports}var gp={exports:{}},sI=gp.exports,f1;function aI(){return f1||(f1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(sI,function(s){return(function(){var r=s,n=r.lib,l=n.WordArray,i=r.enc;i.Base64url={stringify:function(u,h){h===void 0&&(h=!0);var m=u.words,b=u.sigBytes,g=h?this._safe_map:this._map;u.clamp();for(var w=[],p=0;p<b;p+=3)for(var v=m[p>>>2]>>>24-p%4*8&255,f=m[p+1>>>2]>>>24-(p+1)%4*8&255,y=m[p+2>>>2]>>>24-(p+2)%4*8&255,N=v<<16|f<<8|y,C=0;C<4&&p+C*.75<b;C++)w.push(g.charAt(N>>>6*(3-C)&63));var S=g.charAt(64);if(S)for(;w.length%4;)w.push(S);return w.join("")},parse:function(u,h){h===void 0&&(h=!0);var m=u.length,b=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var w=0;w<b.length;w++)g[b.charCodeAt(w)]=w}var p=b.charAt(64);if(p){var v=u.indexOf(p);v!==-1&&(m=v)}return c(u,m,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(u,h,m){for(var b=[],g=0,w=0;w<h;w++)if(w%4){var p=m[u.charCodeAt(w-1)]<<w%4*2,v=m[u.charCodeAt(w)]>>>6-w%4*2,f=p|v;b[g>>>2]|=f<<24-g%4*8,g++}return l.create(b,g)}})(),s.enc.Base64url})})(gp)),gp.exports}var fp={exports:{}},rI=fp.exports,y1;function n0(){return y1||(y1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(rI,function(s){return(function(r){var n=s,l=n.lib,i=l.WordArray,c=l.Hasher,u=n.algo,h=[];(function(){for(var v=0;v<64;v++)h[v]=r.abs(r.sin(v+1))*4294967296|0})();var m=u.MD5=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,f){for(var y=0;y<16;y++){var N=f+y,C=v[N];v[N]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var S=this._hash.words,I=v[f+0],k=v[f+1],A=v[f+2],F=v[f+3],O=v[f+4],M=v[f+5],U=v[f+6],L=v[f+7],G=v[f+8],re=v[f+9],ye=v[f+10],K=v[f+11],ne=v[f+12],H=v[f+13],se=v[f+14],we=v[f+15],Y=S[0],E=S[1],P=S[2],V=S[3];Y=b(Y,E,P,V,I,7,h[0]),V=b(V,Y,E,P,k,12,h[1]),P=b(P,V,Y,E,A,17,h[2]),E=b(E,P,V,Y,F,22,h[3]),Y=b(Y,E,P,V,O,7,h[4]),V=b(V,Y,E,P,M,12,h[5]),P=b(P,V,Y,E,U,17,h[6]),E=b(E,P,V,Y,L,22,h[7]),Y=b(Y,E,P,V,G,7,h[8]),V=b(V,Y,E,P,re,12,h[9]),P=b(P,V,Y,E,ye,17,h[10]),E=b(E,P,V,Y,K,22,h[11]),Y=b(Y,E,P,V,ne,7,h[12]),V=b(V,Y,E,P,H,12,h[13]),P=b(P,V,Y,E,se,17,h[14]),E=b(E,P,V,Y,we,22,h[15]),Y=g(Y,E,P,V,k,5,h[16]),V=g(V,Y,E,P,U,9,h[17]),P=g(P,V,Y,E,K,14,h[18]),E=g(E,P,V,Y,I,20,h[19]),Y=g(Y,E,P,V,M,5,h[20]),V=g(V,Y,E,P,ye,9,h[21]),P=g(P,V,Y,E,we,14,h[22]),E=g(E,P,V,Y,O,20,h[23]),Y=g(Y,E,P,V,re,5,h[24]),V=g(V,Y,E,P,se,9,h[25]),P=g(P,V,Y,E,F,14,h[26]),E=g(E,P,V,Y,G,20,h[27]),Y=g(Y,E,P,V,H,5,h[28]),V=g(V,Y,E,P,A,9,h[29]),P=g(P,V,Y,E,L,14,h[30]),E=g(E,P,V,Y,ne,20,h[31]),Y=w(Y,E,P,V,M,4,h[32]),V=w(V,Y,E,P,G,11,h[33]),P=w(P,V,Y,E,K,16,h[34]),E=w(E,P,V,Y,se,23,h[35]),Y=w(Y,E,P,V,k,4,h[36]),V=w(V,Y,E,P,O,11,h[37]),P=w(P,V,Y,E,L,16,h[38]),E=w(E,P,V,Y,ye,23,h[39]),Y=w(Y,E,P,V,H,4,h[40]),V=w(V,Y,E,P,I,11,h[41]),P=w(P,V,Y,E,F,16,h[42]),E=w(E,P,V,Y,U,23,h[43]),Y=w(Y,E,P,V,re,4,h[44]),V=w(V,Y,E,P,ne,11,h[45]),P=w(P,V,Y,E,we,16,h[46]),E=w(E,P,V,Y,A,23,h[47]),Y=p(Y,E,P,V,I,6,h[48]),V=p(V,Y,E,P,L,10,h[49]),P=p(P,V,Y,E,se,15,h[50]),E=p(E,P,V,Y,M,21,h[51]),Y=p(Y,E,P,V,ne,6,h[52]),V=p(V,Y,E,P,F,10,h[53]),P=p(P,V,Y,E,ye,15,h[54]),E=p(E,P,V,Y,k,21,h[55]),Y=p(Y,E,P,V,G,6,h[56]),V=p(V,Y,E,P,we,10,h[57]),P=p(P,V,Y,E,U,15,h[58]),E=p(E,P,V,Y,H,21,h[59]),Y=p(Y,E,P,V,O,6,h[60]),V=p(V,Y,E,P,K,10,h[61]),P=p(P,V,Y,E,A,15,h[62]),E=p(E,P,V,Y,re,21,h[63]),S[0]=S[0]+Y|0,S[1]=S[1]+E|0,S[2]=S[2]+P|0,S[3]=S[3]+V|0},_doFinalize:function(){var v=this._data,f=v.words,y=this._nDataBytes*8,N=v.sigBytes*8;f[N>>>5]|=128<<24-N%32;var C=r.floor(y/4294967296),S=y;f[(N+64>>>9<<4)+15]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,f[(N+64>>>9<<4)+14]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,v.sigBytes=(f.length+1)*4,this._process();for(var I=this._hash,k=I.words,A=0;A<4;A++){var F=k[A];k[A]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return I},clone:function(){var v=c.clone.call(this);return v._hash=this._hash.clone(),v}});function b(v,f,y,N,C,S,I){var k=v+(f&y|~f&N)+C+I;return(k<<S|k>>>32-S)+f}function g(v,f,y,N,C,S,I){var k=v+(f&N|y&~N)+C+I;return(k<<S|k>>>32-S)+f}function w(v,f,y,N,C,S,I){var k=v+(f^y^N)+C+I;return(k<<S|k>>>32-S)+f}function p(v,f,y,N,C,S,I){var k=v+(y^(f|~N))+C+I;return(k<<S|k>>>32-S)+f}n.MD5=c._createHelper(m),n.HmacMD5=c._createHmacHelper(m)})(Math),s.MD5})})(fp)),fp.exports}var yp={exports:{}},nI=yp.exports,b1;function $S(){return b1||(b1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(nI,function(s){return(function(){var r=s,n=r.lib,l=n.WordArray,i=n.Hasher,c=r.algo,u=[],h=c.SHA1=i.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,b){for(var g=this._hash.words,w=g[0],p=g[1],v=g[2],f=g[3],y=g[4],N=0;N<80;N++){if(N<16)u[N]=m[b+N]|0;else{var C=u[N-3]^u[N-8]^u[N-14]^u[N-16];u[N]=C<<1|C>>>31}var S=(w<<5|w>>>27)+y+u[N];N<20?S+=(p&v|~p&f)+1518500249:N<40?S+=(p^v^f)+1859775393:N<60?S+=(p&v|p&f|v&f)-1894007588:S+=(p^v^f)-899497514,y=f,f=v,v=p<<30|p>>>2,p=w,w=S}g[0]=g[0]+w|0,g[1]=g[1]+p|0,g[2]=g[2]+v|0,g[3]=g[3]+f|0,g[4]=g[4]+y|0},_doFinalize:function(){var m=this._data,b=m.words,g=this._nDataBytes*8,w=m.sigBytes*8;return b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=Math.floor(g/4294967296),b[(w+64>>>9<<4)+15]=g,m.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m}});r.SHA1=i._createHelper(h),r.HmacSHA1=i._createHmacHelper(h)})(),s.SHA1})})(yp)),yp.exports}var bp={exports:{}},oI=bp.exports,v1;function Uv(){return v1||(v1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(oI,function(s){return(function(r){var n=s,l=n.lib,i=l.WordArray,c=l.Hasher,u=n.algo,h=[],m=[];(function(){function w(y){for(var N=r.sqrt(y),C=2;C<=N;C++)if(!(y%C))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var v=2,f=0;f<64;)w(v)&&(f<8&&(h[f]=p(r.pow(v,1/2))),m[f]=p(r.pow(v,1/3)),f++),v++})();var b=[],g=u.SHA256=c.extend({_doReset:function(){this._hash=new i.init(h.slice(0))},_doProcessBlock:function(w,p){for(var v=this._hash.words,f=v[0],y=v[1],N=v[2],C=v[3],S=v[4],I=v[5],k=v[6],A=v[7],F=0;F<64;F++){if(F<16)b[F]=w[p+F]|0;else{var O=b[F-15],M=(O<<25|O>>>7)^(O<<14|O>>>18)^O>>>3,U=b[F-2],L=(U<<15|U>>>17)^(U<<13|U>>>19)^U>>>10;b[F]=M+b[F-7]+L+b[F-16]}var G=S&I^~S&k,re=f&y^f&N^y&N,ye=(f<<30|f>>>2)^(f<<19|f>>>13)^(f<<10|f>>>22),K=(S<<26|S>>>6)^(S<<21|S>>>11)^(S<<7|S>>>25),ne=A+K+G+m[F]+b[F],H=ye+re;A=k,k=I,I=S,S=C+ne|0,C=N,N=y,y=f,f=ne+H|0}v[0]=v[0]+f|0,v[1]=v[1]+y|0,v[2]=v[2]+N|0,v[3]=v[3]+C|0,v[4]=v[4]+S|0,v[5]=v[5]+I|0,v[6]=v[6]+k|0,v[7]=v[7]+A|0},_doFinalize:function(){var w=this._data,p=w.words,v=this._nDataBytes*8,f=w.sigBytes*8;return p[f>>>5]|=128<<24-f%32,p[(f+64>>>9<<4)+14]=r.floor(v/4294967296),p[(f+64>>>9<<4)+15]=v,w.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var w=c.clone.call(this);return w._hash=this._hash.clone(),w}});n.SHA256=c._createHelper(g),n.HmacSHA256=c._createHmacHelper(g)})(Math),s.SHA256})})(bp)),bp.exports}var vp={exports:{}},lI=vp.exports,w1;function iI(){return w1||(w1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),Uv())})(lI,function(s){return(function(){var r=s,n=r.lib,l=n.WordArray,i=r.algo,c=i.SHA256,u=i.SHA224=c.extend({_doReset:function(){this._hash=new l.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});r.SHA224=c._createHelper(u),r.HmacSHA224=c._createHmacHelper(u)})(),s.SHA224})})(vp)),vp.exports}var wp={exports:{}},cI=wp.exports,N1;function WS(){return N1||(N1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),Hg())})(cI,function(s){return(function(){var r=s,n=r.lib,l=n.Hasher,i=r.x64,c=i.Word,u=i.WordArray,h=r.algo;function m(){return c.create.apply(c,arguments)}var b=[m(1116352408,3609767458),m(1899447441,602891725),m(3049323471,3964484399),m(3921009573,2173295548),m(961987163,4081628472),m(1508970993,3053834265),m(2453635748,2937671579),m(2870763221,3664609560),m(3624381080,2734883394),m(310598401,1164996542),m(607225278,1323610764),m(1426881987,3590304994),m(1925078388,4068182383),m(2162078206,991336113),m(2614888103,633803317),m(3248222580,3479774868),m(3835390401,2666613458),m(4022224774,944711139),m(264347078,2341262773),m(604807628,2007800933),m(770255983,1495990901),m(1249150122,1856431235),m(1555081692,3175218132),m(1996064986,2198950837),m(2554220882,3999719339),m(2821834349,766784016),m(2952996808,2566594879),m(3210313671,3203337956),m(3336571891,1034457026),m(3584528711,2466948901),m(113926993,3758326383),m(338241895,168717936),m(666307205,1188179964),m(773529912,1546045734),m(1294757372,1522805485),m(1396182291,2643833823),m(1695183700,2343527390),m(1986661051,1014477480),m(2177026350,1206759142),m(2456956037,344077627),m(2730485921,1290863460),m(2820302411,3158454273),m(3259730800,3505952657),m(3345764771,106217008),m(3516065817,3606008344),m(3600352804,1432725776),m(4094571909,1467031594),m(275423344,851169720),m(430227734,3100823752),m(506948616,1363258195),m(659060556,3750685593),m(883997877,3785050280),m(958139571,3318307427),m(1322822218,3812723403),m(1537002063,2003034995),m(1747873779,3602036899),m(1955562222,1575990012),m(2024104815,1125592928),m(2227730452,2716904306),m(2361852424,442776044),m(2428436474,593698344),m(2756734187,3733110249),m(3204031479,2999351573),m(3329325298,3815920427),m(3391569614,3928383900),m(3515267271,566280711),m(3940187606,3454069534),m(4118630271,4000239992),m(116418474,1914138554),m(174292421,2731055270),m(289380356,3203993006),m(460393269,320620315),m(685471733,587496836),m(852142971,1086792851),m(1017036298,365543100),m(1126000580,2618297676),m(1288033470,3409855158),m(1501505948,4234509866),m(1607167915,987167468),m(1816402316,1246189591)],g=[];(function(){for(var p=0;p<80;p++)g[p]=m()})();var w=h.SHA512=l.extend({_doReset:function(){this._hash=new u.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(p,v){for(var f=this._hash.words,y=f[0],N=f[1],C=f[2],S=f[3],I=f[4],k=f[5],A=f[6],F=f[7],O=y.high,M=y.low,U=N.high,L=N.low,G=C.high,re=C.low,ye=S.high,K=S.low,ne=I.high,H=I.low,se=k.high,we=k.low,Y=A.high,E=A.low,P=F.high,V=F.low,D=O,R=M,ee=U,Se=L,ue=G,oe=re,le=ye,Q=K,ve=ne,Ce=H,$e=se,Ae=we,We=Y,Re=E,et=P,B=V,q=0;q<80;q++){var Z,je,De=g[q];if(q<16)je=De.high=p[v+q*2]|0,Z=De.low=p[v+q*2+1]|0;else{var Qe=g[q-15],qe=Qe.high,Ye=Qe.low,ht=(qe>>>1|Ye<<31)^(qe>>>8|Ye<<24)^qe>>>7,St=(Ye>>>1|qe<<31)^(Ye>>>8|qe<<24)^(Ye>>>7|qe<<25),dt=g[q-2],Et=dt.high,Te=dt.low,Ee=(Et>>>19|Te<<13)^(Et<<3|Te>>>29)^Et>>>6,pe=(Te>>>19|Et<<13)^(Te<<3|Et>>>29)^(Te>>>6|Et<<26),Je=g[q-7],pt=Je.high,Mt=Je.low,Wt=g[q-16],$t=Wt.high,lt=Wt.low;Z=St+Mt,je=ht+pt+(Z>>>0<St>>>0?1:0),Z=Z+pe,je=je+Ee+(Z>>>0<pe>>>0?1:0),Z=Z+lt,je=je+$t+(Z>>>0<lt>>>0?1:0),De.high=je,De.low=Z}var bt=ve&$e^~ve&We,Nt=Ce&Ae^~Ce&Re,wt=D&ee^D&ue^ee&ue,It=R&Se^R&oe^Se&oe,Dt=(D>>>28|R<<4)^(D<<30|R>>>2)^(D<<25|R>>>7),Ke=(R>>>28|D<<4)^(R<<30|D>>>2)^(R<<25|D>>>7),tt=(ve>>>14|Ce<<18)^(ve>>>18|Ce<<14)^(ve<<23|Ce>>>9),Le=(Ce>>>14|ve<<18)^(Ce>>>18|ve<<14)^(Ce<<23|ve>>>9),He=b[q],ge=He.high,st=He.low,Ze=B+Le,Rt=et+tt+(Ze>>>0<B>>>0?1:0),Ze=Ze+Nt,Rt=Rt+bt+(Ze>>>0<Nt>>>0?1:0),Ze=Ze+st,Rt=Rt+ge+(Ze>>>0<st>>>0?1:0),Ze=Ze+Z,Rt=Rt+je+(Ze>>>0<Z>>>0?1:0),ft=Ke+It,kt=Dt+wt+(ft>>>0<Ke>>>0?1:0);et=We,B=Re,We=$e,Re=Ae,$e=ve,Ae=Ce,Ce=Q+Ze|0,ve=le+Rt+(Ce>>>0<Q>>>0?1:0)|0,le=ue,Q=oe,ue=ee,oe=Se,ee=D,Se=R,R=Ze+ft|0,D=Rt+kt+(R>>>0<Ze>>>0?1:0)|0}M=y.low=M+R,y.high=O+D+(M>>>0<R>>>0?1:0),L=N.low=L+Se,N.high=U+ee+(L>>>0<Se>>>0?1:0),re=C.low=re+oe,C.high=G+ue+(re>>>0<oe>>>0?1:0),K=S.low=K+Q,S.high=ye+le+(K>>>0<Q>>>0?1:0),H=I.low=H+Ce,I.high=ne+ve+(H>>>0<Ce>>>0?1:0),we=k.low=we+Ae,k.high=se+$e+(we>>>0<Ae>>>0?1:0),E=A.low=E+Re,A.high=Y+We+(E>>>0<Re>>>0?1:0),V=F.low=V+B,F.high=P+et+(V>>>0<B>>>0?1:0)},_doFinalize:function(){var p=this._data,v=p.words,f=this._nDataBytes*8,y=p.sigBytes*8;v[y>>>5]|=128<<24-y%32,v[(y+128>>>10<<5)+30]=Math.floor(f/4294967296),v[(y+128>>>10<<5)+31]=f,p.sigBytes=v.length*4,this._process();var N=this._hash.toX32();return N},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=l._createHelper(w),r.HmacSHA512=l._createHmacHelper(w)})(),s.SHA512})})(wp)),wp.exports}var Np={exports:{}},dI=Np.exports,j1;function uI(){return j1||(j1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),Hg(),WS())})(dI,function(s){return(function(){var r=s,n=r.x64,l=n.Word,i=n.WordArray,c=r.algo,u=c.SHA512,h=c.SHA384=u.extend({_doReset:function(){this._hash=new i.init([new l.init(3418070365,3238371032),new l.init(1654270250,914150663),new l.init(2438529370,812702999),new l.init(355462360,4144912697),new l.init(1731405415,4290775857),new l.init(2394180231,1750603025),new l.init(3675008525,1694076839),new l.init(1203062813,3204075428)])},_doFinalize:function(){var m=u._doFinalize.call(this);return m.sigBytes-=16,m}});r.SHA384=u._createHelper(h),r.HmacSHA384=u._createHmacHelper(h)})(),s.SHA384})})(Np)),Np.exports}var jp={exports:{}},xI=jp.exports,C1;function hI(){return C1||(C1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),Hg())})(xI,function(s){return(function(r){var n=s,l=n.lib,i=l.WordArray,c=l.Hasher,u=n.x64,h=u.Word,m=n.algo,b=[],g=[],w=[];(function(){for(var f=1,y=0,N=0;N<24;N++){b[f+5*y]=(N+1)*(N+2)/2%64;var C=y%5,S=(2*f+3*y)%5;f=C,y=S}for(var f=0;f<5;f++)for(var y=0;y<5;y++)g[f+5*y]=y+(2*f+3*y)%5*5;for(var I=1,k=0;k<24;k++){for(var A=0,F=0,O=0;O<7;O++){if(I&1){var M=(1<<O)-1;M<32?F^=1<<M:A^=1<<M-32}I&128?I=I<<1^113:I<<=1}w[k]=h.create(A,F)}})();var p=[];(function(){for(var f=0;f<25;f++)p[f]=h.create()})();var v=m.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var f=this._state=[],y=0;y<25;y++)f[y]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(f,y){for(var N=this._state,C=this.blockSize/2,S=0;S<C;S++){var I=f[y+2*S],k=f[y+2*S+1];I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var A=N[S];A.high^=k,A.low^=I}for(var F=0;F<24;F++){for(var O=0;O<5;O++){for(var M=0,U=0,L=0;L<5;L++){var A=N[O+5*L];M^=A.high,U^=A.low}var G=p[O];G.high=M,G.low=U}for(var O=0;O<5;O++)for(var re=p[(O+4)%5],ye=p[(O+1)%5],K=ye.high,ne=ye.low,M=re.high^(K<<1|ne>>>31),U=re.low^(ne<<1|K>>>31),L=0;L<5;L++){var A=N[O+5*L];A.high^=M,A.low^=U}for(var H=1;H<25;H++){var M,U,A=N[H],se=A.high,we=A.low,Y=b[H];Y<32?(M=se<<Y|we>>>32-Y,U=we<<Y|se>>>32-Y):(M=we<<Y-32|se>>>64-Y,U=se<<Y-32|we>>>64-Y);var E=p[g[H]];E.high=M,E.low=U}var P=p[0],V=N[0];P.high=V.high,P.low=V.low;for(var O=0;O<5;O++)for(var L=0;L<5;L++){var H=O+5*L,A=N[H],D=p[H],R=p[(O+1)%5+5*L],ee=p[(O+2)%5+5*L];A.high=D.high^~R.high&ee.high,A.low=D.low^~R.low&ee.low}var A=N[0],Se=w[F];A.high^=Se.high,A.low^=Se.low}},_doFinalize:function(){var f=this._data,y=f.words;this._nDataBytes*8;var N=f.sigBytes*8,C=this.blockSize*32;y[N>>>5]|=1<<24-N%32,y[(r.ceil((N+1)/C)*C>>>5)-1]|=128,f.sigBytes=y.length*4,this._process();for(var S=this._state,I=this.cfg.outputLength/8,k=I/8,A=[],F=0;F<k;F++){var O=S[F],M=O.high,U=O.low;M=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,A.push(U),A.push(M)}return new i.init(A,I)},clone:function(){for(var f=c.clone.call(this),y=f._state=this._state.slice(0),N=0;N<25;N++)y[N]=y[N].clone();return f}});n.SHA3=c._createHelper(v),n.HmacSHA3=c._createHmacHelper(v)})(Math),s.SHA3})})(jp)),jp.exports}var Cp={exports:{}},mI=Cp.exports,S1;function pI(){return S1||(S1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(mI,function(s){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(r){var n=s,l=n.lib,i=l.WordArray,c=l.Hasher,u=n.algo,h=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),b=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=i.create([0,1518500249,1859775393,2400959708,2840853838]),p=i.create([1352829926,1548603684,1836072691,2053994217,0]),v=u.RIPEMD160=c.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,A){for(var F=0;F<16;F++){var O=A+F,M=k[O];k[O]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}var U=this._hash.words,L=w.words,G=p.words,re=h.words,ye=m.words,K=b.words,ne=g.words,H,se,we,Y,E,P,V,D,R,ee;P=H=U[0],V=se=U[1],D=we=U[2],R=Y=U[3],ee=E=U[4];for(var Se,F=0;F<80;F+=1)Se=H+k[A+re[F]]|0,F<16?Se+=f(se,we,Y)+L[0]:F<32?Se+=y(se,we,Y)+L[1]:F<48?Se+=N(se,we,Y)+L[2]:F<64?Se+=C(se,we,Y)+L[3]:Se+=S(se,we,Y)+L[4],Se=Se|0,Se=I(Se,K[F]),Se=Se+E|0,H=E,E=Y,Y=I(we,10),we=se,se=Se,Se=P+k[A+ye[F]]|0,F<16?Se+=S(V,D,R)+G[0]:F<32?Se+=C(V,D,R)+G[1]:F<48?Se+=N(V,D,R)+G[2]:F<64?Se+=y(V,D,R)+G[3]:Se+=f(V,D,R)+G[4],Se=Se|0,Se=I(Se,ne[F]),Se=Se+ee|0,P=ee,ee=R,R=I(D,10),D=V,V=Se;Se=U[1]+we+R|0,U[1]=U[2]+Y+ee|0,U[2]=U[3]+E+P|0,U[3]=U[4]+H+V|0,U[4]=U[0]+se+D|0,U[0]=Se},_doFinalize:function(){var k=this._data,A=k.words,F=this._nDataBytes*8,O=k.sigBytes*8;A[O>>>5]|=128<<24-O%32,A[(O+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,k.sigBytes=(A.length+1)*4,this._process();for(var M=this._hash,U=M.words,L=0;L<5;L++){var G=U[L];U[L]=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360}return M},clone:function(){var k=c.clone.call(this);return k._hash=this._hash.clone(),k}});function f(k,A,F){return k^A^F}function y(k,A,F){return k&A|~k&F}function N(k,A,F){return(k|~A)^F}function C(k,A,F){return k&F|A&~F}function S(k,A,F){return k^(A|~F)}function I(k,A){return k<<A|k>>>32-A}n.RIPEMD160=c._createHelper(v),n.HmacRIPEMD160=c._createHmacHelper(v)})(),s.RIPEMD160})})(Cp)),Cp.exports}var Sp={exports:{}},gI=Sp.exports,k1;function $v(){return k1||(k1=1,(function(t,a){(function(s,r){t.exports=r(Sa())})(gI,function(s){(function(){var r=s,n=r.lib,l=n.Base,i=r.enc,c=i.Utf8,u=r.algo;u.HMAC=l.extend({init:function(h,m){h=this._hasher=new h.init,typeof m=="string"&&(m=c.parse(m));var b=h.blockSize,g=b*4;m.sigBytes>g&&(m=h.finalize(m)),m.clamp();for(var w=this._oKey=m.clone(),p=this._iKey=m.clone(),v=w.words,f=p.words,y=0;y<b;y++)v[y]^=1549556828,f[y]^=909522486;w.sigBytes=p.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var m=this._hasher,b=m.finalize(h);m.reset();var g=m.finalize(this._oKey.clone().concat(b));return g}})})()})})(Sp)),Sp.exports}var kp={exports:{}},fI=kp.exports,D1;function yI(){return D1||(D1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),Uv(),$v())})(fI,function(s){return(function(){var r=s,n=r.lib,l=n.Base,i=n.WordArray,c=r.algo,u=c.SHA256,h=c.HMAC,m=c.PBKDF2=l.extend({cfg:l.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,g){for(var w=this.cfg,p=h.create(w.hasher,b),v=i.create(),f=i.create([1]),y=v.words,N=f.words,C=w.keySize,S=w.iterations;y.length<C;){var I=p.update(g).finalize(f);p.reset();for(var k=I.words,A=k.length,F=I,O=1;O<S;O++){F=p.finalize(F),p.reset();for(var M=F.words,U=0;U<A;U++)k[U]^=M[U]}v.concat(I),N[0]++}return v.sigBytes=C*4,v}});r.PBKDF2=function(b,g,w){return m.create(w).compute(b,g)}})(),s.PBKDF2})})(kp)),kp.exports}var Dp={exports:{}},bI=Dp.exports,E1;function du(){return E1||(E1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),$S(),$v())})(bI,function(s){return(function(){var r=s,n=r.lib,l=n.Base,i=n.WordArray,c=r.algo,u=c.MD5,h=c.EvpKDF=l.extend({cfg:l.extend({keySize:128/32,hasher:u,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,b){for(var g,w=this.cfg,p=w.hasher.create(),v=i.create(),f=v.words,y=w.keySize,N=w.iterations;f.length<y;){g&&p.update(g),g=p.update(m).finalize(b),p.reset();for(var C=1;C<N;C++)g=p.finalize(g),p.reset();v.concat(g)}return v.sigBytes=y*4,v}});r.EvpKDF=function(m,b,g){return h.create(g).compute(m,b)}})(),s.EvpKDF})})(Dp)),Dp.exports}var Ep={exports:{}},vI=Ep.exports,T1;function On(){return T1||(T1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),du())})(vI,function(s){s.lib.Cipher||(function(r){var n=s,l=n.lib,i=l.Base,c=l.WordArray,u=l.BufferedBlockAlgorithm,h=n.enc;h.Utf8;var m=h.Base64,b=n.algo,g=b.EvpKDF,w=l.Cipher=u.extend({cfg:i.extend(),createEncryptor:function(M,U){return this.create(this._ENC_XFORM_MODE,M,U)},createDecryptor:function(M,U){return this.create(this._DEC_XFORM_MODE,M,U)},init:function(M,U,L){this.cfg=this.cfg.extend(L),this._xformMode=M,this._key=U,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var U=this._doFinalize();return U},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function M(U){return typeof U=="string"?O:k}return function(U){return{encrypt:function(L,G,re){return M(G).encrypt(U,L,G,re)},decrypt:function(L,G,re){return M(G).decrypt(U,L,G,re)}}}})()});l.StreamCipher=w.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1});var p=n.mode={},v=l.BlockCipherMode=i.extend({createEncryptor:function(M,U){return this.Encryptor.create(M,U)},createDecryptor:function(M,U){return this.Decryptor.create(M,U)},init:function(M,U){this._cipher=M,this._iv=U}}),f=p.CBC=(function(){var M=v.extend();M.Encryptor=M.extend({processBlock:function(L,G){var re=this._cipher,ye=re.blockSize;U.call(this,L,G,ye),re.encryptBlock(L,G),this._prevBlock=L.slice(G,G+ye)}}),M.Decryptor=M.extend({processBlock:function(L,G){var re=this._cipher,ye=re.blockSize,K=L.slice(G,G+ye);re.decryptBlock(L,G),U.call(this,L,G,ye),this._prevBlock=K}});function U(L,G,re){var ye,K=this._iv;K?(ye=K,this._iv=r):ye=this._prevBlock;for(var ne=0;ne<re;ne++)L[G+ne]^=ye[ne]}return M})(),y=n.pad={},N=y.Pkcs7={pad:function(M,U){for(var L=U*4,G=L-M.sigBytes%L,re=G<<24|G<<16|G<<8|G,ye=[],K=0;K<G;K+=4)ye.push(re);var ne=c.create(ye,G);M.concat(ne)},unpad:function(M){var U=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=U}};l.BlockCipher=w.extend({cfg:w.cfg.extend({mode:f,padding:N}),reset:function(){var M;w.reset.call(this);var U=this.cfg,L=U.iv,G=U.mode;this._xformMode==this._ENC_XFORM_MODE?M=G.createEncryptor:(M=G.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,L&&L.words):(this._mode=M.call(G,this,L&&L.words),this._mode.__creator=M)},_doProcessBlock:function(M,U){this._mode.processBlock(M,U)},_doFinalize:function(){var M,U=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(U.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),U.unpad(M)),M},blockSize:128/32});var C=l.CipherParams=i.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),S=n.format={},I=S.OpenSSL={stringify:function(M){var U,L=M.ciphertext,G=M.salt;return G?U=c.create([1398893684,1701076831]).concat(G).concat(L):U=L,U.toString(m)},parse:function(M){var U,L=m.parse(M),G=L.words;return G[0]==1398893684&&G[1]==1701076831&&(U=c.create(G.slice(2,4)),G.splice(0,4),L.sigBytes-=16),C.create({ciphertext:L,salt:U})}},k=l.SerializableCipher=i.extend({cfg:i.extend({format:I}),encrypt:function(M,U,L,G){G=this.cfg.extend(G);var re=M.createEncryptor(L,G),ye=re.finalize(U),K=re.cfg;return C.create({ciphertext:ye,key:L,iv:K.iv,algorithm:M,mode:K.mode,padding:K.padding,blockSize:M.blockSize,formatter:G.format})},decrypt:function(M,U,L,G){G=this.cfg.extend(G),U=this._parse(U,G.format);var re=M.createDecryptor(L,G).finalize(U.ciphertext);return re},_parse:function(M,U){return typeof M=="string"?U.parse(M,this):M}}),A=n.kdf={},F=A.OpenSSL={execute:function(M,U,L,G,re){if(G||(G=c.random(64/8)),re)var ye=g.create({keySize:U+L,hasher:re}).compute(M,G);else var ye=g.create({keySize:U+L}).compute(M,G);var K=c.create(ye.words.slice(U),L*4);return ye.sigBytes=U*4,C.create({key:ye,iv:K,salt:G})}},O=l.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:F}),encrypt:function(M,U,L,G){G=this.cfg.extend(G);var re=G.kdf.execute(L,M.keySize,M.ivSize,G.salt,G.hasher);G.iv=re.iv;var ye=k.encrypt.call(this,M,U,re.key,G);return ye.mixIn(re),ye},decrypt:function(M,U,L,G){G=this.cfg.extend(G),U=this._parse(U,G.format);var re=G.kdf.execute(L,M.keySize,M.ivSize,U.salt,G.hasher);G.iv=re.iv;var ye=k.decrypt.call(this,M,U,re.key,G);return ye}})})()})})(Ep)),Ep.exports}var Tp={exports:{}},wI=Tp.exports,A1;function NI(){return A1||(A1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(wI,function(s){return s.mode.CFB=(function(){var r=s.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(l,i){var c=this._cipher,u=c.blockSize;n.call(this,l,i,u,c),this._prevBlock=l.slice(i,i+u)}}),r.Decryptor=r.extend({processBlock:function(l,i){var c=this._cipher,u=c.blockSize,h=l.slice(i,i+u);n.call(this,l,i,u,c),this._prevBlock=h}});function n(l,i,c,u){var h,m=this._iv;m?(h=m.slice(0),this._iv=void 0):h=this._prevBlock,u.encryptBlock(h,0);for(var b=0;b<c;b++)l[i+b]^=h[b]}return r})(),s.mode.CFB})})(Tp)),Tp.exports}var Ap={exports:{}},jI=Ap.exports,F1;function CI(){return F1||(F1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(jI,function(s){return s.mode.CTR=(function(){var r=s.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(l,i){var c=this._cipher,u=c.blockSize,h=this._iv,m=this._counter;h&&(m=this._counter=h.slice(0),this._iv=void 0);var b=m.slice(0);c.encryptBlock(b,0),m[u-1]=m[u-1]+1|0;for(var g=0;g<u;g++)l[i+g]^=b[g]}});return r.Decryptor=n,r})(),s.mode.CTR})})(Ap)),Ap.exports}var Fp={exports:{}},SI=Fp.exports,P1;function kI(){return P1||(P1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(SI,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=(function(){var r=s.lib.BlockCipherMode.extend();function n(c){if((c>>24&255)===255){var u=c>>16&255,h=c>>8&255,m=c&255;u===255?(u=0,h===255?(h=0,m===255?m=0:++m):++h):++u,c=0,c+=u<<16,c+=h<<8,c+=m}else c+=1<<24;return c}function l(c){return(c[0]=n(c[0]))===0&&(c[1]=n(c[1])),c}var i=r.Encryptor=r.extend({processBlock:function(c,u){var h=this._cipher,m=h.blockSize,b=this._iv,g=this._counter;b&&(g=this._counter=b.slice(0),this._iv=void 0),l(g);var w=g.slice(0);h.encryptBlock(w,0);for(var p=0;p<m;p++)c[u+p]^=w[p]}});return r.Decryptor=i,r})(),s.mode.CTRGladman})})(Fp)),Fp.exports}var Pp={exports:{}},DI=Pp.exports,I1;function EI(){return I1||(I1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(DI,function(s){return s.mode.OFB=(function(){var r=s.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(l,i){var c=this._cipher,u=c.blockSize,h=this._iv,m=this._keystream;h&&(m=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(m,0);for(var b=0;b<u;b++)l[i+b]^=m[b]}});return r.Decryptor=n,r})(),s.mode.OFB})})(Pp)),Pp.exports}var Ip={exports:{}},TI=Ip.exports,M1;function AI(){return M1||(M1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(TI,function(s){return s.mode.ECB=(function(){var r=s.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(n,l){this._cipher.encryptBlock(n,l)}}),r.Decryptor=r.extend({processBlock:function(n,l){this._cipher.decryptBlock(n,l)}}),r})(),s.mode.ECB})})(Ip)),Ip.exports}var Mp={exports:{}},FI=Mp.exports,L1;function PI(){return L1||(L1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(FI,function(s){return s.pad.AnsiX923={pad:function(r,n){var l=r.sigBytes,i=n*4,c=i-l%i,u=l+c-1;r.clamp(),r.words[u>>>2]|=c<<24-u%4*8,r.sigBytes+=c},unpad:function(r){var n=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=n}},s.pad.Ansix923})})(Mp)),Mp.exports}var Lp={exports:{}},II=Lp.exports,O1;function MI(){return O1||(O1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(II,function(s){return s.pad.Iso10126={pad:function(r,n){var l=n*4,i=l-r.sigBytes%l;r.concat(s.lib.WordArray.random(i-1)).concat(s.lib.WordArray.create([i<<24],1))},unpad:function(r){var n=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=n}},s.pad.Iso10126})})(Lp)),Lp.exports}var Op={exports:{}},LI=Op.exports,_1;function OI(){return _1||(_1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(LI,function(s){return s.pad.Iso97971={pad:function(r,n){r.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(r,n)},unpad:function(r){s.pad.ZeroPadding.unpad(r),r.sigBytes--}},s.pad.Iso97971})})(Op)),Op.exports}var _p={exports:{}},_I=_p.exports,B1;function BI(){return B1||(B1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(_I,function(s){return s.pad.ZeroPadding={pad:function(r,n){var l=n*4;r.clamp(),r.sigBytes+=l-(r.sigBytes%l||l)},unpad:function(r){for(var n=r.words,l=r.sigBytes-1,l=r.sigBytes-1;l>=0;l--)if(n[l>>>2]>>>24-l%4*8&255){r.sigBytes=l+1;break}}},s.pad.ZeroPadding})})(_p)),_p.exports}var Bp={exports:{}},RI=Bp.exports,R1;function HI(){return R1||(R1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(RI,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})})(Bp)),Bp.exports}var Rp={exports:{}},UI=Rp.exports,H1;function $I(){return H1||(H1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),On())})(UI,function(s){return(function(r){var n=s,l=n.lib,i=l.CipherParams,c=n.enc,u=c.Hex,h=n.format;h.Hex={stringify:function(m){return m.ciphertext.toString(u)},parse:function(m){var b=u.parse(m);return i.create({ciphertext:b})}}})(),s.format.Hex})})(Rp)),Rp.exports}var Hp={exports:{}},WI=Hp.exports,U1;function GI(){return U1||(U1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),r0(),n0(),du(),On())})(WI,function(s){return(function(){var r=s,n=r.lib,l=n.BlockCipher,i=r.algo,c=[],u=[],h=[],m=[],b=[],g=[],w=[],p=[],v=[],f=[];(function(){for(var C=[],S=0;S<256;S++)S<128?C[S]=S<<1:C[S]=S<<1^283;for(var I=0,k=0,S=0;S<256;S++){var A=k^k<<1^k<<2^k<<3^k<<4;A=A>>>8^A&255^99,c[I]=A,u[A]=I;var F=C[I],O=C[F],M=C[O],U=C[A]*257^A*16843008;h[I]=U<<24|U>>>8,m[I]=U<<16|U>>>16,b[I]=U<<8|U>>>24,g[I]=U;var U=M*16843009^O*65537^F*257^I*16843008;w[A]=U<<24|U>>>8,p[A]=U<<16|U>>>16,v[A]=U<<8|U>>>24,f[A]=U,I?(I=F^C[C[C[M^F]]],k^=C[C[k]]):I=k=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],N=i.AES=l.extend({_doReset:function(){var C;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var S=this._keyPriorReset=this._key,I=S.words,k=S.sigBytes/4,A=this._nRounds=k+6,F=(A+1)*4,O=this._keySchedule=[],M=0;M<F;M++)M<k?O[M]=I[M]:(C=O[M-1],M%k?k>6&&M%k==4&&(C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255]):(C=C<<8|C>>>24,C=c[C>>>24]<<24|c[C>>>16&255]<<16|c[C>>>8&255]<<8|c[C&255],C^=y[M/k|0]<<24),O[M]=O[M-k]^C);for(var U=this._invKeySchedule=[],L=0;L<F;L++){var M=F-L;if(L%4)var C=O[M];else var C=O[M-4];L<4||M<=4?U[L]=C:U[L]=w[c[C>>>24]]^p[c[C>>>16&255]]^v[c[C>>>8&255]]^f[c[C&255]]}}},encryptBlock:function(C,S){this._doCryptBlock(C,S,this._keySchedule,h,m,b,g,c)},decryptBlock:function(C,S){var I=C[S+1];C[S+1]=C[S+3],C[S+3]=I,this._doCryptBlock(C,S,this._invKeySchedule,w,p,v,f,u);var I=C[S+1];C[S+1]=C[S+3],C[S+3]=I},_doCryptBlock:function(C,S,I,k,A,F,O,M){for(var U=this._nRounds,L=C[S]^I[0],G=C[S+1]^I[1],re=C[S+2]^I[2],ye=C[S+3]^I[3],K=4,ne=1;ne<U;ne++){var H=k[L>>>24]^A[G>>>16&255]^F[re>>>8&255]^O[ye&255]^I[K++],se=k[G>>>24]^A[re>>>16&255]^F[ye>>>8&255]^O[L&255]^I[K++],we=k[re>>>24]^A[ye>>>16&255]^F[L>>>8&255]^O[G&255]^I[K++],Y=k[ye>>>24]^A[L>>>16&255]^F[G>>>8&255]^O[re&255]^I[K++];L=H,G=se,re=we,ye=Y}var H=(M[L>>>24]<<24|M[G>>>16&255]<<16|M[re>>>8&255]<<8|M[ye&255])^I[K++],se=(M[G>>>24]<<24|M[re>>>16&255]<<16|M[ye>>>8&255]<<8|M[L&255])^I[K++],we=(M[re>>>24]<<24|M[ye>>>16&255]<<16|M[L>>>8&255]<<8|M[G&255])^I[K++],Y=(M[ye>>>24]<<24|M[L>>>16&255]<<16|M[G>>>8&255]<<8|M[re&255])^I[K++];C[S]=H,C[S+1]=se,C[S+2]=we,C[S+3]=Y},keySize:256/32});r.AES=l._createHelper(N)})(),s.AES})})(Hp)),Hp.exports}var Up={exports:{}},zI=Up.exports,$1;function VI(){return $1||($1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),r0(),n0(),du(),On())})(zI,function(s){return(function(){var r=s,n=r.lib,l=n.WordArray,i=n.BlockCipher,c=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],m=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],w=c.DES=i.extend({_doReset:function(){for(var y=this._key,N=y.words,C=[],S=0;S<56;S++){var I=u[S]-1;C[S]=N[I>>>5]>>>31-I%32&1}for(var k=this._subKeys=[],A=0;A<16;A++){for(var F=k[A]=[],O=m[A],S=0;S<24;S++)F[S/6|0]|=C[(h[S]-1+O)%28]<<31-S%6,F[4+(S/6|0)]|=C[28+(h[S+24]-1+O)%28]<<31-S%6;F[0]=F[0]<<1|F[0]>>>31;for(var S=1;S<7;S++)F[S]=F[S]>>>(S-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var M=this._invSubKeys=[],S=0;S<16;S++)M[S]=k[15-S]},encryptBlock:function(y,N){this._doCryptBlock(y,N,this._subKeys)},decryptBlock:function(y,N){this._doCryptBlock(y,N,this._invSubKeys)},_doCryptBlock:function(y,N,C){this._lBlock=y[N],this._rBlock=y[N+1],p.call(this,4,252645135),p.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),p.call(this,1,1431655765);for(var S=0;S<16;S++){for(var I=C[S],k=this._lBlock,A=this._rBlock,F=0,O=0;O<8;O++)F|=b[O][((A^I[O])&g[O])>>>0];this._lBlock=A,this._rBlock=k^F}var M=this._lBlock;this._lBlock=this._rBlock,this._rBlock=M,p.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[N]=this._lBlock,y[N+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,N){var C=(this._lBlock>>>y^this._rBlock)&N;this._rBlock^=C,this._lBlock^=C<<y}function v(y,N){var C=(this._rBlock>>>y^this._lBlock)&N;this._lBlock^=C,this._rBlock^=C<<y}r.DES=i._createHelper(w);var f=c.TripleDES=i.extend({_doReset:function(){var y=this._key,N=y.words;if(N.length!==2&&N.length!==4&&N.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var C=N.slice(0,2),S=N.length<4?N.slice(0,2):N.slice(2,4),I=N.length<6?N.slice(0,2):N.slice(4,6);this._des1=w.createEncryptor(l.create(C)),this._des2=w.createEncryptor(l.create(S)),this._des3=w.createEncryptor(l.create(I))},encryptBlock:function(y,N){this._des1.encryptBlock(y,N),this._des2.decryptBlock(y,N),this._des3.encryptBlock(y,N)},decryptBlock:function(y,N){this._des3.decryptBlock(y,N),this._des2.encryptBlock(y,N),this._des1.decryptBlock(y,N)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=i._createHelper(f)})(),s.TripleDES})})(Up)),Up.exports}var $p={exports:{}},YI=$p.exports,W1;function KI(){return W1||(W1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),r0(),n0(),du(),On())})(YI,function(s){return(function(){var r=s,n=r.lib,l=n.StreamCipher,i=r.algo,c=i.RC4=l.extend({_doReset:function(){for(var m=this._key,b=m.words,g=m.sigBytes,w=this._S=[],p=0;p<256;p++)w[p]=p;for(var p=0,v=0;p<256;p++){var f=p%g,y=b[f>>>2]>>>24-f%4*8&255;v=(v+w[p]+y)%256;var N=w[p];w[p]=w[v],w[v]=N}this._i=this._j=0},_doProcessBlock:function(m,b){m[b]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var m=this._S,b=this._i,g=this._j,w=0,p=0;p<4;p++){b=(b+1)%256,g=(g+m[b])%256;var v=m[b];m[b]=m[g],m[g]=v,w|=m[(m[b]+m[g])%256]<<24-p*8}return this._i=b,this._j=g,w}r.RC4=l._createHelper(c);var h=i.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var m=this.cfg.drop;m>0;m--)u.call(this)}});r.RC4Drop=l._createHelper(h)})(),s.RC4})})($p)),$p.exports}var Wp={exports:{}},qI=Wp.exports,G1;function XI(){return G1||(G1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),r0(),n0(),du(),On())})(qI,function(s){return(function(){var r=s,n=r.lib,l=n.StreamCipher,i=r.algo,c=[],u=[],h=[],m=i.Rabbit=l.extend({_doReset:function(){for(var g=this._key.words,w=this.cfg.iv,p=0;p<4;p++)g[p]=(g[p]<<8|g[p]>>>24)&16711935|(g[p]<<24|g[p]>>>8)&4278255360;var v=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],f=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var p=0;p<4;p++)b.call(this);for(var p=0;p<8;p++)f[p]^=v[p+4&7];if(w){var y=w.words,N=y[0],C=y[1],S=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,I=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=S>>>16|I&4294901760,A=I<<16|S&65535;f[0]^=S,f[1]^=k,f[2]^=I,f[3]^=A,f[4]^=S,f[5]^=k,f[6]^=I,f[7]^=A;for(var p=0;p<4;p++)b.call(this)}},_doProcessBlock:function(g,w){var p=this._X;b.call(this),c[0]=p[0]^p[5]>>>16^p[3]<<16,c[1]=p[2]^p[7]>>>16^p[5]<<16,c[2]=p[4]^p[1]>>>16^p[7]<<16,c[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)c[v]=(c[v]<<8|c[v]>>>24)&16711935|(c[v]<<24|c[v]>>>8)&4278255360,g[w+v]^=c[v]},blockSize:128/32,ivSize:64/32});function b(){for(var g=this._X,w=this._C,p=0;p<8;p++)u[p]=w[p];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<u[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<u[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<u[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<u[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<u[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<u[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<u[6]>>>0?1:0)|0,this._b=w[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var v=g[p]+w[p],f=v&65535,y=v>>>16,N=((f*f>>>17)+f*y>>>15)+y*y,C=((v&4294901760)*v|0)+((v&65535)*v|0);h[p]=N^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.Rabbit=l._createHelper(m)})(),s.Rabbit})})(Wp)),Wp.exports}var Gp={exports:{}},JI=Gp.exports,z1;function QI(){return z1||(z1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),r0(),n0(),du(),On())})(JI,function(s){return(function(){var r=s,n=r.lib,l=n.StreamCipher,i=r.algo,c=[],u=[],h=[],m=i.RabbitLegacy=l.extend({_doReset:function(){var g=this._key.words,w=this.cfg.iv,p=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],v=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var f=0;f<4;f++)b.call(this);for(var f=0;f<8;f++)v[f]^=p[f+4&7];if(w){var y=w.words,N=y[0],C=y[1],S=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,I=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,k=S>>>16|I&4294901760,A=I<<16|S&65535;v[0]^=S,v[1]^=k,v[2]^=I,v[3]^=A,v[4]^=S,v[5]^=k,v[6]^=I,v[7]^=A;for(var f=0;f<4;f++)b.call(this)}},_doProcessBlock:function(g,w){var p=this._X;b.call(this),c[0]=p[0]^p[5]>>>16^p[3]<<16,c[1]=p[2]^p[7]>>>16^p[5]<<16,c[2]=p[4]^p[1]>>>16^p[7]<<16,c[3]=p[6]^p[3]>>>16^p[1]<<16;for(var v=0;v<4;v++)c[v]=(c[v]<<8|c[v]>>>24)&16711935|(c[v]<<24|c[v]>>>8)&4278255360,g[w+v]^=c[v]},blockSize:128/32,ivSize:64/32});function b(){for(var g=this._X,w=this._C,p=0;p<8;p++)u[p]=w[p];w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<u[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<u[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<u[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<u[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<u[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<u[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<u[6]>>>0?1:0)|0,this._b=w[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var v=g[p]+w[p],f=v&65535,y=v>>>16,N=((f*f>>>17)+f*y>>>15)+y*y,C=((v&4294901760)*v|0)+((v&65535)*v|0);h[p]=N^C}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.RabbitLegacy=l._createHelper(m)})(),s.RabbitLegacy})})(Gp)),Gp.exports}var zp={exports:{}},ZI=zp.exports,V1;function eM(){return V1||(V1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),r0(),n0(),du(),On())})(ZI,function(s){return(function(){var r=s,n=r.lib,l=n.BlockCipher,i=r.algo;const c=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var m={pbox:[],sbox:[]};function b(f,y){let N=y>>24&255,C=y>>16&255,S=y>>8&255,I=y&255,k=f.sbox[0][N]+f.sbox[1][C];return k=k^f.sbox[2][S],k=k+f.sbox[3][I],k}function g(f,y,N){let C=y,S=N,I;for(let k=0;k<c;++k)C=C^f.pbox[k],S=b(f,C)^S,I=C,C=S,S=I;return I=C,C=S,S=I,S=S^f.pbox[c],C=C^f.pbox[c+1],{left:C,right:S}}function w(f,y,N){let C=y,S=N,I;for(let k=c+1;k>1;--k)C=C^f.pbox[k],S=b(f,C)^S,I=C,C=S,S=I;return I=C,C=S,S=I,S=S^f.pbox[1],C=C^f.pbox[0],{left:C,right:S}}function p(f,y,N){for(let A=0;A<4;A++){f.sbox[A]=[];for(let F=0;F<256;F++)f.sbox[A][F]=h[A][F]}let C=0;for(let A=0;A<c+2;A++)f.pbox[A]=u[A]^y[C],C++,C>=N&&(C=0);let S=0,I=0,k=0;for(let A=0;A<c+2;A+=2)k=g(f,S,I),S=k.left,I=k.right,f.pbox[A]=S,f.pbox[A+1]=I;for(let A=0;A<4;A++)for(let F=0;F<256;F+=2)k=g(f,S,I),S=k.left,I=k.right,f.sbox[A][F]=S,f.sbox[A][F+1]=I;return!0}var v=i.Blowfish=l.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var f=this._keyPriorReset=this._key,y=f.words,N=f.sigBytes/4;p(m,y,N)}},encryptBlock:function(f,y){var N=g(m,f[y],f[y+1]);f[y]=N.left,f[y+1]=N.right},decryptBlock:function(f,y){var N=w(m,f[y],f[y+1]);f[y]=N.left,f[y+1]=N.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=l._createHelper(v)})(),s.Blowfish})})(zp)),zp.exports}var tM=dp.exports,Y1;function sM(){return Y1||(Y1=1,(function(t,a){(function(s,r,n){t.exports=r(Sa(),Hg(),Q7(),eI(),r0(),aI(),n0(),$S(),Uv(),iI(),WS(),uI(),hI(),pI(),$v(),yI(),du(),On(),NI(),CI(),kI(),EI(),AI(),PI(),MI(),OI(),BI(),HI(),$I(),GI(),VI(),KI(),XI(),QI(),eM())})(tM,function(s){return s})})(dp)),dp.exports}var aM=sM();const An=pv(aM),rM="128bl3$$1ng$",nM="bl3$$1ng$128";let Cm=null;function oM(){if(Cm)return Cm;const t=An.enc.Utf16LE.parse(nM),a=An.PBKDF2(rM,t,{keySize:12,iterations:1e3,hasher:An.algo.SHA1});return Cm={iv:An.lib.WordArray.create(a.words.slice(0,4)),key:An.lib.WordArray.create(a.words.slice(4,12))},Cm}const Ss=t=>{if(!t||t==="string")return"";try{const{key:a,iv:s}=oM(),r=t.trim().replace(/\s/g,"+");return An.AES.decrypt(r,a,{iv:s,mode:An.mode.CBC,padding:An.pad.Pkcs7}).toString(An.enc.Utf16LE)}catch(a){return console.error("Decryption Error:",a),""}};function lM({onLogout:t,activeSection:a,setActiveSection:s}){const[r,n]=o.useState(null),[l,i]=o.useState(null),[c,u]=o.useState(!1),[h,m]=o.useState(!1),[b,g]=o.useState(!1),[w,p]=o.useState(new Set),[v,f]=o.useState(null),[y,N]=o.useState({}),[C,S]=o.useState(null),I=o.useRef(null),k=o.useRef(null),A=o.useRef(null),F=900*1e3,[O,M]=o.useState({});o.useEffect(()=>{const ee=()=>{A.current&&clearTimeout(A.current),A.current=setTimeout(()=>{U()},F)},Se=["mousedown","mousemove","keypress","scroll","touchstart","click"];return Se.forEach(ue=>{document.addEventListener(ue,ee)}),ee(),()=>{Se.forEach(ue=>{document.removeEventListener(ue,ee)}),A.current&&clearTimeout(A.current)}},[]);const U=async()=>{g(!0);try{const ee=localStorage.getItem("userData"),Se=ee?JSON.parse(ee):{},ue=Se.username||Se.userName||"Unknown",oe=Se.userID||Se.userId||Se.id||0;await z.post("UserLogin/logout",{userId:oe});try{await ts.log({trans:`Employee ${ue} logged out (auto).`,messages:`Employee ${ue} logged out due to inactivity.`,formName:"LogOut",accessType:"LogOut"})}catch(le){console.error("Audit trail failed for auto logout:",le)}localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),await xe.fire({icon:"warning",title:"Session Expired",text:"You have been logged out due to inactivity.",timer:2e3,showConfirmButton:!1}),t()}catch(ee){console.error("Auto logout error:",ee),localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),t()}};o.useEffect(()=>{L()},[]);const L=()=>{const ee=localStorage.getItem("loginPayload");if(ee)try{const oe=(JSON.parse(ee).permissions||[]).filter(Q=>Ss(Q.formName)==="BranchSetup"),le={};oe.forEach(Q=>{const ve=Ss(Q.accessTypeName);ve&&(le[ve]=!0)}),M(le)}catch(Se){console.error("Error parsing or decrypting payload",Se)}},G=async()=>{g(!0);try{const ee=localStorage.getItem("userData"),Se=ee?JSON.parse(ee):{},ue=Se.username||Se.userName||"Unknown",oe=Se.userID||Se.userId||Se.id||0;await z.post("UserLogin/logout",{userId:oe});try{await ts.log({trans:`Employee ${ue} logged out.`,messages:`Employee ${ue} logged out.`,formName:"LogOut",accessType:"LogOut"})}catch(le){console.error("Audit trail failed for logout:",le)}localStorage.removeItem("authToken"),localStorage.removeItem("loginTimestamp"),localStorage.removeItem("loginPayload"),localStorage.removeItem("userData"),await xe.fire({icon:"success",title:"Logout Successful",text:"You have been logged out.",timer:1500,showConfirmButton:!1}),t()}catch(ee){const Se=ee.response?.data?.message||ee.message||"Logout failed";await xe.fire({icon:"error",title:"Logout Error",text:Se}),console.error("Logout error:",ee),g(!1)}},re=[{id:"home",label:"Home",icon:WP},{id:"file-setup",label:"File Setup",icon:cd,submenu:[{label:"System",isCategory:!0,children:[{label:"Company Information",formName:"",action:"company-information"}]},{label:"Process",isCategory:!0,children:[{label:"Allowance and Earnings",hasSubmenu:!0,children:[{label:"Allowance Bracket Code Setup",action:"allowance-bracket-code-setup"},{label:"Allowance Bracketing Setup",action:"allowance-bracketing-setup"},{label:"Allowance per Classification Setup",action:"allowance-per-classification-setup"},{label:"Classification Setup",action:"classification-setup"},{label:"Earning Setup",action:"earning-setup"}]},{label:"Calendar Setup",action:"calendar-setup"},{label:"Day Type Setup",action:"day-type-setup"},{label:"Device",hasSubmenu:!0,children:[{label:"AMS Database Configuration Setup",action:"ams-database-configuration-setup"},{label:"Borrowed Device Name",action:"borrowed-device-name"},{label:"Coordinates Setup",action:"coordinates-setup"},{label:"Device Type Setup",action:"device-type-setup"},{label:"DTR Flag Setup",action:"dtr-flag-setup"},{label:"DTR Log Fields Setup",action:"dtr-log-fields-setup"},{label:"SDK List Setup",action:"sdk-list-setup"},{label:"MYSQL Database Configuration Setup",action:"mysql-database-configuration-setup"}]},{label:"Equivalent Hours Deduction Setup",action:"equivalent-hours-deduction-setup"},{label:"Group Schedule Setup",action:"group-schedule-setup"},{label:"Help Setup",action:"help-setup"},{label:"Leave Type Setup",action:"leave-type-setup"},{label:"Overtime",hasSubmenu:!0,children:[{label:"Additional OT Hours Per Week",action:"additional-ot-hours-per-week"},{label:"Holiday OT Rates Setup",action:"holiday-ot-rates-setup"},{label:"Overtime Setup",action:"overtime-setup"},{label:"Regular Overtime Setup",action:"regular-overtime-setup"},{label:"RestDay Overtime Setup",action:"rest-day-overtime-setup"}]},{label:"Payroll Location Setup",action:"payroll-location-setup"},{label:"System Configuration Setup",action:"system-configuration-setup"},{label:"Tardiness/Undertime/Accumulation Bracket",hasSubmenu:!0,children:[{label:"Bracket Code Setup",action:"bracket-code-setup"},{label:"Tardiness/ Undertime/ Accumulation Table Setup",action:"tardiness-undertime-accumulation-table-setup"}]},{label:"Timekeep Group Setup",action:"timekeep-group-setup"},{label:"Workshift and Restday",hasSubmenu:!0,children:[{label:"Daily Schedule Setup",action:"daily-schedule-setup"},{label:"Restday Setup",action:"rest-day-setup"},{label:"Workshift Setup",action:"workshift-setup"}]},{label:"Unpaid Lunch Deduction Bracket Setup",action:"unpaid-lunch-deduction-bracket-setup"}]},{label:"Employment",isCategory:!0,children:[{label:"Area Setup",action:"area-setup"},{label:"Branch Setup",action:"branch-setup"},{label:"Department Setup",action:"department-setup"},{label:"Division Setup",action:"division-setup"},{label:"Employee Designation Setup",action:"employee-designation-setup"},{label:"Employee Status Setup",action:"employee-status-setup"},{label:"Group Setup",action:"group-setup"},{label:"Job Level Setup",action:"job-level-setup"},{label:"Location Setup",action:"location-setup"},{label:"Pay House Setup",action:"pay-house-setup"},{label:"Online Approval Setup",action:"online-approval-setup"},{label:"Section Setup",action:"section-setup"},{label:"Unit Setup",action:"unit-setup"}]}]},{id:"maintenance",label:"Maintenance",icon:rx,submenu:[{label:"Employee Management",isCategory:!0,children:[{label:"Employee Master File",action:"employee-master-file"},{label:"Employee Timekeep Configuration",action:"employee-timekeep-configuration"},{separator:!0},{label:"Rawdata",action:"raw-data"},{label:"Rawdata Ot Gap",action:"rawdata-ot-gap"},{label:"Rawdata On Straight Duty",action:"rawdata-on-straight-duty"},{separator:!0},{label:"Processed Data",action:"processed-data"}]},{label:"2 Shifts In A Day",isCategory:!0,children:[{label:"2 Shifts In A Day - Employee Timekeep Configuration",action:"2-shifts-employee-timekeep-config"},{label:"2 Shifts In A Day - Rawdata",action:"2-shifts-rawdata"}]}]},{id:"process",label:"Process",icon:Hv,submenu:[{label:"Process Data",action:"process-data"},{label:"Process 2 Shifts In A Day Payroll",action:"process-2-shifts-payroll"}]},{id:"utilities",label:"Utilities",icon:U7,submenu:[{isCategory:!0,label:"Utility On Employee Configuration",children:[{label:"Update Status",action:"update-status"},{label:"Update Employee Overtime Application",action:"update-employee-overtime-application"},{label:"Update Employee Workshift",action:"update-employee-workshift"},{label:"Update Employee Leave Application",action:"update-employee-leave-application"},{label:"Update Employee Pay House",action:"update-employee-pay-house"},{label:"Update Batch Restday",action:"update-batch-rest-day"},{label:"Update Employee Classification",action:"update-employee-classification"},{label:"Delete Employee Transactions",action:"delete-employee-transactions"},{label:"Update Rawdata Online",action:"update-rawdata-online"}]},{isCategory:!0,label:"Utility On Rawdata",children:[{label:"Update Daytype In Rawdata",action:"update-daytype-rawdata"},{label:"Update Workshift In Rawdata",action:"update-workshift-rawdata"},{label:"Delete Incomplete Logs",action:"delete-incomplete-logs"},{label:"Delete Rawdata",action:"delete-rawdata"}]},{isCategory:!0,label:"Utility On Processed Data",children:[{label:"Unpost Transaction",action:"unpost-transaction"},{label:"Additional Hours Per Week",action:"additional-hours-per-week"},{label:"Apply Ot Allowance",action:"apply-ot-allowances"},{label:"Apply Break1 And Break3 Overbreak",action:"apply-break-overbreak"},{label:"Update Allowance Per Bracket",action:"update-allowance-per-bracket"},{label:"Update SSS Notification",action:"update-sss-notification"},{label:"Update No. Of Hours Per Week",action:"update-hours-per-week"},{label:"Update Tardiness Penalty",action:"update-tardiness-penalty"},{label:"Deduct Tardiness To Overtime Of The Day",action:"deduct-tardiness-to-overtime"},{label:"Delete Ot During Restday If Absent Or Incomplete In Previous Day",action:"delete-ot-restday-absent"},{label:"Process Overtime Per Cut-Off",action:"process-overtime-cutoff"},{label:"Update Assumed Days",action:"update-assumed-days"},{label:"Process Overtime 24 Hours Rule",action:"process-overtime-24hours"},{label:"Deduct Absences In Excess Of Total Hours With Pay If With Filed Leave",action:"deduct-absences-excess"},{label:"Post Processed Timekeeping Transactions",action:"post-processed-timekeeping"},{label:"Utility To Update The Time Flag Based On Set Policy Of Breaks",action:"update-time-flag-breaks"},{label:"Unpaid Lunch Deduction",action:"unpaid-lunch-deduction"},{label:"Update Flexi Break",action:"update-flexi-break"},{label:"Update GL Code Utility",action:"update-gl-code-utility"}]},{isCategory:!0,label:"Utility On Reports",children:[{label:"Timekeep Email Distribution",action:"timekeep-email-distribution"}]},{isCategory:!0,label:"Utility On 2 Shifts In A Day",children:[{label:"Include Unworked Holiday Pay in the Regular Days/Hours",action:"include-unworked-holiday-pay-regular-days-hours"},{label:"ND Basic Round Down",action:"nd-basic-round-down"},{label:"Saturday Unworked Considered as Paid Regular Hours",action:"saturday-unworked-paid-regular-hours"},{label:"Sunday Work Is Considered OT if Worked on Saturday",action:"sunday-work-ot-if-worked-saturday"},{label:"Unpost 2 Shifts In A Day Transaction",action:"unpost-2-shifts-transaction"},{label:"Delete Incomplete Logs 2 Shifts In A Day",action:"delete-incomplete-logs-2-shifts"},{label:"Delete Records In Raw Data 2 Shifts In A Day",action:"delete-records-raw-data-2-shifts"}]}]},{id:"reports",label:"Reports",icon:_S,submenu:[{label:"Daily Time Record Monitoring",action:"daily-time-record-monitoring"}]},{id:"import",label:"Import",icon:Br,submenu:[{label:"1 shift in a Day",isCategory:!0,children:[{label:"Import Workshift Variable",action:"import-workshift-variable"},{label:"Import Leave Application",action:"import-leave-application"},{label:"Import Overtime Application",action:"import-overtime-application"},{label:"Import Device Code",action:"import-device-code"},{label:"Import Employee Masterfile",action:"import-employee-masterfile"},{label:"Import Logs From Device V2",action:"import-logs-from-device-v2"},{label:"Update Raw Data",action:"update-rawdata-import"},{label:"Import Adjustment",action:"import-adjustment"}]},{label:"2 Shift in a Day",isCategory:!0,children:[{label:"Import Overtime Application",action:"overtime-application-2-shifts"},{label:"Import Workshift Variable",action:"workshift-variable-2-shifts"},{label:"Import Logs From Device V2",action:"logs-from-device-2-shifts"}]}]},{id:"export",label:"Export",icon:In,submenu:[{label:"Payroll Data",action:"export-payroll-data"},{label:"Export NAV",action:"export-nav"},{label:"Payroll DTR Allowance",action:"payroll-dtr-allowance"}]},{id:"security",label:"Security",icon:lg,submenu:[{label:"Security Manager",action:"security-manager"},{label:"Audit Trail",action:"audit-trail"},{label:"Email Configuration",action:"email-configuration"},{label:"Create New Database",action:"create-new-database"}]}];o.useEffect(()=>{function ee(Se){I.current&&!I.current.contains(Se.target)&&n(null)}return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[]);const ye=(ee,Se)=>{if(re.find(oe=>oe.id===ee)?.submenu)if(r===ee)n(null),N({});else{if(Se){const oe=Se.currentTarget,le=oe.getBoundingClientRect(),Q=oe.closest(".px-4.lg\\:px-6");if(Q){const ve=Q.getBoundingClientRect();N({[ee]:{left:le.left-ve.left,top:le.bottom-ve.top,width:le.width}})}}n(ee)}else s(ee),n(null),u(!1),f(null),p(new Set),N({})},K=ee=>{re.find(ue=>ue.id===ee)?.submenu?f(v===ee?null:ee):(s(ee),u(!1),f(null),p(new Set))},ne=ee=>{s(ee),n(null),u(!1),f(null),p(new Set)},H=ee=>{const Se=new Set(w);Se.has(ee)?Se.delete(ee):Se.add(ee),p(Se)},se=ee=>{if(ee.id===a)return!0;if(!ee.submenu)return!1;const Se=ue=>ue.some(oe=>oe.action===a?!0:oe.children?Se(oe.children):!1);return Se(ee.submenu)},we=ee=>{const Se=ee.filter(ue=>ue.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[900px]",children:Se.map((ue,oe)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-green-300",children:ue.label}),e.jsx("div",{className:"space-y-0.5",children:ue.children?.map((le,Q)=>le.hasSubmenu&&le.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-full text-left px-2 py-1 text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-colors duration-150 text-sm rounded flex items-center justify-between cursor-pointer",onMouseEnter:()=>i(`file-setup-${oe}-${Q}`),onMouseLeave:()=>i(null),children:[e.jsx("span",{children:le.label}),e.jsx(vc,{className:"w-3 h-3"})]}),l===`file-setup-${oe}-${Q}`&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-72 z-50 animate-slideRight",onMouseEnter:()=>i(`file-setup-${oe}-${Q}`),onMouseLeave:()=>i(null),children:le.children.map((ve,Ce)=>e.jsx("button",{onClick:()=>ne(ve.action||""),className:`w-full text-left px-4 py-2 transition-colors duration-150 text-sm ${a===ve.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:ve.label},Ce))})]},Q):le.children?e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-gray-800 font-medium text-sm mb-1 px-2",children:le.label}),e.jsx("div",{className:"space-y-0.5 pl-2",children:le.children.map((ve,Ce)=>e.jsx("button",{onClick:()=>ne(ve.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${a===ve.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:ve.label},Ce))})]},Q):e.jsx("button",{onClick:()=>ne(le.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${a===le.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:le.label},Q))})]},oe))})},Y=ee=>{const Se=ee.filter(ue=>ue.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[800px]",children:Se.map((ue,oe)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:ue.label}),e.jsx("div",{className:"space-y-0.5",children:ue.children?.map((le,Q)=>le.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},Q):e.jsx("button",{onClick:()=>ne(le.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${a===le.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:le.label},Q))})]},oe))})},E=ee=>e.jsx("div",{className:"py-2",children:ee.map((Se,ue)=>D(Se,ue,"process"))}),P=ee=>{const Se=ee.filter(ue=>ue.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[900px]",children:Se.map((ue,oe)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:ue.label}),e.jsx("div",{className:"space-y-0.5",children:ue.children?.map((le,Q)=>le.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},Q):e.jsx("button",{onClick:()=>ne(le.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${a===le.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:le.label},Q))})]},oe))})},V=ee=>{const Se=ee.filter(ue=>ue.isCategory);return e.jsx("div",{className:"flex gap-8 p-6 min-w-[800px]",children:Se.map((ue,oe)=>e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-cyan-600 font-semibold text-base mb-3 pb-2 border-b border-gray-300",children:ue.label}),e.jsx("div",{className:"space-y-0.5",children:ue.children?.map((le,Q)=>le.separator?e.jsx("div",{className:"my-2 border-t border-gray-300"},Q):e.jsx("button",{onClick:()=>ne(le.action||""),className:`w-full text-left px-2 py-1 transition-colors duration-150 text-sm rounded ${a===le.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:le.label},Q))})]},oe))})},D=(ee,Se,ue="submenu")=>{const oe=`${ue}-${Se}`;return ee.separator?e.jsx("div",{className:"my-1 border-t border-gray-200"},oe):ee.isCategory&&ee.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-900 font-semibold text-sm flex items-center justify-between hover:bg-gray-50 cursor-default",onMouseEnter:()=>{k.current&&(clearTimeout(k.current),k.current=null),n(oe)},onMouseLeave:()=>{k.current=window.setTimeout(()=>{n(null)},200)},children:[ee.label,e.jsx(vc,{className:"w-4 h-4 text-gray-400"})]}),r===oe&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-80 max-h-[70vh] overflow-y-auto animate-slideRight z-50",onMouseEnter:()=>{k.current&&(clearTimeout(k.current),k.current=null),n(oe)},onMouseLeave:()=>{k.current=window.setTimeout(()=>{n(null)},200)},children:ee.children.map((le,Q)=>D(le,Q,oe))})]},oe):ee.children?e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150 text-sm flex items-center justify-between cursor-pointer",onMouseEnter:()=>{k.current&&(clearTimeout(k.current),k.current=null),n(oe)},onMouseLeave:()=>{k.current=window.setTimeout(()=>{n(null)},200)},children:[ee.label,e.jsx(vc,{className:"w-4 h-4"})]}),r===oe&&e.jsx("div",{className:"absolute left-full top-0 ml-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 w-80 max-h-[70vh] overflow-y-auto animate-slideRight z-50",onMouseEnter:()=>{k.current&&(clearTimeout(k.current),k.current=null),n(oe)},onMouseLeave:()=>{k.current=window.setTimeout(()=>{n(null)},200)},children:ee.children.map((le,Q)=>D(le,Q,oe))})]},oe):ee.action?e.jsx("button",{onClick:()=>ne(ee.action||""),className:`w-full text-left px-4 py-2 transition-colors duration-150 text-sm ${a===ee.action?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"}`,children:ee.label},oe):null},R=(ee,Se,ue="mobile-submenu",oe=0)=>{const le=`${ue}-${Se}`,Q=`${(oe+1)*1}rem`;if(ee.separator)return e.jsx("div",{className:"my-1 border-t border-gray-300"},le);if(ee.isCategory&&ee.children){const ve=w.has(le);return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),H(le)},className:"w-full text-left px-3 py-2.5 text-slate-200 font-semibold text-sm flex items-center justify-between hover:bg-slate-600 active:bg-slate-700 rounded transition-colors touch-manipulation",style:{paddingLeft:Q},children:[e.jsx("span",{className:"flex-1",children:ee.label}),e.jsx(ii,{className:`w-4 h-4 transition-transform duration-200 flex-shrink-0 ml-2 ${ve?"rotate-180":""}`})]}),ve&&e.jsx("div",{className:"space-y-0.5 mt-0.5 bg-green-800/40 rounded py-1",children:ee.children.map((Ce,$e)=>R(Ce,$e,le,oe+1))})]},le)}if(ee.hasSubmenu&&ee.children){const ve=w.has(le);return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),H(le)},className:"w-full text-left px-3 py-2.5 text-slate-200 text-sm flex items-center justify-between hover:bg-slate-600 active:bg-slate-700 rounded transition-colors touch-manipulation",style:{paddingLeft:Q},children:[e.jsx("span",{className:"flex-1",children:ee.label}),e.jsx(ii,{className:`w-4 h-4 transition-transform duration-200 flex-shrink-0 ml-2 ${ve?"rotate-180":""}`})]}),ve&&e.jsx("div",{className:"space-y-0.5 mt-0.5 bg-green-800/40 rounded py-1",children:ee.children.map((Ce,$e)=>R(Ce,$e,le,oe+1))})]},le)}if(ee.children){const ve=w.has(le);return e.jsxs("div",{className:"w-full",children:[e.jsxs("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),H(le)},className:"w-full text-left px-3 py-2.5 text-slate-200 text-sm flex items-center justify-between hover:bg-slate-600 active:bg-slate-700 rounded transition-colors touch-manipulation",style:{paddingLeft:Q},children:[e.jsx("span",{className:"flex-1",children:ee.label}),e.jsx(ii,{className:`w-4 h-4 transition-transform duration-200 flex-shrink-0 ml-2 ${ve?"rotate-180":""}`})]}),ve&&e.jsx("div",{className:"space-y-0.5 mt-0.5 bg-green-800/40 rounded py-1",children:ee.children.map((Ce,$e)=>R(Ce,$e,le,oe+1))})]},le)}return ee.action?e.jsx("button",{type:"button",onClick:ve=>{ve.preventDefault(),ve.stopPropagation(),ne(ee.action||"")},className:`w-full text-left px-3 py-2.5 text-sm rounded transition-colors touch-manipulation ${a===ee.action?"bg-blue-500 text-white font-medium":"text-slate-200 hover:bg-slate-600 active:bg-slate-700"}`,style:{paddingLeft:Q},children:ee.label},le):null};return e.jsx(e.Fragment,{children:e.jsxs("nav",{className:"bg-green-600 border-b border-green-600 sticky top-0 z-50 shadow-lg",children:[e.jsxs("div",{className:"px-4 lg:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-9 h-9 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg shadow-md",children:e.jsx(ur,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsx("div",{children:e.jsx("h1",{className:"text-white text-lg",children:"DEMO ACCOUNT"})})]}),e.jsx("div",{className:"hidden lg:flex items-center space-x-1 flex-1 justify-center relative",children:e.jsx("div",{className:"flex items-center space-x-1 overflow-x-auto nav-scroll max-w-full",children:re.map(ee=>e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("button",{onClick:Se=>ye(ee.id,Se),className:`flex items-center space-x-2 px-3 py-3 rounded-lg transition-all duration-200 whitespace-nowrap ${r===ee.id||se(ee)?"bg-amber-100 text-gray-800 font-semibold":"text-slate-200 hover:bg-green-700 hover:text-white"}`,children:[e.jsx(ee.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:ee.label}),ee.submenu&&e.jsx(ii,{className:`w-4 h-4 transition-transform duration-200 ${r===ee.id?"rotate-180":""}`})]})},ee.id))})}),r&&y[r]&&e.jsx("div",{ref:I,className:"absolute z-50",style:{left:`${y[r].left}px`,top:"56px"},children:re.map(ee=>r!==ee.id||!ee.submenu?null:e.jsx("div",{className:`bg-white rounded-lg shadow-xl border border-gray-200 animate-slideDown ${ee.id==="file-setup"||ee.id==="maintenance"||ee.id==="utilities"||ee.id==="import"?"":ee.id==="process"?"py-2":"py-2 w-56"} ${ee.id==="process"?"w-80":""}`,children:ee.id==="file-setup"?we(ee.submenu):ee.id==="maintenance"?Y(ee.submenu):ee.id==="process"?E(ee.submenu):ee.id==="utilities"?P(ee.submenu):ee.id==="import"?V(ee.submenu):ee.submenu.map((Se,ue)=>D(Se,ue))},`dropdown-${ee.id}`))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 px-3 py-2 bg-slate-600 rounded-lg relative cursor-pointer",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsx(ig,{className:"w-4 h-4 text-slate-200"}),e.jsx("span",{className:"text-slate-200 text-sm",children:"Admin"}),h&&e.jsxs("div",{className:"absolute top-full mt-2 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-2 rounded shadow-lg whitespace-nowrap z-50 animate-fadeIn",children:[e.jsx("div",{className:"text-sm",children:"v910.000 20251201"}),e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-500 rotate-45"})]})]}),e.jsxs("button",{onClick:G,disabled:b,className:"hidden lg:flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Gb,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:b?"Logging out...":"Logout"})]}),e.jsx("button",{onClick:()=>u(!c),className:"lg:hidden flex items-center justify-center w-10 h-10 text-slate-200 hover:text-white hover:bg-slate-600 rounded-lg transition-all duration-200",children:c?e.jsx(ot,{className:"w-6 h-6"}):e.jsx(s7,{className:"w-6 h-6"})})]})]}),c&&e.jsxs("div",{className:"xl:hidden pb-3 space-y-1 max-h-[calc(100vh-10rem)] overflow-y-auto mobile-menu-scroll",children:["              ",re.map(ee=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>K(ee.id),className:`w-full flex items-center justify-between px-4 py-2.5 rounded-lg transition-all duration-200 ${v===ee.id||se(ee)?"bg-slate-700 text-white font-semibold":"text-slate-200 hover:bg-slate-600"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ee.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:ee.label})]}),ee.submenu&&e.jsx(ii,{className:`w-4 h-4 transition-transform duration-200 ${v===ee.id?"rotate-180":""}`})]}),ee.submenu&&v===ee.id&&e.jsx("div",{className:"mt-1 space-y-0.5 bg-green-700 rounded-lg p-2",children:ee.submenu.map((Se,ue)=>R(Se,ue,`mobile-${ee.id}`))})]},ee.id)),e.jsxs("button",{onClick:G,disabled:b,className:"w-full flex items-center justify-center space-x-2 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-md disabled:opacity-50 disabled:cursor-not-allowed mt-4",children:[e.jsx(Gb,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:b?"Logging out...":"Logout"})]})]})]}),e.jsx("style",{children:`
          @keyframes slideDown {
            from {
              opacity: 0;
              transform: translateY(-10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-slideDown {
            animation: slideDown 0.2s ease-out;
          }

          @keyframes slideRight {
            from {
              opacity: 0;
              transform: translateX(-10px);
            }
            to {
              opacity: 1;
              transform: translateX(0);
            }
          }
          .animate-slideRight {
            animation: slideRight 0.2s ease-out;
          }

          @keyframes fadeIn {
            from {
              opacity: 0;
            }
            to {
              opacity: 1;
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.2s ease-out;
          }

          /* Custom scrollbar for desktop navigation */
          .nav-scroll::-webkit-scrollbar {
            height: 6px;
          }
          
          .nav-scroll::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
          }
          
          .nav-scroll::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
          }
          
          .nav-scroll::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
          }

          /* Hide scrollbar for mobile menu */
          .mobile-menu-scroll::-webkit-scrollbar {
            width: 4px;
          }
          
          .mobile-menu-scroll::-webkit-scrollbar-track {
            background: transparent;
          }
          
          .mobile-menu-scroll::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
          }
        `})]})})}function eu(t,a,{checkForDefaultPrevented:s=!0}={}){return function(n){if(t?.(n),s===!1||!n.defaultPrevented)return a?.(n)}}function K1(t,a){if(typeof t=="function")return t(a);t!=null&&(t.current=a)}function Wv(...t){return a=>{let s=!1;const r=t.map(n=>{const l=K1(n,a);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let n=0;n<r.length;n++){const l=r[n];typeof l=="function"?l():K1(t[n],null)}}}}function uu(...t){return o.useCallback(Wv(...t),t)}function GS(t,a=[]){let s=[];function r(l,i){const c=o.createContext(i),u=s.length;s=[...s,i];const h=b=>{const{scope:g,children:w,...p}=b,v=g?.[t]?.[u]||c,f=o.useMemo(()=>p,Object.values(p));return e.jsx(v.Provider,{value:f,children:w})};h.displayName=l+"Provider";function m(b,g){const w=g?.[t]?.[u]||c,p=o.useContext(w);if(p)return p;if(i!==void 0)return i;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[h,m]}const n=()=>{const l=s.map(i=>o.createContext(i));return function(c){const u=c?.[t]||l;return o.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return n.scopeName=t,[r,iM(n,...a)]}function iM(...t){const a=t[0];if(t.length===1)return a;const s=()=>{const r=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(l){const i=r.reduce((c,{useScope:u,scopeName:h})=>{const b=u(l)[`__scope${h}`];return{...c,...b}},{});return o.useMemo(()=>({[`__scope${a.scopeName}`]:i}),[i])}};return s.scopeName=a.scopeName,s}var Dl=g4();const cM=pv(Dl);function dM(t){const a=uM(t),s=o.forwardRef((r,n)=>{const{children:l,...i}=r,c=o.Children.toArray(l),u=c.find(hM);if(u){const h=u.props.children,m=c.map(b=>b===u?o.Children.count(h)>1?o.Children.only(null):o.isValidElement(h)?h.props.children:null:b);return e.jsx(a,{...i,ref:n,children:o.isValidElement(h)?o.cloneElement(h,void 0,m):null})}return e.jsx(a,{...i,ref:n,children:l})});return s.displayName=`${t}.Slot`,s}function uM(t){const a=o.forwardRef((s,r)=>{const{children:n,...l}=s;if(o.isValidElement(n)){const i=pM(n),c=mM(l,n.props);return n.type!==o.Fragment&&(c.ref=r?Wv(r,i):i),o.cloneElement(n,c)}return o.Children.count(n)>1?o.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var xM=Symbol("radix.slottable");function hM(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xM}function mM(t,a){const s={...a};for(const r in a){const n=t[r],l=a[r];/^on[A-Z]/.test(r)?n&&l?s[r]=(...c)=>{const u=l(...c);return n(...c),u}:n&&(s[r]=n):r==="style"?s[r]={...n,...l}:r==="className"&&(s[r]=[n,l].filter(Boolean).join(" "))}return{...t,...s}}function pM(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var gM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hd=gM.reduce((t,a)=>{const s=dM(`Primitive.${a}`),r=o.forwardRef((n,l)=>{const{asChild:i,...c}=n,u=i?s:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...c,ref:l})});return r.displayName=`Primitive.${a}`,{...t,[a]:r}},{});function fM(t,a){t&&Dl.flushSync(()=>t.dispatchEvent(a))}function z0(t){const a=o.useRef(t);return o.useEffect(()=>{a.current=t}),o.useMemo(()=>(...s)=>a.current?.(...s),[])}function yM(t,a=globalThis?.document){const s=z0(t);o.useEffect(()=>{const r=n=>{n.key==="Escape"&&s(n)};return a.addEventListener("keydown",r,{capture:!0}),()=>a.removeEventListener("keydown",r,{capture:!0})},[s,a])}var bM="DismissableLayer",zb="dismissableLayer.update",vM="dismissableLayer.pointerDownOutside",wM="dismissableLayer.focusOutside",q1,zS=o.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),VS=o.forwardRef((t,a)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:l,onInteractOutside:i,onDismiss:c,...u}=t,h=o.useContext(zS),[m,b]=o.useState(null),g=m?.ownerDocument??globalThis?.document,[,w]=o.useState({}),p=uu(a,A=>b(A)),v=Array.from(h.layers),[f]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(f),N=m?v.indexOf(m):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,S=N>=y,I=CM(A=>{const F=A.target,O=[...h.branches].some(M=>M.contains(F));!S||O||(n?.(A),i?.(A),A.defaultPrevented||c?.())},g),k=SM(A=>{const F=A.target;[...h.branches].some(M=>M.contains(F))||(l?.(A),i?.(A),A.defaultPrevented||c?.())},g);return yM(A=>{N===h.layers.size-1&&(r?.(A),!A.defaultPrevented&&c&&(A.preventDefault(),c()))},g),o.useEffect(()=>{if(m)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(q1=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),X1(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=q1)}},[m,g,s,h]),o.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),X1())},[m,h]),o.useEffect(()=>{const A=()=>w({});return document.addEventListener(zb,A),()=>document.removeEventListener(zb,A)},[]),e.jsx(hd.div,{...u,ref:p,style:{pointerEvents:C?S?"auto":"none":void 0,...t.style},onFocusCapture:eu(t.onFocusCapture,k.onFocusCapture),onBlurCapture:eu(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:eu(t.onPointerDownCapture,I.onPointerDownCapture)})});VS.displayName=bM;var NM="DismissableLayerBranch",jM=o.forwardRef((t,a)=>{const s=o.useContext(zS),r=o.useRef(null),n=uu(a,r);return o.useEffect(()=>{const l=r.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),e.jsx(hd.div,{...t,ref:n})});jM.displayName=NM;function CM(t,a=globalThis?.document){const s=z0(t),r=o.useRef(!1),n=o.useRef(()=>{});return o.useEffect(()=>{const l=c=>{if(c.target&&!r.current){let u=function(){YS(vM,s,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(a.removeEventListener("click",n.current),n.current=u,a.addEventListener("click",n.current,{once:!0})):u()}else a.removeEventListener("click",n.current);r.current=!1},i=window.setTimeout(()=>{a.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(i),a.removeEventListener("pointerdown",l),a.removeEventListener("click",n.current)}},[a,s]),{onPointerDownCapture:()=>r.current=!0}}function SM(t,a=globalThis?.document){const s=z0(t),r=o.useRef(!1);return o.useEffect(()=>{const n=l=>{l.target&&!r.current&&YS(wM,s,{originalEvent:l},{discrete:!1})};return a.addEventListener("focusin",n),()=>a.removeEventListener("focusin",n)},[a,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function X1(){const t=new CustomEvent(zb);document.dispatchEvent(t)}function YS(t,a,s,{discrete:r}){const n=s.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});a&&n.addEventListener(t,a,{once:!0}),r?fM(n,l):n.dispatchEvent(l)}var gy=0;function kM(){o.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??J1()),document.body.insertAdjacentElement("beforeend",t[1]??J1()),gy++,()=>{gy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),gy--}},[])}function J1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fy="focusScope.autoFocusOnMount",yy="focusScope.autoFocusOnUnmount",Q1={bubbles:!1,cancelable:!0},DM="FocusScope",KS=o.forwardRef((t,a)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:n,onUnmountAutoFocus:l,...i}=t,[c,u]=o.useState(null),h=z0(n),m=z0(l),b=o.useRef(null),g=uu(a,v=>u(v)),w=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let v=function(C){if(w.paused||!c)return;const S=C.target;c.contains(S)?b.current=S:Kd(b.current,{select:!0})},f=function(C){if(w.paused||!c)return;const S=C.relatedTarget;S!==null&&(c.contains(S)||Kd(b.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const I of C)I.removedNodes.length>0&&Kd(c)};document.addEventListener("focusin",v),document.addEventListener("focusout",f);const N=new MutationObserver(y);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",f),N.disconnect()}}},[r,c,w.paused]),o.useEffect(()=>{if(c){e2.add(w);const v=document.activeElement;if(!c.contains(v)){const y=new CustomEvent(fy,Q1);c.addEventListener(fy,h),c.dispatchEvent(y),y.defaultPrevented||(EM(IM(qS(c)),{select:!0}),document.activeElement===v&&Kd(c))}return()=>{c.removeEventListener(fy,h),setTimeout(()=>{const y=new CustomEvent(yy,Q1);c.addEventListener(yy,m),c.dispatchEvent(y),y.defaultPrevented||Kd(v??document.body,{select:!0}),c.removeEventListener(yy,m),e2.remove(w)},0)}}},[c,h,m,w]);const p=o.useCallback(v=>{if(!s&&!r||w.paused)return;const f=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(f&&y){const N=v.currentTarget,[C,S]=TM(N);C&&S?!v.shiftKey&&y===S?(v.preventDefault(),s&&Kd(C,{select:!0})):v.shiftKey&&y===C&&(v.preventDefault(),s&&Kd(S,{select:!0})):y===N&&v.preventDefault()}},[s,r,w.paused]);return e.jsx(hd.div,{tabIndex:-1,...i,ref:g,onKeyDown:p})});KS.displayName=DM;function EM(t,{select:a=!1}={}){const s=document.activeElement;for(const r of t)if(Kd(r,{select:a}),document.activeElement!==s)return}function TM(t){const a=qS(t),s=Z1(a,t),r=Z1(a.reverse(),t);return[s,r]}function qS(t){const a=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const n=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||n?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)a.push(s.currentNode);return a}function Z1(t,a){for(const s of t)if(!AM(s,{upTo:a}))return s}function AM(t,{upTo:a}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(a!==void 0&&t===a)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FM(t){return t instanceof HTMLInputElement&&"select"in t}function Kd(t,{select:a=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&FM(t)&&a&&t.select()}}var e2=PM();function PM(){let t=[];return{add(a){const s=t[0];a!==s&&s?.pause(),t=t2(t,a),t.unshift(a)},remove(a){t=t2(t,a),t[0]?.resume()}}}function t2(t,a){const s=[...t],r=s.indexOf(a);return r!==-1&&s.splice(r,1),s}function IM(t){return t.filter(a=>a.tagName!=="A")}var su=globalThis?.document?o.useLayoutEffect:()=>{},MM=y4[" useId ".trim().toString()]||(()=>{}),LM=0;function OM(t){const[a,s]=o.useState(MM());return su(()=>{s(r=>r??String(LM++))},[t]),t||(a?`radix-${a}`:"")}const _M=["top","right","bottom","left"],au=Math.min,Nl=Math.max,cg=Math.round,Sm=Math.floor,wc=t=>({x:t,y:t}),BM={left:"right",right:"left",bottom:"top",top:"bottom"},RM={start:"end",end:"start"};function Vb(t,a,s){return Nl(t,au(a,s))}function dd(t,a){return typeof t=="function"?t(a):t}function ud(t){return t.split("-")[0]}function nx(t){return t.split("-")[1]}function Gv(t){return t==="x"?"y":"x"}function zv(t){return t==="y"?"height":"width"}const HM=new Set(["top","bottom"]);function fc(t){return HM.has(ud(t))?"y":"x"}function Vv(t){return Gv(fc(t))}function UM(t,a,s){s===void 0&&(s=!1);const r=nx(t),n=Vv(t),l=zv(n);let i=n==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return a.reference[l]>a.floating[l]&&(i=dg(i)),[i,dg(i)]}function $M(t){const a=dg(t);return[Yb(t),a,Yb(a)]}function Yb(t){return t.replace(/start|end/g,a=>RM[a])}const s2=["left","right"],a2=["right","left"],WM=["top","bottom"],GM=["bottom","top"];function zM(t,a,s){switch(t){case"top":case"bottom":return s?a?a2:s2:a?s2:a2;case"left":case"right":return a?WM:GM;default:return[]}}function VM(t,a,s,r){const n=nx(t);let l=zM(ud(t),s==="start",r);return n&&(l=l.map(i=>i+"-"+n),a&&(l=l.concat(l.map(Yb)))),l}function dg(t){return t.replace(/left|right|bottom|top/g,a=>BM[a])}function YM(t){return{top:0,right:0,bottom:0,left:0,...t}}function XS(t){return typeof t!="number"?YM(t):{top:t,right:t,bottom:t,left:t}}function ug(t){const{x:a,y:s,width:r,height:n}=t;return{width:r,height:n,top:s,left:a,right:a+r,bottom:s+n,x:a,y:s}}function r2(t,a,s){let{reference:r,floating:n}=t;const l=fc(a),i=Vv(a),c=zv(i),u=ud(a),h=l==="y",m=r.x+r.width/2-n.width/2,b=r.y+r.height/2-n.height/2,g=r[c]/2-n[c]/2;let w;switch(u){case"top":w={x:m,y:r.y-n.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:b};break;case"left":w={x:r.x-n.width,y:b};break;default:w={x:r.x,y:r.y}}switch(nx(a)){case"start":w[i]-=g*(s&&h?-1:1);break;case"end":w[i]+=g*(s&&h?-1:1);break}return w}const KM=async(t,a,s)=>{const{placement:r="bottom",strategy:n="absolute",middleware:l=[],platform:i}=s,c=l.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(a));let h=await i.getElementRects({reference:t,floating:a,strategy:n}),{x:m,y:b}=r2(h,r,u),g=r,w={},p=0;for(let v=0;v<c.length;v++){const{name:f,fn:y}=c[v],{x:N,y:C,data:S,reset:I}=await y({x:m,y:b,initialPlacement:r,placement:g,strategy:n,middlewareData:w,rects:h,platform:i,elements:{reference:t,floating:a}});m=N??m,b=C??b,w={...w,[f]:{...w[f],...S}},I&&p<=50&&(p++,typeof I=="object"&&(I.placement&&(g=I.placement),I.rects&&(h=I.rects===!0?await i.getElementRects({reference:t,floating:a,strategy:n}):I.rects),{x:m,y:b}=r2(h,g,u)),v=-1)}return{x:m,y:b,placement:g,strategy:n,middlewareData:w}};async function qx(t,a){var s;a===void 0&&(a={});const{x:r,y:n,platform:l,rects:i,elements:c,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:b="floating",altBoundary:g=!1,padding:w=0}=dd(a,t),p=XS(w),f=c[g?b==="floating"?"reference":"floating":b],y=ug(await l.getClippingRect({element:(s=await(l.isElement==null?void 0:l.isElement(f)))==null||s?f:f.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:u})),N=b==="floating"?{x:r,y:n,width:i.floating.width,height:i.floating.height}:i.reference,C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c.floating)),S=await(l.isElement==null?void 0:l.isElement(C))?await(l.getScale==null?void 0:l.getScale(C))||{x:1,y:1}:{x:1,y:1},I=ug(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:C,strategy:u}):N);return{top:(y.top-I.top+p.top)/S.y,bottom:(I.bottom-y.bottom+p.bottom)/S.y,left:(y.left-I.left+p.left)/S.x,right:(I.right-y.right+p.right)/S.x}}const qM=t=>({name:"arrow",options:t,async fn(a){const{x:s,y:r,placement:n,rects:l,platform:i,elements:c,middlewareData:u}=a,{element:h,padding:m=0}=dd(t,a)||{};if(h==null)return{};const b=XS(m),g={x:s,y:r},w=Vv(n),p=zv(w),v=await i.getDimensions(h),f=w==="y",y=f?"top":"left",N=f?"bottom":"right",C=f?"clientHeight":"clientWidth",S=l.reference[p]+l.reference[w]-g[w]-l.floating[p],I=g[w]-l.reference[w],k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(h));let A=k?k[C]:0;(!A||!await(i.isElement==null?void 0:i.isElement(k)))&&(A=c.floating[C]||l.floating[p]);const F=S/2-I/2,O=A/2-v[p]/2-1,M=au(b[y],O),U=au(b[N],O),L=M,G=A-v[p]-U,re=A/2-v[p]/2+F,ye=Vb(L,re,G),K=!u.arrow&&nx(n)!=null&&re!==ye&&l.reference[p]/2-(re<L?M:U)-v[p]/2<0,ne=K?re<L?re-L:re-G:0;return{[w]:g[w]+ne,data:{[w]:ye,centerOffset:re-ye-ne,...K&&{alignmentOffset:ne}},reset:K}}}),XM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(a){var s,r;const{placement:n,middlewareData:l,rects:i,initialPlacement:c,platform:u,elements:h}=a,{mainAxis:m=!0,crossAxis:b=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...f}=dd(t,a);if((s=l.arrow)!=null&&s.alignmentOffset)return{};const y=ud(n),N=fc(c),C=ud(c)===c,S=await(u.isRTL==null?void 0:u.isRTL(h.floating)),I=g||(C||!v?[dg(c)]:$M(c)),k=p!=="none";!g&&k&&I.push(...VM(c,v,p,S));const A=[c,...I],F=await qx(a,f),O=[];let M=((r=l.flip)==null?void 0:r.overflows)||[];if(m&&O.push(F[y]),b){const re=UM(n,i,S);O.push(F[re[0]],F[re[1]])}if(M=[...M,{placement:n,overflows:O}],!O.every(re=>re<=0)){var U,L;const re=(((U=l.flip)==null?void 0:U.index)||0)+1,ye=A[re];if(ye&&(!(b==="alignment"?N!==fc(ye):!1)||M.every(H=>fc(H.placement)===N?H.overflows[0]>0:!0)))return{data:{index:re,overflows:M},reset:{placement:ye}};let K=(L=M.filter(ne=>ne.overflows[0]<=0).sort((ne,H)=>ne.overflows[1]-H.overflows[1])[0])==null?void 0:L.placement;if(!K)switch(w){case"bestFit":{var G;const ne=(G=M.filter(H=>{if(k){const se=fc(H.placement);return se===N||se==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(se=>se>0).reduce((se,we)=>se+we,0)]).sort((H,se)=>H[1]-se[1])[0])==null?void 0:G[0];ne&&(K=ne);break}case"initialPlacement":K=c;break}if(n!==K)return{reset:{placement:K}}}return{}}}};function n2(t,a){return{top:t.top-a.height,right:t.right-a.width,bottom:t.bottom-a.height,left:t.left-a.width}}function o2(t){return _M.some(a=>t[a]>=0)}const JM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(a){const{rects:s}=a,{strategy:r="referenceHidden",...n}=dd(t,a);switch(r){case"referenceHidden":{const l=await qx(a,{...n,elementContext:"reference"}),i=n2(l,s.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:o2(i)}}}case"escaped":{const l=await qx(a,{...n,altBoundary:!0}),i=n2(l,s.floating);return{data:{escapedOffsets:i,escaped:o2(i)}}}default:return{}}}}},JS=new Set(["left","top"]);async function QM(t,a){const{placement:s,platform:r,elements:n}=t,l=await(r.isRTL==null?void 0:r.isRTL(n.floating)),i=ud(s),c=nx(s),u=fc(s)==="y",h=JS.has(i)?-1:1,m=l&&u?-1:1,b=dd(a,t);let{mainAxis:g,crossAxis:w,alignmentAxis:p}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return c&&typeof p=="number"&&(w=c==="end"?p*-1:p),u?{x:w*m,y:g*h}:{x:g*h,y:w*m}}const ZM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(a){var s,r;const{x:n,y:l,placement:i,middlewareData:c}=a,u=await QM(a,t);return i===((s=c.offset)==null?void 0:s.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:n+u.x,y:l+u.y,data:{...u,placement:i}}}}},eL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(a){const{x:s,y:r,placement:n}=a,{mainAxis:l=!0,crossAxis:i=!1,limiter:c={fn:f=>{let{x:y,y:N}=f;return{x:y,y:N}}},...u}=dd(t,a),h={x:s,y:r},m=await qx(a,u),b=fc(ud(n)),g=Gv(b);let w=h[g],p=h[b];if(l){const f=g==="y"?"top":"left",y=g==="y"?"bottom":"right",N=w+m[f],C=w-m[y];w=Vb(N,w,C)}if(i){const f=b==="y"?"top":"left",y=b==="y"?"bottom":"right",N=p+m[f],C=p-m[y];p=Vb(N,p,C)}const v=c.fn({...a,[g]:w,[b]:p});return{...v,data:{x:v.x-s,y:v.y-r,enabled:{[g]:l,[b]:i}}}}}},tL=function(t){return t===void 0&&(t={}),{options:t,fn(a){const{x:s,y:r,placement:n,rects:l,middlewareData:i}=a,{offset:c=0,mainAxis:u=!0,crossAxis:h=!0}=dd(t,a),m={x:s,y:r},b=fc(n),g=Gv(b);let w=m[g],p=m[b];const v=dd(c,a),f=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(u){const C=g==="y"?"height":"width",S=l.reference[g]-l.floating[C]+f.mainAxis,I=l.reference[g]+l.reference[C]-f.mainAxis;w<S?w=S:w>I&&(w=I)}if(h){var y,N;const C=g==="y"?"width":"height",S=JS.has(ud(n)),I=l.reference[b]-l.floating[C]+(S&&((y=i.offset)==null?void 0:y[b])||0)+(S?0:f.crossAxis),k=l.reference[b]+l.reference[C]+(S?0:((N=i.offset)==null?void 0:N[b])||0)-(S?f.crossAxis:0);p<I?p=I:p>k&&(p=k)}return{[g]:w,[b]:p}}}},sL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(a){var s,r;const{placement:n,rects:l,platform:i,elements:c}=a,{apply:u=()=>{},...h}=dd(t,a),m=await qx(a,h),b=ud(n),g=nx(n),w=fc(n)==="y",{width:p,height:v}=l.floating;let f,y;b==="top"||b==="bottom"?(f=b,y=g===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(y=b,f=g==="end"?"top":"bottom");const N=v-m.top-m.bottom,C=p-m.left-m.right,S=au(v-m[f],N),I=au(p-m[y],C),k=!a.middlewareData.shift;let A=S,F=I;if((s=a.middlewareData.shift)!=null&&s.enabled.x&&(F=C),(r=a.middlewareData.shift)!=null&&r.enabled.y&&(A=N),k&&!g){const M=Nl(m.left,0),U=Nl(m.right,0),L=Nl(m.top,0),G=Nl(m.bottom,0);w?F=p-2*(M!==0||U!==0?M+U:Nl(m.left,m.right)):A=v-2*(L!==0||G!==0?L+G:Nl(m.top,m.bottom))}await u({...a,availableWidth:F,availableHeight:A});const O=await i.getDimensions(c.floating);return p!==O.width||v!==O.height?{reset:{rects:!0}}:{}}}};function Ug(){return typeof window<"u"}function ox(t){return QS(t)?(t.nodeName||"").toLowerCase():"#document"}function El(t){var a;return(t==null||(a=t.ownerDocument)==null?void 0:a.defaultView)||window}function kc(t){var a;return(a=(QS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:a.documentElement}function QS(t){return Ug()?t instanceof Node||t instanceof El(t).Node:!1}function $i(t){return Ug()?t instanceof Element||t instanceof El(t).Element:!1}function jc(t){return Ug()?t instanceof HTMLElement||t instanceof El(t).HTMLElement:!1}function l2(t){return!Ug()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof El(t).ShadowRoot}const aL=new Set(["inline","contents"]);function jh(t){const{overflow:a,overflowX:s,overflowY:r,display:n}=Wi(t);return/auto|scroll|overlay|hidden|clip/.test(a+r+s)&&!aL.has(n)}const rL=new Set(["table","td","th"]);function nL(t){return rL.has(ox(t))}const oL=[":popover-open",":modal"];function $g(t){return oL.some(a=>{try{return t.matches(a)}catch{return!1}})}const lL=["transform","translate","scale","rotate","perspective"],iL=["transform","translate","scale","rotate","perspective","filter"],cL=["paint","layout","strict","content"];function Yv(t){const a=Kv(),s=$i(t)?Wi(t):t;return lL.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!a&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!a&&(s.filter?s.filter!=="none":!1)||iL.some(r=>(s.willChange||"").includes(r))||cL.some(r=>(s.contain||"").includes(r))}function dL(t){let a=ru(t);for(;jc(a)&&!V0(a);){if(Yv(a))return a;if($g(a))return null;a=ru(a)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uL=new Set(["html","body","#document"]);function V0(t){return uL.has(ox(t))}function Wi(t){return El(t).getComputedStyle(t)}function Wg(t){return $i(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ru(t){if(ox(t)==="html")return t;const a=t.assignedSlot||t.parentNode||l2(t)&&t.host||kc(t);return l2(a)?a.host:a}function ZS(t){const a=ru(t);return V0(a)?t.ownerDocument?t.ownerDocument.body:t.body:jc(a)&&jh(a)?a:ZS(a)}function Xx(t,a,s){var r;a===void 0&&(a=[]),s===void 0&&(s=!0);const n=ZS(t),l=n===((r=t.ownerDocument)==null?void 0:r.body),i=El(n);if(l){const c=Kb(i);return a.concat(i,i.visualViewport||[],jh(n)?n:[],c&&s?Xx(c):[])}return a.concat(n,Xx(n,[],s))}function Kb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ek(t){const a=Wi(t);let s=parseFloat(a.width)||0,r=parseFloat(a.height)||0;const n=jc(t),l=n?t.offsetWidth:s,i=n?t.offsetHeight:r,c=cg(s)!==l||cg(r)!==i;return c&&(s=l,r=i),{width:s,height:r,$:c}}function qv(t){return $i(t)?t:t.contextElement}function O0(t){const a=qv(t);if(!jc(a))return wc(1);const s=a.getBoundingClientRect(),{width:r,height:n,$:l}=ek(a);let i=(l?cg(s.width):s.width)/r,c=(l?cg(s.height):s.height)/n;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const xL=wc(0);function tk(t){const a=El(t);return!Kv()||!a.visualViewport?xL:{x:a.visualViewport.offsetLeft,y:a.visualViewport.offsetTop}}function hL(t,a,s){return a===void 0&&(a=!1),!s||a&&s!==El(t)?!1:a}function Vu(t,a,s,r){a===void 0&&(a=!1),s===void 0&&(s=!1);const n=t.getBoundingClientRect(),l=qv(t);let i=wc(1);a&&(r?$i(r)&&(i=O0(r)):i=O0(t));const c=hL(l,s,r)?tk(l):wc(0);let u=(n.left+c.x)/i.x,h=(n.top+c.y)/i.y,m=n.width/i.x,b=n.height/i.y;if(l){const g=El(l),w=r&&$i(r)?El(r):r;let p=g,v=Kb(p);for(;v&&r&&w!==p;){const f=O0(v),y=v.getBoundingClientRect(),N=Wi(v),C=y.left+(v.clientLeft+parseFloat(N.paddingLeft))*f.x,S=y.top+(v.clientTop+parseFloat(N.paddingTop))*f.y;u*=f.x,h*=f.y,m*=f.x,b*=f.y,u+=C,h+=S,p=El(v),v=Kb(p)}}return ug({width:m,height:b,x:u,y:h})}function Gg(t,a){const s=Wg(t).scrollLeft;return a?a.left+s:Vu(kc(t)).left+s}function sk(t,a){const s=t.getBoundingClientRect(),r=s.left+a.scrollLeft-Gg(t,s),n=s.top+a.scrollTop;return{x:r,y:n}}function mL(t){let{elements:a,rect:s,offsetParent:r,strategy:n}=t;const l=n==="fixed",i=kc(r),c=a?$g(a.floating):!1;if(r===i||c&&l)return s;let u={scrollLeft:0,scrollTop:0},h=wc(1);const m=wc(0),b=jc(r);if((b||!b&&!l)&&((ox(r)!=="body"||jh(i))&&(u=Wg(r)),jc(r))){const w=Vu(r);h=O0(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}const g=i&&!b&&!l?sk(i,u):wc(0);return{width:s.width*h.x,height:s.height*h.y,x:s.x*h.x-u.scrollLeft*h.x+m.x+g.x,y:s.y*h.y-u.scrollTop*h.y+m.y+g.y}}function pL(t){return Array.from(t.getClientRects())}function gL(t){const a=kc(t),s=Wg(t),r=t.ownerDocument.body,n=Nl(a.scrollWidth,a.clientWidth,r.scrollWidth,r.clientWidth),l=Nl(a.scrollHeight,a.clientHeight,r.scrollHeight,r.clientHeight);let i=-s.scrollLeft+Gg(t);const c=-s.scrollTop;return Wi(r).direction==="rtl"&&(i+=Nl(a.clientWidth,r.clientWidth)-n),{width:n,height:l,x:i,y:c}}const i2=25;function fL(t,a){const s=El(t),r=kc(t),n=s.visualViewport;let l=r.clientWidth,i=r.clientHeight,c=0,u=0;if(n){l=n.width,i=n.height;const m=Kv();(!m||m&&a==="fixed")&&(c=n.offsetLeft,u=n.offsetTop)}const h=Gg(r);if(h<=0){const m=r.ownerDocument,b=m.body,g=getComputedStyle(b),w=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,p=Math.abs(r.clientWidth-b.clientWidth-w);p<=i2&&(l-=p)}else h<=i2&&(l+=h);return{width:l,height:i,x:c,y:u}}const yL=new Set(["absolute","fixed"]);function bL(t,a){const s=Vu(t,!0,a==="fixed"),r=s.top+t.clientTop,n=s.left+t.clientLeft,l=jc(t)?O0(t):wc(1),i=t.clientWidth*l.x,c=t.clientHeight*l.y,u=n*l.x,h=r*l.y;return{width:i,height:c,x:u,y:h}}function c2(t,a,s){let r;if(a==="viewport")r=fL(t,s);else if(a==="document")r=gL(kc(t));else if($i(a))r=bL(a,s);else{const n=tk(t);r={x:a.x-n.x,y:a.y-n.y,width:a.width,height:a.height}}return ug(r)}function ak(t,a){const s=ru(t);return s===a||!$i(s)||V0(s)?!1:Wi(s).position==="fixed"||ak(s,a)}function vL(t,a){const s=a.get(t);if(s)return s;let r=Xx(t,[],!1).filter(c=>$i(c)&&ox(c)!=="body"),n=null;const l=Wi(t).position==="fixed";let i=l?ru(t):t;for(;$i(i)&&!V0(i);){const c=Wi(i),u=Yv(i);!u&&c.position==="fixed"&&(n=null),(l?!u&&!n:!u&&c.position==="static"&&!!n&&yL.has(n.position)||jh(i)&&!u&&ak(t,i))?r=r.filter(m=>m!==i):n=c,i=ru(i)}return a.set(t,r),r}function wL(t){let{element:a,boundary:s,rootBoundary:r,strategy:n}=t;const i=[...s==="clippingAncestors"?$g(a)?[]:vL(a,this._c):[].concat(s),r],c=i[0],u=i.reduce((h,m)=>{const b=c2(a,m,n);return h.top=Nl(b.top,h.top),h.right=au(b.right,h.right),h.bottom=au(b.bottom,h.bottom),h.left=Nl(b.left,h.left),h},c2(a,c,n));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function NL(t){const{width:a,height:s}=ek(t);return{width:a,height:s}}function jL(t,a,s){const r=jc(a),n=kc(a),l=s==="fixed",i=Vu(t,!0,l,a);let c={scrollLeft:0,scrollTop:0};const u=wc(0);function h(){u.x=Gg(n)}if(r||!r&&!l)if((ox(a)!=="body"||jh(n))&&(c=Wg(a)),r){const w=Vu(a,!0,l,a);u.x=w.x+a.clientLeft,u.y=w.y+a.clientTop}else n&&h();l&&!r&&n&&h();const m=n&&!r&&!l?sk(n,c):wc(0),b=i.left+c.scrollLeft-u.x-m.x,g=i.top+c.scrollTop-u.y-m.y;return{x:b,y:g,width:i.width,height:i.height}}function by(t){return Wi(t).position==="static"}function d2(t,a){if(!jc(t)||Wi(t).position==="fixed")return null;if(a)return a(t);let s=t.offsetParent;return kc(t)===s&&(s=s.ownerDocument.body),s}function rk(t,a){const s=El(t);if($g(t))return s;if(!jc(t)){let n=ru(t);for(;n&&!V0(n);){if($i(n)&&!by(n))return n;n=ru(n)}return s}let r=d2(t,a);for(;r&&nL(r)&&by(r);)r=d2(r,a);return r&&V0(r)&&by(r)&&!Yv(r)?s:r||dL(t)||s}const CL=async function(t){const a=this.getOffsetParent||rk,s=this.getDimensions,r=await s(t.floating);return{reference:jL(t.reference,await a(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SL(t){return Wi(t).direction==="rtl"}const kL={convertOffsetParentRelativeRectToViewportRelativeRect:mL,getDocumentElement:kc,getClippingRect:wL,getOffsetParent:rk,getElementRects:CL,getClientRects:pL,getDimensions:NL,getScale:O0,isElement:$i,isRTL:SL};function nk(t,a){return t.x===a.x&&t.y===a.y&&t.width===a.width&&t.height===a.height}function DL(t,a){let s=null,r;const n=kc(t);function l(){var c;clearTimeout(r),(c=s)==null||c.disconnect(),s=null}function i(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),l();const h=t.getBoundingClientRect(),{left:m,top:b,width:g,height:w}=h;if(c||a(),!g||!w)return;const p=Sm(b),v=Sm(n.clientWidth-(m+g)),f=Sm(n.clientHeight-(b+w)),y=Sm(m),C={rootMargin:-p+"px "+-v+"px "+-f+"px "+-y+"px",threshold:Nl(0,au(1,u))||1};let S=!0;function I(k){const A=k[0].intersectionRatio;if(A!==u){if(!S)return i();A?i(!1,A):r=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!nk(h,t.getBoundingClientRect())&&i(),S=!1}try{s=new IntersectionObserver(I,{...C,root:n.ownerDocument})}catch{s=new IntersectionObserver(I,C)}s.observe(t)}return i(!0),l}function EL(t,a,s,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:l=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,h=qv(t),m=n||l?[...h?Xx(h):[],...Xx(a)]:[];m.forEach(y=>{n&&y.addEventListener("scroll",s,{passive:!0}),l&&y.addEventListener("resize",s)});const b=h&&c?DL(h,s):null;let g=-1,w=null;i&&(w=new ResizeObserver(y=>{let[N]=y;N&&N.target===h&&w&&(w.unobserve(a),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=w)==null||C.observe(a)})),s()}),h&&!u&&w.observe(h),w.observe(a));let p,v=u?Vu(t):null;u&&f();function f(){const y=Vu(t);v&&!nk(v,y)&&s(),v=y,p=requestAnimationFrame(f)}return s(),()=>{var y;m.forEach(N=>{n&&N.removeEventListener("scroll",s),l&&N.removeEventListener("resize",s)}),b?.(),(y=w)==null||y.disconnect(),w=null,u&&cancelAnimationFrame(p)}}const TL=ZM,AL=eL,FL=XM,PL=sL,IL=JM,u2=qM,ML=tL,LL=(t,a,s)=>{const r=new Map,n={platform:kL,...s},l={...n.platform,_c:r};return KM(t,a,{...n,platform:l})};var OL=typeof document<"u",_L=function(){},Vp=OL?o.useLayoutEffect:_L;function xg(t,a){if(t===a)return!0;if(typeof t!=typeof a)return!1;if(typeof t=="function"&&t.toString()===a.toString())return!0;let s,r,n;if(t&&a&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==a.length)return!1;for(r=s;r--!==0;)if(!xg(t[r],a[r]))return!1;return!0}if(n=Object.keys(t),s=n.length,s!==Object.keys(a).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(a,n[r]))return!1;for(r=s;r--!==0;){const l=n[r];if(!(l==="_owner"&&t.$$typeof)&&!xg(t[l],a[l]))return!1}return!0}return t!==t&&a!==a}function ok(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function x2(t,a){const s=ok(t);return Math.round(a*s)/s}function vy(t){const a=o.useRef(t);return Vp(()=>{a.current=t}),a}function BL(t){t===void 0&&(t={});const{placement:a="bottom",strategy:s="absolute",middleware:r=[],platform:n,elements:{reference:l,floating:i}={},transform:c=!0,whileElementsMounted:u,open:h}=t,[m,b]=o.useState({x:0,y:0,strategy:s,placement:a,middlewareData:{},isPositioned:!1}),[g,w]=o.useState(r);xg(g,r)||w(r);const[p,v]=o.useState(null),[f,y]=o.useState(null),N=o.useCallback(H=>{H!==k.current&&(k.current=H,v(H))},[]),C=o.useCallback(H=>{H!==A.current&&(A.current=H,y(H))},[]),S=l||p,I=i||f,k=o.useRef(null),A=o.useRef(null),F=o.useRef(m),O=u!=null,M=vy(u),U=vy(n),L=vy(h),G=o.useCallback(()=>{if(!k.current||!A.current)return;const H={placement:a,strategy:s,middleware:g};U.current&&(H.platform=U.current),LL(k.current,A.current,H).then(se=>{const we={...se,isPositioned:L.current!==!1};re.current&&!xg(F.current,we)&&(F.current=we,Dl.flushSync(()=>{b(we)}))})},[g,a,s,U,L]);Vp(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,b(H=>({...H,isPositioned:!1})))},[h]);const re=o.useRef(!1);Vp(()=>(re.current=!0,()=>{re.current=!1}),[]),Vp(()=>{if(S&&(k.current=S),I&&(A.current=I),S&&I){if(M.current)return M.current(S,I,G);G()}},[S,I,G,M,O]);const ye=o.useMemo(()=>({reference:k,floating:A,setReference:N,setFloating:C}),[N,C]),K=o.useMemo(()=>({reference:S,floating:I}),[S,I]),ne=o.useMemo(()=>{const H={position:s,left:0,top:0};if(!K.floating)return H;const se=x2(K.floating,m.x),we=x2(K.floating,m.y);return c?{...H,transform:"translate("+se+"px, "+we+"px)",...ok(K.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:se,top:we}},[s,c,K.floating,m.x,m.y]);return o.useMemo(()=>({...m,update:G,refs:ye,elements:K,floatingStyles:ne}),[m,G,ye,K,ne])}const RL=t=>{function a(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:r,padding:n}=typeof t=="function"?t(s):t;return r&&a(r)?r.current!=null?u2({element:r.current,padding:n}).fn(s):{}:r?u2({element:r,padding:n}).fn(s):{}}}},HL=(t,a)=>({...TL(t),options:[t,a]}),UL=(t,a)=>({...AL(t),options:[t,a]}),$L=(t,a)=>({...ML(t),options:[t,a]}),WL=(t,a)=>({...FL(t),options:[t,a]}),GL=(t,a)=>({...PL(t),options:[t,a]}),zL=(t,a)=>({...IL(t),options:[t,a]}),VL=(t,a)=>({...RL(t),options:[t,a]});var YL="Arrow",lk=o.forwardRef((t,a)=>{const{children:s,width:r=10,height:n=5,...l}=t;return e.jsx(hd.svg,{...l,ref:a,width:r,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});lk.displayName=YL;var KL=lk;function qL(t){const[a,s]=o.useState(void 0);return su(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const l=n[0];let i,c;if("borderBoxSize"in l){const u=l.borderBoxSize,h=Array.isArray(u)?u[0]:u;i=h.inlineSize,c=h.blockSize}else i=t.offsetWidth,c=t.offsetHeight;s({width:i,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else s(void 0)},[t]),a}var Xv="Popper",[ik,ck]=GS(Xv),[XL,dk]=ik(Xv),uk=t=>{const{__scopePopper:a,children:s}=t,[r,n]=o.useState(null);return e.jsx(XL,{scope:a,anchor:r,onAnchorChange:n,children:s})};uk.displayName=Xv;var xk="PopperAnchor",hk=o.forwardRef((t,a)=>{const{__scopePopper:s,virtualRef:r,...n}=t,l=dk(xk,s),i=o.useRef(null),c=uu(a,i),u=o.useRef(null);return o.useEffect(()=>{const h=u.current;u.current=r?.current||i.current,h!==u.current&&l.onAnchorChange(u.current)}),r?null:e.jsx(hd.div,{...n,ref:c})});hk.displayName=xk;var Jv="PopperContent",[JL,QL]=ik(Jv),mk=o.forwardRef((t,a)=>{const{__scopePopper:s,side:r="bottom",sideOffset:n=0,align:l="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:b="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:p,...v}=t,f=dk(Jv,s),[y,N]=o.useState(null),C=uu(a,ee=>N(ee)),[S,I]=o.useState(null),k=qL(S),A=k?.width??0,F=k?.height??0,O=r+(l!=="center"?"-"+l:""),M=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(h)?h:[h],L=U.length>0,G={padding:M,boundary:U.filter(eO),altBoundary:L},{refs:re,floatingStyles:ye,placement:K,isPositioned:ne,middlewareData:H}=BL({strategy:"fixed",placement:O,whileElementsMounted:(...ee)=>EL(...ee,{animationFrame:w==="always"}),elements:{reference:f.anchor},middleware:[HL({mainAxis:n+F,alignmentAxis:i}),u&&UL({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?$L():void 0,...G}),u&&WL({...G}),GL({...G,apply:({elements:ee,rects:Se,availableWidth:ue,availableHeight:oe})=>{const{width:le,height:Q}=Se.reference,ve=ee.floating.style;ve.setProperty("--radix-popper-available-width",`${ue}px`),ve.setProperty("--radix-popper-available-height",`${oe}px`),ve.setProperty("--radix-popper-anchor-width",`${le}px`),ve.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),S&&VL({element:S,padding:c}),tO({arrowWidth:A,arrowHeight:F}),g&&zL({strategy:"referenceHidden",...G})]}),[se,we]=fk(K),Y=z0(p);su(()=>{ne&&Y?.()},[ne,Y]);const E=H.arrow?.x,P=H.arrow?.y,V=H.arrow?.centerOffset!==0,[D,R]=o.useState();return su(()=>{y&&R(window.getComputedStyle(y).zIndex)},[y]),e.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:ne?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(JL,{scope:s,placedSide:se,onArrowChange:I,arrowX:E,arrowY:P,shouldHideArrow:V,children:e.jsx(hd.div,{"data-side":se,"data-align":we,...v,ref:C,style:{...v.style,animation:ne?void 0:"none"}})})})});mk.displayName=Jv;var pk="PopperArrow",ZL={top:"bottom",right:"left",bottom:"top",left:"right"},gk=o.forwardRef(function(a,s){const{__scopePopper:r,...n}=a,l=QL(pk,r),i=ZL[l.placedSide];return e.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:e.jsx(KL,{...n,ref:s,style:{...n.style,display:"block"}})})});gk.displayName=pk;function eO(t){return t!==null}var tO=t=>({name:"transformOrigin",options:t,fn(a){const{placement:s,rects:r,middlewareData:n}=a,i=n.arrow?.centerOffset!==0,c=i?0:t.arrowWidth,u=i?0:t.arrowHeight,[h,m]=fk(s),b={start:"0%",center:"50%",end:"100%"}[m],g=(n.arrow?.x??0)+c/2,w=(n.arrow?.y??0)+u/2;let p="",v="";return h==="bottom"?(p=i?b:`${g}px`,v=`${-u}px`):h==="top"?(p=i?b:`${g}px`,v=`${r.floating.height+u}px`):h==="right"?(p=`${-u}px`,v=i?b:`${w}px`):h==="left"&&(p=`${r.floating.width+u}px`,v=i?b:`${w}px`),{data:{x:p,y:v}}}});function fk(t){const[a,s="center"]=t.split("-");return[a,s]}var sO=uk,yk=hk,aO=mk,rO=gk,nO="Portal",bk=o.forwardRef((t,a)=>{const{container:s,...r}=t,[n,l]=o.useState(!1);su(()=>l(!0),[]);const i=s||n&&globalThis?.document?.body;return i?cM.createPortal(e.jsx(hd.div,{...r,ref:a}),i):null});bk.displayName=nO;function oO(t,a){return o.useReducer((s,r)=>a[s][r]??s,t)}var Qv=t=>{const{present:a,children:s}=t,r=lO(a),n=typeof s=="function"?s({present:r.isPresent}):o.Children.only(s),l=uu(r.ref,iO(n));return typeof s=="function"||r.isPresent?o.cloneElement(n,{ref:l}):null};Qv.displayName="Presence";function lO(t){const[a,s]=o.useState(),r=o.useRef(null),n=o.useRef(t),l=o.useRef("none"),i=t?"mounted":"unmounted",[c,u]=oO(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const h=km(r.current);l.current=c==="mounted"?h:"none"},[c]),su(()=>{const h=r.current,m=n.current;if(m!==t){const g=l.current,w=km(h);t?u("MOUNT"):w==="none"||h?.display==="none"?u("UNMOUNT"):u(m&&g!==w?"ANIMATION_OUT":"UNMOUNT"),n.current=t}},[t,u]),su(()=>{if(a){let h;const m=a.ownerDocument.defaultView??window,b=w=>{const v=km(r.current).includes(CSS.escape(w.animationName));if(w.target===a&&v&&(u("ANIMATION_END"),!n.current)){const f=a.style.animationFillMode;a.style.animationFillMode="forwards",h=m.setTimeout(()=>{a.style.animationFillMode==="forwards"&&(a.style.animationFillMode=f)})}},g=w=>{w.target===a&&(l.current=km(r.current))};return a.addEventListener("animationstart",g),a.addEventListener("animationcancel",b),a.addEventListener("animationend",b),()=>{m.clearTimeout(h),a.removeEventListener("animationstart",g),a.removeEventListener("animationcancel",b),a.removeEventListener("animationend",b)}}else u("ANIMATION_END")},[a,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:o.useCallback(h=>{r.current=h?getComputedStyle(h):null,s(h)},[])}}function km(t){return t?.animationName||"none"}function iO(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function cO(t){const a=dO(t),s=o.forwardRef((r,n)=>{const{children:l,...i}=r,c=o.Children.toArray(l),u=c.find(xO);if(u){const h=u.props.children,m=c.map(b=>b===u?o.Children.count(h)>1?o.Children.only(null):o.isValidElement(h)?h.props.children:null:b);return e.jsx(a,{...i,ref:n,children:o.isValidElement(h)?o.cloneElement(h,void 0,m):null})}return e.jsx(a,{...i,ref:n,children:l})});return s.displayName=`${t}.Slot`,s}function dO(t){const a=o.forwardRef((s,r)=>{const{children:n,...l}=s;if(o.isValidElement(n)){const i=mO(n),c=hO(l,n.props);return n.type!==o.Fragment&&(c.ref=r?Wv(r,i):i),o.cloneElement(n,c)}return o.Children.count(n)>1?o.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var uO=Symbol("radix.slottable");function xO(t){return o.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uO}function hO(t,a){const s={...a};for(const r in a){const n=t[r],l=a[r];/^on[A-Z]/.test(r)?n&&l?s[r]=(...c)=>{const u=l(...c);return n(...c),u}:n&&(s[r]=n):r==="style"?s[r]={...n,...l}:r==="className"&&(s[r]=[n,l].filter(Boolean).join(" "))}return{...t,...s}}function mO(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=a&&"isReactWarning"in a&&a.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var pO=y4[" useInsertionEffect ".trim().toString()]||su;function gO({prop:t,defaultProp:a,onChange:s=()=>{},caller:r}){const[n,l,i]=fO({defaultProp:a,onChange:s}),c=t!==void 0,u=c?t:n;{const m=o.useRef(t!==void 0);o.useEffect(()=>{const b=m.current;b!==c&&console.warn(`${r} is changing from ${b?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=o.useCallback(m=>{if(c){const b=yO(m)?m(t):m;b!==t&&i.current?.(b)}else l(m)},[c,t,l,i]);return[u,h]}function fO({defaultProp:t,onChange:a}){const[s,r]=o.useState(t),n=o.useRef(s),l=o.useRef(a);return pO(()=>{l.current=a},[a]),o.useEffect(()=>{n.current!==s&&(l.current?.(s),n.current=s)},[s,n]),[s,r,l]}function yO(t){return typeof t=="function"}var bO=function(t){if(typeof document>"u")return null;var a=Array.isArray(t)?t[0]:t;return a.ownerDocument.body},j0=new WeakMap,Dm=new WeakMap,Em={},wy=0,vk=function(t){return t&&(t.host||vk(t.parentNode))},vO=function(t,a){return a.map(function(s){if(t.contains(s))return s;var r=vk(s);return r&&t.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},wO=function(t,a,s,r){var n=vO(a,Array.isArray(t)?t:[t]);Em[s]||(Em[s]=new WeakMap);var l=Em[s],i=[],c=new Set,u=new Set(n),h=function(b){!b||c.has(b)||(c.add(b),h(b.parentNode))};n.forEach(h);var m=function(b){!b||u.has(b)||Array.prototype.forEach.call(b.children,function(g){if(c.has(g))m(g);else try{var w=g.getAttribute(r),p=w!==null&&w!=="false",v=(j0.get(g)||0)+1,f=(l.get(g)||0)+1;j0.set(g,v),l.set(g,f),i.push(g),v===1&&p&&Dm.set(g,!0),f===1&&g.setAttribute(s,"true"),p||g.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",g,y)}})};return m(a),c.clear(),wy++,function(){i.forEach(function(b){var g=j0.get(b)-1,w=l.get(b)-1;j0.set(b,g),l.set(b,w),g||(Dm.has(b)||b.removeAttribute(r),Dm.delete(b)),w||b.removeAttribute(s)}),wy--,wy||(j0=new WeakMap,j0=new WeakMap,Dm=new WeakMap,Em={})}},NO=function(t,a,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),n=bO(t);return n?(r.push.apply(r,Array.from(n.querySelectorAll("[aria-live], script"))),wO(r,n,s,"aria-hidden")):function(){return null}},gc=function(){return gc=Object.assign||function(a){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])}return a},gc.apply(this,arguments)};function wk(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s}function jO(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))}var Yp="right-scroll-bar-position",Kp="width-before-scroll-bar",CO="with-scroll-bars-hidden",SO="--removed-body-scroll-bar-size";function Ny(t,a){return typeof t=="function"?t(a):t&&(t.current=a),t}function kO(t,a){var s=o.useState(function(){return{value:t,callback:a,facade:{get current(){return s.value},set current(r){var n=s.value;n!==r&&(s.value=r,s.callback(r,n))}}}})[0];return s.callback=a,s.facade}var DO=typeof window<"u"?o.useLayoutEffect:o.useEffect,h2=new WeakMap;function EO(t,a){var s=kO(null,function(r){return t.forEach(function(n){return Ny(n,r)})});return DO(function(){var r=h2.get(s);if(r){var n=new Set(r),l=new Set(t),i=s.current;n.forEach(function(c){l.has(c)||Ny(c,null)}),l.forEach(function(c){n.has(c)||Ny(c,i)})}h2.set(s,t)},[t]),s}function TO(t){return t}function AO(t,a){a===void 0&&(a=TO);var s=[],r=!1,n={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(l){var i=a(l,r);return s.push(i),function(){s=s.filter(function(c){return c!==i})}},assignSyncMedium:function(l){for(r=!0;s.length;){var i=s;s=[],i.forEach(l)}s={push:function(c){return l(c)},filter:function(){return s}}},assignMedium:function(l){r=!0;var i=[];if(s.length){var c=s;s=[],c.forEach(l),i=s}var u=function(){var m=i;i=[],m.forEach(l)},h=function(){return Promise.resolve().then(u)};h(),s={push:function(m){i.push(m),h()},filter:function(m){return i=i.filter(m),s}}}};return n}function FO(t){t===void 0&&(t={});var a=AO(null);return a.options=gc({async:!0,ssr:!1},t),a}var Nk=function(t){var a=t.sideCar,s=wk(t,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=a.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,gc({},s))};Nk.isSideCarExport=!0;function PO(t,a){return t.useMedium(a),Nk}var jk=FO(),jy=function(){},zg=o.forwardRef(function(t,a){var s=o.useRef(null),r=o.useState({onScrollCapture:jy,onWheelCapture:jy,onTouchMoveCapture:jy}),n=r[0],l=r[1],i=t.forwardProps,c=t.children,u=t.className,h=t.removeScrollBar,m=t.enabled,b=t.shards,g=t.sideCar,w=t.noRelative,p=t.noIsolation,v=t.inert,f=t.allowPinchZoom,y=t.as,N=y===void 0?"div":y,C=t.gapMode,S=wk(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=g,k=EO([s,a]),A=gc(gc({},S),n);return o.createElement(o.Fragment,null,m&&o.createElement(I,{sideCar:jk,removeScrollBar:h,shards:b,noRelative:w,noIsolation:p,inert:v,setCallbacks:l,allowPinchZoom:!!f,lockRef:s,gapMode:C}),i?o.cloneElement(o.Children.only(c),gc(gc({},A),{ref:k})):o.createElement(N,gc({},A,{className:u,ref:k}),c))});zg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zg.classNames={fullWidth:Kp,zeroRight:Yp};var IO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MO(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var a=IO();return a&&t.setAttribute("nonce",a),t}function LO(t,a){t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a))}function OO(t){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(t)}var _O=function(){var t=0,a=null;return{add:function(s){t==0&&(a=MO())&&(LO(a,s),OO(a)),t++},remove:function(){t--,!t&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},BO=function(){var t=_O();return function(a,s){o.useEffect(function(){return t.add(a),function(){t.remove()}},[a&&s])}},Ck=function(){var t=BO(),a=function(s){var r=s.styles,n=s.dynamic;return t(r,n),null};return a},RO={left:0,top:0,right:0,gap:0},Cy=function(t){return parseInt(t||"",10)||0},HO=function(t){var a=window.getComputedStyle(document.body),s=a[t==="padding"?"paddingLeft":"marginLeft"],r=a[t==="padding"?"paddingTop":"marginTop"],n=a[t==="padding"?"paddingRight":"marginRight"];return[Cy(s),Cy(r),Cy(n)]},UO=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RO;var a=HO(t),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,r-s+a[2]-a[0])}},$O=Ck(),_0="data-scroll-locked",WO=function(t,a,s,r){var n=t.left,l=t.top,i=t.right,c=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(CO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(_0,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Kp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Yp," .").concat(Yp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kp," .").concat(Kp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_0,`] {
    `).concat(SO,": ").concat(c,`px;
  }
`)},m2=function(){var t=parseInt(document.body.getAttribute(_0)||"0",10);return isFinite(t)?t:0},GO=function(){o.useEffect(function(){return document.body.setAttribute(_0,(m2()+1).toString()),function(){var t=m2()-1;t<=0?document.body.removeAttribute(_0):document.body.setAttribute(_0,t.toString())}},[])},zO=function(t){var a=t.noRelative,s=t.noImportant,r=t.gapMode,n=r===void 0?"margin":r;GO();var l=o.useMemo(function(){return UO(n)},[n]);return o.createElement($O,{styles:WO(l,!a,n,s?"":"!important")})},qb=!1;if(typeof window<"u")try{var Tm=Object.defineProperty({},"passive",{get:function(){return qb=!0,!0}});window.addEventListener("test",Tm,Tm),window.removeEventListener("test",Tm,Tm)}catch{qb=!1}var C0=qb?{passive:!1}:!1,VO=function(t){return t.tagName==="TEXTAREA"},Sk=function(t,a){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[a]!=="hidden"&&!(s.overflowY===s.overflowX&&!VO(t)&&s[a]==="visible")},YO=function(t){return Sk(t,"overflowY")},KO=function(t){return Sk(t,"overflowX")},p2=function(t,a){var s=a.ownerDocument,r=a;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=kk(t,r);if(n){var l=Dk(t,r),i=l[1],c=l[2];if(i>c)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},qO=function(t){var a=t.scrollTop,s=t.scrollHeight,r=t.clientHeight;return[a,s,r]},XO=function(t){var a=t.scrollLeft,s=t.scrollWidth,r=t.clientWidth;return[a,s,r]},kk=function(t,a){return t==="v"?YO(a):KO(a)},Dk=function(t,a){return t==="v"?qO(a):XO(a)},JO=function(t,a){return t==="h"&&a==="rtl"?-1:1},QO=function(t,a,s,r,n){var l=JO(t,window.getComputedStyle(a).direction),i=l*r,c=s.target,u=a.contains(c),h=!1,m=i>0,b=0,g=0;do{if(!c)break;var w=Dk(t,c),p=w[0],v=w[1],f=w[2],y=v-f-l*p;(p||y)&&kk(t,c)&&(b+=y,g+=p);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!u&&c!==document.body||u&&(a.contains(c)||a===c));return(m&&Math.abs(b)<1||!m&&Math.abs(g)<1)&&(h=!0),h},Am=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},g2=function(t){return[t.deltaX,t.deltaY]},f2=function(t){return t&&"current"in t?t.current:t},ZO=function(t,a){return t[0]===a[0]&&t[1]===a[1]},e8=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t8=0,S0=[];function s8(t){var a=o.useRef([]),s=o.useRef([0,0]),r=o.useRef(),n=o.useState(t8++)[0],l=o.useState(Ck)[0],i=o.useRef(t);o.useEffect(function(){i.current=t},[t]),o.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(n));var v=jO([t.lockRef.current],(t.shards||[]).map(f2),!0).filter(Boolean);return v.forEach(function(f){return f.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),v.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(n))})}}},[t.inert,t.lockRef.current,t.shards]);var c=o.useCallback(function(v,f){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var y=Am(v),N=s.current,C="deltaX"in v?v.deltaX:N[0]-y[0],S="deltaY"in v?v.deltaY:N[1]-y[1],I,k=v.target,A=Math.abs(C)>Math.abs(S)?"h":"v";if("touches"in v&&A==="h"&&k.type==="range")return!1;var F=window.getSelection(),O=F&&F.anchorNode,M=O?O===k||O.contains(k):!1;if(M)return!1;var U=p2(A,k);if(!U)return!0;if(U?I=A:(I=A==="v"?"h":"v",U=p2(A,k)),!U)return!1;if(!r.current&&"changedTouches"in v&&(C||S)&&(r.current=I),!I)return!0;var L=r.current||I;return QO(L,f,v,L==="h"?C:S)},[]),u=o.useCallback(function(v){var f=v;if(!(!S0.length||S0[S0.length-1]!==l)){var y="deltaY"in f?g2(f):Am(f),N=a.current.filter(function(I){return I.name===f.type&&(I.target===f.target||f.target===I.shadowParent)&&ZO(I.delta,y)})[0];if(N&&N.should){f.cancelable&&f.preventDefault();return}if(!N){var C=(i.current.shards||[]).map(f2).filter(Boolean).filter(function(I){return I.contains(f.target)}),S=C.length>0?c(f,C[0]):!i.current.noIsolation;S&&f.cancelable&&f.preventDefault()}}},[]),h=o.useCallback(function(v,f,y,N){var C={name:v,delta:f,target:y,should:N,shadowParent:a8(y)};a.current.push(C),setTimeout(function(){a.current=a.current.filter(function(S){return S!==C})},1)},[]),m=o.useCallback(function(v){s.current=Am(v),r.current=void 0},[]),b=o.useCallback(function(v){h(v.type,g2(v),v.target,c(v,t.lockRef.current))},[]),g=o.useCallback(function(v){h(v.type,Am(v),v.target,c(v,t.lockRef.current))},[]);o.useEffect(function(){return S0.push(l),t.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:g}),document.addEventListener("wheel",u,C0),document.addEventListener("touchmove",u,C0),document.addEventListener("touchstart",m,C0),function(){S0=S0.filter(function(v){return v!==l}),document.removeEventListener("wheel",u,C0),document.removeEventListener("touchmove",u,C0),document.removeEventListener("touchstart",m,C0)}},[]);var w=t.removeScrollBar,p=t.inert;return o.createElement(o.Fragment,null,p?o.createElement(l,{styles:e8(n)}):null,w?o.createElement(zO,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function a8(t){for(var a=null;t!==null;)t instanceof ShadowRoot&&(a=t.host,t=t.host),t=t.parentNode;return a}const r8=PO(jk,s8);var Ek=o.forwardRef(function(t,a){return o.createElement(zg,gc({},t,{ref:a,sideCar:r8}))});Ek.classNames=zg.classNames;var Vg="Popover",[Tk]=GS(Vg,[ck]),Ch=ck(),[n8,xu]=Tk(Vg),Ak=t=>{const{__scopePopover:a,children:s,open:r,defaultOpen:n,onOpenChange:l,modal:i=!1}=t,c=Ch(a),u=o.useRef(null),[h,m]=o.useState(!1),[b,g]=gO({prop:r,defaultProp:n??!1,onChange:l,caller:Vg});return e.jsx(sO,{...c,children:e.jsx(n8,{scope:a,contentId:OM(),triggerRef:u,open:b,onOpenChange:g,onOpenToggle:o.useCallback(()=>g(w=>!w),[g]),hasCustomAnchor:h,onCustomAnchorAdd:o.useCallback(()=>m(!0),[]),onCustomAnchorRemove:o.useCallback(()=>m(!1),[]),modal:i,children:s})})};Ak.displayName=Vg;var Fk="PopoverAnchor",o8=o.forwardRef((t,a)=>{const{__scopePopover:s,...r}=t,n=xu(Fk,s),l=Ch(s),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=n;return o.useEffect(()=>(i(),()=>c()),[i,c]),e.jsx(yk,{...l,...r,ref:a})});o8.displayName=Fk;var Pk="PopoverTrigger",Ik=o.forwardRef((t,a)=>{const{__scopePopover:s,...r}=t,n=xu(Pk,s),l=Ch(s),i=uu(a,n.triggerRef),c=e.jsx(hd.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Bk(n.open),...r,ref:i,onClick:eu(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?c:e.jsx(yk,{asChild:!0,...l,children:c})});Ik.displayName=Pk;var Zv="PopoverPortal",[l8,i8]=Tk(Zv,{forceMount:void 0}),Mk=t=>{const{__scopePopover:a,forceMount:s,children:r,container:n}=t,l=xu(Zv,a);return e.jsx(l8,{scope:a,forceMount:s,children:e.jsx(Qv,{present:s||l.open,children:e.jsx(bk,{asChild:!0,container:n,children:r})})})};Mk.displayName=Zv;var Y0="PopoverContent",Lk=o.forwardRef((t,a)=>{const s=i8(Y0,t.__scopePopover),{forceMount:r=s.forceMount,...n}=t,l=xu(Y0,t.__scopePopover);return e.jsx(Qv,{present:r||l.open,children:l.modal?e.jsx(d8,{...n,ref:a}):e.jsx(u8,{...n,ref:a})})});Lk.displayName=Y0;var c8=cO("PopoverContent.RemoveScroll"),d8=o.forwardRef((t,a)=>{const s=xu(Y0,t.__scopePopover),r=o.useRef(null),n=uu(a,r),l=o.useRef(!1);return o.useEffect(()=>{const i=r.current;if(i)return NO(i)},[]),e.jsx(Ek,{as:c8,allowPinchZoom:!0,children:e.jsx(Ok,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:eu(t.onCloseAutoFocus,i=>{i.preventDefault(),l.current||s.triggerRef.current?.focus()}),onPointerDownOutside:eu(t.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;l.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:eu(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),u8=o.forwardRef((t,a)=>{const s=xu(Y0,t.__scopePopover),r=o.useRef(!1),n=o.useRef(!1);return e.jsx(Ok,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||s.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const i=l.target;s.triggerRef.current?.contains(i)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&n.current&&l.preventDefault()}})}),Ok=o.forwardRef((t,a)=>{const{__scopePopover:s,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:m,...b}=t,g=xu(Y0,s),w=Ch(s);return kM(),e.jsx(KS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:l,children:e.jsx(VS,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onDismiss:()=>g.onOpenChange(!1),children:e.jsx(aO,{"data-state":Bk(g.open),role:"dialog",id:g.contentId,...w,...b,ref:a,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_k="PopoverClose",x8=o.forwardRef((t,a)=>{const{__scopePopover:s,...r}=t,n=xu(_k,s);return e.jsx(hd.button,{type:"button",...r,ref:a,onClick:eu(t.onClick,()=>n.onOpenChange(!1))})});x8.displayName=_k;var h8="PopoverArrow",m8=o.forwardRef((t,a)=>{const{__scopePopover:s,...r}=t,n=Ch(s);return e.jsx(rO,{...n,...r,ref:a})});m8.displayName=h8;function Bk(t){return t?"open":"closed"}var Sh=Ak,kh=Ik,Dh=Mk,Eh=Lk;function Ln({date:t,onChange:a,label:s}){const[r,n]=o.useState(!1),[l,i]=o.useState(new Date),c=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),u=new Date(l.getFullYear(),l.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=new Date().getFullYear(),b=[];for(let C=1900;C<=m+10;C++)b.push(C);const g=()=>{i(new Date(l.getFullYear(),l.getMonth()-1))},w=()=>{i(new Date(l.getFullYear(),l.getMonth()+1))},p=C=>{i(new Date(l.getFullYear(),C,1))},v=C=>{i(new Date(C,l.getMonth(),1))},f=C=>{const S=(l.getMonth()+1).toString().padStart(2,"0"),I=C.toString().padStart(2,"0"),k=l.getFullYear();a(`${S}/${I}/${k}`),n(!1)},y=()=>{const C=new Date,S=(C.getMonth()+1).toString().padStart(2,"0"),I=C.getDate().toString().padStart(2,"0"),k=C.getFullYear();a(`${S}/${I}/${k}`),n(!1)},N=[];for(let C=0;C<u;C++)N.push(e.jsx("div",{className:"h-8"},`empty-${C}`));for(let C=1;C<=c;C++)N.push(e.jsx("button",{onClick:()=>f(C),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:C},C));return e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1 flex items-center",children:[e.jsx(hs,{className:"absolute left-3 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsx("input",{type:"text",value:t,onChange:C=>a(C.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs(Sh,{open:r,onOpenChange:n,children:[e.jsx(kh,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center",children:e.jsx(hs,{className:"w-5 h-5"})})}),e.jsx(Dh,{children:e.jsxs(Eh,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:g,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(a0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:l.getMonth(),onChange:C=>p(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map((C,S)=>e.jsx("option",{value:S,children:C},C))}),e.jsx("select",{value:l.getFullYear(),onChange:C=>v(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:b.map(C=>e.jsx("option",{value:C,children:C},C))})]}),e.jsx("button",{onClick:w,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(vc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(C=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:C},C))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:y,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})]})]})}function ls(){return e.jsx("div",{className:"w-full bg-green-600 text-white py-3",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white text-sm",children:" 128 Tech Consulting Inc. 2025. All Rights Reserved."})})})}function Dc({selectedCodes:t,onToggle:a,onSelectAll:s}){const[r,n]=o.useState(""),[l,i]=o.useState(1),[c,u]=o.useState("code"),[h,m]=o.useState("asc"),b=10,[g,w]=o.useState([]),[p,v]=o.useState(!1),[f,y]=o.useState(null);o.useEffect(()=>{N()},[]);const N=async()=>{v(!0);try{const U=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(U.data){const L=U.data.map(G=>({id:G.id||G.ID||"",groupCode:G.groupCode||G.GroupCode||"",groupDescription:G.groupDescription||G.GroupDescription||""}));w(L)}}catch(U){const L=U.response?.data?.message||U.message||"Failed to load TKS Group";y(L),console.error("Error fetching TKSGroup:",U)}finally{}},C=U=>{c===U?m(h==="asc"?"desc":"asc"):(u(U),m("asc")),i(1)},S=g.filter(U=>U.groupCode.toLowerCase().includes(r.toLowerCase())||U.groupDescription.toLowerCase().includes(r.toLowerCase())),I=Math.ceil(S.length/b),k=(l-1)*b,A=k+b,F=S.slice(k,A),O=()=>{const U=[];if(I<=7)for(let L=1;L<=I;L++)U.push(L);else if(l<=4){for(let L=1;L<=5;L++)U.push(L);U.push("..."),U.push(I)}else if(l>=I-3){U.push(1),U.push("...");for(let L=I-4;L<=I;L++)U.push(L)}else{U.push(1),U.push("...");for(let L=l-1;L<=l+1;L++)U.push(L);U.push("..."),U.push(I)}return U},M=({field:U})=>c!==U?e.jsxs("div",{className:"flex flex-col ml-1",children:[e.jsx(zu,{className:"w-3 h-3 text-gray-400"}),e.jsx(ii,{className:"w-3 h-3 text-gray-400 -mt-1"})]}):h==="asc"?e.jsx(zu,{className:"w-3 h-3 text-blue-600 ml-1"}):e.jsx(ii,{className:"w-3 h-3 text-blue-600 ml-1"});return o.useEffect(()=>{i(1)},[r]),e.jsxs("div",{className:"lg:col-span-2 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[t.length," selected"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search codes...",value:r,onChange:U=>{n(U.target.value),i(1)},className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-auto",style:{maxHeight:"400px"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",style:{width:"40px"},children:e.jsx("input",{type:"checkbox",checked:t.length===g.length,onChange:s,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",style:{width:"80px"},children:e.jsxs("button",{onClick:()=>C("code"),className:"flex items-center hover:text-gray-900",children:["Code",e.jsx(M,{field:"code"})]})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>C("code"),className:"flex items-center hover:text-gray-900",children:["Description",e.jsx(M,{field:"description"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:F.map(U=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:t.includes(U.id),onChange:()=>a(U.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:U.groupCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:U.groupDescription})]},U.id))})]})})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",k+1," to ",Math.min(A,S.length)," of ",S.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>i(U=>Math.max(1,U-1)),disabled:l===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),O().map((U,L)=>typeof U=="number"?e.jsx("button",{onClick:()=>i(U),className:`px-2 py-1 rounded text-xs ${l===U?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:U},L):e.jsx("span",{className:"px-2",children:U},L)),e.jsx("button",{onClick:()=>i(U=>Math.min(I,U+1)),disabled:l===I,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function y2(){const[t,a]=o.useState([]),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(!1),[g,w]=o.useState("workshift-variable"),[p,v]=o.useState([]),[f,y]=o.useState(null),N=o.useRef(null),[C,S]=o.useState([]),[I,k]=o.useState(!1),[A,F]=o.useState(1),O=10,[M,U]=o.useState(null),[L,G]=o.useState([]);o.useEffect(()=>{re()},[]);const re=async()=>{k(!0);try{const le=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(le.data){const Q=le.data.map(ve=>({id:ve.id||ve.ID||"",groupCode:ve.groupCode||ve.GroupCode||"",groupDescription:ve.groupDescription||ve.GroupDescription||""}));v(Q)}}catch(le){const Q=le.response?.data?.message||le.message||"Failed to load TKS Group";U(Q),console.error("Error fetching TKSGroup:",le)}finally{}},ye=le=>{a(Q=>Q.includes(le)?Q.filter(ve=>ve!==le):[...Q,le])},K=()=>{t.length===p.length?a([]):a(p.map(le=>le.id))},ne=le=>{const Q=le.target.files?.[0]??null;Q&&(y(Q),r(Q.name))},[H,se]=o.useState(!1),we=(le,Q)=>{const ve=window.URL.createObjectURL(le),Ce=document.createElement("a");Ce.href=ve,Ce.download=Q,document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce),window.URL.revokeObjectURL(ve)},Y=async()=>{se(!0);try{const le=await z.get("downloads/DownloadTemplate?filename=ImportWorkShift_Template_Variable.xlsx",{responseType:"blob"}),Q=le.headers["content-type"],ve=new Blob([le.data],{type:Q});we(ve,"ImportWorkShift_Template_Variable.xlsx")}finally{}},E=async()=>{se(!0);try{const le=await z.get("downloads/DownloadTemplate?filename=ImportWorkshiftWithRestDay_Template.xlsx",{responseType:"blob"}),Q=le.headers["content-type"],ve=new Blob([le.data],{type:Q});we(ve,"ImportWorkshiftWithRestDay_Template.xlsx")}finally{se(!1)}},P=async()=>{if(!f){U("Please select a file to import."),xe.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){xe.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!i||!u){xe.fire({icon:"error",title:"Error",text:"Please select date."});return}const le=new FormData;if(le.append("dateFrom",i),le.append("dateTo",u),le.append("isDeleteExistingRecord",String(m)),le.append("file",f,s),console.log(i,u),g=="workshift-variable")try{const Q=await z.post("/Utilities/Import/ImportWorkshiftVariable",le);G(Q.data.resultData),Q.data.errors.length>0?(console.log(Q.data.errors),G([]),xe.fire({icon:"error",title:"Error",text:Q.data.resultData?.[0]?.message??Q.data.errors}),S(Q.data.errors)):xe.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{se(!1),l(!0)}else if(g=="workshift-restday")try{const Q=await z.post("/Utilities/ImportRestDay/ImportRestDay",le);G(Q.data.resultData),Q.data.errors.length>0?(G([]),await xe.fire({icon:"error",title:"Error",text:Q.data.resultData[0].message}),S(Q.data.errors)):xe.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{l(!0)}};function V(le){if(!le)return null;const Q=new Date(le);return Q.setDate(Q.getDate()+1),Q.toISOString()}const D=async()=>{const le={dateFrom:V(i),dateTo:V(u),isDeleteExistingRecord:m,imports:L.filter(Q=>!Q.message)};console.log(le,i,u);try{const Q=await z.post("/Utilities/ImportRestDay/UpdateWorkshiftRestDay",le);G(Q.data.resultData),Q.data.errors.length>0?(G([]),await xe.fire({icon:"error",title:"Error",text:Q.data.messages}),S(Q.data.errors)):xe.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{se(!1)}},R=Math.ceil(L.length/O),ee=(A-1)*O,Se=ee+O,ue=L.slice(ee,ee+O),oe=()=>{const le=[];if(R<=7)for(let Q=1;Q<=R;Q++)le.push(Q);else if(A<=4){for(let Q=1;Q<=5;Q++)le.push(Q);le.push("..."),le.push(R)}else if(A>=R-3){le.push(1),le.push("...");for(let Q=R-4;Q<=R;Q++)le.push(Q)}else{le.push(1),le.push("...");for(let Q=A-1;Q<=A+1;Q++)le.push(Q);le.push("..."),le.push(R)}return le};return console.log(g),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Workshift Variable"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Batch import workshift schedules and rest day assignments for employees. Upload Excel files to configure work schedules across multiple employee groups efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import workshift schedules by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure rest days for employee groups"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:t,onToggle:ye,onSelectAll:K}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:s}),f&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:N,onChange:ne,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:i,onChange:c,label:"Date From"}),e.jsx(Ln,{date:u,onChange:h,label:"Date To"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Import Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 border-blue-500 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-variable",checked:g==="workshift-variable",onChange:le=>w(le.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift Variable"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-restday",checked:g==="workshift-restday",onChange:le=>w(le.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift with Restday"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download Templates:"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",onClick:Y,children:[e.jsx(In,{className:"w-3 h-3",onClick:Y}),"Download Template (Workshift Variable)"]}),e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",onClick:E,children:[e.jsx(In,{className:"w-3 h-3",onClick:E}),"Download Template (Workshift w/ Rest Day)"]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:m,onChange:le=>b(le.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Workshift and RestDay"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing workshift and rest day records before importing new data"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:P,children:[e.jsx(Br,{className:"w-4 h-4",onClick:P}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:D,children:[e.jsx(Sc,{className:"w-4 h-4",onClick:D}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),n&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:Array.isArray(ue)&&ue.map((le,Q)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:le.empCode}),e.jsx("td",{className:"px-4 py-2",children:le.employeeName}),e.jsx("td",{className:"px-4 py-2",children:le.dateFrom?new Date(le.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:le.dateTo?new Date(le.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:le.workshiftCode}),e.jsx("td",{className:"px-4 py-2",children:le.tkGroup})]},Q))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!n&&e.jsxs("span",{children:["Showing ",Math.min(Se,L.length)," of ",L.length," entries"]}),n&&e.jsxs("span",{children:["Showing ",ee+1," to ",Math.min(Se,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>F(le=>Math.max(1,le-1)),disabled:A===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),oe().map((le,Q)=>typeof le=="number"?e.jsx("button",{onClick:()=>F(le),className:`px-2 py-1 rounded text-xs ${A===le?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:le},Q):e.jsx("span",{className:"px-2",children:le},Q)),e.jsx("button",{onClick:()=>F(le=>Math.min(R,le+1)),disabled:A===R,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function p8(){const[t,a]=o.useState([]),[s,r]=o.useState(!1),[n,l]=o.useState(""),[i,c]=o.useState(!1),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(!1),[p,v]=o.useState([]),[f,y]=o.useState(null),N=o.useRef(null),[C,S]=o.useState([]),[I,k]=o.useState(!1),[A,F]=o.useState(1),O=10,[M,U]=o.useState(null),[L,G]=o.useState([]),[re,ye]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{K()},[]);const K=async()=>{k(!0);try{const oe=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(oe.data){const le=oe.data.map(Q=>({id:Q.id||Q.ID||"",groupCode:Q.groupCode||Q.GroupCode||"",groupDescription:Q.groupDescription||Q.GroupDescription||""}));v(le)}}catch(oe){const le=oe.response?.data?.message||oe.message||"Failed to load TKS Group";U(le),console.error("Error fetching TKSGroup:",oe)}finally{}},ne=oe=>{a(le=>le.includes(oe)?le.filter(Q=>Q!==oe):[...le,oe])},H=()=>{t.length===p.length?a([]):a(p.map(oe=>oe.id))},se=oe=>{const le=oe.target.files?.[0]??null;le&&(y(le),l(le.name))},we=(oe,le)=>{const Q=window.URL.createObjectURL(oe),ve=document.createElement("a");ve.href=Q,ve.download=le,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),window.URL.revokeObjectURL(Q)},Y=async()=>{r(!0);try{const oe=await z.get("downloads/DownloadTemplate?filename=ImportAdjustment_Template.xlsx",{responseType:"blob"}),le=oe.headers["content-type"],Q=new Blob([oe.data],{type:le});we(Q,"ImportAdjustment_Template.xlsx")}finally{}},E=async()=>{if(!f){U("Please select a file to import."),xe.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){xe.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!u||!m){xe.fire({icon:"error",title:"Error",text:"Please select date."});return}r(!0);const oe=new FormData;oe.append("dateFrom",u),oe.append("dateTo",m),oe.append("file",f,n);try{const le=await z.post("/Utilities/Import/ImportAdjustment",oe);G(le.data.resultData),le.data.errors.length>0?(console.log(le.data.errors),G([]),xe.fire({icon:"error",title:"Error",text:le.data.resultData?.[0]?.message??le.data.errors}),S(le.data.errors)):xe.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{r(!1),c(!0)}};function P(oe){if(!oe)return null;const le=new Date(oe);return le.setDate(le.getDate()+1),le.toISOString()}const V=async()=>{const oe={dateFrom:P(u),dateTo:P(m),isDeleteExistingRecord:g,imports:L.filter(le=>!le.message)};console.log(oe,u,m),console.log(f);try{const le=await z.post("/Utilities/Import/UpdateImportAdjustment",oe);G(le.data.resultData),le.data.errors.length>0?(G([]),xe.fire({icon:"error",title:"Error",text:le.data.resultData?.[0]?.message??le.data.errors}),S(le.data.errors)):xe.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{r(!1)}},D=Math.ceil(L.length/O),R=(A-1)*O,ee=R+O,Se=L.slice(R,R+O),ue=()=>{const oe=[];if(D<=7)for(let le=1;le<=D;le++)oe.push(le);else if(A<=4){for(let le=1;le<=5;le++)oe.push(le);oe.push("..."),oe.push(D)}else if(A>=D-3){oe.push(1),oe.push("...");for(let le=D-4;le<=D;le++)oe.push(le)}else{oe.push(1),oe.push("...");for(let le=A-1;le<=A+1;le++)oe.push(le);oe.push("..."),oe.push(D)}return oe};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Adjustment"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import time and attendance adjustments for employee records. Upload Excel files to batch update employee timekeeping data with corrections and modifications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import adjustment records by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Apply corrections to employee time records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new adjustments"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:t,onToggle:ne,onSelectAll:H}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),f&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:N,onChange:se,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:u,onChange:h,label:"From:"}),e.jsx(Ln,{date:m,onChange:b,label:"To:"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Y}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Y,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:E,children:[e.jsx(Br,{className:"w-4 h-4",onClick:E}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:V,children:[e.jsx(Sc,{className:"w-4 h-4",onClick:V}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TransactionDate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TransactionType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"LeaveType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OvertimeCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NoOfHours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AdjustType"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFiling"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFilingActualDate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Status"})]})}),e.jsx("tbody",{children:Array.isArray(Se)&&Se.map((oe,le)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:oe.empCode}),e.jsx("td",{className:"px-4 py-2",children:oe.empName}),e.jsx("td",{className:"px-4 py-2",children:oe.transactionDate?new Date(oe.transactionDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:oe.transactionType}),e.jsx("td",{className:"px-4 py-2",children:oe.leaveType}),e.jsx("td",{className:"px-4 py-2",children:oe.overtimeCode}),e.jsx("td",{className:"px-4 py-2",children:oe.noOfHours}),e.jsx("td",{className:"px-4 py-2",children:oe.adjustType}),e.jsx("td",{className:"px-4 py-2",children:oe.remarks}),e.jsx("td",{className:"px-4 py-2",children:oe.isLateFiling}),e.jsx("td",{className:"px-4 py-2",children:oe.isLateFilingActualDate?new Date(oe.isLateFilingActualDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:oe.status})]},le))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(ee,L.length)," of ",L.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",R+1," to ",Math.min(ee,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>F(oe=>Math.max(1,oe-1)),disabled:A===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ue().map((oe,le)=>typeof oe=="number"?e.jsx("button",{onClick:()=>F(oe),className:`px-2 py-1 rounded text-xs ${A===oe?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:oe},le):e.jsx("span",{className:"px-2",children:oe},le)),e.jsx("button",{onClick:()=>F(oe=>Math.min(D,oe+1)),disabled:A===D,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var hg={};hg.version="0.18.5";var Rk=1252,g8=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],ew={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},tw=function(t){g8.indexOf(t)!=-1&&(Rk=ew[0]=t)};function f8(){tw(1252)}var _i=function(t){tw(t)};function sw(){_i(1200),f8()}function b2(t){for(var a=[],s=0,r=t.length;s<r;++s)a[s]=t.charCodeAt(s);return a}function y8(t){for(var a=[],s=0;s<t.length>>1;++s)a[s]=String.fromCharCode(t.charCodeAt(2*s)+(t.charCodeAt(2*s+1)<<8));return a.join("")}function Hk(t){for(var a=[],s=0;s<t.length>>1;++s)a[s]=String.fromCharCode(t.charCodeAt(2*s+1)+(t.charCodeAt(2*s)<<8));return a.join("")}var _x=function(t){var a=t.charCodeAt(0),s=t.charCodeAt(1);return a==255&&s==254?y8(t.slice(2)):a==254&&s==255?Hk(t.slice(2)):a==65279?t.slice(1):t},Fm=function(a){return String.fromCharCode(a)},v2=function(a){return String.fromCharCode(a)},Jx,Qd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Qx(t){for(var a="",s=0,r=0,n=0,l=0,i=0,c=0,u=0,h=0;h<t.length;)s=t.charCodeAt(h++),l=s>>2,r=t.charCodeAt(h++),i=(s&3)<<4|r>>4,n=t.charCodeAt(h++),c=(r&15)<<2|n>>6,u=n&63,isNaN(r)?c=u=64:isNaN(n)&&(u=64),a+=Qd.charAt(l)+Qd.charAt(i)+Qd.charAt(c)+Qd.charAt(u);return a}function Al(t){var a="",s=0,r=0,n=0,l=0,i=0,c=0,u=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)l=Qd.indexOf(t.charAt(h++)),i=Qd.indexOf(t.charAt(h++)),s=l<<2|i>>4,a+=String.fromCharCode(s),c=Qd.indexOf(t.charAt(h++)),r=(i&15)<<4|c>>2,c!==64&&(a+=String.fromCharCode(r)),u=Qd.indexOf(t.charAt(h++)),n=(c&3)<<6|u,u!==64&&(a+=String.fromCharCode(n));return a}var ma=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),md=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(a,s){return s?new Buffer(a,s):new Buffer(a)}:Buffer.from.bind(Buffer)}return function(){}})();function nu(t){return ma?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function w2(t){return ma?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Sl=function(a){return ma?md(a,"binary"):a.split("").map(function(s){return s.charCodeAt(0)&255})};function Yg(t){if(typeof ArrayBuffer>"u")return Sl(t);for(var a=new ArrayBuffer(t.length),s=new Uint8Array(a),r=0;r!=t.length;++r)s[r]=t.charCodeAt(r)&255;return a}function hu(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var a=[],s=0;s<t.length;++s)a[s]=String.fromCharCode(t[s]);return a.join("")}function b8(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function aw(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return aw(new Uint8Array(t));for(var a=new Array(t.length),s=0;s<t.length;++s)a[s]=t[s];return a}var Fn=ma?function(t){return Buffer.concat(t.map(function(a){return Buffer.isBuffer(a)?a:md(a)}))}:function(t){if(typeof Uint8Array<"u"){var a=0,s=0;for(a=0;a<t.length;++a)s+=t[a].length;var r=new Uint8Array(s),n=0;for(a=0,s=0;a<t.length;s+=n,++a)if(n=t[a].length,t[a]instanceof Uint8Array)r.set(t[a],s);else{if(typeof t[a]=="string")throw"wtf";r.set(new Uint8Array(t[a]),s)}return r}return[].concat.apply([],t.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function v8(t){for(var a=[],s=0,r=t.length+250,n=nu(t.length+255),l=0;l<t.length;++l){var i=t.charCodeAt(l);if(i<128)n[s++]=i;else if(i<2048)n[s++]=192|i>>6&31,n[s++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var c=t.charCodeAt(++l)&1023;n[s++]=240|i>>8&7,n[s++]=128|i>>2&63,n[s++]=128|c>>6&15|(i&3)<<4,n[s++]=128|c&63}else n[s++]=224|i>>12&15,n[s++]=128|i>>6&63,n[s++]=128|i&63;s>r&&(a.push(n.slice(0,s)),s=0,n=nu(65535),r=65530)}return a.push(n.slice(0,s)),Fn(a)}var Do=/\u0000/g,Bx=/[\u0001-\u0006]/g;function B0(t){for(var a="",s=t.length-1;s>=0;)a+=t.charAt(s--);return a}function Bi(t,a){var s=""+t;return s.length>=a?s:Or("0",a-s.length)+s}function rw(t,a){var s=""+t;return s.length>=a?s:Or(" ",a-s.length)+s}function mg(t,a){var s=""+t;return s.length>=a?s:s+Or(" ",a-s.length)}function w8(t,a){var s=""+Math.round(t);return s.length>=a?s:Or("0",a-s.length)+s}function N8(t,a){var s=""+t;return s.length>=a?s:Or("0",a-s.length)+s}var N2=Math.pow(2,32);function k0(t,a){if(t>N2||t<-N2)return w8(t,a);var s=Math.round(t);return N8(s,a)}function pg(t,a){return a=a||0,t.length>=7+a&&(t.charCodeAt(a)|32)===103&&(t.charCodeAt(a+1)|32)===101&&(t.charCodeAt(a+2)|32)===110&&(t.charCodeAt(a+3)|32)===101&&(t.charCodeAt(a+4)|32)===114&&(t.charCodeAt(a+5)|32)===97&&(t.charCodeAt(a+6)|32)===108}var j2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Sy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function j8(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Vs={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},C2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},C8={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function gg(t,a,s){for(var r=t<0?-1:1,n=t*r,l=0,i=1,c=0,u=1,h=0,m=0,b=Math.floor(n);h<a&&(b=Math.floor(n),c=b*i+l,m=b*h+u,!(n-b<5e-8));)n=1/(n-b),l=i,i=c,u=h,h=m;if(m>a&&(h>a?(m=u,c=l):(m=h,c=i)),!s)return[0,r*c,m];var g=Math.floor(r*c/m);return[g,r*c-g*m,m]}function Ou(t,a,s){if(t>2958465||t<0)return null;var r=t|0,n=Math.floor(86400*(t-r)),l=0,i=[],c={D:r,T:n,u:86400*(t-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),a&&a.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++n==86400&&(c.T=n=0,++r,++c.D)),r===60)i=s?[1317,10,29]:[1900,2,29],l=3;else if(r===0)i=s?[1317,8,29]:[1900,1,0],l=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),i=[u.getFullYear(),u.getMonth()+1,u.getDate()],l=u.getDay(),r<60&&(l=(l+6)%7),s&&(l=A8(u,i))}return c.y=i[0],c.m=i[1],c.d=i[2],c.S=n%60,n=Math.floor(n/60),c.M=n%60,n=Math.floor(n/60),c.H=n,c.q=l,c}var Uk=new Date(1899,11,31,0,0,0),S8=Uk.getTime(),k8=new Date(1900,2,1,0,0,0);function $k(t,a){var s=t.getTime();return a?s-=1461*24*60*60*1e3:t>=k8&&(s+=1440*60*1e3),(s-(S8+(t.getTimezoneOffset()-Uk.getTimezoneOffset())*6e4))/(1440*60*1e3)}function nw(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function D8(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function E8(t){var a=t<0?12:11,s=nw(t.toFixed(12));return s.length<=a||(s=t.toPrecision(10),s.length<=a)?s:t.toExponential(5)}function T8(t){var a=nw(t.toFixed(11));return a.length>(t<0?12:11)||a==="0"||a==="-0"?t.toPrecision(6):a}function Zx(t){var a=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),s;return a>=-4&&a<=-1?s=t.toPrecision(10+a):Math.abs(a)<=9?s=E8(t):a===10?s=t.toFixed(10).substr(0,12):s=T8(t),nw(D8(s.toUpperCase()))}function Yu(t,a){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Zx(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ui(14,$k(t,a&&a.date1904),a)}throw new Error("unsupported value in General format: "+t)}function A8(t,a){a[0]-=581;var s=t.getDay();return t<60&&(s=(s+6)%7),s}function F8(t,a,s,r){var n="",l=0,i=0,c=s.y,u,h=0;switch(t){case 98:c=s.y+543;case 121:switch(a.length){case 1:case 2:u=c%100,h=2;break;default:u=c%1e4,h=4;break}break;case 109:switch(a.length){case 1:case 2:u=s.m,h=a.length;break;case 3:return Sy[s.m-1][1];case 5:return Sy[s.m-1][0];default:return Sy[s.m-1][2]}break;case 100:switch(a.length){case 1:case 2:u=s.d,h=a.length;break;case 3:return j2[s.q][0];default:return j2[s.q][1]}break;case 104:switch(a.length){case 1:case 2:u=1+(s.H+11)%12,h=a.length;break;default:throw"bad hour format: "+a}break;case 72:switch(a.length){case 1:case 2:u=s.H,h=a.length;break;default:throw"bad hour format: "+a}break;case 77:switch(a.length){case 1:case 2:u=s.M,h=a.length;break;default:throw"bad minute format: "+a}break;case 115:if(a!="s"&&a!="ss"&&a!=".0"&&a!=".00"&&a!=".000")throw"bad second format: "+a;return s.u===0&&(a=="s"||a=="ss")?Bi(s.S,a.length):(r>=2?i=r===3?1e3:100:i=r===1?10:1,l=Math.round(i*(s.S+s.u)),l>=60*i&&(l=0),a==="s"?l===0?"0":""+l/i:(n=Bi(l,2+r),a==="ss"?n.substr(0,2):"."+n.substr(2,a.length-1)));case 90:switch(a){case"[h]":case"[hh]":u=s.D*24+s.H;break;case"[m]":case"[mm]":u=(s.D*24+s.H)*60+s.M;break;case"[s]":case"[ss]":u=((s.D*24+s.H)*60+s.M)*60+Math.round(s.S+s.u);break;default:throw"bad abstime format: "+a}h=a.length===3?1:2;break;case 101:u=c,h=1;break}var m=h>0?Bi(u,h):"";return m}function Zd(t){var a=3;if(t.length<=a)return t;for(var s=t.length%a,r=t.substr(0,s);s!=t.length;s+=a)r+=(r.length>0?",":"")+t.substr(s,a);return r}var Wk=/%/g;function P8(t,a,s){var r=a.replace(Wk,""),n=a.length-r.length;return od(t,r,s*Math.pow(10,2*n))+Or("%",n)}function I8(t,a,s){for(var r=a.length-1;a.charCodeAt(r-1)===44;)--r;return od(t,a.substr(0,r),s/Math.pow(10,3*(a.length-r)))}function Gk(t,a){var s,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(a==0)return"0.0E+0";if(a<0)return"-"+Gk(t,-a);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var l=Math.floor(Math.log(a)*Math.LOG10E)%n;if(l<0&&(l+=n),s=(a/Math.pow(10,l)).toPrecision(r+1+(n+l)%n),s.indexOf("e")===-1){var i=Math.floor(Math.log(a)*Math.LOG10E);for(s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(i-s.length+l):s+="E+"+(i-l);s.substr(0,2)==="0.";)s=s.charAt(0)+s.substr(2,n)+"."+s.substr(2+n),s=s.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,m){return u+h+m.substr(0,(n+l)%n)+"."+m.substr(l)+"E"})}else s=a.toExponential(r);return t.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),t.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}var zk=/# (\?+)( ?)\/( ?)(\d+)/;function M8(t,a,s){var r=parseInt(t[4],10),n=Math.round(a*r),l=Math.floor(n/r),i=n-l*r,c=r;return s+(l===0?"":""+l)+" "+(i===0?Or(" ",t[1].length+1+t[4].length):rw(i,t[1].length)+t[2]+"/"+t[3]+Bi(c,t[4].length))}function L8(t,a,s){return s+(a===0?"":""+a)+Or(" ",t[1].length+2+t[4].length)}var Vk=/^#*0*\.([0#]+)/,Yk=/\).*[0#]/,Kk=/\(###\) ###\\?-####/;function Co(t){for(var a="",s,r=0;r!=t.length;++r)switch(s=t.charCodeAt(r)){case 35:break;case 63:a+=" ";break;case 48:a+="0";break;default:a+=String.fromCharCode(s)}return a}function S2(t,a){var s=Math.pow(10,a);return""+Math.round(t*s)/s}function k2(t,a){var s=t-Math.floor(t),r=Math.pow(10,a);return a<(""+Math.round(s*r)).length?0:Math.round(s*r)}function O8(t,a){return a<(""+Math.round((t-Math.floor(t))*Math.pow(10,a))).length?1:0}function _8(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function si(t,a,s){if(t.charCodeAt(0)===40&&!a.match(Yk)){var r=a.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?si("n",r,s):"("+si("n",r,-s)+")"}if(a.charCodeAt(a.length-1)===44)return I8(t,a,s);if(a.indexOf("%")!==-1)return P8(t,a,s);if(a.indexOf("E")!==-1)return Gk(a,s);if(a.charCodeAt(0)===36)return"$"+si(t,a.substr(a.charAt(1)==" "?2:1),s);var n,l,i,c,u=Math.abs(s),h=s<0?"-":"";if(a.match(/^00+$/))return h+k0(u,a.length);if(a.match(/^[#?]+$/))return n=k0(s,0),n==="0"&&(n=""),n.length>a.length?n:Co(a.substr(0,a.length-n.length))+n;if(l=a.match(zk))return M8(l,u,h);if(a.match(/^#+0+$/))return h+k0(u,a.length-a.indexOf("0"));if(l=a.match(Vk))return n=S2(s,l[1].length).replace(/^([^\.]+)$/,"$1."+Co(l[1])).replace(/\.$/,"."+Co(l[1])).replace(/\.(\d*)$/,function(p,v){return"."+v+Or("0",Co(l[1]).length-v.length)}),a.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(a=a.replace(/^#+([0.])/,"$1"),l=a.match(/^(0*)\.(#*)$/))return h+S2(u,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=a.match(/^#{1,3},##0(\.?)$/))return h+Zd(k0(u,0));if(l=a.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+si(t,a,-s):Zd(""+(Math.floor(s)+O8(s,l[1].length)))+"."+Bi(k2(s,l[1].length),l[1].length);if(l=a.match(/^#,#*,#0/))return si(t,a.replace(/^#,#*,/,""),s);if(l=a.match(/^([0#]+)(\\?-([0#]+))+$/))return n=B0(si(t,a.replace(/[\\-]/g,""),s)),i=0,B0(B0(a.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<n.length?n.charAt(i++):p==="0"?"0":""}));if(a.match(Kk))return n=si(t,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(l=a.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(l[4].length,7),c=gg(u,Math.pow(10,i)-1,!1),n=""+h,m=od("n",l[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+l[2]+"/"+l[3],m=mg(c[2],i),m.length<l[4].length&&(m=Co(l[4].substr(l[4].length-m.length))+m),n+=m,n;if(l=a.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(l[1].length,l[4].length),7),c=gg(u,Math.pow(10,i)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rw(c[1],i)+l[2]+"/"+l[3]+mg(c[2],i):Or(" ",2*i+1+l[2].length+l[3].length));if(l=a.match(/^[#0?]+$/))return n=k0(s,0),a.length<=n.length?n:Co(a.substr(0,a.length-n.length))+n;if(l=a.match(/^([#0?]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var b=a.indexOf(".")-i,g=a.length-n.length-b;return Co(a.substr(0,b)+n+a.substr(a.length-g))}if(l=a.match(/^00,000\.([#0]*0)$/))return i=k2(s,l[1].length),s<0?"-"+si(t,a,-s):Zd(_8(s)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Bi(0,3-p.length):"")+p})+"."+Bi(i,l[1].length);switch(a){case"###,##0.00":return si(t,"#,##0.00",s);case"###,###":case"##,###":case"#,###":var w=Zd(k0(u,0));return w!=="0"?h+w:"";case"###,###.00":return si(t,"###,##0.00",s).replace(/^0\./,".");case"#,###.00":return si(t,"#,##0.00",s).replace(/^0\./,".")}throw new Error("unsupported format |"+a+"|")}function B8(t,a,s){for(var r=a.length-1;a.charCodeAt(r-1)===44;)--r;return od(t,a.substr(0,r),s/Math.pow(10,3*(a.length-r)))}function R8(t,a,s){var r=a.replace(Wk,""),n=a.length-r.length;return od(t,r,s*Math.pow(10,2*n))+Or("%",n)}function qk(t,a){var s,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(a==0)return"0.0E+0";if(a<0)return"-"+qk(t,-a);var n=t.indexOf(".");n===-1&&(n=t.indexOf("E"));var l=Math.floor(Math.log(a)*Math.LOG10E)%n;if(l<0&&(l+=n),s=(a/Math.pow(10,l)).toPrecision(r+1+(n+l)%n),!s.match(/[Ee]/)){var i=Math.floor(Math.log(a)*Math.LOG10E);s.indexOf(".")===-1?s=s.charAt(0)+"."+s.substr(1)+"E+"+(i-s.length+l):s+="E+"+(i-l),s=s.replace(/\+-/,"-")}s=s.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,h,m){return u+h+m.substr(0,(n+l)%n)+"."+m.substr(l)+"E"})}else s=a.toExponential(r);return t.match(/E\+00$/)&&s.match(/e[+-]\d$/)&&(s=s.substr(0,s.length-1)+"0"+s.charAt(s.length-1)),t.match(/E\-/)&&s.match(/e\+/)&&(s=s.replace(/e\+/,"e")),s.replace("e","E")}function hc(t,a,s){if(t.charCodeAt(0)===40&&!a.match(Yk)){var r=a.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return s>=0?hc("n",r,s):"("+hc("n",r,-s)+")"}if(a.charCodeAt(a.length-1)===44)return B8(t,a,s);if(a.indexOf("%")!==-1)return R8(t,a,s);if(a.indexOf("E")!==-1)return qk(a,s);if(a.charCodeAt(0)===36)return"$"+hc(t,a.substr(a.charAt(1)==" "?2:1),s);var n,l,i,c,u=Math.abs(s),h=s<0?"-":"";if(a.match(/^00+$/))return h+Bi(u,a.length);if(a.match(/^[#?]+$/))return n=""+s,s===0&&(n=""),n.length>a.length?n:Co(a.substr(0,a.length-n.length))+n;if(l=a.match(zk))return L8(l,u,h);if(a.match(/^#+0+$/))return h+Bi(u,a.length-a.indexOf("0"));if(l=a.match(Vk))return n=(""+s).replace(/^([^\.]+)$/,"$1."+Co(l[1])).replace(/\.$/,"."+Co(l[1])),n=n.replace(/\.(\d*)$/,function(p,v){return"."+v+Or("0",Co(l[1]).length-v.length)}),a.indexOf("0.")!==-1?n:n.replace(/^0\./,".");if(a=a.replace(/^#+([0.])/,"$1"),l=a.match(/^(0*)\.(#*)$/))return h+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=a.match(/^#{1,3},##0(\.?)$/))return h+Zd(""+u);if(l=a.match(/^#,##0\.([#0]*0)$/))return s<0?"-"+hc(t,a,-s):Zd(""+s)+"."+Or("0",l[1].length);if(l=a.match(/^#,#*,#0/))return hc(t,a.replace(/^#,#*,/,""),s);if(l=a.match(/^([0#]+)(\\?-([0#]+))+$/))return n=B0(hc(t,a.replace(/[\\-]/g,""),s)),i=0,B0(B0(a.replace(/\\/g,"")).replace(/[0#]/g,function(p){return i<n.length?n.charAt(i++):p==="0"?"0":""}));if(a.match(Kk))return n=hc(t,"##########",s),"("+n.substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var m="";if(l=a.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(l[4].length,7),c=gg(u,Math.pow(10,i)-1,!1),n=""+h,m=od("n",l[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),n+=m+l[2]+"/"+l[3],m=mg(c[2],i),m.length<l[4].length&&(m=Co(l[4].substr(l[4].length-m.length))+m),n+=m,n;if(l=a.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(l[1].length,l[4].length),7),c=gg(u,Math.pow(10,i)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?rw(c[1],i)+l[2]+"/"+l[3]+mg(c[2],i):Or(" ",2*i+1+l[2].length+l[3].length));if(l=a.match(/^[#0?]+$/))return n=""+s,a.length<=n.length?n:Co(a.substr(0,a.length-n.length))+n;if(l=a.match(/^([#0]+)\.([#0]+)$/)){n=""+s.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),i=n.indexOf(".");var b=a.indexOf(".")-i,g=a.length-n.length-b;return Co(a.substr(0,b)+n+a.substr(a.length-g))}if(l=a.match(/^00,000\.([#0]*0)$/))return s<0?"-"+hc(t,a,-s):Zd(""+s).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?Bi(0,3-p.length):"")+p})+"."+Bi(0,l[1].length);switch(a){case"###,###":case"##,###":case"#,###":var w=Zd(""+u);return w!=="0"?h+w:"";default:if(a.match(/\.[0#?]*$/))return hc(t,a.slice(0,a.lastIndexOf(".")),s)+Co(a.slice(a.lastIndexOf(".")))}throw new Error("unsupported format |"+a+"|")}function od(t,a,s){return(s|0)===s?hc(t,a,s):si(t,a,s)}function H8(t){for(var a=[],s=!1,r=0,n=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:s=!s;break;case 95:case 42:case 92:++r;break;case 59:a[a.length]=t.substr(n,r-n),n=r+1}if(a[a.length]=t.substr(n),s===!0)throw new Error("Format |"+t+"| unterminated string ");return a}var Xk=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lx(t){for(var a=0,s="",r="";a<t.length;)switch(s=t.charAt(a)){case"G":pg(t,a)&&(a+=6),a++;break;case'"':for(;t.charCodeAt(++a)!==34&&a<t.length;);++a;break;case"\\":a+=2;break;case"_":a+=2;break;case"@":++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(a,3).toUpperCase()==="A/P"||t.substr(a,5).toUpperCase()==="AM/PM"||t.substr(a,5).toUpperCase()==="/")return!0;++a;break;case"[":for(r=s;t.charAt(a++)!=="]"&&a<t.length;)r+=t.charAt(a);if(r.match(Xk))return!0;break;case".":case"0":case"#":for(;a<t.length&&("0#?.,E+-%".indexOf(s=t.charAt(++a))>-1||s=="\\"&&t.charAt(a+1)=="-"&&"0#".indexOf(t.charAt(a+2))>-1););break;case"?":for(;t.charAt(++a)===s;);break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;);break;case" ":++a;break;default:++a;break}return!1}function U8(t,a,s,r){for(var n=[],l="",i=0,c="",u="t",h,m,b,g="H";i<t.length;)switch(c=t.charAt(i)){case"G":if(!pg(t,i))throw new Error("unrecognized character "+c+" in "+t);n[n.length]={t:"G",v:"General"},i+=7;break;case'"':for(l="";(b=t.charCodeAt(++i))!==34&&i<t.length;)l+=String.fromCharCode(b);n[n.length]={t:"t",v:l},++i;break;case"\\":var w=t.charAt(++i),p=w==="("||w===")"?w:"t";n[n.length]={t:p,v:w},++i;break;case"_":n[n.length]={t:"t",v:" "},i+=2;break;case"@":n[n.length]={t:"T",v:a},++i;break;case"B":case"b":if(t.charAt(i+1)==="1"||t.charAt(i+1)==="2"){if(h==null&&(h=Ou(a,s,t.charAt(i+1)==="2"),h==null))return"";n[n.length]={t:"X",v:t.substr(i,2)},u=c,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(a<0||h==null&&(h=Ou(a,s),h==null))return"";for(l=c;++i<t.length&&t.charAt(i).toLowerCase()===c;)l+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),n[n.length]={t:c,v:l},u=c;break;case"A":case"a":case"":var v={t:c,v:c};if(h==null&&(h=Ou(a,s)),t.substr(i,3).toUpperCase()==="A/P"?(h!=null&&(v.v=h.H>=12?"P":"A"),v.t="T",g="h",i+=3):t.substr(i,5).toUpperCase()==="AM/PM"?(h!=null&&(v.v=h.H>=12?"PM":"AM"),v.t="T",i+=5,g="h"):t.substr(i,5).toUpperCase()==="/"?(h!=null&&(v.v=h.H>=12?"":""),v.t="T",i+=5,g="h"):(v.t="t",++i),h==null&&v.t==="T")return"";n[n.length]=v,u=c;break;case"[":for(l=c;t.charAt(i++)!=="]"&&i<t.length;)l+=t.charAt(i);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(Xk)){if(h==null&&(h=Ou(a,s),h==null))return"";n[n.length]={t:"Z",v:l.toLowerCase()},u=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",lx(t)||(n[n.length]={t:"t",v:l}));break;case".":if(h!=null){for(l=c;++i<t.length&&(c=t.charAt(i))==="0";)l+=c;n[n.length]={t:"s",v:l};break}case"0":case"#":for(l=c;++i<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(i))>-1;)l+=c;n[n.length]={t:"n",v:l};break;case"?":for(l=c;t.charAt(++i)===c;)l+=c;n[n.length]={t:c,v:l},u=c;break;case"*":++i,(t.charAt(i)==" "||t.charAt(i)=="*")&&++i;break;case"(":case")":n[n.length]={t:r===1?"t":c,v:c},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=c;i<t.length&&"0123456789".indexOf(t.charAt(++i))>-1;)l+=t.charAt(i);n[n.length]={t:"D",v:l};break;case" ":n[n.length]={t:c,v:c},++i;break;case"$":n[n.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);n[n.length]={t:"t",v:c},++i;break}var f=0,y=0,N;for(i=n.length-1,u="t";i>=0;--i)switch(n[i].t){case"h":case"H":n[i].t=g,u="h",f<1&&(f=1);break;case"s":(N=n[i].v.match(/\.0+$/))&&(y=Math.max(y,N[0].length-1)),f<3&&(f=3);case"d":case"y":case"M":case"e":u=n[i].t;break;case"m":u==="s"&&(n[i].t="M",f<2&&(f=2));break;case"X":break;case"Z":f<1&&n[i].v.match(/[Hh]/)&&(f=1),f<2&&n[i].v.match(/[Mm]/)&&(f=2),f<3&&n[i].v.match(/[Ss]/)&&(f=3)}switch(f){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var C="",S;for(i=0;i<n.length;++i)switch(n[i].t){case"t":case"T":case" ":case"D":break;case"X":n[i].v="",n[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":n[i].v=F8(n[i].t.charCodeAt(0),n[i].v,h,y),n[i].t="t";break;case"n":case"?":for(S=i+1;n[S]!=null&&((c=n[S].t)==="?"||c==="D"||(c===" "||c==="t")&&n[S+1]!=null&&(n[S+1].t==="?"||n[S+1].t==="t"&&n[S+1].v==="/")||n[i].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(n[S].v==="/"||n[S].v===" "&&n[S+1]!=null&&n[S+1].t=="?"));)n[i].v+=n[S].v,n[S]={v:"",t:";"},++S;C+=n[i].v,i=S-1;break;case"G":n[i].t="t",n[i].v=Yu(a,s);break}var I="",k,A;if(C.length>0){C.charCodeAt(0)==40?(k=a<0&&C.charCodeAt(0)===45?-a:a,A=od("n",C,k)):(k=a<0&&r>1?-a:a,A=od("n",C,k),k<0&&n[0]&&n[0].t=="t"&&(A=A.substr(1),n[0].v="-"+n[0].v)),S=A.length-1;var F=n.length;for(i=0;i<n.length;++i)if(n[i]!=null&&n[i].t!="t"&&n[i].v.indexOf(".")>-1){F=i;break}var O=n.length;if(F===n.length&&A.indexOf("E")===-1){for(i=n.length-1;i>=0;--i)n[i]==null||"n?".indexOf(n[i].t)===-1||(S>=n[i].v.length-1?(S-=n[i].v.length,n[i].v=A.substr(S+1,n[i].v.length)):S<0?n[i].v="":(n[i].v=A.substr(0,S+1),S=-1),n[i].t="t",O=i);S>=0&&O<n.length&&(n[O].v=A.substr(0,S+1)+n[O].v)}else if(F!==n.length&&A.indexOf("E")===-1){for(S=A.indexOf(".")-1,i=F;i>=0;--i)if(!(n[i]==null||"n?".indexOf(n[i].t)===-1)){for(m=n[i].v.indexOf(".")>-1&&i===F?n[i].v.indexOf(".")-1:n[i].v.length-1,I=n[i].v.substr(m+1);m>=0;--m)S>=0&&(n[i].v.charAt(m)==="0"||n[i].v.charAt(m)==="#")&&(I=A.charAt(S--)+I);n[i].v=I,n[i].t="t",O=i}for(S>=0&&O<n.length&&(n[O].v=A.substr(0,S+1)+n[O].v),S=A.indexOf(".")+1,i=F;i<n.length;++i)if(!(n[i]==null||"n?(".indexOf(n[i].t)===-1&&i!==F)){for(m=n[i].v.indexOf(".")>-1&&i===F?n[i].v.indexOf(".")+1:0,I=n[i].v.substr(0,m);m<n[i].v.length;++m)S<A.length&&(I+=A.charAt(S++));n[i].v=I,n[i].t="t",O=i}}}for(i=0;i<n.length;++i)n[i]!=null&&"n?".indexOf(n[i].t)>-1&&(k=r>1&&a<0&&i>0&&n[i-1].v==="-"?-a:a,n[i].v=od(n[i].t,n[i].v,k),n[i].t="t");var M="";for(i=0;i!==n.length;++i)n[i]!=null&&(M+=n[i].v);return M}var D2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function E2(t,a){if(a==null)return!1;var s=parseFloat(a[2]);switch(a[1]){case"=":if(t==s)return!0;break;case">":if(t>s)return!0;break;case"<":if(t<s)return!0;break;case"<>":if(t!=s)return!0;break;case">=":if(t>=s)return!0;break;case"<=":if(t<=s)return!0;break}return!1}function $8(t,a){var s=H8(t),r=s.length,n=s[r-1].indexOf("@");if(r<4&&n>-1&&--r,s.length>4)throw new Error("cannot find right format for |"+s.join("|")+"|");if(typeof a!="number")return[4,s.length===4||n>-1?s[s.length-1]:"@"];switch(s.length){case 1:s=n>-1?["General","General","General",s[0]]:[s[0],s[0],s[0],"@"];break;case 2:s=n>-1?[s[0],s[0],s[0],s[1]]:[s[0],s[1],s[0],"@"];break;case 3:s=n>-1?[s[0],s[1],s[0],s[2]]:[s[0],s[1],s[2],"@"];break}var l=a>0?s[0]:a<0?s[1]:s[2];if(s[0].indexOf("[")===-1&&s[1].indexOf("[")===-1)return[r,l];if(s[0].match(/\[[=<>]/)!=null||s[1].match(/\[[=<>]/)!=null){var i=s[0].match(D2),c=s[1].match(D2);return E2(a,i)?[r,s[0]]:E2(a,c)?[r,s[1]]:[r,s[i!=null&&c!=null?2:1]]}return[r,l]}function ui(t,a,s){s==null&&(s={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&s.dateNF?r=s.dateNF:r=t;break;case"number":t==14&&s.dateNF?r=s.dateNF:r=(s.table!=null?s.table:Vs)[t],r==null&&(r=s.table&&s.table[C2[t]]||Vs[C2[t]]),r==null&&(r=C8[t]||"General");break}if(pg(r,0))return Yu(a,s);a instanceof Date&&(a=$k(a,s.date1904));var n=$8(r,a);if(pg(n[1]))return Yu(a,s);if(a===!0)a="TRUE";else if(a===!1)a="FALSE";else if(a===""||a==null)return"";return U8(n[1],a,s,n[0])}function ld(t,a){if(typeof a!="number"){a=+a||-1;for(var s=0;s<392;++s){if(Vs[s]==null){a<0&&(a=s);continue}if(Vs[s]==t){a=s;break}}a<0&&(a=391)}return Vs[a]=t,a}function Kg(t){for(var a=0;a!=392;++a)t[a]!==void 0&&ld(t[a],a)}function ix(){Vs=j8()}var W8={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Jk=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function G8(t){var a=typeof t=="number"?Vs[t]:t;return a=a.replace(Jk,"(\\d+)"),new RegExp("^"+a+"$")}function z8(t,a,s){var r=-1,n=-1,l=-1,i=-1,c=-1,u=-1;(a.match(Jk)||[]).forEach(function(b,g){var w=parseInt(s[g+1],10);switch(b.toLowerCase().charAt(0)){case"y":r=w;break;case"d":l=w;break;case"h":i=w;break;case"s":u=w;break;case"m":i>=0?c=w:n=w;break}}),u>=0&&c==-1&&n>=0&&(c=n,n=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return i==-1&&c==-1&&u==-1?h:r==-1&&n==-1&&l==-1?m:h+"T"+m}var V8=(function(){var t={};t.version="1.2.0";function a(){for(var A=0,F=new Array(256),O=0;O!=256;++O)A=O,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,F[O]=A;return typeof Int32Array<"u"?new Int32Array(F):F}var s=a();function r(A){var F=0,O=0,M=0,U=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)U[M]=A[M];for(M=0;M!=256;++M)for(O=A[M],F=256+M;F<4096;F+=256)O=U[F]=O>>>8^A[O&255];var L=[];for(M=1;M!=16;++M)L[M-1]=typeof Int32Array<"u"?U.subarray(M*256,M*256+256):U.slice(M*256,M*256+256);return L}var n=r(s),l=n[0],i=n[1],c=n[2],u=n[3],h=n[4],m=n[5],b=n[6],g=n[7],w=n[8],p=n[9],v=n[10],f=n[11],y=n[12],N=n[13],C=n[14];function S(A,F){for(var O=F^-1,M=0,U=A.length;M<U;)O=O>>>8^s[(O^A.charCodeAt(M++))&255];return~O}function I(A,F){for(var O=F^-1,M=A.length-15,U=0;U<M;)O=C[A[U++]^O&255]^N[A[U++]^O>>8&255]^y[A[U++]^O>>16&255]^f[A[U++]^O>>>24]^v[A[U++]]^p[A[U++]]^w[A[U++]]^g[A[U++]]^b[A[U++]]^m[A[U++]]^h[A[U++]]^u[A[U++]]^c[A[U++]]^i[A[U++]]^l[A[U++]]^s[A[U++]];for(M+=15;U<M;)O=O>>>8^s[(O^A[U++])&255];return~O}function k(A,F){for(var O=F^-1,M=0,U=A.length,L=0,G=0;M<U;)L=A.charCodeAt(M++),L<128?O=O>>>8^s[(O^L)&255]:L<2048?(O=O>>>8^s[(O^(192|L>>6&31))&255],O=O>>>8^s[(O^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,G=A.charCodeAt(M++)&1023,O=O>>>8^s[(O^(240|L>>8&7))&255],O=O>>>8^s[(O^(128|L>>2&63))&255],O=O>>>8^s[(O^(128|G>>6&15|(L&3)<<4))&255],O=O>>>8^s[(O^(128|G&63))&255]):(O=O>>>8^s[(O^(224|L>>12&15))&255],O=O>>>8^s[(O^(128|L>>6&63))&255],O=O>>>8^s[(O^(128|L&63))&255]);return~O}return t.table=s,t.bstr=S,t.buf=I,t.str=k,t})(),$s=(function(){var a={};a.version="1.2.1";function s(he,be){for(var ie=he.split("/"),de=be.split("/"),J=0,_=0,Fe=Math.min(ie.length,de.length);J<Fe;++J){if(_=ie[J].length-de[J].length)return _;if(ie[J]!=de[J])return ie[J]<de[J]?-1:1}return ie.length-de.length}function r(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:r(he.slice(0,-1));var be=he.lastIndexOf("/");return be===-1?he:he.slice(0,be+1)}function n(he){if(he.charAt(he.length-1)=="/")return n(he.slice(0,-1));var be=he.lastIndexOf("/");return be===-1?he:he.slice(be+1)}function l(he,be){typeof be=="string"&&(be=new Date(be));var ie=be.getHours();ie=ie<<6|be.getMinutes(),ie=ie<<5|be.getSeconds()>>>1,he.write_shift(2,ie);var de=be.getFullYear()-1980;de=de<<4|be.getMonth()+1,de=de<<5|be.getDate(),he.write_shift(2,de)}function i(he){var be=he.read_shift(2)&65535,ie=he.read_shift(2)&65535,de=new Date,J=ie&31;ie>>>=5;var _=ie&15;ie>>>=4,de.setMilliseconds(0),de.setFullYear(ie+1980),de.setMonth(_-1),de.setDate(J);var Fe=be&31;be>>>=5;var Oe=be&63;return be>>>=6,de.setHours(be),de.setMinutes(Oe),de.setSeconds(Fe<<1),de}function c(he){Vn(he,0);for(var be={},ie=0;he.l<=he.length-4;){var de=he.read_shift(2),J=he.read_shift(2),_=he.l+J,Fe={};switch(de){case 21589:ie=he.read_shift(1),ie&1&&(Fe.mtime=he.read_shift(4)),J>5&&(ie&2&&(Fe.atime=he.read_shift(4)),ie&4&&(Fe.ctime=he.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}he.l=_,be[de]=Fe}return be}var u;function h(){return u||(u={})}function m(he,be){if(he[0]==80&&he[1]==75)return lt(he,be);if((he[0]|32)==109&&(he[1]|32)==105)return He(he,be);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var ie=3,de=512,J=0,_=0,Fe=0,Oe=0,ke=0,Ie=[],te=he.slice(0,512);Vn(te,0);var Pe=b(te);switch(ie=Pe[0],ie){case 3:de=512;break;case 4:de=4096;break;case 0:if(Pe[1]==0)return lt(he,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}de!==512&&(te=he.slice(0,de),Vn(te,28));var ae=he.slice(0,de);g(te,ie);var me=te.read_shift(4,"i");if(ie===3&&me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+me);te.l+=4,Fe=te.read_shift(4,"i"),te.l+=4,te.chk("00100000","Mini Stream Cutoff Size: "),Oe=te.read_shift(4,"i"),J=te.read_shift(4,"i"),ke=te.read_shift(4,"i"),_=te.read_shift(4,"i");for(var ce=-1,Ge=0;Ge<109&&(ce=te.read_shift(4,"i"),!(ce<0));++Ge)Ie[Ge]=ce;var yt=w(he,de);f(ke,_,yt,de,Ie);var Gt=N(yt,Fe,Ie,de);Gt[Fe].name="!Directory",J>0&&Oe!==G&&(Gt[Oe].name="!MiniFAT"),Gt[Ie[0]].name="!FAT",Gt.fat_addrs=Ie,Gt.ssz=de;var W={},Be=[],rt=[],ns=[];C(Fe,Gt,yt,Be,J,W,rt,Oe),p(rt,ns,Be),Be.shift();var ps={FileIndex:rt,FullPaths:ns};return be&&be.raw&&(ps.raw={header:ae,sectors:yt}),ps}function b(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(re,"Header Signature: "),he.l+=16;var be=he.read_shift(2,"u");return[he.read_shift(2,"u"),be]}function g(he,be){var ie=9;switch(he.l+=2,ie=he.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function w(he,be){for(var ie=Math.ceil(he.length/be)-1,de=[],J=1;J<ie;++J)de[J-1]=he.slice(J*be,(J+1)*be);return de[ie-1]=he.slice(ie*be),de}function p(he,be,ie){for(var de=0,J=0,_=0,Fe=0,Oe=0,ke=ie.length,Ie=[],te=[];de<ke;++de)Ie[de]=te[de]=de,be[de]=ie[de];for(;Oe<te.length;++Oe)de=te[Oe],J=he[de].L,_=he[de].R,Fe=he[de].C,Ie[de]===de&&(J!==-1&&Ie[J]!==J&&(Ie[de]=Ie[J]),_!==-1&&Ie[_]!==_&&(Ie[de]=Ie[_])),Fe!==-1&&(Ie[Fe]=de),J!==-1&&de!=Ie[de]&&(Ie[J]=Ie[de],te.lastIndexOf(J)<Oe&&te.push(J)),_!==-1&&de!=Ie[de]&&(Ie[_]=Ie[de],te.lastIndexOf(_)<Oe&&te.push(_));for(de=1;de<ke;++de)Ie[de]===de&&(_!==-1&&Ie[_]!==_?Ie[de]=Ie[_]:J!==-1&&Ie[J]!==J&&(Ie[de]=Ie[J]));for(de=1;de<ke;++de)if(he[de].type!==0){if(Oe=de,Oe!=Ie[Oe])do Oe=Ie[Oe],be[de]=be[Oe]+"/"+be[de];while(Oe!==0&&Ie[Oe]!==-1&&Oe!=Ie[Oe]);Ie[de]=-1}for(be[0]+="/",de=1;de<ke;++de)he[de].type!==2&&(be[de]+="/")}function v(he,be,ie){for(var de=he.start,J=he.size,_=[],Fe=de;ie&&J>0&&Fe>=0;)_.push(be.slice(Fe*L,Fe*L+L)),J-=L,Fe=Mu(ie,Fe*4);return _.length===0?es(0):Fn(_).slice(0,he.size)}function f(he,be,ie,de,J){var _=G;if(he===G){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var Fe=ie[he],Oe=(de>>>2)-1;if(!Fe)return;for(var ke=0;ke<Oe&&(_=Mu(Fe,ke*4))!==G;++ke)J.push(_);f(Mu(Fe,de-4),be-1,ie,de,J)}}function y(he,be,ie,de,J){var _=[],Fe=[];J||(J=[]);var Oe=de-1,ke=0,Ie=0;for(ke=be;ke>=0;){J[ke]=!0,_[_.length]=ke,Fe.push(he[ke]);var te=ie[Math.floor(ke*4/de)];if(Ie=ke*4&Oe,de<4+Ie)throw new Error("FAT boundary crossed: "+ke+" 4 "+de);if(!he[te])break;ke=Mu(he[te],Ie)}return{nodes:_,data:H2([Fe])}}function N(he,be,ie,de){var J=he.length,_=[],Fe=[],Oe=[],ke=[],Ie=de-1,te=0,Pe=0,ae=0,me=0;for(te=0;te<J;++te)if(Oe=[],ae=te+be,ae>=J&&(ae-=J),!Fe[ae]){ke=[];var ce=[];for(Pe=ae;Pe>=0;){ce[Pe]=!0,Fe[Pe]=!0,Oe[Oe.length]=Pe,ke.push(he[Pe]);var Ge=ie[Math.floor(Pe*4/de)];if(me=Pe*4&Ie,de<4+me)throw new Error("FAT boundary crossed: "+Pe+" 4 "+de);if(!he[Ge]||(Pe=Mu(he[Ge],me),ce[Pe]))break}_[ae]={nodes:Oe,data:H2([ke])}}return _}function C(he,be,ie,de,J,_,Fe,Oe){for(var ke=0,Ie=de.length?2:0,te=be[he].data,Pe=0,ae=0,me;Pe<te.length;Pe+=128){var ce=te.slice(Pe,Pe+128);Vn(ce,64),ae=ce.read_shift(2),me=xw(ce,0,ae-Ie),de.push(me);var Ge={name:me,type:ce.read_shift(1),color:ce.read_shift(1),L:ce.read_shift(4,"i"),R:ce.read_shift(4,"i"),C:ce.read_shift(4,"i"),clsid:ce.read_shift(16),state:ce.read_shift(4,"i"),start:0,size:0},yt=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);yt!==0&&(Ge.ct=S(ce,ce.l-8));var Gt=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);Gt!==0&&(Ge.mt=S(ce,ce.l-8)),Ge.start=ce.read_shift(4,"i"),Ge.size=ce.read_shift(4,"i"),Ge.size<0&&Ge.start<0&&(Ge.size=Ge.type=0,Ge.start=G,Ge.name=""),Ge.type===5?(ke=Ge.start,J>0&&ke!==G&&(be[ke].name="!StreamData")):Ge.size>=4096?(Ge.storage="fat",be[Ge.start]===void 0&&(be[Ge.start]=y(ie,Ge.start,be.fat_addrs,be.ssz)),be[Ge.start].name=Ge.name,Ge.content=be[Ge.start].data.slice(0,Ge.size)):(Ge.storage="minifat",Ge.size<0?Ge.size=0:ke!==G&&Ge.start!==G&&be[ke]&&(Ge.content=v(Ge,be[ke].data,(be[Oe]||{}).data))),Ge.content&&Vn(Ge.content,0),_[me]=Ge,Fe.push(Ge)}}function S(he,be){return new Date((Cl(he,be+4)/1e7*Math.pow(2,32)+Cl(he,be)/1e7-11644473600)*1e3)}function I(he,be){return h(),m(u.readFileSync(he),be)}function k(he,be){var ie=be&&be.type;switch(ie||ma&&Buffer.isBuffer(he)&&(ie="buffer"),ie||"base64"){case"file":return I(he,be);case"base64":return m(Sl(Al(he)),be);case"binary":return m(Sl(he),be)}return m(he,be)}function A(he,be){var ie=be||{},de=ie.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=de+"/",he.FileIndex[0]={name:de,type:5}),ie.CLSID&&(he.FileIndex[0].clsid=ie.CLSID),F(he)}function F(he){var be="Sh33tJ5";if(!$s.find(he,"/"+be)){var ie=es(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,he.FileIndex.push({name:be,type:2,content:ie,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+be),O(he)}}function O(he,be){A(he);for(var ie=!1,de=!1,J=he.FullPaths.length-1;J>=0;--J){var _=he.FileIndex[J];switch(_.type){case 0:de?ie=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(_.R*_.L*_.C)&&(ie=!0),_.R>-1&&_.L>-1&&_.R==_.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!be)){var Fe=new Date(1987,1,19),Oe=0,ke=Object.create?Object.create(null):{},Ie=[];for(J=0;J<he.FullPaths.length;++J)ke[he.FullPaths[J]]=!0,he.FileIndex[J].type!==0&&Ie.push([he.FullPaths[J],he.FileIndex[J]]);for(J=0;J<Ie.length;++J){var te=r(Ie[J][0]);de=ke[te],de||(Ie.push([te,{name:n(te).replace("/",""),type:1,clsid:K,ct:Fe,mt:Fe,content:null}]),ke[te]=!0)}for(Ie.sort(function(me,ce){return s(me[0],ce[0])}),he.FullPaths=[],he.FileIndex=[],J=0;J<Ie.length;++J)he.FullPaths[J]=Ie[J][0],he.FileIndex[J]=Ie[J][1];for(J=0;J<Ie.length;++J){var Pe=he.FileIndex[J],ae=he.FullPaths[J];if(Pe.name=n(ae).replace("/",""),Pe.L=Pe.R=Pe.C=-(Pe.color=1),Pe.size=Pe.content?Pe.content.length:0,Pe.start=0,Pe.clsid=Pe.clsid||K,J===0)Pe.C=Ie.length>1?1:-1,Pe.size=0,Pe.type=5;else if(ae.slice(-1)=="/"){for(Oe=J+1;Oe<Ie.length&&r(he.FullPaths[Oe])!=ae;++Oe);for(Pe.C=Oe>=Ie.length?-1:Oe,Oe=J+1;Oe<Ie.length&&r(he.FullPaths[Oe])!=r(ae);++Oe);Pe.R=Oe>=Ie.length?-1:Oe,Pe.type=1}else r(he.FullPaths[J+1]||"")==r(ae)&&(Pe.R=J+1),Pe.type=2}}}function M(he,be){var ie=be||{};if(ie.fileType=="mad")return ge(he,ie);switch(O(he),ie.fileType){case"zip":return Nt(he,ie)}var de=(function(me){for(var ce=0,Ge=0,yt=0;yt<me.FileIndex.length;++yt){var Gt=me.FileIndex[yt];if(Gt.content){var W=Gt.content.length;W>0&&(W<4096?ce+=W+63>>6:Ge+=W+511>>9)}}for(var Be=me.FullPaths.length+3>>2,rt=ce+7>>3,ns=ce+127>>7,ps=rt+Ge+Be+ns,ct=ps+127>>7,ss=ct<=109?0:Math.ceil((ct-109)/127);ps+ct+ss+127>>7>ct;)ss=++ct<=109?0:Math.ceil((ct-109)/127);var Ft=[1,ss,ct,ns,Be,Ge,ce,0];return me.FileIndex[0].size=ce<<6,Ft[7]=(me.FileIndex[0].start=Ft[0]+Ft[1]+Ft[2]+Ft[3]+Ft[4]+Ft[5])+(Ft[6]+7>>3),Ft})(he),J=es(de[7]<<9),_=0,Fe=0;{for(_=0;_<8;++_)J.write_shift(1,ye[_]);for(_=0;_<8;++_)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),_=0;_<3;++_)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,de[2]),J.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:G),J.write_shift(4,de[3]),J.write_shift(-4,de[1]?de[0]-1:G),J.write_shift(4,de[1]),_=0;_<109;++_)J.write_shift(-4,_<de[2]?de[1]+_:-1)}if(de[1])for(Fe=0;Fe<de[1];++Fe){for(;_<236+Fe*127;++_)J.write_shift(-4,_<de[2]?de[1]+_:-1);J.write_shift(-4,Fe===de[1]-1?G:Fe+1)}var Oe=function(me){for(Fe+=me;_<Fe-1;++_)J.write_shift(-4,_+1);me&&(++_,J.write_shift(-4,G))};for(Fe=_=0,Fe+=de[1];_<Fe;++_)J.write_shift(-4,ne.DIFSECT);for(Fe+=de[2];_<Fe;++_)J.write_shift(-4,ne.FATSECT);Oe(de[3]),Oe(de[4]);for(var ke=0,Ie=0,te=he.FileIndex[0];ke<he.FileIndex.length;++ke)te=he.FileIndex[ke],te.content&&(Ie=te.content.length,!(Ie<4096)&&(te.start=Fe,Oe(Ie+511>>9)));for(Oe(de[6]+7>>3);J.l&511;)J.write_shift(-4,ne.ENDOFCHAIN);for(Fe=_=0,ke=0;ke<he.FileIndex.length;++ke)te=he.FileIndex[ke],te.content&&(Ie=te.content.length,!(!Ie||Ie>=4096)&&(te.start=Fe,Oe(Ie+63>>6)));for(;J.l&511;)J.write_shift(-4,ne.ENDOFCHAIN);for(_=0;_<de[4]<<2;++_){var Pe=he.FullPaths[_];if(!Pe||Pe.length===0){for(ke=0;ke<17;++ke)J.write_shift(4,0);for(ke=0;ke<3;++ke)J.write_shift(4,-1);for(ke=0;ke<12;++ke)J.write_shift(4,0);continue}te=he.FileIndex[_],_===0&&(te.start=te.size?te.start-1:G);var ae=_===0&&ie.root||te.name;if(Ie=2*(ae.length+1),J.write_shift(64,ae,"utf16le"),J.write_shift(2,Ie),J.write_shift(1,te.type),J.write_shift(1,te.color),J.write_shift(-4,te.L),J.write_shift(-4,te.R),J.write_shift(-4,te.C),te.clsid)J.write_shift(16,te.clsid,"hex");else for(ke=0;ke<4;++ke)J.write_shift(4,0);J.write_shift(4,te.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,te.start),J.write_shift(4,te.size),J.write_shift(4,0)}for(_=1;_<he.FileIndex.length;++_)if(te=he.FileIndex[_],te.size>=4096)if(J.l=te.start+1<<9,ma&&Buffer.isBuffer(te.content))te.content.copy(J,J.l,0,te.size),J.l+=te.size+511&-512;else{for(ke=0;ke<te.size;++ke)J.write_shift(1,te.content[ke]);for(;ke&511;++ke)J.write_shift(1,0)}for(_=1;_<he.FileIndex.length;++_)if(te=he.FileIndex[_],te.size>0&&te.size<4096)if(ma&&Buffer.isBuffer(te.content))te.content.copy(J,J.l,0,te.size),J.l+=te.size+63&-64;else{for(ke=0;ke<te.size;++ke)J.write_shift(1,te.content[ke]);for(;ke&63;++ke)J.write_shift(1,0)}if(ma)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function U(he,be){var ie=he.FullPaths.map(function(ke){return ke.toUpperCase()}),de=ie.map(function(ke){var Ie=ke.split("/");return Ie[Ie.length-(ke.slice(-1)=="/"?2:1)]}),J=!1;be.charCodeAt(0)===47?(J=!0,be=ie[0].slice(0,-1)+be):J=be.indexOf("/")!==-1;var _=be.toUpperCase(),Fe=J===!0?ie.indexOf(_):de.indexOf(_);if(Fe!==-1)return he.FileIndex[Fe];var Oe=!_.match(Bx);for(_=_.replace(Do,""),Oe&&(_=_.replace(Bx,"!")),Fe=0;Fe<ie.length;++Fe)if((Oe?ie[Fe].replace(Bx,"!"):ie[Fe]).replace(Do,"")==_||(Oe?de[Fe].replace(Bx,"!"):de[Fe]).replace(Do,"")==_)return he.FileIndex[Fe];return null}var L=64,G=-2,re="d0cf11e0a1b11ae1",ye=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",ne={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:G,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(he,be,ie){h();var de=M(he,ie);u.writeFileSync(be,de)}function se(he){for(var be=new Array(he.length),ie=0;ie<he.length;++ie)be[ie]=String.fromCharCode(he[ie]);return be.join("")}function we(he,be){var ie=M(he,be);switch(be&&be.type||"buffer"){case"file":return h(),u.writeFileSync(be.filename,ie),ie;case"binary":return typeof ie=="string"?ie:se(ie);case"base64":return Qx(typeof ie=="string"?ie:se(ie));case"buffer":if(ma)return Buffer.isBuffer(ie)?ie:md(ie);case"array":return typeof ie=="string"?Sl(ie):ie}return ie}var Y;function E(he){try{var be=he.InflateRaw,ie=new be;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)Y=he;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function P(he,be){if(!Y)return Wt(he,be);var ie=Y.InflateRaw,de=new ie,J=de._processChunk(he.slice(he.l),de._finishFlushFlag);return he.l+=de.bytesRead,J}function V(he){return Y?Y.deflateRawSync(he):dt(he)}var D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ee=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Se(he){var be=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(be>>16|be>>8|be)&255}for(var ue=typeof Uint8Array<"u",oe=ue?new Uint8Array(256):[],le=0;le<256;++le)oe[le]=Se(le);function Q(he,be){var ie=oe[he&255];return be<=8?ie>>>8-be:(ie=ie<<8|oe[he>>8&255],be<=16?ie>>>16-be:(ie=ie<<8|oe[he>>16&255],ie>>>24-be))}function ve(he,be){var ie=be&7,de=be>>>3;return(he[de]|(ie<=6?0:he[de+1]<<8))>>>ie&3}function Ce(he,be){var ie=be&7,de=be>>>3;return(he[de]|(ie<=5?0:he[de+1]<<8))>>>ie&7}function $e(he,be){var ie=be&7,de=be>>>3;return(he[de]|(ie<=4?0:he[de+1]<<8))>>>ie&15}function Ae(he,be){var ie=be&7,de=be>>>3;return(he[de]|(ie<=3?0:he[de+1]<<8))>>>ie&31}function We(he,be){var ie=be&7,de=be>>>3;return(he[de]|(ie<=1?0:he[de+1]<<8))>>>ie&127}function Re(he,be,ie){var de=be&7,J=be>>>3,_=(1<<ie)-1,Fe=he[J]>>>de;return ie<8-de||(Fe|=he[J+1]<<8-de,ie<16-de)||(Fe|=he[J+2]<<16-de,ie<24-de)||(Fe|=he[J+3]<<24-de),Fe&_}function et(he,be,ie){var de=be&7,J=be>>>3;return de<=5?he[J]|=(ie&7)<<de:(he[J]|=ie<<de&255,he[J+1]=(ie&7)>>8-de),be+3}function B(he,be,ie){var de=be&7,J=be>>>3;return ie=(ie&1)<<de,he[J]|=ie,be+1}function q(he,be,ie){var de=be&7,J=be>>>3;return ie<<=de,he[J]|=ie&255,ie>>>=8,he[J+1]=ie,be+8}function Z(he,be,ie){var de=be&7,J=be>>>3;return ie<<=de,he[J]|=ie&255,ie>>>=8,he[J+1]=ie&255,he[J+2]=ie>>>8,be+16}function je(he,be){var ie=he.length,de=2*ie>be?2*ie:be+5,J=0;if(ie>=be)return he;if(ma){var _=w2(de);if(he.copy)he.copy(_);else for(;J<he.length;++J)_[J]=he[J];return _}else if(ue){var Fe=new Uint8Array(de);if(Fe.set)Fe.set(he);else for(;J<ie;++J)Fe[J]=he[J];return Fe}return he.length=de,he}function De(he){for(var be=new Array(he),ie=0;ie<he;++ie)be[ie]=0;return be}function Qe(he,be,ie){var de=1,J=0,_=0,Fe=0,Oe=0,ke=he.length,Ie=ue?new Uint16Array(32):De(32);for(_=0;_<32;++_)Ie[_]=0;for(_=ke;_<ie;++_)he[_]=0;ke=he.length;var te=ue?new Uint16Array(ke):De(ke);for(_=0;_<ke;++_)Ie[J=he[_]]++,de<J&&(de=J),te[_]=0;for(Ie[0]=0,_=1;_<=de;++_)Ie[_+16]=Oe=Oe+Ie[_-1]<<1;for(_=0;_<ke;++_)Oe=he[_],Oe!=0&&(te[_]=Ie[Oe+16]++);var Pe=0;for(_=0;_<ke;++_)if(Pe=he[_],Pe!=0)for(Oe=Q(te[_],de)>>de-Pe,Fe=(1<<de+4-Pe)-1;Fe>=0;--Fe)be[Oe|Fe<<Pe]=Pe&15|_<<4;return de}var qe=ue?new Uint16Array(512):De(512),Ye=ue?new Uint16Array(32):De(32);if(!ue){for(var ht=0;ht<512;++ht)qe[ht]=0;for(ht=0;ht<32;++ht)Ye[ht]=0}(function(){for(var he=[],be=0;be<32;be++)he.push(5);Qe(he,Ye,32);var ie=[];for(be=0;be<=143;be++)ie.push(8);for(;be<=255;be++)ie.push(9);for(;be<=279;be++)ie.push(7);for(;be<=287;be++)ie.push(8);Qe(ie,qe,288)})();var St=(function(){for(var be=ue?new Uint8Array(32768):[],ie=0,de=0;ie<ee.length-1;++ie)for(;de<ee[ie+1];++de)be[de]=ie;for(;de<32768;++de)be[de]=29;var J=ue?new Uint8Array(259):[];for(ie=0,de=0;ie<R.length-1;++ie)for(;de<R[ie+1];++de)J[de]=ie;function _(Oe,ke){for(var Ie=0;Ie<Oe.length;){var te=Math.min(65535,Oe.length-Ie),Pe=Ie+te==Oe.length;for(ke.write_shift(1,+Pe),ke.write_shift(2,te),ke.write_shift(2,~te&65535);te-- >0;)ke[ke.l++]=Oe[Ie++]}return ke.l}function Fe(Oe,ke){for(var Ie=0,te=0,Pe=ue?new Uint16Array(32768):[];te<Oe.length;){var ae=Math.min(65535,Oe.length-te);if(ae<10){for(Ie=et(ke,Ie,+(te+ae==Oe.length)),Ie&7&&(Ie+=8-(Ie&7)),ke.l=Ie/8|0,ke.write_shift(2,ae),ke.write_shift(2,~ae&65535);ae-- >0;)ke[ke.l++]=Oe[te++];Ie=ke.l*8;continue}Ie=et(ke,Ie,+(te+ae==Oe.length)+2);for(var me=0;ae-- >0;){var ce=Oe[te];me=(me<<5^ce)&32767;var Ge=-1,yt=0;if((Ge=Pe[me])&&(Ge|=te&-32768,Ge>te&&(Ge-=32768),Ge<te))for(;Oe[Ge+yt]==Oe[te+yt]&&yt<250;)++yt;if(yt>2){ce=J[yt],ce<=22?Ie=q(ke,Ie,oe[ce+1]>>1)-1:(q(ke,Ie,3),Ie+=5,q(ke,Ie,oe[ce-23]>>5),Ie+=3);var Gt=ce<8?0:ce-4>>2;Gt>0&&(Z(ke,Ie,yt-R[ce]),Ie+=Gt),ce=be[te-Ge],Ie=q(ke,Ie,oe[ce]>>3),Ie-=3;var W=ce<4?0:ce-2>>1;W>0&&(Z(ke,Ie,te-Ge-ee[ce]),Ie+=W);for(var Be=0;Be<yt;++Be)Pe[me]=te&32767,me=(me<<5^Oe[te])&32767,++te;ae-=yt-1}else ce<=143?ce=ce+48:Ie=B(ke,Ie,1),Ie=q(ke,Ie,oe[ce]),Pe[me]=te&32767,++te}Ie=q(ke,Ie,0)-1}return ke.l=(Ie+7)/8|0,ke.l}return function(ke,Ie){return ke.length<8?_(ke,Ie):Fe(ke,Ie)}})();function dt(he){var be=es(50+Math.floor(he.length*1.1)),ie=St(he,be);return be.slice(0,ie)}var Et=ue?new Uint16Array(32768):De(32768),Te=ue?new Uint16Array(32768):De(32768),Ee=ue?new Uint16Array(128):De(128),pe=1,Je=1;function pt(he,be){var ie=Ae(he,be)+257;be+=5;var de=Ae(he,be)+1;be+=5;var J=$e(he,be)+4;be+=4;for(var _=0,Fe=ue?new Uint8Array(19):De(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,Ie=ue?new Uint8Array(8):De(8),te=ue?new Uint8Array(8):De(8),Pe=Fe.length,ae=0;ae<J;++ae)Fe[D[ae]]=_=Ce(he,be),ke<_&&(ke=_),Ie[_]++,be+=3;var me=0;for(Ie[0]=0,ae=1;ae<=ke;++ae)te[ae]=me=me+Ie[ae-1]<<1;for(ae=0;ae<Pe;++ae)(me=Fe[ae])!=0&&(Oe[ae]=te[me]++);var ce=0;for(ae=0;ae<Pe;++ae)if(ce=Fe[ae],ce!=0){me=oe[Oe[ae]]>>8-ce;for(var Ge=(1<<7-ce)-1;Ge>=0;--Ge)Ee[me|Ge<<ce]=ce&7|ae<<3}var yt=[];for(ke=1;yt.length<ie+de;)switch(me=Ee[We(he,be)],be+=me&7,me>>>=3){case 16:for(_=3+ve(he,be),be+=2,me=yt[yt.length-1];_-- >0;)yt.push(me);break;case 17:for(_=3+Ce(he,be),be+=3;_-- >0;)yt.push(0);break;case 18:for(_=11+We(he,be),be+=7;_-- >0;)yt.push(0);break;default:yt.push(me),ke<me&&(ke=me);break}var Gt=yt.slice(0,ie),W=yt.slice(ie);for(ae=ie;ae<286;++ae)Gt[ae]=0;for(ae=de;ae<30;++ae)W[ae]=0;return pe=Qe(Gt,Et,286),Je=Qe(W,Te,30),be}function Mt(he,be){if(he[0]==3&&!(he[1]&3))return[nu(be),2];for(var ie=0,de=0,J=w2(be||1<<18),_=0,Fe=J.length>>>0,Oe=0,ke=0;(de&1)==0;){if(de=Ce(he,ie),ie+=3,de>>>1)de>>1==1?(Oe=9,ke=5):(ie=pt(he,ie),Oe=pe,ke=Je);else{ie&7&&(ie+=8-(ie&7));var Ie=he[ie>>>3]|he[(ie>>>3)+1]<<8;if(ie+=32,Ie>0)for(!be&&Fe<_+Ie&&(J=je(J,_+Ie),Fe=J.length);Ie-- >0;)J[_++]=he[ie>>>3],ie+=8;continue}for(;;){!be&&Fe<_+32767&&(J=je(J,_+32767),Fe=J.length);var te=Re(he,ie,Oe),Pe=de>>>1==1?qe[te]:Et[te];if(ie+=Pe&15,Pe>>>=4,(Pe>>>8&255)===0)J[_++]=Pe;else{if(Pe==256)break;Pe-=257;var ae=Pe<8?0:Pe-4>>2;ae>5&&(ae=0);var me=_+R[Pe];ae>0&&(me+=Re(he,ie,ae),ie+=ae),te=Re(he,ie,ke),Pe=de>>>1==1?Ye[te]:Te[te],ie+=Pe&15,Pe>>>=4;var ce=Pe<4?0:Pe-2>>1,Ge=ee[Pe];for(ce>0&&(Ge+=Re(he,ie,ce),ie+=ce),!be&&Fe<me&&(J=je(J,me+100),Fe=J.length);_<me;)J[_]=J[_-Ge],++_}}}return be?[J,ie+7>>>3]:[J.slice(0,_),ie+7>>>3]}function Wt(he,be){var ie=he.slice(he.l||0),de=Mt(ie,be);return he.l+=de[1],de[0]}function $t(he,be){if(he)typeof console<"u"&&console.error(be);else throw new Error(be)}function lt(he,be){var ie=he;Vn(ie,0);var de=[],J=[],_={FileIndex:de,FullPaths:J};A(_,{root:be.root});for(var Fe=ie.length-4;(ie[Fe]!=80||ie[Fe+1]!=75||ie[Fe+2]!=5||ie[Fe+3]!=6)&&Fe>=0;)--Fe;ie.l=Fe+4,ie.l+=4;var Oe=ie.read_shift(2);ie.l+=6;var ke=ie.read_shift(4);for(ie.l=ke,Fe=0;Fe<Oe;++Fe){ie.l+=20;var Ie=ie.read_shift(4),te=ie.read_shift(4),Pe=ie.read_shift(2),ae=ie.read_shift(2),me=ie.read_shift(2);ie.l+=8;var ce=ie.read_shift(4),Ge=c(ie.slice(ie.l+Pe,ie.l+Pe+ae));ie.l+=Pe+ae+me;var yt=ie.l;ie.l=ce+4,bt(ie,Ie,te,_,Ge),ie.l=yt}return _}function bt(he,be,ie,de,J){he.l+=2;var _=he.read_shift(2),Fe=he.read_shift(2),Oe=i(he);if(_&8257)throw new Error("Unsupported ZIP encryption");for(var ke=he.read_shift(4),Ie=he.read_shift(4),te=he.read_shift(4),Pe=he.read_shift(2),ae=he.read_shift(2),me="",ce=0;ce<Pe;++ce)me+=String.fromCharCode(he[he.l++]);if(ae){var Ge=c(he.slice(he.l,he.l+ae));(Ge[21589]||{}).mt&&(Oe=Ge[21589].mt),((J||{})[21589]||{}).mt&&(Oe=J[21589].mt)}he.l+=ae;var yt=he.slice(he.l,he.l+Ie);switch(Fe){case 8:yt=P(he,te);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var Gt=!1;_&8&&(ke=he.read_shift(4),ke==134695760&&(ke=he.read_shift(4),Gt=!0),Ie=he.read_shift(4),te=he.read_shift(4)),Ie!=be&&$t(Gt,"Bad compressed size: "+be+" != "+Ie),te!=ie&&$t(Gt,"Bad uncompressed size: "+ie+" != "+te),Ze(de,me,yt,{unsafe:!0,mt:Oe})}function Nt(he,be){var ie=be||{},de=[],J=[],_=es(1),Fe=ie.compression?8:0,Oe=0,ke=0,Ie=0,te=0,Pe=0,ae=he.FullPaths[0],me=ae,ce=he.FileIndex[0],Ge=[],yt=0;for(ke=1;ke<he.FullPaths.length;++ke)if(me=he.FullPaths[ke].slice(ae.length),ce=he.FileIndex[ke],!(!ce.size||!ce.content||me=="Sh33tJ5")){var Gt=te,W=es(me.length);for(Ie=0;Ie<me.length;++Ie)W.write_shift(1,me.charCodeAt(Ie)&127);W=W.slice(0,W.l),Ge[Pe]=V8.buf(ce.content,0);var Be=ce.content;Fe==8&&(Be=V(Be)),_=es(30),_.write_shift(4,67324752),_.write_shift(2,20),_.write_shift(2,Oe),_.write_shift(2,Fe),ce.mt?l(_,ce.mt):_.write_shift(4,0),_.write_shift(-4,Ge[Pe]),_.write_shift(4,Be.length),_.write_shift(4,ce.content.length),_.write_shift(2,W.length),_.write_shift(2,0),te+=_.length,de.push(_),te+=W.length,de.push(W),te+=Be.length,de.push(Be),_=es(46),_.write_shift(4,33639248),_.write_shift(2,0),_.write_shift(2,20),_.write_shift(2,Oe),_.write_shift(2,Fe),_.write_shift(4,0),_.write_shift(-4,Ge[Pe]),_.write_shift(4,Be.length),_.write_shift(4,ce.content.length),_.write_shift(2,W.length),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(4,0),_.write_shift(4,Gt),yt+=_.l,J.push(_),yt+=W.length,J.push(W),++Pe}return _=es(22),_.write_shift(4,101010256),_.write_shift(2,0),_.write_shift(2,0),_.write_shift(2,Pe),_.write_shift(2,Pe),_.write_shift(4,yt),_.write_shift(4,te),_.write_shift(2,0),Fn([Fn(de),Fn(J),_])}var wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function It(he,be){if(he.ctype)return he.ctype;var ie=he.name||"",de=ie.match(/\.([^\.]+)$/);return de&&wt[de[1]]||be&&(de=(ie=be).match(/[\.\\]([^\.\\])+$/),de&&wt[de[1]])?wt[de[1]]:"application/octet-stream"}function Dt(he){for(var be=Qx(he),ie=[],de=0;de<be.length;de+=76)ie.push(be.slice(de,de+76));return ie.join(`\r
`)+`\r
`}function Ke(he){var be=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ie){var te=Ie.charCodeAt(0).toString(16).toUpperCase();return"="+(te.length==1?"0"+te:te)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],de=be.split(`\r
`),J=0;J<de.length;++J){var _=de[J];if(_.length==0){ie.push("");continue}for(var Fe=0;Fe<_.length;){var Oe=76,ke=_.slice(Fe,Fe+Oe);ke.charAt(Oe-1)=="="?Oe--:ke.charAt(Oe-2)=="="?Oe-=2:ke.charAt(Oe-3)=="="&&(Oe-=3),ke=_.slice(Fe,Fe+Oe),Fe+=Oe,Fe<_.length&&(ke+="="),ie.push(ke)}}return ie.join(`\r
`)}function tt(he){for(var be=[],ie=0;ie<he.length;++ie){for(var de=he[ie];ie<=he.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+he[++ie];be.push(de)}for(var J=0;J<be.length;++J)be[J]=be[J].replace(/[=][0-9A-Fa-f]{2}/g,function(_){return String.fromCharCode(parseInt(_.slice(1),16))});return Sl(be.join(`\r
`))}function Le(he,be,ie){for(var de="",J="",_="",Fe,Oe=0;Oe<10;++Oe){var ke=be[Oe];if(!ke||ke.match(/^\s*$/))break;var Ie=ke.match(/^(.*?):\s*([^\s].*)$/);if(Ie)switch(Ie[1].toLowerCase()){case"content-location":de=Ie[2].trim();break;case"content-type":_=Ie[2].trim();break;case"content-transfer-encoding":J=Ie[2].trim();break}}switch(++Oe,J.toLowerCase()){case"base64":Fe=Sl(Al(be.slice(Oe).join("")));break;case"quoted-printable":Fe=tt(be.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var te=Ze(he,de.slice(ie.length),Fe,{unsafe:!0});_&&(te.ctype=_)}function He(he,be){if(se(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=be&&be.root||"",de=(ma&&Buffer.isBuffer(he)?he.toString("binary"):se(he)).split(`\r
`),J=0,_="";for(J=0;J<de.length;++J)if(_=de[J],!!/^Content-Location:/i.test(_)&&(_=_.slice(_.indexOf("file")),ie||(ie=_.slice(0,_.lastIndexOf("/")+1)),_.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),_.slice(0,ie.length)!=ie););var Fe=(de[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var Oe="--"+(Fe[1]||""),ke=[],Ie=[],te={FileIndex:ke,FullPaths:Ie};A(te);var Pe,ae=0;for(J=0;J<de.length;++J){var me=de[J];me!==Oe&&me!==Oe+"--"||(ae++&&Le(te,de.slice(Pe,J),ie),Pe=J)}return te}function ge(he,be){var ie=be||{},de=ie.boundary||"SheetJS";de="------="+de;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],_=he.FullPaths[0],Fe=_,Oe=he.FileIndex[0],ke=1;ke<he.FullPaths.length;++ke)if(Fe=he.FullPaths[ke].slice(_.length),Oe=he.FileIndex[ke],!(!Oe.size||!Oe.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yt){return"_x"+yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yt){return"_u"+yt.charCodeAt(0).toString(16)+"_"});for(var Ie=Oe.content,te=ma&&Buffer.isBuffer(Ie)?Ie.toString("binary"):se(Ie),Pe=0,ae=Math.min(1024,te.length),me=0,ce=0;ce<=ae;++ce)(me=te.charCodeAt(ce))>=32&&me<128&&++Pe;var Ge=Pe>=ae*4/5;J.push(de),J.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+Fe),J.push("Content-Transfer-Encoding: "+(Ge?"quoted-printable":"base64")),J.push("Content-Type: "+It(Oe,Fe)),J.push(""),J.push(Ge?Ke(te):Dt(te))}return J.push(de+`--\r
`),J.join(`\r
`)}function st(he){var be={};return A(be,he),be}function Ze(he,be,ie,de){var J=de&&de.unsafe;J||A(he);var _=!J&&$s.find(he,be);if(!_){var Fe=he.FullPaths[0];be.slice(0,Fe.length)==Fe?Fe=be:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+be).replace("//","/")),_={name:n(be),type:2},he.FileIndex.push(_),he.FullPaths.push(Fe),J||$s.utils.cfb_gc(he)}return _.content=ie,_.size=ie?ie.length:0,de&&(de.CLSID&&(_.clsid=de.CLSID),de.mt&&(_.mt=de.mt),de.ct&&(_.ct=de.ct)),_}function Rt(he,be){A(he);var ie=$s.find(he,be);if(ie){for(var de=0;de<he.FileIndex.length;++de)if(he.FileIndex[de]==ie)return he.FileIndex.splice(de,1),he.FullPaths.splice(de,1),!0}return!1}function ft(he,be,ie){A(he);var de=$s.find(he,be);if(de){for(var J=0;J<he.FileIndex.length;++J)if(he.FileIndex[J]==de)return he.FileIndex[J].name=n(ie),he.FullPaths[J]=ie,!0}return!1}function kt(he){O(he,!0)}return a.find=U,a.read=k,a.parse=m,a.write=we,a.writeFile=H,a.utils={cfb_new:st,cfb_add:Ze,cfb_del:Rt,cfb_mov:ft,cfb_gc:kt,ReadShift:Hx,CheckField:b3,prep_blob:Vn,bconcat:Fn,use_zlib:E,_deflateRaw:dt,_inflateRaw:Wt,consts:ne},a})();function Y8(t){return typeof t=="string"?Yg(t):Array.isArray(t)?b8(t):t}function Th(t,a,s){if(typeof Deno<"u"){if(s&&typeof a=="string")switch(s){case"utf8":a=new TextEncoder(s).encode(a);break;case"binary":a=Yg(a);break;default:throw new Error("Unsupported encoding "+s)}return Deno.writeFileSync(t,a)}var r=s=="utf8"?yc(a):a;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var n=new Blob([Y8(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(n,t);if(typeof saveAs<"u")return saveAs(n,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(n);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:t,saveAs:!0});var i=document.createElement("a");if(i.download!=null)return i.download=t,i.href=l,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(a)&&(a=hu(a)),c.write(a),c.close(),a}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+t)}function K8(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(t);a.open("r"),a.encoding="binary";var s=a.read();return a.close(),s}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Rr(t){for(var a=Object.keys(t),s=[],r=0;r<a.length;++r)Object.prototype.hasOwnProperty.call(t,a[r])&&s.push(a[r]);return s}function T2(t,a){for(var s=[],r=Rr(t),n=0;n!==r.length;++n)s[t[r[n]][a]]==null&&(s[t[r[n]][a]]=r[n]);return s}function qg(t){for(var a=[],s=Rr(t),r=0;r!==s.length;++r)a[t[s[r]]]=s[r];return a}function Xg(t){for(var a=[],s=Rr(t),r=0;r!==s.length;++r)a[t[s[r]]]=parseInt(s[r],10);return a}function q8(t){for(var a=[],s=Rr(t),r=0;r!==s.length;++r)a[t[s[r]]]==null&&(a[t[s[r]]]=[]),a[t[s[r]]].push(s[r]);return a}var fg=new Date(1899,11,30,0,0,0);function yn(t,a){var s=t.getTime(),r=fg.getTime()+(t.getTimezoneOffset()-fg.getTimezoneOffset())*6e4;return(s-r)/(1440*60*1e3)}var Qk=new Date,X8=fg.getTime()+(Qk.getTimezoneOffset()-fg.getTimezoneOffset())*6e4,A2=Qk.getTimezoneOffset();function Jg(t){var a=new Date;return a.setTime(t*24*60*60*1e3+X8),a.getTimezoneOffset()!==A2&&a.setTime(a.getTime()+(a.getTimezoneOffset()-A2)*6e4),a}function J8(t){var a=0,s=0,r=!1,n=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!n)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var l=1;l!=n.length;++l)if(n[l]){switch(s=1,l>3&&(r=!0),n[l].slice(n[l].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+n[l].slice(n[l].length-1));case"D":s*=24;case"H":s*=60;case"M":if(r)s*=60;else throw new Error("Unsupported ISO Duration Field: M")}a+=s*parseInt(n[l],10)}return a}var F2=new Date("2017-02-19T19:06:09.000Z"),Zk=isNaN(F2.getFullYear())?new Date("2/19/17"):F2,Q8=Zk.getFullYear()==2017;function fr(t,a){var s=new Date(t);if(Q8)return a>0?s.setTime(s.getTime()+s.getTimezoneOffset()*60*1e3):a<0&&s.setTime(s.getTime()-s.getTimezoneOffset()*60*1e3),s;if(t instanceof Date)return t;if(Zk.getFullYear()==1917&&!isNaN(s.getFullYear())){var r=s.getFullYear();return t.indexOf(""+r)>-1||s.setFullYear(s.getFullYear()+100),s}var n=t.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return t.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function Ku(t,a){if(ma&&Buffer.isBuffer(t)){if(a){if(t[0]==255&&t[1]==254)return yc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return yc(Hk(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(a){if(t[0]==255&&t[1]==254)return yc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return yc(new TextDecoder("utf-16be").decode(t.slice(2)))}var s={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(l){return s[l]||l})}catch{}for(var r=[],n=0;n!=t.length;++n)r.push(String.fromCharCode(t[n]));return r.join("")}function yr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var a={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=yr(t[s]));return a}function Or(t,a){for(var s="";s.length<a;)s+=t;return s}function Hi(t){var a=Number(t);if(!isNaN(a))return isFinite(a)?a:NaN;if(!/\d/.test(t))return a;var s=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return s*=100,""});return!isNaN(a=Number(r))||(r=r.replace(/[(](.*)[)]/,function(n,l){return s=-s,l}),!isNaN(a=Number(r)))?a/s:a}var Z8=["january","february","march","april","may","june","july","august","september","october","november","december"];function K0(t){var a=new Date(t),s=new Date(NaN),r=a.getYear(),n=a.getMonth(),l=a.getDate();if(isNaN(l))return s;var i=t.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Z8.indexOf(i)==-1)return s}else if(i.match(/[a-z]/))return s;return r<0||r>8099?s:(n>0||l>1)&&r!=101?a:t.match(/[^-0-9:,\/\\]/)?s:a}var e_=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(s,r,n){if(t||typeof r=="string")return s.split(r);for(var l=s.split(r),i=[l[0]],c=1;c<l.length;++c)i.push(n),i.push(l[c]);return i}})();function e3(t){return t?t.content&&t.type?Ku(t.content,!0):t.data?_x(t.data):t.asNodeBuffer&&ma?_x(t.asNodeBuffer().toString("binary")):t.asBinary?_x(t.asBinary()):t._data&&t._data.getContent?_x(Ku(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function t3(t){if(!t)return null;if(t.data)return b2(t.data);if(t.asNodeBuffer&&ma)return t.asNodeBuffer();if(t._data&&t._data.getContent){var a=t._data.getContent();return typeof a=="string"?b2(a):Array.prototype.slice.call(a)}return t.content&&t.type?t.content:null}function t_(t){return t&&t.name.slice(-4)===".bin"?t3(t):e3(t)}function ni(t,a){for(var s=t.FullPaths||Rr(t.files),r=a.toLowerCase().replace(/[\/]/g,"\\"),n=r.replace(/\\/g,"/"),l=0;l<s.length;++l){var i=s[l].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==i||n==i)return t.files?t.files[s[l]]:t.FileIndex[l]}return null}function ow(t,a){var s=ni(t,a);if(s==null)throw new Error("Cannot find file "+a+" in zip");return s}function nn(t,a,s){if(!s)return t_(ow(t,a));if(!a)return null;try{return nn(t,a)}catch{return null}}function kl(t,a,s){if(!s)return e3(ow(t,a));if(!a)return null;try{return kl(t,a)}catch{return null}}function s_(t,a,s){return t3(ow(t,a))}function P2(t){for(var a=t.FullPaths||Rr(t.files),s=[],r=0;r<a.length;++r)a[r].slice(-1)!="/"&&s.push(a[r].replace(/^Root Entry[\/]/,""));return s.sort()}function ca(t,a,s){if(t.FullPaths){if(typeof s=="string"){var r;return ma?r=md(s):r=v8(s),$s.utils.cfb_add(t,a,r)}$s.utils.cfb_add(t,a,s)}else t.file(a,s)}function lw(){return $s.utils.cfb_new()}function s3(t,a){switch(a.type){case"base64":return $s.read(t,{type:"base64"});case"binary":return $s.read(t,{type:"binary"});case"buffer":case"array":return $s.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+a.type)}function Rx(t,a){if(t.charAt(0)=="/")return t.slice(1);var s=a.split("/");a.slice(-1)!="/"&&s.pop();for(var r=t.split("/");r.length!==0;){var n=r.shift();n===".."?s.pop():n!=="."&&s.push(n)}return s.join("/")}var Qr=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,a_=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,I2=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,r_=/<[^>]*>/g,po=Qr.match(I2)?I2:r_,n_=/<\w*:/,o_=/<(\/?)\w+:/;function qs(t,a,s){for(var r={},n=0,l=0;n!==t.length&&!((l=t.charCodeAt(n))===32||l===10||l===13);++n);if(a||(r[0]=t.slice(0,n)),n===t.length)return r;var i=t.match(a_),c=0,u="",h=0,m="",b="",g=1;if(i)for(h=0;h!=i.length;++h){for(b=i[h],l=0;l!=b.length&&b.charCodeAt(l)!==61;++l);for(m=b.slice(0,l).trim();b.charCodeAt(l+1)==32;)++l;for(g=(n=b.charCodeAt(l+1))==34||n==39?1:0,u=b.slice(l+1+g,b.length-g),c=0;c!=m.length&&m.charCodeAt(c)!==58;++c);if(c===m.length)m.indexOf("_")>0&&(m=m.slice(0,m.indexOf("_"))),r[m]=u,r[m.toLowerCase()]=u;else{var w=(c===5&&m.slice(0,5)==="xmlns"?"xmlns":"")+m.slice(c+1);if(r[w]&&m.slice(c-3,c)=="ext")continue;r[w]=u,r[w.toLowerCase()]=u}}return r}function Ec(t){return t.replace(o_,"<$1")}var a3={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},iw=qg(a3),Fa=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,a=/_x([\da-fA-F]{4})_/ig;return function s(r){var n=r+"",l=n.indexOf("<![CDATA[");if(l==-1)return n.replace(t,function(c,u){return a3[c]||String.fromCharCode(parseInt(u,c.indexOf("x")>-1?16:10))||c}).replace(a,function(c,u){return String.fromCharCode(parseInt(u,16))});var i=n.indexOf("]]>");return s(n.slice(0,l))+n.slice(l+9,i)+s(n.slice(i+3))}})(),cw=/[&<>'"]/g,l_=/[\u0000-\u0008\u000b-\u001f]/g;function Za(t){var a=t+"";return a.replace(cw,function(s){return iw[s]}).replace(l_,function(s){return"_x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+"_"})}function M2(t){return Za(t).replace(/ /g,"_x0020_")}var r3=/[\u0000-\u001f]/g;function dw(t){var a=t+"";return a.replace(cw,function(s){return iw[s]}).replace(/\n/g,"<br/>").replace(r3,function(s){return"&#x"+("000"+s.charCodeAt(0).toString(16)).slice(-4)+";"})}function i_(t){var a=t+"";return a.replace(cw,function(s){return iw[s]}).replace(r3,function(s){return"&#x"+s.charCodeAt(0).toString(16).toUpperCase()+";"})}var L2=(function(){var t=/&#(\d+);/g;function a(s,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,a)}})();function c_(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function gr(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ky(t){for(var a="",s=0,r=0,n=0,l=0,i=0,c=0;s<t.length;){if(r=t.charCodeAt(s++),r<128){a+=String.fromCharCode(r);continue}if(n=t.charCodeAt(s++),r>191&&r<224){i=(r&31)<<6,i|=n&63,a+=String.fromCharCode(i);continue}if(l=t.charCodeAt(s++),r<240){a+=String.fromCharCode((r&15)<<12|(n&63)<<6|l&63);continue}i=t.charCodeAt(s++),c=((r&7)<<18|(n&63)<<12|(l&63)<<6|i&63)-65536,a+=String.fromCharCode(55296+(c>>>10&1023)),a+=String.fromCharCode(56320+(c&1023))}return a}function O2(t){var a=nu(2*t.length),s,r,n=1,l=0,i=0,c;for(r=0;r<t.length;r+=n)n=1,(c=t.charCodeAt(r))<128?s=c:c<224?(s=(c&31)*64+(t.charCodeAt(r+1)&63),n=2):c<240?(s=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),n=3):(n=4,s=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),s-=65536,i=55296+(s>>>10&1023),s=56320+(s&1023)),i!==0&&(a[l++]=i&255,a[l++]=i>>>8,i=0),a[l++]=s%256,a[l++]=s>>>8;return a.slice(0,l).toString("ucs2")}function _2(t){return md(t,"binary").toString("utf8")}var Pm="foo bar baz",sr=ma&&(_2(Pm)==ky(Pm)&&_2||O2(Pm)==ky(Pm)&&O2)||ky,yc=ma?function(t){return md(t,"utf8").toString("binary")}:function(t){for(var a=[],s=0,r=0,n=0;s<t.length;)switch(r=t.charCodeAt(s++),!0){case r<128:a.push(String.fromCharCode(r));break;case r<2048:a.push(String.fromCharCode(192+(r>>6))),a.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,n=t.charCodeAt(s++)-56320+(r<<10),a.push(String.fromCharCode(240+(n>>18&7))),a.push(String.fromCharCode(144+(n>>12&63))),a.push(String.fromCharCode(128+(n>>6&63))),a.push(String.fromCharCode(128+(n&63)));break;default:a.push(String.fromCharCode(224+(r>>12))),a.push(String.fromCharCode(128+(r>>6&63))),a.push(String.fromCharCode(128+(r&63)))}return a.join("")},eh=(function(){var t={};return function(s,r){var n=s+"|"+(r||"");return t[n]?t[n]:t[n]=new RegExp("<(?:\\w+:)?"+s+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+s+">",r||"")}})(),n3=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(a){return[new RegExp("&"+a[0]+";","ig"),a[1]]});return function(s){for(var r=s.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),n=0;n<t.length;++n)r=r.replace(t[n][0],t[n][1]);return r}})(),d_=(function(){var t={};return function(s){return t[s]!==void 0?t[s]:t[s]=new RegExp("<(?:vt:)?"+s+">([\\s\\S]*?)</(?:vt:)?"+s+">","g")}})(),u_=/<\/?(?:vt:)?variant>/g,x_=/<(?:vt:)([^>]*)>([\s\S]*)</;function B2(t,a){var s=qs(t),r=t.match(d_(s.baseType))||[],n=[];if(r.length!=s.size){if(a.WTF)throw new Error("unexpected vector length "+r.length+" != "+s.size);return n}return r.forEach(function(l){var i=l.replace(u_,"").match(x_);i&&n.push({v:sr(i[2]),t:i[1]})}),n}var o3=/(^\s|\s$|\n)/;function Yn(t,a){return"<"+t+(a.match(o3)?' xml:space="preserve"':"")+">"+a+"</"+t+">"}function th(t){return Rr(t).map(function(a){return" "+a+'="'+t[a]+'"'}).join("")}function fs(t,a,s){return"<"+t+(s!=null?th(s):"")+(a!=null?(a.match(o3)?' xml:space="preserve"':"")+">"+a+"</"+t:"/")+">"}function Xb(t,a){try{return t.toISOString().replace(/\.\d*/,"")}catch(s){if(a)throw s}return""}function h_(t,a){switch(typeof t){case"string":var s=fs("vt:lpwstr",Za(t));return s=s.replace(/&quot;/g,"_x0022_"),s;case"number":return fs((t|0)==t?"vt:i4":"vt:r8",Za(String(t)));case"boolean":return fs("vt:bool",t?"true":"false")}if(t instanceof Date)return fs("vt:filetime",Xb(t));throw new Error("Unable to serialize "+t)}function uw(t){if(ma&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return sr(hu(aw(t)));throw new Error("Bad input format: expected Buffer or string")}var sh=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,fn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},o0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],jl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function m_(t,a){for(var s=1-2*(t[a+7]>>>7),r=((t[a+7]&127)<<4)+(t[a+6]>>>4&15),n=t[a+6]&15,l=5;l>=0;--l)n=n*256+t[a+l];return r==2047?n==0?s*(1/0):NaN:(r==0?r=-1022:(r-=1023,n+=Math.pow(2,52)),s*Math.pow(2,r-52)*n)}function p_(t,a,s){var r=(a<0||1/a==-1/0?1:0)<<7,n=0,l=0,i=r?-a:a;isFinite(i)?i==0?n=l=0:(n=Math.floor(Math.log(i)/Math.LN2),l=i*Math.pow(2,52-n),n<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?n=-1022:(l-=Math.pow(2,52),n+=1023)):(n=2047,l=isNaN(a)?26985:0);for(var c=0;c<=5;++c,l/=256)t[s+c]=l&255;t[s+6]=(n&15)<<4|l&15,t[s+7]=n>>4|r}var R2=function(t){for(var a=[],s=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var n=0,l=t[0][r].length;n<l;n+=s)a.push.apply(a,t[0][r].slice(n,n+s));return a},H2=ma?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(a){return Buffer.isBuffer(a)?a:md(a)})):R2(t)}:R2,U2=function(t,a,s){for(var r=[],n=a;n<s;n+=2)r.push(String.fromCharCode(rd(t,n)));return r.join("").replace(Do,"")},xw=ma?function(t,a,s){return Buffer.isBuffer(t)?t.toString("utf16le",a,s).replace(Do,""):U2(t,a,s)}:U2,$2=function(t,a,s){for(var r=[],n=a;n<a+s;++n)r.push(("0"+t[n].toString(16)).slice(-2));return r.join("")},l3=ma?function(t,a,s){return Buffer.isBuffer(t)?t.toString("hex",a,a+s):$2(t,a,s)}:$2,W2=function(t,a,s){for(var r=[],n=a;n<s;n++)r.push(String.fromCharCode(I0(t,n)));return r.join("")},Ah=ma?function(a,s,r){return Buffer.isBuffer(a)?a.toString("utf8",s,r):W2(a,s,r)}:W2,i3=function(t,a){var s=Cl(t,a);return s>0?Ah(t,a+4,a+4+s-1):""},c3=i3,d3=function(t,a){var s=Cl(t,a);return s>0?Ah(t,a+4,a+4+s-1):""},u3=d3,x3=function(t,a){var s=2*Cl(t,a);return s>0?Ah(t,a+4,a+4+s-1):""},h3=x3,m3=function(a,s){var r=Cl(a,s);return r>0?xw(a,s+4,s+4+r):""},p3=m3,g3=function(t,a){var s=Cl(t,a);return s>0?Ah(t,a+4,a+4+s):""},f3=g3,y3=function(t,a){return m_(t,a)},yg=y3,hw=function(a){return Array.isArray(a)||typeof Uint8Array<"u"&&a instanceof Uint8Array};ma&&(c3=function(a,s){if(!Buffer.isBuffer(a))return i3(a,s);var r=a.readUInt32LE(s);return r>0?a.toString("utf8",s+4,s+4+r-1):""},u3=function(a,s){if(!Buffer.isBuffer(a))return d3(a,s);var r=a.readUInt32LE(s);return r>0?a.toString("utf8",s+4,s+4+r-1):""},h3=function(a,s){if(!Buffer.isBuffer(a))return x3(a,s);var r=2*a.readUInt32LE(s);return a.toString("utf16le",s+4,s+4+r-1)},p3=function(a,s){if(!Buffer.isBuffer(a))return m3(a,s);var r=a.readUInt32LE(s);return a.toString("utf16le",s+4,s+4+r)},f3=function(a,s){if(!Buffer.isBuffer(a))return g3(a,s);var r=a.readUInt32LE(s);return a.toString("utf8",s+4,s+4+r)},yg=function(a,s){return Buffer.isBuffer(a)?a.readDoubleLE(s):y3(a,s)},hw=function(a){return Buffer.isBuffer(a)||Array.isArray(a)||typeof Uint8Array<"u"&&a instanceof Uint8Array});var I0=function(t,a){return t[a]},rd=function(t,a){return t[a+1]*256+t[a]},g_=function(t,a){var s=t[a+1]*256+t[a];return s<32768?s:(65535-s+1)*-1},Cl=function(t,a){return t[a+3]*(1<<24)+(t[a+2]<<16)+(t[a+1]<<8)+t[a]},Mu=function(t,a){return t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a]},f_=function(t,a){return t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]};function Hx(t,a){var s="",r,n,l=[],i,c,u,h;switch(a){case"dbcs":if(h=this.l,ma&&Buffer.isBuffer(this))s=this.slice(this.l,this.l+2*t).toString("utf16le");else for(u=0;u<t;++u)s+=String.fromCharCode(rd(this,h)),h+=2;t*=2;break;case"utf8":s=Ah(this,this.l,this.l+t);break;case"utf16le":t*=2,s=xw(this,this.l,this.l+t);break;case"wstr":return Hx.call(this,t,"dbcs");case"lpstr-ansi":s=c3(this,this.l),t=4+Cl(this,this.l);break;case"lpstr-cp":s=u3(this,this.l),t=4+Cl(this,this.l);break;case"lpwstr":s=h3(this,this.l),t=4+2*Cl(this,this.l);break;case"lpp4":t=4+Cl(this,this.l),s=p3(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Cl(this,this.l),s=f3(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,s="";(i=I0(this,this.l+t++))!==0;)l.push(Fm(i));s=l.join("");break;case"_wstr":for(t=0,s="";(i=rd(this,this.l+t))!==0;)l.push(Fm(i)),t+=2;t+=2,s=l.join("");break;case"dbcs-cont":for(s="",h=this.l,u=0;u<t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return i=I0(this,h),this.l=h+1,c=Hx.call(this,t-u,i?"dbcs-cont":"sbcs-cont"),l.join("")+c;l.push(Fm(rd(this,h))),h+=2}s=l.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(s="",h=this.l,u=0;u!=t;++u){if(this.lens&&this.lens.indexOf(h)!==-1)return i=I0(this,h),this.l=h+1,c=Hx.call(this,t-u,i?"dbcs-cont":"sbcs-cont"),l.join("")+c;l.push(Fm(I0(this,h))),h+=1}s=l.join("");break;default:switch(t){case 1:return r=I0(this,this.l),this.l++,r;case 2:return r=(a==="i"?g_:rd)(this,this.l),this.l+=2,r;case 4:case-4:return a==="i"||(this[this.l+3]&128)===0?(r=(t>0?Mu:f_)(this,this.l),this.l+=4,r):(n=Cl(this,this.l),this.l+=4,n);case 8:case-8:if(a==="f")return t==8?n=yg(this,this.l):n=yg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;t=8;case 16:s=l3(this,this.l,t);break}}return this.l+=t,s}var y_=function(t,a,s){t[s]=a&255,t[s+1]=a>>>8&255,t[s+2]=a>>>16&255,t[s+3]=a>>>24&255},b_=function(t,a,s){t[s]=a&255,t[s+1]=a>>8&255,t[s+2]=a>>16&255,t[s+3]=a>>24&255},v_=function(t,a,s){t[s]=a&255,t[s+1]=a>>>8&255};function w_(t,a,s){var r=0,n=0;if(s==="dbcs"){for(n=0;n!=a.length;++n)v_(this,a.charCodeAt(n),this.l+2*n);r=2*a.length}else if(s==="sbcs"){for(a=a.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=a.length;++n)this[this.l+n]=a.charCodeAt(n)&255;r=a.length}else if(s==="hex"){for(;n<t;++n)this[this.l++]=parseInt(a.slice(2*n,2*n+2),16)||0;return this}else if(s==="utf16le"){var l=Math.min(this.l+t,this.length);for(n=0;n<Math.min(a.length,t);++n){var i=a.charCodeAt(n);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=a&255;break;case 2:r=2,this[this.l]=a&255,a>>>=8,this[this.l+1]=a&255;break;case 3:r=3,this[this.l]=a&255,a>>>=8,this[this.l+1]=a&255,a>>>=8,this[this.l+2]=a&255;break;case 4:r=4,y_(this,a,this.l);break;case 8:if(r=8,s==="f"){p_(this,a,this.l);break}case 16:break;case-4:r=4,b_(this,a,this.l);break}return this.l+=r,this}function b3(t,a){var s=l3(this,this.l,t.length>>1);if(s!==t)throw new Error(a+"Expected "+t+" saw "+s);this.l+=t.length>>1}function Vn(t,a){t.l=a,t.read_shift=Hx,t.chk=b3,t.write_shift=w_}function mo(t,a){t.l+=a}function es(t){var a=nu(t);return Vn(a,0),a}function pd(t,a,s){if(t){var r,n,l;Vn(t,t.l||0);for(var i=t.length,c=0,u=0;t.l<i;){c=t.read_shift(1),c&128&&(c=(c&127)+((t.read_shift(1)&127)<<7));var h=ih[c]||ih[65535];for(r=t.read_shift(1),l=r&127,n=1;n<4&&r&128;++n)l+=((r=t.read_shift(1))&127)<<7*n;u=t.l+l;var m=h.f&&h.f(t,l,s);if(t.l=u,a(m,h,c))return}}}function el(){var t=[],a=ma?256:2048,s=function(h){var m=es(h);return Vn(m,0),m},r=s(a),n=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},l=function(h){return r&&h<r.length-r.l?r:(n(),r=s(Math.max(h+1,a)))},i=function(){return n(),Fn(t)},c=function(h){n(),r=h,r.l==null&&(r.l=r.length),l(a)};return{next:l,push:c,end:i,_bufs:t}}function as(t,a,s,r){var n=+a,l;if(!isNaN(n)){r||(r=ih[n].p||(s||[]).length||0),l=1+(n>=128?1:0)+1,r>=128&&++l,r>=16384&&++l,r>=2097152&&++l;var i=t.next(l);n<=127?i.write_shift(1,n):(i.write_shift(1,(n&127)+128),i.write_shift(1,n>>7));for(var c=0;c!=4;++c)if(r>=128)i.write_shift(1,(r&127)+128),r>>=7;else{i.write_shift(1,r);break}r>0&&hw(s)&&t.push(s)}}function Ux(t,a,s){var r=yr(t);if(a.s?(r.cRel&&(r.c+=a.s.c),r.rRel&&(r.r+=a.s.r)):(r.cRel&&(r.c+=a.c),r.rRel&&(r.r+=a.r)),!s||s.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function G2(t,a,s){var r=yr(t);return r.s=Ux(r.s,a.s,s),r.e=Ux(r.e,a.s,s),r}function $x(t,a){if(t.cRel&&t.c<0)for(t=yr(t);t.c<0;)t.c+=a>8?16384:256;if(t.rRel&&t.r<0)for(t=yr(t);t.r<0;)t.r+=a>8?1048576:a>5?65536:16384;var s=Ys(t);return!t.cRel&&t.cRel!=null&&(s=C_(s)),!t.rRel&&t.rRel!=null&&(s=N_(s)),s}function Dy(t,a){return t.s.r==0&&!t.s.rRel&&t.e.r==(a.biff>=12?1048575:a.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Er(t.s.c)+":"+(t.e.cRel?"":"$")+Er(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(a.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Kr(t.s.r)+":"+(t.e.rRel?"":"$")+Kr(t.e.r):$x(t.s,a.biff)+":"+$x(t.e,a.biff)}function mw(t){return parseInt(j_(t),10)-1}function Kr(t){return""+(t+1)}function N_(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function j_(t){return t.replace(/\$(\d+)$/,"$1")}function pw(t){for(var a=S_(t),s=0,r=0;r!==a.length;++r)s=26*s+a.charCodeAt(r)-64;return s-1}function Er(t){if(t<0)throw new Error("invalid column "+t);var a="";for(++t;t;t=Math.floor((t-1)/26))a=String.fromCharCode((t-1)%26+65)+a;return a}function C_(t){return t.replace(/^([A-Z])/,"$$$1")}function S_(t){return t.replace(/^\$([A-Z])/,"$1")}function k_(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Tr(t){for(var a=0,s=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n>=48&&n<=57?a=10*a+(n-48):n>=65&&n<=90&&(s=26*s+(n-64))}return{c:s-1,r:a-1}}function Ys(t){for(var a=t.c+1,s="";a;a=(a-1)/26|0)s=String.fromCharCode((a-1)%26+65)+s;return s+(t.r+1)}function sl(t){var a=t.indexOf(":");return a==-1?{s:Tr(t),e:Tr(t)}:{s:Tr(t.slice(0,a)),e:Tr(t.slice(a+1))}}function la(t,a){return typeof a>"u"||typeof a=="number"?la(t.s,t.e):(typeof t!="string"&&(t=Ys(t)),typeof a!="string"&&(a=Ys(a)),t==a?t:t+":"+a)}function Pa(t){var a={s:{c:0,r:0},e:{c:0,r:0}},s=0,r=0,n=0,l=t.length;for(s=0;r<l&&!((n=t.charCodeAt(r)-64)<1||n>26);++r)s=26*s+n;for(a.s.c=--s,s=0;r<l&&!((n=t.charCodeAt(r)-48)<0||n>9);++r)s=10*s+n;if(a.s.r=--s,r===l||n!=10)return a.e.c=a.s.c,a.e.r=a.s.r,a;for(++r,s=0;r!=l&&!((n=t.charCodeAt(r)-64)<1||n>26);++r)s=26*s+n;for(a.e.c=--s,s=0;r!=l&&!((n=t.charCodeAt(r)-48)<0||n>9);++r)s=10*s+n;return a.e.r=--s,a}function z2(t,a){var s=t.t=="d"&&a instanceof Date;if(t.z!=null)try{return t.w=ui(t.z,s?yn(a):a)}catch{}try{return t.w=ui((t.XF||{}).numFmtId||(s?14:0),s?yn(a):a)}catch{return""+a}}function xd(t,a,s){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&s&&s.dateNF&&(t.z=s.dateNF),t.t=="e"?gd[t.v]||t.v:a==null?z2(t,t.v):z2(t,a))}function mu(t,a){var s=a&&a.sheet?a.sheet:"Sheet1",r={};return r[s]=t,{SheetNames:[s],Sheets:r}}function v3(t,a,s){var r=s||{},n=t?Array.isArray(t):r.dense,l=t||(n?[]:{}),i=0,c=0;if(l&&r.origin!=null){if(typeof r.origin=="number")i=r.origin;else{var u=typeof r.origin=="string"?Tr(r.origin):r.origin;i=u.r,c=u.c}l["!ref"]||(l["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var m=Pa(l["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),i==-1&&(h.e.r=i=m.e.r+1)}for(var b=0;b!=a.length;++b)if(a[b]){if(!Array.isArray(a[b]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=a[b].length;++g)if(!(typeof a[b][g]>"u")){var w={v:a[b][g]},p=i+b,v=c+g;if(h.s.r>p&&(h.s.r=p),h.s.c>v&&(h.s.c=v),h.e.r<p&&(h.e.r=p),h.e.c<v&&(h.e.c=v),a[b][g]&&typeof a[b][g]=="object"&&!Array.isArray(a[b][g])&&!(a[b][g]instanceof Date))w=a[b][g];else if(Array.isArray(w.v)&&(w.f=a[b][g][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(r.nullError)w.t="e",w.v=0;else if(r.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=r.dateNF||Vs[14],r.cellDates?(w.t="d",w.w=ui(w.z,yn(w.v))):(w.t="n",w.v=yn(w.v),w.w=ui(w.z,w.v))):w.t="s";if(n)l[p]||(l[p]=[]),l[p][v]&&l[p][v].z&&(w.z=l[p][v].z),l[p][v]=w;else{var f=Ys({c:v,r:p});l[f]&&l[f].z&&(w.z=l[f].z),l[f]=w}}}return h.s.c<1e7&&(l["!ref"]=la(h)),l}function cx(t,a){return v3(null,t,a)}function D_(t){return t.read_shift(4,"i")}function Ui(t,a){return a||(a=es(4)),a.write_shift(4,t),a}function xo(t){var a=t.read_shift(4);return a===0?"":t.read_shift(a,"dbcs")}function Pn(t,a){var s=!1;return a==null&&(s=!0,a=es(4+2*t.length)),a.write_shift(4,t.length),t.length>0&&a.write_shift(0,t,"dbcs"),s?a.slice(0,a.l):a}function E_(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function T_(t,a){return a||(a=es(4)),a.write_shift(2,0),a.write_shift(2,0),a}function gw(t,a){var s=t.l,r=t.read_shift(1),n=xo(t),l=[],i={t:n,h:n};if((r&1)!==0){for(var c=t.read_shift(4),u=0;u!=c;++u)l.push(E_(t));i.r=l}else i.r=[{ich:0,ifnt:0}];return t.l=s+a,i}function A_(t,a){var s=!1;return a==null&&(s=!0,a=es(15+4*t.t.length)),a.write_shift(1,0),Pn(t.t,a),s?a.slice(0,a.l):a}var F_=gw;function P_(t,a){var s=!1;return a==null&&(s=!0,a=es(23+4*t.t.length)),a.write_shift(1,1),Pn(t.t,a),a.write_shift(4,1),T_({},a),s?a.slice(0,a.l):a}function xi(t){var a=t.read_shift(4),s=t.read_shift(2);return s+=t.read_shift(1)<<16,t.l++,{c:a,iStyleRef:s}}function l0(t,a){return a==null&&(a=es(8)),a.write_shift(-4,t.c),a.write_shift(3,t.iStyleRef||t.s),a.write_shift(1,0),a}function i0(t){var a=t.read_shift(2);return a+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:a}}function c0(t,a){return a==null&&(a=es(4)),a.write_shift(3,t.iStyleRef||t.s),a.write_shift(1,0),a}var I_=xo,w3=Pn;function fw(t){var a=t.read_shift(4);return a===0||a===4294967295?"":t.read_shift(a,"dbcs")}function bg(t,a){var s=!1;return a==null&&(s=!0,a=es(127)),a.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&a.write_shift(0,t,"dbcs"),s?a.slice(0,a.l):a}var M_=xo,Jb=fw,yw=bg;function bw(t){var a=t.slice(t.l,t.l+4),s=a[0]&1,r=a[0]&2;t.l+=4;var n=r===0?yg([0,0,0,0,a[0]&252,a[1],a[2],a[3]],0):Mu(a,0)>>2;return s?n/100:n}function N3(t,a){a==null&&(a=es(4));var s=0,r=0,n=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:n==(n|0)&&n>=-536870912&&n<1<<29&&(r=1,s=1),r)a.write_shift(-4,((s?n:t)<<2)+(s+2));else throw new Error("unsupported RkNumber "+t)}function j3(t){var a={s:{},e:{}};return a.s.r=t.read_shift(4),a.e.r=t.read_shift(4),a.s.c=t.read_shift(4),a.e.c=t.read_shift(4),a}function L_(t,a){return a||(a=es(16)),a.write_shift(4,t.s.r),a.write_shift(4,t.e.r),a.write_shift(4,t.s.c),a.write_shift(4,t.e.c),a}var d0=j3,dx=L_;function uo(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function qu(t,a){return(a||es(8)).write_shift(8,t,"f")}function O_(t){var a={},s=t.read_shift(1),r=s>>>1,n=t.read_shift(1),l=t.read_shift(2,"i"),i=t.read_shift(1),c=t.read_shift(1),u=t.read_shift(1);switch(t.l++,r){case 0:a.auto=1;break;case 1:a.index=n;var h=Ru[n];h&&(a.rgb=rh(h));break;case 2:a.rgb=rh([i,c,u]);break;case 3:a.theme=n;break}return l!=0&&(a.tint=l>0?l/32767:l/32768),a}function vg(t,a){if(a||(a=es(8)),!t||t.auto)return a.write_shift(4,0),a.write_shift(4,0),a;t.index!=null?(a.write_shift(1,2),a.write_shift(1,t.index)):t.theme!=null?(a.write_shift(1,6),a.write_shift(1,t.theme)):(a.write_shift(1,5),a.write_shift(1,0));var s=t.tint||0;if(s>0?s*=32767:s<0&&(s*=32768),a.write_shift(2,s),!t.rgb||t.theme!=null)a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),a.write_shift(1,parseInt(r.slice(0,2),16)),a.write_shift(1,parseInt(r.slice(2,4),16)),a.write_shift(1,parseInt(r.slice(4,6),16)),a.write_shift(1,255)}return a}function __(t){var a=t.read_shift(1);t.l++;var s={fBold:a&1,fItalic:a&2,fUnderline:a&4,fStrikeout:a&8,fOutline:a&16,fShadow:a&32,fCondense:a&64,fExtend:a&128};return s}function B_(t,a){a||(a=es(2));var s=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return a.write_shift(1,s),a.write_shift(1,0),a}function C3(t,a){var s={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return s[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,a==1?"lpstr":"lpwstr")}function R_(t){return C3(t,1)}function H_(t){return C3(t,2)}var vw=2,qo=3,Im=11,V2=12,wg=19,Mm=64,U_=65,$_=71,W_=4108,G_=4126,Tn=80,S3=81,z_=[Tn,S3],Qb={1:{n:"CodePage",t:vw},2:{n:"Category",t:Tn},3:{n:"PresentationFormat",t:Tn},4:{n:"ByteCount",t:qo},5:{n:"LineCount",t:qo},6:{n:"ParagraphCount",t:qo},7:{n:"SlideCount",t:qo},8:{n:"NoteCount",t:qo},9:{n:"HiddenCount",t:qo},10:{n:"MultimediaClipCount",t:qo},11:{n:"ScaleCrop",t:Im},12:{n:"HeadingPairs",t:W_},13:{n:"TitlesOfParts",t:G_},14:{n:"Manager",t:Tn},15:{n:"Company",t:Tn},16:{n:"LinksUpToDate",t:Im},17:{n:"CharacterCount",t:qo},19:{n:"SharedDoc",t:Im},22:{n:"HyperlinksChanged",t:Im},23:{n:"AppVersion",t:qo,p:"version"},24:{n:"DigSig",t:U_},26:{n:"ContentType",t:Tn},27:{n:"ContentStatus",t:Tn},28:{n:"Language",t:Tn},29:{n:"Version",t:Tn},255:{},2147483648:{n:"Locale",t:wg},2147483651:{n:"Behavior",t:wg},1919054434:{}},Zb={1:{n:"CodePage",t:vw},2:{n:"Title",t:Tn},3:{n:"Subject",t:Tn},4:{n:"Author",t:Tn},5:{n:"Keywords",t:Tn},6:{n:"Comments",t:Tn},7:{n:"Template",t:Tn},8:{n:"LastAuthor",t:Tn},9:{n:"RevNumber",t:Tn},10:{n:"EditTime",t:Mm},11:{n:"LastPrinted",t:Mm},12:{n:"CreatedDate",t:Mm},13:{n:"ModifiedDate",t:Mm},14:{n:"PageCount",t:qo},15:{n:"WordCount",t:qo},16:{n:"CharCount",t:qo},17:{n:"Thumbnail",t:$_},18:{n:"Application",t:Tn},19:{n:"DocSecurity",t:qo},255:{},2147483648:{n:"Locale",t:wg},2147483651:{n:"Behavior",t:wg},1919054434:{}},Y2={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},V_=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Y_(t){return t.map(function(a){return[a>>16&255,a>>8&255,a&255]})}var K_=Y_([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ru=yr(K_),gd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},k3={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ev={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Lm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ww(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function q_(t){var a=ww();if(!t||!t.match)return a;var s={};if((t.match(po)||[]).forEach(function(r){var n=qs(r);switch(n[0].replace(n_,"<")){case"<?xml":break;case"<Types":a.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":s[n.Extension]=n.ContentType;break;case"<Override":a[ev[n.ContentType]]!==void 0&&a[ev[n.ContentType]].push(n.PartName);break}}),a.xmlns!==fn.CT)throw new Error("Unknown Namespace: "+a.xmlns);return a.calcchain=a.calcchains.length>0?a.calcchains[0]:"",a.sst=a.strs.length>0?a.strs[0]:"",a.style=a.styles.length>0?a.styles[0]:"",a.defaults=s,delete a.calcchains,a}function D3(t,a){var s=q8(ev),r=[],n;r[r.length]=Qr,r[r.length]=fs("Types",null,{xmlns:fn.CT,"xmlns:xsd":fn.xsd,"xmlns:xsi":fn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return fs("Default",null,{Extension:u[0],ContentType:u[1]})}));var l=function(u){t[u]&&t[u].length>0&&(n=t[u][0],r[r.length]=fs("Override",null,{PartName:(n[0]=="/"?"":"/")+n,ContentType:Lm[u][a.bookType]||Lm[u].xlsx}))},i=function(u){(t[u]||[]).forEach(function(h){r[r.length]=fs("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Lm[u][a.bookType]||Lm[u].xlsx})})},c=function(u){(t[u]||[]).forEach(function(h){r[r.length]=fs("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:s[u][0]})})};return l("workbooks"),i("sheets"),i("charts"),c("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),i("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var fa={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ah(t){var a=t.lastIndexOf("/");return t.slice(0,a+1)+"_rels/"+t.slice(a+1)+".rels"}function Wx(t,a){var s={"!id":{}};if(!t)return s;a.charAt(0)!=="/"&&(a="/"+a);var r={};return(t.match(po)||[]).forEach(function(n){var l=qs(n);if(l[0]==="<Relationship"){var i={};i.Type=l.Type,i.Target=l.Target,i.Id=l.Id,l.TargetMode&&(i.TargetMode=l.TargetMode);var c=l.TargetMode==="External"?l.Target:Rx(l.Target,a);s[c]=i,r[l.Id]=i}}),s["!id"]=r,s}function R0(t){var a=[Qr,fs("Relationships",null,{xmlns:fn.RELS})];return Rr(t["!id"]).forEach(function(s){a[a.length]=fs("Relationship",null,t["!id"][s])}),a.length>2&&(a[a.length]="</Relationships>",a[1]=a[1].replace("/>",">")),a.join("")}function Qa(t,a,s,r,n,l){if(n||(n={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),a<0)for(a=t["!idx"];t["!id"]["rId"+a];++a);if(t["!idx"]=a+1,n.Id="rId"+a,n.Type=r,n.Target=s,[fa.HLINK,fa.XPATH,fa.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),t["!id"][n.Id])throw new Error("Cannot rewrite rId "+a);return t["!id"][n.Id]=n,t[("/"+n.Target).replace("//","/")]=n,a}var X_="application/vnd.oasis.opendocument.spreadsheet";function J_(t,a){for(var s=uw(t),r,n;r=sh.exec(s);)switch(r[3]){case"manifest":break;case"file-entry":if(n=qs(r[0],!1),n.path=="/"&&n.type!==X_)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(a&&a.WTF)throw r}}function Q_(t){var a=[Qr];a.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),a.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var s=0;s<t.length;++s)a.push('  <manifest:file-entry manifest:full-path="'+t[s][0]+'" manifest:media-type="'+t[s][1]+`"/>
`);return a.push("</manifest:manifest>"),a.join("")}function K2(t,a,s){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(s||"odf")+"#"+a+`"/>
`,`  </rdf:Description>
`].join("")}function Z_(t,a){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+a+`"/>
`,`  </rdf:Description>
`].join("")}function eB(t){var a=[Qr];a.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var s=0;s!=t.length;++s)a.push(K2(t[s][0],t[s][1])),a.push(Z_("",t[s][0]));return a.push(K2("","Document","pkg")),a.push("</rdf:RDF>"),a.join("")}function E3(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+hg.version+"</meta:generator></office:meta></office:document-meta>"}var ci=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],tB=(function(){for(var t=new Array(ci.length),a=0;a<ci.length;++a){var s=ci[a],r="(?:"+s[0].slice(0,s[0].indexOf(":"))+":)"+s[0].slice(s[0].indexOf(":")+1);t[a]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function T3(t){var a={};t=sr(t);for(var s=0;s<ci.length;++s){var r=ci[s],n=t.match(tB[s]);n!=null&&n.length>0&&(a[r[1]]=Fa(n[1])),r[2]==="date"&&a[r[1]]&&(a[r[1]]=fr(a[r[1]]))}return a}function Ey(t,a,s,r,n){n[t]!=null||a==null||a===""||(n[t]=a,a=Za(a),r[r.length]=s?fs(t,a,s):Yn(t,a))}function A3(t,a){var s=a||{},r=[Qr,fs("cp:coreProperties",null,{"xmlns:cp":fn.CORE_PROPS,"xmlns:dc":fn.dc,"xmlns:dcterms":fn.dcterms,"xmlns:dcmitype":fn.dcmitype,"xmlns:xsi":fn.xsi})],n={};if(!t&&!s.Props)return r.join("");t&&(t.CreatedDate!=null&&Ey("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Xb(t.CreatedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),t.ModifiedDate!=null&&Ey("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Xb(t.ModifiedDate,s.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var l=0;l!=ci.length;++l){var i=ci[l],c=s.Props&&s.Props[i[1]]!=null?s.Props[i[1]]:t?t[i[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Ey(i[0],c,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Hu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],F3=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function P3(t,a,s,r){var n=[];if(typeof t=="string")n=B2(t,r);else for(var l=0;l<t.length;++l)n=n.concat(t[l].map(function(m){return{v:m}}));var i=typeof a=="string"?B2(a,r).map(function(m){return m.v}):a,c=0,u=0;if(i.length>0)for(var h=0;h!==n.length;h+=2){switch(u=+n[h+1].v,n[h].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":s.Worksheets=u,s.SheetNames=i.slice(c,c+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":s.NamedRanges=u,s.DefinedNames=i.slice(c,c+u);break;case"Charts":case"Diagramme":s.Chartsheets=u,s.ChartNames=i.slice(c,c+u);break}c+=u}}function sB(t,a,s){var r={};return a||(a={}),t=sr(t),Hu.forEach(function(n){var l=(t.match(eh(n[0]))||[])[1];switch(n[2]){case"string":l&&(a[n[1]]=Fa(l));break;case"bool":a[n[1]]=l==="true";break;case"raw":var i=t.match(new RegExp("<"+n[0]+"[^>]*>([\\s\\S]*?)</"+n[0]+">"));i&&i.length>0&&(r[n[1]]=i[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&P3(r.HeadingPairs,r.TitlesOfParts,a,s),a}function I3(t){var a=[],s=fs;return t||(t={}),t.Application="SheetJS",a[a.length]=Qr,a[a.length]=fs("Properties",null,{xmlns:fn.EXT_PROPS,"xmlns:vt":fn.vt}),Hu.forEach(function(r){if(t[r[1]]!==void 0){var n;switch(r[2]){case"string":n=Za(String(t[r[1]]));break;case"bool":n=t[r[1]]?"true":"false";break}n!==void 0&&(a[a.length]=s(r[0],n))}}),a[a.length]=s("HeadingPairs",s("vt:vector",s("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+s("vt:variant",s("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),a[a.length]=s("TitlesOfParts",s("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Za(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),a.length>2&&(a[a.length]="</Properties>",a[1]=a[1].replace("/>",">")),a.join("")}var aB=/<[^>]+>[^<]*/g;function rB(t,a){var s={},r="",n=t.match(aB);if(n)for(var l=0;l!=n.length;++l){var i=n[l],c=qs(i);switch(c[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Fa(c.name);break;case"</property>":r=null;break;default:if(i.indexOf("<vt:")===0){var u=i.split(">"),h=u[0].slice(4),m=u[1];switch(h){case"lpstr":case"bstr":case"lpwstr":s[r]=Fa(m);break;case"bool":s[r]=gr(m);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":s[r]=parseInt(m,10);break;case"r4":case"r8":case"decimal":s[r]=parseFloat(m);break;case"filetime":case"date":s[r]=fr(m);break;case"cy":case"error":s[r]=Fa(m);break;default:if(h.slice(-1)=="/")break;a.WTF&&typeof console<"u"&&console.warn("Unexpected",i,h,u)}}else if(i.slice(0,2)!=="</"){if(a.WTF)throw new Error(i)}}}return s}function M3(t){var a=[Qr,fs("Properties",null,{xmlns:fn.CUST_PROPS,"xmlns:vt":fn.vt})];if(!t)return a.join("");var s=1;return Rr(t).forEach(function(n){++s,a[a.length]=fs("property",h_(t[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:s,name:Za(n)})}),a.length>2&&(a[a.length]="</Properties>",a[1]=a[1].replace("/>",">")),a.join("")}var tv={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Ty;function nB(t,a,s){Ty||(Ty=qg(tv)),a=Ty[a]||a,t[a]=s}function oB(t,a){var s=[];return Rr(tv).map(function(r){for(var n=0;n<ci.length;++n)if(ci[n][1]==r)return ci[n];for(n=0;n<Hu.length;++n)if(Hu[n][1]==r)return Hu[n];throw r}).forEach(function(r){if(t[r[1]]!=null){var n=a&&a.Props&&a.Props[r[1]]!=null?a.Props[r[1]]:t[r[1]];switch(r[2]){case"date":n=new Date(n).toISOString().replace(/\.\d*Z/,"Z");break}typeof n=="number"?n=String(n):n===!0||n===!1?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),s.push(Yn(tv[r[1]]||r[1],n))}}),fs("DocumentProperties",s.join(""),{xmlns:jl.o})}function lB(t,a){var s=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return t&&Rr(t).forEach(function(l){if(Object.prototype.hasOwnProperty.call(t,l)){for(var i=0;i<ci.length;++i)if(l==ci[i][1])return;for(i=0;i<Hu.length;++i)if(l==Hu[i][1])return;for(i=0;i<s.length;++i)if(l==s[i])return;var c=t[l],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),n.push(fs(M2(l),c,{"dt:dt":u}))}}),a&&Rr(a).forEach(function(l){if(Object.prototype.hasOwnProperty.call(a,l)&&!(t&&Object.prototype.hasOwnProperty.call(t,l))){var i=a[l],c="string";typeof i=="number"?(c="float",i=String(i)):i===!0||i===!1?(c="boolean",i=i?"1":"0"):i instanceof Date?(c="dateTime.tz",i=i.toISOString()):i=String(i),n.push(fs(M2(l),i,{"dt:dt":c}))}}),"<"+r+' xmlns="'+jl.o+'">'+n.join("")+"</"+r+">"}function Nw(t){var a=t.read_shift(4),s=t.read_shift(4);return new Date((s/1e7*Math.pow(2,32)+a/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function iB(t){var a=typeof t=="string"?new Date(Date.parse(t)):t,s=a.getTime()/1e3+11644473600,r=s%Math.pow(2,32),n=(s-r)/Math.pow(2,32);r*=1e7,n*=1e7;var l=r/Math.pow(2,32)|0;l>0&&(r=r%Math.pow(2,32),n+=l);var i=es(8);return i.write_shift(4,r),i.write_shift(4,n),i}function L3(t,a,s){var r=t.l,n=t.read_shift(0,"lpstr-cp");if(s)for(;t.l-r&3;)++t.l;return n}function O3(t,a,s){var r=t.read_shift(0,"lpwstr");return r}function _3(t,a,s){return a===31?O3(t):L3(t,a,s)}function sv(t,a,s){return _3(t,a,s===!1?0:4)}function cB(t,a){if(!a)throw new Error("VtUnalignedString must have positive length");return _3(t,a,0)}function dB(t){for(var a=t.read_shift(4),s=[],r=0;r!=a;++r){var n=t.l;s[r]=t.read_shift(0,"lpwstr").replace(Do,""),t.l-n&2&&(t.l+=2)}return s}function uB(t){for(var a=t.read_shift(4),s=[],r=0;r!=a;++r)s[r]=t.read_shift(0,"lpstr-cp").replace(Do,"");return s}function xB(t){var a=t.l,s=Ng(t,S3);t[t.l]==0&&t[t.l+1]==0&&t.l-a&2&&(t.l+=2);var r=Ng(t,qo);return[s,r]}function hB(t){for(var a=t.read_shift(4),s=[],r=0;r<a/2;++r)s.push(xB(t));return s}function q2(t,a){for(var s=t.read_shift(4),r={},n=0;n!=s;++n){var l=t.read_shift(4),i=t.read_shift(4);r[l]=t.read_shift(i,a===1200?"utf16le":"utf8").replace(Do,"").replace(Bx,"!"),a===1200&&i%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function B3(t){var a=t.read_shift(4),s=t.slice(t.l,t.l+a);return t.l+=a,(a&3)>0&&(t.l+=4-(a&3)&3),s}function mB(t){var a={};return a.Size=t.read_shift(4),t.l+=a.Size+3-(a.Size-1)%4,a}function Ng(t,a,s){var r=t.read_shift(2),n,l=s||{};if(t.l+=2,a!==V2&&r!==a&&z_.indexOf(a)===-1&&!((a&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+a+" saw "+r);switch(a===V2?r:a){case 2:return n=t.read_shift(2,"i"),l.raw||(t.l+=2),n;case 3:return n=t.read_shift(4,"i"),n;case 11:return t.read_shift(4)!==0;case 19:return n=t.read_shift(4),n;case 30:return L3(t,r,4).replace(Do,"");case 31:return O3(t);case 64:return Nw(t);case 65:return B3(t);case 71:return mB(t);case 80:return sv(t,r,!l.raw).replace(Do,"");case 81:return cB(t,r).replace(Do,"");case 4108:return hB(t);case 4126:case 4127:return r==4127?dB(t):uB(t);default:throw new Error("TypedPropertyValue unrecognized type "+a+" "+r)}}function X2(t,a){var s=es(4),r=es(4);switch(s.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,a);break;case 5:r=es(8),r.write_shift(8,a,"f");break;case 11:r.write_shift(4,a?1:0);break;case 64:r=iB(a);break;case 31:case 80:for(r=es(4+2*(a.length+1)+(a.length%2?0:2)),r.write_shift(4,a.length+1),r.write_shift(0,a,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+a)}return Fn([s,r])}function J2(t,a){var s=t.l,r=t.read_shift(4),n=t.read_shift(4),l=[],i=0,c=0,u=-1,h={};for(i=0;i!=n;++i){var m=t.read_shift(4),b=t.read_shift(4);l[i]=[m,b+s]}l.sort(function(N,C){return N[1]-C[1]});var g={};for(i=0;i!=n;++i){if(t.l!==l[i][1]){var w=!0;if(i>0&&a)switch(a[l[i-1][0]].t){case 2:t.l+2===l[i][1]&&(t.l+=2,w=!1);break;case 80:t.l<=l[i][1]&&(t.l=l[i][1],w=!1);break;case 4108:t.l<=l[i][1]&&(t.l=l[i][1],w=!1);break}if((!a||i==0)&&t.l<=l[i][1]&&(w=!1,t.l=l[i][1]),w)throw new Error("Read Error: Expected address "+l[i][1]+" at "+t.l+" :"+i)}if(a){var p=a[l[i][0]];if(g[p.n]=Ng(t,p.t,{raw:!0}),p.p==="version"&&(g[p.n]=String(g[p.n]>>16)+"."+("0000"+String(g[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(g[p.n]){case 0:g[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:_i(c=g[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[p.n])}}else if(l[i][0]===1){if(c=g.CodePage=Ng(t,vw),_i(c),u!==-1){var v=t.l;t.l=l[u][1],h=q2(t,c),t.l=v}}else if(l[i][0]===0){if(c===0){u=i,t.l=l[i+1][1];continue}h=q2(t,c)}else{var f=h[l[i][0]],y;switch(t[t.l]){case 65:t.l+=4,y=B3(t);break;case 30:t.l+=4,y=sv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,y=sv(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,y=t.read_shift(4,"i");break;case 19:t.l+=4,y=t.read_shift(4);break;case 5:t.l+=4,y=t.read_shift(8,"f");break;case 11:t.l+=4,y=Vr(t,4);break;case 64:t.l+=4,y=fr(Nw(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[f]=y}}return t.l=s+r,g}var R3=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pB(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Q2(t,a,s){var r=es(8),n=[],l=[],i=8,c=0,u=es(8),h=es(8);if(u.write_shift(4,2),u.write_shift(4,1200),h.write_shift(4,1),l.push(u),n.push(h),i+=8+u.length,!a){h=es(8),h.write_shift(4,0),n.unshift(h);var m=[es(4)];for(m[0].write_shift(4,t.length),c=0;c<t.length;++c){var b=t[c][0];for(u=es(8+2*(b.length+1)+(b.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,b.length+1),u.write_shift(0,b,"dbcs");u.l!=u.length;)u.write_shift(1,0);m.push(u)}u=Fn(m),l.unshift(u),i+=8+u.length}for(c=0;c<t.length;++c)if(!(a&&!a[t[c][0]])&&!(R3.indexOf(t[c][0])>-1||F3.indexOf(t[c][0])>-1)&&t[c][1]!=null){var g=t[c][1],w=0;if(a){w=+a[t[c][0]];var p=s[w];if(p.p=="version"&&typeof g=="string"){var v=g.split(".");g=(+v[0]<<16)+(+v[1]||0)}u=X2(p.t,g)}else{var f=pB(g);f==-1&&(f=31,g=String(g)),u=X2(f,g)}l.push(u),h=es(8),h.write_shift(4,a?w:2+c),n.push(h),i+=8+u.length}var y=8*(l.length+1);for(c=0;c<l.length;++c)n[c].write_shift(4,y),y+=l[c].length;return r.write_shift(4,i),r.write_shift(4,l.length),Fn([r].concat(n).concat(l))}function Z2(t,a,s){var r=t.content;if(!r)return{};Vn(r,0);var n,l,i,c,u=0;r.chk("feff","Byte Order: "),r.read_shift(2);var h=r.read_shift(4),m=r.read_shift(16);if(m!==$s.utils.consts.HEADER_CLSID&&m!==s)throw new Error("Bad PropertySet CLSID "+m);if(n=r.read_shift(4),n!==1&&n!==2)throw new Error("Unrecognized #Sets: "+n);if(l=r.read_shift(16),c=r.read_shift(4),n===1&&c!==r.l)throw new Error("Length mismatch: "+c+" !== "+r.l);n===2&&(i=r.read_shift(16),u=r.read_shift(4));var b=J2(r,a),g={SystemIdentifier:h};for(var w in b)g[w]=b[w];if(g.FMTID=l,n===1)return g;if(u-r.l==2&&(r.l+=2),r.l!==u)throw new Error("Length mismatch 2: "+r.l+" !== "+u);var p;try{p=J2(r,null)}catch{}for(w in p)g[w]=p[w];return g.FMTID=[l,i],g}function eC(t,a,s,r,n,l){var i=es(n?68:48),c=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,$s.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,n?2:1),i.write_shift(16,a,"hex"),i.write_shift(4,n?68:48);var u=Q2(t,s,r);if(c.push(u),n){var h=Q2(n,null,null);i.write_shift(16,l,"hex"),i.write_shift(4,68+u.length),c.push(h)}return Fn(c)}function Wd(t,a){return t.read_shift(a),null}function gB(t,a){a||(a=es(t));for(var s=0;s<t;++s)a.write_shift(1,0);return a}function fB(t,a,s){for(var r=[],n=t.l+a;t.l<n;)r.push(s(t,n-t.l));if(n!==t.l)throw new Error("Slurp error");return r}function Vr(t,a){return t.read_shift(a)===1}function So(t,a){return a||(a=es(2)),a.write_shift(2,+!!t),a}function on(t){return t.read_shift(2,"u")}function li(t,a){return a||(a=es(2)),a.write_shift(2,t),a}function H3(t,a){return fB(t,a,on)}function yB(t){var a=t.read_shift(1),s=t.read_shift(1);return s===1?a:a===1}function U3(t,a,s){return s||(s=es(2)),s.write_shift(1,a=="e"?+t:+!!t),s.write_shift(1,a=="e"?1:0),s}function Fh(t,a,s){var r=t.read_shift(s&&s.biff>=12?2:1),n="sbcs-cont";if(s&&s.biff>=8,!s||s.biff==8){var l=t.read_shift(1);l&&(n="dbcs-cont")}else s.biff==12&&(n="wstr");s.biff>=2&&s.biff<=5&&(n="cpstr");var i=r?t.read_shift(r,n):"";return i}function bB(t){var a=t.read_shift(2),s=t.read_shift(1),r=s&4,n=s&8,l=1+(s&1),i=0,c,u={};n&&(i=t.read_shift(2)),r&&(c=t.read_shift(4));var h=l==2?"dbcs-cont":"sbcs-cont",m=a===0?"":t.read_shift(a,h);return n&&(t.l+=4*i),r&&(t.l+=c),u.t=m,n||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function vB(t){var a=t.t||"",s=es(3);s.write_shift(2,a.length),s.write_shift(1,1);var r=es(2*a.length);r.write_shift(2*a.length,a,"utf16le");var n=[s,r];return Fn(n)}function Xu(t,a,s){var r;if(s){if(s.biff>=2&&s.biff<=5)return t.read_shift(a,"cpstr");if(s.biff>=12)return t.read_shift(a,"dbcs-cont")}var n=t.read_shift(1);return n===0?r=t.read_shift(a,"sbcs-cont"):r=t.read_shift(a,"dbcs-cont"),r}function Ph(t,a,s){var r=t.read_shift(s&&s.biff==2?1:2);return r===0?(t.l++,""):Xu(t,r,s)}function u0(t,a,s){if(s.biff>5)return Ph(t,a,s);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,s.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function $3(t,a,s){return s||(s=es(3+2*t.length)),s.write_shift(2,t.length),s.write_shift(1,1),s.write_shift(31,t,"utf16le"),s}function wB(t){var a=t.read_shift(1);t.l++;var s=t.read_shift(2);return t.l+=2,[a,s]}function NB(t){var a=t.read_shift(4),s=t.l,r=!1;a>24&&(t.l+=a-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=s);var n=t.read_shift((r?a-24:a)>>1,"utf16le").replace(Do,"");return r&&(t.l+=24),n}function jB(t){for(var a=t.read_shift(2),s="";a-- >0;)s+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var n=t.read_shift(4);if(n===0)return s+r.replace(/\\/g,"/");var l=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=t.read_shift(l>>1,"utf16le").replace(Do,"");return s+i}function CB(t,a){var s=t.read_shift(16);switch(s){case"e0c9ea79f9bace118c8200aa004ba90b":return NB(t);case"0303000000000000c000000000000046":return jB(t);default:throw new Error("Unsupported Moniker "+s)}}function Om(t){var a=t.read_shift(4),s=a>0?t.read_shift(a,"utf16le").replace(Do,""):"";return s}function tC(t,a){a||(a=es(6+t.length*2)),a.write_shift(4,1+t.length);for(var s=0;s<t.length;++s)a.write_shift(2,t.charCodeAt(s));return a.write_shift(2,0),a}function SB(t,a){var s=t.l+a,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var n=t.read_shift(2);t.l+=2;var l,i,c,u,h="",m,b;n&16&&(l=Om(t,s-t.l)),n&128&&(i=Om(t,s-t.l)),(n&257)===257&&(c=Om(t,s-t.l)),(n&257)===1&&(u=CB(t,s-t.l)),n&8&&(h=Om(t,s-t.l)),n&32&&(m=t.read_shift(16)),n&64&&(b=Nw(t)),t.l=s;var g=i||c||u||"";g&&h&&(g+="#"+h),g||(g="#"+h),n&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var w={Target:g};return m&&(w.guid=m),b&&(w.time=b),l&&(w.Tooltip=l),w}function kB(t){var a=es(512),s=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var n=r.indexOf("#"),l=n>-1?31:23;switch(r.charAt(0)){case"#":l=28;break;case".":l&=-3;break}a.write_shift(4,2),a.write_shift(4,l);var i=[8,6815827,6619237,4849780,83];for(s=0;s<i.length;++s)a.write_shift(4,i[s]);if(l==28)r=r.slice(1),tC(r,a);else if(l&2){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<i.length;++s)a.write_shift(1,parseInt(i[s],16));var c=n>-1?r.slice(0,n):r;for(a.write_shift(4,2*(c.length+1)),s=0;s<c.length;++s)a.write_shift(2,c.charCodeAt(s));a.write_shift(2,0),l&8&&tC(n>-1?r.slice(n+1):"",a)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),s=0;s<i.length;++s)a.write_shift(1,parseInt(i[s],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(a.write_shift(2,u),a.write_shift(4,r.length-3*u+1),s=0;s<r.length-3*u;++s)a.write_shift(1,r.charCodeAt(s+3*u)&255);for(a.write_shift(1,0),a.write_shift(2,65535),a.write_shift(2,57005),s=0;s<6;++s)a.write_shift(4,0)}return a.slice(0,a.l)}function W3(t){var a=t.read_shift(1),s=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1);return[a,s,r,n]}function G3(t,a){var s=W3(t);return s[3]=0,s}function Tc(t){var a=t.read_shift(2),s=t.read_shift(2),r=t.read_shift(2);return{r:a,c:s,ixfe:r}}function Ju(t,a,s,r){return r||(r=es(6)),r.write_shift(2,t),r.write_shift(2,a),r.write_shift(2,s||0),r}function DB(t){var a=t.read_shift(2),s=t.read_shift(2);return t.l+=8,{type:a,flags:s}}function EB(t,a,s){return a===0?"":u0(t,a,s)}function TB(t,a,s){var r=s.biff>8?4:2,n=t.read_shift(r),l=t.read_shift(r,"i"),i=t.read_shift(r,"i");return[n,l,i]}function z3(t){var a=t.read_shift(2),s=bw(t);return[a,s]}function AB(t,a,s){t.l+=4,a-=4;var r=t.l+a,n=Fh(t,a,s),l=t.read_shift(2);if(r-=t.l,l!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+l);return t.l+=l,n}function Qg(t){var a=t.read_shift(2),s=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{s:{c:r,r:a},e:{c:n,r:s}}}function V3(t,a){return a||(a=es(8)),a.write_shift(2,t.s.r),a.write_shift(2,t.e.r),a.write_shift(2,t.s.c),a.write_shift(2,t.e.c),a}function Y3(t){var a=t.read_shift(2),s=t.read_shift(2),r=t.read_shift(1),n=t.read_shift(1);return{s:{c:r,r:a},e:{c:n,r:s}}}var FB=Y3;function K3(t){t.l+=4;var a=t.read_shift(2),s=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[s,a,r]}function PB(t){var a={};return t.l+=4,t.l+=16,a.fSharedNote=t.read_shift(2),t.l+=4,a}function IB(t){var a={};return t.l+=4,t.cf=t.read_shift(2),a}function ro(t){t.l+=2,t.l+=t.read_shift(2)}var MB={0:ro,4:ro,5:ro,6:ro,7:IB,8:ro,9:ro,10:ro,11:ro,12:ro,13:PB,14:ro,15:ro,16:ro,17:ro,18:ro,19:ro,20:ro,21:K3};function LB(t,a){for(var s=t.l+a,r=[];t.l<s;){var n=t.read_shift(2);t.l-=2;try{r.push(MB[n](t,s-t.l))}catch{return t.l=s,r}}return t.l!=s&&(t.l=s),r}function _m(t,a){var s={BIFFVer:0,dt:0};switch(s.BIFFVer=t.read_shift(2),a-=2,a>=2&&(s.dt=t.read_shift(2),t.l-=2),s.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(a>6)throw new Error("Unexpected BIFF Ver "+s.BIFFVer)}return t.read_shift(a),s}function jw(t,a,s){var r=1536,n=16;switch(s.bookType){case"biff8":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=es(n);return l.write_shift(2,r),l.write_shift(2,a),n>4&&l.write_shift(2,29282),n>6&&l.write_shift(2,1997),n>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function OB(t,a){return a===0||t.read_shift(2),1200}function _B(t,a,s){if(s.enc)return t.l+=a,"";var r=t.l,n=u0(t,0,s);return t.read_shift(a+r-t.l),n}function BB(t,a){var s=!a||a.biff==8,r=es(s?112:54);for(r.write_shift(a.biff==8?2:1,7),s&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(s?0:536870912));r.l<r.length;)r.write_shift(1,s?0:32);return r}function RB(t,a,s){var r=s&&s.biff==8||a==2?t.read_shift(2):(t.l+=a,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function HB(t,a,s){var r=t.read_shift(4),n=t.read_shift(1)&3,l=t.read_shift(1);switch(l){case 0:l="Worksheet";break;case 1:l="Macrosheet";break;case 2:l="Chartsheet";break;case 6:l="VBAModule";break}var i=Fh(t,0,s);return i.length===0&&(i="Sheet1"),{pos:r,hs:n,dt:l,name:i}}function UB(t,a){var s=!a||a.biff>=8?2:1,r=es(8+s*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),a.biff>=8&&r.write_shift(1,1),r.write_shift(s*t.name.length,t.name,a.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function $B(t,a){for(var s=t.l+a,r=t.read_shift(4),n=t.read_shift(4),l=[],i=0;i!=n&&t.l<s;++i)l.push(bB(t));return l.Count=r,l.Unique=n,l}function WB(t,a){var s=es(8);s.write_shift(4,t.Count),s.write_shift(4,t.Unique);for(var r=[],n=0;n<t.length;++n)r[n]=vB(t[n]);var l=Fn([s].concat(r));return l.parts=[s.length].concat(r.map(function(i){return i.length})),l}function GB(t,a){var s={};return s.dsst=t.read_shift(2),t.l+=a-2,s}function zB(t){var a={};a.r=t.read_shift(2),a.c=t.read_shift(2),a.cnt=t.read_shift(2)-a.c;var s=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(a.level=r&7),r&32&&(a.hidden=!0),r&64&&(a.hpt=s/20),a}function VB(t){var a=DB(t);if(a.type!=2211)throw new Error("Invalid Future Record "+a.type);var s=t.read_shift(4);return s!==0}function YB(t){return t.read_shift(2),t.read_shift(4)}function sC(t,a,s){var r=0;s&&s.biff==2||(r=t.read_shift(2));var n=t.read_shift(2);s&&s.biff==2&&(r=1-(n>>15),n&=32767);var l={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[l,n]}function KB(t){var a=t.read_shift(2),s=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2),i=t.read_shift(2),c=t.read_shift(2),u=t.read_shift(2),h=t.read_shift(2);return{Pos:[a,s],Dim:[r,n],Flags:l,CurTab:i,FirstTab:c,Selected:u,TabRatio:h}}function qB(){var t=es(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function XB(t,a,s){if(s&&s.biff>=2&&s.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function JB(t){var a=es(18),s=1718;return t&&t.RTL&&(s|=64),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(4,64),a.write_shift(4,0),a.write_shift(4,0),a}function QB(){}function ZB(t,a,s){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(s&&s.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=Fh(t,0,s),r}function eR(t,a){var s=t.name||"Arial",r=a&&a.biff==5,n=r?15+s.length:16+2*s.length,l=es(n);return l.write_shift(2,t.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,s.length),r||l.write_shift(1,1),l.write_shift((r?1:2)*s.length,s,r?"sbcs":"utf16le"),l}function tR(t){var a=Tc(t);return a.isst=t.read_shift(4),a}function sR(t,a,s,r){var n=es(10);return Ju(t,a,r,n),n.write_shift(4,s),n}function aR(t,a,s){s.biffguess&&s.biff==2&&(s.biff=5);var r=t.l+a,n=Tc(t);s.biff==2&&t.l++;var l=Ph(t,r-t.l,s);return n.val=l,n}function rR(t,a,s,r,n){var l=!n||n.biff==8,i=es(8+ +l+(1+l)*s.length);return Ju(t,a,r,i),i.write_shift(2,s.length),l&&i.write_shift(1,1),i.write_shift((1+l)*s.length,s,l?"utf16le":"sbcs"),i}function nR(t,a,s){var r=t.read_shift(2),n=u0(t,0,s);return[r,n]}function oR(t,a,s,r){var n=s&&s.biff==5;r||(r=es(n?3+a.length:5+2*a.length)),r.write_shift(2,t),r.write_shift(n?1:2,a.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*a.length,a,n?"sbcs":"utf16le");var l=r.length>r.l?r.slice(0,r.l):r;return l.l==null&&(l.l=l.length),l}var lR=u0;function aC(t,a,s){var r=t.l+a,n=s.biff==8||!s.biff?4:2,l=t.read_shift(n),i=t.read_shift(n),c=t.read_shift(2),u=t.read_shift(2);return t.l=r,{s:{r:l,c},e:{r:i,c:u}}}function iR(t,a){var s=a.biff==8||!a.biff?4:2,r=es(2*s+6);return r.write_shift(s,t.s.r),r.write_shift(s,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function cR(t){var a=t.read_shift(2),s=t.read_shift(2),r=z3(t);return{r:a,c:s,ixfe:r[0],rknum:r[1]}}function dR(t,a){for(var s=t.l+a-2,r=t.read_shift(2),n=t.read_shift(2),l=[];t.l<s;)l.push(z3(t));if(t.l!==s)throw new Error("MulRK read error");var i=t.read_shift(2);if(l.length!=i-n+1)throw new Error("MulRK length mismatch");return{r,c:n,C:i,rkrec:l}}function uR(t,a){for(var s=t.l+a-2,r=t.read_shift(2),n=t.read_shift(2),l=[];t.l<s;)l.push(t.read_shift(2));if(t.l!==s)throw new Error("MulBlank read error");var i=t.read_shift(2);if(l.length!=i-n+1)throw new Error("MulBlank length mismatch");return{r,c:n,C:i,ixfe:l}}function xR(t,a,s,r){var n={},l=t.read_shift(4),i=t.read_shift(4),c=t.read_shift(4),u=t.read_shift(2);return n.patternType=V_[c>>26],r.cellStyles&&(n.alc=l&7,n.fWrap=l>>3&1,n.alcV=l>>4&7,n.fJustLast=l>>7&1,n.trot=l>>8&255,n.cIndent=l>>16&15,n.fShrinkToFit=l>>20&1,n.iReadOrder=l>>22&2,n.fAtrNum=l>>26&1,n.fAtrFnt=l>>27&1,n.fAtrAlc=l>>28&1,n.fAtrBdr=l>>29&1,n.fAtrPat=l>>30&1,n.fAtrProt=l>>31&1,n.dgLeft=i&15,n.dgRight=i>>4&15,n.dgTop=i>>8&15,n.dgBottom=i>>12&15,n.icvLeft=i>>16&127,n.icvRight=i>>23&127,n.grbitDiag=i>>30&3,n.icvTop=c&127,n.icvBottom=c>>7&127,n.icvDiag=c>>14&127,n.dgDiag=c>>21&15,n.icvFore=u&127,n.icvBack=u>>7&127,n.fsxButton=u>>14&1),n}function hR(t,a,s){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,a-=6,r.data=xR(t,a,r.fStyle,s),r}function rC(t,a,s,r){var n=s&&s.biff==5;r||(r=es(n?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,a<<4));var l=0;return t.numFmtId>0&&n&&(l|=1024),r.write_shift(4,l),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function mR(t){t.l+=4;var a=[t.read_shift(2),t.read_shift(2)];if(a[0]!==0&&a[0]--,a[1]!==0&&a[1]--,a[0]>7||a[1]>7)throw new Error("Bad Gutters: "+a.join("|"));return a}function pR(t){var a=es(8);return a.write_shift(4,0),a.write_shift(2,0),a.write_shift(2,0),a}function nC(t,a,s){var r=Tc(t);(s.biff==2||a==9)&&++t.l;var n=yB(t);return r.val=n,r.t=n===!0||n===!1?"b":"e",r}function gR(t,a,s,r,n,l){var i=es(8);return Ju(t,a,r,i),U3(s,l,i),i}function fR(t,a,s){s.biffguess&&s.biff==2&&(s.biff=5);var r=Tc(t),n=uo(t);return r.val=n,r}function yR(t,a,s,r){var n=es(14);return Ju(t,a,r,n),qu(s,n),n}var oC=EB;function bR(t,a,s){var r=t.l+a,n=t.read_shift(2),l=t.read_shift(2);if(s.sbcch=l,l==1025||l==14849)return[l,n];if(l<1||l>255)throw new Error("Unexpected SupBook type: "+l);for(var i=Xu(t,l),c=[];r>t.l;)c.push(Ph(t));return[l,n,i,c]}function lC(t,a,s){var r=t.read_shift(2),n,l={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return s.sbcch===14849&&(n=AB(t,a-2,s)),l.body=n||t.read_shift(a-2),typeof n=="string"&&(l.Name=n),l}var vR=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function iC(t,a,s){var r=t.l+a,n=t.read_shift(2),l=t.read_shift(1),i=t.read_shift(1),c=t.read_shift(s&&s.biff==2?1:2),u=0;(!s||s.biff>=5)&&(s.biff!=5&&(t.l+=2),u=t.read_shift(2),s.biff==5&&(t.l+=2),t.l+=4);var h=Xu(t,i,s);n&32&&(h=vR[h.charCodeAt(0)]);var m=r-t.l;s&&s.biff==2&&--m;var b=r==t.l||c===0||!(m>0)?[]:L$(t,m,s,c);return{chKey:l,Name:h,itab:u,rgce:b}}function q3(t,a,s){if(s.biff<8)return wR(t,a,s);for(var r=[],n=t.l+a,l=t.read_shift(s.biff>8?4:2);l--!==0;)r.push(TB(t,s.biff>8?12:6,s));if(t.l!=n)throw new Error("Bad ExternSheet: "+t.l+" != "+n);return r}function wR(t,a,s){t[t.l+1]==3&&t[t.l]++;var r=Fh(t,a,s);return r.charCodeAt(0)==3?r.slice(1):r}function NR(t,a,s){if(s.biff<8){t.l+=a;return}var r=t.read_shift(2),n=t.read_shift(2),l=Xu(t,r,s),i=Xu(t,n,s);return[l,i]}function jR(t,a,s){var r=Y3(t);t.l++;var n=t.read_shift(1);return a-=8,[O$(t,a,s),n,r]}function cC(t,a,s){var r=FB(t);switch(s.biff){case 2:t.l++,a-=7;break;case 3:case 4:t.l+=2,a-=8;break;default:t.l+=6,a-=12}return[r,I$(t,a,s)]}function CR(t){var a=t.read_shift(4)!==0,s=t.read_shift(4)!==0,r=t.read_shift(4);return[a,s,r]}function SR(t,a,s){if(!(s.biff<8)){var r=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2),i=t.read_shift(2),c=u0(t,0,s);return s.biff<8&&t.read_shift(1),[{r,c:n},c,i,l]}}function kR(t,a,s){return SR(t,a,s)}function DR(t,a){for(var s=[],r=t.read_shift(2);r--;)s.push(Qg(t));return s}function ER(t){var a=es(2+t.length*8);a.write_shift(2,t.length);for(var s=0;s<t.length;++s)V3(t[s],a);return a}function TR(t,a,s){if(s&&s.biff<8)return FR(t,a,s);var r=K3(t),n=LB(t,a-22,r[1]);return{cmo:r,ft:n}}var AR={8:function(t,a){var s=t.l+a;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var n=t.read_shift(1);return t.l+=n,t.l=s,{fmt:r}}};function FR(t,a,s){t.l+=4;var r=t.read_shift(2),n=t.read_shift(2),l=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,a-=36;var i=[];return i.push((AR[r]||mo)(t,a,s)),{cmo:[n,r,l],ft:i}}function PR(t,a,s){var r=t.l,n="";try{t.l+=4;var l=(s.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(l)==-1?t.l+=6:i=wB(t,6,s);var c=t.read_shift(2);t.read_shift(2),on(t,2);var u=t.read_shift(2);t.l+=u;for(var h=1;h<t.lens.length-1;++h){if(t.l-r!=t.lens[h])throw new Error("TxO: bad continue record");var m=t[t.l],b=Xu(t,t.lens[h+1]-t.lens[h]-1);if(n+=b,n.length>=(m?c:2*c))break}if(n.length!==c&&n.length!==c*2)throw new Error("cchText: "+c+" != "+n.length);return t.l=r+a,{t:n}}catch{return t.l=r+a,{t:n}}}function IR(t,a){var s=Qg(t);t.l+=16;var r=SB(t,a-24);return[s,r]}function MR(t){var a=es(24),s=Tr(t[0]);a.write_shift(2,s.r),a.write_shift(2,s.r),a.write_shift(2,s.c),a.write_shift(2,s.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)a.write_shift(1,parseInt(r[n],16));return Fn([a,kB(t[1])])}function LR(t,a){t.read_shift(2);var s=Qg(t),r=t.read_shift((a-10)/2,"dbcs-cont");return r=r.replace(Do,""),[s,r]}function OR(t){var a=t[1].Tooltip,s=es(10+2*(a.length+1));s.write_shift(2,2048);var r=Tr(t[0]);s.write_shift(2,r.r),s.write_shift(2,r.r),s.write_shift(2,r.c),s.write_shift(2,r.c);for(var n=0;n<a.length;++n)s.write_shift(2,a.charCodeAt(n));return s.write_shift(2,0),s}function _R(t){var a=[0,0],s;return s=t.read_shift(2),a[0]=Y2[s]||s,s=t.read_shift(2),a[1]=Y2[s]||s,a}function BR(t){return t||(t=es(4)),t.write_shift(2,1),t.write_shift(2,1),t}function RR(t){for(var a=t.read_shift(2),s=[];a-- >0;)s.push(G3(t));return s}function HR(t){for(var a=t.read_shift(2),s=[];a-- >0;)s.push(G3(t));return s}function UR(t){t.l+=2;var a={cxfs:0,crc:0};return a.cxfs=t.read_shift(2),a.crc=t.read_shift(4),a}function X3(t,a,s){if(!s.cellStyles)return mo(t,a);var r=s&&s.biff>=12?4:2,n=t.read_shift(r),l=t.read_shift(r),i=t.read_shift(r),c=t.read_shift(r),u=t.read_shift(2);r==2&&(t.l+=2);var h={s:n,e:l,w:i,ixfe:c,flags:u};return(s.biff>=5||!s.biff)&&(h.level=u>>8&7),h}function $R(t,a){var s=es(12);s.write_shift(2,a),s.write_shift(2,a),s.write_shift(2,t.width*256),s.write_shift(2,0);var r=0;return t.hidden&&(r|=1),s.write_shift(1,r),r=t.level||0,s.write_shift(1,r),s.write_shift(2,0),s}function WR(t,a){var s={};return a<32||(t.l+=16,s.header=uo(t),s.footer=uo(t),t.l+=2),s}function GR(t,a,s){var r={area:!1};if(s.biff!=5)return t.l+=a,r;var n=t.read_shift(1);return t.l+=3,n&16&&(r.area=!0),r}function zR(t){for(var a=es(2*t),s=0;s<t;++s)a.write_shift(2,s+1);return a}var VR=Tc,YR=H3,KR=Ph;function qR(t){var a=t.read_shift(2),s=t.read_shift(2),r=t.read_shift(4),n={fmt:a,env:s,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,n}function XR(t,a,s){s.biffguess&&s.biff==5&&(s.biff=2);var r=Tc(t);++t.l;var n=u0(t,a-7,s);return r.t="str",r.val=n,r}function JR(t){var a=Tc(t);++t.l;var s=uo(t);return a.t="n",a.val=s,a}function QR(t,a,s){var r=es(15);return Oh(r,t,a),r.write_shift(8,s,"f"),r}function ZR(t){var a=Tc(t);++t.l;var s=t.read_shift(2);return a.t="n",a.val=s,a}function e9(t,a,s){var r=es(9);return Oh(r,t,a),r.write_shift(2,s),r}function t9(t){var a=t.read_shift(1);return a===0?(t.l++,""):t.read_shift(a,"sbcs-cont")}function s9(t,a){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=a-13}function a9(t,a,s){var r=t.l+a,n=Tc(t),l=t.read_shift(2),i=Xu(t,l,s);return t.l=r,n.t="str",n.val=i,n}var r9=[2,3,48,49,131,139,140,245],av=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},a=qg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function s(c,u){var h=[],m=nu(1);switch(u.type){case"base64":m=Sl(Al(c));break;case"binary":m=Sl(c);break;case"buffer":case"array":m=c;break}Vn(m,0);var b=m.read_shift(1),g=!!(b&136),w=!1,p=!1;switch(b){case 2:break;case 3:break;case 48:w=!0,g=!0;break;case 49:w=!0,g=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+b.toString(16))}var v=0,f=521;b==2&&(v=m.read_shift(2)),m.l+=3,b!=2&&(v=m.read_shift(4)),v>1048576&&(v=1e6),b!=2&&(f=m.read_shift(2));var y=m.read_shift(2),N=u.codepage||1252;b!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(N=t[m[m.l]]),m.l+=1,m.l+=2),p&&(m.l+=36);for(var C=[],S={},I=Math.min(m.length,b==2?521:f-10-(w?264:0)),k=p?32:11;m.l<I&&m[m.l]!=13;)switch(S={},S.name=Jx.utils.decode(N,m.slice(m.l,m.l+k)).replace(/[\u0000\r\n].*$/g,""),m.l+=k,S.type=String.fromCharCode(m.read_shift(1)),b!=2&&!p&&(S.offset=m.read_shift(4)),S.len=m.read_shift(1),b==2&&(S.offset=m.read_shift(2)),S.dec=m.read_shift(1),S.name.length&&C.push(S),b!=2&&(m.l+=p?13:14),S.type){case"B":(!w||S.len!=8)&&u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(m[m.l]!==13&&(m.l=f-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=f;var A=0,F=0;for(h[0]=[],F=0;F!=C.length;++F)h[0][F]=C[F].name;for(;v-- >0;){if(m[m.l]===42){m.l+=y;continue}for(++m.l,h[++A]=[],F=0,F=0;F!=C.length;++F){var O=m.slice(m.l,m.l+C[F].len);m.l+=C[F].len,Vn(O,0);var M=Jx.utils.decode(N,O);switch(C[F].type){case"C":M.trim().length&&(h[A][F]=M.replace(/\s+$/,""));break;case"D":M.length===8?h[A][F]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):h[A][F]=M;break;case"F":h[A][F]=parseFloat(M.trim());break;case"+":case"I":h[A][F]=p?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":h[A][F]=!0;break;case"N":case"F":h[A][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+b.toString(16));h[A][F]="##MEMO##"+(p?parseInt(M.trim(),10):O.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(h[A][F]=+M||0);break;case"@":h[A][F]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":h[A][F]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":h[A][F]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[A][F]=-O.read_shift(-8,"f");break;case"B":if(w&&C[F].len==8){h[A][F]=O.read_shift(8,"f");break}case"G":case"P":O.l+=C[F].len;break;case"0":if(C[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[F].type)}}}if(b!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return u&&u.sheetRows&&(h=h.slice(0,u.sheetRows)),u.DBF=C,h}function r(c,u){var h=u||{};h.dateNF||(h.dateNF="yyyymmdd");var m=cx(s(c,h),h);return m["!cols"]=h.DBF.map(function(b){return{wch:b.len,DBF:b}}),delete h.DBF,m}function n(c,u){try{return mu(r(c,u),u)}catch(h){if(u&&u.WTF)throw h}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function i(c,u){var h=u||{};if(+h.codepage>=0&&_i(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=el(),b=Sg(c,{header:1,raw:!0,cellDates:!0}),g=b[0],w=b.slice(1),p=c["!cols"]||[],v=0,f=0,y=0,N=1;for(v=0;v<g.length;++v){if(((p[v]||{}).DBF||{}).name){g[v]=p[v].DBF.name,++y;continue}if(g[v]!=null){if(++y,typeof g[v]=="number"&&(g[v]=g[v].toString(10)),typeof g[v]!="string")throw new Error("DBF Invalid column name "+g[v]+" |"+typeof g[v]+"|");if(g.indexOf(g[v])!==v){for(f=0;f<1024;++f)if(g.indexOf(g[v]+"_"+f)==-1){g[v]+="_"+f;break}}}}var C=Pa(c["!ref"]),S=[],I=[],k=[];for(v=0;v<=C.e.c-C.s.c;++v){var A="",F="",O=0,M=[];for(f=0;f<w.length;++f)w[f][v]!=null&&M.push(w[f][v]);if(M.length==0||g[v]==null){S[v]="?";continue}for(f=0;f<M.length;++f){switch(typeof M[f]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=M[f]instanceof Date?"D":"C";break;default:F="C"}O=Math.max(O,String(M[f]).length),A=A&&A!=F?"C":F}O>250&&(O=250),F=((p[v]||{}).DBF||{}).type,F=="C"&&p[v].DBF.len>O&&(O=p[v].DBF.len),A=="B"&&F=="N"&&(A="N",k[v]=p[v].DBF.dec,O=p[v].DBF.len),I[v]=A=="C"||F=="N"?O:l[A]||0,N+=I[v],S[v]=A}var U=m.next(32);for(U.write_shift(4,318902576),U.write_shift(4,w.length),U.write_shift(2,296+32*y),U.write_shift(2,N),v=0;v<4;++v)U.write_shift(4,0);for(U.write_shift(4,0|(+a[Rk]||3)<<8),v=0,f=0;v<g.length;++v)if(g[v]!=null){var L=m.next(32),G=(g[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,G,"sbcs"),L.write_shift(1,S[v]=="?"?"C":S[v],"sbcs"),L.write_shift(4,f),L.write_shift(1,I[v]||l[S[v]]||0),L.write_shift(1,k[v]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),f+=I[v]||l[S[v]]||0}var re=m.next(264);for(re.write_shift(4,13),v=0;v<65;++v)re.write_shift(4,0);for(v=0;v<w.length;++v){var ye=m.next(N);for(ye.write_shift(1,0),f=0;f<g.length;++f)if(g[f]!=null)switch(S[f]){case"L":ye.write_shift(1,w[v][f]==null?63:w[v][f]?84:70);break;case"B":ye.write_shift(8,w[v][f]||0,"f");break;case"N":var K="0";for(typeof w[v][f]=="number"&&(K=w[v][f].toFixed(k[f]||0)),y=0;y<I[f]-K.length;++y)ye.write_shift(1,32);ye.write_shift(1,K,"sbcs");break;case"D":w[v][f]?(ye.write_shift(4,("0000"+w[v][f].getFullYear()).slice(-4),"sbcs"),ye.write_shift(2,("00"+(w[v][f].getMonth()+1)).slice(-2),"sbcs"),ye.write_shift(2,("00"+w[v][f].getDate()).slice(-2),"sbcs")):ye.write_shift(8,"00000000","sbcs");break;case"C":var ne=String(w[v][f]!=null?w[v][f]:"").slice(0,I[f]);for(ye.write_shift(1,ne,"sbcs"),y=0;y<I[f]-ne.length;++y)ye.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:n,to_sheet:r,from_sheet:i}})(),J3=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},a=new RegExp("\x1BN("+Rr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),s=function(g,w){var p=t[w];return typeof p=="number"?v2(p):p},r=function(g,w,p){var v=w.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return v==59?g:v2(v)};t["|"]=254;function n(g,w){switch(w.type){case"base64":return l(Al(g),w);case"binary":return l(g,w);case"buffer":return l(ma&&Buffer.isBuffer(g)?g.toString("binary"):hu(g),w);case"array":return l(Ku(g),w)}throw new Error("Unrecognized type "+w.type)}function l(g,w){var p=g.split(/[\n\r]+/),v=-1,f=-1,y=0,N=0,C=[],S=[],I=null,k={},A=[],F=[],O=[],M=0,U;for(+w.codepage>=0&&_i(+w.codepage);y!==p.length;++y){M=0;var L=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(a,s),G=L.replace(/;;/g,"\0").split(";").map(function(D){return D.replace(/\u0000/g,";")}),re=G[0],ye;if(L.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":G[1].charAt(0)=="P"&&S.push(L.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,ne=!1,H=!1,se=!1,we=-1,Y=-1;for(N=1;N<G.length;++N)switch(G[N].charAt(0)){case"A":break;case"X":f=parseInt(G[N].slice(1))-1,ne=!0;break;case"Y":for(v=parseInt(G[N].slice(1))-1,ne||(f=0),U=C.length;U<=v;++U)C[U]=[];break;case"K":ye=G[N].slice(1),ye.charAt(0)==='"'?ye=ye.slice(1,ye.length-1):ye==="TRUE"?ye=!0:ye==="FALSE"?ye=!1:isNaN(Hi(ye))?isNaN(K0(ye).getDate())||(ye=fr(ye)):(ye=Hi(ye),I!==null&&lx(I)&&(ye=Jg(ye))),K=!0;break;case"E":se=!0;var E=H0(G[N].slice(1),{r:v,c:f});C[v][f]=[C[v][f],E];break;case"S":H=!0,C[v][f]=[C[v][f],"S5S"];break;case"G":break;case"R":we=parseInt(G[N].slice(1))-1;break;case"C":Y=parseInt(G[N].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+L)}if(K&&(C[v][f]&&C[v][f].length==2?C[v][f][0]=ye:C[v][f]=ye,I=null),H){if(se)throw new Error("SYLK shared formula cannot have own formula");var P=we>-1&&C[we][Y];if(!P||!P[1])throw new Error("SYLK shared formula cannot find base");C[v][f][1]=pD(P[1],{r:v-we,c:f-Y})}break;case"F":var V=0;for(N=1;N<G.length;++N)switch(G[N].charAt(0)){case"X":f=parseInt(G[N].slice(1))-1,++V;break;case"Y":for(v=parseInt(G[N].slice(1))-1,U=C.length;U<=v;++U)C[U]=[];break;case"M":M=parseInt(G[N].slice(1))/20;break;case"F":break;case"G":break;case"P":I=S[parseInt(G[N].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=G[N].slice(1).split(" "),U=parseInt(O[0],10);U<=parseInt(O[1],10);++U)M=parseInt(O[2],10),F[U-1]=M===0?{hidden:!0}:{wch:M},ou(F[U-1]);break;case"C":f=parseInt(G[N].slice(1))-1,F[f]||(F[f]={});break;case"R":v=parseInt(G[N].slice(1))-1,A[v]||(A[v]={}),M>0?(A[v].hpt=M,A[v].hpx=X0(M)):M===0&&(A[v].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+L)}V<1&&(I=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+L)}}return A.length>0&&(k["!rows"]=A),F.length>0&&(k["!cols"]=F),w&&w.sheetRows&&(C=C.slice(0,w.sheetRows)),[C,k]}function i(g,w){var p=n(g,w),v=p[0],f=p[1],y=cx(v,w);return Rr(f).forEach(function(N){y[N]=f[N]}),y}function c(g,w){return mu(i(g,w),w)}function u(g,w,p,v){var f="C;Y"+(p+1)+";X"+(v+1)+";K";switch(g.t){case"n":f+=g.v||0,g.f&&!g.F&&(f+=";E"+Tw(g.f,{r:p,c:v}));break;case"b":f+=g.v?"TRUE":"FALSE";break;case"e":f+=g.w||g.v;break;case"d":f+='"'+(g.w||g.v)+'"';break;case"s":f+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return f}function h(g,w){w.forEach(function(p,v){var f="F;W"+(v+1)+" "+(v+1)+" ";p.hidden?f+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=nh(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=oh(p.wpx)),typeof p.wch=="number"&&(f+=Math.round(p.wch))),f.charAt(f.length-1)!=" "&&g.push(f)})}function m(g,w){w.forEach(function(p,v){var f="F;";p.hidden?f+="M0;":p.hpt?f+="M"+20*p.hpt+";":p.hpx&&(f+="M"+20*lh(p.hpx)+";"),f.length>2&&g.push(f+"R"+(v+1))})}function b(g,w){var p=["ID;PWXL;N;E"],v=[],f=Pa(g["!ref"]),y,N=Array.isArray(g),C=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),g["!cols"]&&h(p,g["!cols"]),g["!rows"]&&m(p,g["!rows"]),p.push("B;Y"+(f.e.r-f.s.r+1)+";X"+(f.e.c-f.s.c+1)+";D"+[f.s.c,f.s.r,f.e.c,f.e.r].join(" "));for(var S=f.s.r;S<=f.e.r;++S)for(var I=f.s.c;I<=f.e.c;++I){var k=Ys({r:S,c:I});y=N?(g[S]||[])[I]:g[k],!(!y||y.v==null&&(!y.f||y.F))&&v.push(u(y,g,S,I))}return p.join(C)+C+v.join(C)+C+"E"+C}return{to_workbook:c,to_sheet:i,from_sheet:b}})(),Q3=(function(){function t(l,i){switch(i.type){case"base64":return a(Al(l),i);case"binary":return a(l,i);case"buffer":return a(ma&&Buffer.isBuffer(l)?l.toString("binary"):hu(l),i);case"array":return a(Ku(l),i)}throw new Error("Unrecognized type "+i.type)}function a(l,i){for(var c=l.split(`
`),u=-1,h=-1,m=0,b=[];m!==c.length;++m){if(c[m].trim()==="BOT"){b[++u]=[],h=0;continue}if(!(u<0)){var g=c[m].trim().split(","),w=g[0],p=g[1];++m;for(var v=c[m]||"";(v.match(/["]/g)||[]).length&1&&m<c.length-1;)v+=`
`+c[++m];switch(v=v.trim(),+w){case-1:if(v==="BOT"){b[++u]=[],h=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?b[u][h]=!0:v==="FALSE"?b[u][h]=!1:isNaN(Hi(p))?isNaN(K0(p).getDate())?b[u][h]=p:b[u][h]=fr(p):b[u][h]=Hi(p),++h;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),b[u][h++]=v!==""?v:null;break}if(v==="EOD")break}}return i&&i.sheetRows&&(b=b.slice(0,i.sheetRows)),b}function s(l,i){return cx(t(l,i),i)}function r(l,i){return mu(s(l,i),i)}var n=(function(){var l=function(u,h,m,b,g){u.push(h),u.push(m+","+b),u.push('"'+g.replace(/"/g,'""')+'"')},i=function(u,h,m,b){u.push(h+","+m),u.push(h==1?'"'+b.replace(/"/g,'""')+'"':b)};return function(u){var h=[],m=Pa(u["!ref"]),b,g=Array.isArray(u);l(h,"TABLE",0,1,"sheetjs"),l(h,"VECTORS",0,m.e.r-m.s.r+1,""),l(h,"TUPLES",0,m.e.c-m.s.c+1,""),l(h,"DATA",0,0,"");for(var w=m.s.r;w<=m.e.r;++w){i(h,-1,0,"BOT");for(var p=m.s.c;p<=m.e.c;++p){var v=Ys({r:w,c:p});if(b=g?(u[w]||[])[p]:u[v],!b){i(h,1,0,"");continue}switch(b.t){case"n":var f=b.w;!f&&b.v!=null&&(f=b.v),f==null?b.f&&!b.F?i(h,1,0,"="+b.f):i(h,1,0,""):i(h,0,f,"V");break;case"b":i(h,0,b.v?1:0,b.v?"TRUE":"FALSE");break;case"s":i(h,1,0,isNaN(b.v)?b.v:'="'+b.v+'"');break;case"d":b.w||(b.w=ui(b.z||Vs[14],yn(fr(b.v)))),i(h,0,b.w,"V");break;default:i(h,1,0,"")}}}i(h,-1,0,"EOD");var y=`\r
`,N=h.join(y);return N}})();return{to_workbook:r,to_sheet:s,from_sheet:n}})(),Z3=(function(){function t(b){return b.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function a(b){return b.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function s(b,g){for(var w=b.split(`
`),p=-1,v=-1,f=0,y=[];f!==w.length;++f){var N=w[f].trim().split(":");if(N[0]==="cell"){var C=Tr(N[1]);if(y.length<=C.r)for(p=y.length;p<=C.r;++p)y[p]||(y[p]=[]);switch(p=C.r,v=C.c,N[2]){case"t":y[p][v]=t(N[3]);break;case"v":y[p][v]=+N[3];break;case"vtf":var S=N[N.length-1];case"vtc":switch(N[3]){case"nl":y[p][v]=!!+N[4];break;default:y[p][v]=+N[4];break}N[2]=="vtf"&&(y[p][v]=[y[p][v],S])}}}return g&&g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}function r(b,g){return cx(s(b,g),g)}function n(b,g){return mu(r(b,g),g)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function h(b){if(!b||!b["!ref"])return"";for(var g=[],w=[],p,v="",f=sl(b["!ref"]),y=Array.isArray(b),N=f.s.r;N<=f.e.r;++N)for(var C=f.s.c;C<=f.e.c;++C)if(v=Ys({r:N,c:C}),p=y?(b[N]||[])[C]:b[v],!(!p||p.v==null||p.t==="z")){switch(w=["cell",v,"t"],p.t){case"s":case"str":w.push(a(p.v));break;case"n":p.f?(w[2]="vtf",w[3]="n",w[4]=p.v,w[5]=a(p.f)):(w[2]="v",w[3]=p.v);break;case"b":w[2]="vt"+(p.f?"f":"c"),w[3]="nl",w[4]=p.v?"1":"0",w[5]=a(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var S=yn(fr(p.v));w[2]="vtc",w[3]="nd",w[4]=""+S,w[5]=p.w||ui(p.z||Vs[14],S);break;case"e":continue}g.push(w.join(":"))}return g.push("sheet:c:"+(f.e.c-f.s.c+1)+":r:"+(f.e.r-f.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function m(b){return[l,i,c,i,h(b),u].join(`
`)}return{to_workbook:n,to_sheet:r,from_sheet:m}})(),q0=(function(){function t(m,b,g,w,p){p.raw?b[g][w]=m:m===""||(m==="TRUE"?b[g][w]=!0:m==="FALSE"?b[g][w]=!1:isNaN(Hi(m))?isNaN(K0(m).getDate())?b[g][w]=m:b[g][w]=fr(m):b[g][w]=Hi(m))}function a(m,b){var g=b||{},w=[];if(!m||m.length===0)return w;for(var p=m.split(/[\r\n]/),v=p.length-1;v>=0&&p[v].length===0;)--v;for(var f=10,y=0,N=0;N<=v;++N)y=p[N].indexOf(" "),y==-1?y=p[N].length:y++,f=Math.max(f,y);for(N=0;N<=v;++N){w[N]=[];var C=0;for(t(p[N].slice(0,f).trim(),w,N,C,g),C=1;C<=(p[N].length-f)/10+1;++C)t(p[N].slice(f+(C-1)*10,f+C*10).trim(),w,N,C,g)}return g.sheetRows&&(w=w.slice(0,g.sheetRows)),w}var s={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(m){for(var b={},g=!1,w=0,p=0;w<m.length;++w)(p=m.charCodeAt(w))==34?g=!g:!g&&p in s&&(b[p]=(b[p]||0)+1);p=[];for(w in b)Object.prototype.hasOwnProperty.call(b,w)&&p.push([b[w],w]);if(!p.length){b=r;for(w in b)Object.prototype.hasOwnProperty.call(b,w)&&p.push([b[w],w])}return p.sort(function(v,f){return v[0]-f[0]||r[v[1]]-r[f[1]]}),s[p.pop()[1]]||44}function l(m,b){var g=b||{},w="",p=g.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(w=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(w=m.charAt(4),m=m.slice(6)):w=n(m.slice(0,1024)):g&&g.FS?w=g.FS:w=n(m.slice(0,1024));var f=0,y=0,N=0,C=0,S=0,I=w.charCodeAt(0),k=!1,A=0,F=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?G8(g.dateNF):null;function M(){var U=m.slice(C,S),L={};if(U.charAt(0)=='"'&&U.charAt(U.length-1)=='"'&&(U=U.slice(1,-1).replace(/""/g,'"')),U.length===0)L.t="z";else if(g.raw)L.t="s",L.v=U;else if(U.trim().length===0)L.t="s",L.v=U;else if(U.charCodeAt(0)==61)U.charCodeAt(1)==34&&U.charCodeAt(U.length-1)==34?(L.t="s",L.v=U.slice(2,-1).replace(/""/g,'"')):bU(U)?(L.t="n",L.f=U.slice(1)):(L.t="s",L.v=U);else if(U=="TRUE")L.t="b",L.v=!0;else if(U=="FALSE")L.t="b",L.v=!1;else if(!isNaN(N=Hi(U)))L.t="n",g.cellText!==!1&&(L.w=U),L.v=N;else if(!isNaN(K0(U).getDate())||O&&U.match(O)){L.z=g.dateNF||Vs[14];var G=0;O&&U.match(O)&&(U=z8(U,g.dateNF,U.match(O)||[]),G=1),g.cellDates?(L.t="d",L.v=fr(U,G)):(L.t="n",L.v=yn(fr(U,G))),g.cellText!==!1&&(L.w=ui(L.z,L.v instanceof Date?yn(L.v):L.v)),g.cellNF||delete L.z}else L.t="s",L.v=U;if(L.t=="z"||(g.dense?(p[f]||(p[f]=[]),p[f][y]=L):p[Ys({c:y,r:f})]=L),C=S+1,F=m.charCodeAt(C),v.e.c<y&&(v.e.c=y),v.e.r<f&&(v.e.r=f),A==I)++y;else if(y=0,++f,g.sheetRows&&g.sheetRows<=f)return!0}e:for(;S<m.length;++S)switch(A=m.charCodeAt(S)){case 34:F===34&&(k=!k);break;case I:case 10:case 13:if(!k&&M())break e;break}return S-C>0&&M(),p["!ref"]=la(v),p}function i(m,b){return!(b&&b.PRN)||b.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?l(m,b):cx(a(m,b),b)}function c(m,b){var g="",w=b.type=="string"?[0,0,0,0]:_w(m,b);switch(b.type){case"base64":g=Al(m);break;case"binary":g=m;break;case"buffer":b.codepage==65001?g=m.toString("utf8"):b.codepage&&typeof Jx<"u"||(g=ma&&Buffer.isBuffer(m)?m.toString("binary"):hu(m));break;case"array":g=Ku(m);break;case"string":g=m;break;default:throw new Error("Unrecognized type "+b.type)}return w[0]==239&&w[1]==187&&w[2]==191?g=sr(g.slice(3)):b.type!="string"&&b.type!="buffer"&&b.codepage==65001?g=sr(g):b.type=="binary"&&typeof Jx<"u",g.slice(0,19)=="socialcalc:version:"?Z3.to_sheet(b.type=="string"?g:sr(g),b):i(g,b)}function u(m,b){return mu(c(m,b),b)}function h(m){for(var b=[],g=Pa(m["!ref"]),w,p=Array.isArray(m),v=g.s.r;v<=g.e.r;++v){for(var f=[],y=g.s.c;y<=g.e.c;++y){var N=Ys({r:v,c:y});if(w=p?(m[v]||[])[y]:m[N],!w||w.v==null){f.push("          ");continue}for(var C=(w.w||(xd(w),w.w)||"").slice(0,10);C.length<10;)C+=" ";f.push(C+(y===0?" ":""))}b.push(f.join(""))}return b.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:h}})();function n9(t,a){var s=a||{},r=!!s.WTF;s.WTF=!0;try{var n=J3.to_workbook(t,s);return s.WTF=r,n}catch(l){if(s.WTF=r,!l.message.match(/SYLK bad record ID/)&&r)throw l;return q0.to_workbook(t,a)}}var Uu=(function(){function t(E,P,V){if(E){Vn(E,E.l||0);for(var D=V.Enum||we;E.l<E.length;){var R=E.read_shift(2),ee=D[R]||D[65535],Se=E.read_shift(2),ue=E.l+Se,oe=ee.f&&ee.f(E,Se,V);if(E.l=ue,P(oe,ee,R))return}}}function a(E,P){switch(P.type){case"base64":return s(Sl(Al(E)),P);case"binary":return s(Sl(E),P);case"buffer":case"array":return s(E,P)}throw"Unsupported type "+P.type}function s(E,P){if(!E)return E;var V=P||{},D=V.dense?[]:{},R="Sheet1",ee="",Se=0,ue={},oe=[],le=[],Q={s:{r:0,c:0},e:{r:0,c:0}},ve=V.sheetRows||0;if(E[2]==0&&(E[3]==8||E[3]==9)&&E.length>=16&&E[14]==5&&E[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(E[2]==2)V.Enum=we,t(E,function(We,Re,et){switch(et){case 0:V.vers=We,We>=4096&&(V.qpro=!0);break;case 6:Q=We;break;case 204:We&&(ee=We);break;case 222:ee=We;break;case 15:case 51:V.qpro||(We[1].v=We[1].v.slice(1));case 13:case 14:case 16:et==14&&(We[2]&112)==112&&(We[2]&15)>1&&(We[2]&15)<15&&(We[1].z=V.dateNF||Vs[14],V.cellDates&&(We[1].t="d",We[1].v=Jg(We[1].v))),V.qpro&&We[3]>Se&&(D["!ref"]=la(Q),ue[R]=D,oe.push(R),D=V.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},Se=We[3],R=ee||"Sheet"+(Se+1),ee="");var B=V.dense?(D[We[0].r]||[])[We[0].c]:D[Ys(We[0])];if(B){B.t=We[1].t,B.v=We[1].v,We[1].z!=null&&(B.z=We[1].z),We[1].f!=null&&(B.f=We[1].f);break}V.dense?(D[We[0].r]||(D[We[0].r]=[]),D[We[0].r][We[0].c]=We[1]):D[Ys(We[0])]=We[1];break}},V);else if(E[2]==26||E[2]==14)V.Enum=Y,E[2]==14&&(V.qpro=!0,E.l=0),t(E,function(We,Re,et){switch(et){case 204:R=We;break;case 22:We[1].v=We[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(We[3]>Se&&(D["!ref"]=la(Q),ue[R]=D,oe.push(R),D=V.dense?[]:{},Q={s:{r:0,c:0},e:{r:0,c:0}},Se=We[3],R="Sheet"+(Se+1)),ve>0&&We[0].r>=ve)break;V.dense?(D[We[0].r]||(D[We[0].r]=[]),D[We[0].r][We[0].c]=We[1]):D[Ys(We[0])]=We[1],Q.e.c<We[0].c&&(Q.e.c=We[0].c),Q.e.r<We[0].r&&(Q.e.r=We[0].r);break;case 27:We[14e3]&&(le[We[14e3][0]]=We[14e3][1]);break;case 1537:le[We[0]]=We[1],We[0]==Se&&(R=We[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+E[2]);if(D["!ref"]=la(Q),ue[ee||R]=D,oe.push(ee||R),!le.length)return{SheetNames:oe,Sheets:ue};for(var Ce={},$e=[],Ae=0;Ae<le.length;++Ae)ue[oe[Ae]]?($e.push(le[Ae]||oe[Ae]),Ce[le[Ae]]=ue[le[Ae]]||ue[oe[Ae]]):($e.push(le[Ae]),Ce[le[Ae]]={"!ref":"A1"});return{SheetNames:$e,Sheets:Ce}}function r(E,P){var V=P||{};if(+V.codepage>=0&&_i(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var D=el(),R=Pa(E["!ref"]),ee=Array.isArray(E),Se=[];vs(D,0,l(1030)),vs(D,6,u(R));for(var ue=Math.min(R.e.r,8191),oe=R.s.r;oe<=ue;++oe)for(var le=Kr(oe),Q=R.s.c;Q<=R.e.c;++Q){oe===R.s.r&&(Se[Q]=Er(Q));var ve=Se[Q]+le,Ce=ee?(E[oe]||[])[Q]:E[ve];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?vs(D,13,w(oe,Q,Ce.v)):vs(D,14,v(oe,Q,Ce.v));else{var $e=xd(Ce);vs(D,15,b(oe,Q,$e.slice(0,239)))}}return vs(D,1),D.end()}function n(E,P){var V=P||{};if(+V.codepage>=0&&_i(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var D=el();vs(D,0,i(E));for(var R=0,ee=0;R<E.SheetNames.length;++R)(E.Sheets[E.SheetNames[R]]||{})["!ref"]&&vs(D,27,se(E.SheetNames[R],ee++));var Se=0;for(R=0;R<E.SheetNames.length;++R){var ue=E.Sheets[E.SheetNames[R]];if(!(!ue||!ue["!ref"])){for(var oe=Pa(ue["!ref"]),le=Array.isArray(ue),Q=[],ve=Math.min(oe.e.r,8191),Ce=oe.s.r;Ce<=ve;++Ce)for(var $e=Kr(Ce),Ae=oe.s.c;Ae<=oe.e.c;++Ae){Ce===oe.s.r&&(Q[Ae]=Er(Ae));var We=Q[Ae]+$e,Re=le?(ue[Ce]||[])[Ae]:ue[We];if(!(!Re||Re.t=="z"))if(Re.t=="n")vs(D,23,M(Ce,Ae,Se,Re.v));else{var et=xd(Re);vs(D,22,A(Ce,Ae,Se,et.slice(0,239)))}}++Se}}return vs(D,1),D.end()}function l(E){var P=es(2);return P.write_shift(2,E),P}function i(E){var P=es(26);P.write_shift(2,4096),P.write_shift(2,4),P.write_shift(4,0);for(var V=0,D=0,R=0,ee=0;ee<E.SheetNames.length;++ee){var Se=E.SheetNames[ee],ue=E.Sheets[Se];if(!(!ue||!ue["!ref"])){++R;var oe=sl(ue["!ref"]);V<oe.e.r&&(V=oe.e.r),D<oe.e.c&&(D=oe.e.c)}}return V>8191&&(V=8191),P.write_shift(2,V),P.write_shift(1,R),P.write_shift(1,D),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(1,1),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(4,0),P}function c(E,P,V){var D={s:{c:0,r:0},e:{c:0,r:0}};return P==8&&V.qpro?(D.s.c=E.read_shift(1),E.l++,D.s.r=E.read_shift(2),D.e.c=E.read_shift(1),E.l++,D.e.r=E.read_shift(2),D):(D.s.c=E.read_shift(2),D.s.r=E.read_shift(2),P==12&&V.qpro&&(E.l+=2),D.e.c=E.read_shift(2),D.e.r=E.read_shift(2),P==12&&V.qpro&&(E.l+=2),D.s.c==65535&&(D.s.c=D.e.c=D.s.r=D.e.r=0),D)}function u(E){var P=es(8);return P.write_shift(2,E.s.c),P.write_shift(2,E.s.r),P.write_shift(2,E.e.c),P.write_shift(2,E.e.r),P}function h(E,P,V){var D=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(D[0].c=E.read_shift(1),D[3]=E.read_shift(1),D[0].r=E.read_shift(2),E.l+=2):(D[2]=E.read_shift(1),D[0].c=E.read_shift(2),D[0].r=E.read_shift(2)),D}function m(E,P,V){var D=E.l+P,R=h(E,P,V);if(R[1].t="s",V.vers==20768){E.l++;var ee=E.read_shift(1);return R[1].v=E.read_shift(ee,"utf8"),R}return V.qpro&&E.l++,R[1].v=E.read_shift(D-E.l,"cstr"),R}function b(E,P,V){var D=es(7+V.length);D.write_shift(1,255),D.write_shift(2,P),D.write_shift(2,E),D.write_shift(1,39);for(var R=0;R<D.length;++R){var ee=V.charCodeAt(R);D.write_shift(1,ee>=128?95:ee)}return D.write_shift(1,0),D}function g(E,P,V){var D=h(E,P,V);return D[1].v=E.read_shift(2,"i"),D}function w(E,P,V){var D=es(7);return D.write_shift(1,255),D.write_shift(2,P),D.write_shift(2,E),D.write_shift(2,V,"i"),D}function p(E,P,V){var D=h(E,P,V);return D[1].v=E.read_shift(8,"f"),D}function v(E,P,V){var D=es(13);return D.write_shift(1,255),D.write_shift(2,P),D.write_shift(2,E),D.write_shift(8,V,"f"),D}function f(E,P,V){var D=E.l+P,R=h(E,P,V);if(R[1].v=E.read_shift(8,"f"),V.qpro)E.l=D;else{var ee=E.read_shift(2);S(E.slice(E.l,E.l+ee),R),E.l+=ee}return R}function y(E,P,V){var D=P&32768;return P&=-32769,P=(D?E:0)+(P>=8192?P-16384:P),(D?"":"$")+(V?Er(P):Kr(P))}var N={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(E,P){Vn(E,0);for(var V=[],D=0,R="",ee="",Se="",ue="";E.l<E.length;){var oe=E[E.l++];switch(oe){case 0:V.push(E.read_shift(8,"f"));break;case 1:ee=y(P[0].c,E.read_shift(2),!0),R=y(P[0].r,E.read_shift(2),!1),V.push(ee+R);break;case 2:{var le=y(P[0].c,E.read_shift(2),!0),Q=y(P[0].r,E.read_shift(2),!1);ee=y(P[0].c,E.read_shift(2),!0),R=y(P[0].r,E.read_shift(2),!1),V.push(le+Q+":"+ee+R)}break;case 3:if(E.l<E.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(E.read_shift(2));break;case 6:{for(var ve="";oe=E[E.l++];)ve+=String.fromCharCode(oe);V.push('"'+ve.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ue=V.pop(),Se=V.pop(),V.push(["AND","OR"][oe-20]+"("+Se+","+ue+")");break;default:if(oe<32&&C[oe])ue=V.pop(),Se=V.pop(),V.push(Se+C[oe]+ue);else if(N[oe]){if(D=N[oe][1],D==69&&(D=E[E.l++]),D>V.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+V.join("|")+"|");return}var Ce=V.slice(-D);V.length-=D,V.push(N[oe][0]+"("+Ce.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}V.length==1?P[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function I(E){var P=[{c:0,r:0},{t:"n",v:0},0];return P[0].r=E.read_shift(2),P[3]=E[E.l++],P[0].c=E[E.l++],P}function k(E,P){var V=I(E);return V[1].t="s",V[1].v=E.read_shift(P-4,"cstr"),V}function A(E,P,V,D){var R=es(6+D.length);R.write_shift(2,E),R.write_shift(1,V),R.write_shift(1,P),R.write_shift(1,39);for(var ee=0;ee<D.length;++ee){var Se=D.charCodeAt(ee);R.write_shift(1,Se>=128?95:Se)}return R.write_shift(1,0),R}function F(E,P){var V=I(E);V[1].v=E.read_shift(2);var D=V[1].v>>1;if(V[1].v&1)switch(D&7){case 0:D=(D>>3)*5e3;break;case 1:D=(D>>3)*500;break;case 2:D=(D>>3)/20;break;case 3:D=(D>>3)/200;break;case 4:D=(D>>3)/2e3;break;case 5:D=(D>>3)/2e4;break;case 6:D=(D>>3)/16;break;case 7:D=(D>>3)/64;break}return V[1].v=D,V}function O(E,P){var V=I(E),D=E.read_shift(4),R=E.read_shift(4),ee=E.read_shift(2);if(ee==65535)return D===0&&R===3221225472?(V[1].t="e",V[1].v=15):D===0&&R===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var Se=ee&32768;return ee=(ee&32767)-16446,V[1].v=(1-Se*2)*(R*Math.pow(2,ee+32)+D*Math.pow(2,ee)),V}function M(E,P,V,D){var R=es(14);if(R.write_shift(2,E),R.write_shift(1,V),R.write_shift(1,P),D==0)return R.write_shift(4,0),R.write_shift(4,0),R.write_shift(2,65535),R;var ee=0,Se=0,ue=0,oe=0;return D<0&&(ee=1,D=-D),Se=Math.log2(D)|0,D/=Math.pow(2,Se-31),oe=D>>>0,(oe&2147483648)==0&&(D/=2,++Se,oe=D>>>0),D-=oe,oe|=2147483648,oe>>>=0,D*=Math.pow(2,32),ue=D>>>0,R.write_shift(4,ue),R.write_shift(4,oe),Se+=16383+(ee?32768:0),R.write_shift(2,Se),R}function U(E,P){var V=O(E);return E.l+=P-14,V}function L(E,P){var V=I(E),D=E.read_shift(4);return V[1].v=D>>6,V}function G(E,P){var V=I(E),D=E.read_shift(8,"f");return V[1].v=D,V}function re(E,P){var V=G(E);return E.l+=P-10,V}function ye(E,P){return E[E.l+P-1]==0?E.read_shift(P,"cstr"):""}function K(E,P){var V=E[E.l++];V>P-1&&(V=P-1);for(var D="";D.length<V;)D+=String.fromCharCode(E[E.l++]);return D}function ne(E,P,V){if(!(!V.qpro||P<21)){var D=E.read_shift(1);E.l+=17,E.l+=1,E.l+=2;var R=E.read_shift(P-21,"cstr");return[D,R]}}function H(E,P){for(var V={},D=E.l+P;E.l<D;){var R=E.read_shift(2);if(R==14e3){for(V[R]=[0,""],V[R][0]=E.read_shift(2);E[E.l];)V[R][1]+=String.fromCharCode(E[E.l]),E.l++;E.l++}}return V}function se(E,P){var V=es(5+E.length);V.write_shift(2,14e3),V.write_shift(2,P);for(var D=0;D<E.length;++D){var R=E.charCodeAt(D);V[V.l++]=R>127?95:R}return V[V.l++]=0,V}var we={0:{n:"BOF",f:on},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:m},16:{n:"FORMULA",f},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ye},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:U},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:G},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ye},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ne},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:n,to_workbook:a}})();function o9(t){var a={},s=t.match(po),r=0,n=!1;if(s)for(;r!=s.length;++r){var l=qs(s[r]);switch(l[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!l.val)break;case"<shadow>":case"<shadow/>":a.shadow=1;break;case"</shadow>":break;case"<charset":if(l.val=="1")break;a.cp=ew[parseInt(l.val,10)];break;case"<outline":if(!l.val)break;case"<outline>":case"<outline/>":a.outline=1;break;case"</outline>":break;case"<rFont":a.name=l.val;break;case"<sz":a.sz=l.val;break;case"<strike":if(!l.val)break;case"<strike>":case"<strike/>":a.strike=1;break;case"</strike>":break;case"<u":if(!l.val)break;switch(l.val){case"double":a.uval="double";break;case"singleAccounting":a.uval="single-accounting";break;case"doubleAccounting":a.uval="double-accounting";break}case"<u>":case"<u/>":a.u=1;break;case"</u>":break;case"<b":if(l.val=="0")break;case"<b>":case"<b/>":a.b=1;break;case"</b>":break;case"<i":if(l.val=="0")break;case"<i>":case"<i/>":a.i=1;break;case"</i>":break;case"<color":l.rgb&&(a.color=l.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":a.family=l.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":a.valign=l.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(l[0].charCodeAt(1)!==47&&!n)throw new Error("Unrecognized rich format "+l[0])}}return a}var l9=(function(){var t=eh("t"),a=eh("rPr");function s(l){var i=l.match(t);if(!i)return{t:"s",v:""};var c={t:"s",v:Fa(i[1])},u=l.match(a);return u&&(c.s=o9(u[1])),c}var r=/<(?:\w+:)?r>/g,n=/<\/(?:\w+:)?r>/;return function(i){return i.replace(r,"").split(n).map(s).filter(function(c){return c.v})}})(),i9=(function(){var a=/(\r\n|\n)/g;function s(n,l,i){var c=[];n.u&&c.push("text-decoration: underline;"),n.uval&&c.push("text-underline-style:"+n.uval+";"),n.sz&&c.push("font-size:"+n.sz+"pt;"),n.outline&&c.push("text-effect: outline;"),n.shadow&&c.push("text-shadow: auto;"),l.push('<span style="'+c.join("")+'">'),n.b&&(l.push("<b>"),i.push("</b>")),n.i&&(l.push("<i>"),i.push("</i>")),n.strike&&(l.push("<s>"),i.push("</s>"));var u=n.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(l.push("<"+u+">"),i.push("</"+u+">")),i.push("</span>"),n}function r(n){var l=[[],n.v,[]];return n.v?(n.s&&s(n.s,l[0],l[2]),l[0].join("")+l[1].replace(a,"<br/>")+l[2].join("")):""}return function(l){return l.map(r).join("")}})(),c9=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,d9=/<(?:\w+:)?r>/,u9=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Cw(t,a){var s=a?a.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Fa(sr(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=sr(t),s&&(r.h=dw(r.t))):t.match(d9)&&(r.r=sr(t),r.t=Fa(sr((t.replace(u9,"").match(c9)||[]).join("").replace(po,""))),s&&(r.h=i9(l9(r.r)))),r):{t:""}}var x9=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,h9=/<(?:\w+:)?(?:si|sstItem)>/g,m9=/<\/(?:\w+:)?(?:si|sstItem)>/;function p9(t,a){var s=[],r="";if(!t)return s;var n=t.match(x9);if(n){r=n[2].replace(h9,"").split(m9);for(var l=0;l!=r.length;++l){var i=Cw(r[l].trim(),a);i!=null&&(s[s.length]=i)}n=qs(n[1]),s.Count=n.count,s.Unique=n.uniqueCount}return s}var g9=/^\s|\s$|[\t\n\r]/;function eD(t,a){if(!a.bookSST)return"";var s=[Qr];s[s.length]=fs("sst",null,{xmlns:o0[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var n=t[r],l="<si>";n.r?l+=n.r:(l+="<t",n.t||(n.t=""),n.t.match(g9)&&(l+=' xml:space="preserve"'),l+=">"+Za(n.t)+"</t>"),l+="</si>",s[s.length]=l}return s.length>2&&(s[s.length]="</sst>",s[1]=s[1].replace("/>",">")),s.join("")}function f9(t){return[t.read_shift(4),t.read_shift(4)]}function y9(t,a){var s=[],r=!1;return pd(t,function(l,i,c){switch(c){case 159:s.Count=l[0],s.Unique=l[1];break;case 19:s.push(l);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(i.T,!r||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}),s}function b9(t,a){return a||(a=es(8)),a.write_shift(4,t.Count),a.write_shift(4,t.Unique),a}var v9=A_;function w9(t){var a=el();as(a,159,b9(t));for(var s=0;s<t.length;++s)as(a,19,v9(t[s]));return as(a,160),a.end()}function tD(t){for(var a=[],s=t.split(""),r=0;r<s.length;++r)a[r]=s[r].charCodeAt(0);return a}function id(t,a){var s={};return s.Major=t.read_shift(2),s.Minor=t.read_shift(2),a>=4&&(t.l+=a-4),s}function N9(t){var a={};return a.id=t.read_shift(0,"lpp4"),a.R=id(t,4),a.U=id(t,4),a.W=id(t,4),a}function j9(t){for(var a=t.read_shift(4),s=t.l+a-4,r={},n=t.read_shift(4),l=[];n-- >0;)l.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=l,t.l!=s)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+s);return r}function C9(t){var a=[];t.l+=4;for(var s=t.read_shift(4);s-- >0;)a.push(j9(t));return a}function S9(t){var a=[];t.l+=4;for(var s=t.read_shift(4);s-- >0;)a.push(t.read_shift(0,"lpp4"));return a}function k9(t){var a={};return t.read_shift(4),t.l+=4,a.id=t.read_shift(0,"lpp4"),a.name=t.read_shift(0,"lpp4"),a.R=id(t,4),a.U=id(t,4),a.W=id(t,4),a}function D9(t){var a=k9(t);if(a.ename=t.read_shift(0,"8lpp4"),a.blksz=t.read_shift(4),a.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return a}function sD(t,a){var s=t.l+a,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var n=!1;switch(r.AlgID){case 26126:case 26127:case 26128:n=r.Flags==36;break;case 26625:n=r.Flags==4;break;case 0:n=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!n)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(s-t.l>>1,"utf16le"),t.l=s,r}function aD(t,a){var s={},r=t.l+a;return t.l+=4,s.Salt=t.slice(t.l,t.l+16),t.l+=16,s.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),s.VerifierHash=t.slice(t.l,r),t.l=r,s}function E9(t){var a=id(t);switch(a.Minor){case 2:return[a.Minor,T9(t)];case 3:return[a.Minor,A9()];case 4:return[a.Minor,F9(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+a.Minor)}function T9(t){var a=t.read_shift(4);if((a&63)!=36)throw new Error("EncryptionInfo mismatch");var s=t.read_shift(4),r=sD(t,s),n=aD(t,t.length-t.l);return{t:"Std",h:r,v:n}}function A9(){throw new Error("File is password-protected: ECMA-376 Extensible")}function F9(t){var a=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var s=t.read_shift(t.length-t.l,"utf8"),r={};return s.replace(po,function(l){var i=qs(l);switch(Ec(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":a.forEach(function(c){r[c]=i[c]});break;case"<dataIntegrity":r.encryptedHmacKey=i.encryptedHmacKey,r.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(i);break;default:throw i[0]}}),r}function P9(t,a){var s={},r=s.EncryptionVersionInfo=id(t,4);if(a-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);s.Flags=t.read_shift(4),a-=4;var n=t.read_shift(4);return a-=4,s.EncryptionHeader=sD(t,n),a-=n,s.EncryptionVerifier=aD(t,a),s}function I9(t){var a={},s=a.EncryptionVersionInfo=id(t,4);if(s.Major!=1||s.Minor!=1)throw"unrecognized version code "+s.Major+" : "+s.Minor;return a.Salt=t.read_shift(16),a.EncryptedVerifier=t.read_shift(16),a.EncryptedVerifierHash=t.read_shift(16),a}function Sw(t){var a=0,s,r=tD(t),n=r.length+1,l,i,c,u,h;for(s=nu(n),s[0]=r.length,l=1;l!=n;++l)s[l]=r[l-1];for(l=n-1;l>=0;--l)i=s[l],c=(a&16384)===0?0:1,u=a<<1&32767,h=c|u,a=h^i;return a^52811}var rD=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],a=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],s=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(i){return(i/2|i*128)&255},n=function(i,c){return r(i^c)},l=function(i){for(var c=a[i.length-1],u=104,h=i.length-1;h>=0;--h)for(var m=i[h],b=0;b!=7;++b)m&64&&(c^=s[u]),m*=2,--u;return c};return function(i){for(var c=tD(i),u=l(c),h=c.length,m=nu(16),b=0;b!=16;++b)m[b]=0;var g,w,p;for((h&1)===1&&(g=u>>8,m[h]=n(t[0],g),--h,g=u&255,w=c[c.length-1],m[h]=n(w,g));h>0;)--h,g=u>>8,m[h]=n(c[h],g),--h,g=u&255,m[h]=n(c[h],g);for(h=15,p=15-c.length;p>0;)g=u>>8,m[h]=n(t[p],g),--h,--p,g=u&255,m[h]=n(c[h],g),--h,--p;return m}})(),M9=function(t,a,s,r,n){n||(n=a),r||(r=rD(t));var l,i;for(l=0;l!=a.length;++l)i=a[l],i^=r[s],i=(i>>5|i<<3)&255,n[l]=i,++s;return[n,s,r]},L9=function(t){var a=0,s=rD(t);return function(r){var n=M9("",r,a,s);return a=n[1],n[0]}};function O9(t,a,s,r){var n={key:on(t),verificationBytes:on(t)};return s.password&&(n.verifier=Sw(s.password)),r.valid=n.verificationBytes===n.verifier,r.valid&&(r.insitu=L9(s.password)),n}function _9(t,a,s){var r=s||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=I9(t):r.Data=P9(t,a),r}function B9(t,a,s){var r={Type:s.biff>=8?t.read_shift(2):0};return r.Type?_9(t,a-2,r):O9(t,s.biff>=8?a:a-2,s,r),r}var nD=(function(){function t(n,l){switch(l.type){case"base64":return a(Al(n),l);case"binary":return a(n,l);case"buffer":return a(ma&&Buffer.isBuffer(n)?n.toString("binary"):hu(n),l);case"array":return a(Ku(n),l)}throw new Error("Unrecognized type "+l.type)}function a(n,l){var i=l||{},c=i.dense?[]:{},u=n.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(m,b){Array.isArray(c)&&(c[b]=[]);for(var g=/\\\w+\b/g,w=0,p,v=-1;p=g.exec(m);){switch(p[0]){case"\\cell":var f=m.slice(w,g.lastIndex-p[0].length);if(f[0]==" "&&(f=f.slice(1)),++v,f.length){var y={v:f,t:"s"};Array.isArray(c)?c[b][v]=y:c[Ys({r:b,c:v})]=y}break}w=g.lastIndex}v>h.e.c&&(h.e.c=v)}),c["!ref"]=la(h),c}function s(n,l){return mu(t(n,l),l)}function r(n){for(var l=["{\\rtf1\\ansi"],i=Pa(n["!ref"]),c,u=Array.isArray(n),h=i.s.r;h<=i.e.r;++h){l.push("\\trowd\\trautofit1");for(var m=i.s.c;m<=i.e.c;++m)l.push("\\cellx"+(m+1));for(l.push("\\pard\\intbl"),m=i.s.c;m<=i.e.c;++m){var b=Ys({r:h,c:m});c=u?(n[h]||[])[m]:n[b],!(!c||c.v==null&&(!c.f||c.F))&&(l.push(" "+(c.w||(xd(c),c.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:s,to_sheet:t,from_sheet:r}})();function R9(t){var a=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(a.slice(0,2),16),parseInt(a.slice(2,4),16),parseInt(a.slice(4,6),16)]}function rh(t){for(var a=0,s=1;a!=3;++a)s=s*256+(t[a]>255?255:t[a]<0?0:t[a]);return s.toString(16).toUpperCase().slice(1)}function H9(t){var a=t[0]/255,s=t[1]/255,r=t[2]/255,n=Math.max(a,s,r),l=Math.min(a,s,r),i=n-l;if(i===0)return[0,0,a];var c=0,u=0,h=n+l;switch(u=i/(h>1?2-h:h),n){case a:c=((s-r)/i+6)%6;break;case s:c=(r-a)/i+2;break;case r:c=(a-s)/i+4;break}return[c/6,u,h/2]}function U9(t){var a=t[0],s=t[1],r=t[2],n=s*2*(r<.5?r:1-r),l=r-n/2,i=[l,l,l],c=6*a,u;if(s!==0)switch(c|0){case 0:case 6:u=n*c,i[0]+=n,i[1]+=u;break;case 1:u=n*(2-c),i[0]+=u,i[1]+=n;break;case 2:u=n*(c-2),i[1]+=n,i[2]+=u;break;case 3:u=n*(4-c),i[1]+=u,i[2]+=n;break;case 4:u=n*(c-4),i[2]+=n,i[0]+=u;break;case 5:u=n*(6-c),i[2]+=u,i[0]+=n;break}for(var h=0;h!=3;++h)i[h]=Math.round(i[h]*255);return i}function jg(t,a){if(a===0)return t;var s=H9(R9(t));return a<0?s[2]=s[2]*(1+a):s[2]=1-(1-s[2])*(1-a),rh(U9(s))}var oD=6,$9=15,W9=1,io=oD;function nh(t){return Math.floor((t+Math.round(128/io)/256)*io)}function oh(t){return Math.floor((t-5)/io*100+.5)/100}function Cg(t){return Math.round((t*io+5)/io*256)/256}function Ay(t){return Cg(oh(nh(t)))}function kw(t){var a=Math.abs(t-Ay(t)),s=io;if(a>.005)for(io=W9;io<$9;++io)Math.abs(t-Ay(t))<=a&&(a=Math.abs(t-Ay(t)),s=io);io=s}function ou(t){t.width?(t.wpx=nh(t.width),t.wch=oh(t.wpx),t.MDW=io):t.wpx?(t.wch=oh(t.wpx),t.width=Cg(t.wch),t.MDW=io):typeof t.wch=="number"&&(t.width=Cg(t.wch),t.wpx=nh(t.width),t.MDW=io),t.customWidth&&delete t.customWidth}var G9=96,lD=G9;function lh(t){return t*96/lD}function X0(t){return t*lD/96}var z9={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function V9(t,a,s,r){a.Borders=[];var n={},l=!1;(t[0].match(po)||[]).forEach(function(i){var c=qs(i);switch(Ec(c[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":n={},c.diagonalUp&&(n.diagonalUp=gr(c.diagonalUp)),c.diagonalDown&&(n.diagonalDown=gr(c.diagonalDown)),a.Borders.push(n);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(r&&r.WTF&&!l)throw new Error("unrecognized "+c[0]+" in borders")}})}function Y9(t,a,s,r){a.Fills=[];var n={},l=!1;(t[0].match(po)||[]).forEach(function(i){var c=qs(i);switch(Ec(c[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":n={},a.Fills.push(n);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":a.Fills.push(n),n={};break;case"<patternFill":case"<patternFill>":c.patternType&&(n.patternType=c.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":n.bgColor||(n.bgColor={}),c.indexed&&(n.bgColor.indexed=parseInt(c.indexed,10)),c.theme&&(n.bgColor.theme=parseInt(c.theme,10)),c.tint&&(n.bgColor.tint=parseFloat(c.tint)),c.rgb&&(n.bgColor.rgb=c.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":n.fgColor||(n.fgColor={}),c.theme&&(n.fgColor.theme=parseInt(c.theme,10)),c.tint&&(n.fgColor.tint=parseFloat(c.tint)),c.rgb!=null&&(n.fgColor.rgb=c.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(r&&r.WTF&&!l)throw new Error("unrecognized "+c[0]+" in fills")}})}function K9(t,a,s,r){a.Fonts=[];var n={},l=!1;(t[0].match(po)||[]).forEach(function(i){var c=qs(i);switch(Ec(c[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":a.Fonts.push(n),n={};break;case"<name":c.val&&(n.name=sr(c.val));break;case"<name/>":case"</name>":break;case"<b":n.bold=c.val?gr(c.val):1;break;case"<b/>":n.bold=1;break;case"<i":n.italic=c.val?gr(c.val):1;break;case"<i/>":n.italic=1;break;case"<u":switch(c.val){case"none":n.underline=0;break;case"single":n.underline=1;break;case"double":n.underline=2;break;case"singleAccounting":n.underline=33;break;case"doubleAccounting":n.underline=34;break}break;case"<u/>":n.underline=1;break;case"<strike":n.strike=c.val?gr(c.val):1;break;case"<strike/>":n.strike=1;break;case"<outline":n.outline=c.val?gr(c.val):1;break;case"<outline/>":n.outline=1;break;case"<shadow":n.shadow=c.val?gr(c.val):1;break;case"<shadow/>":n.shadow=1;break;case"<condense":n.condense=c.val?gr(c.val):1;break;case"<condense/>":n.condense=1;break;case"<extend":n.extend=c.val?gr(c.val):1;break;case"<extend/>":n.extend=1;break;case"<sz":c.val&&(n.sz=+c.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":c.val&&(n.vertAlign=c.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":c.val&&(n.family=parseInt(c.val,10));break;case"<family/>":case"</family>":break;case"<scheme":c.val&&(n.scheme=c.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(c.val=="1")break;c.codepage=ew[parseInt(c.val,10)];break;case"<color":if(n.color||(n.color={}),c.auto&&(n.color.auto=gr(c.auto)),c.rgb)n.color.rgb=c.rgb.slice(-6);else if(c.indexed){n.color.index=parseInt(c.indexed,10);var u=Ru[n.color.index];n.color.index==81&&(u=Ru[1]),u||(u=Ru[1]),n.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else c.theme&&(n.color.theme=parseInt(c.theme,10),c.tint&&(n.color.tint=parseFloat(c.tint)),c.theme&&s.themeElements&&s.themeElements.clrScheme&&(n.color.rgb=jg(s.themeElements.clrScheme[n.color.theme].rgb,n.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":l=!0;break;case"</AlternateContent>":l=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":l=!0;break;case"</ext>":l=!1;break;default:if(r&&r.WTF&&!l)throw new Error("unrecognized "+c[0]+" in fonts")}})}function q9(t,a,s){a.NumberFmt=[];for(var r=Rr(Vs),n=0;n<r.length;++n)a.NumberFmt[r[n]]=Vs[r[n]];var l=t[0].match(po);if(l)for(n=0;n<l.length;++n){var i=qs(l[n]);switch(Ec(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var c=Fa(sr(i.formatCode)),u=parseInt(i.numFmtId,10);if(a.NumberFmt[u]=c,u>0){if(u>392){for(u=392;u>60&&a.NumberFmt[u]!=null;--u);a.NumberFmt[u]=c}ld(c,u)}}break;case"</numFmt>":break;default:if(s.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}function X9(t){var a=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(s){for(var r=s[0];r<=s[1];++r)t[r]!=null&&(a[a.length]=fs("numFmt",null,{numFmtId:r,formatCode:Za(t[r])}))}),a.length===1?"":(a[a.length]="</numFmts>",a[0]=fs("numFmts",null,{count:a.length-2}).replace("/>",">"),a.join(""))}var Bm=["numFmtId","fillId","fontId","borderId","xfId"],Rm=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function J9(t,a,s){a.CellXf=[];var r,n=!1;(t[0].match(po)||[]).forEach(function(l){var i=qs(l),c=0;switch(Ec(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=i,delete r[0],c=0;c<Bm.length;++c)r[Bm[c]]&&(r[Bm[c]]=parseInt(r[Bm[c]],10));for(c=0;c<Rm.length;++c)r[Rm[c]]&&(r[Rm[c]]=gr(r[Rm[c]]));if(a.NumberFmt&&r.numFmtId>392){for(c=392;c>60;--c)if(a.NumberFmt[r.numFmtId]==a.NumberFmt[c]){r.numFmtId=c;break}}a.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};i.vertical&&(u.vertical=i.vertical),i.horizontal&&(u.horizontal=i.horizontal),i.textRotation!=null&&(u.textRotation=i.textRotation),i.indent&&(u.indent=i.indent),i.wrapText&&(u.wrapText=gr(i.wrapText)),r.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":n=!0;break;case"</AlternateContent>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(s&&s.WTF&&!n)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}function Q9(t){var a=[];return a[a.length]=fs("cellXfs",null),t.forEach(function(s){a[a.length]=fs("xf",null,s)}),a[a.length]="</cellXfs>",a.length===2?"":(a[0]=fs("cellXfs",null,{count:a.length-2}).replace("/>",">"),a.join(""))}var Z9=(function(){var a=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,s=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,l=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(c,u,h){var m={};if(!c)return m;c=c.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var b;return(b=c.match(a))&&q9(b,m,h),(b=c.match(n))&&K9(b,m,u,h),(b=c.match(r))&&Y9(b,m,u,h),(b=c.match(l))&&V9(b,m,u,h),(b=c.match(s))&&J9(b,m,h),m}})();function iD(t,a){var s=[Qr,fs("styleSheet",null,{xmlns:o0[0],"xmlns:vt":fn.vt})],r;return t.SSF&&(r=X9(t.SSF))!=null&&(s[s.length]=r),s[s.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',s[s.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',s[s.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',s[s.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=Q9(a.cellXfs))&&(s[s.length]=r),s[s.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',s[s.length]='<dxfs count="0"/>',s[s.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',s.length>2&&(s[s.length]="</styleSheet>",s[1]=s[1].replace("/>",">")),s.join("")}function eH(t,a){var s=t.read_shift(2),r=xo(t);return[s,r]}function tH(t,a,s){s||(s=es(6+4*a.length)),s.write_shift(2,t),Pn(a,s);var r=s.length>s.l?s.slice(0,s.l):s;return s.l==null&&(s.l=s.length),r}function sH(t,a,s){var r={};r.sz=t.read_shift(2)/20;var n=__(t);n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1);var l=t.read_shift(2);switch(l===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var i=t.read_shift(1);i!=0&&(r.underline=i);var c=t.read_shift(1);c>0&&(r.family=c);var u=t.read_shift(1);switch(u>0&&(r.charset=u),t.l++,r.color=O_(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=xo(t),r}function aH(t,a){a||(a=es(153)),a.write_shift(2,t.sz*20),B_(t,a),a.write_shift(2,t.bold?700:400);var s=0;t.vertAlign=="superscript"?s=1:t.vertAlign=="subscript"&&(s=2),a.write_shift(2,s),a.write_shift(1,t.underline||0),a.write_shift(1,t.family||0),a.write_shift(1,t.charset||0),a.write_shift(1,0),vg(t.color,a);var r=0;return r=2,a.write_shift(1,r),Pn(t.name,a),a.length>a.l?a.slice(0,a.l):a}var rH=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Fy,nH=mo;function dC(t,a){a||(a=es(84)),Fy||(Fy=qg(rH));var s=Fy[t.patternType];s==null&&(s=40),a.write_shift(4,s);var r=0;if(s!=40)for(vg({auto:1},a),vg({auto:1},a);r<12;++r)a.write_shift(4,0);else{for(;r<4;++r)a.write_shift(4,0);for(;r<12;++r)a.write_shift(4,0)}return a.length>a.l?a.slice(0,a.l):a}function oH(t,a){var s=t.l+a,r=t.read_shift(2),n=t.read_shift(2);return t.l=s,{ixfe:r,numFmtId:n}}function cD(t,a,s){s||(s=es(16)),s.write_shift(2,a||0),s.write_shift(2,t.numFmtId||0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(1,0),s.write_shift(1,0);var r=0;return s.write_shift(1,r),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(1,0),s}function Tx(t,a){return a||(a=es(10)),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(4,0),a}var lH=mo;function iH(t,a){return a||(a=es(51)),a.write_shift(1,0),Tx(null,a),Tx(null,a),Tx(null,a),Tx(null,a),Tx(null,a),a.length>a.l?a.slice(0,a.l):a}function cH(t,a){return a||(a=es(52)),a.write_shift(4,t.xfId),a.write_shift(2,1),a.write_shift(1,0),a.write_shift(1,0),bg(t.name||"",a),a.length>a.l?a.slice(0,a.l):a}function dH(t,a,s){var r=es(2052);return r.write_shift(4,t),bg(a,r),bg(s,r),r.length>r.l?r.slice(0,r.l):r}function uH(t,a,s){var r={};r.NumberFmt=[];for(var n in Vs)r.NumberFmt[n]=Vs[n];r.CellXf=[],r.Fonts=[];var l=[],i=!1;return pd(t,function(u,h,m){switch(m){case 44:r.NumberFmt[u[0]]=u[1],ld(u[1],u[0]);break;case 43:r.Fonts.push(u),u.color.theme!=null&&a&&a.themeElements&&a.themeElements.clrScheme&&(u.color.rgb=jg(a.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:l[l.length-1]==617&&r.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:l.push(m),i=!0;break;case 38:l.pop(),i=!1;break;default:if(h.T>0)l.push(m);else if(h.T<0)l.pop();else if(!i||s.WTF&&l[l.length-1]!=37)throw new Error("Unexpected record 0x"+m.toString(16))}}),r}function xH(t,a){if(a){var s=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)a[n]!=null&&++s}),s!=0&&(as(t,615,Ui(s)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)a[n]!=null&&as(t,44,tH(n,a[n]))}),as(t,616))}}function hH(t){var a=1;as(t,611,Ui(a)),as(t,43,aH({sz:12,color:{theme:1},name:"Calibri",family:2})),as(t,612)}function mH(t){var a=2;as(t,603,Ui(a)),as(t,45,dC({patternType:"none"})),as(t,45,dC({patternType:"gray125"})),as(t,604)}function pH(t){var a=1;as(t,613,Ui(a)),as(t,46,iH()),as(t,614)}function gH(t){var a=1;as(t,626,Ui(a)),as(t,47,cD({numFmtId:0},65535)),as(t,627)}function fH(t,a){as(t,617,Ui(a.length)),a.forEach(function(s){as(t,47,cD(s,0))}),as(t,618)}function yH(t){var a=1;as(t,619,Ui(a)),as(t,48,cH({xfId:0,name:"Normal"})),as(t,620)}function bH(t){var a=0;as(t,505,Ui(a)),as(t,506)}function vH(t){var a=0;as(t,508,dH(a,"TableStyleMedium9","PivotStyleMedium4")),as(t,509)}function wH(t,a){var s=el();return as(s,278),xH(s,t.SSF),hH(s),mH(s),pH(s),gH(s),fH(s,a.cellXfs),yH(s),bH(s),vH(s),as(s,279),s.end()}var NH=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function jH(t,a,s){a.themeElements.clrScheme=[];var r={};(t[0].match(po)||[]).forEach(function(n){var l=qs(n);switch(l[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=l.val;break;case"<a:sysClr":r.rgb=l.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":l[0].charAt(1)==="/"?(a.themeElements.clrScheme[NH.indexOf(l[0])]=r,r={}):r.name=l[0].slice(3,l[0].length-1);break;default:if(s&&s.WTF)throw new Error("Unrecognized "+l[0]+" in clrScheme")}})}function CH(){}function SH(){}var kH=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,DH=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,EH=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function TH(t,a,s){a.themeElements={};var r;[["clrScheme",kH,jH],["fontScheme",DH,CH],["fmtScheme",EH,SH]].forEach(function(n){if(!(r=t.match(n[1])))throw new Error(n[0]+" not found in themeElements");n[2](r,a,s)})}var AH=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function dD(t,a){(!t||t.length===0)&&(t=Dw());var s,r={};if(!(s=t.match(AH)))throw new Error("themeElements not found in theme");return TH(s[0],r,a),r.raw=t,r}function Dw(t,a){if(a&&a.themeXLSX)return a.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var s=[Qr];return s[s.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',s[s.length]="<a:themeElements>",s[s.length]='<a:clrScheme name="Office">',s[s.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',s[s.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',s[s.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',s[s.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',s[s.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',s[s.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',s[s.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',s[s.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',s[s.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',s[s.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',s[s.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',s[s.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',s[s.length]="</a:clrScheme>",s[s.length]='<a:fontScheme name="Office">',s[s.length]="<a:majorFont>",s[s.length]='<a:latin typeface="Cambria"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Times New Roman"/>',s[s.length]='<a:font script="Hebr" typeface="Times New Roman"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="MoolBoran"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Times New Roman"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:majorFont>",s[s.length]="<a:minorFont>",s[s.length]='<a:latin typeface="Calibri"/>',s[s.length]='<a:ea typeface=""/>',s[s.length]='<a:cs typeface=""/>',s[s.length]='<a:font script="Jpan" typeface=" "/>',s[s.length]='<a:font script="Hang" typeface=" "/>',s[s.length]='<a:font script="Hans" typeface=""/>',s[s.length]='<a:font script="Hant" typeface=""/>',s[s.length]='<a:font script="Arab" typeface="Arial"/>',s[s.length]='<a:font script="Hebr" typeface="Arial"/>',s[s.length]='<a:font script="Thai" typeface="Tahoma"/>',s[s.length]='<a:font script="Ethi" typeface="Nyala"/>',s[s.length]='<a:font script="Beng" typeface="Vrinda"/>',s[s.length]='<a:font script="Gujr" typeface="Shruti"/>',s[s.length]='<a:font script="Khmr" typeface="DaunPenh"/>',s[s.length]='<a:font script="Knda" typeface="Tunga"/>',s[s.length]='<a:font script="Guru" typeface="Raavi"/>',s[s.length]='<a:font script="Cans" typeface="Euphemia"/>',s[s.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',s[s.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',s[s.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',s[s.length]='<a:font script="Thaa" typeface="MV Boli"/>',s[s.length]='<a:font script="Deva" typeface="Mangal"/>',s[s.length]='<a:font script="Telu" typeface="Gautami"/>',s[s.length]='<a:font script="Taml" typeface="Latha"/>',s[s.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',s[s.length]='<a:font script="Orya" typeface="Kalinga"/>',s[s.length]='<a:font script="Mlym" typeface="Kartika"/>',s[s.length]='<a:font script="Laoo" typeface="DokChampa"/>',s[s.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',s[s.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',s[s.length]='<a:font script="Viet" typeface="Arial"/>',s[s.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',s[s.length]='<a:font script="Geor" typeface="Sylfaen"/>',s[s.length]="</a:minorFont>",s[s.length]="</a:fontScheme>",s[s.length]='<a:fmtScheme name="Office">',s[s.length]="<a:fillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="1"/>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:lin ang="16200000" scaled="0"/>',s[s.length]="</a:gradFill>",s[s.length]="</a:fillStyleLst>",s[s.length]="<a:lnStyleLst>",s[s.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',s[s.length]="</a:lnStyleLst>",s[s.length]="<a:effectStyleLst>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]="</a:effectStyle>",s[s.length]="<a:effectStyle>",s[s.length]="<a:effectLst>",s[s.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',s[s.length]="</a:effectLst>",s[s.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',s[s.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',s[s.length]="</a:effectStyle>",s[s.length]="</a:effectStyleLst>",s[s.length]="<a:bgFillStyleLst>",s[s.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]='<a:gradFill rotWithShape="1">',s[s.length]="<a:gsLst>",s[s.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',s[s.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',s[s.length]="</a:gsLst>",s[s.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',s[s.length]="</a:gradFill>",s[s.length]="</a:bgFillStyleLst>",s[s.length]="</a:fmtScheme>",s[s.length]="</a:themeElements>",s[s.length]="<a:objectDefaults>",s[s.length]="<a:spDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',s[s.length]="</a:spDef>",s[s.length]="<a:lnDef>",s[s.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',s[s.length]="</a:lnDef>",s[s.length]="</a:objectDefaults>",s[s.length]="<a:extraClrSchemeLst/>",s[s.length]="</a:theme>",s.join("")}function FH(t,a,s){var r=t.l+a,n=t.read_shift(4);if(n!==124226){if(!s.cellStyles){t.l=r;return}var l=t.slice(t.l);t.l=r;var i;try{i=s3(l,{type:"array"})}catch{return}var c=kl(i,"theme/theme/theme1.xml",!0);if(c)return dD(c,s)}}function PH(t){return t.read_shift(4)}function IH(t){var a={};switch(a.xclrType=t.read_shift(2),a.nTintShade=t.read_shift(2),a.xclrType){case 0:t.l+=4;break;case 1:a.xclrValue=MH(t,4);break;case 2:a.xclrValue=W3(t);break;case 3:a.xclrValue=PH(t);break;case 4:t.l+=4;break}return t.l+=8,a}function MH(t,a){return mo(t,a)}function LH(t,a){return mo(t,a)}function OH(t){var a=t.read_shift(2),s=t.read_shift(2)-4,r=[a];switch(a){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=IH(t);break;case 6:r[1]=LH(t,s);break;case 14:case 15:r[1]=t.read_shift(s===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+a+" "+s)}return r}function _H(t,a){var s=t.l+a;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var n=t.read_shift(2),l=[];n-- >0;)l.push(OH(t,s-t.l));return{ixfe:r,ext:l}}function BH(t,a){a.forEach(function(s){s[0]})}function RH(t,a){return{flags:t.read_shift(4),version:t.read_shift(4),name:xo(t)}}function HH(t){var a=es(12+2*t.name.length);return a.write_shift(4,t.flags),a.write_shift(4,t.version),Pn(t.name,a),a.slice(0,a.l)}function UH(t){for(var a=[],s=t.read_shift(4);s-- >0;)a.push([t.read_shift(4),t.read_shift(4)]);return a}function $H(t){var a=es(4+8*t.length);a.write_shift(4,t.length);for(var s=0;s<t.length;++s)a.write_shift(4,t[s][0]),a.write_shift(4,t[s][1]);return a}function WH(t,a){var s=es(8+2*a.length);return s.write_shift(4,t),Pn(a,s),s.slice(0,s.l)}function GH(t){return t.l+=4,t.read_shift(4)!=0}function zH(t,a){var s=es(8);return s.write_shift(4,t),s.write_shift(4,1),s}function VH(t,a,s){var r={Types:[],Cell:[],Value:[]},n=s||{},l=[],i=!1,c=2;return pd(t,function(u,h,m){switch(m){case 335:r.Types.push({name:u.name});break;case 51:u.forEach(function(b){c==1?r.Cell.push({type:r.Types[b[0]-1].name,index:b[1]}):c==0&&r.Value.push({type:r.Types[b[0]-1].name,index:b[1]})});break;case 337:c=u?1:0;break;case 338:c=2;break;case 35:l.push(m),i=!0;break;case 36:l.pop(),i=!1;break;default:if(!h.T){if(!i||n.WTF&&l[l.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}}),r}function YH(){var t=el();return as(t,332),as(t,334,Ui(1)),as(t,335,HH({name:"XLDAPR",version:12e4,flags:3496657072})),as(t,336),as(t,339,WH(1,"XLDAPR")),as(t,52),as(t,35,Ui(514)),as(t,4096,Ui(0)),as(t,4097,li(1)),as(t,36),as(t,53),as(t,340),as(t,337,zH(1)),as(t,51,$H([[1,0]])),as(t,338),as(t,333),t.end()}function KH(t,a,s){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var n=!1,l=2,i;return t.replace(po,function(c){var u=qs(c);switch(Ec(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var h=0;h<r.Types.length;++h)r.Types[h].name==u.name&&(i=r.Types[h]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":l==1?r.Cell.push({type:r.Types[u.t-1].name,index:+u.v}):l==0&&r.Value.push({type:r.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":l=1;break;case"</cellMetadata>":l=2;break;case"<valueMetadata":l=0;break;case"</valueMetadata>":l=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+u.i);break;default:if(!n&&s.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return c}),r}function uD(){var t=[Qr];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function qH(t){var a=[];if(!t)return a;var s=1;return(t.match(po)||[]).forEach(function(r){var n=qs(r);switch(n[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?s=n.i:n.i=s,a.push(n);break}}),a}function XH(t){var a={};a.i=t.read_shift(4);var s={};s.r=t.read_shift(4),s.c=t.read_shift(4),a.r=Ys(s);var r=t.read_shift(1);return r&2&&(a.l="1"),r&8&&(a.a="1"),a}function JH(t,a,s){var r=[];return pd(t,function(l,i,c){switch(c){case 63:r.push(l);break;default:if(!i.T)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function QH(t,a,s,r){if(!t)return t;var n=r||{},l=!1;pd(t,function(c,u,h){switch(h){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:l=!0;break;case 36:l=!1;break;default:if(!u.T){if(!l||n.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}},n)}function ZH(t,a){if(!t)return"??";var s=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return a["!id"][s].Target}var M0=1024;function xD(t,a){for(var s=[21600,21600],r=["m0,0l0",s[1],s[0],s[1],s[0],"0xe"].join(","),n=[fs("xml",null,{"xmlns:v":jl.v,"xmlns:o":jl.o,"xmlns:x":jl.x,"xmlns:mv":jl.mv}).replace(/\/>/,">"),fs("o:shapelayout",fs("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),fs("v:shapetype",[fs("v:stroke",null,{joinstyle:"miter"}),fs("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:s.join(","),path:r})];M0<t*1e3;)M0+=1e3;return a.forEach(function(l){var i=Tr(l[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?fs("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=fs("v:fill",u,c),m={on:"t",obscured:"t"};++M0,n=n.concat(["<v:shape"+th({id:"_x0000_s"+M0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,fs("v:shadow",null,m),fs("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yn("x:Anchor",[i.c+1,0,i.r+1,0,i.c+3,20,i.r+5,20].join(",")),Yn("x:AutoFill","False"),Yn("x:Row",String(i.r)),Yn("x:Column",String(i.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),n.push("</xml>"),n.join("")}function uC(t,a,s,r){var n=Array.isArray(t),l;a.forEach(function(i){var c=Tr(i.ref);if(n?(t[c.r]||(t[c.r]=[]),l=t[c.r][c.c]):l=t[i.ref],!l){l={t:"z"},n?t[c.r][c.c]=l:t[i.ref]=l;var u=Pa(t["!ref"]||"BDWGO1000001:A1");u.s.r>c.r&&(u.s.r=c.r),u.e.r<c.r&&(u.e.r=c.r),u.s.c>c.c&&(u.s.c=c.c),u.e.c<c.c&&(u.e.c=c.c);var h=la(u);h!==t["!ref"]&&(t["!ref"]=h)}l.c||(l.c=[]);var m={a:i.author,t:i.t,r:i.r,T:s};i.h&&(m.h=i.h);for(var b=l.c.length-1;b>=0;--b){if(!s&&l.c[b].T)return;s&&!l.c[b].T&&l.c.splice(b,1)}if(s&&r){for(b=0;b<r.length;++b)if(m.a==r[b].id){m.a=r[b].name||m.a;break}}l.c.push(m)})}function eU(t,a){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var s=[],r=[],n=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);n&&n[1]&&n[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var c=i.match(/<(?:\w+:)?author[^>]*>(.*)/);c&&s.push(c[1])}});var l=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return l&&l[1]&&l[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var c=i.match(/<(?:\w+:)?comment[^>]*>/);if(c){var u=qs(c[0]),h={author:u.authorId&&s[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},m=Tr(u.ref);if(!(a.sheetRows&&a.sheetRows<=m.r)){var b=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!b&&!!b[1]&&Cw(b[1])||{r:"",t:"",h:""};h.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),h.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),a.cellHTML&&(h.h=g.h),r.push(h)}}}}),r}function hD(t){var a=[Qr,fs("comments",null,{xmlns:o0[0]})],s=[];return a.push("<authors>"),t.forEach(function(r){r[1].forEach(function(n){var l=Za(n.a);s.indexOf(l)==-1&&(s.push(l),a.push("<author>"+l+"</author>")),n.T&&n.ID&&s.indexOf("tc="+n.ID)==-1&&(s.push("tc="+n.ID),a.push("<author>tc="+n.ID+"</author>"))})}),s.length==0&&(s.push("SheetJ5"),a.push("<author>SheetJ5</author>")),a.push("</authors>"),a.push("<commentList>"),t.forEach(function(r){var n=0,l=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?n=s.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(n=s.indexOf(Za(u.a))),l.push(u.t||"")}),a.push('<comment ref="'+r[0]+'" authorId="'+n+'"><text>'),l.length<=1)a.push(Yn("t",Za(l[0]||"")));else{for(var i=`Comment:
    `+l[0]+`
`,c=1;c<l.length;++c)i+=`Reply:
    `+l[c]+`
`;a.push(Yn("t",Za(i)))}a.push("</text></comment>")}),a.push("</commentList>"),a.length>2&&(a[a.length]="</comments>",a[1]=a[1].replace("/>",">")),a.join("")}function tU(t,a){var s=[],r=!1,n={},l=0;return t.replace(po,function(c,u){var h=qs(c);switch(Ec(h[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":n={author:h.personId,guid:h.id,ref:h.ref,T:1};break;case"</threadedComment>":n.t!=null&&s.push(n);break;case"<text>":case"<text":l=u+c.length;break;case"</text>":n.t=t.slice(l,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&a.WTF)throw new Error("unrecognized "+h[0]+" in threaded comments")}return c}),s}function sU(t,a,s){var r=[Qr,fs("ThreadedComments",null,{xmlns:fn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(n){var l="";(n[1]||[]).forEach(function(i,c){if(!i.T){delete i.ID;return}i.a&&a.indexOf(i.a)==-1&&a.push(i.a);var u={ref:n[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+s.tcid++).slice(-12)+"}"};c==0?l=u.id:u.parentId=l,i.ID=u.id,i.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+a.indexOf(i.a)).slice(-12)+"}"),r.push(fs("threadedComment",Yn("text",i.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function aU(t,a){var s=[],r=!1;return t.replace(po,function(l){var i=qs(l);switch(Ec(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":s.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&a.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return l}),s}function rU(t){var a=[Qr,fs("personList",null,{xmlns:fn.TCMNT,"xmlns:x":o0[0]}).replace(/[\/]>/,">")];return t.forEach(function(s,r){a.push(fs("person",null,{displayName:s,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:s,providerId:"None"}))}),a.push("</personList>"),a.join("")}function nU(t){var a={};a.iauthor=t.read_shift(4);var s=d0(t);return a.rfx=s.s,a.ref=Ys(s.s),t.l+=16,a}function oU(t,a){return a==null&&(a=es(36)),a.write_shift(4,t[1].iauthor),dx(t[0],a),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a}var lU=xo;function iU(t){return Pn(t.slice(0,54))}function cU(t,a){var s=[],r=[],n={},l=!1;return pd(t,function(c,u,h){switch(h){case 632:r.push(c);break;case 635:n=c;break;case 637:n.t=c.t,n.h=c.h,n.r=c.r;break;case 636:if(n.author=r[n.iauthor],delete n.iauthor,a.sheetRows&&n.rfx&&a.sheetRows<=n.rfx.r)break;n.t||(n.t=""),delete n.rfx,s.push(n);break;case 3072:break;case 35:l=!0;break;case 36:l=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!l||a.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}),s}function dU(t){var a=el(),s=[];return as(a,628),as(a,630),t.forEach(function(r){r[1].forEach(function(n){s.indexOf(n.a)>-1||(s.push(n.a.slice(0,54)),as(a,632,iU(n.a)))})}),as(a,631),as(a,633),t.forEach(function(r){r[1].forEach(function(n){n.iauthor=s.indexOf(n.a);var l={s:Tr(r[0]),e:Tr(r[0])};as(a,635,oU([l,n])),n.t&&n.t.length>0&&as(a,637,P_(n)),as(a,636),delete n.iauthor})}),as(a,634),as(a,629),a.end()}var uU="application/vnd.ms-office.vbaProject";function xU(t){var a=$s.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(s,r){if(!(s.slice(-1)==="/"||!s.match(/_VBA_PROJECT_CUR/))){var n=s.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$s.utils.cfb_add(a,n,t.FileIndex[r].content)}}),$s.write(a)}function hU(t,a){a.FullPaths.forEach(function(s,r){if(r!=0){var n=s.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");n.slice(-1)!=="/"&&$s.utils.cfb_add(t,n,a.FileIndex[r].content)}})}var mD=["xlsb","xlsm","xlam","biff8","xla"];function mU(){return{"!type":"dialog"}}function pU(){return{"!type":"dialog"}}function gU(){return{"!type":"macro"}}function fU(){return{"!type":"macro"}}var H0=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,a={r:0,c:0};function s(r,n,l,i){var c=!1,u=!1;l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1)),i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1));var h=l.length>0?parseInt(l,10)|0:0,m=i.length>0?parseInt(i,10)|0:0;return c?m+=a.c:--m,u?h+=a.r:--h,n+(c?"":"$")+Er(m)+(u?"":"$")+Kr(h)}return function(n,l){return a=l,n.replace(t,s)}})(),Ew=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Tw=(function(){return function(a,s){return a.replace(Ew,function(r,n,l,i,c,u){var h=pw(i)-(l?0:s.c),m=mw(u)-(c?0:s.r),b=m==0?"":c?m+1:"["+m+"]",g=h==0?"":l?h+1:"["+h+"]";return n+"R"+b+"C"+g})}})();function pD(t,a){return t.replace(Ew,function(s,r,n,l,i,c){return r+(n=="$"?n+l:Er(pw(l)+a.c))+(i=="$"?i+c:Kr(mw(c)+a.r))})}function yU(t,a,s){var r=sl(a),n=r.s,l=Tr(s),i={r:l.r-n.r,c:l.c-n.c};return pD(t,i)}function bU(t){return t.length!=1}function xC(t){return t.replace(/_xlfn\./g,"")}function rn(t){t.l+=1}function lu(t,a){var s=t.read_shift(2);return[s&16383,s>>14&1,s>>15&1]}function gD(t,a,s){var r=2;if(s){if(s.biff>=2&&s.biff<=5)return fD(t);s.biff==12&&(r=4)}var n=t.read_shift(r),l=t.read_shift(r),i=lu(t),c=lu(t);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:l,c:c[0],cRel:c[1],rRel:c[2]}}}function fD(t){var a=lu(t),s=lu(t),r=t.read_shift(1),n=t.read_shift(1);return{s:{r:a[0],c:r,cRel:a[1],rRel:a[2]},e:{r:s[0],c:n,cRel:s[1],rRel:s[2]}}}function vU(t,a,s){if(s.biff<8)return fD(t);var r=t.read_shift(s.biff==12?4:2),n=t.read_shift(s.biff==12?4:2),l=lu(t),i=lu(t);return{s:{r,c:l[0],cRel:l[1],rRel:l[2]},e:{r:n,c:i[0],cRel:i[1],rRel:i[2]}}}function yD(t,a,s){if(s&&s.biff>=2&&s.biff<=5)return wU(t);var r=t.read_shift(s&&s.biff==12?4:2),n=lu(t);return{r,c:n[0],cRel:n[1],rRel:n[2]}}function wU(t){var a=lu(t),s=t.read_shift(1);return{r:a[0],c:s,cRel:a[1],rRel:a[2]}}function NU(t){var a=t.read_shift(2),s=t.read_shift(2);return{r:a,c:s&255,fQuoted:!!(s&16384),cRel:s>>15,rRel:s>>15}}function jU(t,a,s){var r=s&&s.biff?s.biff:8;if(r>=2&&r<=5)return CU(t);var n=t.read_shift(r>=12?4:2),l=t.read_shift(2),i=(l&16384)>>14,c=(l&32768)>>15;if(l&=16383,c==1)for(;n>524287;)n-=1048576;if(i==1)for(;l>8191;)l=l-16384;return{r:n,c:l,cRel:i,rRel:c}}function CU(t){var a=t.read_shift(2),s=t.read_shift(1),r=(a&32768)>>15,n=(a&16384)>>14;return a&=16383,r==1&&a>=8192&&(a=a-16384),n==1&&s>=128&&(s=s-256),{r:a,c:s,cRel:n,rRel:r}}function SU(t,a,s){var r=(t[t.l++]&96)>>5,n=gD(t,s.biff>=2&&s.biff<=5?6:8,s);return[r,n]}function kU(t,a,s){var r=(t[t.l++]&96)>>5,n=t.read_shift(2,"i"),l=8;if(s)switch(s.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}var i=gD(t,l,s);return[r,n,i]}function DU(t,a,s){var r=(t[t.l++]&96)>>5;return t.l+=s&&s.biff>8?12:s.biff<8?6:8,[r]}function EU(t,a,s){var r=(t[t.l++]&96)>>5,n=t.read_shift(2),l=8;if(s)switch(s.biff){case 5:t.l+=12,l=6;break;case 12:l=12;break}return t.l+=l,[r,n]}function TU(t,a,s){var r=(t[t.l++]&96)>>5,n=vU(t,a-1,s);return[r,n]}function AU(t,a,s){var r=(t[t.l++]&96)>>5;return t.l+=s.biff==2?6:s.biff==12?14:7,[r]}function hC(t){var a=t[t.l+1]&1,s=1;return t.l+=4,[a,s]}function FU(t,a,s){t.l+=2;for(var r=t.read_shift(s&&s.biff==2?1:2),n=[],l=0;l<=r;++l)n.push(t.read_shift(s&&s.biff==2?1:2));return n}function PU(t,a,s){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(s&&s.biff==2?1:2)]}function IU(t,a,s){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(s&&s.biff==2?1:2)]}function MU(t){var a=t[t.l+1]&255?1:0;return t.l+=2,[a,t.read_shift(2)]}function LU(t,a,s){var r=t[t.l+1]&255?1:0;return t.l+=s&&s.biff==2?3:4,[r]}function bD(t){var a=t.read_shift(1),s=t.read_shift(1);return[a,s]}function OU(t){return t.read_shift(2),bD(t)}function _U(t){return t.read_shift(2),bD(t)}function BU(t,a,s){var r=(t[t.l]&96)>>5;t.l+=1;var n=yD(t,0,s);return[r,n]}function RU(t,a,s){var r=(t[t.l]&96)>>5;t.l+=1;var n=jU(t,0,s);return[r,n]}function HU(t,a,s){var r=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(2);s&&s.biff==5&&(t.l+=12);var l=yD(t,0,s);return[r,n,l]}function UU(t,a,s){var r=(t[t.l]&96)>>5;t.l+=1;var n=t.read_shift(s&&s.biff<=3?1:2);return[G$[n],ND[n],r]}function $U(t,a,s){var r=t[t.l++],n=t.read_shift(1),l=s&&s.biff<=3?[r==88?-1:0,t.read_shift(1)]:WU(t);return[n,(l[0]===0?ND:W$)[l[1]]]}function WU(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function GU(t,a,s){t.l+=s&&s.biff==2?3:4}function zU(t,a,s){if(t.l++,s&&s.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),n=t.read_shift(s&&s.biff==2?1:2);return[r,n]}function VU(t){return t.l++,gd[t.read_shift(1)]}function YU(t){return t.l++,t.read_shift(2)}function KU(t){return t.l++,t.read_shift(1)!==0}function qU(t){return t.l++,uo(t)}function XU(t,a,s){return t.l++,Fh(t,a-1,s)}function JU(t,a){var s=[t.read_shift(1)];if(a==12)switch(s[0]){case 2:s[0]=4;break;case 4:s[0]=16;break;case 0:s[0]=1;break;case 1:s[0]=2;break}switch(s[0]){case 4:s[1]=Vr(t,1)?"TRUE":"FALSE",a!=12&&(t.l+=7);break;case 37:case 16:s[1]=gd[t[t.l]],t.l+=a==12?4:8;break;case 0:t.l+=8;break;case 1:s[1]=uo(t);break;case 2:s[1]=u0(t,0,{biff:a>0&&a<8?2:a});break;default:throw new Error("Bad SerAr: "+s[0])}return s}function QU(t,a,s){for(var r=t.read_shift(s.biff==12?4:2),n=[],l=0;l!=r;++l)n.push((s.biff==12?d0:Qg)(t));return n}function ZU(t,a,s){var r=0,n=0;s.biff==12?(r=t.read_shift(4),n=t.read_shift(4)):(n=1+t.read_shift(1),r=1+t.read_shift(2)),s.biff>=2&&s.biff<8&&(--r,--n==0&&(n=256));for(var l=0,i=[];l!=r&&(i[l]=[]);++l)for(var c=0;c!=n;++c)i[l][c]=JU(t,s.biff);return i}function e$(t,a,s){var r=t.read_shift(1)>>>5&3,n=!s||s.biff>=8?4:2,l=t.read_shift(n);switch(s.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,l]}function t$(t,a,s){if(s.biff==5)return s$(t);var r=t.read_shift(1)>>>5&3,n=t.read_shift(2),l=t.read_shift(4);return[r,n,l]}function s$(t){var a=t.read_shift(1)>>>5&3,s=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[a,s,r]}function a$(t,a,s){var r=t.read_shift(1)>>>5&3;t.l+=s&&s.biff==2?3:4;var n=t.read_shift(s&&s.biff==2?1:2);return[r,n]}function r$(t,a,s){var r=t.read_shift(1)>>>5&3,n=t.read_shift(s&&s.biff==2?1:2);return[r,n]}function n$(t,a,s){var r=t.read_shift(1)>>>5&3;return t.l+=4,s.biff<8&&t.l--,s.biff==12&&(t.l+=2),[r]}function o$(t,a,s){var r=(t[t.l++]&96)>>5,n=t.read_shift(2),l=4;if(s)switch(s.biff){case 5:l=15;break;case 12:l=6;break}return t.l+=l,[r,n]}var l$=mo,i$=mo,c$=mo;function Ih(t,a,s){return t.l+=2,[NU(t)]}function Aw(t){return t.l+=6,[]}var d$=Ih,u$=Aw,x$=Aw,h$=Ih;function vD(t){return t.l+=2,[on(t),t.read_shift(2)&1]}var m$=Ih,p$=vD,g$=Aw,f$=Ih,y$=Ih,b$=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function v$(t){t.l+=2;var a=t.read_shift(2),s=t.read_shift(2),r=t.read_shift(4),n=t.read_shift(2),l=t.read_shift(2),i=b$[s>>2&31];return{ixti:a,coltype:s&3,rt:i,idx:r,c:n,C:l}}function w$(t){return t.l+=2,[t.read_shift(4)]}function N$(t,a,s){return t.l+=5,t.l+=2,t.l+=s.biff==2?1:4,["PTGSHEET"]}function j$(t,a,s){return t.l+=s.biff==2?4:5,["PTGENDSHEET"]}function C$(t){var a=t.read_shift(1)>>>5&3,s=t.read_shift(2);return[a,s]}function S$(t){var a=t.read_shift(1)>>>5&3,s=t.read_shift(2);return[a,s]}function k$(t){return t.l+=4,[0,0]}var mC={1:{n:"PtgExp",f:zU},2:{n:"PtgTbl",f:c$},3:{n:"PtgAdd",f:rn},4:{n:"PtgSub",f:rn},5:{n:"PtgMul",f:rn},6:{n:"PtgDiv",f:rn},7:{n:"PtgPower",f:rn},8:{n:"PtgConcat",f:rn},9:{n:"PtgLt",f:rn},10:{n:"PtgLe",f:rn},11:{n:"PtgEq",f:rn},12:{n:"PtgGe",f:rn},13:{n:"PtgGt",f:rn},14:{n:"PtgNe",f:rn},15:{n:"PtgIsect",f:rn},16:{n:"PtgUnion",f:rn},17:{n:"PtgRange",f:rn},18:{n:"PtgUplus",f:rn},19:{n:"PtgUminus",f:rn},20:{n:"PtgPercent",f:rn},21:{n:"PtgParen",f:rn},22:{n:"PtgMissArg",f:rn},23:{n:"PtgStr",f:XU},26:{n:"PtgSheet",f:N$},27:{n:"PtgEndSheet",f:j$},28:{n:"PtgErr",f:VU},29:{n:"PtgBool",f:KU},30:{n:"PtgInt",f:YU},31:{n:"PtgNum",f:qU},32:{n:"PtgArray",f:AU},33:{n:"PtgFunc",f:UU},34:{n:"PtgFuncVar",f:$U},35:{n:"PtgName",f:e$},36:{n:"PtgRef",f:BU},37:{n:"PtgArea",f:SU},38:{n:"PtgMemArea",f:a$},39:{n:"PtgMemErr",f:l$},40:{n:"PtgMemNoMem",f:i$},41:{n:"PtgMemFunc",f:r$},42:{n:"PtgRefErr",f:n$},43:{n:"PtgAreaErr",f:DU},44:{n:"PtgRefN",f:RU},45:{n:"PtgAreaN",f:TU},46:{n:"PtgMemAreaN",f:C$},47:{n:"PtgMemNoMemN",f:S$},57:{n:"PtgNameX",f:t$},58:{n:"PtgRef3d",f:HU},59:{n:"PtgArea3d",f:kU},60:{n:"PtgRefErr3d",f:o$},61:{n:"PtgAreaErr3d",f:EU},255:{}},D$={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},E$={1:{n:"PtgElfLel",f:vD},2:{n:"PtgElfRw",f:f$},3:{n:"PtgElfCol",f:d$},6:{n:"PtgElfRwV",f:y$},7:{n:"PtgElfColV",f:h$},10:{n:"PtgElfRadical",f:m$},11:{n:"PtgElfRadicalS",f:g$},13:{n:"PtgElfColS",f:u$},15:{n:"PtgElfColSV",f:x$},16:{n:"PtgElfRadicalLel",f:p$},25:{n:"PtgList",f:v$},29:{n:"PtgSxName",f:w$},255:{}},T$={0:{n:"PtgAttrNoop",f:k$},1:{n:"PtgAttrSemi",f:LU},2:{n:"PtgAttrIf",f:IU},4:{n:"PtgAttrChoose",f:FU},8:{n:"PtgAttrGoto",f:PU},16:{n:"PtgAttrSum",f:GU},32:{n:"PtgAttrBaxcel",f:hC},33:{n:"PtgAttrBaxcel",f:hC},64:{n:"PtgAttrSpace",f:OU},65:{n:"PtgAttrSpaceSemi",f:_U},128:{n:"PtgAttrIfError",f:MU},255:{}};function Mh(t,a,s,r){if(r.biff<8)return mo(t,a);for(var n=t.l+a,l=[],i=0;i!==s.length;++i)switch(s[i][0]){case"PtgArray":s[i][1]=ZU(t,0,r),l.push(s[i][1]);break;case"PtgMemArea":s[i][2]=QU(t,s[i][1],r),l.push(s[i][2]);break;case"PtgExp":r&&r.biff==12&&(s[i][1][1]=t.read_shift(4),l.push(s[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+s[i][0]}return a=n-t.l,a!==0&&l.push(mo(t,a)),l}function Lh(t,a,s){for(var r=t.l+a,n,l,i=[];r!=t.l;)a=r-t.l,l=t[t.l],n=mC[l]||mC[D$[l]],(l===24||l===25)&&(n=(l===24?E$:T$)[t[t.l+1]]),!n||!n.f?mo(t,a):i.push([n.n,n.f(t,a,s)]);return i}function A$(t){for(var a=[],s=0;s<t.length;++s){for(var r=t[s],n=[],l=0;l<r.length;++l){var i=r[l];if(i)switch(i[0]){case 2:n.push('"'+i[1].replace(/"/g,'""')+'"');break;default:n.push(i[1])}else n.push("")}a.push(n.join(","))}return a.join(";")}var F$={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function P$(t,a){if(!t&&!(a&&a.biff<=5&&a.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function wD(t,a,s){if(!t)return"SH33TJSERR0";if(s.biff>8&&(!t.XTI||!t.XTI[a]))return t.SheetNames[a];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[a];if(s.biff<8)return a>1e4&&(a-=65536),a<0&&(a=-a),a==0?"":t.XTI[a-1];if(!r)return"SH33TJSERR1";var n="";if(s.biff>8)switch(t[r[0]][0]){case 357:return n=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?n:n+":"+t.SheetNames[r[2]];case 358:return s.SID!=null?t.SheetNames[s.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return n=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return t[r[0]][0][3]?(n=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function pC(t,a,s){var r=wD(t,a,s);return r=="#REF"?r:P$(r,s)}function lo(t,a,s,r,n){var l=n&&n.biff||8,i={s:{c:0,r:0}},c=[],u,h,m,b=0,g=0,w,p="";if(!t[0]||!t[0][0])return"";for(var v=-1,f="",y=0,N=t[0].length;y<N;++y){var C=t[0][y];switch(C[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),h=c.pop(),v>=0){switch(t[0][v][1][0]){case 0:f=Or(" ",t[0][v][1][1]);break;case 1:f=Or("\r",t[0][v][1][1]);break;default:if(f="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}h=h+f,v=-1}c.push(h+F$[C[0]]+u);break;case"PtgIsect":u=c.pop(),h=c.pop(),c.push(h+" "+u);break;case"PtgUnion":u=c.pop(),h=c.pop(),c.push(h+","+u);break;case"PtgRange":u=c.pop(),h=c.pop(),c.push(h+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=Ux(C[1][1],i,n),c.push($x(m,l));break;case"PtgRefN":m=s?Ux(C[1][1],s,n):C[1][1],c.push($x(m,l));break;case"PtgRef3d":b=C[1][1],m=Ux(C[1][2],i,n),p=pC(r,b,n),c.push(p+"!"+$x(m,l));break;case"PtgFunc":case"PtgFuncVar":var S=C[1][0],I=C[1][1];S||(S=0),S&=127;var k=S==0?[]:c.slice(-S);c.length-=S,I==="User"&&(I=k.shift()),c.push(I+"("+k.join(",")+")");break;case"PtgBool":c.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(C[1]);break;case"PtgNum":c.push(String(C[1]));break;case"PtgStr":c.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(C[1]);break;case"PtgAreaN":w=G2(C[1][1],s?{s}:i,n),c.push(Dy(w,n));break;case"PtgArea":w=G2(C[1][1],i,n),c.push(Dy(w,n));break;case"PtgArea3d":b=C[1][1],w=C[1][2],p=pC(r,b,n),c.push(p+"!"+Dy(w,n));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var A=(r.names||[])[g-1]||(r[0]||[])[g],F=A?A.Name:"SH33TJSNAME"+String(g);F&&F.slice(0,6)=="_xlfn."&&!n.xlfn&&(F=F.slice(6)),c.push(F);break;case"PtgNameX":var O=C[1][1];g=C[1][2];var M;if(n.biff<=5)O<0&&(O=-O),r[O]&&(M=r[O][g]);else{var U="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][g]&&r[O][g].itab>0&&(U=r.SheetNames[r[O][g].itab-1]+"!"):U=r.SheetNames[g-1]+"!"),r[O]&&r[O][g])U+=r[O][g].Name;else if(r[0]&&r[0][g])U+=r[0][g].Name;else{var L=(wD(r,O,n)||"").split(";;");L[g-1]?U=L[g-1]:U+="SH33TJSERRX"}c.push(U);break}M||(M={Name:"SH33TJSERRY"}),c.push(M.Name);break;case"PtgParen":var G="(",re=")";if(v>=0){switch(f="",t[0][v][1][0]){case 2:G=Or(" ",t[0][v][1][1])+G;break;case 3:G=Or("\r",t[0][v][1][1])+G;break;case 4:re=Or(" ",t[0][v][1][1])+re;break;case 5:re=Or("\r",t[0][v][1][1])+re;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}c.push(G+c.pop()+re);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:C[1][1],r:C[1][0]};var ye={c:s.c,r:s.r};if(r.sharedf[Ys(m)]){var K=r.sharedf[Ys(m)];c.push(lo(K,i,ye,r,n))}else{var ne=!1;for(u=0;u!=r.arrayf.length;++u)if(h=r.arrayf[u],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){c.push(lo(h[1],i,ye,r,n)),ne=!0;break}ne||c.push(C[1])}break;case"PtgArray":c.push("{"+A$(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(n.biff!=3&&v>=0&&H.indexOf(t[0][y][0])==-1){C=t[0][v];var se=!0;switch(C[1][0]){case 4:se=!1;case 0:f=Or(" ",C[1][1]);break;case 5:se=!1;case 1:f=Or("\r",C[1][1]);break;default:if(f="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}c.push((se?f:"")+c.pop()+(se?"":f)),v=-1}}if(c.length>1&&n.WTF)throw new Error("bad formula stack");return c[0]}function I$(t,a,s){var r=t.l+a,n=s.biff==2?1:2,l,i=t.read_shift(n);if(i==65535)return[[],mo(t,a-2)];var c=Lh(t,i,s);return a!==i+n&&(l=Mh(t,a-i-n,c,s)),t.l=r,[c,l]}function M$(t,a,s){var r=t.l+a,n=s.biff==2?1:2,l,i=t.read_shift(n);if(i==65535)return[[],mo(t,a-2)];var c=Lh(t,i,s);return a!==i+n&&(l=Mh(t,a-i-n,c,s)),t.l=r,[c,l]}function L$(t,a,s,r){var n=t.l+a,l=Lh(t,r,s),i;return n!==t.l&&(i=Mh(t,n-t.l,l,s)),[l,i]}function O$(t,a,s){var r=t.l+a,n,l=t.read_shift(2),i=Lh(t,l,s);return l==65535?[[],mo(t,a-2)]:(a!==l+2&&(n=Mh(t,r-l-2,i,s)),[i,n])}function _$(t){var a;if(rd(t,t.l+6)!==65535)return[uo(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return a=t[t.l+2]===1,t.l+=8,[a,"b"];case 2:return a=t[t.l+2],t.l+=8,[a,"e"];case 3:return t.l+=8,["","s"]}return[]}function B$(t){if(t==null){var a=es(8);return a.write_shift(1,3),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,65535),a}else if(typeof t=="number")return qu(t);return qu(0)}function Py(t,a,s){var r=t.l+a,n=Tc(t);s.biff==2&&++t.l;var l=_$(t),i=t.read_shift(1);s.biff!=2&&(t.read_shift(1),s.biff>=5&&t.read_shift(4));var c=M$(t,r-t.l,s);return{cell:n,val:l[0],formula:c,shared:i>>3&1,tt:l[1]}}function R$(t,a,s,r,n){var l=Ju(a,s,n),i=B$(t.v),c=es(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var h=es(t.bf.length),m=0;m<t.bf.length;++m)h[m]=t.bf[m];var b=Fn([l,i,c,h]);return b}function Zg(t,a,s){var r=t.read_shift(4),n=Lh(t,r,s),l=t.read_shift(4),i=l>0?Mh(t,l,n,s):null;return[n,i]}var H$=Zg,ef=Zg,U$=Zg,$$=Zg,W$={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ND={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},G$={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function gC(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(a,s){return s.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function z$(t){var a="of:="+t.replace(Ew,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return a.replace(/;/g,"|").replace(/,/g,";")}function Iy(t){var a=t.split(":"),s=a[0].split(".")[0];return[s,a[0].split(".")[1]+(a.length>1?":"+(a[1].split(".")[1]||a[1].split(".")[0]):"")]}function V$(t){return t.replace(/\./,"!")}var Gx={},U0={},zx=typeof Map<"u";function Fw(t,a,s){var r=0,n=t.length;if(s){if(zx?s.has(a):Object.prototype.hasOwnProperty.call(s,a)){for(var l=zx?s.get(a):s[a];r<l.length;++r)if(t[l[r]].t===a)return t.Count++,l[r]}}else for(;r<n;++r)if(t[r].t===a)return t.Count++,r;return t[n]={t:a},t.Count++,t.Unique++,s&&(zx?(s.has(a)||s.set(a,[]),s.get(a).push(n)):(Object.prototype.hasOwnProperty.call(s,a)||(s[a]=[]),s[a].push(n))),n}function tf(t,a){var s={min:t+1,max:t+1},r=-1;return a.MDW&&(io=a.MDW),a.width!=null?s.customWidth=1:a.wpx!=null?r=oh(a.wpx):a.wch!=null&&(r=a.wch),r>-1?(s.width=Cg(r),s.customWidth=1):a.width!=null&&(s.width=a.width),a.hidden&&(s.hidden=!0),a.level!=null&&(s.outlineLevel=s.level=a.level),s}function $u(t,a){if(t){var s=[.7,.7,.75,.75,.3,.3];a=="xlml"&&(s=[1,1,1,1,.5,.5]),t.left==null&&(t.left=s[0]),t.right==null&&(t.right=s[1]),t.top==null&&(t.top=s[2]),t.bottom==null&&(t.bottom=s[3]),t.header==null&&(t.header=s[4]),t.footer==null&&(t.footer=s[5])}}function pu(t,a,s){var r=s.revssf[a.z!=null?a.z:"General"],n=60,l=t.length;if(r==null&&s.ssf){for(;n<392;++n)if(s.ssf[n]==null){ld(a.z,n),s.ssf[n]=a.z,s.revssf[a.z]=r=n;break}}for(n=0;n!=l;++n)if(t[n].numFmtId===r)return n;return t[l]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function jD(t,a,s,r,n,l){try{r.cellNF&&(t.z=Vs[a])}catch(c){if(r.WTF)throw c}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=fr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(Vs[a]==null&&ld(W8[a]||"General",a),t.t==="e")t.w=t.w||gd[t.v];else if(a===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Zx(t.v);else if(t.t==="d"){var i=yn(t.v);(i|0)===i?t.w=i.toString(10):t.w=Zx(i)}else{if(t.v===void 0)return"";t.w=Yu(t.v,U0)}else t.t==="d"?t.w=ui(a,yn(t.v),U0):t.w=ui(a,t.v,U0)}catch(c){if(r.WTF)throw c}if(r.cellStyles&&s!=null)try{t.s=l.Fills[s],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=jg(n.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=n.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=jg(n.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=n.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(c){if(r.WTF&&l.Fills)throw c}}}function Y$(t,a,s){if(t&&t["!ref"]){var r=Pa(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+s+"): "+t["!ref"])}}function K$(t,a){var s=Pa(a);s.s.r<=s.e.r&&s.s.c<=s.e.c&&s.s.r>=0&&s.s.c>=0&&(t["!ref"]=la(s))}var q$=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,X$=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,J$=/<(?:\w:)?hyperlink [^>]*>/mg,Q$=/"(\w*:\w*)"/,Z$=/<(?:\w:)?col\b[^>]*[\/]?>/g,eW=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,tW=/<(?:\w:)?pageMargins[^>]*\/>/g,CD=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sW=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,aW=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function rW(t,a,s,r,n,l,i){if(!t)return t;r||(r={"!id":{}});var c=a.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h="",m="",b=t.match(X$);b?(h=t.slice(0,b.index),m=t.slice(b.index+b[0].length)):h=m=t;var g=h.match(CD);g?Pw(g[0],c,n,s):(g=h.match(sW))&&oW(g[0],g[1]||"",c,n,s);var w=(h.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(w>0){var p=h.slice(w,w+50).match(Q$);p&&K$(c,p[1])}var v=h.match(aW);v&&v[1]&&bW(v[1],n);var f=[];if(a.cellStyles){var y=h.match(Z$);y&&mW(f,y)}b&&NW(b[1],c,a,u,l,i);var N=m.match(eW);N&&(c["!autofilter"]=gW(N[0]));var C=[],S=m.match(q$);if(S)for(w=0;w!=S.length;++w)C[w]=Pa(S[w].slice(S[w].indexOf('"')+1));var I=m.match(J$);I&&uW(c,I,r);var k=m.match(tW);if(k&&(c["!margins"]=xW(qs(k[0]))),!c["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(c["!ref"]=la(u)),a.sheetRows>0&&c["!ref"]){var A=Pa(c["!ref"]);a.sheetRows<=+A.e.r&&(A.e.r=a.sheetRows-1,A.e.r>u.e.r&&(A.e.r=u.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>u.e.c&&(A.e.c=u.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),c["!fullref"]=c["!ref"],c["!ref"]=la(A))}return f.length>0&&(c["!cols"]=f),C.length>0&&(c["!merges"]=C),c}function nW(t){if(t.length===0)return"";for(var a='<mergeCells count="'+t.length+'">',s=0;s!=t.length;++s)a+='<mergeCell ref="'+la(t[s])+'"/>';return a+"</mergeCells>"}function Pw(t,a,s,r){var n=qs(t);s.Sheets[r]||(s.Sheets[r]={}),n.codeName&&(s.Sheets[r].CodeName=Fa(sr(n.codeName)))}function oW(t,a,s,r,n){Pw(t.slice(0,t.indexOf(">")),s,r,n)}function lW(t,a,s,r,n){var l=!1,i={},c=null;if(r.bookType!=="xlsx"&&a.vbaraw){var u=a.SheetNames[s];try{a.Workbook&&(u=a.Workbook.Sheets[s].CodeName||u)}catch{}l=!0,i.codeName=yc(Za(u))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),c=(c||"")+fs("outlinePr",null,h)}!l&&!c||(n[n.length]=fs("sheetPr",c,i))}var iW=["objects","scenarios","selectLockedCells","selectUnlockedCells"],cW=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function dW(t){var a={sheet:1};return iW.forEach(function(s){t[s]!=null&&t[s]&&(a[s]="1")}),cW.forEach(function(s){t[s]!=null&&!t[s]&&(a[s]="0")}),t.password&&(a.password=Sw(t.password).toString(16).toUpperCase()),fs("sheetProtection",null,a)}function uW(t,a,s){for(var r=Array.isArray(t),n=0;n!=a.length;++n){var l=qs(sr(a[n]),!0);if(!l.ref)return;var i=((s||{})["!id"]||[])[l.id];i?(l.Target=i.Target,l.location&&(l.Target+="#"+Fa(l.location))):(l.Target="#"+Fa(l.location),i={Target:l.Target,TargetMode:"Internal"}),l.Rel=i,l.tooltip&&(l.Tooltip=l.tooltip,delete l.tooltip);for(var c=Pa(l.ref),u=c.s.r;u<=c.e.r;++u)for(var h=c.s.c;h<=c.e.c;++h){var m=Ys({c:h,r:u});r?(t[u]||(t[u]=[]),t[u][h]||(t[u][h]={t:"z",v:void 0}),t[u][h].l=l):(t[m]||(t[m]={t:"z",v:void 0}),t[m].l=l)}}}function xW(t){var a={};return["left","right","top","bottom","header","footer"].forEach(function(s){t[s]&&(a[s]=parseFloat(t[s]))}),a}function hW(t){return $u(t),fs("pageMargins",null,t)}function mW(t,a){for(var s=!1,r=0;r!=a.length;++r){var n=qs(a[r],!0);n.hidden&&(n.hidden=gr(n.hidden));var l=parseInt(n.min,10)-1,i=parseInt(n.max,10)-1;for(n.outlineLevel&&(n.level=+n.outlineLevel||0),delete n.min,delete n.max,n.width=+n.width,!s&&n.width&&(s=!0,kw(n.width)),ou(n);l<=i;)t[l++]=yr(n)}}function pW(t,a){for(var s=["<cols>"],r,n=0;n!=a.length;++n)(r=a[n])&&(s[s.length]=fs("col",null,tf(n,r)));return s[s.length]="</cols>",s.join("")}function gW(t){var a={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return a}function fW(t,a,s,r){var n=typeof t.ref=="string"?t.ref:la(t.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var l=s.Workbook.Names,i=sl(n);i.s.r==i.e.r&&(i.e.r=sl(a["!ref"]).e.r,n=la(i));for(var c=0;c<l.length;++c){var u=l[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+s.SheetNames[r]+"'!"+n;break}}return c==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+s.SheetNames[r]+"'!"+n}),fs("autoFilter",null,{ref:n})}var yW=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function bW(t,a){a.Views||(a.Views=[{}]),(t.match(yW)||[]).forEach(function(s,r){var n=qs(s);a.Views[r]||(a.Views[r]={}),+n.zoomScale&&(a.Views[r].zoom=+n.zoomScale),gr(n.rightToLeft)&&(a.Views[r].RTL=!0)})}function vW(t,a,s,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),fs("sheetViews",fs("sheetView",null,n),{})}function wW(t,a,s,r){if(t.c&&s["!comments"].push([a,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var n="",l=t.t,i=t.v;if(t.t!=="z")switch(t.t){case"b":n=t.v?"1":"0";break;case"n":n=""+t.v;break;case"e":n=gd[t.v];break;case"d":r&&r.cellDates?n=fr(t.v,-1).toISOString():(t=yr(t),t.t="n",n=""+(t.v=yn(fr(t.v)))),typeof t.z>"u"&&(t.z=Vs[14]);break;default:n=t.v;break}var c=Yn("v",Za(n)),u={r:a},h=pu(r.cellXfs,t,r);switch(h!==0&&(u.s=h),t.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=Yn("v",""+Fw(r.Strings,t.v,r.revStrings)),u.t="s";break}u.t="str";break}if(t.t!=l&&(t.t=l,t.v=i),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,a.length)==a?{t:"array",ref:t.F}:null;c=fs("f",Za(t.f),m)+(t.v!=null?c:"")}return t.l&&s["!links"].push([a,t.l]),t.D&&(u.cm=1),fs("c",c,u)}var NW=(function(){var t=/<(?:\w+:)?c[ \/>]/,a=/<\/(?:\w+:)?row>/,s=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,n=/ref=["']([^"']*)["']/,l=eh("v"),i=eh("f");return function(u,h,m,b,g,w){for(var p=0,v="",f=[],y=[],N=0,C=0,S=0,I="",k,A,F=0,O=0,M,U,L=0,G=0,re=Array.isArray(w.CellXf),ye,K=[],ne=[],H=Array.isArray(h),se=[],we={},Y=!1,E=!!m.sheetStubs,P=u.split(a),V=0,D=P.length;V!=D;++V){v=P[V].trim();var R=v.length;if(R!==0){var ee=0;e:for(p=0;p<R;++p)switch(v[p]){case">":if(v[p-1]!="/"){++p;break e}if(m&&m.cellStyles){if(A=qs(v.slice(ee,p),!0),F=A.r!=null?parseInt(A.r,10):F+1,O=-1,m.sheetRows&&m.sheetRows<F)continue;we={},Y=!1,A.ht&&(Y=!0,we.hpt=parseFloat(A.ht),we.hpx=X0(we.hpt)),A.hidden=="1"&&(Y=!0,we.hidden=!0),A.outlineLevel!=null&&(Y=!0,we.level=+A.outlineLevel),Y&&(se[F-1]=we)}break;case"<":ee=p;break}if(ee>=p)break;if(A=qs(v.slice(ee,p),!0),F=A.r!=null?parseInt(A.r,10):F+1,O=-1,!(m.sheetRows&&m.sheetRows<F)){b.s.r>F-1&&(b.s.r=F-1),b.e.r<F-1&&(b.e.r=F-1),m&&m.cellStyles&&(we={},Y=!1,A.ht&&(Y=!0,we.hpt=parseFloat(A.ht),we.hpx=X0(we.hpt)),A.hidden=="1"&&(Y=!0,we.hidden=!0),A.outlineLevel!=null&&(Y=!0,we.level=+A.outlineLevel),Y&&(se[F-1]=we)),f=v.slice(p).split(t);for(var Se=0;Se!=f.length&&f[Se].trim().charAt(0)=="<";++Se);for(f=f.slice(Se),p=0;p!=f.length;++p)if(v=f[p].trim(),v.length!==0){if(y=v.match(s),N=p,C=0,S=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,y!=null&&y.length===2){for(N=0,I=y[1],C=0;C!=I.length&&!((S=I.charCodeAt(C)-64)<1||S>26);++C)N=26*N+S;--N,O=N}else++O;for(C=0;C!=v.length&&v.charCodeAt(C)!==62;++C);if(++C,A=qs(v.slice(0,C),!0),A.r||(A.r=Ys({r:F-1,c:O})),I=v.slice(C),k={t:""},(y=I.match(l))!=null&&y[1]!==""&&(k.v=Fa(y[1])),m.cellFormula){if((y=I.match(i))!=null&&y[1]!==""){if(k.f=Fa(sr(y[1])).replace(/\r\n/g,`
`),m.xlfn||(k.f=xC(k.f)),y[0].indexOf('t="array"')>-1)k.F=(I.match(n)||[])[1],k.F.indexOf(":")>-1&&K.push([Pa(k.F),k.F]);else if(y[0].indexOf('t="shared"')>-1){U=qs(y[0]);var ue=Fa(sr(y[1]));m.xlfn||(ue=xC(ue)),ne[parseInt(U.si,10)]=[U,ue,A.r]}}else(y=I.match(/<f[^>]*\/>/))&&(U=qs(y[0]),ne[U.si]&&(k.f=yU(ne[U.si][1],ne[U.si][2],A.r)));var oe=Tr(A.r);for(C=0;C<K.length;++C)oe.r>=K[C][0].s.r&&oe.r<=K[C][0].e.r&&oe.c>=K[C][0].s.c&&oe.c<=K[C][0].e.c&&(k.F=K[C][1])}if(A.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(E)k.t="z";else continue;else k.t=A.t||"n";switch(b.s.c>O&&(b.s.c=O),b.e.c<O&&(b.e.c=O),k.t){case"n":if(k.v==""||k.v==null){if(!E)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!E)continue;k.t="z"}else M=Gx[parseInt(k.v,10)],k.v=M.t,k.r=M.r,m.cellHTML&&(k.h=M.h);break;case"str":k.t="s",k.v=k.v!=null?sr(k.v):"",m.cellHTML&&(k.h=dw(k.v));break;case"inlineStr":y=I.match(r),k.t="s",y!=null&&(M=Cw(y[1]))?(k.v=M.t,m.cellHTML&&(k.h=M.h)):k.v="";break;case"b":k.v=gr(k.v);break;case"d":m.cellDates?k.v=fr(k.v,1):(k.v=yn(fr(k.v,1)),k.t="n");break;case"e":(!m||m.cellText!==!1)&&(k.w=k.v),k.v=k3[k.v];break}if(L=G=0,ye=null,re&&A.s!==void 0&&(ye=w.CellXf[A.s],ye!=null&&(ye.numFmtId!=null&&(L=ye.numFmtId),m.cellStyles&&ye.fillId!=null&&(G=ye.fillId))),jD(k,L,G,m,g,w),m.cellDates&&re&&k.t=="n"&&lx(Vs[L])&&(k.t="d",k.v=Jg(k.v)),A.cm&&m.xlmeta){var le=(m.xlmeta.Cell||[])[+A.cm-1];le&&le.type=="XLDAPR"&&(k.D=!0)}if(H){var Q=Tr(A.r);h[Q.r]||(h[Q.r]=[]),h[Q.r][Q.c]=k}else h[A.r]=k}}}}se.length>0&&(h["!rows"]=se)}})();function jW(t,a,s,r){var n=[],l=[],i=Pa(t["!ref"]),c="",u,h="",m=[],b=0,g=0,w=t["!rows"],p=Array.isArray(t),v={r:h},f,y=-1;for(g=i.s.c;g<=i.e.c;++g)m[g]=Er(g);for(b=i.s.r;b<=i.e.r;++b){for(l=[],h=Kr(b),g=i.s.c;g<=i.e.c;++g){u=m[g]+h;var N=p?(t[b]||[])[g]:t[u];N!==void 0&&(c=wW(N,u,t,a))!=null&&l.push(c)}(l.length>0||w&&w[b])&&(v={r:h},w&&w[b]&&(f=w[b],f.hidden&&(v.hidden=1),y=-1,f.hpx?y=lh(f.hpx):f.hpt&&(y=f.hpt),y>-1&&(v.ht=y,v.customHeight=1),f.level&&(v.outlineLevel=f.level)),n[n.length]=fs("row",l.join(""),v))}if(w)for(;b<w.length;++b)w&&w[b]&&(v={r:b+1},f=w[b],f.hidden&&(v.hidden=1),y=-1,f.hpx?y=lh(f.hpx):f.hpt&&(y=f.hpt),y>-1&&(v.ht=y,v.customHeight=1),f.level&&(v.outlineLevel=f.level),n[n.length]=fs("row","",v));return n.join("")}function SD(t,a,s,r){var n=[Qr,fs("worksheet",null,{xmlns:o0[0],"xmlns:r":fn.r})],l=s.SheetNames[t],i=0,c="",u=s.Sheets[l];u==null&&(u={});var h=u["!ref"]||"A1",m=Pa(h);if(m.e.c>16383||m.e.r>1048575){if(a.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=la(m)}r||(r={}),u["!comments"]=[];var b=[];lW(u,s,t,a,n),n[n.length]=fs("dimension",null,{ref:h}),n[n.length]=vW(u,a,t,s),a.sheetFormat&&(n[n.length]=fs("sheetFormatPr",null,{defaultRowHeight:a.sheetFormat.defaultRowHeight||"16",baseColWidth:a.sheetFormat.baseColWidth||"10",outlineLevelRow:a.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(n[n.length]=pW(u,u["!cols"])),n[i=n.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=jW(u,a),c.length>0&&(n[n.length]=c)),n.length>i+1&&(n[n.length]="</sheetData>",n[i]=n[i].replace("/>",">")),u["!protect"]&&(n[n.length]=dW(u["!protect"])),u["!autofilter"]!=null&&(n[n.length]=fW(u["!autofilter"],u,s,t)),u["!merges"]!=null&&u["!merges"].length>0&&(n[n.length]=nW(u["!merges"]));var g=-1,w,p=-1;return u["!links"].length>0&&(n[n.length]="<hyperlinks>",u["!links"].forEach(function(v){v[1].Target&&(w={ref:v[0]},v[1].Target.charAt(0)!="#"&&(p=Qa(r,-1,Za(v[1].Target).replace(/#.*$/,""),fa.HLINK),w["r:id"]="rId"+p),(g=v[1].Target.indexOf("#"))>-1&&(w.location=Za(v[1].Target.slice(g+1))),v[1].Tooltip&&(w.tooltip=Za(v[1].Tooltip)),n[n.length]=fs("hyperlink",null,w))}),n[n.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(n[n.length]=hW(u["!margins"])),(!a||a.ignoreEC||a.ignoreEC==null)&&(n[n.length]=Yn("ignoredErrors",fs("ignoredError",null,{numberStoredAsText:1,sqref:h}))),b.length>0&&(p=Qa(r,-1,"../drawings/drawing"+(t+1)+".xml",fa.DRAW),n[n.length]=fs("drawing",null,{"r:id":"rId"+p}),u["!drawing"]=b),u["!comments"].length>0&&(p=Qa(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",fa.VML),n[n.length]=fs("legacyDrawing",null,{"r:id":"rId"+p}),u["!legacy"]=p),n.length>1&&(n[n.length]="</worksheet>",n[1]=n[1].replace("/>",">")),n.join("")}function CW(t,a){var s={},r=t.l+a;s.r=t.read_shift(4),t.l+=4;var n=t.read_shift(2);t.l+=1;var l=t.read_shift(1);return t.l=r,l&7&&(s.level=l&7),l&16&&(s.hidden=!0),l&32&&(s.hpt=n/20),s}function SW(t,a,s){var r=es(145),n=(s["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var l=320;n.hpx?l=lh(n.hpx)*20:n.hpt&&(l=n.hpt*20),r.write_shift(2,l),r.write_shift(1,0);var i=0;n.level&&(i|=n.level),n.hidden&&(i|=16),(n.hpx||n.hpt)&&(i|=32),r.write_shift(1,i),r.write_shift(1,0);var c=0,u=r.l;r.l+=4;for(var h={r:t,c:0},m=0;m<16;++m)if(!(a.s.c>m+1<<10||a.e.c<m<<10)){for(var b=-1,g=-1,w=m<<10;w<m+1<<10;++w){h.c=w;var p=Array.isArray(s)?(s[h.r]||[])[h.c]:s[Ys(h)];p&&(b<0&&(b=w),g=w)}b<0||(++c,r.write_shift(4,b),r.write_shift(4,g))}var v=r.l;return r.l=u,r.write_shift(4,c),r.l=v,r.length>r.l?r.slice(0,r.l):r}function kW(t,a,s,r){var n=SW(r,s,a);(n.length>17||(a["!rows"]||[])[r])&&as(t,0,n)}var DW=d0,EW=dx;function TW(){}function AW(t,a){var s={},r=t[t.l];return++t.l,s.above=!(r&64),s.left=!(r&128),t.l+=18,s.name=I_(t),s}function FW(t,a,s){s==null&&(s=es(84+4*t.length));var r=192;a&&(a.above&&(r&=-65),a.left&&(r&=-129)),s.write_shift(1,r);for(var n=1;n<3;++n)s.write_shift(1,0);return vg({auto:1},s),s.write_shift(-4,-1),s.write_shift(-4,-1),w3(t,s),s.slice(0,s.l)}function PW(t){var a=xi(t);return[a]}function IW(t,a,s){return s==null&&(s=es(8)),l0(a,s)}function MW(t){var a=i0(t);return[a]}function LW(t,a,s){return s==null&&(s=es(4)),c0(a,s)}function OW(t){var a=xi(t),s=t.read_shift(1);return[a,s,"b"]}function _W(t,a,s){return s==null&&(s=es(9)),l0(a,s),s.write_shift(1,t.v?1:0),s}function BW(t){var a=i0(t),s=t.read_shift(1);return[a,s,"b"]}function RW(t,a,s){return s==null&&(s=es(5)),c0(a,s),s.write_shift(1,t.v?1:0),s}function HW(t){var a=xi(t),s=t.read_shift(1);return[a,s,"e"]}function UW(t,a,s){return s==null&&(s=es(9)),l0(a,s),s.write_shift(1,t.v),s}function $W(t){var a=i0(t),s=t.read_shift(1);return[a,s,"e"]}function WW(t,a,s){return s==null&&(s=es(8)),c0(a,s),s.write_shift(1,t.v),s.write_shift(2,0),s.write_shift(1,0),s}function GW(t){var a=xi(t),s=t.read_shift(4);return[a,s,"s"]}function zW(t,a,s){return s==null&&(s=es(12)),l0(a,s),s.write_shift(4,a.v),s}function VW(t){var a=i0(t),s=t.read_shift(4);return[a,s,"s"]}function YW(t,a,s){return s==null&&(s=es(8)),c0(a,s),s.write_shift(4,a.v),s}function KW(t){var a=xi(t),s=uo(t);return[a,s,"n"]}function qW(t,a,s){return s==null&&(s=es(16)),l0(a,s),qu(t.v,s),s}function kD(t){var a=i0(t),s=uo(t);return[a,s,"n"]}function XW(t,a,s){return s==null&&(s=es(12)),c0(a,s),qu(t.v,s),s}function JW(t){var a=xi(t),s=bw(t);return[a,s,"n"]}function QW(t,a,s){return s==null&&(s=es(12)),l0(a,s),N3(t.v,s),s}function ZW(t){var a=i0(t),s=bw(t);return[a,s,"n"]}function eG(t,a,s){return s==null&&(s=es(8)),c0(a,s),N3(t.v,s),s}function tG(t){var a=xi(t),s=gw(t);return[a,s,"is"]}function sG(t){var a=xi(t),s=xo(t);return[a,s,"str"]}function aG(t,a,s){return s==null&&(s=es(12+4*t.v.length)),l0(a,s),Pn(t.v,s),s.length>s.l?s.slice(0,s.l):s}function rG(t){var a=i0(t),s=xo(t);return[a,s,"str"]}function nG(t,a,s){return s==null&&(s=es(8+4*t.v.length)),c0(a,s),Pn(t.v,s),s.length>s.l?s.slice(0,s.l):s}function oG(t,a,s){var r=t.l+a,n=xi(t);n.r=s["!row"];var l=t.read_shift(1),i=[n,l,"b"];if(s.cellFormula){t.l+=2;var c=ef(t,r-t.l,s);i[3]=lo(c,null,n,s.supbooks,s)}else t.l=r;return i}function lG(t,a,s){var r=t.l+a,n=xi(t);n.r=s["!row"];var l=t.read_shift(1),i=[n,l,"e"];if(s.cellFormula){t.l+=2;var c=ef(t,r-t.l,s);i[3]=lo(c,null,n,s.supbooks,s)}else t.l=r;return i}function iG(t,a,s){var r=t.l+a,n=xi(t);n.r=s["!row"];var l=uo(t),i=[n,l,"n"];if(s.cellFormula){t.l+=2;var c=ef(t,r-t.l,s);i[3]=lo(c,null,n,s.supbooks,s)}else t.l=r;return i}function cG(t,a,s){var r=t.l+a,n=xi(t);n.r=s["!row"];var l=xo(t),i=[n,l,"str"];if(s.cellFormula){t.l+=2;var c=ef(t,r-t.l,s);i[3]=lo(c,null,n,s.supbooks,s)}else t.l=r;return i}var dG=d0,uG=dx;function xG(t,a){return a==null&&(a=es(4)),a.write_shift(4,t),a}function hG(t,a){var s=t.l+a,r=d0(t),n=fw(t),l=xo(t),i=xo(t),c=xo(t);t.l=s;var u={rfx:r,relId:n,loc:l,display:c};return i&&(u.Tooltip=i),u}function mG(t,a){var s=es(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));dx({s:Tr(t[0]),e:Tr(t[0])},s),yw("rId"+a,s);var r=t[1].Target.indexOf("#"),n=r==-1?"":t[1].Target.slice(r+1);return Pn(n||"",s),Pn(t[1].Tooltip||"",s),Pn("",s),s.slice(0,s.l)}function pG(){}function gG(t,a,s){var r=t.l+a,n=j3(t),l=t.read_shift(1),i=[n];if(i[2]=l,s.cellFormula){var c=H$(t,r-t.l,s);i[1]=c}else t.l=r;return i}function fG(t,a,s){var r=t.l+a,n=d0(t),l=[n];if(s.cellFormula){var i=$$(t,r-t.l,s);l[1]=i,t.l=r}else t.l=r;return l}function yG(t,a,s){s==null&&(s=es(18));var r=tf(t,a);s.write_shift(-4,t),s.write_shift(-4,t),s.write_shift(4,(r.width||10)*256),s.write_shift(4,0);var n=0;return a.hidden&&(n|=1),typeof r.width=="number"&&(n|=2),a.level&&(n|=a.level<<8),s.write_shift(2,n),s}var DD=["left","right","top","bottom","header","footer"];function bG(t){var a={};return DD.forEach(function(s){a[s]=uo(t)}),a}function vG(t,a){return a==null&&(a=es(48)),$u(t),DD.forEach(function(s){qu(t[s],a)}),a}function wG(t){var a=t.read_shift(2);return t.l+=28,{RTL:a&32}}function NG(t,a,s){s==null&&(s=es(30));var r=924;return(((a||{}).Views||[])[0]||{}).RTL&&(r|=32),s.write_shift(2,r),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(1,0),s.write_shift(1,0),s.write_shift(2,0),s.write_shift(2,100),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s}function jG(t){var a=es(24);return a.write_shift(4,4),a.write_shift(4,1),dx(t,a),a}function CG(t,a){return a==null&&(a=es(66)),a.write_shift(2,t.password?Sw(t.password):0),a.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(s){s[1]?a.write_shift(4,t[s[0]]!=null&&!t[s[0]]?1:0):a.write_shift(4,t[s[0]]!=null&&t[s[0]]?0:1)}),a}function SG(){}function kG(){}function DG(t,a,s,r,n,l,i){if(!t)return t;var c=a||{};r||(r={"!id":{}});var u=c.dense?[]:{},h,m={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=!1,g=!1,w,p,v,f,y,N,C,S,I,k=[];c.biff=12,c["!row"]=0;var A=0,F=!1,O=[],M={},U=c.supbooks||n.supbooks||[[]];if(U.sharedf=M,U.arrayf=O,U.SheetNames=n.SheetNames||n.Sheets.map(function(H){return H.name}),!c.supbooks&&(c.supbooks=U,n.Names))for(var L=0;L<n.Names.length;++L)U[0][L+1]=n.Names[L];var G=[],re=[],ye=!1;ih[16]={n:"BrtShortReal",f:kD};var K;if(pd(t,function(se,we,Y){if(!g)switch(Y){case 148:h=se;break;case 0:w=se,c.sheetRows&&c.sheetRows<=w.r&&(g=!0),S=Kr(f=w.r),c["!row"]=w.r,(se.hidden||se.hpt||se.level!=null)&&(se.hpt&&(se.hpx=X0(se.hpt)),re[se.r]=se);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:se[2]},se[2]){case"n":p.v=se[1];break;case"s":C=Gx[se[1]],p.v=C.t,p.r=C.r;break;case"b":p.v=!!se[1];break;case"e":p.v=se[1],c.cellText!==!1&&(p.w=gd[p.v]);break;case"str":p.t="s",p.v=se[1];break;case"is":p.t="s",p.v=se[1].t;break}if((v=i.CellXf[se[0].iStyleRef])&&jD(p,v.numFmtId,null,c,l,i),y=se[0].c==-1?y+1:se[0].c,c.dense?(u[f]||(u[f]=[]),u[f][y]=p):u[Er(y)+S]=p,c.cellFormula){for(F=!1,A=0;A<O.length;++A){var E=O[A];w.r>=E[0].s.r&&w.r<=E[0].e.r&&y>=E[0].s.c&&y<=E[0].e.c&&(p.F=la(E[0]),F=!0)}!F&&se.length>3&&(p.f=se[3])}if(m.s.r>w.r&&(m.s.r=w.r),m.s.c>y&&(m.s.c=y),m.e.r<w.r&&(m.e.r=w.r),m.e.c<y&&(m.e.c=y),c.cellDates&&v&&p.t=="n"&&lx(Vs[v.numFmtId])){var P=Ou(p.v);P&&(p.t="d",p.v=new Date(P.y,P.m-1,P.d,P.H,P.M,P.S,P.u))}K&&(K.type=="XLDAPR"&&(p.D=!0),K=void 0);break;case 1:case 12:if(!c.sheetStubs||b)break;p={t:"z",v:void 0},y=se[0].c==-1?y+1:se[0].c,c.dense?(u[f]||(u[f]=[]),u[f][y]=p):u[Er(y)+S]=p,m.s.r>w.r&&(m.s.r=w.r),m.s.c>y&&(m.s.c=y),m.e.r<w.r&&(m.e.r=w.r),m.e.c<y&&(m.e.c=y),K&&(K.type=="XLDAPR"&&(p.D=!0),K=void 0);break;case 176:k.push(se);break;case 49:K=((c.xlmeta||{}).Cell||[])[se-1];break;case 494:var V=r["!id"][se.relId];for(V?(se.Target=V.Target,se.loc&&(se.Target+="#"+se.loc),se.Rel=V):se.relId==""&&(se.Target="#"+se.loc),f=se.rfx.s.r;f<=se.rfx.e.r;++f)for(y=se.rfx.s.c;y<=se.rfx.e.c;++y)c.dense?(u[f]||(u[f]=[]),u[f][y]||(u[f][y]={t:"z",v:void 0}),u[f][y].l=se):(N=Ys({c:y,r:f}),u[N]||(u[N]={t:"z",v:void 0}),u[N].l=se);break;case 426:if(!c.cellFormula)break;O.push(se),I=c.dense?u[f][y]:u[Er(y)+S],I.f=lo(se[1],m,{r:w.r,c:y},U,c),I.F=la(se[0]);break;case 427:if(!c.cellFormula)break;M[Ys(se[0].s)]=se[1],I=c.dense?u[f][y]:u[Er(y)+S],I.f=lo(se[1],m,{r:w.r,c:y},U,c);break;case 60:if(!c.cellStyles)break;for(;se.e>=se.s;)G[se.e--]={width:se.w/256,hidden:!!(se.flags&1),level:se.level},ye||(ye=!0,kw(se.w/256)),ou(G[se.e+1]);break;case 161:u["!autofilter"]={ref:la(se)};break;case 476:u["!margins"]=se;break;case 147:n.Sheets[s]||(n.Sheets[s]={}),se.name&&(n.Sheets[s].CodeName=se.name),(se.above||se.left)&&(u["!outline"]={above:se.above,left:se.left});break;case 137:n.Views||(n.Views=[{}]),n.Views[0]||(n.Views[0]={}),se.RTL&&(n.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:b=!0;break;case 36:b=!1;break;case 37:b=!0;break;case 38:b=!1;break;default:if(!we.T){if(!b||c.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},c),delete c.supbooks,delete c["!row"],!u["!ref"]&&(m.s.r<2e6||h&&(h.e.r>0||h.e.c>0||h.s.r>0||h.s.c>0))&&(u["!ref"]=la(h||m)),c.sheetRows&&u["!ref"]){var ne=Pa(u["!ref"]);c.sheetRows<=+ne.e.r&&(ne.e.r=c.sheetRows-1,ne.e.r>m.e.r&&(ne.e.r=m.e.r),ne.e.r<ne.s.r&&(ne.s.r=ne.e.r),ne.e.c>m.e.c&&(ne.e.c=m.e.c),ne.e.c<ne.s.c&&(ne.s.c=ne.e.c),u["!fullref"]=u["!ref"],u["!ref"]=la(ne))}return k.length>0&&(u["!merges"]=k),G.length>0&&(u["!cols"]=G),re.length>0&&(u["!rows"]=re),u}function EG(t,a,s,r,n,l,i){if(a.v===void 0)return!1;var c="";switch(a.t){case"b":c=a.v?"1":"0";break;case"d":a=yr(a),a.z=a.z||Vs[14],a.v=yn(fr(a.v)),a.t="n";break;case"n":case"e":c=""+a.v;break;default:c=a.v;break}var u={r:s,c:r};switch(u.s=pu(n.cellXfs,a,n),a.l&&l["!links"].push([Ys(u),a.l]),a.c&&l["!comments"].push([Ys(u),a.c]),a.t){case"s":case"str":return n.bookSST?(c=Fw(n.Strings,a.v,n.revStrings),u.t="s",u.v=c,i?as(t,18,YW(a,u)):as(t,7,zW(a,u))):(u.t="str",i?as(t,17,nG(a,u)):as(t,6,aG(a,u))),!0;case"n":return a.v==(a.v|0)&&a.v>-1e3&&a.v<1e3?i?as(t,13,eG(a,u)):as(t,2,QW(a,u)):i?as(t,16,XW(a,u)):as(t,5,qW(a,u)),!0;case"b":return u.t="b",i?as(t,15,RW(a,u)):as(t,4,_W(a,u)),!0;case"e":return u.t="e",i?as(t,14,WW(a,u)):as(t,3,UW(a,u)),!0}return i?as(t,12,LW(a,u)):as(t,1,IW(a,u)),!0}function TG(t,a,s,r){var n=Pa(a["!ref"]||"A1"),l,i="",c=[];as(t,145);var u=Array.isArray(a),h=n.e.r;a["!rows"]&&(h=Math.max(n.e.r,a["!rows"].length-1));for(var m=n.s.r;m<=h;++m){i=Kr(m),kW(t,a,n,m);var b=!1;if(m<=n.e.r)for(var g=n.s.c;g<=n.e.c;++g){m===n.s.r&&(c[g]=Er(g)),l=c[g]+i;var w=u?(a[m]||[])[g]:a[l];if(!w){b=!1;continue}b=EG(t,w,m,g,r,a,b)}}as(t,146)}function AG(t,a){!a||!a["!merges"]||(as(t,177,xG(a["!merges"].length)),a["!merges"].forEach(function(s){as(t,176,uG(s))}),as(t,178))}function FG(t,a){!a||!a["!cols"]||(as(t,390),a["!cols"].forEach(function(s,r){s&&as(t,60,yG(r,s))}),as(t,391))}function PG(t,a){!a||!a["!ref"]||(as(t,648),as(t,649,jG(Pa(a["!ref"]))),as(t,650))}function IG(t,a,s){a["!links"].forEach(function(r){if(r[1].Target){var n=Qa(s,-1,r[1].Target.replace(/#.*$/,""),fa.HLINK);as(t,494,mG(r,n))}}),delete a["!links"]}function MG(t,a,s,r){if(a["!comments"].length>0){var n=Qa(r,-1,"../drawings/vmlDrawing"+(s+1)+".vml",fa.VML);as(t,551,yw("rId"+n)),a["!legacy"]=n}}function LG(t,a,s,r){if(a["!autofilter"]){var n=a["!autofilter"],l=typeof n.ref=="string"?n.ref:la(n.ref);s.Workbook||(s.Workbook={Sheets:[]}),s.Workbook.Names||(s.Workbook.Names=[]);var i=s.Workbook.Names,c=sl(l);c.s.r==c.e.r&&(c.e.r=sl(a["!ref"]).e.r,l=la(c));for(var u=0;u<i.length;++u){var h=i[u];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+s.SheetNames[r]+"'!"+l;break}}u==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+s.SheetNames[r]+"'!"+l}),as(t,161,dx(Pa(l))),as(t,162)}}function OG(t,a,s){as(t,133),as(t,137,NG(a,s)),as(t,138),as(t,134)}function _G(t,a){a["!protect"]&&as(t,535,CG(a["!protect"]))}function BG(t,a,s,r){var n=el(),l=s.SheetNames[t],i=s.Sheets[l]||{},c=l;try{s&&s.Workbook&&(c=s.Workbook.Sheets[t].CodeName||c)}catch{}var u=Pa(i["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(a.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],as(n,129),(s.vbaraw||i["!outline"])&&as(n,147,FW(c,i["!outline"])),as(n,148,EW(u)),OG(n,i,s.Workbook),FG(n,i),TG(n,i,t,a),_G(n,i),LG(n,i,s,t),AG(n,i),IG(n,i,r),i["!margins"]&&as(n,476,vG(i["!margins"])),(!a||a.ignoreEC||a.ignoreEC==null)&&PG(n,i),MG(n,i,t,r),as(n,130),n.end()}function RG(t){var a=[],s=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(l){var i=l.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(a[+i[1]]=s?+i[2]:i[2])});var n=Fa((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(l){r=l.replace(/<.*?>/g,"")}),[a,n,r]}function HG(t,a,s,r,n,l){var i=l||{"!type":"chart"};if(!t)return l;var c=0,u=0,h="A",m={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(b){var g=RG(b);m.s.r=m.s.c=0,m.e.c=c,h=Er(c),g[0].forEach(function(w,p){i[h+Kr(p)]={t:"n",v:w,z:g[1]},u=p}),m.e.r<u&&(m.e.r=u),++c}),c>0&&(i["!ref"]=la(m)),i}function UG(t,a,s,r,n){if(!t)return t;r||(r={"!id":{}});var l={"!type":"chart","!drawel":null,"!rel":""},i,c=t.match(CD);return c&&Pw(c[0],l,n,s),(i=t.match(/drawing r:id="(.*?)"/))&&(l["!rel"]=i[1]),r["!id"][l["!rel"]]&&(l["!drawel"]=r["!id"][l["!rel"]]),l}function $G(t,a){t.l+=10;var s=xo(t);return{name:s}}function WG(t,a,s,r,n){if(!t)return t;r||(r={"!id":{}});var l={"!type":"chart","!drawel":null,"!rel":""},i=!1;return pd(t,function(u,h,m){switch(m){case 550:l["!rel"]=u;break;case 651:n.Sheets[s]||(n.Sheets[s]={}),u.name&&(n.Sheets[s].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(h.T>0)){if(!(h.T<0)){if(!i||a.WTF)throw new Error("Unexpected record 0x"+m.toString(16))}}}},a),r["!id"][l["!rel"]]&&(l["!drawel"]=r["!id"][l["!rel"]]),l}var Iw=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],GG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zG=[],VG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function fC(t,a){for(var s=0;s!=t.length;++s)for(var r=t[s],n=0;n!=a.length;++n){var l=a[n];if(r[l[0]]==null)r[l[0]]=l[1];else switch(l[2]){case"bool":typeof r[l[0]]=="string"&&(r[l[0]]=gr(r[l[0]]));break;case"int":typeof r[l[0]]=="string"&&(r[l[0]]=parseInt(r[l[0]],10));break}}}function yC(t,a){for(var s=0;s!=a.length;++s){var r=a[s];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=gr(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function ED(t){yC(t.WBProps,Iw),yC(t.CalcPr,VG),fC(t.WBView,GG),fC(t.Sheets,zG),U0.date1904=gr(t.WBProps.date1904)}function YG(t){return!t.Workbook||!t.Workbook.WBProps?"false":gr(t.Workbook.WBProps.date1904)?"true":"false"}var KG="][*?/\\".split("");function TD(t,a){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var s=!0;return KG.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),s}function qG(t,a,s){t.forEach(function(r,n){TD(r);for(var l=0;l<n;++l)if(r==t[l])throw new Error("Duplicate Sheet Name: "+r);if(s){var i=a&&a[n]&&a[n].CodeName||r;if(i.charCodeAt(0)==95&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}function XG(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var a=t.Workbook&&t.Workbook.Sheets||[];qG(t.SheetNames,a,!!t.vbaraw);for(var s=0;s<t.SheetNames.length;++s)Y$(t.Sheets[t.SheetNames[s]],t.SheetNames[s],s)}var JG=/<\w+:workbook/;function QG(t,a){if(!t)throw new Error("Could not find file");var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,n="xmlns",l={},i=0;if(t.replace(po,function(u,h){var m=qs(u);switch(Ec(m[0])){case"<?xml":break;case"<workbook":u.match(JG)&&(n="xmlns"+u.match(/<(\w+):/)[1]),s.xmlns=m[n];break;case"</workbook>":break;case"<fileVersion":delete m[0],s.AppVersion=m;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Iw.forEach(function(b){if(m[b[0]]!=null)switch(b[2]){case"bool":s.WBProps[b[0]]=gr(m[b[0]]);break;case"int":s.WBProps[b[0]]=parseInt(m[b[0]],10);break;default:s.WBProps[b[0]]=m[b[0]]}}),m.codeName&&(s.WBProps.CodeName=sr(m.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete m[0],s.WBView.push(m);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(m.state){case"hidden":m.Hidden=1;break;case"veryHidden":m.Hidden=2;break;default:m.Hidden=0}delete m.state,m.name=Fa(sr(m.name)),delete m[0],s.Sheets.push(m);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":l={},l.Name=sr(m.name),m.comment&&(l.Comment=m.comment),m.localSheetId&&(l.Sheet=+m.localSheetId),gr(m.hidden||"0")&&(l.Hidden=!0),i=h+u.length;break;case"</definedName>":l.Ref=Fa(sr(t.slice(i,h))),s.Names.push(l);break;case"<definedName/>":break;case"<calcPr":delete m[0],s.CalcPr=m;break;case"<calcPr/>":delete m[0],s.CalcPr=m;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&a.WTF)throw new Error("unrecognized "+m[0]+" in workbook")}return u}),o0.indexOf(s.xmlns)===-1)throw new Error("Unknown Namespace: "+s.xmlns);return ED(s),s}function AD(t){var a=[Qr];a[a.length]=fs("workbook",null,{xmlns:o0[0],"xmlns:r":fn.r});var s=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Iw.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),a[a.length]=fs("workbookPr",null,r);var n=t.Workbook&&t.Workbook.Sheets||[],l=0;if(n&&n[0]&&n[0].Hidden){for(a[a.length]="<bookViews>",l=0;l!=t.SheetNames.length&&!(!n[l]||!n[l].Hidden);++l);l==t.SheetNames.length&&(l=0),a[a.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',a[a.length]="</bookViews>"}for(a[a.length]="<sheets>",l=0;l!=t.SheetNames.length;++l){var i={name:Za(t.SheetNames[l].slice(0,31))};if(i.sheetId=""+(l+1),i["r:id"]="rId"+(l+1),n[l])switch(n[l].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden";break}a[a.length]=fs("sheet",null,i)}return a[a.length]="</sheets>",s&&(a[a.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(a[a.length]=fs("definedName",Za(c.Ref),u))}),a[a.length]="</definedNames>"),a.length>2&&(a[a.length]="</workbook>",a[1]=a[1].replace("/>",">")),a.join("")}function ZG(t,a){var s={};return s.Hidden=t.read_shift(4),s.iTabID=t.read_shift(4),s.strRelID=Jb(t),s.name=xo(t),s}function ez(t,a){return a||(a=es(127)),a.write_shift(4,t.Hidden),a.write_shift(4,t.iTabID),yw(t.strRelID,a),Pn(t.name.slice(0,31),a),a.length>a.l?a.slice(0,a.l):a}function tz(t,a){var s={},r=t.read_shift(4);s.defaultThemeVersion=t.read_shift(4);var n=a>8?xo(t):"";return n.length>0&&(s.CodeName=n),s.autoCompressPictures=!!(r&65536),s.backupFile=!!(r&64),s.checkCompatibility=!!(r&4096),s.date1904=!!(r&1),s.filterPrivacy=!!(r&8),s.hidePivotFieldList=!!(r&1024),s.promptedSolutions=!!(r&16),s.publishItems=!!(r&2048),s.refreshAllConnections=!!(r&262144),s.saveExternalLinkValues=!!(r&128),s.showBorderUnselectedTables=!!(r&4),s.showInkAnnotation=!!(r&32),s.showObjects=["all","placeholders","none"][r>>13&3],s.showPivotChartFilter=!!(r&32768),s.updateLinks=["userSet","never","always"][r>>8&3],s}function sz(t,a){a||(a=es(72));var s=0;return t&&t.filterPrivacy&&(s|=8),a.write_shift(4,s),a.write_shift(4,0),w3(t&&t.CodeName||"ThisWorkbook",a),a.slice(0,a.l)}function az(t,a){var s={};return t.read_shift(4),s.ArchID=t.read_shift(4),t.l+=a-8,s}function rz(t,a,s){var r=t.l+a;t.l+=4,t.l+=1;var n=t.read_shift(4),l=M_(t),i=U$(t,0,s),c=fw(t);t.l=r;var u={Name:l,Ptg:i};return n<268435455&&(u.Sheet=n),c&&(u.Comment=c),u}function nz(t,a){var s={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],n=!1;a||(a={}),a.biff=12;var l=[],i=[[]];return i.SheetNames=[],i.XTI=[],ih[16]={n:"BrtFRTArchID$",f:az},pd(t,function(u,h,m){switch(m){case 156:i.SheetNames.push(u.name),s.Sheets.push(u);break;case 153:s.WBProps=u;break;case 39:u.Sheet!=null&&(a.SID=u.Sheet),u.Ref=lo(u.Ptg,null,null,i,a),delete a.SID,delete u.Ptg,l.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([m,u]):i[0]=[m,u],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(u),i.XTI=i.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(m),n=!0;break;case 36:r.pop(),n=!1;break;case 37:r.push(m),n=!0;break;case 38:r.pop(),n=!1;break;case 16:break;default:if(!h.T){if(!n||a.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+m.toString(16))}}},a),ED(s),s.Names=l,s.supbooks=i,s}function oz(t,a){as(t,143);for(var s=0;s!=a.SheetNames.length;++s){var r=a.Workbook&&a.Workbook.Sheets&&a.Workbook.Sheets[s]&&a.Workbook.Sheets[s].Hidden||0,n={Hidden:r,iTabID:s+1,strRelID:"rId"+(s+1),name:a.SheetNames[s]};as(t,156,ez(n))}as(t,144)}function lz(t,a){a||(a=es(127));for(var s=0;s!=4;++s)a.write_shift(4,0);return Pn("SheetJS",a),Pn(hg.version,a),Pn(hg.version,a),Pn("7262",a),a.length>a.l?a.slice(0,a.l):a}function iz(t,a){a||(a=es(29)),a.write_shift(-4,0),a.write_shift(-4,460),a.write_shift(4,28800),a.write_shift(4,17600),a.write_shift(4,500),a.write_shift(4,t),a.write_shift(4,t);var s=120;return a.write_shift(1,s),a.length>a.l?a.slice(0,a.l):a}function cz(t,a){if(!(!a.Workbook||!a.Workbook.Sheets)){for(var s=a.Workbook.Sheets,r=0,n=-1,l=-1;r<s.length;++r)!s[r]||!s[r].Hidden&&n==-1?n=r:s[r].Hidden==1&&l==-1&&(l=r);l>n||(as(t,135),as(t,158,iz(n)),as(t,136))}}function dz(t,a){var s=el();return as(s,131),as(s,128,lz()),as(s,153,sz(t.Workbook&&t.Workbook.WBProps||null)),cz(s,t),oz(s,t),as(s,132),s.end()}function uz(t,a,s){return a.slice(-4)===".bin"?nz(t,s):QG(t,s)}function xz(t,a,s,r,n,l,i,c){return a.slice(-4)===".bin"?DG(t,r,s,n,l,i,c):rW(t,r,s,n,l,i,c)}function hz(t,a,s,r,n,l,i,c){return a.slice(-4)===".bin"?WG(t,r,s,n,l):UG(t,r,s,n,l)}function mz(t,a,s,r,n,l,i,c){return a.slice(-4)===".bin"?gU():fU()}function pz(t,a,s,r,n,l,i,c){return a.slice(-4)===".bin"?mU():pU()}function gz(t,a,s,r){return a.slice(-4)===".bin"?uH(t,s,r):Z9(t,s,r)}function fz(t,a,s){return dD(t,s)}function yz(t,a,s){return a.slice(-4)===".bin"?y9(t,s):p9(t,s)}function bz(t,a,s){return a.slice(-4)===".bin"?cU(t,s):eU(t,s)}function vz(t,a,s){return a.slice(-4)===".bin"?JH(t):qH(t)}function wz(t,a,s,r){return s.slice(-4)===".bin"?QH(t,a,s,r):void 0}function Nz(t,a,s){return a.slice(-4)===".bin"?VH(t,a,s):KH(t,a,s)}function jz(t,a,s){return(a.slice(-4)===".bin"?dz:AD)(t)}function Cz(t,a,s,r,n){return(a.slice(-4)===".bin"?BG:SD)(t,s,r,n)}function Sz(t,a,s){return(a.slice(-4)===".bin"?wH:iD)(t,s)}function kz(t,a,s){return(a.slice(-4)===".bin"?w9:eD)(t,s)}function Dz(t,a,s){return(a.slice(-4)===".bin"?dU:hD)(t)}function Ez(t){return(t.slice(-4)===".bin"?YH:uD)()}var FD=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,PD=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Li(t,a){var s=t.split(/\s+/),r=[];if(r[0]=s[0],s.length===1)return r;var n=t.match(FD),l,i,c,u;if(n)for(u=0;u!=n.length;++u)l=n[u].match(PD),(i=l[1].indexOf(":"))===-1?r[l[1]]=l[2].slice(1,l[2].length-1):(l[1].slice(0,6)==="xmlns:"?c="xmlns"+l[1].slice(6):c=l[1].slice(i+1),r[c]=l[2].slice(1,l[2].length-1));return r}function Tz(t){var a=t.split(/\s+/),s={};if(a.length===1)return s;var r=t.match(FD),n,l,i,c;if(r)for(c=0;c!=r.length;++c)n=r[c].match(PD),(l=n[1].indexOf(":"))===-1?s[n[1]]=n[2].slice(1,n[2].length-1):(n[1].slice(0,6)==="xmlns:"?i="xmlns"+n[1].slice(6):i=n[1].slice(l+1),s[i]=n[2].slice(1,n[2].length-1));return s}var Vx;function Az(t,a){var s=Vx[t]||Fa(t);return s==="General"?Yu(a):ui(s,a)}function Fz(t,a,s,r){var n=r;switch((s[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":n=gr(r);break;case"i2":case"int":n=parseInt(r,10);break;case"r4":case"float":n=parseFloat(r);break;case"date":case"dateTime.tz":n=fr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+s[0])}t[Fa(a)]=n}function Pz(t,a,s){if(t.t!=="z"){if(!s||s.cellText!==!1)try{t.t==="e"?t.w=t.w||gd[t.v]:a==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Zx(t.v):t.w=Yu(t.v):t.w=Az(a||"General",t.v)}catch(l){if(s.WTF)throw l}try{var r=Vx[a]||a||"General";if(s.cellNF&&(t.z=r),s.cellDates&&t.t=="n"&&lx(r)){var n=Ou(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}catch(l){if(s.WTF)throw l}}}function Iz(t,a,s){if(s.cellStyles&&a.Interior){var r=a.Interior;r.Pattern&&(r.patternType=z9[r.Pattern]||r.Pattern)}t[a.ID]=a}function Mz(t,a,s,r,n,l,i,c,u,h){var m="General",b=r.StyleID,g={};h=h||{};var w=[],p=0;for(b===void 0&&c&&(b=c.StyleID),b===void 0&&i&&(b=i.StyleID);l[b]!==void 0&&(l[b].nf&&(m=l[b].nf),l[b].Interior&&w.push(l[b].Interior),!!l[b].Parent);)b=l[b].Parent;switch(s.Type){case"Boolean":r.t="b",r.v=gr(t);break;case"String":r.t="s",r.r=L2(Fa(t)),r.v=t.indexOf("<")>-1?Fa(a||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(fr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Fa(t):r.v<60&&(r.v=r.v-1),(!m||m=="General")&&(m="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=k3[t],h.cellText!==!1&&(r.w=t);break;default:t==""&&a==""?r.t="z":(r.t="s",r.v=L2(a||t));break}if(Pz(r,m,h),h.cellFormula!==!1)if(r.Formula){var v=Fa(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=H0(v,n),delete r.Formula,r.ArrayRange=="RC"?r.F=H0("RC:RC",n):r.ArrayRange&&(r.F=H0(r.ArrayRange,n),u.push([Pa(r.F),r.F]))}else for(p=0;p<u.length;++p)n.r>=u[p][0].s.r&&n.r<=u[p][0].e.r&&n.c>=u[p][0].s.c&&n.c<=u[p][0].e.c&&(r.F=u[p][1]);h.cellStyles&&(w.forEach(function(f){!g.patternType&&f.patternType&&(g.patternType=f.patternType)}),r.s=g),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function Lz(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function My(t,a){var s=a||{};ix();var r=_x(uw(t));(s.type=="binary"||s.type=="array"||s.type=="base64")&&(r=sr(r));var n=r.slice(0,1024).toLowerCase(),l=!1;if(n=n.replace(/".*?"/g,""),(n.indexOf(">")&1023)>Math.min(n.indexOf(",")&1023,n.indexOf(";")&1023)){var i=yr(s);return i.type="string",q0.to_workbook(r,i)}if(n.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Re){n.indexOf("<"+Re)>=0&&(l=!0)}),l)return vV(r,s);Vx={"General Number":"General","General Date":Vs[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Vs[15],"Short Date":Vs[14],"Long Time":Vs[19],"Medium Time":Vs[18],"Short Time":Vs[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Vs[2],Standard:Vs[4],Percent:Vs[10],Scientific:Vs[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var c,u=[],h,m={},b=[],g=s.dense?[]:{},w="",p={},v={},f=Li('<Data ss:Type="String">'),y=0,N=0,C=0,S={s:{r:2e6,c:2e6},e:{r:0,c:0}},I={},k={},A="",F=0,O=[],M={},U={},L=0,G=[],re=[],ye={},K=[],ne,H=!1,se=[],we=[],Y={},E=0,P=0,V={Sheets:[],WBProps:{date1904:!1}},D={};sh.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var R="";c=sh.exec(r);)switch(c[3]=(R=c[3]).toLowerCase()){case"data":if(R=="data"){if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break}if(u[u.length-1][1])break;c[1]==="/"?Mz(r.slice(y,c.index),A,f,u[u.length-1][0]=="comment"?ye:p,{c:N,r:C},I,K[N],v,se,s):(A="",f=Li(c[0]),y=c.index+c[0].length);break;case"cell":if(c[1]==="/")if(re.length>0&&(p.c=re),(!s.sheetRows||s.sheetRows>C)&&p.v!==void 0&&(s.dense?(g[C]||(g[C]=[]),g[C][N]=p):g[Er(N)+Kr(C)]=p),p.HRef&&(p.l={Target:Fa(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(E=N+(parseInt(p.MergeAcross,10)|0),P=C+(parseInt(p.MergeDown,10)|0),O.push({s:{c:N,r:C},e:{c:E,r:P}})),!s.sheetStubs)p.MergeAcross?N=E+1:++N;else if(p.MergeAcross||p.MergeDown){for(var ee=N;ee<=E;++ee)for(var Se=C;Se<=P;++Se)(ee>N||Se>C)&&(s.dense?(g[Se]||(g[Se]=[]),g[Se][ee]={t:"z"}):g[Er(ee)+Kr(Se)]={t:"z"});N=E+1}else++N;else p=Tz(c[0]),p.Index&&(N=+p.Index-1),N<S.s.c&&(S.s.c=N),N>S.e.c&&(S.e.c=N),c[0].slice(-2)==="/>"&&++N,re=[];break;case"row":c[1]==="/"||c[0].slice(-2)==="/>"?(C<S.s.r&&(S.s.r=C),C>S.e.r&&(S.e.r=C),c[0].slice(-2)==="/>"&&(v=Li(c[0]),v.Index&&(C=+v.Index-1)),N=0,++C):(v=Li(c[0]),v.Index&&(C=+v.Index-1),Y={},(v.AutoFitHeight=="0"||v.Height)&&(Y.hpx=parseInt(v.Height,10),Y.hpt=lh(Y.hpx),we[C]=Y),v.Hidden=="1"&&(Y.hidden=!0,we[C]=Y));break;case"worksheet":if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"));b.push(w),S.s.r<=S.e.r&&S.s.c<=S.e.c&&(g["!ref"]=la(S),s.sheetRows&&s.sheetRows<=S.e.r&&(g["!fullref"]=g["!ref"],S.e.r=s.sheetRows-1,g["!ref"]=la(S))),O.length&&(g["!merges"]=O),K.length>0&&(g["!cols"]=K),we.length>0&&(g["!rows"]=we),m[w]=g}else S={s:{r:2e6,c:2e6},e:{r:0,c:0}},C=N=0,u.push([c[3],!1]),h=Li(c[0]),w=Fa(h.Name),g=s.dense?[]:{},O=[],se=[],we=[],D={name:w,Hidden:0},V.Sheets.push(D);break;case"table":if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else{if(c[0].slice(-2)=="/>")break;u.push([c[3],!1]),K=[],H=!1}break;case"style":c[1]==="/"?Iz(I,k,s):k=Li(c[0]);break;case"numberformat":k.nf=Fa(Li(c[0]).Format||"General"),Vx[k.nf]&&(k.nf=Vx[k.nf]);for(var ue=0;ue!=392&&Vs[ue]!=k.nf;++ue);if(ue==392){for(ue=57;ue!=392;++ue)if(Vs[ue]==null){ld(k.nf,ue);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(ne=Li(c[0]),ne.Hidden&&(ne.hidden=!0,delete ne.Hidden),ne.Width&&(ne.wpx=parseInt(ne.Width,10)),!H&&ne.wpx>10){H=!0,io=oD;for(var oe=0;oe<K.length;++oe)K[oe]&&ou(K[oe])}H&&ou(ne),K[ne.Index-1||K.length]=ne;for(var le=0;le<+ne.Span;++le)K[K.length]=yr(ne);break;case"namedrange":if(c[1]==="/")break;V.Names||(V.Names=[]);var Q=qs(c[0]),ve={Name:Q.Name,Ref:H0(Q.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(ve.Sheet=V.Sheets.length-1),V.Names.push(ve);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(c[0].slice(-2)==="/>")break;c[1]==="/"?A+=r.slice(F,c.index):F=c.index+c[0].length;break;case"interior":if(!s.cellStyles)break;k.Interior=Li(c[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(c[0].slice(-2)==="/>")break;c[1]==="/"?nB(M,R,r.slice(L,c.index)):L=c.index+c[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else u.push([c[3],!1]);break;case"comment":if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"));Lz(ye),re.push(ye)}else u.push([c[3],!1]),h=Li(c[0]),ye={a:h.Author};break;case"autofilter":if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else if(c[0].charAt(c[0].length-2)!=="/"){var Ce=Li(c[0]);g["!autofilter"]={ref:H0(Ce.Range).replace(/\$/g,"")},u.push([c[3],!0])}break;case"name":break;case"datavalidation":if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(c[1]==="/"){if((h=u.pop())[0]!==c[3])throw new Error("Bad state: "+h.join("|"))}else c[0].charAt(c[0].length-2)!=="/"&&u.push([c[3],!0]);break;case"null":break;default:if(u.length==0&&c[3]=="document"||u.length==0&&c[3]=="uof")return jC(r,s);var $e=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(c[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:$e=!1}break;case"componentoptions":switch(c[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:$e=!1}break;case"excelworkbook":switch(c[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:$e=!1}break;case"workbookoptions":switch(c[3]){case"owcversion":break;case"height":break;case"width":break;default:$e=!1}break;case"worksheetoptions":switch(c[3]){case"visible":if(c[0].slice(-2)!=="/>")if(c[1]==="/")switch(r.slice(L,c.index)){case"SheetHidden":D.Hidden=1;break;case"SheetVeryHidden":D.Hidden=2;break}else L=c.index+c[0].length;break;case"header":g["!margins"]||$u(g["!margins"]={},"xlml"),isNaN(+qs(c[0]).Margin)||(g["!margins"].header=+qs(c[0]).Margin);break;case"footer":g["!margins"]||$u(g["!margins"]={},"xlml"),isNaN(+qs(c[0]).Margin)||(g["!margins"].footer=+qs(c[0]).Margin);break;case"pagemargins":var Ae=qs(c[0]);g["!margins"]||$u(g["!margins"]={},"xlml"),isNaN(+Ae.Top)||(g["!margins"].top=+Ae.Top),isNaN(+Ae.Left)||(g["!margins"].left=+Ae.Left),isNaN(+Ae.Right)||(g["!margins"].right=+Ae.Right),isNaN(+Ae.Bottom)||(g["!margins"].bottom=+Ae.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:$e=!1}break;case"pivottable":case"pivotcache":switch(c[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:$e=!1}break;case"pagebreaks":switch(c[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:$e=!1}break;case"autofilter":switch(c[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:$e=!1}break;case"querytable":switch(c[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:$e=!1}break;case"datavalidation":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:$e=!1}break;case"sorting":case"conditionalformatting":switch(c[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:$e=!1}break;case"mapinfo":case"schema":case"data":switch(c[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:$e=!1}break;case"smarttags":break;default:$e=!1;break}if($e||c[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+c[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(c[0].slice(-2)==="/>")break;c[1]==="/"?Fz(U,R,G,r.slice(L,c.index)):(G=c,L=c.index+c[0].length);break}if(s.WTF)throw"Unrecognized tag: "+c[3]+"|"+u.join("|")}var We={};return!s.bookSheets&&!s.bookProps&&(We.Sheets=m),We.SheetNames=b,We.Workbook=V,We.SSF=yr(Vs),We.Props=M,We.Custprops=U,We}function rv(t,a){switch(Lw(a=a||{}),a.type||"base64"){case"base64":return My(Al(t),a);case"binary":case"buffer":case"file":return My(t,a);case"array":return My(hu(t),a)}}function Oz(t,a){var s=[];return t.Props&&s.push(oB(t.Props,a)),t.Custprops&&s.push(lB(t.Props,t.Custprops)),s.join("")}function _z(){return""}function Bz(t,a){var s=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return a.cellXfs.forEach(function(r,n){var l=[];l.push(fs("NumberFormat",null,{"ss:Format":Za(Vs[r.numFmtId])}));var i={"ss:ID":"s"+(21+n)};s.push(fs("Style",l.join(""),i))}),fs("Styles",s.join(""))}function ID(t){return fs("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Tw(t.Ref,{r:0,c:0})})}function Rz(t){if(!((t||{}).Workbook||{}).Names)return"";for(var a=t.Workbook.Names,s=[],r=0;r<a.length;++r){var n=a[r];n.Sheet==null&&(n.Name.match(/^_xlfn\./)||s.push(ID(n)))}return fs("Names",s.join(""))}function Hz(t,a,s,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,l=[],i=0;i<n.length;++i){var c=n[i];c.Sheet==s&&(c.Name.match(/^_xlfn\./)||l.push(ID(c)))}return l.join("")}function Uz(t,a,s,r){if(!t)return"";var n=[];if(t["!margins"]&&(n.push("<PageSetup>"),t["!margins"].header&&n.push(fs("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&n.push(fs("Footer",null,{"x:Margin":t["!margins"].footer})),n.push(fs("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[s])if(r.Workbook.Sheets[s].Hidden)n.push(fs("Visible",r.Workbook.Sheets[s].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<s&&!(r.Workbook.Sheets[l]&&!r.Workbook.Sheets[l].Hidden);++l);l==s&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),t["!protect"]&&(n.push(Yn("ProtectContents","True")),t["!protect"].objects&&n.push(Yn("ProtectObjects","True")),t["!protect"].scenarios&&n.push(Yn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?n.push(Yn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&n.push(Yn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(i){t["!protect"][i[0]]&&n.push("<"+i[1]+"/>")})),n.length==0?"":fs("WorksheetOptions",n.join(""),{xmlns:jl.x})}function $z(t){return t.map(function(a){var s=c_(a.t||""),r=fs("ss:Data",s,{xmlns:"http://www.w3.org/TR/REC-html40"});return fs("Comment",r,{"ss:Author":a.a})}).join("")}function Wz(t,a,s,r,n,l,i){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Za(Tw(t.f,i))),t.F&&t.F.slice(0,a.length)==a){var u=Tr(t.F.slice(a.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==i.r?"":"["+(u.r-i.r)+"]")+"C"+(u.c==i.c?"":"["+(u.c-i.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Za(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Za(t.l.Tooltip))),s["!merges"])for(var h=s["!merges"],m=0;m!=h.length;++m)h[m].s.c!=i.c||h[m].s.r!=i.r||(h[m].e.c>h[m].s.c&&(c["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(c["ss:MergeDown"]=h[m].e.r-h[m].s.r));var b="",g="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":b="Number",g=String(t.v);break;case"b":b="Boolean",g=t.v?"1":"0";break;case"e":b="Error",g=gd[t.v];break;case"d":b="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Vs[14]);break;case"s":b="String",g=i_(t.v||"");break}var w=pu(r.cellXfs,t,r);c["ss:StyleID"]="s"+(21+w),c["ss:Index"]=i.c+1;var p=t.v!=null?g:"",v=t.t=="z"?"":'<Data ss:Type="'+b+'">'+p+"</Data>";return(t.c||[]).length>0&&(v+=$z(t.c)),fs("Cell",v,c)}function Gz(t,a){var s='<Row ss:Index="'+(t+1)+'"';return a&&(a.hpt&&!a.hpx&&(a.hpx=X0(a.hpt)),a.hpx&&(s+=' ss:AutoFitHeight="0" ss:Height="'+a.hpx+'"'),a.hidden&&(s+=' ss:Hidden="1"')),s+">"}function zz(t,a,s,r){if(!t["!ref"])return"";var n=Pa(t["!ref"]),l=t["!merges"]||[],i=0,c=[];t["!cols"]&&t["!cols"].forEach(function(f,y){ou(f);var N=!!f.width,C=tf(y,f),S={"ss:Index":y+1};N&&(S["ss:Width"]=nh(C.width)),f.hidden&&(S["ss:Hidden"]="1"),c.push(fs("Column",null,S))});for(var u=Array.isArray(t),h=n.s.r;h<=n.e.r;++h){for(var m=[Gz(h,(t["!rows"]||[])[h])],b=n.s.c;b<=n.e.c;++b){var g=!1;for(i=0;i!=l.length;++i)if(!(l[i].s.c>b)&&!(l[i].s.r>h)&&!(l[i].e.c<b)&&!(l[i].e.r<h)){(l[i].s.c!=b||l[i].s.r!=h)&&(g=!0);break}if(!g){var w={r:h,c:b},p=Ys(w),v=u?(t[h]||[])[b]:t[p];m.push(Wz(v,p,t,a,s,r,w))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function Vz(t,a,s){var r=[],n=s.SheetNames[t],l=s.Sheets[n],i=l?Hz(l,a,t,s):"";return i.length>0&&r.push("<Names>"+i+"</Names>"),i=l?zz(l,a,t,s):"",i.length>0&&r.push("<Table>"+i+"</Table>"),r.push(Uz(l,a,t,s)),r.join("")}function Yz(t,a){a||(a={}),t.SSF||(t.SSF=yr(Vs)),t.SSF&&(ix(),Kg(t.SSF),a.revssf=Xg(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF,a.cellXfs=[],pu(a.cellXfs,{},{revssf:{General:0}}));var s=[];s.push(Oz(t,a)),s.push(_z()),s.push(""),s.push("");for(var r=0;r<t.SheetNames.length;++r)s.push(fs("Worksheet",Vz(r,a,t),{"ss:Name":Za(t.SheetNames[r])}));return s[2]=Bz(t,a),s[3]=Rz(t),Qr+fs("Workbook",s.join(""),{xmlns:jl.ss,"xmlns:o":jl.o,"xmlns:x":jl.x,"xmlns:ss":jl.ss,"xmlns:dt":jl.dt,"xmlns:html":jl.html})}function Kz(t){var a={},s=t.content;if(s.l=28,a.AnsiUserType=s.read_shift(0,"lpstr-ansi"),a.AnsiClipboardFormat=R_(s),s.length-s.l<=4)return a;var r=s.read_shift(4);if(r==0||r>40||(s.l-=4,a.Reserved1=s.read_shift(0,"lpstr-ansi"),s.length-s.l<=4)||(r=s.read_shift(4),r!==1907505652)||(a.UnicodeClipboardFormat=H_(s),r=s.read_shift(4),r==0||r>40))return a;s.l-=4,a.Reserved2=s.read_shift(0,"lpwstr")}var qz=[60,1084,2066,2165,2175];function Xz(t,a,s,r,n){var l=r,i=[],c=s.slice(s.l,s.l+l);if(n&&n.enc&&n.enc.insitu&&c.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:n.enc.insitu(c)}i.push(c),s.l+=l;for(var u=rd(s,s.l),h=nv[u],m=0;h!=null&&qz.indexOf(u)>-1;)l=rd(s,s.l+2),m=s.l+4,u==2066?m+=4:(u==2165||u==2175)&&(m+=12),c=s.slice(m,s.l+4+l),i.push(c),s.l+=4+l,h=nv[u=rd(s,s.l)];var b=Fn(i);Vn(b,0);var g=0;b.lens=[];for(var w=0;w<i.length;++w)b.lens.push(g),g+=i[w].length;if(b.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+b.length+" < "+r;return a.f(b,b.length,n)}function uc(t,a,s){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,a.cellNF&&(t.z=Vs[r])}catch(l){if(a.WTF)throw l}if(!a||a.cellText!==!1)try{t.t==="e"?t.w=t.w||gd[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Zx(t.v):t.w=Yu(t.v):t.w=ui(r,t.v,{date1904:!!s,dateNF:a&&a.dateNF})}catch(l){if(a.WTF)throw l}if(a.cellDates&&r&&t.t=="n"&&lx(Vs[r]||String(r))){var n=Ou(t.v);n&&(t.t="d",t.v=new Date(n.y,n.m-1,n.d,n.H,n.M,n.S,n.u))}}}function Hm(t,a,s){return{v:t,ixfe:a,t:s}}function Jz(t,a){var s={opts:{}},r={},n=a.dense?[]:{},l={},i={},c=null,u=[],h="",m={},b,g="",w,p,v,f,y={},N=[],C,S,I=[],k=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},O=function(dt){return dt<8?Ru[dt]:dt<64&&k[dt-8]||Ru[dt]},M=function(dt,Et,Te){var Ee=Et.XF.data;if(!(!Ee||!Ee.patternType||!Te||!Te.cellStyles)){Et.s={},Et.s.patternType=Ee.patternType;var pe;(pe=rh(O(Ee.icvFore)))&&(Et.s.fgColor={rgb:pe}),(pe=rh(O(Ee.icvBack)))&&(Et.s.bgColor={rgb:pe})}},U=function(dt,Et,Te){if(!(Y>1)&&!(Te.sheetRows&&dt.r>=Te.sheetRows)){if(Te.cellStyles&&Et.XF&&Et.XF.data&&M(dt,Et,Te),delete Et.ixfe,delete Et.XF,b=dt,g=Ys(dt),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),dt.r<i.s.r&&(i.s.r=dt.r),dt.c<i.s.c&&(i.s.c=dt.c),dt.r+1>i.e.r&&(i.e.r=dt.r+1),dt.c+1>i.e.c&&(i.e.c=dt.c+1),Te.cellFormula&&Et.f){for(var Ee=0;Ee<N.length;++Ee)if(!(N[Ee][0].s.c>dt.c||N[Ee][0].s.r>dt.r)&&!(N[Ee][0].e.c<dt.c||N[Ee][0].e.r<dt.r)){Et.F=la(N[Ee][0]),(N[Ee][0].s.c!=dt.c||N[Ee][0].s.r!=dt.r)&&delete Et.f,Et.f&&(Et.f=""+lo(N[Ee][1],i,dt,se,L));break}}Te.dense?(n[dt.r]||(n[dt.r]=[]),n[dt.r][dt.c]=Et):n[g]=Et}},L={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:N,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!a&&!!a.cellStyles,WTF:!!a&&!!a.wtf};a.password&&(L.password=a.password);var G,re=[],ye=[],K=[],ne=[],H=!1,se=[];se.SheetNames=L.snames,se.sharedf=L.sharedf,se.arrayf=L.arrayf,se.names=[],se.XTI=[];var we=0,Y=0,E=0,P=[],V=[],D;L.codepage=1200,_i(1200);for(var R=!1;t.l<t.length-1;){var ee=t.l,Se=t.read_shift(2);if(Se===0&&we===10)break;var ue=t.l===t.length?0:t.read_shift(2),oe=nv[Se];if(oe&&oe.f){if(a.bookSheets&&we===133&&Se!==133)break;if(we=Se,oe.r===2||oe.r==12){var le=t.read_shift(2);if(ue-=2,!L.enc&&le!==Se&&((le&255)<<8|le>>8)!==Se)throw new Error("rt mismatch: "+le+"!="+Se);oe.r==12&&(t.l+=10,ue-=10)}var Q={};if(Se===10?Q=oe.f(t,ue,L):Q=Xz(Se,oe,t,ue,L),Y==0&&[9,521,1033,2057].indexOf(we)===-1)continue;switch(Se){case 34:s.opts.Date1904=A.WBProps.date1904=Q;break;case 134:s.opts.WriteProtect=!0;break;case 47:if(L.enc||(t.l=0),L.enc=Q,!a.password)throw new Error("File is password-protected");if(Q.valid==null)throw new Error("Encryption scheme unsupported");if(!Q.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=Q;break;case 66:var ve=Number(Q);switch(ve){case 21010:ve=1200;break;case 32768:ve=1e4;break;case 32769:ve=1252;break}_i(L.codepage=ve),R=!0;break;case 317:L.rrtabid=Q;break;case 25:L.winlocked=Q;break;case 439:s.opts.RefreshAll=Q;break;case 12:s.opts.CalcCount=Q;break;case 16:s.opts.CalcDelta=Q;break;case 17:s.opts.CalcIter=Q;break;case 13:s.opts.CalcMode=Q;break;case 14:s.opts.CalcPrecision=Q;break;case 95:s.opts.CalcSaveRecalc=Q;break;case 15:L.CalcRefMode=Q;break;case 2211:s.opts.FullCalc=Q;break;case 129:Q.fDialog&&(n["!type"]="dialog"),Q.fBelow||((n["!outline"]||(n["!outline"]={})).above=!0),Q.fRight||((n["!outline"]||(n["!outline"]={})).left=!0);break;case 224:I.push(Q);break;case 430:se.push([Q]),se[se.length-1].XTI=[];break;case 35:case 547:se[se.length-1].push(Q);break;case 24:case 536:D={Name:Q.Name,Ref:lo(Q.rgce,i,null,se,L)},Q.itab>0&&(D.Sheet=Q.itab-1),se.names.push(D),se[0]||(se[0]=[],se[0].XTI=[]),se[se.length-1].push(Q),Q.Name=="_xlnm._FilterDatabase"&&Q.itab>0&&Q.rgce&&Q.rgce[0]&&Q.rgce[0][0]&&Q.rgce[0][0][0]=="PtgArea3d"&&(V[Q.itab-1]={ref:la(Q.rgce[0][0][1][2])});break;case 22:L.ExternCount=Q;break;case 23:se.length==0&&(se[0]=[],se[0].XTI=[]),se[se.length-1].XTI=se[se.length-1].XTI.concat(Q),se.XTI=se.XTI.concat(Q);break;case 2196:if(L.biff<8)break;D!=null&&(D.Comment=Q[1]);break;case 18:n["!protect"]=Q;break;case 19:Q!==0&&L.WTF&&console.error("Password verifier: "+Q);break;case 133:l[Q.pos]=Q,L.snames.push(Q.name);break;case 10:{if(--Y)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,n["!ref"]=la(i),a.sheetRows&&a.sheetRows<=i.e.r){var Ce=i.e.r;i.e.r=a.sheetRows-1,n["!fullref"]=n["!ref"],n["!ref"]=la(i),i.e.r=Ce}i.e.r++,i.e.c++}re.length>0&&(n["!merges"]=re),ye.length>0&&(n["!objects"]=ye),K.length>0&&(n["!cols"]=K),ne.length>0&&(n["!rows"]=ne),A.Sheets.push(F)}h===""?m=n:r[h]=n,n=a.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[Se]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Q.BIFFVer]||8),L.biffguess=Q.BIFFVer==0,Q.BIFFVer==0&&Q.dt==4096&&(L.biff=5,R=!0,_i(L.codepage=28591)),L.biff==8&&Q.BIFFVer==0&&Q.dt==16&&(L.biff=2),Y++)break;if(n=a.dense?[]:{},L.biff<8&&!R&&(R=!0,_i(L.codepage=a.codepage||1252)),L.biff<5||Q.BIFFVer==0&&Q.dt==4096){h===""&&(h="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var $e={pos:t.l-ue,name:h};l[$e.pos]=$e,L.snames.push(h)}else h=(l[ee]||{name:""}).name;Q.dt==32&&(n["!type"]="chart"),Q.dt==64&&(n["!type"]="macro"),re=[],ye=[],L.arrayf=N=[],K=[],ne=[],H=!1,F={Hidden:(l[ee]||{hs:0}).hs,name:h}}break;case 515:case 3:case 2:n["!type"]=="chart"&&(a.dense?(n[Q.r]||[])[Q.c]:n[Ys({c:Q.c,r:Q.r})])&&++Q.c,C={ixfe:Q.ixfe,XF:I[Q.ixfe]||{},v:Q.val,t:"n"},E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:Q.c,r:Q.r},C,a);break;case 5:case 517:C={ixfe:Q.ixfe,XF:I[Q.ixfe],v:Q.val,t:Q.t},E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:Q.c,r:Q.r},C,a);break;case 638:C={ixfe:Q.ixfe,XF:I[Q.ixfe],v:Q.rknum,t:"n"},E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:Q.c,r:Q.r},C,a);break;case 189:for(var Ae=Q.c;Ae<=Q.C;++Ae){var We=Q.rkrec[Ae-Q.c][0];C={ixfe:We,XF:I[We],v:Q.rkrec[Ae-Q.c][1],t:"n"},E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:Ae,r:Q.r},C,a)}break;case 6:case 518:case 1030:{if(Q.val=="String"){c=Q;break}if(C=Hm(Q.val,Q.cell.ixfe,Q.tt),C.XF=I[C.ixfe],a.cellFormula){var Re=Q.formula;if(Re&&Re[0]&&Re[0][0]&&Re[0][0][0]=="PtgExp"){var et=Re[0][0][1][0],B=Re[0][0][1][1],q=Ys({r:et,c:B});y[q]?C.f=""+lo(Q.formula,i,Q.cell,se,L):C.F=((a.dense?(n[et]||[])[B]:n[q])||{}).F}else C.f=""+lo(Q.formula,i,Q.cell,se,L)}E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U(Q.cell,C,a),c=Q}break;case 7:case 519:if(c)c.val=Q,C=Hm(Q,c.cell.ixfe,"s"),C.XF=I[C.ixfe],a.cellFormula&&(C.f=""+lo(c.formula,i,c.cell,se,L)),E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U(c.cell,C,a),c=null;else throw new Error("String record expects Formula");break;case 33:case 545:{N.push(Q);var Z=Ys(Q[0].s);if(w=a.dense?(n[Q[0].s.r]||[])[Q[0].s.c]:n[Z],a.cellFormula&&w){if(!c||!Z||!w)break;w.f=""+lo(Q[1],i,Q[0],se,L),w.F=la(Q[0])}}break;case 1212:{if(!a.cellFormula)break;if(g){if(!c)break;y[Ys(c.cell)]=Q[0],w=a.dense?(n[c.cell.r]||[])[c.cell.c]:n[Ys(c.cell)],(w||{}).f=""+lo(Q[0],i,b,se,L)}}break;case 253:C=Hm(u[Q.isst].t,Q.ixfe,"s"),u[Q.isst].h&&(C.h=u[Q.isst].h),C.XF=I[C.ixfe],E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:Q.c,r:Q.r},C,a);break;case 513:a.sheetStubs&&(C={ixfe:Q.ixfe,XF:I[Q.ixfe],t:"z"},E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:Q.c,r:Q.r},C,a));break;case 190:if(a.sheetStubs)for(var je=Q.c;je<=Q.C;++je){var De=Q.ixfe[je-Q.c];C={ixfe:De,XF:I[De],t:"z"},E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:je,r:Q.r},C,a)}break;case 214:case 516:case 4:C=Hm(Q.val,Q.ixfe,"s"),C.XF=I[C.ixfe],E>0&&(C.z=P[C.ixfe>>8&63]),uc(C,a,s.opts.Date1904),U({c:Q.c,r:Q.r},C,a);break;case 0:case 512:Y===1&&(i=Q);break;case 252:u=Q;break;case 1054:if(L.biff==4){P[E++]=Q[1];for(var Qe=0;Qe<E+163&&Vs[Qe]!=Q[1];++Qe);Qe>=163&&ld(Q[1],E+163)}else ld(Q[1],Q[0]);break;case 30:{P[E++]=Q;for(var qe=0;qe<E+163&&Vs[qe]!=Q;++qe);qe>=163&&ld(Q,E+163)}break;case 229:re=re.concat(Q);break;case 93:ye[Q.cmo[0]]=L.lastobj=Q;break;case 438:L.lastobj.TxO=Q;break;case 127:L.lastobj.ImData=Q;break;case 440:for(f=Q[0].s.r;f<=Q[0].e.r;++f)for(v=Q[0].s.c;v<=Q[0].e.c;++v)w=a.dense?(n[f]||[])[v]:n[Ys({c:v,r:f})],w&&(w.l=Q[1]);break;case 2048:for(f=Q[0].s.r;f<=Q[0].e.r;++f)for(v=Q[0].s.c;v<=Q[0].e.c;++v)w=a.dense?(n[f]||[])[v]:n[Ys({c:v,r:f})],w&&w.l&&(w.l.Tooltip=Q[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;w=a.dense?(n[Q[0].r]||[])[Q[0].c]:n[Ys(Q[0])];var Ye=ye[Q[2]];w||(a.dense?(n[Q[0].r]||(n[Q[0].r]=[]),w=n[Q[0].r][Q[0].c]={t:"z"}):w=n[Ys(Q[0])]={t:"z"},i.e.r=Math.max(i.e.r,Q[0].r),i.s.r=Math.min(i.s.r,Q[0].r),i.e.c=Math.max(i.e.c,Q[0].c),i.s.c=Math.min(i.s.c,Q[0].c)),w.c||(w.c=[]),p={a:Q[1],t:Ye.TxO.t},w.c.push(p)}break;case 2173:BH(I[Q.ixfe],Q.ext);break;case 125:{if(!L.cellStyles)break;for(;Q.e>=Q.s;)K[Q.e--]={width:Q.w/256,level:Q.level||0,hidden:!!(Q.flags&1)},H||(H=!0,kw(Q.w/256)),ou(K[Q.e+1])}break;case 520:{var ht={};Q.level!=null&&(ne[Q.r]=ht,ht.level=Q.level),Q.hidden&&(ne[Q.r]=ht,ht.hidden=!0),Q.hpt&&(ne[Q.r]=ht,ht.hpt=Q.hpt,ht.hpx=X0(Q.hpt))}break;case 38:case 39:case 40:case 41:n["!margins"]||$u(n["!margins"]={}),n["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Se]]=Q;break;case 161:n["!margins"]||$u(n["!margins"]={}),n["!margins"].header=Q.header,n["!margins"].footer=Q.footer;break;case 574:Q.RTL&&(A.Views[0].RTL=!0);break;case 146:k=Q;break;case 2198:G=Q;break;case 140:S=Q;break;case 442:h?F.CodeName=Q||F.name:A.WBProps.CodeName=Q||"ThisWorkbook";break}}else oe||console.error("Missing Info for XLS Record 0x"+Se.toString(16)),t.l+=ue}return s.SheetNames=Rr(l).sort(function(St,dt){return Number(St)-Number(dt)}).map(function(St){return l[St].name}),a.bookSheets||(s.Sheets=r),!s.SheetNames.length&&m["!ref"]?(s.SheetNames.push("Sheet1"),s.Sheets&&(s.Sheets.Sheet1=m)):s.Preamble=m,s.Sheets&&V.forEach(function(St,dt){s.Sheets[s.SheetNames[dt]]["!autofilter"]=St}),s.Strings=u,s.SSF=yr(Vs),L.enc&&(s.Encryption=L.enc),G&&(s.Themes=G),s.Metadata={},S!==void 0&&(s.Metadata.Country=S),se.names.length>0&&(A.Names=se.names),s.Workbook=A,s}var Yx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Qz(t,a,s){var r=$s.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var n=Z2(r,Qb,Yx.DSI);for(var l in n)a[l]=n[l]}catch(h){if(s.WTF)throw h}var i=$s.find(t,"/!SummaryInformation");if(i&&i.size>0)try{var c=Z2(i,Zb,Yx.SI);for(var u in c)a[u]==null&&(a[u]=c[u])}catch(h){if(s.WTF)throw h}a.HeadingPairs&&a.TitlesOfParts&&(P3(a.HeadingPairs,a.TitlesOfParts,a,s),delete a.HeadingPairs,delete a.TitlesOfParts)}function Zz(t,a){var s=[],r=[],n=[],l=0,i,c=T2(Qb,"n"),u=T2(Zb,"n");if(t.Props)for(i=Rr(t.Props),l=0;l<i.length;++l)(Object.prototype.hasOwnProperty.call(c,i[l])?s:Object.prototype.hasOwnProperty.call(u,i[l])?r:n).push([i[l],t.Props[i[l]]]);if(t.Custprops)for(i=Rr(t.Custprops),l=0;l<i.length;++l)Object.prototype.hasOwnProperty.call(t.Props||{},i[l])||(Object.prototype.hasOwnProperty.call(c,i[l])?s:Object.prototype.hasOwnProperty.call(u,i[l])?r:n).push([i[l],t.Custprops[i[l]]]);var h=[];for(l=0;l<n.length;++l)R3.indexOf(n[l][0])>-1||F3.indexOf(n[l][0])>-1||n[l][1]!=null&&h.push(n[l]);r.length&&$s.utils.cfb_add(a,"/SummaryInformation",eC(r,Yx.SI,u,Zb)),(s.length||h.length)&&$s.utils.cfb_add(a,"/DocumentSummaryInformation",eC(s,Yx.DSI,c,Qb,h.length?h:null,Yx.UDI))}function MD(t,a){a||(a={}),Lw(a),sw(),a.codepage&&tw(a.codepage);var s,r;if(t.FullPaths){if($s.find(t,"/encryption"))throw new Error("File is password-protected");s=$s.find(t,"!CompObj"),r=$s.find(t,"/Workbook")||$s.find(t,"/Book")}else{switch(a.type){case"base64":t=Sl(Al(t));break;case"binary":t=Sl(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Vn(t,0),r={content:t}}var n,l;if(s&&Kz(s),a.bookProps&&!a.bookSheets)n={};else{var i=ma?"buffer":"array";if(r&&r.content)n=Jz(r.content,a);else if((l=$s.find(t,"PerfectOffice_MAIN"))&&l.content)n=Uu.to_workbook(l.content,(a.type=i,a));else if((l=$s.find(t,"NativeContent_MAIN"))&&l.content)n=Uu.to_workbook(l.content,(a.type=i,a));else throw(l=$s.find(t,"MN0"))&&l.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");a.bookVBA&&t.FullPaths&&$s.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(n.vbaraw=xU(t))}var c={};return t.FullPaths&&Qz(t,c,a),n.Props=n.Custprops=c,a.bookFiles&&(n.cfb=t),n}function eV(t,a){var s=a||{},r=$s.utils.cfb_new({root:"R"}),n="/Workbook";switch(s.bookType||"xls"){case"xls":s.bookType="biff8";case"xla":s.bookType||(s.bookType="xla");case"biff8":n="/Workbook",s.biff=8;break;case"biff5":n="/Book",s.biff=5;break;default:throw new Error("invalid type "+s.bookType+" for XLS CFB")}return $s.utils.cfb_add(r,n,LD(t,s)),s.biff==8&&(t.Props||t.Custprops)&&Zz(t,r),s.biff==8&&t.vbaraw&&hU(r,$s.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var ih={0:{f:CW},1:{f:PW},2:{f:JW},3:{f:HW},4:{f:OW},5:{f:KW},6:{f:sG},7:{f:GW},8:{f:cG},9:{f:iG},10:{f:oG},11:{f:lG},12:{f:MW},13:{f:ZW},14:{f:$W},15:{f:BW},16:{f:kD},17:{f:rG},18:{f:VW},19:{f:gw},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:rz},40:{},42:{},43:{f:sH},44:{f:eH},45:{f:nH},46:{f:lH},47:{f:oH},48:{},49:{f:D_},50:{},51:{f:UH},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:X3},62:{f:tG},63:{f:XH},64:{f:SG},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:mo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:wG},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:AW},148:{f:DW,p:16},151:{f:pG},152:{},153:{f:tz},154:{},155:{},156:{f:ZG},157:{},158:{},159:{T:1,f:f9},160:{T:-1},161:{T:1,f:d0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dG},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:RH},336:{T:-1},337:{f:GH,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Jb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:q3},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:gG},427:{f:fG},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:bG},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:TW},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:hG},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Jb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lU},633:{T:1},634:{T:-1},635:{T:1,f:nU},636:{T:-1},637:{f:F_},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:$G},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kG},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},nv={6:{f:Py},10:{f:Wd},12:{f:on},13:{f:on},14:{f:Vr},15:{f:Vr},16:{f:uo},17:{f:Vr},18:{f:Vr},19:{f:on},20:{f:oC},21:{f:oC},23:{f:q3},24:{f:iC},25:{f:Vr},26:{},27:{},28:{f:kR},29:{},34:{f:Vr},35:{f:lC},38:{f:uo},39:{f:uo},40:{f:uo},41:{f:uo},42:{f:Vr},43:{f:Vr},47:{f:B9},49:{f:ZB},51:{f:on},60:{},61:{f:KB},64:{f:Vr},65:{f:QB},66:{f:on},77:{},80:{},81:{},82:{},85:{f:on},89:{},90:{},91:{},92:{f:_B},93:{f:TR},94:{},95:{f:Vr},96:{},97:{},99:{f:Vr},125:{f:X3},128:{f:mR},129:{f:RB},130:{f:on},131:{f:Vr},132:{f:Vr},133:{f:HB},134:{},140:{f:_R},141:{f:on},144:{},146:{f:HR},151:{},152:{},153:{},154:{},155:{},156:{f:on},157:{},158:{},160:{f:YR},161:{f:WR},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:dR},190:{f:uR},193:{f:Wd},197:{},198:{},199:{},200:{},201:{},202:{f:Vr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:on},220:{},221:{f:Vr},222:{},224:{f:hR},225:{f:OB},226:{f:Wd},227:{},229:{f:DR},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$B},253:{f:tR},255:{f:GB},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:H3},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Vr},353:{f:Wd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:bR},431:{f:Vr},432:{},433:{},434:{},437:{},438:{f:PR},439:{f:Vr},440:{f:IR},441:{},442:{f:Ph},443:{},444:{f:on},445:{},446:{},448:{f:Wd},449:{f:YB,r:2},450:{f:Wd},512:{f:aC},513:{f:VR},515:{f:fR},516:{f:aR},517:{f:nC},519:{f:KR},520:{f:zB},523:{},545:{f:cC},549:{f:sC},566:{},574:{f:XB},638:{f:cR},659:{},1048:{},1054:{f:nR},1084:{},1212:{f:jR},2048:{f:LR},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:_m},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Wd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:UR,r:12},2173:{f:_H,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Vr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:NR,r:12},2197:{},2198:{f:FH,r:12},2199:{},2200:{},2201:{},2202:{f:CR,r:12},2203:{f:Wd},2204:{},2205:{},2206:{},2207:{},2211:{f:VB},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:on},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:GR},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:RR},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:aC},1:{},2:{f:ZR},3:{f:JR},4:{f:XR},5:{f:nC},7:{f:t9},8:{},9:{f:_m},11:{},22:{f:on},30:{f:lR},31:{},32:{},33:{f:cC},36:{},37:{f:sC},50:{f:s9},62:{},52:{},67:{},68:{f:on},69:{},86:{},126:{},127:{f:qR},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:a9},223:{},234:{},354:{},421:{},518:{f:Py},521:{f:_m},536:{f:iC},547:{f:lC},561:{},579:{},1030:{f:Py},1033:{f:_m},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function vs(t,a,s,r){var n=a;if(!isNaN(n)){var l=r||(s||[]).length||0,i=t.next(4);i.write_shift(2,n),i.write_shift(2,l),l>0&&hw(s)&&t.push(s)}}function tV(t,a,s,r){var n=(s||[]).length||0;if(n<=8224)return vs(t,a,s,n);var l=a;if(!isNaN(l)){for(var i=s.parts||[],c=0,u=0,h=0;h+(i[c]||8224)<=8224;)h+=i[c]||8224,c++;var m=t.next(4);for(m.write_shift(2,l),m.write_shift(2,h),t.push(s.slice(u,u+h)),u+=h;u<n;){for(m=t.next(4),m.write_shift(2,60),h=0;h+(i[c]||8224)<=8224;)h+=i[c]||8224,c++;m.write_shift(2,h),t.push(s.slice(u,u+h)),u+=h}}}function Oh(t,a,s){return t||(t=es(7)),t.write_shift(2,a),t.write_shift(2,s),t.write_shift(2,0),t.write_shift(1,0),t}function sV(t,a,s,r){var n=es(9);return Oh(n,t,a),U3(s,r||"b",n),n}function aV(t,a,s){var r=es(8+2*s.length);return Oh(r,t,a),r.write_shift(1,s.length),r.write_shift(s.length,s,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function rV(t,a,s,r){if(a.v!=null)switch(a.t){case"d":case"n":var n=a.t=="d"?yn(fr(a.v)):a.v;n==(n|0)&&n>=0&&n<65536?vs(t,2,e9(s,r,n)):vs(t,3,QR(s,r,n));return;case"b":case"e":vs(t,5,sV(s,r,a.v,a.t));return;case"s":case"str":vs(t,4,aV(s,r,(a.v||"").slice(0,255)));return}vs(t,1,Oh(null,s,r))}function nV(t,a,s,r){var n=Array.isArray(a),l=Pa(a["!ref"]||"A1"),i,c="",u=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),i=la(l)}for(var h=l.s.r;h<=l.e.r;++h){c=Kr(h);for(var m=l.s.c;m<=l.e.c;++m){h===l.s.r&&(u[m]=Er(m)),i=u[m]+c;var b=n?(a[h]||[])[m]:a[i];b&&rV(t,b,h,m)}}}function oV(t,a){for(var s=a||{},r=el(),n=0,l=0;l<t.SheetNames.length;++l)t.SheetNames[l]==s.sheet&&(n=l);if(n==0&&s.sheet&&t.SheetNames[0]!=s.sheet)throw new Error("Sheet not found: "+s.sheet);return vs(r,s.biff==4?1033:s.biff==3?521:9,jw(t,16,s)),nV(r,t.Sheets[t.SheetNames[n]],n,s),vs(r,10),r.end()}function lV(t,a,s){vs(t,49,eR({sz:12,name:"Arial"},s))}function iV(t,a,s){a&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)a[n]!=null&&vs(t,1054,oR(n,a[n],s))})}function cV(t,a){var s=es(19);s.write_shift(4,2151),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,1),s.write_shift(4,0),vs(t,2151,s),s=es(39),s.write_shift(4,2152),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,3),s.write_shift(1,0),s.write_shift(4,0),s.write_shift(2,1),s.write_shift(4,4),s.write_shift(2,0),V3(Pa(a["!ref"]||"A1"),s),s.write_shift(4,4),vs(t,2152,s)}function dV(t,a){for(var s=0;s<16;++s)vs(t,224,rC({numFmtId:0,style:!0},0,a));a.cellXfs.forEach(function(r){vs(t,224,rC(r,0,a))})}function uV(t,a){for(var s=0;s<a["!links"].length;++s){var r=a["!links"][s];vs(t,440,MR(r)),r[1].Tooltip&&vs(t,2048,OR(r))}delete a["!links"]}function xV(t,a){if(a){var s=0;a.forEach(function(r,n){++s<=256&&r&&vs(t,125,$R(tf(n,r),n))})}}function hV(t,a,s,r,n){var l=16+pu(n.cellXfs,a,n);if(a.v==null&&!a.bf){vs(t,513,Ju(s,r,l));return}if(a.bf)vs(t,6,R$(a,s,r,n,l));else switch(a.t){case"d":case"n":var i=a.t=="d"?yn(fr(a.v)):a.v;vs(t,515,yR(s,r,i,l));break;case"b":case"e":vs(t,517,gR(s,r,a.v,l,n,a.t));break;case"s":case"str":if(n.bookSST){var c=Fw(n.Strings,a.v,n.revStrings);vs(t,253,sR(s,r,c,l))}else vs(t,516,rR(s,r,(a.v||"").slice(0,255),l,n));break;default:vs(t,513,Ju(s,r,l))}}function mV(t,a,s){var r=el(),n=s.SheetNames[t],l=s.Sheets[n]||{},i=(s||{}).Workbook||{},c=(i.Sheets||[])[t]||{},u=Array.isArray(l),h=a.biff==8,m,b="",g=[],w=Pa(l["!ref"]||"A1"),p=h?65536:16384;if(w.e.c>255||w.e.r>=p){if(a.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,p-1)}vs(r,2057,jw(s,16,a)),vs(r,13,li(1)),vs(r,12,li(100)),vs(r,15,So(!0)),vs(r,17,So(!1)),vs(r,16,qu(.001)),vs(r,95,So(!0)),vs(r,42,So(!1)),vs(r,43,So(!1)),vs(r,130,li(1)),vs(r,128,pR()),vs(r,131,So(!1)),vs(r,132,So(!1)),h&&xV(r,l["!cols"]),vs(r,512,iR(w,a)),h&&(l["!links"]=[]);for(var v=w.s.r;v<=w.e.r;++v){b=Kr(v);for(var f=w.s.c;f<=w.e.c;++f){v===w.s.r&&(g[f]=Er(f)),m=g[f]+b;var y=u?(l[v]||[])[f]:l[m];y&&(hV(r,y,v,f,a),h&&y.l&&l["!links"].push([m,y.l]))}}var N=c.CodeName||c.name||n;return h&&vs(r,574,JB((i.Views||[])[0])),h&&(l["!merges"]||[]).length&&vs(r,229,ER(l["!merges"])),h&&uV(r,l),vs(r,442,$3(N)),h&&cV(r,l),vs(r,10),r.end()}function pV(t,a,s){var r=el(),n=(t||{}).Workbook||{},l=n.Sheets||[],i=n.WBProps||{},c=s.biff==8,u=s.biff==5;if(vs(r,2057,jw(t,5,s)),s.bookType=="xla"&&vs(r,135),vs(r,225,c?li(1200):null),vs(r,193,gB(2)),u&&vs(r,191),u&&vs(r,192),vs(r,226),vs(r,92,BB("SheetJS",s)),vs(r,66,li(c?1200:1252)),c&&vs(r,353,li(0)),c&&vs(r,448),vs(r,317,zR(t.SheetNames.length)),c&&t.vbaraw&&vs(r,211),c&&t.vbaraw){var h=i.CodeName||"ThisWorkbook";vs(r,442,$3(h))}vs(r,156,li(17)),vs(r,25,So(!1)),vs(r,18,So(!1)),vs(r,19,li(0)),c&&vs(r,431,So(!1)),c&&vs(r,444,li(0)),vs(r,61,qB()),vs(r,64,So(!1)),vs(r,141,li(0)),vs(r,34,So(YG(t)=="true")),vs(r,14,So(!0)),c&&vs(r,439,So(!1)),vs(r,218,li(0)),lV(r,t,s),iV(r,t.SSF,s),dV(r,s),c&&vs(r,352,So(!1));var m=r.end(),b=el();c&&vs(b,140,BR()),c&&s.Strings&&tV(b,252,WB(s.Strings)),vs(b,10);var g=b.end(),w=el(),p=0,v=0;for(v=0;v<t.SheetNames.length;++v)p+=(c?12:11)+(c?2:1)*t.SheetNames[v].length;var f=m.length+p+g.length;for(v=0;v<t.SheetNames.length;++v){var y=l[v]||{};vs(w,133,UB({pos:f,hs:y.Hidden||0,dt:0,name:t.SheetNames[v]},s)),f+=a[v].length}var N=w.end();if(p!=N.length)throw new Error("BS8 "+p+" != "+N.length);var C=[];return m.length&&C.push(m),N.length&&C.push(N),g.length&&C.push(g),Fn(C)}function gV(t,a){var s=a||{},r=[];t&&!t.SSF&&(t.SSF=yr(Vs)),t&&t.SSF&&(ix(),Kg(t.SSF),s.revssf=Xg(t.SSF),s.revssf[t.SSF[65535]]=0,s.ssf=t.SSF),s.Strings=[],s.Strings.Count=0,s.Strings.Unique=0,Ow(s),s.cellXfs=[],pu(s.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var n=0;n<t.SheetNames.length;++n)r[r.length]=mV(n,s,t);return r.unshift(pV(t,r,s)),Fn(r)}function LD(t,a){for(var s=0;s<=t.SheetNames.length;++s){var r=t.Sheets[t.SheetNames[s]];if(!(!r||!r["!ref"])){var n=sl(r["!ref"]);n.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[s]+"' extends beyond column IV (255).  Data may be lost.")}}var l=a||{};switch(l.biff||2){case 8:case 5:return gV(t,a);case 4:case 3:case 2:return oV(t,a)}throw new Error("invalid type "+l.bookType+" for BIFF")}function bC(t,a){var s=a||{},r=s.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var n=t.match(/<table/i);if(!n)throw new Error("Invalid HTML: could not find <table>");var l=t.match(/<\/table/i),i=n.index,c=l&&l.index||t.length,u=e_(t.slice(i,c),/(:?<tr[^>]*>)/i,"<tr>"),h=-1,m=0,b=0,g=0,w={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<u.length;++i){var v=u[i].trim(),f=v.slice(0,3).toLowerCase();if(f=="<tr"){if(++h,s.sheetRows&&s.sheetRows<=h){--h;break}m=0;continue}if(!(f!="<td"&&f!="<th")){var y=v.split(/<\/t[dh]>/i);for(c=0;c<y.length;++c){var N=y[c].trim();if(N.match(/<t[dh]/i)){for(var C=N,S=0;C.charAt(0)=="<"&&(S=C.indexOf(">"))>-1;)C=C.slice(S+1);for(var I=0;I<p.length;++I){var k=p[I];k.s.c==m&&k.s.r<h&&h<=k.e.r&&(m=k.e.c+1,I=-1)}var A=qs(N.slice(0,N.indexOf(">")));g=A.colspan?+A.colspan:1,((b=+A.rowspan)>1||g>1)&&p.push({s:{r:h,c:m},e:{r:h+(b||1)-1,c:m+g-1}});var F=A.t||A["data-t"]||"";if(!C.length){m+=g;continue}if(C=n3(C),w.s.r>h&&(w.s.r=h),w.e.r<h&&(w.e.r=h),w.s.c>m&&(w.s.c=m),w.e.c<m&&(w.e.c=m),!C.length){m+=g;continue}var O={t:"s",v:C};s.raw||!C.trim().length||F=="s"||(C==="TRUE"?O={t:"b",v:!0}:C==="FALSE"?O={t:"b",v:!1}:isNaN(Hi(C))?isNaN(K0(C).getDate())||(O={t:"d",v:fr(C)},s.cellDates||(O={t:"n",v:yn(O.v)}),O.z=s.dateNF||Vs[14]):O={t:"n",v:Hi(C)}),s.dense?(r[h]||(r[h]=[]),r[h][m]=O):r[Ys({r:h,c:m})]=O,m+=g}}}}return r["!ref"]=la(w),p.length&&(r["!merges"]=p),r}function fV(t,a,s,r){for(var n=t["!merges"]||[],l=[],i=a.s.c;i<=a.e.c;++i){for(var c=0,u=0,h=0;h<n.length;++h)if(!(n[h].s.r>s||n[h].s.c>i)&&!(n[h].e.r<s||n[h].e.c<i)){if(n[h].s.r<s||n[h].s.c<i){c=-1;break}c=n[h].e.r-n[h].s.r+1,u=n[h].e.c-n[h].s.c+1;break}if(!(c<0)){var m=Ys({r:s,c:i}),b=r.dense?(t[s]||[])[i]:t[m],g=b&&b.v!=null&&(b.h||dw(b.w||(xd(b),b.w)||""))||"",w={};c>1&&(w.rowspan=c),u>1&&(w.colspan=u),r.editable?g='<span contenteditable="true">'+g+"</span>":b&&(w["data-t"]=b&&b.t||"z",b.v!=null&&(w["data-v"]=b.v),b.z!=null&&(w["data-z"]=b.z),b.l&&(b.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+b.l.Target+'">'+g+"</a>")),w.id=(r.id||"sjs")+"-"+m,l.push(fs("td",g,w))}}var p="<tr>";return p+l.join("")+"</tr>"}var yV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bV="</body></html>";function vV(t,a){var s=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!s||s.length==0)throw new Error("Invalid HTML: could not find <table>");if(s.length==1)return mu(bC(s[0],a),a);var r=Rw();return s.forEach(function(n,l){Hw(r,bC(n,a),"Sheet"+(l+1))}),r}function wV(t,a,s){var r=[];return r.join("")+"<table"+(s&&s.id?' id="'+s.id+'"':"")+">"}function OD(t,a){var s=a||{},r=s.header!=null?s.header:yV,n=s.footer!=null?s.footer:bV,l=[r],i=sl(t["!ref"]);s.dense=Array.isArray(t),l.push(wV(t,i,s));for(var c=i.s.r;c<=i.e.r;++c)l.push(fV(t,i,c,s));return l.push("</table>"+n),l.join("")}function _D(t,a,s){var r=s||{},n=0,l=0;if(r.origin!=null)if(typeof r.origin=="number")n=r.origin;else{var i=typeof r.origin=="string"?Tr(r.origin):r.origin;n=i.r,l=i.c}var c=a.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:n,c:l}};if(t["!ref"]){var m=sl(t["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),n==-1&&(h.e.r=n=m.e.r+1)}var b=[],g=0,w=t["!rows"]||(t["!rows"]=[]),p=0,v=0,f=0,y=0,N=0,C=0;for(t["!cols"]||(t["!cols"]=[]);p<c.length&&v<u;++p){var S=c[p];if(vC(S)){if(r.display)continue;w[v]={hidden:!0}}var I=S.children;for(f=y=0;f<I.length;++f){var k=I[f];if(!(r.display&&vC(k))){var A=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):n3(k.innerHTML),F=k.getAttribute("data-z")||k.getAttribute("z");for(g=0;g<b.length;++g){var O=b[g];O.s.c==y+l&&O.s.r<v+n&&v+n<=O.e.r&&(y=O.e.c+1-l,g=-1)}C=+k.getAttribute("colspan")||1,((N=+k.getAttribute("rowspan")||1)>1||C>1)&&b.push({s:{r:v+n,c:y+l},e:{r:v+n+(N||1)-1,c:y+l+(C||1)-1}});var M={t:"s",v:A},U=k.getAttribute("data-t")||k.getAttribute("t")||"";A!=null&&(A.length==0?M.t=U||"z":r.raw||A.trim().length==0||U=="s"||(A==="TRUE"?M={t:"b",v:!0}:A==="FALSE"?M={t:"b",v:!1}:isNaN(Hi(A))?isNaN(K0(A).getDate())||(M={t:"d",v:fr(A)},r.cellDates||(M={t:"n",v:yn(M.v)}),M.z=r.dateNF||Vs[14]):M={t:"n",v:Hi(A)})),M.z===void 0&&F!=null&&(M.z=F);var L="",G=k.getElementsByTagName("A");if(G&&G.length)for(var re=0;re<G.length&&!(G[re].hasAttribute("href")&&(L=G[re].getAttribute("href"),L.charAt(0)!="#"));++re);L&&L.charAt(0)!="#"&&(M.l={Target:L}),r.dense?(t[v+n]||(t[v+n]=[]),t[v+n][y+l]=M):t[Ys({c:y+l,r:v+n})]=M,h.e.c<y+l&&(h.e.c=y+l),y+=C}}++v}return b.length&&(t["!merges"]=(t["!merges"]||[]).concat(b)),h.e.r=Math.max(h.e.r,v-1+n),t["!ref"]=la(h),v>=u&&(t["!fullref"]=la((h.e.r=c.length-p+v-1+n,h))),t}function BD(t,a){var s=a||{},r=s.dense?[]:{};return _D(r,t,a)}function NV(t,a){return mu(BD(t,a),a)}function vC(t){var a="",s=jV(t);return s&&(a=s(t).getPropertyValue("display")),a||(a=t.style&&t.style.display),a==="none"}function jV(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function CV(t){var a=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,n){return Array(parseInt(n,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),s=Fa(a.replace(/<[^>]*>/g,""));return[s]}var wC={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function RD(t,a){var s=a||{},r=uw(t),n=[],l,i,c={name:""},u="",h=0,m,b,g={},w=[],p=s.dense?[]:{},v,f,y={value:""},N="",C=0,S=[],I=-1,k=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,O={},M=[],U={},L=0,G=0,re=[],ye=1,K=1,ne=[],H={Names:[]},se={},we=["",""],Y=[],E={},P="",V=0,D=!1,R=!1,ee=0;for(sh.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=sh.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?p["!ref"]=la(A):p["!ref"]="A1:A1",s.sheetRows>0&&s.sheetRows<=A.e.r&&(p["!fullref"]=p["!ref"],A.e.r=s.sheetRows-1,p["!ref"]=la(A)),M.length&&(p["!merges"]=M),re.length&&(p["!rows"]=re),m.name=m.||m.name,typeof JSON<"u"&&JSON.stringify(m),w.push(m.name),g[m.name]=p,R=!1):v[0].charAt(v[0].length-2)!=="/"&&(m=qs(v[0],!1),I=k=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,p=s.dense?[]:{},M=[],re=[],R=!0);break;case"table-row-group":v[1]==="/"?--F:++F;break;case"table-row":case"":if(v[1]==="/"){I+=ye,ye=1;break}if(b=qs(v[0],!1),b.?I=b.-1:I==-1&&(I=0),ye=+b["number-rows-repeated"]||1,ye<10)for(ee=0;ee<ye;++ee)F>0&&(re[I+ee]={level:F});k=-1;break;case"covered-table-cell":v[1]!=="/"&&++k,s.sheetStubs&&(s.dense?(p[I]||(p[I]=[]),p[I][k]={t:"z"}):p[Ys({r:I,c:k})]={t:"z"}),N="",S=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++k,y=qs(v[0],!1),K=parseInt(y["number-columns-repeated"]||"1",10),f={t:"z",v:null},y.formula&&s.cellFormula!=!1&&(f.f=gC(Fa(y.formula))),(y.||y["value-type"])=="string"&&(f.t="s",f.v=Fa(y["string-value"]||""),s.dense?(p[I]||(p[I]=[]),p[I][k]=f):p[Ys({r:I,c:k})]=f),k+=K-1;else if(v[1]!=="/"){++k,N="",C=0,S=[],K=1;var Se=ye?I+ye-1:I;if(k>A.e.c&&(A.e.c=k),k<A.s.c&&(A.s.c=k),I<A.s.r&&(A.s.r=I),Se>A.e.r&&(A.e.r=Se),y=qs(v[0],!1),Y=[],E={},f={t:y.||y["value-type"],v:null},s.cellFormula)if(y.formula&&(y.formula=Fa(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(L=parseInt(y["number-matrix-rows-spanned"],10)||0,G=parseInt(y["number-matrix-columns-spanned"],10)||0,U={s:{r:I,c:k},e:{r:I+L-1,c:k+G-1}},f.F=la(U),ne.push([U,f.F])),y.formula)f.f=gC(y.formula);else for(ee=0;ee<ne.length;++ee)I>=ne[ee][0].s.r&&I<=ne[ee][0].e.r&&k>=ne[ee][0].s.c&&k<=ne[ee][0].e.c&&(f.F=ne[ee][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(L=parseInt(y["number-rows-spanned"],10)||0,G=parseInt(y["number-columns-spanned"],10)||0,U={s:{r:I,c:k},e:{r:I+L-1,c:k+G-1}},M.push(U)),y["number-columns-repeated"]&&(K=parseInt(y["number-columns-repeated"],10)),f.t){case"boolean":f.t="b",f.v=gr(y["boolean-value"]);break;case"float":f.t="n",f.v=parseFloat(y.value);break;case"percentage":f.t="n",f.v=parseFloat(y.value);break;case"currency":f.t="n",f.v=parseFloat(y.value);break;case"date":f.t="d",f.v=fr(y["date-value"]),s.cellDates||(f.t="n",f.v=yn(f.v)),f.z="m/d/yy";break;case"time":f.t="n",f.v=J8(y["time-value"])/86400,s.cellDates&&(f.t="d",f.v=Jg(f.v)),f.z="HH:MM:SS";break;case"number":f.t="n",f.v=parseFloat(y.);break;default:if(f.t==="string"||f.t==="text"||!f.t)f.t="s",y["string-value"]!=null&&(N=Fa(y["string-value"]),S=[]);else throw new Error("Unsupported value type "+f.t)}}else{if(D=!1,f.t==="s"&&(f.v=N||"",S.length&&(f.R=S),D=C==0),se.Target&&(f.l=se),Y.length>0&&(f.c=Y,Y=[]),N&&s.cellText!==!1&&(f.w=N),D&&(f.t="z",delete f.v),(!D||s.sheetStubs)&&!(s.sheetRows&&s.sheetRows<=I))for(var ue=0;ue<ye;++ue){if(K=parseInt(y["number-columns-repeated"]||"1",10),s.dense)for(p[I+ue]||(p[I+ue]=[]),p[I+ue][k]=ue==0?f:yr(f);--K>0;)p[I+ue][k+K]=yr(f);else for(p[Ys({r:I+ue,c:k})]=f;--K>0;)p[Ys({r:I+ue,c:k+K})]=yr(f);A.e.c<=k&&(A.e.c=k)}K=parseInt(y["number-columns-repeated"]||"1",10),k+=K-1,K=0,f={},N="",S=[]}se={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l;E.t=N,S.length&&(E.R=S),E.a=P,Y.push(E)}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);P="",V=0,N="",C=0,S=[];break;case"creator":v[1]==="/"?P=r.slice(V,v.index):V=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&n.push([v[3],!1]);N="",C=0,S=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(O[c.name]=u,(l=n.pop())[0]!==v[3])throw"Bad state: "+l}else v[0].charAt(v[0].length-2)!=="/"&&(u="",c=qs(v[0],!1),n.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(n[n.length-1][0]){case"time-style":case"date-style":i=qs(v[0],!1),u+=wC[v[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(n[n.length-1][0]){case"time-style":case"date-style":i=qs(v[0],!1),u+=wC[v[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(n[n.length-1][0]){case"number-style":case"date-style":case"time-style":u+=r.slice(h,v.index);break}else h=v.index+v[0].length;break;case"named-range":i=qs(v[0],!1),we=Iy(i["cell-range-address"]);var oe={Name:i.name,Ref:we[0]+"!"+we[1]};R&&(oe.Sheet=w.length),H.Names.push(oe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(n[n.length-1][0])>-1)break;if(v[1]==="/"&&(!y||!y["string-value"])){var le=CV(r.slice(C,v.index));N=(N.length>0?N+`
`:"")+le[0]}else qs(v[0],!1),C=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{we=Iy(qs(v[0])["target-range-address"]),g[we[0]]["!autofilter"]={ref:we[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(se=qs(v[0],!1),!se.href)break;se.Target=Fa(se.href),delete se.href,se.Target.charAt(0)=="#"&&se.Target.indexOf(".")>-1?(we=Iy(se.Target.slice(1)),se.Target="#"+we[0]+"!"+we[1]):se.Target.match(/^\.\.[\\\/]/)&&(se.Target=se.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(s.WTF)throw new Error(v)}}var Q={Sheets:g,SheetNames:w,Workbook:H};return s.bookSheets&&delete Q.Sheets,Q}function NC(t,a){a=a||{},ni(t,"META-INF/manifest.xml")&&J_(nn(t,"META-INF/manifest.xml"),a);var s=kl(t,"content.xml");if(!s)throw new Error("Missing content.xml in ODS / UOF file");var r=RD(sr(s),a);return ni(t,"meta.xml")&&(r.Props=T3(nn(t,"meta.xml"))),r}function jC(t,a){return RD(t,a)}var SV=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),a="<office:document-styles "+th({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Qr+a}})(),CC=(function(){var t=function(l){return Za(l).replace(/  +/g,function(i){return'<text:s text:c="'+i.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},a=`          <table:table-cell />
`,s=`          <table:covered-table-cell/>
`,r=function(l,i,c){var u=[];u.push('      <table:table table:name="'+Za(i.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,m=0,b=sl(l["!ref"]||"A1"),g=l["!merges"]||[],w=0,p=Array.isArray(l);if(l["!cols"])for(m=0;m<=b.e.c;++m)u.push("        <table:table-column"+(l["!cols"][m]?' table:style-name="co'+l["!cols"][m].ods+'"':"")+`></table:table-column>
`);var v="",f=l["!rows"]||[];for(h=0;h<b.s.r;++h)v=f[h]?' table:style-name="ro'+f[h].ods+'"':"",u.push("        <table:table-row"+v+`></table:table-row>
`);for(;h<=b.e.r;++h){for(v=f[h]?' table:style-name="ro'+f[h].ods+'"':"",u.push("        <table:table-row"+v+`>
`),m=0;m<b.s.c;++m)u.push(a);for(;m<=b.e.c;++m){var y=!1,N={},C="";for(w=0;w!=g.length;++w)if(!(g[w].s.c>m)&&!(g[w].s.r>h)&&!(g[w].e.c<m)&&!(g[w].e.r<h)){(g[w].s.c!=m||g[w].s.r!=h)&&(y=!0),N["table:number-columns-spanned"]=g[w].e.c-g[w].s.c+1,N["table:number-rows-spanned"]=g[w].e.r-g[w].s.r+1;break}if(y){u.push(s);continue}var S=Ys({r:h,c:m}),I=p?(l[h]||[])[m]:l[S];if(I&&I.f&&(N["table:formula"]=Za(z$(I.f)),I.F&&I.F.slice(0,S.length)==S)){var k=sl(I.F);N["table:number-matrix-columns-spanned"]=k.e.c-k.s.c+1,N["table:number-matrix-rows-spanned"]=k.e.r-k.s.r+1}if(!I){u.push(a);continue}switch(I.t){case"b":C=I.v?"TRUE":"FALSE",N["office:value-type"]="boolean",N["office:boolean-value"]=I.v?"true":"false";break;case"n":C=I.w||String(I.v||0),N["office:value-type"]="float",N["office:value"]=I.v||0;break;case"s":case"str":C=I.v==null?"":I.v,N["office:value-type"]="string";break;case"d":C=I.w||fr(I.v).toISOString(),N["office:value-type"]="date",N["office:date-value"]=fr(I.v).toISOString(),N["table:style-name"]="ce1";break;default:u.push(a);continue}var A=t(C);if(I.l&&I.l.Target){var F=I.l.Target;F=F.charAt(0)=="#"?"#"+V$(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),A=fs("text:a",A,{"xlink:href":F.replace(/&/g,"&amp;")})}u.push("          "+fs("table:table-cell",fs("text:p",A,{}),N)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},n=function(l,i){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var c=0;i.SheetNames.map(function(h){return i.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var b=h["!cols"][m];if(b.width==null&&b.wpx==null&&b.wch==null)continue;ou(b),b.ods=c;var g=h["!cols"][m].wpx+"px";l.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),l.push(`  </style:style>
`),++c}}});var u=0;i.SheetNames.map(function(h){return i.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=u;var b=h["!rows"][m].hpx+"px";l.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+b+`"/>
`),l.push(`  </style:style>
`),++u}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(i,c){var u=[Qr],h=th({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=th({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+h+m+`>
`),u.push(E3().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+h+`>
`),n(u,i),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var b=0;b!=i.SheetNames.length;++b)u.push(r(i.Sheets[i.SheetNames[b]],i,b));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function HD(t,a){if(a.bookType=="fods")return CC(t,a);var s=lw(),r="",n=[],l=[];return r="mimetype",ca(s,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",ca(s,r,CC(t,a)),n.push([r,"text/xml"]),l.push([r,"ContentFile"]),r="styles.xml",ca(s,r,SV(t,a)),n.push([r,"text/xml"]),l.push([r,"StylesFile"]),r="meta.xml",ca(s,r,Qr+E3()),n.push([r,"text/xml"]),l.push([r,"MetadataFile"]),r="manifest.rdf",ca(s,r,eB(l)),n.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",ca(s,r,Q_(n)),s}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Qu(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ov(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):sr(hu(t))}function kV(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Sl(yc(t))}function DV(t,a){e:for(var s=0;s<=t.length-a.length;++s){for(var r=0;r<a.length;++r)if(t[s+r]!=a[r])continue e;return!0}return!1}function iu(t){var a=t.reduce(function(n,l){return n+l.length},0),s=new Uint8Array(a),r=0;return t.forEach(function(n){s.set(n,r),r+=n.length}),s}function SC(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function EV(t,a){for(var s=(t[a+15]&127)<<7|t[a+14]>>1,r=t[a+14]&1,n=a+13;n>=a;--n)r=r*256+t[n];return(t[a+15]&128?-r:r)*Math.pow(10,s-6176)}function TV(t,a,s){var r=Math.floor(s==0?0:Math.LOG10E*Math.log(Math.abs(s)))+6176-20,n=s/Math.pow(10,r-6176);t[a+15]|=r>>7,t[a+14]|=(r&127)<<1;for(var l=0;n>=1;++l,n/=256)t[a+l]=n&255;t[a+15]|=s>=0?0:128}function ch(t,a){var s=a?a[0]:0,r=t[s]&127;e:if(t[s++]>=128&&(r|=(t[s]&127)<<7,t[s++]<128||(r|=(t[s]&127)<<14,t[s++]<128)||(r|=(t[s]&127)<<21,t[s++]<128)||(r+=(t[s]&127)*Math.pow(2,28),++s,t[s++]<128)||(r+=(t[s]&127)*Math.pow(2,35),++s,t[s++]<128)||(r+=(t[s]&127)*Math.pow(2,42),++s,t[s++]<128)))break e;return a&&(a[0]=s),r}function Xa(t){var a=new Uint8Array(7);a[0]=t&127;var s=1;e:if(t>127){if(a[s-1]|=128,a[s]=t>>7&127,++s,t<=16383||(a[s-1]|=128,a[s]=t>>14&127,++s,t<=2097151)||(a[s-1]|=128,a[s]=t>>21&127,++s,t<=268435455)||(a[s-1]|=128,a[s]=t/256>>>21&127,++s,t<=34359738367)||(a[s-1]|=128,a[s]=t/65536>>>21&127,++s,t<=4398046511103))break e;a[s-1]|=128,a[s]=t/16777216>>>21&127,++s}return a.slice(0,s)}function _r(t){var a=0,s=t[a]&127;e:if(t[a++]>=128){if(s|=(t[a]&127)<<7,t[a++]<128||(s|=(t[a]&127)<<14,t[a++]<128)||(s|=(t[a]&127)<<21,t[a++]<128))break e;s|=(t[a]&127)<<28}return s}function Oa(t){for(var a=[],s=[0];s[0]<t.length;){var r=s[0],n=ch(t,s),l=n&7;n=Math.floor(n/8);var i=0,c;if(n==0)break;switch(l){case 0:{for(var u=s[0];t[s[0]++]>=128;);c=t.slice(u,s[0])}break;case 5:i=4,c=t.slice(s[0],s[0]+i),s[0]+=i;break;case 1:i=8,c=t.slice(s[0],s[0]+i),s[0]+=i;break;case 2:i=ch(t,s),c=t.slice(s[0],s[0]+i),s[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(n," at offset ").concat(r))}var h={data:c,type:l};a[n]==null?a[n]=[h]:a[n].push(h)}return a}function Gn(t){var a=[];return t.forEach(function(s,r){s.forEach(function(n){n.data&&(a.push(Xa(r*8+n.type)),n.type==2&&a.push(Xa(n.data.length)),a.push(n.data))})}),iu(a)}function Mw(t,a){return t?.map(function(s){return a(s.data)})||[]}function ai(t){for(var a,s=[],r=[0];r[0]<t.length;){var n=ch(t,r),l=Oa(t.slice(r[0],r[0]+n));r[0]+=n;var i={id:_r(l[1][0].data),messages:[]};l[2].forEach(function(c){var u=Oa(c.data),h=_r(u[3][0].data);i.messages.push({meta:u,data:t.slice(r[0],r[0]+h)}),r[0]+=h}),(a=l[3])!=null&&a[0]&&(i.merge=_r(l[3][0].data)>>>0>0),s.push(i)}return s}function D0(t){var a=[];return t.forEach(function(s){var r=[];r[1]=[{data:Xa(s.id),type:0}],r[2]=[],s.merge!=null&&(r[3]=[{data:Xa(+!!s.merge),type:0}]);var n=[];s.messages.forEach(function(i){n.push(i.data),i.meta[3]=[{type:0,data:Xa(i.data.length)}],r[2].push({data:Gn(i.meta),type:2})});var l=Gn(r);a.push(Xa(l.length)),a.push(l),n.forEach(function(i){return a.push(i)})}),iu(a)}function AV(t,a){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var s=[0],r=ch(a,s),n=[];s[0]<a.length;){var l=a[s[0]]&3;if(l==0){var i=a[s[0]++]>>2;if(i<60)++i;else{var c=i-59;i=a[s[0]],c>1&&(i|=a[s[0]+1]<<8),c>2&&(i|=a[s[0]+2]<<16),c>3&&(i|=a[s[0]+3]<<24),i>>>=0,i++,s[0]+=c}n.push(a.slice(s[0],s[0]+i)),s[0]+=i;continue}else{var u=0,h=0;if(l==1?(h=(a[s[0]]>>2&7)+4,u=(a[s[0]++]&224)<<3,u|=a[s[0]++]):(h=(a[s[0]++]>>2)+1,l==2?(u=a[s[0]]|a[s[0]+1]<<8,s[0]+=2):(u=(a[s[0]]|a[s[0]+1]<<8|a[s[0]+2]<<16|a[s[0]+3]<<24)>>>0,s[0]+=4)),n=[iu(n)],u==0)throw new Error("Invalid offset 0");if(u>n[0].length)throw new Error("Invalid offset beyond length");if(h>=u)for(n.push(n[0].slice(-u)),h-=u;h>=n[n.length-1].length;)n.push(n[n.length-1]),h-=n[n.length-1].length;n.push(n[0].slice(-u,-u+h))}}var m=iu(n);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function ri(t){for(var a=[],s=0;s<t.length;){var r=t[s++],n=t[s]|t[s+1]<<8|t[s+2]<<16;s+=3,a.push(AV(r,t.slice(s,s+n))),s+=n}if(s!==t.length)throw new Error("data is not a valid framed stream!");return iu(a)}function E0(t){for(var a=[],s=0;s<t.length;){var r=Math.min(t.length-s,268435455),n=new Uint8Array(4);a.push(n);var l=Xa(r),i=l.length;a.push(l),r<=60?(i++,a.push(new Uint8Array([r-1<<2]))):r<=256?(i+=2,a.push(new Uint8Array([240,r-1&255]))):r<=65536?(i+=3,a.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(i+=4,a.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(i+=5,a.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),a.push(t.slice(s,s+r)),i+=r,n[0]=0,n[1]=i&255,n[2]=i>>8&255,n[3]=i>>16&255,s+=r}return iu(a)}function FV(t,a,s,r){var n=Qu(t),l=n.getUint32(4,!0),i=(r>1?12:8)+SC(l&(r>1?3470:398))*4,c=-1,u=-1,h=NaN,m=new Date(2001,0,1);l&512&&(c=n.getUint32(i,!0),i+=4),i+=SC(l&(r>1?12288:4096))*4,l&16&&(u=n.getUint32(i,!0),i+=4),l&32&&(h=n.getFloat64(i,!0),i+=8),l&64&&(m.setTime(m.getTime()+n.getFloat64(i,!0)*1e3),i+=8);var b;switch(t[2]){case 0:break;case 2:b={t:"n",v:h};break;case 3:b={t:"s",v:a[u]};break;case 5:b={t:"d",v:m};break;case 6:b={t:"b",v:h>0};break;case 7:b={t:"n",v:h/86400};break;case 8:b={t:"e",v:0};break;case 9:if(c>-1)b={t:"s",v:s[c]};else if(u>-1)b={t:"s",v:a[u]};else if(!isNaN(h))b={t:"n",v:h};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return b}function PV(t,a,s){var r=Qu(t),n=r.getUint32(8,!0),l=12,i=-1,c=-1,u=NaN,h=NaN,m=new Date(2001,0,1);n&1&&(u=EV(t,l),l+=16),n&2&&(h=r.getFloat64(l,!0),l+=8),n&4&&(m.setTime(m.getTime()+r.getFloat64(l,!0)*1e3),l+=8),n&8&&(c=r.getUint32(l,!0),l+=4),n&16&&(i=r.getUint32(l,!0),l+=4);var b;switch(t[1]){case 0:break;case 2:b={t:"n",v:u};break;case 3:b={t:"s",v:a[c]};break;case 5:b={t:"d",v:m};break;case 6:b={t:"b",v:h>0};break;case 7:b={t:"n",v:h/86400};break;case 8:b={t:"e",v:0};break;case 9:if(i>-1)b={t:"s",v:s[i]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)));break;case 10:b={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(n&31," : ").concat(t.slice(0,4)))}return b}function Ly(t,a){var s=new Uint8Array(32),r=Qu(s),n=12,l=0;switch(s[0]=5,t.t){case"n":s[1]=2,TV(s,n,t.v),l|=1,n+=16;break;case"b":s[1]=6,r.setFloat64(n,t.v?1:0,!0),l|=2,n+=8;break;case"s":if(a.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));s[1]=3,r.setUint32(n,a.indexOf(t.v),!0),l|=8,n+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,l,!0),s.slice(0,n)}function Oy(t,a){var s=new Uint8Array(32),r=Qu(s),n=12,l=0;switch(s[0]=3,t.t){case"n":s[2]=2,r.setFloat64(n,t.v,!0),l|=32,n+=8;break;case"b":s[2]=6,r.setFloat64(n,t.v?1:0,!0),l|=32,n+=8;break;case"s":if(a.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));s[2]=3,r.setUint32(n,a.indexOf(t.v),!0),l|=16,n+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,l,!0),s.slice(0,n)}function IV(t,a,s){switch(t[0]){case 0:case 1:case 2:case 3:return FV(t,a,s,t[0]);case 5:return PV(t,a,s);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function oo(t){var a=Oa(t);return ch(a[1][0].data)}function kC(t,a){var s=Oa(a.data),r=_r(s[1][0].data),n=s[3],l=[];return(n||[]).forEach(function(i){var c=Oa(i.data),u=_r(c[1][0].data)>>>0;switch(r){case 1:l[u]=ov(c[3][0].data);break;case 8:{var h=t[oo(c[9][0].data)][0],m=Oa(h.data),b=t[oo(m[1][0].data)][0],g=_r(b.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var w=Oa(b.data);l[u]=w[3].map(function(p){return ov(p.data)}).join("")}break}}),l}function MV(t,a){var s,r,n,l,i,c,u,h,m,b,g,w,p,v,f=Oa(t),y=_r(f[1][0].data)>>>0,N=_r(f[2][0].data)>>>0,C=((r=(s=f[8])==null?void 0:s[0])==null?void 0:r.data)&&_r(f[8][0].data)>0||!1,S,I;if((l=(n=f[7])==null?void 0:n[0])!=null&&l.data&&a!=0)S=(c=(i=f[7])==null?void 0:i[0])==null?void 0:c.data,I=(h=(u=f[6])==null?void 0:u[0])==null?void 0:h.data;else if((b=(m=f[4])==null?void 0:m[0])!=null&&b.data&&a!=1)S=(w=(g=f[4])==null?void 0:g[0])==null?void 0:w.data,I=(v=(p=f[3])==null?void 0:p[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(a," cell storage");for(var k=C?4:1,A=Qu(S),F=[],O=0;O<S.length/2;++O){var M=A.getUint16(O*2,!0);M<65535&&F.push([O,M])}if(F.length!=N)throw"Expected ".concat(N," cells, found ").concat(F.length);var U=[];for(O=0;O<F.length-1;++O)U[F[O][0]]=I.subarray(F[O][1]*k,F[O+1][1]*k);return F.length>=1&&(U[F[F.length-1][0]]=I.subarray(F[F.length-1][1]*k)),{R:y,cells:U}}function LV(t,a){var s,r=Oa(a.data),n=(s=r?.[7])!=null&&s[0]?_r(r[7][0].data)>>>0>0?1:0:-1,l=Mw(r[5],function(i){return MV(i,n)});return{nrows:_r(r[4][0].data)>>>0,data:l.reduce(function(i,c){return i[c.R]||(i[c.R]=[]),c.cells.forEach(function(u,h){if(i[c.R][h])throw new Error("Duplicate cell r=".concat(c.R," c=").concat(h));i[c.R][h]=u}),i},[])}}function OV(t,a,s){var r,n=Oa(a.data),l={s:{r:0,c:0},e:{r:0,c:0}};if(l.e.r=(_r(n[6][0].data)>>>0)-1,l.e.r<0)throw new Error("Invalid row varint ".concat(n[6][0].data));if(l.e.c=(_r(n[7][0].data)>>>0)-1,l.e.c<0)throw new Error("Invalid col varint ".concat(n[7][0].data));s["!ref"]=la(l);var i=Oa(n[4][0].data),c=kC(t,t[oo(i[4][0].data)][0]),u=(r=i[17])!=null&&r[0]?kC(t,t[oo(i[17][0].data)][0]):[],h=Oa(i[3][0].data),m=0;h[1].forEach(function(b){var g=Oa(b.data),w=t[oo(g[2][0].data)][0],p=_r(w.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var v=LV(t,w);v.data.forEach(function(f,y){f.forEach(function(N,C){var S=Ys({r:m+y,c:C}),I=IV(N,c,u);I&&(s[S]=I)})}),m+=v.nrows})}function _V(t,a){var s=Oa(a.data),r={"!ref":"A1"},n=t[oo(s[2][0].data)],l=_r(n[0].meta[1][0].data);if(l!=6001)throw new Error("6000 unexpected reference to ".concat(l));return OV(t,n[0],r),r}function BV(t,a){var s,r=Oa(a.data),n={name:(s=r[1])!=null&&s[0]?ov(r[1][0].data):"",sheets:[]},l=Mw(r[2],oo);return l.forEach(function(i){t[i].forEach(function(c){var u=_r(c.meta[1][0].data);u==6e3&&n.sheets.push(_V(t,c))})}),n}function RV(t,a){var s=Rw(),r=Oa(a.data),n=Mw(r[1],oo);if(n.forEach(function(l){t[l].forEach(function(i){var c=_r(i.meta[1][0].data);if(c==2){var u=BV(t,i);u.sheets.forEach(function(h,m){Hw(s,h,m==0?u.name:u.name+"_"+m,!0)})}})}),s.SheetNames.length==0)throw new Error("Empty NUMBERS file");return s}function _y(t){var a,s,r,n,l={},i=[];if(t.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var h;try{h=ri(u.content)}catch(b){return console.log("?? "+u.content.length+" "+(b.message||b))}var m;try{m=ai(h)}catch(b){return console.log("## "+(b.message||b))}m.forEach(function(b){l[b.id]=b.messages,i.push(b.id)})}}),!i.length)throw new Error("File has no messages");var c=((n=(r=(s=(a=l?.[1])==null?void 0:a[0])==null?void 0:s.meta)==null?void 0:r[1])==null?void 0:n[0].data)&&_r(l[1][0].meta[1][0].data)==1&&l[1][0];if(c||i.forEach(function(u){l[u].forEach(function(h){var m=_r(h.meta[1][0].data)>>>0;if(m==1)if(!c)c=h;else throw new Error("Document has multiple roots")})}),!c)throw new Error("Cannot find Document root");return RV(l,c)}function HV(t,a,s){var r,n,l,i;if(!((r=t[6])!=null&&r[0])||!((n=t[7])!=null&&n[0]))throw"Mutation only works on post-BNC storages!";var c=((i=(l=t[8])==null?void 0:l[0])==null?void 0:i.data)&&_r(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,h=Qu(t[7][0].data),m=0,b=[],g=Qu(t[4][0].data),w=0,p=[],v=0;v<a.length;++v){if(a[v]==null){h.setUint16(v*2,65535,!0),g.setUint16(v*2,65535);continue}h.setUint16(v*2,m,!0),g.setUint16(v*2,w,!0);var f,y;switch(typeof a[v]){case"string":f=Ly({t:"s",v:a[v]},s),y=Oy({t:"s",v:a[v]},s);break;case"number":f=Ly({t:"n",v:a[v]},s),y=Oy({t:"n",v:a[v]},s);break;case"boolean":f=Ly({t:"b",v:a[v]},s),y=Oy({t:"b",v:a[v]},s);break;default:throw new Error("Unsupported value "+a[v])}b.push(f),m+=f.length,p.push(y),w+=y.length,++u}for(t[2][0].data=Xa(u);v<t[7][0].data.length/2;++v)h.setUint16(v*2,65535,!0),g.setUint16(v*2,65535,!0);return t[6][0].data=iu(b),t[3][0].data=iu(p),u}function UV(t,a){if(!a||!a.numbers)throw new Error("Must pass a `numbers` option -- check the README");var s=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=sl(s["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(la(r)));var l=Sg(s,{range:r,header:1}),i=["~Sh33tJ5~"];l.forEach(function(P){return P.forEach(function(V){typeof V=="string"&&i.push(V)})});var c={},u=[],h=$s.read(a.numbers,{type:"base64"});h.FileIndex.map(function(P,V){return[P,h.FullPaths[V]]}).forEach(function(P){var V=P[0],D=P[1];if(V.type==2&&V.name.match(/\.iwa/)){var R=V.content,ee=ri(R),Se=ai(ee);Se.forEach(function(ue){u.push(ue.id),c[ue.id]={deps:[],location:D,type:_r(ue.messages[0].meta[1][0].data)}})}}),u.sort(function(P,V){return P-V});var m=u.filter(function(P){return P>1}).map(function(P){return[P,Xa(P)]});h.FileIndex.map(function(P,V){return[P,h.FullPaths[V]]}).forEach(function(P){var V=P[0];if(P[1],!!V.name.match(/\.iwa/)){var D=ai(ri(V.content));D.forEach(function(R){R.messages.forEach(function(ee){m.forEach(function(Se){R.messages.some(function(ue){return _r(ue.meta[1][0].data)!=11006&&DV(ue.data,Se[1])})&&c[Se[0]].deps.push(R.id)})})})}});for(var b=$s.find(h,c[1].location),g=ai(ri(b.content)),w,p=0;p<g.length;++p){var v=g[p];v.id==1&&(w=v)}var f=oo(Oa(w.messages[0].data)[1][0].data);for(b=$s.find(h,c[f].location),g=ai(ri(b.content)),p=0;p<g.length;++p)v=g[p],v.id==f&&(w=v);for(f=oo(Oa(w.messages[0].data)[2][0].data),b=$s.find(h,c[f].location),g=ai(ri(b.content)),p=0;p<g.length;++p)v=g[p],v.id==f&&(w=v);for(f=oo(Oa(w.messages[0].data)[2][0].data),b=$s.find(h,c[f].location),g=ai(ri(b.content)),p=0;p<g.length;++p)v=g[p],v.id==f&&(w=v);var y=Oa(w.messages[0].data);{y[6][0].data=Xa(r.e.r+1),y[7][0].data=Xa(r.e.c+1);var N=oo(y[46][0].data),C=$s.find(h,c[N].location),S=ai(ri(C.content));{for(var I=0;I<S.length&&S[I].id!=N;++I);if(S[I].id!=N)throw"Bad ColumnRowUIDMapArchive";var k=Oa(S[I].messages[0].data);k[1]=[],k[2]=[],k[3]=[];for(var A=0;A<=r.e.c;++A){var F=[];F[1]=F[2]=[{type:0,data:Xa(A+420690)}],k[1].push({type:2,data:Gn(F)}),k[2].push({type:0,data:Xa(A)}),k[3].push({type:0,data:Xa(A)})}k[4]=[],k[5]=[],k[6]=[];for(var O=0;O<=r.e.r;++O)F=[],F[1]=F[2]=[{type:0,data:Xa(O+726270)}],k[4].push({type:2,data:Gn(F)}),k[5].push({type:0,data:Xa(O)}),k[6].push({type:0,data:Xa(O)});S[I].messages[0].data=Gn(k)}C.content=E0(D0(S)),C.size=C.content.length,delete y[46];var M=Oa(y[4][0].data);{M[7][0].data=Xa(r.e.r+1);var U=Oa(M[1][0].data),L=oo(U[2][0].data);C=$s.find(h,c[L].location),S=ai(ri(C.content));{if(S[0].id!=L)throw"Bad HeaderStorageBucket";var G=Oa(S[0].messages[0].data);for(O=0;O<l.length;++O){var re=Oa(G[2][0].data);re[1][0].data=Xa(O),re[4][0].data=Xa(l[O].length),G[2][O]={type:G[2][0].type,data:Gn(re)}}S[0].messages[0].data=Gn(G)}C.content=E0(D0(S)),C.size=C.content.length;var ye=oo(M[2][0].data);C=$s.find(h,c[ye].location),S=ai(ri(C.content));{if(S[0].id!=ye)throw"Bad HeaderStorageBucket";for(G=Oa(S[0].messages[0].data),A=0;A<=r.e.c;++A)re=Oa(G[2][0].data),re[1][0].data=Xa(A),re[4][0].data=Xa(r.e.r+1),G[2][A]={type:G[2][0].type,data:Gn(re)};S[0].messages[0].data=Gn(G)}C.content=E0(D0(S)),C.size=C.content.length;var K=oo(M[4][0].data);(function(){for(var P=$s.find(h,c[K].location),V=ai(ri(P.content)),D,R=0;R<V.length;++R){var ee=V[R];ee.id==K&&(D=ee)}var Se=Oa(D.messages[0].data);{Se[3]=[];var ue=[];i.forEach(function(Q,ve){ue[1]=[{type:0,data:Xa(ve)}],ue[2]=[{type:0,data:Xa(1)}],ue[3]=[{type:2,data:kV(Q)}],Se[3].push({type:2,data:Gn(ue)})})}D.messages[0].data=Gn(Se);var oe=D0(V),le=E0(oe);P.content=le,P.size=P.content.length})();var ne=Oa(M[3][0].data);{var H=ne[1][0];delete ne[2];var se=Oa(H.data);{var we=oo(se[2][0].data);(function(){for(var P=$s.find(h,c[we].location),V=ai(ri(P.content)),D,R=0;R<V.length;++R){var ee=V[R];ee.id==we&&(D=ee)}var Se=Oa(D.messages[0].data);{delete Se[6],delete ne[7];var ue=new Uint8Array(Se[5][0].data);Se[5]=[];for(var oe=0,le=0;le<=r.e.r;++le){var Q=Oa(ue);oe+=HV(Q,l[le],i),Q[1][0].data=Xa(le),Se[5].push({data:Gn(Q),type:2})}Se[1]=[{type:0,data:Xa(r.e.c+1)}],Se[2]=[{type:0,data:Xa(r.e.r+1)}],Se[3]=[{type:0,data:Xa(oe)}],Se[4]=[{type:0,data:Xa(r.e.r+1)}]}D.messages[0].data=Gn(Se);var ve=D0(V),Ce=E0(ve);P.content=Ce,P.size=P.content.length})()}H.data=Gn(se)}M[3][0].data=Gn(ne)}y[4][0].data=Gn(M)}w.messages[0].data=Gn(y);var Y=D0(g),E=E0(Y);return b.content=E,b.size=b.content.length,h}function UD(t){return function(s){for(var r=0;r!=t.length;++r){var n=t[r];s[n[0]]===void 0&&(s[n[0]]=n[1]),n[2]==="n"&&(s[n[0]]=Number(s[n[0]]))}}}function Lw(t){UD([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function Ow(t){UD([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function $V(t){return fa.WS.indexOf(t)>-1?"sheet":t==fa.CS?"chart":t==fa.DS?"dialog":t==fa.MS?"macro":t&&t.length?t:"sheet"}function WV(t,a){if(!t)return 0;try{t=a.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,$V(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function GV(t,a,s,r,n,l,i,c,u,h,m,b){try{l[r]=Wx(kl(t,s,!0),a);var g=nn(t,a),w;switch(c){case"sheet":w=xz(g,a,n,u,l[r],h,m,b);break;case"chart":if(w=hz(g,a,n,u,l[r],h,m,b),!w||!w["!drawel"])break;var p=Rx(w["!drawel"].Target,a),v=ah(p),f=ZH(kl(t,p,!0),Wx(kl(t,v,!0),p)),y=Rx(f,p),N=ah(y);w=HG(kl(t,y,!0),y,u,Wx(kl(t,N,!0),y),h,w);break;case"macro":w=mz(g,a,n,u,l[r],h,m,b);break;case"dialog":w=pz(g,a,n,u,l[r],h,m,b);break;default:throw new Error("Unrecognized sheet type "+c)}i[r]=w;var C=[];l&&l[r]&&Rr(l[r]).forEach(function(S){var I="";if(l[r][S].Type==fa.CMNT){I=Rx(l[r][S].Target,a);var k=bz(nn(t,I,!0),I,u);if(!k||!k.length)return;uC(w,k,!1)}l[r][S].Type==fa.TCMNT&&(I=Rx(l[r][S].Target,a),C=C.concat(tU(nn(t,I,!0),u)))}),C&&C.length&&uC(w,C,!0,u.people||[])}catch(S){if(u.WTF)throw S}}function ti(t){return t.charAt(0)=="/"?t.slice(1):t}function zV(t,a){if(ix(),a=a||{},Lw(a),ni(t,"META-INF/manifest.xml")||ni(t,"objectdata.xml"))return NC(t,a);if(ni(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof _y<"u"){if(t.FileIndex)return _y(t);var s=$s.utils.cfb_new();return P2(t).forEach(function(re){ca(s,re,s_(t,re))}),_y(s)}throw new Error("Unsupported NUMBERS file")}if(!ni(t,"[Content_Types].xml"))throw ni(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ni(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=P2(t),n=q_(kl(t,"[Content_Types].xml")),l=!1,i,c;if(n.workbooks.length===0&&(c="xl/workbook.xml",nn(t,c,!0)&&n.workbooks.push(c)),n.workbooks.length===0){if(c="xl/workbook.bin",!nn(t,c,!0))throw new Error("Could not find workbook");n.workbooks.push(c),l=!0}n.workbooks[0].slice(-3)=="bin"&&(l=!0);var u={},h={};if(!a.bookSheets&&!a.bookProps){if(Gx=[],n.sst)try{Gx=yz(nn(t,ti(n.sst)),n.sst,a)}catch(re){if(a.WTF)throw re}a.cellStyles&&n.themes.length&&(u=fz(kl(t,n.themes[0].replace(/^\//,""),!0)||"",n.themes[0],a)),n.style&&(h=gz(nn(t,ti(n.style)),n.style,u,a))}n.links.map(function(re){try{var ye=Wx(kl(t,ah(ti(re))),re);return wz(nn(t,ti(re)),ye,re,a)}catch{}});var m=uz(nn(t,ti(n.workbooks[0])),n.workbooks[0],a),b={},g="";n.coreprops.length&&(g=nn(t,ti(n.coreprops[0]),!0),g&&(b=T3(g)),n.extprops.length!==0&&(g=nn(t,ti(n.extprops[0]),!0),g&&sB(g,b,a)));var w={};(!a.bookSheets||a.bookProps)&&n.custprops.length!==0&&(g=kl(t,ti(n.custprops[0]),!0),g&&(w=rB(g,a)));var p={};if((a.bookSheets||a.bookProps)&&(m.Sheets?i=m.Sheets.map(function(ye){return ye.name}):b.Worksheets&&b.SheetNames.length>0&&(i=b.SheetNames),a.bookProps&&(p.Props=b,p.Custprops=w),a.bookSheets&&typeof i<"u"&&(p.SheetNames=i),a.bookSheets?p.SheetNames:a.bookProps))return p;i={};var v={};a.bookDeps&&n.calcchain&&(v=vz(nn(t,ti(n.calcchain)),n.calcchain));var f=0,y={},N,C;{var S=m.Sheets;b.Worksheets=S.length,b.SheetNames=[];for(var I=0;I!=S.length;++I)b.SheetNames[I]=S[I].name}var k=l?"bin":"xml",A=n.workbooks[0].lastIndexOf("/"),F=(n.workbooks[0].slice(0,A+1)+"_rels/"+n.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");ni(t,F)||(F="xl/_rels/workbook."+k+".rels");var O=Wx(kl(t,F,!0),F.replace(/_rels.*/,"s5s"));(n.metadata||[]).length>=1&&(a.xlmeta=Nz(nn(t,ti(n.metadata[0])),n.metadata[0],a)),(n.people||[]).length>=1&&(a.people=aU(nn(t,ti(n.people[0])),a)),O&&(O=WV(O,m.Sheets));var M=nn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(f=0;f!=b.Worksheets;++f){var U="sheet";if(O&&O[f]?(N="xl/"+O[f][1].replace(/[\/]?xl\//,""),ni(t,N)||(N=O[f][1]),ni(t,N)||(N=F.replace(/_rels\/.*$/,"")+O[f][1]),U=O[f][2]):(N="xl/worksheets/sheet"+(f+1-M)+"."+k,N=N.replace(/sheet0\./,"sheet.")),C=N.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),a&&a.sheets!=null)switch(typeof a.sheets){case"number":if(f!=a.sheets)continue e;break;case"string":if(b.SheetNames[f].toLowerCase()!=a.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(a.sheets)){for(var L=!1,G=0;G!=a.sheets.length;++G)typeof a.sheets[G]=="number"&&a.sheets[G]==f&&(L=1),typeof a.sheets[G]=="string"&&a.sheets[G].toLowerCase()==b.SheetNames[f].toLowerCase()&&(L=1);if(!L)continue e}}GV(t,N,C,b.SheetNames[f],f,y,i,U,a,m,u,h)}return p={Directory:n,Workbook:m,Props:b,Custprops:w,Deps:v,Sheets:i,SheetNames:b.SheetNames,Strings:Gx,Styles:h,Themes:u,SSF:yr(Vs)},a&&a.bookFiles&&(t.files?(p.keys=r,p.files=t.files):(p.keys=[],p.files={},t.FullPaths.forEach(function(re,ye){re=re.replace(/^Root Entry[\/]/,""),p.keys.push(re),p.files[re]=t.FileIndex[ye]}))),a&&a.bookVBA&&(n.vba.length>0?p.vbaraw=nn(t,ti(n.vba[0]),!0):n.defaults&&n.defaults.bin===uU&&(p.vbaraw=nn(t,"xl/vbaProject.bin",!0))),p}function VV(t,a){var s=a||{},r="Workbook",n=$s.find(t,r);try{if(r="/!DataSpaces/Version",n=$s.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(N9(n.content),r="/!DataSpaces/DataSpaceMap",n=$s.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=C9(n.content);if(l.length!==1||l[0].comps.length!==1||l[0].comps[0].t!==0||l[0].name!=="StrongEncryptionDataSpace"||l[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",n=$s.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var i=S9(n.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",n=$s.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);D9(n.content)}catch{}if(r="/EncryptionInfo",n=$s.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);var c=E9(n.content);if(r="/EncryptedPackage",n=$s.find(t,r),!n||!n.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(c[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(c[1],n.content,s.password||"",s);if(c[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(c[1],n.content,s.password||"",s);throw new Error("File is password-protected")}function YV(t,a){return a.bookType=="ods"?HD(t,a):a.bookType=="numbers"?UV(t,a):a.bookType=="xlsb"?KV(t,a):qV(t,a)}function KV(t,a){M0=1024,t&&!t.SSF&&(t.SSF=yr(Vs)),t&&t.SSF&&(ix(),Kg(t.SSF),a.revssf=Xg(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF),a.rels={},a.wbrels={},a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,zx?a.revStrings=new Map:(a.revStrings={},a.revStrings.foo=[],delete a.revStrings.foo);var s=a.bookType=="xlsb"?"bin":"xml",r=mD.indexOf(a.bookType)>-1,n=ww();Ow(a=a||{});var l=lw(),i="",c=0;if(a.cellXfs=[],pu(a.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",ca(l,i,A3(t.Props,a)),n.coreprops.push(i),Qa(a.rels,2,i,fa.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}for(t.Props.Worksheets=t.Props.SheetNames.length,ca(l,i,I3(t.Props)),n.extprops.push(i),Qa(a.rels,3,i,fa.EXT_PROPS),t.Custprops!==t.Props&&Rr(t.Custprops||{}).length>0&&(i="docProps/custom.xml",ca(l,i,M3(t.Custprops)),n.custprops.push(i),Qa(a.rels,4,i,fa.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var m={"!id":{}},b=t.Sheets[t.SheetNames[c-1]],g=(b||{})["!type"]||"sheet";switch(g){case"chart":default:i="xl/worksheets/sheet"+c+"."+s,ca(l,i,Cz(c-1,i,a,t,m)),n.sheets.push(i),Qa(a.wbrels,-1,"worksheets/sheet"+c+"."+s,fa.WS[0])}if(b){var w=b["!comments"],p=!1,v="";w&&w.length>0&&(v="xl/comments"+c+"."+s,ca(l,v,Dz(w,v)),n.comments.push(v),Qa(m,-1,"../comments"+c+"."+s,fa.CMNT),p=!0),b["!legacy"]&&p&&ca(l,"xl/drawings/vmlDrawing"+c+".vml",xD(c,b["!comments"])),delete b["!comments"],delete b["!legacy"]}m["!id"].rId1&&ca(l,ah(i),R0(m))}return a.Strings!=null&&a.Strings.length>0&&(i="xl/sharedStrings."+s,ca(l,i,kz(a.Strings,i,a)),n.strs.push(i),Qa(a.wbrels,-1,"sharedStrings."+s,fa.SST)),i="xl/workbook."+s,ca(l,i,jz(t,i)),n.workbooks.push(i),Qa(a.rels,1,i,fa.WB),i="xl/theme/theme1.xml",ca(l,i,Dw(t.Themes,a)),n.themes.push(i),Qa(a.wbrels,-1,"theme/theme1.xml",fa.THEME),i="xl/styles."+s,ca(l,i,Sz(t,i,a)),n.styles.push(i),Qa(a.wbrels,-1,"styles."+s,fa.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",ca(l,i,t.vbaraw),n.vba.push(i),Qa(a.wbrels,-1,"vbaProject.bin",fa.VBA)),i="xl/metadata."+s,ca(l,i,Ez(i)),n.metadata.push(i),Qa(a.wbrels,-1,"metadata."+s,fa.XLMETA),ca(l,"[Content_Types].xml",D3(n,a)),ca(l,"_rels/.rels",R0(a.rels)),ca(l,"xl/_rels/workbook."+s+".rels",R0(a.wbrels)),delete a.revssf,delete a.ssf,l}function qV(t,a){M0=1024,t&&!t.SSF&&(t.SSF=yr(Vs)),t&&t.SSF&&(ix(),Kg(t.SSF),a.revssf=Xg(t.SSF),a.revssf[t.SSF[65535]]=0,a.ssf=t.SSF),a.rels={},a.wbrels={},a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,zx?a.revStrings=new Map:(a.revStrings={},a.revStrings.foo=[],delete a.revStrings.foo);var s="xml",r=mD.indexOf(a.bookType)>-1,n=ww();Ow(a=a||{});var l=lw(),i="",c=0;if(a.cellXfs=[],pu(a.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),i="docProps/core.xml",ca(l,i,A3(t.Props,a)),n.coreprops.push(i),Qa(a.rels,2,i,fa.CORE_PROPS),i="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var u=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&u.push(t.SheetNames[h]);t.Props.SheetNames=u}t.Props.Worksheets=t.Props.SheetNames.length,ca(l,i,I3(t.Props)),n.extprops.push(i),Qa(a.rels,3,i,fa.EXT_PROPS),t.Custprops!==t.Props&&Rr(t.Custprops||{}).length>0&&(i="docProps/custom.xml",ca(l,i,M3(t.Custprops)),n.custprops.push(i),Qa(a.rels,4,i,fa.CUST_PROPS));var m=["SheetJ5"];for(a.tcid=0,c=1;c<=t.SheetNames.length;++c){var b={"!id":{}},g=t.Sheets[t.SheetNames[c-1]],w=(g||{})["!type"]||"sheet";switch(w){case"chart":default:i="xl/worksheets/sheet"+c+"."+s,ca(l,i,SD(c-1,a,t,b)),n.sheets.push(i),Qa(a.wbrels,-1,"worksheets/sheet"+c+"."+s,fa.WS[0])}if(g){var p=g["!comments"],v=!1,f="";if(p&&p.length>0){var y=!1;p.forEach(function(N){N[1].forEach(function(C){C.T==!0&&(y=!0)})}),y&&(f="xl/threadedComments/threadedComment"+c+"."+s,ca(l,f,sU(p,m,a)),n.threadedcomments.push(f),Qa(b,-1,"../threadedComments/threadedComment"+c+"."+s,fa.TCMNT)),f="xl/comments"+c+"."+s,ca(l,f,hD(p)),n.comments.push(f),Qa(b,-1,"../comments"+c+"."+s,fa.CMNT),v=!0}g["!legacy"]&&v&&ca(l,"xl/drawings/vmlDrawing"+c+".vml",xD(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}b["!id"].rId1&&ca(l,ah(i),R0(b))}return a.Strings!=null&&a.Strings.length>0&&(i="xl/sharedStrings."+s,ca(l,i,eD(a.Strings,a)),n.strs.push(i),Qa(a.wbrels,-1,"sharedStrings."+s,fa.SST)),i="xl/workbook."+s,ca(l,i,AD(t)),n.workbooks.push(i),Qa(a.rels,1,i,fa.WB),i="xl/theme/theme1.xml",ca(l,i,Dw(t.Themes,a)),n.themes.push(i),Qa(a.wbrels,-1,"theme/theme1.xml",fa.THEME),i="xl/styles."+s,ca(l,i,iD(t,a)),n.styles.push(i),Qa(a.wbrels,-1,"styles."+s,fa.STY),t.vbaraw&&r&&(i="xl/vbaProject.bin",ca(l,i,t.vbaraw),n.vba.push(i),Qa(a.wbrels,-1,"vbaProject.bin",fa.VBA)),i="xl/metadata."+s,ca(l,i,uD()),n.metadata.push(i),Qa(a.wbrels,-1,"metadata."+s,fa.XLMETA),m.length>1&&(i="xl/persons/person.xml",ca(l,i,rU(m)),n.people.push(i),Qa(a.wbrels,-1,"persons/person.xml",fa.PEOPLE)),ca(l,"[Content_Types].xml",D3(n,a)),ca(l,"_rels/.rels",R0(a.rels)),ca(l,"xl/_rels/workbook."+s+".rels",R0(a.wbrels)),delete a.revssf,delete a.ssf,l}function _w(t,a){var s="";switch((a||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":s=Al(t.slice(0,12));break;case"binary":s=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(a&&a.type||"undefined"))}return[s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3),s.charCodeAt(4),s.charCodeAt(5),s.charCodeAt(6),s.charCodeAt(7)]}function XV(t,a){return $s.find(t,"EncryptedPackage")?VV(t,a):MD(t,a)}function JV(t,a){var s,r=t,n=a||{};return n.type||(n.type=ma&&Buffer.isBuffer(t)?"buffer":"base64"),s=s3(r,n),zV(s,n)}function $D(t,a){var s=0;e:for(;s<t.length;)switch(t.charCodeAt(s)){case 10:case 13:case 32:++s;break;case 60:return rv(t.slice(s),a);default:break e}return q0.to_workbook(t,a)}function QV(t,a){var s="",r=_w(t,a);switch(a.type){case"base64":s=Al(t);break;case"binary":s=t;break;case"buffer":s=t.toString("binary");break;case"array":s=Ku(t);break;default:throw new Error("Unrecognized type "+a.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(s=sr(s)),a.type="binary",$D(s,a)}function ZV(t,a){var s=t;return a.type=="base64"&&(s=Al(s)),s=Jx.utils.decode(1200,s.slice(2),"str"),a.type="binary",$D(s,a)}function eY(t){return t.match(/[^\x00-\x7F]/)?yc(t):t}function By(t,a,s,r){return r?(s.type="string",q0.to_workbook(t,s)):q0.to_workbook(a,s)}function Zu(t,a){sw();var s=a||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Zu(new Uint8Array(t),(s=yr(s),s.type="array",s));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!s.type&&(s.type=typeof Deno<"u"?"buffer":"array");var r=t,n=[0,0,0,0],l=!1;if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),U0={},s.dateNF&&(U0.dateNF=s.dateNF),s.type||(s.type=ma&&Buffer.isBuffer(t)?"buffer":"base64"),s.type=="file"&&(s.type=ma?"buffer":"binary",r=K8(t),typeof Uint8Array<"u"&&!ma&&(s.type="array")),s.type=="string"&&(l=!0,s.type="binary",s.codepage=65001,r=eY(t)),s.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),c=new Uint8Array(i);if(c.foo="bar",!c.foo)return s=yr(s),s.type="array",Zu(aw(r),s)}switch((n=_w(r,s))[0]){case 208:if(n[1]===207&&n[2]===17&&n[3]===224&&n[4]===161&&n[5]===177&&n[6]===26&&n[7]===225)return XV($s.read(r,s),s);break;case 9:if(n[1]<=8)return MD(r,s);break;case 60:return rv(r,s);case 73:if(n[1]===73&&n[2]===42&&n[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(n[1]===68)return n9(r,s);break;case 84:if(n[1]===65&&n[2]===66&&n[3]===76)return Q3.to_workbook(r,s);break;case 80:return n[1]===75&&n[2]<9&&n[3]<9?JV(r,s):By(t,r,s,l);case 239:return n[3]===60?rv(r,s):By(t,r,s,l);case 255:if(n[1]===254)return ZV(r,s);if(n[1]===0&&n[2]===2&&n[3]===0)return Uu.to_workbook(r,s);break;case 0:if(n[1]===0&&(n[2]>=2&&n[3]===0||n[2]===0&&(n[3]===8||n[3]===9)))return Uu.to_workbook(r,s);break;case 3:case 131:case 139:case 140:return av.to_workbook(r,s);case 123:if(n[1]===92&&n[2]===114&&n[3]===116)return nD.to_workbook(r,s);break;case 10:case 13:case 32:return QV(r,s);case 137:if(n[1]===80&&n[2]===78&&n[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return r9.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?av.to_workbook(r,s):By(t,r,s,l)}function WD(t,a){switch(a.type){case"base64":case"binary":break;case"buffer":case"array":a.type="";break;case"file":return Th(a.file,$s.write(t,{type:ma?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+a.bookType+"' files");default:throw new Error("Unrecognized type "+a.type)}return $s.write(t,a)}function tY(t,a){var s=yr(a||{}),r=YV(t,s);return sY(r,s)}function sY(t,a){var s={},r=ma?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(a.compression&&(s.compression="DEFLATE"),a.password)s.type=r;else switch(a.type){case"base64":s.type="base64";break;case"binary":s.type="string";break;case"string":throw new Error("'string' output type invalid for '"+a.bookType+"' files");case"buffer":case"file":s.type=r;break;default:throw new Error("Unrecognized type "+a.type)}var n=t.FullPaths?$s.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[s.type]||s.type,compression:!!a.compression}):t.generate(s);if(typeof Deno<"u"&&typeof n=="string"){if(a.type=="binary"||a.type=="base64")return n;n=new Uint8Array(Yg(n))}return a.password&&typeof encrypt_agile<"u"?WD(encrypt_agile(n,a.password),a):a.type==="file"?Th(a.file,n):a.type=="string"?sr(n):n}function aY(t,a){var s=a||{},r=eV(t,s);return WD(r,s)}function mc(t,a,s){s||(s="");var r=s+t;switch(a.type){case"base64":return Qx(yc(r));case"binary":return yc(r);case"string":return t;case"file":return Th(a.file,r,"utf8");case"buffer":return ma?md(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):mc(r,{type:"binary"}).split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+a.type)}function rY(t,a){switch(a.type){case"base64":return Qx(t);case"binary":return t;case"string":return t;case"file":return Th(a.file,t,"binary");case"buffer":return ma?md(t,"binary"):t.split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+a.type)}function Um(t,a){switch(a.type){case"string":case"base64":case"binary":for(var s="",r=0;r<t.length;++r)s+=String.fromCharCode(t[r]);return a.type=="base64"?Qx(s):a.type=="string"?sr(s):s;case"file":return Th(a.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+a.type)}}function _h(t,a){sw(),XG(t);var s=yr(a||{});if(s.cellStyles&&(s.cellNF=!0,s.sheetStubs=!0),s.type=="array"){s.type="binary";var r=_h(t,s);return s.type="array",Yg(r)}var n=0;if(s.sheet&&(typeof s.sheet=="number"?n=s.sheet:n=t.SheetNames.indexOf(s.sheet),!t.SheetNames[n]))throw new Error("Sheet not found: "+s.sheet+" : "+typeof s.sheet);switch(s.bookType||"xlsb"){case"xml":case"xlml":return mc(Yz(t,s),s);case"slk":case"sylk":return mc(J3.from_sheet(t.Sheets[t.SheetNames[n]],s),s);case"htm":case"html":return mc(OD(t.Sheets[t.SheetNames[n]],s),s);case"txt":return rY(GD(t.Sheets[t.SheetNames[n]],s),s);case"csv":return mc(Bw(t.Sheets[t.SheetNames[n]],s),s,"\uFEFF");case"dif":return mc(Q3.from_sheet(t.Sheets[t.SheetNames[n]],s),s);case"dbf":return Um(av.from_sheet(t.Sheets[t.SheetNames[n]],s),s);case"prn":return mc(q0.from_sheet(t.Sheets[t.SheetNames[n]],s),s);case"rtf":return mc(nD.from_sheet(t.Sheets[t.SheetNames[n]],s),s);case"eth":return mc(Z3.from_sheet(t.Sheets[t.SheetNames[n]],s),s);case"fods":return mc(HD(t,s),s);case"wk1":return Um(Uu.sheet_to_wk1(t.Sheets[t.SheetNames[n]],s),s);case"wk3":return Um(Uu.book_to_wk3(t,s),s);case"biff2":s.biff||(s.biff=2);case"biff3":s.biff||(s.biff=3);case"biff4":return s.biff||(s.biff=4),Um(LD(t,s),s);case"biff5":s.biff||(s.biff=5);case"biff8":case"xla":case"xls":return s.biff||(s.biff=8),aY(t,s);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return tY(t,s);default:throw new Error("Unrecognized bookType |"+s.bookType+"|")}}function nY(t,a,s,r,n,l,i,c){var u=Kr(s),h=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),b=!0,g=n===1?[]:{};if(n!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:s,enumerable:!1})}catch{g.__rowNum__=s}else g.__rowNum__=s;if(!i||t[s])for(var w=a.s.c;w<=a.e.c;++w){var p=i?t[s][w]:t[r[w]+u];if(p===void 0||p.t===void 0){if(h===void 0)continue;l[w]!=null&&(g[l[w]]=h);continue}var v=p.v;switch(p.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(l[w]!=null){if(v==null)if(p.t=="e"&&v===null)g[l[w]]=null;else if(h!==void 0)g[l[w]]=h;else if(m&&v===null)g[l[w]]=null;else continue;else g[l[w]]=m&&(p.t!=="n"||p.t==="n"&&c.rawNumbers!==!1)?v:xd(p,v,c);v!=null&&(b=!1)}}return{row:g,isempty:b}}function Sg(t,a){if(t==null||t["!ref"]==null)return[];var s={t:"n",v:0},r=0,n=1,l=[],i=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},h=a||{},m=h.range!=null?h.range:t["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof m){case"string":u=Pa(m);break;case"number":u=Pa(t["!ref"]),u.s.r=m;break;default:u=m}r>0&&(n=0);var b=Kr(u.s.r),g=[],w=[],p=0,v=0,f=Array.isArray(t),y=u.s.r,N=0,C={};f&&!t[y]&&(t[y]=[]);var S=h.skipHidden&&t["!cols"]||[],I=h.skipHidden&&t["!rows"]||[];for(N=u.s.c;N<=u.e.c;++N)if(!(S[N]||{}).hidden)switch(g[N]=Er(N),s=f?t[y][N]:t[g[N]+b],r){case 1:l[N]=N-u.s.c;break;case 2:l[N]=g[N];break;case 3:l[N]=h.header[N-u.s.c];break;default:if(s==null&&(s={w:"__EMPTY",t:"s"}),c=i=xd(s,null,h),v=C[i]||0,!v)C[i]=1;else{do c=i+"_"+v++;while(C[c]);C[i]=v,C[c]=1}l[N]=c}for(y=u.s.r+n;y<=u.e.r;++y)if(!(I[y]||{}).hidden){var k=nY(t,u,y,g,r,l,f,h);(k.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(w[p++]=k.row)}return w.length=p,w}var DC=/"/g;function oY(t,a,s,r,n,l,i,c){for(var u=!0,h=[],m="",b=Kr(s),g=a.s.c;g<=a.e.c;++g)if(r[g]){var w=c.dense?(t[s]||[])[g]:t[r[g]+b];if(w==null)m="";else if(w.v!=null){u=!1,m=""+(c.rawNumbers&&w.t=="n"?w.v:xd(w,null,c));for(var p=0,v=0;p!==m.length;++p)if((v=m.charCodeAt(p))===n||v===l||v===34||c.forceQuotes){m='"'+m.replace(DC,'""')+'"';break}m=="ID"&&(m='"ID"')}else w.f!=null&&!w.F?(u=!1,m="="+w.f,m.indexOf(",")>=0&&(m='"'+m.replace(DC,'""')+'"')):m="";h.push(m)}return c.blankrows===!1&&u?null:h.join(i)}function Bw(t,a){var s=[],r=a??{};if(t==null||t["!ref"]==null)return"";var n=Pa(t["!ref"]),l=r.FS!==void 0?r.FS:",",i=l.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,u=c.charCodeAt(0),h=new RegExp((l=="|"?"\\|":l)+"+$"),m="",b=[];r.dense=Array.isArray(t);for(var g=r.skipHidden&&t["!cols"]||[],w=r.skipHidden&&t["!rows"]||[],p=n.s.c;p<=n.e.c;++p)(g[p]||{}).hidden||(b[p]=Er(p));for(var v=0,f=n.s.r;f<=n.e.r;++f)(w[f]||{}).hidden||(m=oY(t,n,f,b,i,u,l,r),m!=null&&(r.strip&&(m=m.replace(h,"")),(m||r.blankrows!==!1)&&s.push((v++?c:"")+m)));return delete r.dense,s.join("")}function GD(t,a){a||(a={}),a.FS="	",a.RS=`
`;var s=Bw(t,a);return s}function lY(t){var a="",s,r="";if(t==null||t["!ref"]==null)return[];var n=Pa(t["!ref"]),l="",i=[],c,u=[],h=Array.isArray(t);for(c=n.s.c;c<=n.e.c;++c)i[c]=Er(c);for(var m=n.s.r;m<=n.e.r;++m)for(l=Kr(m),c=n.s.c;c<=n.e.c;++c)if(a=i[c]+l,s=h?(t[m]||[])[c]:t[a],r="",s!==void 0){if(s.F!=null){if(a=s.F,!s.f)continue;r=s.f,a.indexOf(":")==-1&&(a=a+":"+a)}if(s.f!=null)r=s.f;else{if(s.t=="z")continue;if(s.t=="n"&&s.v!=null)r=""+s.v;else if(s.t=="b")r=s.v?"TRUE":"FALSE";else if(s.w!==void 0)r="'"+s.w;else{if(s.v===void 0)continue;s.t=="s"?r="'"+s.v:r=""+s.v}}u[u.length]=a+"="+r}return u}function zD(t,a,s){var r=s||{},n=+!r.skipHeader,l=t||{},i=0,c=0;if(l&&r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var u=typeof r.origin=="string"?Tr(r.origin):r.origin;i=u.r,c=u.c}var h,m={s:{c:0,r:0},e:{c,r:i+a.length-1+n}};if(l["!ref"]){var b=Pa(l["!ref"]);m.e.c=Math.max(m.e.c,b.e.c),m.e.r=Math.max(m.e.r,b.e.r),i==-1&&(i=b.e.r+1,m.e.r=i+a.length-1+n)}else i==-1&&(i=0,m.e.r=a.length-1+n);var g=r.header||[],w=0;a.forEach(function(v,f){Rr(v).forEach(function(y){(w=g.indexOf(y))==-1&&(g[w=g.length]=y);var N=v[y],C="z",S="",I=Ys({c:c+w,r:i+f+n});h=dh(l,I),N&&typeof N=="object"&&!(N instanceof Date)?l[I]=N:(typeof N=="number"?C="n":typeof N=="boolean"?C="b":typeof N=="string"?C="s":N instanceof Date?(C="d",r.cellDates||(C="n",N=yn(N)),S=r.dateNF||Vs[14]):N===null&&r.nullError&&(C="e",N=0),h?(h.t=C,h.v=N,delete h.w,delete h.R,S&&(h.z=S)):l[I]=h={t:C,v:N},S&&(h.z=S))})}),m.e.c=Math.max(m.e.c,c+g.length-1);var p=Kr(i);if(n)for(w=0;w<g.length;++w)l[Er(w+c)+p]={t:"s",v:g[w]};return l["!ref"]=la(m),l}function iY(t,a){return zD(null,t,a)}function dh(t,a,s){if(typeof a=="string"){if(Array.isArray(t)){var r=Tr(a);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[a]||(t[a]={t:"z"})}return typeof a!="number"?dh(t,Ys(a)):dh(t,Ys({r:a,c:s||0}))}function cY(t,a){if(typeof a=="number"){if(a>=0&&t.SheetNames.length>a)return a;throw new Error("Cannot find sheet # "+a)}else if(typeof a=="string"){var s=t.SheetNames.indexOf(a);if(s>-1)return s;throw new Error("Cannot find sheet name |"+a+"|")}else throw new Error("Cannot find sheet |"+a+"|")}function Rw(){return{SheetNames:[],Sheets:{}}}function Hw(t,a,s,r){var n=1;if(!s)for(;n<=65535&&t.SheetNames.indexOf(s="Sheet"+n)!=-1;++n,s=void 0);if(!s||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(s)>=0){var l=s.match(/(^.*?)(\d+)$/);n=l&&+l[2]||0;var i=l&&l[1]||s;for(++n;n<=65535&&t.SheetNames.indexOf(s=i+n)!=-1;++n);}if(TD(s),t.SheetNames.indexOf(s)>=0)throw new Error("Worksheet with name |"+s+"| already exists!");return t.SheetNames.push(s),t.Sheets[s]=a,s}function dY(t,a,s){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=cY(t,a);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),s){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+s)}t.Workbook.Sheets[r].Hidden=s}function uY(t,a){return t.z=a,t}function VD(t,a,s){return a?(t.l={Target:a},s&&(t.l.Tooltip=s)):delete t.l,t}function xY(t,a,s){return VD(t,"#"+a,s)}function hY(t,a,s){t.c||(t.c=[]),t.c.push({t:a,a:s||"SheetJS"})}function mY(t,a,s,r){for(var n=typeof a!="string"?a:Pa(a),l=typeof a=="string"?a:la(a),i=n.s.r;i<=n.e.r;++i)for(var c=n.s.c;c<=n.e.c;++c){var u=dh(t,i,c);u.t="n",u.F=l,delete u.v,i==n.s.r&&c==n.s.c&&(u.f=s,r&&(u.D=!0))}return t}var ln={encode_col:Er,encode_row:Kr,encode_cell:Ys,encode_range:la,decode_col:pw,decode_row:mw,split_cell:k_,decode_cell:Tr,decode_range:sl,format_cell:xd,sheet_add_aoa:v3,sheet_add_json:zD,sheet_add_dom:_D,aoa_to_sheet:cx,json_to_sheet:iY,table_to_sheet:BD,table_to_book:NV,sheet_to_csv:Bw,sheet_to_txt:GD,sheet_to_json:Sg,sheet_to_html:OD,sheet_to_formulae:lY,sheet_to_row_object_array:Sg,sheet_get_cell:dh,book_new:Rw,book_append_sheet:Hw,book_set_sheet_visibility:dY,cell_set_number_format:uY,cell_set_hyperlink:VD,cell_set_internal_link:xY,cell_add_comment:hY,sheet_set_array_formula:mY,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function pY(){const[t,a]=o.useState(""),[s,r]=o.useState(""),[n,l]=o.useState(),[i,c]=o.useState("3/1/2020"),[u,h]=o.useState("03/15/2020"),[m,b]=o.useState(null),g=o.useRef(null),[w,p]=o.useState(null),[v,f]=o.useState(""),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(!1),[A,F]=o.useState(!1),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState("B3-TFT-U_DATFILE"),[ye,K]=o.useState([]),[ne,H]=o.useState(""),[se,we]=o.useState(!1),[Y,E]=o.useState(null),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState(1),ue=10,[oe,le]=o.useState(!1),[Q,ve]=o.useState(""),[Ce,$e]=o.useState([]),[Ae,We]=o.useState([]),Re=async()=>{try{const Ee=await z.get(`/Maintenance/EmployeeMasterFile/GetActive?active=${D}`);if(Ee.data){const pe=Ee.data.map(Je=>({empID:Je.empID||Je.EmpID||"",empCode:Je.empCode||Je.EmpCode||"",lName:Je.lName||Je.LName||"",fName:Je.fName||Je.fName||"",mName:Je.mName||Je.mName||"",suffix:Je.suffix||Je.suffix||""}));We(pe)}}catch(Ee){Ee.response?.data?.message||Ee.message,console.error("Error fetching employees",Ee)}finally{}};o.useEffect(()=>{Re()},[D]);const et=Ae.filter(Ee=>Ee.empCode?.toLowerCase().includes(P.toLowerCase())||Ee.lName?.toLowerCase().includes(P.toLowerCase())||Ee.fName?.toLowerCase().includes(P.toLowerCase())||Ee.mName?.toLowerCase().includes(P.toLowerCase())||Ee.suffix?.toLowerCase().includes(P.toLowerCase())),B=(Ee,pe,Je)=>{l(Ee),a(pe),r(Je),le(!1),ve("")};console.log(n),o.useEffect(()=>{q()},[]);const q=async()=>{M(!0);try{const Ee=await z.get("/Fs/Process/Device/DeviceTypeSetUp");if(Ee.data){const pe=Ee.data.map(Je=>({deviceName:Je.deviceName||Je.DeviceName||""}));K(pe)}}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"Failed to Devices";E(pe),console.error("Error fetching Devices",Ee)}finally{}};o.useEffect(()=>{const Ee=pe=>{pe.key==="Escape"&&oe&&le(!1)};return oe&&document.addEventListener("keydown",Ee),()=>{document.removeEventListener("keydown",Ee)}},[oe]);const Z=Ee=>Ee.includes("EXCELDTR")?"EXCELDTR":Ee[0],je=Ee=>{const pe=Ee.target.files?.[0]??null;if(!pe)return;b(pe),H(pe.name);const Je=new FileReader;Je.onload=pt=>{const Mt=pt.target?.result;if(!Mt)return;const Wt=Zu(Mt,{type:"array",cellDates:!0}),$t=Wt.SheetNames,lt=Z($t),bt=Wt.Sheets[lt],Nt=ln.sheet_to_json(bt,{defval:""});p(Wt),N(Wt.SheetNames),f(lt),S(Nt),console.log("Sheets:",Wt.SheetNames),console.log(Nt)},Je.readAsArrayBuffer(pe)},De=Ee=>{const pe=Ee.target.value;if(f(pe),!w)return;const Je=w.Sheets[pe],pt=ln.sheet_to_json(Je,{defval:""});S(pt)},Qe=(Ee,pe)=>{const Je=ln.json_to_sheet(Ee),pt=ln.book_new();ln.book_append_sheet(pt,Je,pe);const Mt=_h(pt,{bookType:"xlsx",type:"array"});return new File([Mt],`${pe}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!C.length||!v)return;const Ee=Qe(C,v);b(Ee)},[C,v]);const qe=(Ee,pe)=>{const Je=window.URL.createObjectURL(Ee),pt=document.createElement("a");pt.href=Je,pt.download=pe,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),window.URL.revokeObjectURL(Je)},Ye=async()=>{try{const Ee=await z.get("downloads/DownloadTemplate?filename=DTR_Excel_Format.xls",{responseType:"blob"}),pe=Ee.headers["content-type"],Je=new Blob([Ee.data],{type:pe});qe(Je,"DTR_Excel_Format.xls")}finally{}},ht=async()=>{if(!m){E("Please select a file to import."),xe.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(!i||!u){xe.fire({icon:"error",title:"Error",text:"Please select date."});return}const Ee=new FormData;Ee.append("dateFrom",i),Ee.append("dateTo",u),Ee.append("file",m,ne),console.log(m);try{const pe=await z.post("/Import/LogsFromDevice/ImportLogsFromDevice",Ee);$e(pe.data.resultData),pe.data.errors.length>0?(console.log(pe.data.errors),$e([]),xe.fire({icon:"error",title:"Error",text:pe.data.resultData?.[0]?.message??pe.data.errors})):xe.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{we(!0)}},St=Math.ceil(et.length/ue),dt=(ee-1)*ue,Et=dt+ue;et.slice((ee-1)*ue,ee*ue);const Te=()=>{const Ee=[];if(St<=5)return Array.from({length:St},(Mt,Wt)=>Wt+1);Ee.push(1),ee>3&&Ee.push("...");const Je=Math.max(2,ee-1),pt=Math.min(St-1,ee+1);for(let Mt=Je;Mt<=pt;Mt++)Ee.push(Mt);return ee<St-2&&Ee.push("..."),Ee.push(St),Ee};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:i,onChange:c,label:"From:"}),e.jsx(Ln,{date:u,onChange:h,label:"To:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsx("select",{value:G,onChange:Ee=>re(Ee.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:ye.map(Ee=>e.jsx("option",{value:Ee.deviceName,children:Ee.deviceName},Ee.deviceName))})]}),e.jsx("div",{className:"grid grid-cols-2 space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:I,onChange:Ee=>k(Ee.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]})}),G==="Excel Format"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:v,onChange:De,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:y.map(Ee=>e.jsx("option",{value:Ee,children:Ee},Ee))})]}),G==="Excel Format"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Ye}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Ye,children:"Download Template"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[m&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:ne}),m&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:g,onChange:je,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:Ee=>F(Ee.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:s,onChange:Ee=>a(Ee.target.value),className:"w-36 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!0}),e.jsx("button",{onClick:()=>le(!0),className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{a(""),r("")},className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:e.jsx(Ns,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:ht,children:[e.jsx(Br,{className:"w-4 h-4",onClick:ht}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx(Sc,{className:"w-4 h-4"}),"Update"]})]})]})]})}),oe&&e.jsx("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>le(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>le(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Select Employee"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:P,onChange:Ee=>V(Ee.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"})]})}),e.jsx("tbody",{children:et.map((Ee,pe)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>B(Ee.empID,Ee.empCode,Ee.lName+", "+Ee.fName+" "+Ee.mName),children:[e.jsx("td",{className:"px-3 py-1.5",children:Ee.empCode}),e.jsxs("td",{className:"px-3 py-1.5",children:[Ee.lName,", ",Ee.fName," ",Ee.mName]})]},Ee.empCode))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",dt+1," to ",Math.min(Et,et.length)," of ",et.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Se(Ee=>Math.max(1,Ee-1)),disabled:ee===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Te().map((Ee,pe)=>typeof Ee=="number"?e.jsx("button",{onClick:()=>Se(Ee),className:`px-2 py-1 rounded text-xs ${ee===Ee?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ee},pe):e.jsx("span",{className:"px-2",children:Ee},pe)),e.jsx("button",{onClick:()=>Se(Ee=>Math.min(St,Ee+1)),disabled:ee===St,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function gY(){const[t,a]=o.useState([]),[s,r]=o.useState(!1),[n,l]=o.useState(""),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState([]),[g,w]=o.useState(null),p=o.useRef(null),[v,f]=o.useState([]),[y,N]=o.useState(!1),[C,S]=o.useState(1),I=10,[k,A]=o.useState(null),[F,O]=o.useState([]),[M,U]=o.useState({isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{L()},[]);const L=async()=>{N(!0);try{const D=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(D.data){const R=D.data.map(ee=>({id:ee.id||ee.ID||"",groupCode:ee.groupCode||ee.GroupCode||"",groupDescription:ee.groupDescription||ee.GroupDescription||""}));b(R)}}catch(D){const R=D.response?.data?.message||D.message||"Failed to load TKS Group";A(R),console.error("Error fetching TKSGroup:",D)}finally{}},G=D=>{a(R=>R.includes(D)?R.filter(ee=>ee!==D):[...R,D])},re=()=>{t.length===m.length?a([]):a(m.map(D=>D.id))},ye=D=>{const R=D.target.files?.[0]??null;if(!R)return;w(R),l(R.name);const ee=new FileReader;ee.onload=Se=>{const ue=Se.target?.result;if(!ue)return;const le=Zu(ue,{type:"array"}).SheetNames;console.log("Sheets:",le)},ee.readAsArrayBuffer(R)},K=(D,R)=>{const ee=window.URL.createObjectURL(D),Se=document.createElement("a");Se.href=ee,Se.download=R,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(ee)},ne=async()=>{r(!0);try{const D=await z.get("downloads/DownloadTemplate?filename=ImportDeviceCode_Template.xlsx",{responseType:"blob"}),R=D.headers["content-type"],ee=new Blob([D.data],{type:R});K(ee,"ImportDeviceCode_Template.xlsx")}finally{}},H=async()=>{if(!g){A("Please select a file to import."),xe.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){xe.fire({icon:"error",title:"Error",text:"Please select group."});return}r(!0);const D=new FormData;D.append("isDeleteExistingRecord",String(u)),D.append("file",g,n);try{const R=await z.post("/Utilities/Import/ImportDeviceCode",D);O(R.data.resultData),R.data.errors.length>0?(console.log(R.data.errors),O([]),xe.fire({icon:"error",title:"Error",text:R.data.resultData?.[0]?.message??R.data.errors}),f(R.data.errors)):xe.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{r(!1),c(!0)}},se=async()=>{const D={isDeleteExistingRecord:u,imports:F.filter(R=>!R.message)};console.log(D),console.log(g);try{const R=await z.post("/Utilities/Import/UpdateImportDeviceCode",D);O(R.data.resultData),R.data.errors.length>0?(O([]),xe.fire({icon:"error",title:"Error",text:R.data.resultData?.[0]?.message??R.data.errors}),f(R.data.errors)):xe.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{r(!1)}},we=Math.ceil(F.length/I),Y=(C-1)*I,E=Y+I,P=F.slice(Y,Y+I),V=()=>{const D=[];if(we<=7)for(let R=1;R<=we;R++)D.push(R);else if(C<=4){for(let R=1;R<=5;R++)D.push(R);D.push("..."),D.push(we)}else if(C>=we-3){D.push(1),D.push("...");for(let R=we-4;R<=we;R++)D.push(R)}else{D.push(1),D.push("...");for(let R=C-1;R<=C+1;R++)D.push(R);D.push("..."),D.push(we)}return D};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Device Code"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import device code assignments for employees. Upload Excel files to batch configure which biometric devices employees can use for time tracking with effectivity dates."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device code assignments by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set effectivity and expiration dates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new device codes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:t,onToggle:G,onSelectAll:re}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[g&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),g&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:p,onChange:ye,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:ne}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:ne,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:H,children:[e.jsx(Br,{className:"w-4 h-4",onClick:H}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:se,children:[e.jsx(Sc,{className:"w-4 h-4",onClick:se}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Device Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Effectivity Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Expiration Date"})]})}),e.jsx("tbody",{children:Array.isArray(P)&&P.map((D,R)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:D.empCode}),e.jsx("td",{className:"px-4 py-2",children:D.empName}),e.jsx("td",{className:"px-4 py-2",children:D.code}),e.jsx("td",{className:"px-4 py-2",children:D.effectivityDate?new Date(D.effectivityDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.expiryDate?new Date(D.expiryDate).toLocaleDateString():"-"})]},R))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(E,F.length)," of ",F.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",Y+1," to ",Math.min(E,F.length)," of ",F.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(D=>Math.max(1,D-1)),disabled:C===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),V().map((D,R)=>typeof D=="number"?e.jsx("button",{onClick:()=>S(D),className:`px-2 py-1 rounded text-xs ${C===D?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:D},R):e.jsx("span",{className:"px-2",children:D},R)),e.jsx("button",{onClick:()=>S(D=>Math.min(we,D+1)),disabled:C===we,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function fY(){const[t,a]=o.useState([]),[s,r]=o.useState(!1),[n,l]=o.useState(""),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState([]),[g,w]=o.useState(null),p=o.useRef(null),[v,f]=o.useState([]),[y,N]=o.useState(!1),[C,S]=o.useState(1),I=10,[k,A]=o.useState(null),[F,O]=o.useState([]),[M,U]=o.useState({isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{L()},[]);const L=async()=>{N(!0);try{const D=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(D.data){const R=D.data.map(ee=>({id:ee.id||ee.ID||"",groupCode:ee.groupCode||ee.GroupCode||"",groupDescription:ee.groupDescription||ee.GroupDescription||""}));b(R)}}catch(D){const R=D.response?.data?.message||D.message||"Failed to load TKS Group";A(R),console.error("Error fetching TKSGroup:",D)}finally{}},G=D=>{a(R=>R.includes(D)?R.filter(ee=>ee!==D):[...R,D])},re=()=>{t.length===m.length?a([]):a(m.map(D=>D.id))},ye=D=>{const R=D.target.files?.[0]??null;R&&(w(R),l(R.name))},K=(D,R)=>{const ee=window.URL.createObjectURL(D),Se=document.createElement("a");Se.href=ee,Se.download=R,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(ee)},ne=async()=>{r(!0);try{const D=await z.get("downloads/DownloadTemplate?filename=ImportTKSMasterFile_Template.xlsx",{responseType:"blob"}),R=D.headers["content-type"],ee=new Blob([D.data],{type:R});K(ee,"ImportTKSMasterFile_Template.xlsx")}finally{}},H=async()=>{if(!g){A("Please select a file to import."),xe.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(t.length===0){xe.fire({icon:"error",title:"Error",text:"Please select group."});return}r(!0);const D=new FormData;D.append("isDeleteExistingRecord",String(u)),D.append("file",g,n),console.log(u),console.log(g),console.log(D instanceof FormData);try{const R=await z.post("/Utilities/Import/ImportEmployeeMasterfile",D);O(R.data.resultData),R.data.errors.length>0?(console.log(R.data.errors),O([]),xe.fire({icon:"error",title:"Error",text:R.data.resultData?.[0]?.message??R.data.errors}),f(R.data.errors)):xe.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{r(!1),c(!0)}},se=async()=>{const D={isDeleteExistingRecord:u,imports:F.filter(R=>!R.message)};console.log(D),console.log(g);try{const R=await z.post("/Utilities/Import/UpdateImportEmployeeMasterfile",D);O(R.data.resultData),R.data.errors.length>0?(O([]),xe.fire({icon:"error",title:"Error",text:R.data.resultData?.[0]?.message??R.data.errors}),f(R.data.errors)):xe.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{r(!1)}},we=Math.ceil(F.length/I),Y=(C-1)*I,E=Y+I,P=F.slice(Y,Y+I),V=()=>{const D=[];if(we<=7)for(let R=1;R<=we;R++)D.push(R);else if(C<=4){for(let R=1;R<=5;R++)D.push(R);D.push("..."),D.push(we)}else if(C>=we-3){D.push(1),D.push("...");for(let R=we-4;R<=we;R++)D.push(R)}else{D.push(1),D.push("...");for(let R=C-1;R<=C+1;R++)D.push(R);D.push("..."),D.push(we)}return D};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Employee Masterfile"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee master data in bulk. Upload Excel files to create or update employee information including personal details, employment status, department assignments, and contact information."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import complete employee profiles"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing employee records"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch process multiple employee records"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:t,onToggle:G,onSelectAll:re}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[g&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:n}),g&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:p,onChange:ye,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:ne}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:ne,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:H,children:[e.jsx(Br,{className:"w-4 h-4",onClick:H}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:se,children:[e.jsx(Sc,{className:"w-4 h-4",onClick:se}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Data Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpStatusActive"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpStatus"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Country"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"LastName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FirstName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"MiddleName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Suffix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NickName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HomeAdd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PresAdd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Municipality"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Province"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PostalCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"CivilStatus"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Citizenship"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Religion"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Sex"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Weight"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Height"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"MobilePhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HomePhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PresPhone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"BirthPlace"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Branch"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Division"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Department"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Section"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Unit"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Line"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Position"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Superior"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"JobGrade"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"SSS"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"PHIC"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TIN"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateHired"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateRegularized"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateResigned"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateSuspended"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ProbeStart"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ProbeEnd"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Birthdate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GroupScheduleCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AllowOTDefault"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TardyExemp"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"UTExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NDExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OTExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"AbsenceExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OtherEarnExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"HolidayExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"UnproductiveExempt"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DeviceCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay1"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay2"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"FixedRestDay3"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DailySchedule"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ClassificationCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GSISNo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OnlineAppCode"})]})}),e.jsx("tbody",{children:Array.isArray(P)&&P.map((D,R)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:D.remarks}),e.jsx("td",{className:"px-4 py-2",children:D.empCode}),e.jsx("td",{className:"px-4 py-2",children:D.statusActive}),e.jsx("td",{className:"px-4 py-2",children:D.empStatCode}),e.jsx("td",{className:"px-4 py-2",children:D.courtesy}),e.jsx("td",{className:"px-4 py-2",children:D.lName}),e.jsx("td",{className:"px-4 py-2",children:D.fName}),e.jsx("td",{className:"px-4 py-2",children:D.mName}),e.jsx("td",{className:"px-4 py-2",children:D.suffix}),e.jsx("td",{className:"px-4 py-2",children:D.nickName}),e.jsx("td",{className:"px-4 py-2",children:D.hAddress}),e.jsx("td",{className:"px-4 py-2",children:D.pAddress}),e.jsx("td",{className:"px-4 py-2",children:D.city}),e.jsx("td",{className:"px-4 py-2",children:D.province}),e.jsx("td",{className:"px-4 py-2",children:D.postalCode}),e.jsx("td",{className:"px-4 py-2",children:D.civilStatus}),e.jsx("td",{className:"px-4 py-2",children:D.citizenship}),e.jsx("td",{className:"px-4 py-2",children:D.religion}),e.jsx("td",{className:"px-4 py-2",children:D.sex}),e.jsx("td",{className:"px-4 py-2",children:D.email}),e.jsx("td",{className:"px-4 py-2",children:D.weight}),e.jsx("td",{className:"px-4 py-2",children:D.height}),e.jsx("td",{className:"px-4 py-2",children:D.mobilePhone}),e.jsx("td",{className:"px-4 py-2",children:D.homePhone}),e.jsx("td",{className:"px-4 py-2",children:D.presentPhone}),e.jsx("td",{className:"px-4 py-2",children:D.birthPlace}),e.jsx("td",{className:"px-4 py-2",children:D.braCode}),e.jsx("td",{className:"px-4 py-2",children:D.divCode}),e.jsx("td",{className:"px-4 py-2",children:D.depCode}),e.jsx("td",{className:"px-4 py-2",children:D.secCode}),e.jsx("td",{className:"px-4 py-2",children:D.unitCode}),e.jsx("td",{className:"px-4 py-2",children:D.lineCode}),e.jsx("td",{className:"px-4 py-2"}),e.jsx("td",{className:"px-4 py-2",children:D.superior}),e.jsx("td",{className:"px-4 py-2",children:D.grdCode}),e.jsx("td",{className:"px-4 py-2",children:D.sssNo}),e.jsx("td",{className:"px-4 py-2",children:D.philHealthNo}),e.jsx("td",{className:"px-4 py-2",children:D.tin}),e.jsx("td",{className:"px-4 py-2",children:D.dateHired?new Date(D.dateHired).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.dateRegularized?new Date(D.dateRegularized).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.dateResigned?new Date(D.dateResigned).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.dateSuspended?new Date(D.dateSuspended).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.probeStart?new Date(D.probeStart).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.probeEnd?new Date(D.probeEnd).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.birthDate?new Date(D.birthDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:D.tksGroup}),e.jsx("td",{className:"px-4 py-2",children:D.groupSchedCode}),e.jsx("td",{className:"px-4 py-2",children:D.allowOTDefault}),e.jsx("td",{className:"px-4 py-2",children:D.tardyExemp}),e.jsx("td",{className:"px-4 py-2",children:D.utExempt}),e.jsx("td",{className:"px-4 py-2",children:D.ndExempt}),e.jsx("td",{className:"px-4 py-2",children:D.otExempt}),e.jsx("td",{className:"px-4 py-2",children:D.absenceExempt}),e.jsx("td",{className:"px-4 py-2",children:D.otherEarnExempt}),e.jsx("td",{className:"px-4 py-2",children:D.holidayExempt}),e.jsx("td",{className:"px-4 py-2",children:D.unproductiveExempt}),e.jsx("td",{className:"px-4 py-2",children:D.deviceCode}),e.jsx("td",{className:"px-4 py-2",children:D.fixedRestDay1}),e.jsx("td",{className:"px-4 py-2",children:D.fixedRestDay2}),e.jsx("td",{className:"px-4 py-2",children:D.fixedRestDay3}),e.jsx("td",{className:"px-4 py-2",children:D.dailySchedule}),e.jsx("td",{className:"px-4 py-2",children:D.classificationCode}),e.jsx("td",{className:"px-4 py-2",children:D.gsisNo}),e.jsx("td",{className:"px-4 py-2",children:D.onlineAppCode})]},R))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!i&&e.jsxs("span",{children:["Showing ",Math.min(E,F.length)," of ",F.length," entries"]}),i&&e.jsxs("span",{children:["Showing ",Y+1," to ",Math.min(E,F.length)," of ",F.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(D=>Math.max(1,D-1)),disabled:C===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),V().map((D,R)=>typeof D=="number"?e.jsx("button",{onClick:()=>S(D),className:`px-2 py-1 rounded text-xs ${C===D?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:D},R):e.jsx("span",{className:"px-2",children:D},R)),e.jsx("button",{onClick:()=>S(D=>Math.min(we,D+1)),disabled:C===we,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function EC(){const[t,a]=o.useState(null),[s,r]=o.useState([]),[n,l]=o.useState(""),[i,c]=o.useState([]),[u,h]=o.useState([]),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState(!1),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(!1),[k,A]=o.useState([]),[F,O]=o.useState(null),M=o.useRef(null),[U,L]=o.useState([]),[G,re]=o.useState(!1),[ye,K]=o.useState(1),ne=10,[H,se]=o.useState(null),[we,Y]=o.useState([]),[E,P]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{V()},[]);const V=async()=>{re(!0);try{const q=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(q.data){const Z=q.data.map(je=>({id:je.id||je.ID||"",groupCode:je.groupCode||je.GroupCode||"",groupDescription:je.groupDescription||je.GroupDescription||""}));A(Z)}}catch(q){const Z=q.response?.data?.message||q.message||"Failed to load TKS Group";se(Z),console.error("Error fetching TKSGroup:",q)}finally{}},D=q=>{h(Z=>Z.includes(q)?Z.filter(je=>je!==q):[...Z,q])},R=()=>{u.length===k.length?h([]):h(k.map(q=>q.id))},ee=q=>q.includes("OvertimeApplication")?"OvertimeApplication":q[0],Se=q=>{const Z=q.target.files?.[0]??null;if(!Z)return;O(Z),w(Z.name);const je=new FileReader;je.onload=De=>{const Qe=De.target?.result;if(!Qe)return;const qe=Zu(Qe,{type:"array",cellDates:!0}),Ye=qe.SheetNames,ht=ee(Ye),St=qe.Sheets[ht],dt=ln.sheet_to_json(St,{defval:""});a(qe),r(qe.SheetNames),l(ht),c(dt),console.log("Sheets:",qe.SheetNames),console.log(dt)},je.readAsArrayBuffer(Z)},ue=q=>{const Z=q.target.value;if(l(Z),!t)return;const je=t.Sheets[Z],De=ln.sheet_to_json(je,{defval:""});c(De)};o.useEffect(()=>{console.log("sheetData updated:",i)},[i]);const oe=(q,Z)=>{const je=ln.json_to_sheet(q),De=ln.book_new();ln.book_append_sheet(De,je,Z);const Qe=_h(De,{bookType:"xlsx",type:"array"});return new File([Qe],`${Z}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!i.length||!n)return;const q=oe(i,n);O(q)},[i,n]);const le=(q,Z)=>{const je=window.URL.createObjectURL(q),De=document.createElement("a");De.href=je,De.download=Z,document.body.appendChild(De),De.click(),document.body.removeChild(De),window.URL.revokeObjectURL(je)},Q=async()=>{b(!0);try{const q=await z.get("downloads/DownloadTemplate?filename=ImportOTApp_Template.xlsx",{responseType:"blob"}),Z=q.headers["content-type"],je=new Blob([q.data],{type:Z});le(je,"ImportOTApp_Template.xlsx")}finally{}},ve=async()=>{if(!F){se("Please select a file to import."),xe.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(u.length===0){xe.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!f||!N){xe.fire({icon:"error",title:"Error",text:"Please select date."});return}b(!0);const q=new FormData;q.append("dateFrom",f),q.append("dateTo",N),q.append("isDeleteExistingRecord",String(S)),q.append("file",F,g);try{const Z=await z.post("/Utilities/Import/ImportOvertimeApplication",q);Y(Z.data.resultData),Z.data.errors.length>0&&(console.log(Z.data.errors),Y([]),xe.fire({icon:"error",title:"Error",text:Z.data.resultData?.[0]?.message??Z.data.errors}),L(Z.data.errors))}finally{b(!1),v(!0)}};function Ce(q){if(!q)return null;const Z=new Date(q);return Z.setDate(Z.getDate()+1),Z.toISOString()}const $e=async()=>{const q={dateFrom:Ce(f),dateTo:Ce(N),isDeleteExistingRecord:S,imports:we.filter(Z=>!Z.message)};console.log(q,f,N),console.log(F);try{const Z=await z.post("/Utilities/Import/UpdateImportOvertimeApplication",q);Y(Z.data.resultData),Z.data.errors.length>0&&(Y([]),xe.fire({icon:"error",title:"Error",text:Z.data.resultData?.[0]?.message??Z.data.errors}),L(Z.data.errors))}finally{b(!1)}},Ae=Math.ceil(we.length/ne),We=(ye-1)*ne,Re=We+ne,et=we.slice(We,We+ne),B=()=>{const q=[];if(Ae<=7)for(let Z=1;Z<=Ae;Z++)q.push(Z);else if(ye<=4){for(let Z=1;Z<=5;Z++)q.push(Z);q.push("..."),q.push(Ae)}else if(ye>=Ae-3){q.push(1),q.push("...");for(let Z=Ae-4;Z<=Ae;Z++)q.push(Z)}else{q.push(1),q.push("...");for(let Z=ye-1;Z<=ye+1;Z++)q.push(Z);q.push("..."),q.push(Ae)}return q};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Overtime Application"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import and manage overtime applications for employees"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Br,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import overtime application records from Excel or CSV files. Select the TKS groups and date range to process overtime applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:u,onToggle:D,onSelectAll:R}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[F&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:g}),F&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:M,onChange:Se,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:n,onChange:ue,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:s.map(q=>e.jsx("option",{value:q,children:q},q))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:f,onChange:y,label:"Date From"}),e.jsx(Ln,{date:N,onChange:C,label:"Date To"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:S,onChange:q=>I(q.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Overtime Application"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing overtime records before importing new data"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Q}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Q,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:ve,children:[e.jsx(Br,{className:"w-4 h-4",onClick:ve}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:$e,children:[e.jsx(Sc,{className:"w-4 h-4",onClick:$e}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),p&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"NumOTHoursApproved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"OTTimeBeforeShift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"BreakNumOTHoursApproved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"StartTimeOfOvertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsLateFiling"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"ActualDateInOTBeforeShift"})]})}),e.jsx("tbody",{children:Array.isArray(et)&&et.map((q,Z)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:q.empCode}),e.jsx("td",{className:"px-4 py-2",children:q.empName}),e.jsx("td",{className:"px-4 py-2",children:q.dateFrom?new Date(q.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:q.dateTo?new Date(q.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:q.numOTHoursApproved}),e.jsx("td",{className:"px-4 py-2",children:q.tksGroup}),e.jsx("td",{className:"px-4 py-2",children:q.reason}),e.jsx("td",{className:"px-4 py-2",children:q.remarks}),e.jsx("td",{className:"px-4 py-2",children:q.appliedBeforeShiftDate?new Date(q.appliedBeforeShiftDate).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:q.approvedOTBreaksHrs}),e.jsx("td",{className:"px-4 py-2",children:q.earlyOTStartTime?new Date(q.earlyOTStartTime).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:q.isLateFiling}),e.jsx("td",{className:"px-4 py-2",children:q.appliedBeforeShiftDate?new Date(q.appliedBeforeShiftDate).toLocaleDateString():"-"})]},Z))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!p&&e.jsxs("span",{children:["Showing ",Math.min(Re,we.length)," of ",we.length," entries"]}),p&&e.jsxs("span",{children:["Showing ",We+1," to ",Math.min(Re,we.length)," of ",we.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>K(q=>Math.max(1,q-1)),disabled:ye===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),B().map((q,Z)=>typeof q=="number"?e.jsx("button",{onClick:()=>K(q),className:`px-2 py-1 rounded text-xs ${ye===q?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:q},Z):e.jsx("span",{className:"px-2",children:q},Z)),e.jsx("button",{onClick:()=>K(q=>Math.min(Ae,q+1)),disabled:ye===Ae,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function TC(){const[t,a]=o.useState(null),[s,r]=o.useState([]),[n,l]=o.useState(""),[i,c]=o.useState([]),[u,h]=o.useState([]),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState(!1),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(!1),[k,A]=o.useState(!1),[F,O]=o.useState([]),[M,U]=o.useState(null),L=o.useRef(null),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState(1),se=10,[we,Y]=o.useState(null),[E,P]=o.useState([]),[V,D]=o.useState({dateFrom:"",dateTo:"",isDeleteExistingRecord:!1,imports:[]});o.useEffect(()=>{R()},[]);const R=async()=>{K(!0);try{const je=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(je.data){const De=je.data.map(Qe=>({id:Qe.id||Qe.ID||"",groupCode:Qe.groupCode||Qe.GroupCode||"",groupDescription:Qe.groupDescription||Qe.GroupDescription||""}));O(De)}}catch(je){const De=je.response?.data?.message||je.message||"Failed to load TKS Group";Y(De),console.error("Error fetching TKSGroup:",je)}finally{}},ee=je=>{h(De=>De.includes(je)?De.filter(Qe=>Qe!==je):[...De,je])},Se=()=>{u.length===F.length?h([]):h(F.map(je=>je.id))},ue=je=>je.includes("LeaveApplication")?"LeaveApplication":je[0],oe=je=>{const De=je.target.files?.[0]??null;if(!De)return;U(De),w(De.name);const Qe=new FileReader;Qe.onload=qe=>{const Ye=qe.target?.result;if(!Ye)return;const ht=Zu(Ye,{type:"array",cellDates:!0}),St=ht.SheetNames,dt=ue(St),Et=ht.Sheets[dt],Te=ln.sheet_to_json(Et,{defval:""});a(ht),r(ht.SheetNames),l(dt),c(Te),console.log("Sheets:",ht.SheetNames),console.log(Te)},Qe.readAsArrayBuffer(De)},le=je=>{const De=je.target.value;if(l(De),!t)return;const Qe=t.Sheets[De],qe=ln.sheet_to_json(Qe,{defval:""});c(qe)};o.useEffect(()=>{console.log("sheetData updated:",i)},[i]);const Q=(je,De)=>{const Qe=ln.json_to_sheet(je),qe=ln.book_new();ln.book_append_sheet(qe,Qe,De);const Ye=_h(qe,{bookType:"xlsx",type:"array"});return new File([Ye],`${De}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!i.length||!n)return;const je=Q(i,n);U(je)},[i,n]);const ve=(je,De)=>{const Qe=window.URL.createObjectURL(je),qe=document.createElement("a");qe.href=Qe,qe.download=De,document.body.appendChild(qe),qe.click(),document.body.removeChild(qe),window.URL.revokeObjectURL(Qe)},Ce=async()=>{b(!0);try{const je=await z.get("downloads/DownloadTemplate?filename=ImportLeaveApp_Template.xlsx",{responseType:"blob"}),De=je.headers["content-type"],Qe=new Blob([je.data],{type:De});ve(Qe,"ImportLeaveApp_Template.xlsx")}finally{}},$e=async()=>{if(!M){Y("Please select a file to import."),xe.fire({icon:"error",title:"Error",text:"Please select a file to import."});return}if(u.length===0){xe.fire({icon:"error",title:"Error",text:"Please select group."});return}if(!f||!N){xe.fire({icon:"error",title:"Error",text:"Please select date."});return}b(!0);const je=new FormData;je.append("dateFrom",f),je.append("dateTo",N),je.append("isDeleteExistingRecord",String(k)),je.append("listNotEqual",String(S)),je.append("file",M,g),console.log(M);try{const De=await z.post("/Utilities/Import/ImportLeaveApplication",je);P(De.data.resultData),De.data.errors.length>0?(console.log(De.data.errors),P([]),xe.fire({icon:"error",title:"Error",text:De.data.resultData?.[0]?.message??De.data.errors}),re(De.data.errors)):xe.fire({icon:"success",title:"Done",text:"Import done.",timer:2e3,showConfirmButton:!1})}finally{b(!1),v(!0)}};function Ae(je){if(!je)return null;const De=new Date(je);return De.setDate(De.getDate()+1),De.toISOString()}const We=async()=>{const je={dateFrom:Ae(f),dateTo:Ae(N),isDeleteExistingRecord:k,imports:E.filter(De=>!De.message)};console.log(je,f,N),console.log(M);try{const De=await z.post("/Utilities/Import/UpdateImportLeaveApplication",je);P(De.data.resultData),De.data.errors.length>0?(P([]),xe.fire({icon:"error",title:"Error",text:De.data.resultData?.[0]?.message??De.data.errors}),re(De.data.errors)):xe.fire({icon:"success",title:"Done",text:"Update done.",timer:2e3,showConfirmButton:!1})}finally{b(!1)}},Re=Math.ceil(E.length/se),et=(ne-1)*se,B=et+se,q=E.slice(et,et+se),Z=()=>{const je=[];if(Re<=7)for(let De=1;De<=Re;De++)je.push(De);else if(ne<=4){for(let De=1;De<=5;De++)je.push(De);je.push("..."),je.push(Re)}else if(ne>=Re-3){je.push(1),je.push("...");for(let De=Re-4;De<=Re;De++)je.push(De)}else{je.push(1),je.push("...");for(let De=ne-1;De<=ne+1;De++)je.push(De);je.push("..."),je.push(Re)}return je};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Leave Application"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import and manage leave applications for employees"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Br,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import leave application records from Excel or CSV files. Select the TKS groups and date range to process leave applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:u,onToggle:ee,onSelectAll:Se}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[M&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:g}),M&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:L,onChange:oe,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:n,onChange:le,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:s.map(je=>e.jsx("option",{value:je,children:je},je))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:f,onChange:y,label:"Date From"}),e.jsx(Ln,{date:N,onChange:C,label:"Date To"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:k,onChange:je=>A(je.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Leave Applications"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing leave applications before importing new data"})]})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"list-not-equal",checked:S,onChange:je=>I(je.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"List Not Equal"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Check if Approved Leave Hours is not equal to Standard Hours"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:Ce}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:Ce,children:"Download Template"})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:$e,children:[e.jsx(Br,{className:"w-4 h-4",onClick:$e}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",onClick:We,children:[e.jsx(Sc,{className:"w-4 h-4",onClick:We}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),p&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Num Approved Hrs"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Period"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:Array.isArray(q)&&q.map((je,De)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:je.empCode}),e.jsx("td",{className:"px-4 py-2",children:je.empName}),e.jsx("td",{className:"px-4 py-2",children:je.dateFrom?new Date(je.dateFrom).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:je.dateTo?new Date(je.dateTo).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:je.numApprovedHrs}),e.jsx("td",{className:"px-4 py-2",children:je.leaveCode}),e.jsx("td",{className:"px-4 py-2",children:je.period}),e.jsx("td",{className:"px-4 py-2",children:je.tksGroup})]},De))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center text-xs text-gray-500 justify-between",children:[!p&&e.jsxs("span",{children:["Showing ",Math.min(B,E.length)," of ",E.length," entries"]}),p&&e.jsxs("span",{children:["Showing ",et+1," to ",Math.min(B,E.length)," of ",E.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>H(je=>Math.max(1,je-1)),disabled:ne===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Z().map((je,De)=>typeof je=="number"?e.jsx("button",{onClick:()=>H(je),className:`px-2 py-1 rounded text-xs ${ne===je?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:je},De):e.jsx("span",{className:"px-2",children:je},De)),e.jsx("button",{onClick:()=>H(je=>Math.min(Re,je+1)),disabled:ne===Re,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function yY(){const[t,a]=o.useState(!1),[s,r]=o.useState(null),n=()=>{a(!0)},l=()=>{a(!1)},i=()=>{a(!1)},c=h=>{const m=h.target.files?.[0];m&&r(m)},u=()=>{console.log("Importing file:",s)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:[e.jsx("h1",{className:"text-white",children:"Import Logs from Device v2"}),e.jsx("p",{className:"text-white opacity-90 text-sm mt-1",children:"Import attendance logs from biometric devices"})]}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsx("button",{onClick:t?l:n,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shadow-sm ${t?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-white hover:bg-gray-700"}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"w-4 h-4"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ri,{className:"w-4 h-4"}),"Edit"]})}),t&&e.jsxs("button",{onClick:i,className:"px-4 py-2 bg-gray-400 text-white rounded-lg hover:bg-gray-500 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Bv,{className:"w-4 h-4"}),"Cancel"]}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 mb-6",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Import Settings"}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Select Device ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50",children:[e.jsx("option",{children:"All Devices"}),e.jsx("option",{children:"Device 1 - Main Entrance"}),e.jsx("option",{children:"Device 2 - Office Floor"}),e.jsx("option",{children:"Device 3 - Factory"}),e.jsx("option",{children:"Device 4 - Warehouse"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Select Log File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",accept:".txt,.dat,.log",onChange:c,disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",disabled:!t,children:[e.jsx(Br,{className:"w-4 h-4"}),"Browse"]})]}),s&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Selected: ",s.name]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date From"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsx(hs,{className:"w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date To"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"date",disabled:!t,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50"}),e.jsx(hs,{className:"w-5 h-5 text-gray-400"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"deleteExisting",disabled:!t,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"deleteExisting",className:"text-gray-700",children:"Delete existing data before import"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"validateData",disabled:!t,defaultChecked:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"validateData",className:"text-gray-700",children:"Validate employee IDs before import"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs("button",{onClick:u,disabled:!s||!t,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(og,{className:"w-4 h-4"}),"Import Logs"]})})]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," Supported file formats: .txt, .dat, .log. The system will automatically detect the device format and parse the logs accordingly."]})})]})]})}),e.jsx(ls,{})]})}const cu=[{id:1,code:"100",description:""},{id:2,code:"2",description:"Batangas Balagtas Satellite Monthly Cash"},{id:3,code:"95",description:"Batangas - Balagtas Satellite Monthly cash 2"},{id:4,code:"4",description:"Batangas Cavite Satelite Monthly Cash"},{id:5,code:"5",description:"Batangas Cavite Satellite"},{id:6,code:"3",description:"Batangas Cavite Satellite Daily Cash"},{id:7,code:"6",description:"Batangas Daily"},{id:8,code:"7",description:"Batangas Daily Cash Payroll with Paycard"},{id:9,code:"8",description:"Batangas Employees with the same employee number"},{id:10,code:"11",description:"Batangas Monthly"},{id:11,code:"9",description:"Batangas Monthly Cash 2"},{id:12,code:"10",description:"Batangas Monthly Cash Payroll with Paycard"},{id:13,code:"12",description:"Batangas Resigned - Daily Payroll"},{id:14,code:"13",description:"Batangas Resigned - Monthly Payroll"},{id:15,code:"94",description:"Batangas Confi Managers"},{id:16,code:"85",description:"Batangas Confi Supervisor"},{id:17,code:"1",description:"Batangas1 Balagtas Monthly Payroll"},{id:18,code:"97",description:"Batangas-Balagtas Satellite Resigned"},{id:19,code:"15",description:"Bicol Daily"},{id:20,code:"16",description:"Bicol Daily Cash Payroll with Paycard"},{id:21,code:"18",description:"Bicol Daraga Satelitte Cash"},{id:22,code:"17",description:"Bicol Daraga Satellite"},{id:23,code:"19",description:"Bicol Legazpi Satellite - Monthly cash Payroll"},{id:24,code:"20",description:"Bicol Legazpi Satellite - Monthly Payroll"},{id:25,code:"22",description:"Bicol Monthly"},{id:26,code:"23",description:"Bicol Monthly Cash Payroll 2"},{id:27,code:"21",description:"Bicol Monthly Cash Payroll with Paycard"},{id:28,code:"24",description:"Bicol Resigned - Daily Payroll"},{id:29,code:"26",description:"Bicol Resigned - Monthly Payroll"},{id:30,code:"25",description:"Bicol Resigned Daraga Satellite"},{id:31,code:"27",description:"Bohol Daily"},{id:32,code:"28",description:"Bohol Monthly"},{id:33,code:"29",description:"Bukidnon Monthly"},{id:34,code:"30",description:"Cagayan de Oro Daily"},{id:35,code:"31",description:"Cagayan de Oro Monthly"},{id:36,code:"32",description:"Cavite Daily"},{id:37,code:"33",description:"Cavite Monthly"},{id:38,code:"34",description:"Cebu Daily"},{id:39,code:"35",description:"Cebu Monthly"},{id:40,code:"36",description:"Davao Daily"},{id:41,code:"37",description:"Davao Monthly"},{id:42,code:"38",description:"Iloilo Daily"},{id:43,code:"39",description:"Iloilo Monthly"},{id:44,code:"40",description:"Laguna Daily"},{id:45,code:"41",description:"Laguna Monthly"},{id:46,code:"42",description:"Leyte Daily"},{id:47,code:"43",description:"Leyte Monthly"},{id:48,code:"44",description:"Manila Daily"},{id:49,code:"45",description:"Manila Monthly"},{id:50,code:"46",description:"Mindoro Daily"},{id:51,code:"47",description:"Mindoro Monthly"},{id:52,code:"48",description:"Negros Daily"},{id:53,code:"49",description:"Negros Monthly"},{id:54,code:"50",description:"Palawan Daily"},{id:55,code:"51",description:"Palawan Monthly"},{id:56,code:"52",description:"Pampanga Daily"},{id:57,code:"53",description:"Pampanga Monthly"},{id:58,code:"54",description:"Pangasinan Daily"},{id:59,code:"55",description:"Pangasinan Monthly"},{id:60,code:"56",description:"Quezon Daily"},{id:61,code:"57",description:"Quezon Monthly"},{id:62,code:"58",description:"Rizal Daily"},{id:63,code:"59",description:"Rizal Monthly"},{id:64,code:"60",description:"Samar Daily"},{id:65,code:"61",description:"Samar Monthly"},{id:66,code:"62",description:"Zambales Daily"},{id:67,code:"63",description:"Zambales Monthly"},{id:68,code:"64",description:"Zamboanga Daily"},{id:69,code:"65",description:"Zamboanga Monthly"},{id:70,code:"66",description:"Head Office Daily"},{id:71,code:"67",description:"Head Office Monthly"},{id:72,code:"68",description:"Regional Office 1 Daily"},{id:73,code:"69",description:"Regional Office 1 Monthly"},{id:74,code:"70",description:"Regional Office 2 Daily"},{id:75,code:"71",description:"Regional Office 2 Monthly"},{id:76,code:"72",description:"Regional Office 3 Daily"},{id:77,code:"73",description:"Regional Office 3 Monthly"},{id:78,code:"74",description:"Regional Office 4 Daily"},{id:79,code:"75",description:"Regional Office 4 Monthly"},{id:80,code:"76",description:"Training Center Daily"},{id:81,code:"77",description:"Training Center Monthly"},{id:82,code:"78",description:"Warehouse Daily"},{id:83,code:"79",description:"Warehouse Monthly"},{id:84,code:"80",description:"IT Department Daily"},{id:85,code:"81",description:"IT Department Monthly"},{id:86,code:"82",description:"HR Department Daily"},{id:87,code:"83",description:"HR Department Monthly"},{id:88,code:"84",description:"Finance Department Daily"},{id:89,code:"85",description:"Finance Department Monthly"},{id:90,code:"86",description:"Marketing Department Daily"},{id:91,code:"87",description:"Marketing Department Monthly"},{id:92,code:"88",description:"Operations Department Daily"},{id:93,code:"89",description:"Operations Department Monthly"},{id:94,code:"90",description:"Sales Department Daily"},{id:95,code:"91",description:"Sales Department Monthly"},{id:96,code:"92",description:"Customer Service Daily"},{id:97,code:"93",description:"Customer Service Monthly"},{id:98,code:"96",description:"Security Personnel Daily"},{id:99,code:"98",description:"Security Personnel Monthly"},{id:100,code:"99",description:"Janitorial Staff Daily"},{id:101,code:"101",description:"Janitorial Staff Monthly"},{id:102,code:"102",description:"Contract Workers Daily"},{id:103,code:"103",description:"Contract Workers Monthly"},{id:104,code:"104",description:"Probationary Employees Daily"},{id:105,code:"105",description:"Probationary Employees Monthly"},{id:106,code:"106",description:"Regular Employees Daily"},{id:107,code:"107",description:"Regular Employees Monthly"},{id:108,code:"108",description:"Supervisory Level Daily"},{id:109,code:"109",description:"Supervisory Level Monthly"},{id:110,code:"110",description:"Managerial Level Daily"},{id:111,code:"111",description:"Managerial Level Monthly"},{id:112,code:"112",description:"Executive Level Daily"},{id:113,code:"113",description:"Executive Level Monthly"},{id:114,code:"114",description:"Special Projects Team"}];function bY(){const[t,a]=o.useState([]),[s,r]=o.useState(""),[n,l]=o.useState(null),[i,c]=o.useState([]),[u,h]=o.useState(""),[m,b]=o.useState([]),[g,w]=o.useState([]),[p,v]=o.useState([]),[f,y]=o.useState("10/01/2025"),[N,C]=o.useState("11/16/2025"),[S,I]=o.useState(null),k=o.useRef(null),[A,F]=o.useState(!0),[O,M]=o.useState(!0),[U,L]=o.useState(!0),[G,re]=o.useState(!1),[ye,K]=o.useState(!1),[ne,H]=o.useState(!1),[se,we]=o.useState(""),[Y,E]=o.useState([]),[P,V]=o.useState([]),[D,R]=o.useState([]),[ee,Se]=o.useState([]),[ue,oe]=o.useState(""),[le,Q]=o.useState(!1),[ve,Ce]=o.useState(null),[$e,Ae]=o.useState(""),[We,Re]=o.useState("1"),[et,B]=o.useState([]),[q,Z]=o.useState(1),je=10,[De,Qe]=o.useState(!1),[qe,Ye]=o.useState(""),[ht,St]=o.useState(!1),dt=D.filter(ge=>ge.empCode?.toLowerCase().includes($e.toLowerCase())||ge.lName?.toLowerCase().includes($e.toLowerCase())||ge.fName?.toLowerCase().includes($e.toLowerCase())||ge.mName?.toLowerCase().includes($e.toLowerCase())||ge.suffix?.toLowerCase().includes($e.toLowerCase()));o.useEffect(()=>{Et()},[]);const Et=async()=>{K(!0);try{const ge=await z.get("/Fs/Process/Device/DeviceTypeSetUp");if(ge.data){const st=ge.data.map(Ze=>({deviceName:Ze.deviceName||Ze.DeviceName||""}));E(st)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to Devices";Ce(st),console.error("Error fetching Devices",ge)}finally{}},Te=async()=>{a(p),K(!0);try{const ge=await z.get(`/Import/LogsFromDevice/GetRawData?rawDateInFrom=${f}&rawDateInTo=${N}&empCode=${p}`);if(ge.data){const st=ge.data.map(Ze=>({id:Ze.id||Ze.Id||"",empCode:Ze.empCode||Ze.EmpCode||"",lName:Ze.lName||Ze.LName||"",fName:Ze.fName||Ze.FName||"",mName:Ze.mName||Ze.MName||"",suffix:Ze.suffix||Ze.Suffix||"",rawDateIn:Ze.rawDateIn||Ze.RawDateIn||"",workShiftCode:Ze.workShiftCode||Ze.WorkShiftCode||"",workShiftDesc:Ze.workShiftDesc||Ze.WorkShiftDesc||"",dayType:Ze.dayType||Ze.DayType||"",rawTimeIn:Ze.rawTimeIn||Ze.RawTimeIn||"",rawBreak1In:Ze.rawBreak1In||Ze.RawBreak1In||"",rawBreak1Out:Ze.rawBreak1Out||Ze.RawBreak1Out||"",rawBreak2In:Ze.rawBreak2In||Ze.RawBreak2In||"",rawBreak2Out:Ze.rawBreak2Out||Ze.RawBreak2Out||"",rawBreak3In:Ze.rawBreak3In||Ze.RawBreak3In||"",rawBreak3Out:Ze.rawBreak3Out||Ze.RawBreak3Out||"",rawTimeOut:Ze.rawTimeOut||Ze.RawTimeOut||"",rawDateOut:Ze.rawDateOut||Ze.RawDateOut||"",rawOTApproved:Ze.rawOTApproved||Ze.RawOTApproved||"",rawRemarks:Ze.rawRemarks||Ze.RawRemarks||"",entryFlag:Ze.entryFlag||Ze.EntryFlag||"",terminalID:Ze.terminalID||Ze.TerminalID||"",dayTypeDOLE:Ze.dayTypeDOLE||Ze.DayTypeDOLE||"",aprOTTime:Ze.aprOTTime||Ze.AprOTTime||""}));Se(st),console.log(t),console.log(f,N),console.log(ee)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to Load Data";Ce(st),console.error("Error fetching data",ge)}finally{}};o.useEffect(()=>{Ee()},[]);const Ee=async()=>{K(!0);try{const ge=await z.get("/Fs/Process/TimeKeepGroupSetUp");if(ge.data){const st=ge.data.map(Ze=>({id:Ze.id||Ze.ID||"",groupCode:Ze.groupCode||Ze.GroupCode||"",groupDescription:Ze.groupDescription||Ze.GroupDescription||""}));B(st)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to load TKS Group";Ce(st),console.error("Error fetching TKSGroup:",ge)}finally{}};o.useEffect(()=>{$t()},[We]);const pe=Math.ceil(dt.length/je),Je=(q-1)*je,pt=Je+je,Mt=dt.slice(Je,pt),Wt=()=>{const ge=[];if(pe<=7)for(let st=1;st<=pe;st++)ge.push(st);else if(q<=4){for(let st=1;st<=5;st++)ge.push(st);ge.push("..."),ge.push(pe)}else if(q>=pe-3){ge.push(1),ge.push("...");for(let st=pe-4;st<=pe;st++)ge.push(st)}else{ge.push(1),ge.push("...");for(let st=q-1;st<=q+1;st++)ge.push(st);ge.push("..."),ge.push(pe)}return ge},$t=async()=>{K(!0);try{const ge=await z.get(`/Maintenance/EmployeeMasterFile/GetActive?active=${We}`);if(ge.data){const st=ge.data.map(Ze=>({empID:Ze.empID||Ze.EmpID||"",empCode:Ze.empCode||Ze.EmpCode||"",lName:Ze.lName||Ze.LName||"",fName:Ze.fName||Ze.fName||"",mName:Ze.mName||Ze.mName||"",suffix:Ze.suffix||Ze.suffix||""}));R(st)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to load Employees";Ce(st),console.error("Error fetching employees",ge)}finally{}};o.useEffect(()=>{const ge=st=>{st.key==="Escape"&&De&&Qe(!1)};return De&&document.addEventListener("keydown",ge),()=>{document.removeEventListener("keydown",ge)}},[De]);const lt=ge=>{w(st=>st.includes(ge)?st.filter(Ze=>Ze!==ge):[...st,ge])},bt=ge=>{v(st=>st.includes(ge)?st.filter(Ze=>Ze!==ge):[...st,ge])},Nt=()=>{g.length===cu.length?w([]):w(cu.map(ge=>ge.id))},wt=()=>{p.length===D.length?v([]):v(D.map(ge=>ge.empCode))},It=ge=>ge.includes("EXCELDTR")?"EXCELDTR":ge[0],Dt=ge=>{const st=ge.target.files?.[0]??null;if(!st)return;I(st),oe(st.name);const Ze=new FileReader;Ze.onload=Rt=>{const ft=Rt.target?.result;if(!ft)return;const kt=Zu(ft,{type:"array",cellDates:!0}),he=kt.SheetNames,be=It(he),ie=kt.Sheets[be],de=ln.sheet_to_json(ie,{defval:""});l(kt),c(kt.SheetNames),h(be),b(de),console.log("Sheets:",kt.SheetNames),console.log(de)},Ze.readAsArrayBuffer(st)},Ke=ge=>{const st=ge.target.value;if(h(st),!n)return;const Ze=n.Sheets[st],Rt=ln.sheet_to_json(Ze,{defval:""});b(Rt)};o.useEffect(()=>{console.log("sheetData updated:",m)},[m]);const tt=(ge,st)=>{const Ze=ln.json_to_sheet(ge),Rt=ln.book_new();ln.book_append_sheet(Rt,Ze,st);const ft=_h(Rt,{bookType:"xlsx",type:"array"});return new File([ft],`${st}.xlsx`,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})};o.useEffect(()=>{if(!m.length||!u)return;const ge=tt(m,u);I(ge)},[m,u]);const Le=(ge,st)=>{const Ze=window.URL.createObjectURL(ge),Rt=document.createElement("a");Rt.href=Ze,Rt.download=st,document.body.appendChild(Rt),Rt.click(),document.body.removeChild(Rt),window.URL.revokeObjectURL(Ze)},He=async()=>{St(!0);try{const ge=await z.get("downloads/DownloadTemplate?filename=DTR_Excel_Format.xls",{responseType:"blob"}),st=ge.headers["content-type"],Ze=new Blob([ge.data],{type:st});Le(Ze,"DTR_Excel_Format.xls")}finally{}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:g,onToggle:lt,onSelectAll:Nt}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:f,onChange:y,label:"From:"}),e.jsx(Ln,{date:N,onChange:C,label:"To:"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsxs("select",{value:se,onChange:ge=>we(ge.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{}),Y.map(ge=>e.jsx("option",{value:ge.deviceName,children:ge.deviceName},ge.deviceName))]})]}),e.jsx("div",{className:"grid grid-cols-2 space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:ge=>F(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]})}),se==="Excel Format"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Worksheet:"}),e.jsx("select",{value:u,onChange:Ke,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i.map(ge=>e.jsx("option",{value:ge,children:ge},ge))})]}),se==="Excel Format"&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5",onClick:He}),e.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-700",onClick:He,children:"Download Template"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S&&e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:ue}),S&&e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",ref:k,onChange:Dt,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Choose File"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:U,onChange:ge=>L(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Consolidate DTR"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:O,onChange:ge=>M(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G,onChange:ge=>re(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Upload logs from Online System only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ne,onChange:ge=>H(ge.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Logs of the Device"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",onClick:Te,children:[e.jsx(C7,{className:"w-4 h-4"}),"View Logs"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx(Sc,{className:"w-4 h-4"}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employee Selection"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:$e,onChange:ge=>Ae(ge.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:p.length===D.length,onChange:wt})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Mt.map(ge=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(ge.empCode),onChange:()=>bt(ge.empCode),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ge.empCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ge.lName+", "+ge.fName+" "+ge.mName+" "+ge.suffix})]},ge.empID))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[!D&&e.jsxs("span",{children:["Showing ",Math.min(pt,dt.length)," of ",dt.length," entries"]}),D&&e.jsxs("span",{children:["Showing ",Je+1," to ",Math.min(pt,dt.length)," of ",dt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Z(ge=>Math.max(1,ge-1)),disabled:q===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Wt().map((ge,st)=>typeof ge=="number"?e.jsx("button",{onClick:()=>Z(ge),className:`px-2 py-1 rounded text-xs ${q===ge?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ge},st):e.jsx("span",{className:"px-2",children:ge},st)),e.jsx("button",{onClick:()=>Z(ge=>Math.min(pe,ge+1)),disabled:q===pe,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"1",checked:We==="1",onChange:ge=>Re(ge.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"0",checked:We==="0",onChange:ge=>Re(ge.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"",checked:We==="",onChange:ge=>Re(ge.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Import Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:Array.isArray(ee)&&ee.map((ge,st)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:ge.empCode}),e.jsxs("td",{className:"px-4 py-2",children:[ge.lName,", ",ge.fName," ",ge.mName," ",ge.suffix]}),e.jsx("td",{className:"px-4 py-2",children:ge.rawDateIn?new Date(ge.rawDateIn).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ge.rawTimeIn?new Date(ge.rawTimeIn).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-2",children:ge.entryFlag})]},st))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function YD(t){var a,s,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(a=0;a<n;a++)t[a]&&(s=YD(t[a]))&&(r&&(r+=" "),r+=s)}else for(s in t)t[s]&&(r&&(r+=" "),r+=s);return r}function KD(){for(var t,a,s=0,r="",n=arguments.length;s<n;s++)(t=arguments[s])&&(a=YD(t))&&(r&&(r+=" "),r+=a);return r}const vY=(t,a)=>{const s=new Array(t.length+a.length);for(let r=0;r<t.length;r++)s[r]=t[r];for(let r=0;r<a.length;r++)s[t.length+r]=a[r];return s},wY=(t,a)=>({classGroupId:t,validator:a}),qD=(t=new Map,a=null,s)=>({nextPart:t,validators:a,classGroupId:s}),kg="-",AC=[],NY="arbitrary..",jY=t=>{const a=SY(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return CY(i);const c=i.split(kg),u=c[0]===""&&c.length>1?1:0;return XD(c,u,a)},getConflictingClassGroupIds:(i,c)=>{if(c){const u=r[i],h=s[i];return u?h?vY(h,u):u:h||AC}return s[i]||AC}}},XD=(t,a,s)=>{if(t.length-a===0)return s.classGroupId;const n=t[a],l=s.nextPart.get(n);if(l){const h=XD(t,a+1,l);if(h)return h}const i=s.validators;if(i===null)return;const c=a===0?t.join(kg):t.slice(a).join(kg),u=i.length;for(let h=0;h<u;h++){const m=i[h];if(m.validator(c))return m.classGroupId}},CY=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const a=t.slice(1,-1),s=a.indexOf(":"),r=a.slice(0,s);return r?NY+r:void 0})(),SY=t=>{const{theme:a,classGroups:s}=t;return kY(s,a)},kY=(t,a)=>{const s=qD();for(const r in t){const n=t[r];Uw(n,s,r,a)}return s},Uw=(t,a,s,r)=>{const n=t.length;for(let l=0;l<n;l++){const i=t[l];DY(i,a,s,r)}},DY=(t,a,s,r)=>{if(typeof t=="string"){EY(t,a,s);return}if(typeof t=="function"){TY(t,a,s,r);return}AY(t,a,s,r)},EY=(t,a,s)=>{const r=t===""?a:JD(a,t);r.classGroupId=s},TY=(t,a,s,r)=>{if(FY(t)){Uw(t(r),a,s,r);return}a.validators===null&&(a.validators=[]),a.validators.push(wY(s,t))},AY=(t,a,s,r)=>{const n=Object.entries(t),l=n.length;for(let i=0;i<l;i++){const[c,u]=n[i];Uw(u,JD(a,c),s,r)}},JD=(t,a)=>{let s=t;const r=a.split(kg),n=r.length;for(let l=0;l<n;l++){const i=r[l];let c=s.nextPart.get(i);c||(c=qD(),s.nextPart.set(i,c)),s=c}return s},FY=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,PY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let a=0,s=Object.create(null),r=Object.create(null);const n=(l,i)=>{s[l]=i,a++,a>t&&(a=0,r=s,s=Object.create(null))};return{get(l){let i=s[l];if(i!==void 0)return i;if((i=r[l])!==void 0)return n(l,i),i},set(l,i){l in s?s[l]=i:n(l,i)}}},lv="!",FC=":",IY=[],PC=(t,a,s,r,n)=>({modifiers:t,hasImportantModifier:a,baseClassName:s,maybePostfixModifierPosition:r,isExternal:n}),MY=t=>{const{prefix:a,experimentalParseClassName:s}=t;let r=n=>{const l=[];let i=0,c=0,u=0,h;const m=n.length;for(let v=0;v<m;v++){const f=n[v];if(i===0&&c===0){if(f===FC){l.push(n.slice(u,v)),u=v+1;continue}if(f==="/"){h=v;continue}}f==="["?i++:f==="]"?i--:f==="("?c++:f===")"&&c--}const b=l.length===0?n:n.slice(u);let g=b,w=!1;b.endsWith(lv)?(g=b.slice(0,-1),w=!0):b.startsWith(lv)&&(g=b.slice(1),w=!0);const p=h&&h>u?h-u:void 0;return PC(l,w,g,p)};if(a){const n=a+FC,l=r;r=i=>i.startsWith(n)?l(i.slice(n.length)):PC(IY,!1,i,void 0,!0)}if(s){const n=r;r=l=>s({className:l,parseClassName:n})}return r},LY=t=>{const a=new Map;return t.orderSensitiveModifiers.forEach((s,r)=>{a.set(s,1e6+r)}),s=>{const r=[];let n=[];for(let l=0;l<s.length;l++){const i=s[l],c=i[0]==="[",u=a.has(i);c||u?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(i)):n.push(i)}return n.length>0&&(n.sort(),r.push(...n)),r}},OY=t=>({cache:PY(t.cacheSize),parseClassName:MY(t),sortModifiers:LY(t),...jY(t)}),_Y=/\s+/,BY=(t,a)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:l}=a,i=[],c=t.trim().split(_Y);let u="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:b,modifiers:g,hasImportantModifier:w,baseClassName:p,maybePostfixModifierPosition:v}=s(m);if(b){u=m+(u.length>0?" "+u:u);continue}let f=!!v,y=r(f?p.substring(0,v):p);if(!y){if(!f){u=m+(u.length>0?" "+u:u);continue}if(y=r(p),!y){u=m+(u.length>0?" "+u:u);continue}f=!1}const N=g.length===0?"":g.length===1?g[0]:l(g).join(":"),C=w?N+lv:N,S=C+y;if(i.indexOf(S)>-1)continue;i.push(S);const I=n(y,f);for(let k=0;k<I.length;++k){const A=I[k];i.push(C+A)}u=m+(u.length>0?" "+u:u)}return u},RY=(...t)=>{let a=0,s,r,n="";for(;a<t.length;)(s=t[a++])&&(r=QD(s))&&(n&&(n+=" "),n+=r);return n},QD=t=>{if(typeof t=="string")return t;let a,s="";for(let r=0;r<t.length;r++)t[r]&&(a=QD(t[r]))&&(s&&(s+=" "),s+=a);return s},HY=(t,...a)=>{let s,r,n,l;const i=u=>{const h=a.reduce((m,b)=>b(m),t());return s=OY(h),r=s.cache.get,n=s.cache.set,l=c,c(u)},c=u=>{const h=r(u);if(h)return h;const m=BY(u,s);return n(u,m),m};return l=i,(...u)=>l(RY(...u))},UY=[],pn=t=>{const a=s=>s[t]||UY;return a.isThemeGetter=!0,a},ZD=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,e5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$Y=/^\d+\/\d+$/,WY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,VY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,T0=t=>$Y.test(t),ha=t=>!!t&&!Number.isNaN(Number(t)),Gd=t=>!!t&&Number.isInteger(Number(t)),Ry=t=>t.endsWith("%")&&ha(t.slice(0,-1)),td=t=>WY.test(t),KY=()=>!0,qY=t=>GY.test(t)&&!zY.test(t),t5=()=>!1,XY=t=>VY.test(t),JY=t=>YY.test(t),QY=t=>!Fs(t)&&!Ps(t),ZY=t=>ux(t,r5,t5),Fs=t=>ZD.test(t),Eu=t=>ux(t,n5,qY),Hy=t=>ux(t,rK,ha),IC=t=>ux(t,s5,t5),eK=t=>ux(t,a5,JY),$m=t=>ux(t,o5,XY),Ps=t=>e5.test(t),Ax=t=>xx(t,n5),tK=t=>xx(t,nK),MC=t=>xx(t,s5),sK=t=>xx(t,r5),aK=t=>xx(t,a5),Wm=t=>xx(t,o5,!0),ux=(t,a,s)=>{const r=ZD.exec(t);return r?r[1]?a(r[1]):s(r[2]):!1},xx=(t,a,s=!1)=>{const r=e5.exec(t);return r?r[1]?a(r[1]):s:!1},s5=t=>t==="position"||t==="percentage",a5=t=>t==="image"||t==="url",r5=t=>t==="length"||t==="size"||t==="bg-size",n5=t=>t==="length",rK=t=>t==="number",nK=t=>t==="family-name",o5=t=>t==="shadow",oK=()=>{const t=pn("color"),a=pn("font"),s=pn("text"),r=pn("font-weight"),n=pn("tracking"),l=pn("leading"),i=pn("breakpoint"),c=pn("container"),u=pn("spacing"),h=pn("radius"),m=pn("shadow"),b=pn("inset-shadow"),g=pn("text-shadow"),w=pn("drop-shadow"),p=pn("blur"),v=pn("perspective"),f=pn("aspect"),y=pn("ease"),N=pn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...S(),Ps,Fs],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],F=()=>[Ps,Fs,u],O=()=>[T0,"full","auto",...F()],M=()=>[Gd,"none","subgrid",Ps,Fs],U=()=>["auto",{span:["full",Gd,Ps,Fs]},Gd,Ps,Fs],L=()=>[Gd,"auto",Ps,Fs],G=()=>["auto","min","max","fr",Ps,Fs],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...F()],ne=()=>[T0,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],H=()=>[t,Ps,Fs],se=()=>[...S(),MC,IC,{position:[Ps,Fs]}],we=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Y=()=>["auto","cover","contain",sK,ZY,{size:[Ps,Fs]}],E=()=>[Ry,Ax,Eu],P=()=>["","none","full",h,Ps,Fs],V=()=>["",ha,Ax,Eu],D=()=>["solid","dashed","dotted","double"],R=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[ha,Ry,MC,IC],Se=()=>["","none",p,Ps,Fs],ue=()=>["none",ha,Ps,Fs],oe=()=>["none",ha,Ps,Fs],le=()=>[ha,Ps,Fs],Q=()=>[T0,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[td],breakpoint:[td],color:[KY],container:[td],"drop-shadow":[td],ease:["in","out","in-out"],font:[QY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[td],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[td],shadow:[td],spacing:["px",ha],text:[td],"text-shadow":[td],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",T0,Fs,Ps,f]}],container:["container"],columns:[{columns:[ha,Fs,Ps,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[Gd,"auto",Ps,Fs]}],basis:[{basis:[T0,"full","auto",c,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ha,T0,"auto","initial","none",Fs]}],grow:[{grow:["",ha,Ps,Fs]}],shrink:[{shrink:["",ha,Ps,Fs]}],order:[{order:[Gd,"first","last","none",Ps,Fs]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[c,"screen",...ne()]}],"min-w":[{"min-w":[c,"screen","none",...ne()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[i]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",s,Ax,Eu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ps,Hy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ry,Fs]}],"font-family":[{font:[tK,Fs,a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,Ps,Fs]}],"line-clamp":[{"line-clamp":[ha,"none",Ps,Hy]}],leading:[{leading:[l,...F()]}],"list-image":[{"list-image":["none",Ps,Fs]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ps,Fs]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:[ha,"from-font","auto",Ps,Eu]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[ha,"auto",Ps,Fs]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ps,Fs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ps,Fs]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:we()}],"bg-size":[{bg:Y()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gd,Ps,Fs],radial:["",Ps,Fs],conic:[Gd,Ps,Fs]},aK,eK]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:E()}],"gradient-via-pos":[{via:E()}],"gradient-to-pos":[{to:E()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...D(),"hidden","none"]}],"divide-style":[{divide:[...D(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...D(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ha,Ps,Fs]}],"outline-w":[{outline:["",ha,Ax,Eu]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",m,Wm,$m]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",b,Wm,$m]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[ha,Eu]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",g,Wm,$m]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[ha,Ps,Fs]}],"mix-blend":[{"mix-blend":[...R(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":R()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ha]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ps,Fs]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[ha]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:we()}],"mask-size":[{mask:Y()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ps,Fs]}],filter:[{filter:["","none",Ps,Fs]}],blur:[{blur:Se()}],brightness:[{brightness:[ha,Ps,Fs]}],contrast:[{contrast:[ha,Ps,Fs]}],"drop-shadow":[{"drop-shadow":["","none",w,Wm,$m]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",ha,Ps,Fs]}],"hue-rotate":[{"hue-rotate":[ha,Ps,Fs]}],invert:[{invert:["",ha,Ps,Fs]}],saturate:[{saturate:[ha,Ps,Fs]}],sepia:[{sepia:["",ha,Ps,Fs]}],"backdrop-filter":[{"backdrop-filter":["","none",Ps,Fs]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[ha,Ps,Fs]}],"backdrop-contrast":[{"backdrop-contrast":[ha,Ps,Fs]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ha,Ps,Fs]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ha,Ps,Fs]}],"backdrop-invert":[{"backdrop-invert":["",ha,Ps,Fs]}],"backdrop-opacity":[{"backdrop-opacity":[ha,Ps,Fs]}],"backdrop-saturate":[{"backdrop-saturate":[ha,Ps,Fs]}],"backdrop-sepia":[{"backdrop-sepia":["",ha,Ps,Fs]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ps,Fs]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ha,"initial",Ps,Fs]}],ease:[{ease:["linear","initial",y,Ps,Fs]}],delay:[{delay:[ha,Ps,Fs]}],animate:[{animate:["none",N,Ps,Fs]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Ps,Fs]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[Ps,Fs,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Q()}],"translate-x":[{"translate-x":Q()}],"translate-y":[{"translate-y":Q()}],"translate-z":[{"translate-z":Q()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ps,Fs]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ps,Fs]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[ha,Ax,Eu,Hy]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lK=HY(oK);function Pu(...t){return lK(KD(t))}function iv({...t}){return e.jsx(Sh,{"data-slot":"popover",...t})}function cv({...t}){return e.jsx(kh,{"data-slot":"popover-trigger",...t})}function dv({className:t,align:a="center",sideOffset:s=4,...r}){return e.jsx(Dh,{children:e.jsx(Eh,{"data-slot":"popover-content",align:a,sideOffset:s,className:Pu("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}function Ia(t){const a=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&a==="[object Date]"?new t.constructor(+t):typeof t=="number"||a==="[object Number]"||typeof t=="string"||a==="[object String]"?new Date(t):new Date(NaN)}function Fl(t,a){return t instanceof Date?new t.constructor(a):new Date(a)}function ko(t,a){const s=Ia(t);return isNaN(a)?Fl(t,NaN):(a&&s.setDate(s.getDate()+a),s)}function Gi(t,a){const s=Ia(t);if(isNaN(a))return Fl(t,NaN);if(!a)return s;const r=s.getDate(),n=Fl(t,s.getTime());n.setMonth(s.getMonth()+a+1,0);const l=n.getDate();return r>=l?n:(s.setFullYear(n.getFullYear(),n.getMonth(),r),s)}const $w=6048e5,iK=864e5;let cK={};function Bh(){return cK}function Cc(t,a){const s=Bh(),r=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,n=Ia(t),l=n.getDay(),i=(l<r?7:0)+l-r;return n.setDate(n.getDate()-i),n.setHours(0,0,0,0),n}function e0(t){return Cc(t,{weekStartsOn:1})}function l5(t){const a=Ia(t),s=a.getFullYear(),r=Fl(t,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const n=e0(r),l=Fl(t,0);l.setFullYear(s,0,4),l.setHours(0,0,0,0);const i=e0(l);return a.getTime()>=n.getTime()?s+1:a.getTime()>=i.getTime()?s:s-1}function J0(t){const a=Ia(t);return a.setHours(0,0,0,0),a}function Dg(t){const a=Ia(t),s=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return s.setUTCFullYear(a.getFullYear()),+t-+s}function bc(t,a){const s=J0(t),r=J0(a),n=+s-Dg(s),l=+r-Dg(r);return Math.round((n-l)/iK)}function dK(t){const a=l5(t),s=Fl(t,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),e0(s)}function uv(t,a){const s=a*7;return ko(t,s)}function uK(t,a){return Gi(t,a*12)}function xK(t){let a;return t.forEach(function(s){const r=Ia(s);(a===void 0||a<r||isNaN(Number(r)))&&(a=r)}),a||new Date(NaN)}function hK(t){let a;return t.forEach(s=>{const r=Ia(s);(!a||a>r||isNaN(+r))&&(a=r)}),a||new Date(NaN)}function Xo(t,a){const s=J0(t),r=J0(a);return+s==+r}function Ww(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mK(t){if(!Ww(t)&&typeof t!="number")return!1;const a=Ia(t);return!isNaN(Number(a))}function uh(t,a){const s=Ia(t),r=Ia(a),n=s.getFullYear()-r.getFullYear(),l=s.getMonth()-r.getMonth();return n*12+l}function pK(t,a,s){const r=Cc(t,s),n=Cc(a,s),l=+r-Dg(r),i=+n-Dg(n);return Math.round((l-i)/$w)}function Gw(t){const a=Ia(t),s=a.getMonth();return a.setFullYear(a.getFullYear(),s+1,0),a.setHours(23,59,59,999),a}function tl(t){const a=Ia(t);return a.setDate(1),a.setHours(0,0,0,0),a}function i5(t){const a=Ia(t),s=Fl(t,0);return s.setFullYear(a.getFullYear(),0,1),s.setHours(0,0,0,0),s}function zw(t,a){const s=Bh(),r=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,n=Ia(t),l=n.getDay(),i=(l<r?-7:0)+6-(l-r);return n.setDate(n.getDate()+i),n.setHours(23,59,59,999),n}function c5(t){return zw(t,{weekStartsOn:1})}const gK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fK=(t,a,s)=>{let r;const n=gK[t];return typeof n=="string"?r=n:a===1?r=n.one:r=n.other.replace("{{count}}",a.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Uy(t){return(a={})=>{const s=a.width?String(a.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const yK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wK={date:Uy({formats:yK,defaultWidth:"full"}),time:Uy({formats:bK,defaultWidth:"full"}),dateTime:Uy({formats:vK,defaultWidth:"full"})},NK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jK=(t,a,s,r)=>NK[t];function Fx(t){return(a,s)=>{const r=s?.context?String(s.context):"standalone";let n;if(r==="formatting"&&t.formattingValues){const i=t.defaultFormattingWidth||t.defaultWidth,c=s?.width?String(s.width):i;n=t.formattingValues[c]||t.formattingValues[i]}else{const i=t.defaultWidth,c=s?.width?String(s.width):t.defaultWidth;n=t.values[c]||t.values[i]}const l=t.argumentCallback?t.argumentCallback(a):a;return n[l]}}const CK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},DK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},TK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AK=(t,a)=>{const s=Number(t),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},FK={ordinalNumber:AK,era:Fx({values:CK,defaultWidth:"wide"}),quarter:Fx({values:SK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Fx({values:kK,defaultWidth:"wide"}),day:Fx({values:DK,defaultWidth:"wide"}),dayPeriod:Fx({values:EK,defaultWidth:"wide",formattingValues:TK,defaultFormattingWidth:"wide"})};function Px(t){return(a,s={})=>{const r=s.width,n=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],l=a.match(n);if(!l)return null;const i=l[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(c)?IK(c,b=>b.test(i)):PK(c,b=>b.test(i));let h;h=t.valueCallback?t.valueCallback(u):u,h=s.valueCallback?s.valueCallback(h):h;const m=a.slice(i.length);return{value:h,rest:m}}}function PK(t,a){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&a(t[s]))return s}function IK(t,a){for(let s=0;s<t.length;s++)if(a(t[s]))return s}function MK(t){return(a,s={})=>{const r=a.match(t.matchPattern);if(!r)return null;const n=r[0],l=a.match(t.parsePattern);if(!l)return null;let i=t.valueCallback?t.valueCallback(l[0]):l[0];i=s.valueCallback?s.valueCallback(i):i;const c=a.slice(n.length);return{value:i,rest:c}}}const LK=/^(\d+)(th|st|nd|rd)?/i,OK=/\d+/i,_K={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BK={any:[/^b/i,/^(a|c)/i]},RK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HK={any:[/1/i,/2/i,/3/i,/4/i]},UK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$K={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YK={ordinalNumber:MK({matchPattern:LK,parsePattern:OK,valueCallback:t=>parseInt(t,10)}),era:Px({matchPatterns:_K,defaultMatchWidth:"wide",parsePatterns:BK,defaultParseWidth:"any"}),quarter:Px({matchPatterns:RK,defaultMatchWidth:"wide",parsePatterns:HK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Px({matchPatterns:UK,defaultMatchWidth:"wide",parsePatterns:$K,defaultParseWidth:"any"}),day:Px({matchPatterns:WK,defaultMatchWidth:"wide",parsePatterns:GK,defaultParseWidth:"any"}),dayPeriod:Px({matchPatterns:zK,defaultMatchWidth:"any",parsePatterns:VK,defaultParseWidth:"any"})},d5={code:"en-US",formatDistance:fK,formatLong:wK,formatRelative:jK,localize:FK,match:YK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KK(t){const a=Ia(t);return bc(a,i5(a))+1}function u5(t){const a=Ia(t),s=+e0(a)-+dK(a);return Math.round(s/$w)+1}function x5(t,a){const s=Ia(t),r=s.getFullYear(),n=Bh(),l=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=Fl(t,0);i.setFullYear(r+1,0,l),i.setHours(0,0,0,0);const c=Cc(i,a),u=Fl(t,0);u.setFullYear(r,0,l),u.setHours(0,0,0,0);const h=Cc(u,a);return s.getTime()>=c.getTime()?r+1:s.getTime()>=h.getTime()?r:r-1}function qK(t,a){const s=Bh(),r=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,n=x5(t,a),l=Fl(t,0);return l.setFullYear(n,0,r),l.setHours(0,0,0,0),Cc(l,a)}function h5(t,a){const s=Ia(t),r=+Cc(s,a)-+qK(s,a);return Math.round(r/$w)+1}function Ja(t,a){const s=t<0?"-":"",r=Math.abs(t).toString().padStart(a,"0");return s+r}const zd={y(t,a){const s=t.getFullYear(),r=s>0?s:1-s;return Ja(a==="yy"?r%100:r,a.length)},M(t,a){const s=t.getMonth();return a==="M"?String(s+1):Ja(s+1,2)},d(t,a){return Ja(t.getDate(),a.length)},a(t,a){const s=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,a){return Ja(t.getHours()%12||12,a.length)},H(t,a){return Ja(t.getHours(),a.length)},m(t,a){return Ja(t.getMinutes(),a.length)},s(t,a){return Ja(t.getSeconds(),a.length)},S(t,a){const s=a.length,r=t.getMilliseconds(),n=Math.trunc(r*Math.pow(10,s-3));return Ja(n,a.length)}},A0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LC={G:function(t,a,s){const r=t.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(t,a,s){if(a==="yo"){const r=t.getFullYear(),n=r>0?r:1-r;return s.ordinalNumber(n,{unit:"year"})}return zd.y(t,a)},Y:function(t,a,s,r){const n=x5(t,r),l=n>0?n:1-n;if(a==="YY"){const i=l%100;return Ja(i,2)}return a==="Yo"?s.ordinalNumber(l,{unit:"year"}):Ja(l,a.length)},R:function(t,a){const s=l5(t);return Ja(s,a.length)},u:function(t,a){const s=t.getFullYear();return Ja(s,a.length)},Q:function(t,a,s){const r=Math.ceil((t.getMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return Ja(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,a,s){const r=Math.ceil((t.getMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return Ja(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,a,s){const r=t.getMonth();switch(a){case"M":case"MM":return zd.M(t,a);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(t,a,s){const r=t.getMonth();switch(a){case"L":return String(r+1);case"LL":return Ja(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(t,a,s,r){const n=h5(t,r);return a==="wo"?s.ordinalNumber(n,{unit:"week"}):Ja(n,a.length)},I:function(t,a,s){const r=u5(t);return a==="Io"?s.ordinalNumber(r,{unit:"week"}):Ja(r,a.length)},d:function(t,a,s){return a==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):zd.d(t,a)},D:function(t,a,s){const r=KK(t);return a==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Ja(r,a.length)},E:function(t,a,s){const r=t.getDay();switch(a){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(t,a,s,r){const n=t.getDay(),l=(n-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(l);case"ee":return Ja(l,2);case"eo":return s.ordinalNumber(l,{unit:"day"});case"eee":return s.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})}},c:function(t,a,s,r){const n=t.getDay(),l=(n-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(l);case"cc":return Ja(l,a.length);case"co":return s.ordinalNumber(l,{unit:"day"});case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})}},i:function(t,a,s){const r=t.getDay(),n=r===0?7:r;switch(a){case"i":return String(n);case"ii":return Ja(n,a.length);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(t,a,s){const n=t.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,a,s){const r=t.getHours();let n;switch(r===12?n=A0.noon:r===0?n=A0.midnight:n=r/12>=1?"pm":"am",a){case"b":case"bb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,a,s){const r=t.getHours();let n;switch(r>=17?n=A0.evening:r>=12?n=A0.afternoon:r>=4?n=A0.morning:n=A0.night,a){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,a,s){if(a==="ho"){let r=t.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return zd.h(t,a)},H:function(t,a,s){return a==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):zd.H(t,a)},K:function(t,a,s){const r=t.getHours()%12;return a==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Ja(r,a.length)},k:function(t,a,s){let r=t.getHours();return r===0&&(r=24),a==="ko"?s.ordinalNumber(r,{unit:"hour"}):Ja(r,a.length)},m:function(t,a,s){return a==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):zd.m(t,a)},s:function(t,a,s){return a==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):zd.s(t,a)},S:function(t,a){return zd.S(t,a)},X:function(t,a,s){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(a){case"X":return _C(r);case"XXXX":case"XX":return Iu(r);case"XXXXX":case"XXX":default:return Iu(r,":")}},x:function(t,a,s){const r=t.getTimezoneOffset();switch(a){case"x":return _C(r);case"xxxx":case"xx":return Iu(r);case"xxxxx":case"xxx":default:return Iu(r,":")}},O:function(t,a,s){const r=t.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+OC(r,":");case"OOOO":default:return"GMT"+Iu(r,":")}},z:function(t,a,s){const r=t.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+OC(r,":");case"zzzz":default:return"GMT"+Iu(r,":")}},t:function(t,a,s){const r=Math.trunc(t.getTime()/1e3);return Ja(r,a.length)},T:function(t,a,s){const r=t.getTime();return Ja(r,a.length)}};function OC(t,a=""){const s=t>0?"-":"+",r=Math.abs(t),n=Math.trunc(r/60),l=r%60;return l===0?s+String(n):s+String(n)+a+Ja(l,2)}function _C(t,a){return t%60===0?(t>0?"-":"+")+Ja(Math.abs(t)/60,2):Iu(t,a)}function Iu(t,a=""){const s=t>0?"-":"+",r=Math.abs(t),n=Ja(Math.trunc(r/60),2),l=Ja(r%60,2);return s+n+a+l}const BC=(t,a)=>{switch(t){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},m5=(t,a)=>{switch(t){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},XK=(t,a)=>{const s=t.match(/(P+)(p+)?/)||[],r=s[1],n=s[2];if(!n)return BC(t,a);let l;switch(r){case"P":l=a.dateTime({width:"short"});break;case"PP":l=a.dateTime({width:"medium"});break;case"PPP":l=a.dateTime({width:"long"});break;case"PPPP":default:l=a.dateTime({width:"full"});break}return l.replace("{{date}}",BC(r,a)).replace("{{time}}",m5(n,a))},JK={p:m5,P:XK},QK=/^D+$/,ZK=/^Y+$/,eq=["D","DD","YY","YYYY"];function tq(t){return QK.test(t)}function sq(t){return ZK.test(t)}function aq(t,a,s){const r=rq(t,a,s);if(console.warn(r),eq.includes(t))throw new RangeError(r)}function rq(t,a,s){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${a}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lq=/^'([^]*?)'?$/,iq=/''/g,cq=/[a-zA-Z]/;function x0(t,a,s){const r=Bh(),n=s?.locale??r.locale??d5,l=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,c=Ia(t);if(!mK(c))throw new RangeError("Invalid time value");let u=a.match(oq).map(m=>{const b=m[0];if(b==="p"||b==="P"){const g=JK[b];return g(m,n.formatLong)}return m}).join("").match(nq).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const b=m[0];if(b==="'")return{isToken:!1,value:dq(m)};if(LC[b])return{isToken:!0,value:m};if(b.match(cq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:m}});n.localize.preprocessor&&(u=n.localize.preprocessor(c,u));const h={firstWeekContainsDate:l,weekStartsOn:i,locale:n};return u.map(m=>{if(!m.isToken)return m.value;const b=m.value;(!s?.useAdditionalWeekYearTokens&&sq(b)||!s?.useAdditionalDayOfYearTokens&&tq(b))&&aq(b,a,String(t));const g=LC[b[0]];return g(c,b,n.localize,h)}).join("")}function dq(t){const a=t.match(lq);return a?a[1].replace(iq,"'"):t}function uq(t){const a=Ia(t),s=a.getFullYear(),r=a.getMonth(),n=Fl(t,0);return n.setFullYear(s,r+1,0),n.setHours(0,0,0,0),n.getDate()}function xq(t){return Math.trunc(+Ia(t)/1e3)}function hq(t){const a=Ia(t),s=a.getMonth();return a.setFullYear(a.getFullYear(),s+1,0),a.setHours(0,0,0,0),a}function mq(t,a){return pK(hq(t),tl(t),a)+1}function xv(t,a){const s=Ia(t),r=Ia(a);return s.getTime()>r.getTime()}function p5(t,a){const s=Ia(t),r=Ia(a);return+s<+r}function Vw(t,a){const s=Ia(t),r=Ia(a);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function pq(t,a){const s=Ia(t),r=Ia(a);return s.getFullYear()===r.getFullYear()}function $y(t,a){return ko(t,-a)}function Wy(t,a){const s=Ia(t),r=s.getFullYear(),n=s.getDate(),l=Fl(t,0);l.setFullYear(r,a,15),l.setHours(0,0,0,0);const i=uq(l);return s.setMonth(a,Math.min(n,i)),s}function RC(t,a){const s=Ia(t);return isNaN(+s)?Fl(t,NaN):(s.setFullYear(a),s)}var Ks=function(){return Ks=Object.assign||function(a){for(var s,r=1,n=arguments.length;r<n;r++){s=arguments[r];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])}return a},Ks.apply(this,arguments)};function gq(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s}function g5(t,a,s){for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))}function Rh(t){return t.mode==="multiple"}function Hh(t){return t.mode==="range"}function sf(t){return t.mode==="single"}var fq={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function yq(t,a){return x0(t,"LLLL y",a)}function bq(t,a){return x0(t,"d",a)}function vq(t,a){return x0(t,"LLLL",a)}function wq(t){return"".concat(t)}function Nq(t,a){return x0(t,"cccccc",a)}function jq(t,a){return x0(t,"yyyy",a)}var Cq=Object.freeze({__proto__:null,formatCaption:yq,formatDay:bq,formatMonthCaption:vq,formatWeekNumber:wq,formatWeekdayName:Nq,formatYearCaption:jq}),Sq=function(t,a,s){return x0(t,"do MMMM (EEEE)",s)},kq=function(){return"Month: "},Dq=function(){return"Go to next month"},Eq=function(){return"Go to previous month"},Tq=function(t,a){return x0(t,"cccc",a)},Aq=function(t){return"Week n. ".concat(t)},Fq=function(){return"Year: "},Pq=Object.freeze({__proto__:null,labelDay:Sq,labelMonthDropdown:kq,labelNext:Dq,labelPrevious:Eq,labelWeekNumber:Aq,labelWeekday:Tq,labelYearDropdown:Fq});function Iq(){var t="buttons",a=fq,s=d5,r={},n={},l=1,i={},c=new Date;return{captionLayout:t,classNames:a,formatters:Cq,labels:Pq,locale:s,modifiersClassNames:r,modifiers:n,numberOfMonths:l,styles:i,today:c,mode:"default"}}function Mq(t){var a=t.fromYear,s=t.toYear,r=t.fromMonth,n=t.toMonth,l=t.fromDate,i=t.toDate;return r?l=tl(r):a&&(l=new Date(a,0,1)),n?i=Gw(n):s&&(i=new Date(s,11,31)),{fromDate:l?J0(l):void 0,toDate:i?J0(i):void 0}}var f5=o.createContext(void 0);function Lq(t){var a,s=t.initialProps,r=Iq(),n=Mq(s),l=n.fromDate,i=n.toDate,c=(a=s.captionLayout)!==null&&a!==void 0?a:r.captionLayout;c!=="buttons"&&(!l||!i)&&(c="buttons");var u;(sf(s)||Rh(s)||Hh(s))&&(u=s.onSelect);var h=Ks(Ks(Ks({},r),s),{captionLayout:c,classNames:Ks(Ks({},r.classNames),s.classNames),components:Ks({},s.components),formatters:Ks(Ks({},r.formatters),s.formatters),fromDate:l,labels:Ks(Ks({},r.labels),s.labels),mode:s.mode||r.mode,modifiers:Ks(Ks({},r.modifiers),s.modifiers),modifiersClassNames:Ks(Ks({},r.modifiersClassNames),s.modifiersClassNames),onSelect:u,styles:Ks(Ks({},r.styles),s.styles),toDate:i});return e.jsx(f5.Provider,{value:h,children:t.children})}function xr(){var t=o.useContext(f5);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function y5(t){var a=xr(),s=a.locale,r=a.classNames,n=a.styles,l=a.formatters.formatCaption;return e.jsx("div",{className:r.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:l(t.displayMonth,{locale:s})})}function Oq(t){return e.jsx("svg",Ks({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function b5(t){var a,s,r=t.onChange,n=t.value,l=t.children,i=t.caption,c=t.className,u=t.style,h=xr(),m=(s=(a=h.components)===null||a===void 0?void 0:a.IconDropdown)!==null&&s!==void 0?s:Oq;return e.jsxs("div",{className:c,style:u,children:[e.jsx("span",{className:h.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:n,onChange:r,children:l}),e.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[i,e.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function _q(t){var a,s=xr(),r=s.fromDate,n=s.toDate,l=s.styles,i=s.locale,c=s.formatters.formatMonthCaption,u=s.classNames,h=s.components,m=s.labels.labelMonthDropdown;if(!r)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var b=[];if(pq(r,n))for(var g=tl(r),w=r.getMonth();w<=n.getMonth();w++)b.push(Wy(g,w));else for(var g=tl(new Date),w=0;w<=11;w++)b.push(Wy(g,w));var p=function(f){var y=Number(f.target.value),N=Wy(tl(t.displayMonth),y);t.onChange(N)},v=(a=h?.Dropdown)!==null&&a!==void 0?a:b5;return e.jsx(v,{name:"months","aria-label":m(),className:u.dropdown_month,style:l.dropdown_month,onChange:p,value:t.displayMonth.getMonth(),caption:c(t.displayMonth,{locale:i}),children:b.map(function(f){return e.jsx("option",{value:f.getMonth(),children:c(f,{locale:i})},f.getMonth())})})}function Bq(t){var a,s=t.displayMonth,r=xr(),n=r.fromDate,l=r.toDate,i=r.locale,c=r.styles,u=r.classNames,h=r.components,m=r.formatters.formatYearCaption,b=r.labels.labelYearDropdown,g=[];if(!n)return e.jsx(e.Fragment,{});if(!l)return e.jsx(e.Fragment,{});for(var w=n.getFullYear(),p=l.getFullYear(),v=w;v<=p;v++)g.push(RC(i5(new Date),v));var f=function(N){var C=RC(tl(s),Number(N.target.value));t.onChange(C)},y=(a=h?.Dropdown)!==null&&a!==void 0?a:b5;return e.jsx(y,{name:"years","aria-label":b(),className:u.dropdown_year,style:c.dropdown_year,onChange:f,value:s.getFullYear(),caption:m(s,{locale:i}),children:g.map(function(N){return e.jsx("option",{value:N.getFullYear(),children:m(N,{locale:i})},N.getFullYear())})})}function Rq(t,a){var s=o.useState(t),r=s[0],n=s[1],l=a===void 0?r:a;return[l,n]}function Hq(t){var a=t.month,s=t.defaultMonth,r=t.today,n=a||s||r||new Date,l=t.toDate,i=t.fromDate,c=t.numberOfMonths,u=c===void 0?1:c;if(l&&uh(l,n)<0){var h=-1*(u-1);n=Gi(l,h)}return i&&uh(n,i)<0&&(n=i),tl(n)}function Uq(){var t=xr(),a=Hq(t),s=Rq(a,t.month),r=s[0],n=s[1],l=function(i){var c;if(!t.disableNavigation){var u=tl(i);n(u),(c=t.onMonthChange)===null||c===void 0||c.call(t,u)}};return[r,l]}function $q(t,a){for(var s=a.reverseMonths,r=a.numberOfMonths,n=tl(t),l=tl(Gi(n,r)),i=uh(l,n),c=[],u=0;u<i;u++){var h=Gi(n,u);c.push(h)}return s&&(c=c.reverse()),c}function Wq(t,a){if(!a.disableNavigation){var s=a.toDate,r=a.pagedNavigation,n=a.numberOfMonths,l=n===void 0?1:n,i=r?l:1,c=tl(t);if(!s)return Gi(c,i);var u=uh(s,t);if(!(u<l))return Gi(c,i)}}function Gq(t,a){if(!a.disableNavigation){var s=a.fromDate,r=a.pagedNavigation,n=a.numberOfMonths,l=n===void 0?1:n,i=r?l:1,c=tl(t);if(!s)return Gi(c,-i);var u=uh(c,s);if(!(u<=0))return Gi(c,-i)}}var v5=o.createContext(void 0);function zq(t){var a=xr(),s=Uq(),r=s[0],n=s[1],l=$q(r,a),i=Wq(r,a),c=Gq(r,a),u=function(b){return l.some(function(g){return Vw(b,g)})},h=function(b,g){u(b)||(g&&p5(b,g)?n(Gi(b,1+a.numberOfMonths*-1)):n(b))},m={currentMonth:r,displayMonths:l,goToMonth:n,goToDate:h,previousMonth:c,nextMonth:i,isDateDisplayed:u};return e.jsx(v5.Provider,{value:m,children:t.children})}function Uh(){var t=o.useContext(v5);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function HC(t){var a,s=xr(),r=s.classNames,n=s.styles,l=s.components,i=Uh().goToMonth,c=function(m){i(Gi(m,t.displayIndex?-t.displayIndex:0))},u=(a=l?.CaptionLabel)!==null&&a!==void 0?a:y5,h=e.jsx(u,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:r.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:r.vhidden,children:h}),e.jsx(_q,{onChange:c,displayMonth:t.displayMonth}),e.jsx(Bq,{onChange:c,displayMonth:t.displayMonth})]})}function Vq(t){return e.jsx("svg",Ks({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Yq(t){return e.jsx("svg",Ks({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Eg=o.forwardRef(function(t,a){var s=xr(),r=s.classNames,n=s.styles,l=[r.button_reset,r.button];t.className&&l.push(t.className);var i=l.join(" "),c=Ks(Ks({},n.button_reset),n.button);return t.style&&Object.assign(c,t.style),e.jsx("button",Ks({},t,{ref:a,type:"button",className:i,style:c}))});function Kq(t){var a,s,r=xr(),n=r.dir,l=r.locale,i=r.classNames,c=r.styles,u=r.labels,h=u.labelPrevious,m=u.labelNext,b=r.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var g=h(t.previousMonth,{locale:l}),w=[i.nav_button,i.nav_button_previous].join(" "),p=m(t.nextMonth,{locale:l}),v=[i.nav_button,i.nav_button_next].join(" "),f=(a=b?.IconRight)!==null&&a!==void 0?a:Yq,y=(s=b?.IconLeft)!==null&&s!==void 0?s:Vq;return e.jsxs("div",{className:i.nav,style:c.nav,children:[!t.hidePrevious&&e.jsx(Eg,{name:"previous-month","aria-label":g,className:w,style:c.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(f,{className:i.nav_icon,style:c.nav_icon}):e.jsx(y,{className:i.nav_icon,style:c.nav_icon})}),!t.hideNext&&e.jsx(Eg,{name:"next-month","aria-label":p,className:v,style:c.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(y,{className:i.nav_icon,style:c.nav_icon}):e.jsx(f,{className:i.nav_icon,style:c.nav_icon})})]})}function UC(t){var a=xr().numberOfMonths,s=Uh(),r=s.previousMonth,n=s.nextMonth,l=s.goToMonth,i=s.displayMonths,c=i.findIndex(function(p){return Vw(t.displayMonth,p)}),u=c===0,h=c===i.length-1,m=a>1&&(u||!h),b=a>1&&(h||!u),g=function(){r&&l(r)},w=function(){n&&l(n)};return e.jsx(Kq,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:b,nextMonth:n,previousMonth:r,onPreviousClick:g,onNextClick:w})}function qq(t){var a,s=xr(),r=s.classNames,n=s.disableNavigation,l=s.styles,i=s.captionLayout,c=s.components,u=(a=c?.CaptionLabel)!==null&&a!==void 0?a:y5,h;return n?h=e.jsx(u,{id:t.id,displayMonth:t.displayMonth}):i==="dropdown"?h=e.jsx(HC,{displayMonth:t.displayMonth,id:t.id}):i==="dropdown-buttons"?h=e.jsxs(e.Fragment,{children:[e.jsx(HC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(UC,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):h=e.jsxs(e.Fragment,{children:[e.jsx(u,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(UC,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:r.caption,style:l.caption,children:h})}function Xq(t){var a=xr(),s=a.footer,r=a.styles,n=a.classNames.tfoot;return s?e.jsx("tfoot",{className:n,style:r.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function Jq(t,a,s){for(var r=s?e0(new Date):Cc(new Date,{locale:t,weekStartsOn:a}),n=[],l=0;l<7;l++){var i=ko(r,l);n.push(i)}return n}function Qq(){var t=xr(),a=t.classNames,s=t.styles,r=t.showWeekNumber,n=t.locale,l=t.weekStartsOn,i=t.ISOWeek,c=t.formatters.formatWeekdayName,u=t.labels.labelWeekday,h=Jq(n,l,i);return e.jsxs("tr",{style:s.head_row,className:a.head_row,children:[r&&e.jsx("td",{style:s.head_cell,className:a.head_cell}),h.map(function(m,b){return e.jsx("th",{scope:"col",className:a.head_cell,style:s.head_cell,"aria-label":u(m,{locale:n}),children:c(m,{locale:n})},b)})]})}function Zq(){var t,a=xr(),s=a.classNames,r=a.styles,n=a.components,l=(t=n?.HeadRow)!==null&&t!==void 0?t:Qq;return e.jsx("thead",{style:r.head,className:s.head,children:e.jsx(l,{})})}function eX(t){var a=xr(),s=a.locale,r=a.formatters.formatDay;return e.jsx(e.Fragment,{children:r(t.date,{locale:s})})}var Yw=o.createContext(void 0);function tX(t){if(!Rh(t.initialProps)){var a={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Yw.Provider,{value:a,children:t.children})}return e.jsx(sX,{initialProps:t.initialProps,children:t.children})}function sX(t){var a=t.initialProps,s=t.children,r=a.selected,n=a.min,l=a.max,i=function(h,m,b){var g,w;(g=a.onDayClick)===null||g===void 0||g.call(a,h,m,b);var p=!!(m.selected&&n&&r?.length===n);if(!p){var v=!!(!m.selected&&l&&r?.length===l);if(!v){var f=r?g5([],r):[];if(m.selected){var y=f.findIndex(function(N){return Xo(h,N)});f.splice(y,1)}else f.push(h);(w=a.onSelect)===null||w===void 0||w.call(a,f,h,m,b)}}},c={disabled:[]};r&&c.disabled.push(function(h){var m=l&&r.length>l-1,b=r.some(function(g){return Xo(g,h)});return!!(m&&!b)});var u={selected:r,onDayClick:i,modifiers:c};return e.jsx(Yw.Provider,{value:u,children:s})}function Kw(){var t=o.useContext(Yw);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function aX(t,a){var s=a||{},r=s.from,n=s.to;return r&&n?Xo(n,t)&&Xo(r,t)?void 0:Xo(n,t)?{from:n,to:void 0}:Xo(r,t)?void 0:xv(r,t)?{from:t,to:n}:{from:r,to:t}:n?xv(t,n)?{from:n,to:t}:{from:t,to:n}:r?p5(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var qw=o.createContext(void 0);function rX(t){if(!Hh(t.initialProps)){var a={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(qw.Provider,{value:a,children:t.children})}return e.jsx(nX,{initialProps:t.initialProps,children:t.children})}function nX(t){var a=t.initialProps,s=t.children,r=a.selected,n=r||{},l=n.from,i=n.to,c=a.min,u=a.max,h=function(w,p,v){var f,y;(f=a.onDayClick)===null||f===void 0||f.call(a,w,p,v);var N=aX(w,r);(y=a.onSelect)===null||y===void 0||y.call(a,N,w,p,v)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(m.range_start=[l],i?(m.range_end=[i],Xo(l,i)||(m.range_middle=[{after:l,before:i}])):m.range_end=[l]):i&&(m.range_start=[i],m.range_end=[i]),c&&(l&&!i&&m.disabled.push({after:$y(l,c-1),before:ko(l,c-1)}),l&&i&&m.disabled.push({after:l,before:ko(l,c-1)}),!l&&i&&m.disabled.push({after:$y(i,c-1),before:ko(i,c-1)})),u){if(l&&!i&&(m.disabled.push({before:ko(l,-u+1)}),m.disabled.push({after:ko(l,u-1)})),l&&i){var b=bc(i,l)+1,g=u-b;m.disabled.push({before:$y(l,g)}),m.disabled.push({after:ko(i,g)})}!l&&i&&(m.disabled.push({before:ko(i,-u+1)}),m.disabled.push({after:ko(i,u-1)}))}return e.jsx(qw.Provider,{value:{selected:r,onDayClick:h,modifiers:m},children:s})}function Xw(){var t=o.useContext(qw);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function qp(t){return Array.isArray(t)?g5([],t):t!==void 0?[t]:[]}function oX(t){var a={};return Object.entries(t).forEach(function(s){var r=s[0],n=s[1];a[r]=qp(n)}),a}var zi;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(zi||(zi={}));var lX=zi.Selected,sd=zi.Disabled,iX=zi.Hidden,cX=zi.Today,Gy=zi.RangeEnd,zy=zi.RangeMiddle,Vy=zi.RangeStart,dX=zi.Outside;function uX(t,a,s){var r,n=(r={},r[lX]=qp(t.selected),r[sd]=qp(t.disabled),r[iX]=qp(t.hidden),r[cX]=[t.today],r[Gy]=[],r[zy]=[],r[Vy]=[],r[dX]=[],r);return t.fromDate&&n[sd].push({before:t.fromDate}),t.toDate&&n[sd].push({after:t.toDate}),Rh(t)?n[sd]=n[sd].concat(a.modifiers[sd]):Hh(t)&&(n[sd]=n[sd].concat(s.modifiers[sd]),n[Vy]=s.modifiers[Vy],n[zy]=s.modifiers[zy],n[Gy]=s.modifiers[Gy]),n}var w5=o.createContext(void 0);function xX(t){var a=xr(),s=Kw(),r=Xw(),n=uX(a,s,r),l=oX(a.modifiers),i=Ks(Ks({},n),l);return e.jsx(w5.Provider,{value:i,children:t.children})}function N5(){var t=o.useContext(w5);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function hX(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function mX(t){return!!(t&&typeof t=="object"&&"from"in t)}function pX(t){return!!(t&&typeof t=="object"&&"after"in t)}function gX(t){return!!(t&&typeof t=="object"&&"before"in t)}function fX(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function yX(t,a){var s,r=a.from,n=a.to;if(r&&n){var l=bc(n,r)<0;l&&(s=[n,r],r=s[0],n=s[1]);var i=bc(t,r)>=0&&bc(n,t)>=0;return i}return n?Xo(n,t):r?Xo(r,t):!1}function bX(t){return Ww(t)}function vX(t){return Array.isArray(t)&&t.every(Ww)}function wX(t,a){return a.some(function(s){if(typeof s=="boolean")return s;if(bX(s))return Xo(t,s);if(vX(s))return s.includes(t);if(mX(s))return yX(t,s);if(fX(s))return s.dayOfWeek.includes(t.getDay());if(hX(s)){var r=bc(s.before,t),n=bc(s.after,t),l=r>0,i=n<0,c=xv(s.before,s.after);return c?i&&l:l||i}return pX(s)?bc(t,s.after)>0:gX(s)?bc(s.before,t)>0:typeof s=="function"?s(t):!1})}function Jw(t,a,s){var r=Object.keys(a).reduce(function(l,i){var c=a[i];return wX(t,c)&&l.push(i),l},[]),n={};return r.forEach(function(l){return n[l]=!0}),s&&!Vw(t,s)&&(n.outside=!0),n}function NX(t,a){for(var s=tl(t[0]),r=Gw(t[t.length-1]),n,l,i=s;i<=r;){var c=Jw(i,a),u=!c.disabled&&!c.hidden;if(!u){i=ko(i,1);continue}if(c.selected)return i;c.today&&!l&&(l=i),n||(n=i),i=ko(i,1)}return l||n}var jX=365;function j5(t,a){var s=a.moveBy,r=a.direction,n=a.context,l=a.modifiers,i=a.retry,c=i===void 0?{count:0,lastFocused:t}:i,u=n.weekStartsOn,h=n.fromDate,m=n.toDate,b=n.locale,g={day:ko,week:uv,month:Gi,year:uK,startOfWeek:function(f){return n.ISOWeek?e0(f):Cc(f,{locale:b,weekStartsOn:u})},endOfWeek:function(f){return n.ISOWeek?c5(f):zw(f,{locale:b,weekStartsOn:u})}},w=g[s](t,r==="after"?1:-1);r==="before"&&h?w=xK([h,w]):r==="after"&&m&&(w=hK([m,w]));var p=!0;if(l){var v=Jw(w,l);p=!v.disabled&&!v.hidden}return p?w:c.count>jX?c.lastFocused:j5(w,{moveBy:s,direction:r,context:n,modifiers:l,retry:Ks(Ks({},c),{count:c.count+1})})}var C5=o.createContext(void 0);function CX(t){var a=Uh(),s=N5(),r=o.useState(),n=r[0],l=r[1],i=o.useState(),c=i[0],u=i[1],h=NX(a.displayMonths,s),m=n??(c&&a.isDateDisplayed(c))?c:h,b=function(){u(n),l(void 0)},g=function(f){l(f)},w=xr(),p=function(f,y){if(n){var N=j5(n,{moveBy:f,direction:y,context:w,modifiers:s});Xo(n,N)||(a.goToDate(N,n),g(N))}},v={focusedDay:n,focusTarget:m,blur:b,focus:g,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return e.jsx(C5.Provider,{value:v,children:t.children})}function Qw(){var t=o.useContext(C5);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function SX(t,a){var s=N5(),r=Jw(t,s,a);return r}var Zw=o.createContext(void 0);function kX(t){if(!sf(t.initialProps)){var a={selected:void 0};return e.jsx(Zw.Provider,{value:a,children:t.children})}return e.jsx(DX,{initialProps:t.initialProps,children:t.children})}function DX(t){var a=t.initialProps,s=t.children,r=function(l,i,c){var u,h,m;if((u=a.onDayClick)===null||u===void 0||u.call(a,l,i,c),i.selected&&!a.required){(h=a.onSelect)===null||h===void 0||h.call(a,void 0,l,i,c);return}(m=a.onSelect)===null||m===void 0||m.call(a,l,l,i,c)},n={selected:a.selected,onDayClick:r};return e.jsx(Zw.Provider,{value:n,children:s})}function S5(){var t=o.useContext(Zw);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function EX(t,a){var s=xr(),r=S5(),n=Kw(),l=Xw(),i=Qw(),c=i.focusDayAfter,u=i.focusDayBefore,h=i.focusWeekAfter,m=i.focusWeekBefore,b=i.blur,g=i.focus,w=i.focusMonthBefore,p=i.focusMonthAfter,v=i.focusYearBefore,f=i.focusYearAfter,y=i.focusStartOfWeek,N=i.focusEndOfWeek,C=function(ne){var H,se,we,Y;sf(s)?(H=r.onDayClick)===null||H===void 0||H.call(r,t,a,ne):Rh(s)?(se=n.onDayClick)===null||se===void 0||se.call(n,t,a,ne):Hh(s)?(we=l.onDayClick)===null||we===void 0||we.call(l,t,a,ne):(Y=s.onDayClick)===null||Y===void 0||Y.call(s,t,a,ne)},S=function(ne){var H;g(t),(H=s.onDayFocus)===null||H===void 0||H.call(s,t,a,ne)},I=function(ne){var H;b(),(H=s.onDayBlur)===null||H===void 0||H.call(s,t,a,ne)},k=function(ne){var H;(H=s.onDayMouseEnter)===null||H===void 0||H.call(s,t,a,ne)},A=function(ne){var H;(H=s.onDayMouseLeave)===null||H===void 0||H.call(s,t,a,ne)},F=function(ne){var H;(H=s.onDayPointerEnter)===null||H===void 0||H.call(s,t,a,ne)},O=function(ne){var H;(H=s.onDayPointerLeave)===null||H===void 0||H.call(s,t,a,ne)},M=function(ne){var H;(H=s.onDayTouchCancel)===null||H===void 0||H.call(s,t,a,ne)},U=function(ne){var H;(H=s.onDayTouchEnd)===null||H===void 0||H.call(s,t,a,ne)},L=function(ne){var H;(H=s.onDayTouchMove)===null||H===void 0||H.call(s,t,a,ne)},G=function(ne){var H;(H=s.onDayTouchStart)===null||H===void 0||H.call(s,t,a,ne)},re=function(ne){var H;(H=s.onDayKeyUp)===null||H===void 0||H.call(s,t,a,ne)},ye=function(ne){var H;switch(ne.key){case"ArrowLeft":ne.preventDefault(),ne.stopPropagation(),s.dir==="rtl"?c():u();break;case"ArrowRight":ne.preventDefault(),ne.stopPropagation(),s.dir==="rtl"?u():c();break;case"ArrowDown":ne.preventDefault(),ne.stopPropagation(),h();break;case"ArrowUp":ne.preventDefault(),ne.stopPropagation(),m();break;case"PageUp":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?v():w();break;case"PageDown":ne.preventDefault(),ne.stopPropagation(),ne.shiftKey?f():p();break;case"Home":ne.preventDefault(),ne.stopPropagation(),y();break;case"End":ne.preventDefault(),ne.stopPropagation(),N();break}(H=s.onDayKeyDown)===null||H===void 0||H.call(s,t,a,ne)},K={onClick:C,onFocus:S,onBlur:I,onKeyDown:ye,onKeyUp:re,onMouseEnter:k,onMouseLeave:A,onPointerEnter:F,onPointerLeave:O,onTouchCancel:M,onTouchEnd:U,onTouchMove:L,onTouchStart:G};return K}function TX(){var t=xr(),a=S5(),s=Kw(),r=Xw(),n=sf(t)?a.selected:Rh(t)?s.selected:Hh(t)?r.selected:void 0;return n}function AX(t){return Object.values(zi).includes(t)}function FX(t,a){var s=[t.classNames.day];return Object.keys(a).forEach(function(r){var n=t.modifiersClassNames[r];if(n)s.push(n);else if(AX(r)){var l=t.classNames["day_".concat(r)];l&&s.push(l)}}),s}function PX(t,a){var s=Ks({},t.styles.day);return Object.keys(a).forEach(function(r){var n;s=Ks(Ks({},s),(n=t.modifiersStyles)===null||n===void 0?void 0:n[r])}),s}function IX(t,a,s){var r,n,l,i=xr(),c=Qw(),u=SX(t,a),h=EX(t,u),m=TX(),b=!!(i.onDayClick||i.mode!=="default");o.useEffect(function(){var k;u.outside||c.focusedDay&&b&&Xo(c.focusedDay,t)&&((k=s.current)===null||k===void 0||k.focus())},[c.focusedDay,t,s,b,u.outside]);var g=FX(i,u).join(" "),w=PX(i,u),p=!!(u.outside&&!i.showOutsideDays||u.hidden),v=(l=(n=i.components)===null||n===void 0?void 0:n.DayContent)!==null&&l!==void 0?l:eX,f=e.jsx(v,{date:t,displayMonth:a,activeModifiers:u}),y={style:w,className:g,children:f,role:"gridcell"},N=c.focusTarget&&Xo(c.focusTarget,t)&&!u.outside,C=c.focusedDay&&Xo(c.focusedDay,t),S=Ks(Ks(Ks({},y),(r={disabled:u.disabled,role:"gridcell"},r["aria-selected"]=u.selected,r.tabIndex=C||N?0:-1,r)),h),I={isButton:b,isHidden:p,activeModifiers:u,selectedDays:m,buttonProps:S,divProps:y};return I}function MX(t){var a=o.useRef(null),s=IX(t.date,t.displayMonth,a);return s.isHidden?e.jsx("div",{role:"gridcell"}):s.isButton?e.jsx(Eg,Ks({name:"day",ref:a},s.buttonProps)):e.jsx("div",Ks({},s.divProps))}function LX(t){var a=t.number,s=t.dates,r=xr(),n=r.onWeekNumberClick,l=r.styles,i=r.classNames,c=r.locale,u=r.labels.labelWeekNumber,h=r.formatters.formatWeekNumber,m=h(Number(a),{locale:c});if(!n)return e.jsx("span",{className:i.weeknumber,style:l.weeknumber,children:m});var b=u(Number(a),{locale:c}),g=function(w){n(a,s,w)};return e.jsx(Eg,{name:"week-number","aria-label":b,className:i.weeknumber,style:l.weeknumber,onClick:g,children:m})}function OX(t){var a,s,r=xr(),n=r.styles,l=r.classNames,i=r.showWeekNumber,c=r.components,u=(a=c?.Day)!==null&&a!==void 0?a:MX,h=(s=c?.WeekNumber)!==null&&s!==void 0?s:LX,m;return i&&(m=e.jsx("td",{className:l.cell,style:n.cell,children:e.jsx(h,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:l.row,style:n.row,children:[m,t.dates.map(function(b){return e.jsx("td",{className:l.cell,style:n.cell,role:"presentation",children:e.jsx(u,{displayMonth:t.displayMonth,date:b})},xq(b))})]})}function $C(t,a,s){for(var r=s?.ISOWeek?c5(a):zw(a,s),n=s?.ISOWeek?e0(t):Cc(t,s),l=bc(r,n),i=[],c=0;c<=l;c++)i.push(ko(n,c));var u=i.reduce(function(h,m){var b=s?.ISOWeek?u5(m):h5(m,s),g=h.find(function(w){return w.weekNumber===b});return g?(g.dates.push(m),h):(h.push({weekNumber:b,dates:[m]}),h)},[]);return u}function _X(t,a){var s=$C(tl(t),Gw(t),a);if(a?.useFixedWeeks){var r=mq(t,a);if(r<6){var n=s[s.length-1],l=n.dates[n.dates.length-1],i=uv(l,6-r),c=$C(uv(l,1),i,a);s.push.apply(s,c)}}return s}function BX(t){var a,s,r,n=xr(),l=n.locale,i=n.classNames,c=n.styles,u=n.hideHead,h=n.fixedWeeks,m=n.components,b=n.weekStartsOn,g=n.firstWeekContainsDate,w=n.ISOWeek,p=_X(t.displayMonth,{useFixedWeeks:!!h,ISOWeek:w,locale:l,weekStartsOn:b,firstWeekContainsDate:g}),v=(a=m?.Head)!==null&&a!==void 0?a:Zq,f=(s=m?.Row)!==null&&s!==void 0?s:OX,y=(r=m?.Footer)!==null&&r!==void 0?r:Xq;return e.jsxs("table",{id:t.id,className:i.table,style:c.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!u&&e.jsx(v,{}),e.jsx("tbody",{className:i.tbody,style:c.tbody,children:p.map(function(N){return e.jsx(f,{displayMonth:t.displayMonth,dates:N.dates,weekNumber:N.weekNumber},N.weekNumber)})}),e.jsx(y,{displayMonth:t.displayMonth})]})}function RX(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var HX=RX()?o.useLayoutEffect:o.useEffect,Yy=!1,UX=0;function WC(){return"react-day-picker-".concat(++UX)}function $X(t){var a,s=t??(Yy?WC():null),r=o.useState(s),n=r[0],l=r[1];return HX(function(){n===null&&l(WC())},[]),o.useEffect(function(){Yy===!1&&(Yy=!0)},[]),(a=t??n)!==null&&a!==void 0?a:void 0}function WX(t){var a,s,r=xr(),n=r.dir,l=r.classNames,i=r.styles,c=r.components,u=Uh().displayMonths,h=$X(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),m=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,b=[l.month],g=i.month,w=t.displayIndex===0,p=t.displayIndex===u.length-1,v=!w&&!p;n==="rtl"&&(a=[w,p],p=a[0],w=a[1]),w&&(b.push(l.caption_start),g=Ks(Ks({},g),i.caption_start)),p&&(b.push(l.caption_end),g=Ks(Ks({},g),i.caption_end)),v&&(b.push(l.caption_between),g=Ks(Ks({},g),i.caption_between));var f=(s=c?.Caption)!==null&&s!==void 0?s:qq;return e.jsxs("div",{className:b.join(" "),style:g,children:[e.jsx(f,{id:h,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(BX,{id:m,"aria-labelledby":h,displayMonth:t.displayMonth})]},t.displayIndex)}function GX(t){var a=xr(),s=a.classNames,r=a.styles;return e.jsx("div",{className:s.months,style:r.months,children:t.children})}function zX(t){var a,s,r=t.initialProps,n=xr(),l=Qw(),i=Uh(),c=o.useState(!1),u=c[0],h=c[1];o.useEffect(function(){n.initialFocus&&l.focusTarget&&(u||(l.focus(l.focusTarget),h(!0)))},[n.initialFocus,u,l.focus,l.focusTarget,l]);var m=[n.classNames.root,n.className];n.numberOfMonths>1&&m.push(n.classNames.multiple_months),n.showWeekNumber&&m.push(n.classNames.with_weeknumber);var b=Ks(Ks({},n.styles.root),n.style),g=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,v){var f;return Ks(Ks({},p),(f={},f[v]=r[v],f))},{}),w=(s=(a=r.components)===null||a===void 0?void 0:a.Months)!==null&&s!==void 0?s:GX;return e.jsx("div",Ks({className:m.join(" "),style:b,dir:n.dir,id:n.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:e.jsx(w,{children:i.displayMonths.map(function(p,v){return e.jsx(WX,{displayIndex:v,displayMonth:p},v)})})}))}function VX(t){var a=t.children,s=gq(t,["children"]);return e.jsx(Lq,{initialProps:s,children:e.jsx(zq,{children:e.jsx(kX,{initialProps:s,children:e.jsx(tX,{initialProps:s,children:e.jsx(rX,{initialProps:s,children:e.jsx(xX,{children:e.jsx(CX,{children:a})})})})})})})}function YX(t){return e.jsx(VX,Ks({},t,{children:e.jsx(zX,{initialProps:t})}))}const GC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zC=KD,KX=(t,a)=>s=>{var r;if(a?.variants==null)return zC(t,s?.class,s?.className);const{variants:n,defaultVariants:l}=a,i=Object.keys(n).map(h=>{const m=s?.[h],b=l?.[h];if(m===null)return null;const g=GC(m)||GC(b);return n[h][g]}),c=s&&Object.entries(s).reduce((h,m)=>{let[b,g]=m;return g===void 0||(h[b]=g),h},{}),u=a==null||(r=a.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:b,className:g,...w}=m;return Object.entries(w).every(p=>{let[v,f]=p;return Array.isArray(f)?f.includes({...l,...c}[v]):{...l,...c}[v]===f})?[...h,b,g]:h},[]);return zC(t,i,u,s?.class,s?.className)},VC=KX("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function hv({className:t,classNames:a,showOutsideDays:s=!0,...r}){return e.jsx(YX,{showOutsideDays:s,className:Pu("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Pu(VC({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Pu("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Pu(VC({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...a},components:{IconLeft:({className:n,...l})=>e.jsx(a0,{className:Pu("size-4",n),...l}),IconRight:({className:n,...l})=>e.jsx(vc,{className:Pu("size-4",n),...l})},...r})}function qX(){const[t,a]=o.useState("3/1/2020"),[s,r]=o.useState("03/15/2020"),[n,l]=o.useState("all"),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(null),[g,w]=o.useState(!1),[p,v]=o.useState(!1),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState(""),[M,U]=o.useState(""),[L,G]=o.useState(""),re=[{empCode:"Z1047",empName:"PERLITA, MANALO LUCAS",workshiftCode:"730AM08PM",actualDateIn:"3/2/2020",dateIn:"3/2/2020",timeIn:"7:00 PM",dateOut:"3/2/2020",timeOut:"9:58 PM",dayType:"RegDay"}],ye=P=>{b(P),y(P.empCode),C(P.workshiftCode),I(P.actualDateIn),A(P.dateIn),O(P.timeIn),U(P.dateOut),G(P.timeOut),h(!0)},K=()=>{y(""),C(""),I(""),A(""),O(""),U(""),G(""),c(!0)},ne=()=>{console.log("Submitting form..."),c(!1),h(!1)},H=P=>{confirm(`Are you sure you want to delete record for ${P}?`)&&console.log("Deleting:",P)},se=P=>{if(!P)return;const V=P.split("/");if(V.length===3){const D=parseInt(V[0])-1,R=parseInt(V[1]),ee=parseInt(V[2]);if(!isNaN(D)&&!isNaN(R)&&!isNaN(ee))return new Date(ee,D,R)}},we=P=>{if(!P)return"";const V=P.getMonth()+1,D=P.getDate(),R=P.getFullYear();return`${V}/${D}/${R}`},Y=P=>{P&&(a(we(P)),w(!1))},E=P=>{P&&(r(we(P)),v(!1))};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Raw Data OT Gap"}),e.jsx("p",{className:"text-gray-600",children:"Manage overtime gap records and adjustments"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs("button",{onClick:K,className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-700 hover:to-red-700 transition-all shadow-lg shadow-orange-500/30 mb-4",children:[e.jsx(Es,{className:"w-5 h-5"}),e.jsx("span",{children:"Create New"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"viewMode",checked:n==="all",onChange:()=>l("all"),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-2 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700",children:"All Records"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"viewMode",checked:n==="specific",onChange:()=>l("specific"),className:"w-4 h-4 text-orange-600 border-gray-300 focus:ring-2 focus:ring-orange-500"}),e.jsx("span",{className:"text-gray-700",children:"Specific Records"})]})]})]}),e.jsx("div",{className:"lg:col-span-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date From"}),e.jsxs("div",{className:"flex gap-0",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10 pointer-events-none"}),e.jsx("input",{type:"text",value:t,onChange:P=>a(P.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs(iv,{open:g,onOpenChange:w,children:[e.jsx(cv,{asChild:!0,children:e.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-r-xl hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(hs,{className:"w-4 h-4"})})}),e.jsx(dv,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(hv,{mode:"single",selected:se(t),onSelect:Y,initialFocus:!0})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date To"}),e.jsxs("div",{className:"flex gap-0",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-10 pointer-events-none"}),e.jsx("input",{type:"text",value:s,onChange:P=>r(P.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-300 rounded-l-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs(iv,{open:p,onOpenChange:v,children:[e.jsx(cv,{asChild:!0,children:e.jsx("button",{type:"button",className:"flex items-center justify-center px-4 py-2.5 bg-blue-600 text-white rounded-r-xl hover:bg-blue-700 transition-colors shadow-sm",children:e.jsx(hs,{className:"w-4 h-4"})})}),e.jsx(dv,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(hv,{mode:"single",selected:se(s),onSelect:E,initialFocus:!0})})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3 flex items-end",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-6 py-3 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition-colors",children:[e.jsx(Ut,{className:"w-5 h-5"}),e.jsx("span",{children:"Search"})]})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"OT Gap Records"}),e.jsxs("span",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:["Showing ",re.length," ",re.length===1?"entry":"entries"]})]}),e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-orange-50 to-red-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Actions"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Employee Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Actual Date-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Date-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Time-In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Date-Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"Time-Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 whitespace-nowrap",style:{fontSize:"0.875rem"},children:"DayType"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:re.map((P,V)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ye(P),className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 p-1.5 rounded-lg transition-colors",children:"Edit"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>H(P.empCode),className:"text-red-600 hover:text-red-700 hover:bg-red-50 p-1.5 rounded-lg transition-colors",children:"Delete"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:P.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:P.empName}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:P.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:P.actualDateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:P.dateIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:P.timeIn}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:P.dateOut}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:P.timeOut}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"px-2.5 py-1 bg-blue-100 text-blue-700 rounded-lg",style:{fontSize:"0.75rem"},children:P.dayType})})]},V))})]})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:["Showing 1 to ",re.length," of ",re.length," ",re.length===1?"entry":"entries"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-orange-600 text-white rounded-lg",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Next"})]})]})]})]}),(i||u)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h3",{className:"text-gray-900",children:u?"Edit Record":"Create New Record"}),e.jsx("button",{onClick:()=>{c(!1),h(!1)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ot,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:f,onChange:P=>y(P.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter employee code"}),e.jsx("button",{className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:e.jsx(Ut,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"WorkShift Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:N,onChange:P=>C(P.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"Enter workshift code"}),e.jsx("button",{className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:e.jsx(Ut,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Actual Date In"}),e.jsxs("div",{className:"relative",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:S,onChange:P=>I(P.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date In"}),e.jsxs("div",{className:"relative",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:k,onChange:P=>A(P.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Time In"}),e.jsxs("div",{className:"relative",children:[e.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:F,onChange:P=>O(P.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"HH:MM AM/PM"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Date Out"}),e.jsxs("div",{className:"relative",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:M,onChange:P=>U(P.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"MM/DD/YYYY"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Time Out"}),e.jsxs("div",{className:"relative",children:[e.jsx(ur,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:L,onChange:P=>G(P.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"HH:MM AM/PM"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-2xl",children:[e.jsx("button",{onClick:()=>{c(!1),h(!1)},className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:ne,className:"flex items-center space-x-2 px-6 py-2.5 bg-gradient-to-r from-orange-600 to-red-600 text-white rounded-xl hover:from-orange-700 hover:to-red-700 transition-all shadow-lg shadow-orange-500/30",children:[e.jsx(za,{className:"w-4 h-4"}),e.jsx("span",{children:"Submit"})]})]})]})})]})}function Ga({onDateSelect:t,onClose:a}){const[s,r]=o.useState(new Date().getMonth()),[n,l]=o.useState(new Date().getFullYear()),i=["January","February","March","April","May","June","July","August","September","October","November","December"],c=(S,I)=>new Date(I,S+1,0).getDate(),u=(S,I)=>new Date(I,S,1).getDay(),h=[],m=new Date().getFullYear();for(let S=1900;S<=m+10;S++)h.push(S);const b=c(s,n),g=[];for(let S=1;S<=b;S++)g.push(S);const w=()=>{s===0?(r(11),l(n-1)):r(s-1)},p=()=>{s===11?(r(0),l(n+1)):r(s+1)},v=S=>{r(S)},f=S=>{l(S)},y=S=>{const I=`${s+1}/${S}/${n}`;t(I),a()},N=S=>{const I=`${s+1}/${S}/${n}`;t(I),a()},C=()=>{const S=c(s,n),I=u(s,n),k=[],A=I,F=s===0?11:s-1,O=s===0?n-1:n,M=c(F,O);for(let L=A-1;L>=0;L--)k.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:M-L},`prev-${L}`));for(let L=1;L<=S;L++)k.push(e.jsx("div",{onClick:()=>N(L),className:"text-center py-2 text-sm hover:bg-blue-100 cursor-pointer rounded",children:L},L));const U=42-k.length;for(let L=1;L<=U;L++)k.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:L},`next-${L}`));return k};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:a}),e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-lg shadow-lg p-3 z-50",style:{width:"320px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("button",{onClick:w,type:"button",className:"p-1 hover:bg-gray-100 rounded",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:s,onChange:S=>v(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:i.map((S,I)=>e.jsx("option",{value:I,children:S},S))}),e.jsxs("select",{onChange:S=>y(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700 w-16",children:[e.jsx("option",{value:"",children:"Day"}),g.map(S=>e.jsx("option",{value:S,children:S},S))]}),e.jsx("select",{value:n,onChange:S=>f(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsx("button",{onClick:p,type:"button",className:"p-1 hover:bg-gray-100 rounded",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Su"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Mo"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Tu"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"We"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Th"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Fr"}),e.jsx("div",{className:"text-center text-xs font-medium text-gray-600 py-1",children:"Sa"}),C()]})]})]})}function wr({isOpen:t,onClose:a,onSelect:s,employees:r,loading:n,error:l}){const[i,c]=o.useState(""),[u,h]=o.useState(1),m=20;o.useEffect(()=>{const y=N=>{N.key==="Escape"&&t&&a()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,a]),o.useEffect(()=>{t&&(c(""),h(1))},[t]);const b=r.filter(y=>{const N=i.toLowerCase();return(y.empCode?.toLowerCase()||"").includes(N)||(y.name?.toLowerCase()||"").includes(N)||(y.groupCode?.toLowerCase()||"").includes(N)}),g=Math.ceil(b.length/m),w=(u-1)*m,p=w+m,v=b.slice(w,p),f=()=>{const y=[];if(g<=5)return Array.from({length:g},(I,k)=>k+1);y.push(1),u>3&&y.push("...");const C=Math.max(2,u-1),S=Math.min(g-1,u+1);for(let I=C;I<=S;I++)y.push(I);return u<g-2&&y.push("..."),y.push(g),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{c(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading employees..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Group Code"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(y.empCode,y.name,y.groupCode),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.empCode}),e.jsx("td",{className:"px-3 py-1.5",children:y.name}),e.jsx("td",{className:"px-3 py-1.5",children:y.groupCode})]},y.empCode)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No employees found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:w+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:u===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),f().map((y,N)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${N}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${u===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,g)),disabled:u===g||g===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function va({onTimeSelect:t,onClose:a,initialTime:s=""}){const[r,n]=o.useState("12"),[l,i]=o.useState("00"),[c,u]=o.useState("AM");o.useEffect(()=>{if(s){const g=s.match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/i);g&&(n(g[1].padStart(2,"0")),i(g[2]),u(g[3].toUpperCase()))}},[s]);const h=()=>{const g=`${r.padStart(2,"0")}:${l} ${c}`;t(g),a()},m=Array.from({length:12},(g,w)=>(w+1).toString().padStart(2,"0")),b=Array.from({length:60},(g,w)=>w.toString().padStart(2,"0"));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:a}),e.jsxs("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-2xl z-50 w-80",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 py-3 rounded-t-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ur,{className:"w-5 h-5 text-white"}),e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Select Time"})]}),e.jsx("button",{onClick:a,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-4xl font-bold text-gray-800",children:[e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center",children:r}),e.jsx("span",{className:"text-gray-400",children:":"}),e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center",children:l}),e.jsx("span",{className:"bg-white px-4 py-2 rounded-lg shadow-sm min-w-[70px] text-center text-2xl",children:c})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Hour"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:r,onChange:g=>n(g.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-semibold appearance-none bg-white cursor-pointer hover:border-gray-300 transition-colors",children:m.map(g=>e.jsx("option",{value:g,children:g},g))}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Minute"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:l,onChange:g=>i(g.target.value),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-lg font-semibold appearance-none bg-white cursor-pointer hover:border-gray-300 transition-colors",children:b.map(g=>e.jsx("option",{value:g,children:g},g))}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Period"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{type:"button",onClick:()=>u("AM"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${c==="AM"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"AM"}),e.jsx("button",{type:"button",onClick:()=>u("PM"),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${c==="PM"?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"PM"})]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 mb-2 uppercase tracking-wide",children:"Quick Select"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{label:"9:00 AM",h:"09",m:"00",p:"AM"},{label:"12:00 PM",h:"12",m:"00",p:"PM"},{label:"1:00 PM",h:"01",m:"00",p:"PM"},{label:"5:00 PM",h:"05",m:"00",p:"PM"}].map(({label:g,h:w,m:p,p:v})=>e.jsx("button",{type:"button",onClick:()=>{n(w),i(p),u(v)},className:"px-2 py-1.5 text-xs font-medium text-gray-600 bg-gray-100 rounded hover:bg-gray-200 transition-colors",children:g},g))})]})]}),e.jsxs("div",{className:"px-4 pb-4 flex gap-2",children:[e.jsx("button",{onClick:a,className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-semibold",children:"Cancel"}),e.jsx("button",{onClick:h,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm",children:"OK"})]})]})]})}const Gm="/Maintenance/EmployeeRawDataOTGap",XX="/Maintenance/EmployeeMasterFile",JX="/Maintenance/WorkShift",YC=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`},Tu=t=>{if(!t)return new Date().toISOString();try{if(t.includes("/")){const[a,s,r]=t.split("/");return`${r}-${a.padStart(2,"0")}-${s.padStart(2,"0")}T00:00:00.000Z`}return new Date(t).toISOString()}catch{return new Date().toISOString()}},KC=(t,a="")=>{if(!t)return new Date().toISOString();try{let s=t;if(t.includes("/")){const[r,n,l]=t.split("/");s=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(a){const n=a.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2];return n[3]==="PM"&&l!==12&&(l+=12),n[3]==="AM"&&l===12&&(l=0),`${s}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${s}T00:00:00.000Z`}catch{return new Date().toISOString()}},xc=t=>{if(!t)return{date:"",time:""};try{const a=new Date(t),s=String(a.getUTCMonth()+1).padStart(2,"0"),r=String(a.getUTCDate()).padStart(2,"0"),n=a.getUTCFullYear();let l=a.getUTCHours();const i=String(a.getUTCMinutes()).padStart(2,"0"),c=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${s}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${c}`}}catch{return{date:"",time:""}}},qC=t=>{const a=t.trim().toUpperCase();if(!a)return"";const s=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(s.test(a)){const r=a.match(s);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t};function QX(){const[t,a]=o.useState(!1),[s,r]=o.useState("all"),[n,l]=o.useState(YC()),[i,c]=o.useState(YC()),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState(!1),[N,C]=o.useState([]),[S,I]=o.useState(!1),[k,A]=o.useState(""),[F,O]=o.useState("empCode"),[M,U]=o.useState("asc"),L=Oe=>{F===Oe?U(ke=>ke==="asc"?"desc":"asc"):(O(Oe),U("asc"))},[G,re]=o.useState(!1),[ye,K]=o.useState(null),[ne,H]=o.useState(!1),[se,we]=o.useState(""),[Y,E]=o.useState(""),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState(""),[ue,oe]=o.useState(""),[le,Q]=o.useState(""),[ve,Ce]=o.useState(""),[$e,Ae]=o.useState(""),[We,Re]=o.useState(!1),[et,B]=o.useState(!1),[q,Z]=o.useState(!1),[je,De]=o.useState(!1),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState(!1),[St,dt]=o.useState(!1),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState(""),[$t,lt]=o.useState(!1),[bt,Nt]=o.useState(""),[wt,It]=o.useState([]),[Dt,Ke]=o.useState(!1),[tt,Le]=o.useState(""),He=o.useCallback(async()=>{I(!0),A("");try{const Oe={dateFrom:Tu(n),dateTo:Tu(i)};s==="specific"&&g&&(Oe.empCode=g);const ke=await z.get(Gm,{params:Oe});if(ke.status===200&&ke.data){const Ie=Array.isArray(ke.data)?ke.data:[],te=new Date(Tu(n)).setUTCHours(0,0,0,0),Pe=new Date(Tu(i)).setUTCHours(23,59,0,0),ae=Ie.filter(me=>{if(!me.dateIn)return!1;const ce=new Date(me.dateIn).getTime();if(ce<te||ce>Pe)return!1;const Ge=!!me.dateOut&&me.dateOut.trim()!=="",yt=!!me.timeIn,Gt=!!me.timeOut,W=Ge&&yt&&Gt;return t?!W:W});C(ae)}}catch(Oe){const ke=Oe.response?.data?.message||Oe.message||"Failed to load records";A(ke),console.error("Error fetching OT gap records:",Oe)}finally{I(!1)}},[n,i,t,s,g]),ge=async()=>{pt(!0),Wt("");try{const Oe=await z.get(XX);if(Oe.status===200&&Oe.data){const ke=Oe.data.map(Ie=>({empCode:Ie.empCode||Ie.code||"",name:`${Ie.lName||""}, ${Ie.fName||""} ${Ie.mName||""}`.trim(),groupCode:Ie.grpCode||""}));pe(ke)}}catch(Oe){const ke=Oe.response?.data?.message||Oe.message||"Failed to load employees";Wt(ke),console.error("Error fetching employees:",Oe)}finally{pt(!1)}},st=o.useCallback(async()=>{Ke(!0),Le("");try{const Oe=await z.get(JX);if(Oe.status===200&&Oe.data){const ke=Array.isArray(Oe.data)?Oe.data:[];It(ke.map(Ie=>({code:Ie.code||Ie.workShiftCode||Ie.workshiftCode||"",description:Ie.description||Ie.workShiftDescription||""})))}}catch(Oe){const ke=Oe.response?.data?.message||Oe.message||"Failed to load workshifts";Le(ke),console.error("Error fetching workshifts:",Oe)}finally{Ke(!1)}},[]),Ze=async()=>{if(!Y.trim()){we("Please select an Employee Code.");return}if(!ue.trim()){we("Date In is required.");return}we(""),H(!0);const Oe={empCode:Y,actualDateIn:Tu(ee||ue),dateIn:Tu(ue),timeIn:KC(ue,le),dateOut:Tu(ve||ue),timeOut:KC(ve||ue,$e),workShiftCode:D,dayType:"",otGap:We,isLateFilingProcessed:et};try{ye!==null?await z.put(`${Gm}/${ye}`,{...Oe,id:ye}):await z.post(Gm,Oe),re(!1),K(null),await He()}catch(ke){const Ie=ke.response?.data?.message||ke.message||"Failed to save record";we(Ie),console.error("Error saving OT gap record:",ke)}finally{H(!1)}},Rt=Oe=>{K(Oe.id),E(Oe.empCode);const ke=Ee.find(ce=>ce.empCode===Oe.empCode);V(ke?.name??""),R(Oe.workShiftCode);const Ie=xc(Oe.actualDateIn),te=xc(Oe.dateIn),Pe=xc(Oe.timeIn),ae=xc(Oe.dateOut),me=xc(Oe.timeOut);Se(Ie.date),oe(te.date),Q(Pe.time),Ce(ae.date),Ae(me.time),Re(Oe.otGap),B(Oe.isLateFilingProcessed),we(""),re(!0)},ft=async Oe=>{if(window.confirm("Are you sure you want to delete this record?"))try{await z.delete(`${Gm}/${Oe}`),C(ke=>ke.filter(Ie=>Ie.id!==Oe))}catch(ke){const Ie=ke.response?.data?.message||ke.message||"Failed to delete record";alert(Ie),console.error("Error deleting OT gap record:",ke)}},kt=()=>{K(null),E(""),V(""),R(""),Se(""),oe(""),Q(""),Ce(""),Ae(""),Re(!1),B(!1),we(""),re(!0)},he=Oe=>{const ke=Ee.find(Ie=>Ie.empCode===Oe);E(Oe),V(ke?.name??""),Te(!1)},be=Oe=>{const ke=Ee.find(Ie=>Ie.empCode===Oe);w(Oe),v(ke?.name??""),y(!1)},ie=Oe=>{R(Oe),lt(!1)},de=wt.filter(Oe=>Oe.code.toLowerCase().includes(bt.toLowerCase())||Oe.description.toLowerCase().includes(bt.toLowerCase()));o.useEffect(()=>{ge()},[]),o.useEffect(()=>{$t&&wt.length===0&&st()},[$t,wt.length,st]),o.useEffect(()=>{const Oe=ke=>{if(ke.key==="Escape"){if(Et){Te(!1);return}if(f){y(!1);return}if($t){lt(!1);return}if(G){re(!1);return}h(!1),b(!1),Z(!1),De(!1),qe(!1),ht(!1),dt(!1)}};return document.addEventListener("keydown",Oe),()=>document.removeEventListener("keydown",Oe)},[Et,f,$t,G]);const J=({col:Oe})=>F!==Oe?e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-400",children:""})]}):e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:M==="asc"?"text-blue-600":"text-gray-300",children:""}),e.jsx("span",{className:M==="desc"?"text-blue-600":"text-gray-300",children:""})]}),Fe=[...s==="specific"&&g?N.filter(Oe=>Oe.empCode===g):N].sort((Oe,ke)=>{let Ie="",te="";return F==="empName"?(Ie=Ee.find(Pe=>Pe.empCode===Oe.empCode)?.name??"",te=Ee.find(Pe=>Pe.empCode===ke.empCode)?.name??""):F==="otGap"?(Ie=Oe.otGap?1:0,te=ke.otGap?1:0):["actualDateIn","dateIn","timeIn","dateOut","timeOut"].includes(F)?(Ie=Oe[F]?new Date(Oe[F]).getTime():0,te=ke[F]?new Date(ke[F]).getTime():0):(Ie=Oe[F]??"",te=ke[F]??""),Ie<te?M==="asc"?-1:1:Ie>te?M==="asc"?1:-1:0});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Rawdata OT Gap"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage overtime gap records and adjustments for employee timekeeping."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Track employee overtime gaps","Manage workshift assignments","Edit time records","Review day type classifications"].map(Oe=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Oe})]},Oe))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:kt,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:Oe=>a(Oe.target.checked),className:"w-4 h-4 text-blue-600 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(Oe=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"filterType",checked:s===Oe,onChange:()=>{r(Oe),Oe==="all"&&(w(""),v(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:Oe})]},Oe))})]}),s==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:g,readOnly:!0,placeholder:"Code",className:"w-28 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:p,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>y(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-1 text-sm",children:[e.jsx(Ut,{className:"w-3.5 h-3.5"})," Browse"]}),g&&e.jsxs("button",{onClick:()=>{w(""),v("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 flex items-center gap-1 text-sm",children:[e.jsx(ot,{className:"w-3.5 h-3.5"})," Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 whitespace-nowrap",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:Oe=>l(Oe.target.value),placeholder:"MM/DD/YYYY",className:"w-34 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),u&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Ga,{onDateSelect:Oe=>{l(Oe),h(!1)},onClose:()=>h(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 whitespace-nowrap",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:Oe=>c(Oe.target.value),placeholder:"MM/DD/YYYY",className:"w-34 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>b(!m),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),m&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Ga,{onDateSelect:Oe=>{c(Oe),b(!1)},onClose:()=>b(!1)})})]})]}),e.jsxs("button",{onClick:He,disabled:S,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[S?e.jsx(_a,{className:"w-4 h-4 animate-spin"}):e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]}),k&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),k]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),[{key:"empCode",label:"Employee Code"},{key:"empName",label:"Employee Name"},{key:"workShiftCode",label:"Workshift Code"},{key:"actualDateIn",label:"Actual Date-In"},{key:"dateIn",label:"Date-In"},{key:"timeIn",label:"Time-In"},{key:"dateOut",label:"Date-Out"},{key:"timeOut",label:"Time-Out"},{key:"dayType",label:"Day Type"},{key:"otGap",label:"OT Gap"}].map(({key:Oe,label:ke})=>e.jsxs("th",{onClick:()=>L(Oe),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[ke,e.jsx(J,{col:Oe})]},Oe))]})}),e.jsx("tbody",{children:S?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-6 py-8 text-center text-gray-500",children:"No data available. Use Search to load records."})}):Fe.map(Oe=>{const ke=xc(Oe.actualDateIn),Ie=xc(Oe.dateIn),te=xc(Oe.timeIn),Pe=xc(Oe.dateOut),ae=xc(Oe.timeOut),me=Ee.find(ce=>ce.empCode===Oe.empCode);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Rt(Oe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ft(Oe.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-mono",children:Oe.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:me?.name??""}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Oe.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ke.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ie.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:te.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Pe.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ae.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Oe.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Oe.otGap?"bg-amber-100 text-amber-700":"bg-gray-100 text-gray-600"}`,children:Oe.otGap?"Yes":"No"})})]},Oe.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:N.length>0?`Showing 1 to ${N.length} of ${N.length} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),G&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>re(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-5 py-3 border-b border-gray-200 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:ye!==null?"Edit Record":"Create New"}),e.jsx("button",{onClick:()=>re(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Rawdata OT Gap"}),se&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),se]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Employee Code :"}),e.jsx("input",{type:"text",value:Y,readOnly:!0,placeholder:"Select employee...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>Te(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{E(""),V("")},className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Employee Name :"}),e.jsx("input",{type:"text",value:P,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-200 rounded text-sm bg-gray-50 text-gray-600"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:D,readOnly:!0,placeholder:"Select workshift...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{Nt(""),lt(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>R(""),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Actual Date-In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ee,onChange:Oe=>Se(Oe.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>Z(!q),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),q&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Ga,{onDateSelect:Oe=>{Se(Oe),Z(!1)},onClose:()=>Z(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Date-In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ue,onChange:Oe=>oe(Oe.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>De(!je),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),je&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Ga,{onDateSelect:Oe=>{oe(Oe),De(!1)},onClose:()=>De(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Time-In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:le,onChange:Oe=>Q(Oe.target.value),onBlur:()=>Q(qC(le)),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),e.jsx("button",{type:"button",onClick:()=>qe(!Qe),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Qe&&e.jsx(va,{initialTime:le,onTimeSelect:Oe=>{Q(Oe),qe(!1)},onClose:()=>qe(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Date-Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ve,onChange:Oe=>Ce(Oe.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>ht(!Ye),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Ye&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Ga,{onDateSelect:Oe=>{Ce(Oe),ht(!1)},onClose:()=>ht(!1)})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Time-Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:$e,onChange:Oe=>Ae(Oe.target.value),onBlur:()=>Ae(qC($e)),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:ring-2 focus:ring-blue-500 focus:outline-none"}),e.jsx("button",{type:"button",onClick:()=>dt(!St),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),St&&e.jsx(va,{initialTime:$e,onTimeSelect:Oe=>{Ae(Oe),dt(!1)},onClose:()=>dt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"OT Gap :"}),e.jsx("input",{type:"checkbox",checked:We,onChange:Oe=>Re(Oe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm flex-shrink-0",children:"Late Filing Processed :"}),e.jsx("input",{type:"checkbox",checked:et,onChange:Oe=>B(Oe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:Ze,disabled:ne,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-60",children:[ne&&e.jsx(_a,{className:"w-4 h-4 animate-spin"}),ye!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>re(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:Et,onClose:()=>Te(!1),onSelect:Oe=>he(Oe),employees:Ee,loading:Je,error:Mt}),e.jsx(wr,{isOpen:f,onClose:()=>y(!1),onSelect:Oe=>be(Oe),employees:Ee,loading:Je,error:Mt}),$t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>lt(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Workshift Code"}),e.jsx("button",{onClick:()=>lt(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:bt,autoFocus:!0,onChange:Oe=>Nt(Oe.target.value),placeholder:"Search workshifts...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),tt&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",tt]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:Dt?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):de.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):de.map(Oe=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>ie(Oe.code),children:[e.jsx("td",{className:"px-3 py-2 font-mono font-medium",children:Oe.code}),e.jsx("td",{className:"px-3 py-2",children:Oe.description})]},Oe.code))})]})})]})]})})]})]})]})}),e.jsx(ls,{})]})}const zm="/Maintenance/EmployeeRawData/StraightDuty",ZX="/Fs/Process/Device/BorrowedDeviceName",eJ="/Maintenance/WorkShift",tJ="/Maintenance/EmployeeMasterFile",Sn=(t,a="")=>{if(!t)return new Date().toISOString();try{let s=t;if(t.includes("/")){const[r,n,l]=t.split("/");s=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(a){const n=a.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],c=n[3];return c==="PM"&&l!==12&&(l+=12),c==="AM"&&l===12&&(l=0),`${s}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${s}T00:00:00.000Z`}catch{return new Date().toISOString()}},hr=t=>{if(!t)return{date:"",time:""};try{const a=new Date(t),s=String(a.getUTCMonth()+1).padStart(2,"0"),r=String(a.getUTCDate()).padStart(2,"0"),n=a.getUTCFullYear();let l=a.getUTCHours();const i=String(a.getUTCMinutes()).padStart(2,"0"),c=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${s}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${c}`}}catch{return{date:"",time:""}}},sJ=t=>{const a=t.trim().toUpperCase();if(!a)return"";const s=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(s.test(a)){const r=a.match(s);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t},XC=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function aJ(){const[t,a]=o.useState(XC()),[s,r]=o.useState(XC()),[n,l]=o.useState(!0),[i,c]=o.useState("all"),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState([]),[p,v]=o.useState(!1),[f,y]=o.useState(""),[N,C]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[S,I]=o.useState(!1),[k,A]=o.useState(null),[F,O]=o.useState(!1),[M,U]=o.useState(""),[L,G]=o.useState(""),[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState(""),[we,Y]=o.useState(""),[E,P]=o.useState(""),[V,D]=o.useState(""),[R,ee]=o.useState(""),[Se,ue]=o.useState(""),[oe,le]=o.useState(""),[Q,ve]=o.useState(""),[Ce,$e]=o.useState(""),[Ae,We]=o.useState(""),[Re,et]=o.useState(""),[B,q]=o.useState(""),[Z,je]=o.useState(!1),[De,Qe]=o.useState(!1),[qe,Ye]=o.useState(""),[ht,St]=o.useState(""),[dt,Et]=o.useState(!1),[Te,Ee]=o.useState(""),[pe,Je]=o.useState(""),[pt,Mt]=o.useState(""),[Wt,$t]=o.useState(""),[lt,bt]=o.useState(!1),[Nt,wt]=o.useState(""),[It,Dt]=o.useState(!1),[Ke,tt]=o.useState(!1),[Le,He]=o.useState(!1),[ge,st]=o.useState(!1),[Ze,Rt]=o.useState(!1),[ft,kt]=o.useState(!1),[he,be]=o.useState(!1),[ie,de]=o.useState(!1),[J,_]=o.useState(!1),[Fe,Oe]=o.useState(!1),[ke,Ie]=o.useState(!1),[te,Pe]=o.useState(!1),[ae,me]=o.useState(!1),[ce,Ge]=o.useState(!1),[yt,Gt]=o.useState(!1),[W,Be]=o.useState(!1),[rt,ns]=o.useState(!1),[ps,ct]=o.useState([]),[ss,Ft]=o.useState(!1),[Jt,vt]=o.useState(""),[Kt,jt]=o.useState(""),[Vt,cs]=o.useState(""),[sa,ua]=o.useState(!1),[ka,Ea]=o.useState(!1),[Ra,oa]=o.useState(""),[xa,Ka]=o.useState([]),[Ha,Ws]=o.useState(!1),[Ta,at]=o.useState(""),[Qt,_s]=o.useState(!1),[Us,nr]=o.useState(""),[Ma,wa]=o.useState([]),[ya,gt]=o.useState(!1),[bs,_e]=o.useState(""),nt=o.useCallback(async()=>{v(!0),y("");try{const ut={dateFrom:Sn(t),dateTo:Sn(s)};i==="specific"&&Kt&&(ut.empCode=Kt);const Ts=await z.get(zm,{params:ut});if(Ts.status===200&&Ts.data){const aa=Array.isArray(Ts.data)?Ts.data:[],cn=new Date(Sn(t)).setUTCHours(0,0,0,0),Cr=new Date(Sn(s)).setUTCHours(23,59,0,0),Ar=aa.filter(Fr=>{if(!Fr.rawDateIn)return!1;const tr=new Date(Fr.rawDateIn).getTime();if(tr<cn||tr>Cr)return!1;const Zr=!!Fr.rawDateOut&&Fr.rawDateOut.trim()!=="",qn=!!Fr.rawTimeIn,_n=!!Fr.rawTimeOut,dn=Zr&&qn&&_n;return n?!dn:dn});w(Ar)}}catch(ut){const Ts=ut.response?.data?.message||ut.message||"Failed to load raw data";y(Ts),console.error("Error fetching two shifts raw data:",ut)}finally{v(!1)}},[t,s,n,i,Kt]),xs=o.useCallback(async()=>{gt(!0),_e("");try{const ut=await z.get(ZX);ut.status===200&&ut.data&&wa(Array.isArray(ut.data)?ut.data:[])}catch(ut){const Ts=ut.response?.data?.message||ut.message||"Failed to load devices";_e(Ts),console.error("Error fetching devices:",ut)}finally{gt(!1)}},[]),Bs=o.useCallback(async()=>{Ws(!0),at("");try{const ut=await z.get(eJ);if(ut.status===200&&ut.data){const Ts=Array.isArray(ut.data)?ut.data:[];Ka(Ts.map(aa=>({code:aa.code||aa.workShiftCode||aa.workshiftCode||"",description:aa.description||aa.workShiftDescription||""})))}}catch(ut){const Ts=ut.response?.data?.message||ut.message||"Failed to load workshifts";at(Ts),console.error("Error fetching workshifts:",ut)}finally{Ws(!1)}},[]),Ue=async()=>{Ft(!0),vt("");try{const ut=await z.get(tJ);if(ut.status===200&&ut.data){const Ts=ut.data.map(aa=>({empCode:aa.empCode||aa.code||"",name:`${aa.lName||""}, ${aa.fName||""} ${aa.mName||""}`.trim(),groupCode:aa.grpCode||""}));ct(Ts)}}catch(ut){const Ts=ut.response?.data?.message||ut.message||"Failed to load employees";vt(Ts),console.error("Error fetching employees:",ut)}finally{Ft(!1)}},_t=async()=>{if(!L.trim()){U("Please select an Employee Code.");return}if(!H.trim()){U("Date In is required.");return}U(""),O(!0);const ut={empCode:L,workShiftCode:K,dayType:"Regular",rawDateIn:Sn(H),rawTimeIn:Sn(H,we),actualDateIn:Sn(E||H),actualTimeIn2:Sn(E||H,V),rawBreak1Out:Sn(H,R),rawBreak1In:Sn(H,Se),rawBreak2Out:Sn(H,oe),rawBreak2In:Sn(H,Q),rawBreak3Out:Sn(H,Ce),rawBreak3In:Sn(H,Ae),rawDateOut:Sn(Re||H),rawTimeOut:Sn(Re||H,B),rawotApproved:Z,rawRemarks:qe,isLateFiling:De,bDeviceName:ht,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:Sn(t),rawDisplDateTo:Sn(s),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1};try{k!==null?await z.put(`${zm}/${k}`,{...ut,id:k}):await z.post(zm,ut),I(!1),A(null),await nt()}catch(Ts){const aa=Ts.response?.data?.message||Ts.message||"Failed to save entry";U(aa),console.error("Error saving two shifts raw data:",Ts)}finally{O(!1)}},Ve=ut=>{A(ut.id),G(ut.empCode),ne(ut.workShiftCode);const Ts=hr(ut.rawDateIn),aa=hr(ut.rawTimeIn),cn=hr(ut.actualDateIn),Cr=hr(ut.actualTimeIn2),Ar=hr(ut.rawBreak1Out),Fr=hr(ut.rawBreak1In),tr=hr(ut.rawBreak2Out),Zr=hr(ut.rawBreak2In),qn=hr(ut.rawBreak3Out),_n=hr(ut.rawBreak3In),dn=hr(ut.rawDateOut),Ao=hr(ut.rawTimeOut);se(Ts.date),Y(aa.time),P(cn.date),D(Cr.time),ee(Ar.time),ue(Fr.time),le(tr.time),ve(Zr.time),$e(qn.time),We(_n.time),et(dn.date),q(Ao.time),je(ut.rawotApproved),Qe(ut.isLateFiling),Ye(ut.rawRemarks),St(ut.bDeviceName),U(""),I(!0)},ds=async ut=>{if(confirm("Are you sure you want to delete this entry?"))try{await z.delete(`${zm}/${ut}`),w(Ts=>Ts.filter(aa=>aa.id!==ut))}catch(Ts){const aa=Ts.response?.data?.message||Ts.message||"Failed to delete entry";alert(aa),console.error("Error deleting two shifts raw data:",Ts)}},ws=()=>{A(null),G(""),ye(""),ne(""),se(""),Y(""),P(""),D(""),ee(""),ue(""),le(""),ve(""),$e(""),We(""),et(""),q(""),je(!1),Qe(!1),Ye(""),St(""),Et(!1),Ee(""),Je(""),Mt(""),$t(""),bt(!1),wt(""),U(""),I(!0)},ea=(ut,Ts)=>{G(ut),ye(Ts),ns(!1)},er=(ut,Ts)=>{jt(ut),cs(Ts),ua(!1)},qa=ut=>{ne(ut),Ea(!1)},it=ut=>{wt(ut),Be(!1)},qt=ut=>{St(ut),_s(!1)},or=xa.filter(ut=>ut.code.toLowerCase().includes(Ra.toLowerCase())||ut.description.toLowerCase().includes(Ra.toLowerCase())),Hr=Ma.filter(ut=>ut.code.toLowerCase().includes(Us.toLowerCase())||ut.description.toLowerCase().includes(Us.toLowerCase())),Nr=ut=>{C(Ts=>({...Ts,[ut]:!Ts[ut]}))},jr=()=>{const ut=!N.selectAll;C({break1Out:ut,break1In:ut,break2Out:ut,break2In:ut,break3Out:ut,break3In:ut,terminalId:ut,secondDayType:ut,remarks:ut,entryFlag:ut,isLateFiling:ut,borrowedDeviceName:ut,approvedOvertime:ut,deviceName:ut,selectAll:ut})};o.useEffect(()=>{Ue()},[]),o.useEffect(()=>{const ut=Ts=>{if(Ts.key==="Escape"){if(rt){ns(!1);return}if(sa){ua(!1);return}if(ka){Ea(!1);return}if(Qt){_s(!1);return}if(S){I(!1);return}h(!1),b(!1),Dt(!1),tt(!1),He(!1),st(!1),Rt(!1),kt(!1),be(!1),de(!1),_(!1),Oe(!1),Ie(!1),Pe(!1),me(!1),Ge(!1),Gt(!1)}};return document.addEventListener("keydown",ut),()=>document.removeEventListener("keydown",ut)},[rt,sa,ka,Qt,S]),o.useEffect(()=>{ka&&xa.length===0&&Bs()},[ka,xa.length,Bs]),o.useEffect(()=>{Qt&&xs()},[Qt,xs]);const Ya=ut=>Ts=>ut(Ts.target.value),ba=(ut,Ts)=>()=>Ts(sJ(ut)),br=(ut,Ts,aa,cn,Cr)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm font-semibold whitespace-nowrap",children:ut}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Ts,onChange:Ar=>aa(Ar.target.value),placeholder:"MM/DD/YYYY",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>Cr(!cn),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),cn&&e.jsx(Ga,{onDateSelect:Ar=>{aa(Ar),Cr(!1)},onClose:()=>Cr(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Rawdata On Straight Duty"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data for straight duty shifts, including clock in/out times, breaks, and overtime approvals for accurate payroll processing."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(ut=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:ut})]},ut))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:ws,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:ut=>l(ut.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(ut=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===ut,onChange:()=>{c(ut),ut==="all"&&(jt(""),cs(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:ut})]},ut))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:Kt,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:Vt,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>ua(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Ut,{className:"w-3.5 h-3.5"}),"Browse"]}),Kt&&e.jsxs("button",{onClick:()=>{jt(""),cs("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(ot,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[br("Date From",t,a,u,h),br("Date To",s,r,m,b),e.jsxs("button",{onClick:nt,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(_a,{className:"w-4 h-4 animate-spin"}):e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]}),f&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),f]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(ut=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N[ut.key],onChange:()=>Nr(ut.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:ut.label})]},ut.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N.selectAll,onChange:jr,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:["Employee Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actual Date/Time In"}),!N.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!N.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!N.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!N.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!N.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!N.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"DayType"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"OT Approved"}),!N.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!N.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!N.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal Id"}),!N.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!N.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT Time"}),!N.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device Name"}),!N.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Is Late Filing"}),!N.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice Name"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available in table"})}):g.map(ut=>{const Ts=hr(ut.rawDateIn),aa=hr(ut.rawTimeIn),cn=hr(ut.actualDateIn),Cr=hr(ut.actualTimeIn2),Ar=hr(ut.rawBreak1Out),Fr=hr(ut.rawBreak1In),tr=hr(ut.rawBreak2Out),Zr=hr(ut.rawBreak2In),qn=hr(ut.rawBreak3Out),_n=hr(ut.rawBreak3In),dn=hr(ut.rawDateOut),Ao=hr(ut.rawTimeOut),Yi=hr(ut.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ve(ut),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ds(ut.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ts.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:aa.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[cn.date," ",Cr.time]}),!N.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ar.time}),!N.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Fr.time}),!N.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:tr.time}),!N.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Zr.time}),!N.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:qn.time}),!N.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:_n.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ao.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:dn.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.rawotApproved?"Yes":"No"}),!N.remarks&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.rawRemarks}),!N.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.entryFlag}),!N.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.terminalID}),!N.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.dayType2}),!N.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Yi.time}),!N.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[ut.deviceNameIn,"/",ut.deviceNameOut]}),!N.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.isLateFiling?"Yes":"No"}),!N.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ut.bDeviceName})]},ut.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:g.length>0?`Showing 1 to ${g.length} of ${g.length} entries`:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>I(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-4 py-3 border-b border-gray-200 flex items-center justify-between rounded-t-lg z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:k!==null?"Edit Entry":"Create New"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-medium",children:"Rawdata On Straight Duty"}),M&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),M]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Emp Code :"}),e.jsx("input",{type:"text",value:L,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>ns(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Employee",children:e.jsx(Ut,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:K,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>Ea(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:H,onChange:ut=>se(ut.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Dt(!It),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),It&&e.jsx(Ga,{onDateSelect:ut=>{se(ut),Dt(!1)},onClose:()=>Dt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:we,onChange:Ya(Y),onBlur:ba(we,Y),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>tt(!Ke),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Ke&&e.jsx(va,{initialTime:we,onTimeSelect:ut=>{Y(ut),tt(!1)},onClose:()=>tt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Actual Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:E,onChange:ut=>P(ut.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>He(!Le),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Le&&e.jsx(Ga,{onDateSelect:ut=>{P(ut),He(!1)},onClose:()=>He(!1)})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:V,onChange:Ya(D),onBlur:ba(V,D),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>st(!ge),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),ge&&e.jsx(va,{initialTime:V,onTimeSelect:ut=>{D(ut),st(!1)},onClose:()=>st(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 1 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:R,onChange:Ya(ee),onBlur:ba(R,ee),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Rt(!Ze),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Ze&&e.jsx(va,{initialTime:R,onTimeSelect:ut=>{ee(ut),Rt(!1)},onClose:()=>Rt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 1 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Se,onChange:Ya(ue),onBlur:ba(Se,ue),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>kt(!ft),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),ft&&e.jsx(va,{initialTime:Se,onTimeSelect:ut=>{ue(ut),kt(!1)},onClose:()=>kt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 2 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:oe,onChange:Ya(le),onBlur:ba(oe,le),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>be(!he),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),he&&e.jsx(va,{initialTime:oe,onTimeSelect:ut=>{le(ut),be(!1)},onClose:()=>be(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 2 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Q,onChange:Ya(ve),onBlur:ba(Q,ve),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>de(!ie),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),ie&&e.jsx(va,{initialTime:Q,onTimeSelect:ut=>{ve(ut),de(!1)},onClose:()=>de(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 3 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:Ce,onChange:Ya($e),onBlur:ba(Ce,$e),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>_(!J),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),J&&e.jsx(va,{initialTime:Ce,onTimeSelect:ut=>{$e(ut),_(!1)},onClose:()=>_(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 3 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ae,onChange:Ya(We),onBlur:ba(Ae,We),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Oe(!Fe),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Fe&&e.jsx(va,{initialTime:Ae,onTimeSelect:ut=>{We(ut),Oe(!1)},onClose:()=>Oe(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Re,onChange:ut=>et(ut.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ie(!ke),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),ke&&e.jsx(Ga,{onDateSelect:ut=>{et(ut),Ie(!1)},onClose:()=>Ie(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:B,onChange:Ya(q),onBlur:ba(B,q),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Pe(!te),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),te&&e.jsx(va,{initialTime:B,onTimeSelect:ut=>{q(ut),Pe(!1)},onClose:()=>Pe(!1)})]})]}),e.jsxs("div",{className:"pt-4 mt-4 border-t-2 border-gray-200",children:[e.jsx("h4",{className:"text-blue-700 font-semibold mb-4 text-sm",children:"OT Application"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Application Approval :"}),e.jsx("input",{type:"checkbox",checked:dt,onChange:ut=>Et(ut.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"No. of OT Hrs Approved for 1st Shift :"}),e.jsx("input",{type:"number",value:Te,onChange:ut=>Ee(ut.target.value),step:"0.5",min:"0",className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Start Time of OT Before the Shift :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:pe,onChange:Ya(Je),onBlur:ba(pe,Je),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>me(!ae),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),ae&&e.jsx(va,{initialTime:pe,onTimeSelect:ut=>{Je(ut),me(!1)},onClose:()=>me(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Start Time of Overtime :"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Date :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:pt,onChange:ut=>Mt(ut.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{onClick:()=>Ge(!ce),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),ce&&e.jsx(Ga,{onDateSelect:ut=>{Mt(ut),Ge(!1)},onClose:()=>Ge(!1)})]}),e.jsx("span",{className:"text-gray-700 text-sm ml-4",children:"Time :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Wt,onChange:Ya($t),onBlur:ba(Wt,$t),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Gt(!yt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),yt&&e.jsx(va,{initialTime:Wt,onTimeSelect:ut=>{$t(ut),Gt(!1)},onClose:()=>Gt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"SD WorkShift Code Flag :"}),e.jsx("input",{type:"checkbox",checked:lt,onChange:ut=>bt(ut.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"SD WorkShift Code :"}),e.jsx("input",{type:"text",value:Nt,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{oa(""),Be(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 mt-4 border-t border-gray-200",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:Z,onChange:ut=>je(ut.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:De,onChange:ut=>Qe(ut.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm pt-1",children:"Remarks :"}),e.jsx("textarea",{value:qe,onChange:ut=>Ye(ut.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:ht,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>_s(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Device",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>St(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:_t,disabled:F,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-60",children:[F&&e.jsx(_a,{className:"w-4 h-4 animate-spin"}),k!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>I(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:rt,onClose:()=>ns(!1),onSelect:ut=>{const Ts=ps.find(aa=>aa.empCode===ut);ea(ut,Ts?.name??"")},employees:ps,loading:ss,error:Jt}),ka&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Ea(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>Ea(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Ra,onChange:ut=>oa(ut.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Ta&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",Ta]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:Ha?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):or.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):or.map((ut,Ts)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>qa(ut.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:ut.code}),e.jsx("td",{className:"px-3 py-1.5",children:ut.description})]},ut.code))})]})})]})]})})]}),W&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Be(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search - SD Workshift Code"}),e.jsx("button",{onClick:()=>Be(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"SD Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Ra,onChange:ut=>oa(ut.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Ta&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",Ta]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:Ha?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):or.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):or.map((ut,Ts)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>it(ut.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:ut.code}),e.jsx("td",{className:"px-3 py-1.5",children:ut.description})]},ut.code))})]})})]})]})})]}),Qt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>_s(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>_s(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device Name"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Us,onChange:ut=>nr(ut.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),bs&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",bs]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:ya?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Hr.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):Hr.map((ut,Ts)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>qt(ut.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:ut.code}),e.jsx("td",{className:"px-3 py-1.5",children:ut.description})]},ut.id))})]})})]})]})})]}),e.jsx(wr,{isOpen:sa,onClose:()=>ua(!1),onSelect:ut=>{const Ts=ps.find(aa=>aa.empCode===ut);er(ut,Ts?.name??"")},employees:ps,loading:ss,error:Jt})]})]})}),e.jsx(ls,{})]})}const Vm="/Maintenance/Employee2ShiftsInADayRawData",rJ="/Fs/Process/Device/BorrowedDeviceName",nJ="/Maintenance/WorkShift",oJ="/Maintenance/EmployeeMasterFile",kn=(t,a="")=>{if(!t)return new Date().toISOString();try{let s=t;if(t.includes("/")){const[r,n,l]=t.split("/");s=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(a){const n=a.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],c=n[3];return c==="PM"&&l!==12&&(l+=12),c==="AM"&&l===12&&(l=0),`${s}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${s}T00:00:00.000Z`}catch{return new Date().toISOString()}},mr=t=>{if(!t)return{date:"",time:""};try{const a=new Date(t),s=String(a.getUTCMonth()+1).padStart(2,"0"),r=String(a.getUTCDate()).padStart(2,"0"),n=a.getUTCFullYear();let l=a.getUTCHours();const i=String(a.getUTCMinutes()).padStart(2,"0"),c=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${s}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${c}`}}catch{return{date:"",time:""}}},lJ=t=>{const a=t.trim().toUpperCase();if(!a)return"";const s=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(s.test(a)){const r=a.match(s);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t},JC=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function iJ(){const[t,a]=o.useState(JC()),[s,r]=o.useState(JC()),[n,l]=o.useState(!0),[i,c]=o.useState("all"),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState([]),[p,v]=o.useState(!1),[f,y]=o.useState(""),[N,C]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[S,I]=o.useState(!1),[k,A]=o.useState(null),[F,O]=o.useState(!1),[M,U]=o.useState(""),[L,G]=o.useState(""),[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState(""),[we,Y]=o.useState(""),[E,P]=o.useState(""),[V,D]=o.useState(""),[R,ee]=o.useState(""),[Se,ue]=o.useState(""),[oe,le]=o.useState(""),[Q,ve]=o.useState(""),[Ce,$e]=o.useState(""),[Ae,We]=o.useState(""),[Re,et]=o.useState(""),[B,q]=o.useState(""),[Z,je]=o.useState(!1),[De,Qe]=o.useState(!1),[qe,Ye]=o.useState(""),[ht,St]=o.useState(""),[dt,Et]=o.useState(!1),[Te,Ee]=o.useState(!1),[pe,Je]=o.useState(!1),[pt,Mt]=o.useState(!1),[Wt,$t]=o.useState(!1),[lt,bt]=o.useState(!1),[Nt,wt]=o.useState(!1),[It,Dt]=o.useState(!1),[Ke,tt]=o.useState(!1),[Le,He]=o.useState(!1),[ge,st]=o.useState(!1),[Ze,Rt]=o.useState(!1),[ft,kt]=o.useState(!1),[he,be]=o.useState([]),[ie,de]=o.useState(!1),[J,_]=o.useState(""),[Fe,Oe]=o.useState(""),[ke,Ie]=o.useState(""),[te,Pe]=o.useState(!1),[ae,me]=o.useState(!1),[ce,Ge]=o.useState(""),[yt,Gt]=o.useState([]),[W,Be]=o.useState(!1),[rt,ns]=o.useState(""),[ps,ct]=o.useState(!1),[ss,Ft]=o.useState(""),[Jt,vt]=o.useState([]),[Kt,jt]=o.useState(!1),[Vt,cs]=o.useState(""),sa=o.useCallback(async()=>{v(!0),y("");try{const gt={dateFrom:kn(t),dateTo:kn(s)};i==="specific"&&Fe&&(gt.empCode=Fe);const bs=await z.get(Vm,{params:gt});if(bs.status===200&&bs.data){const _e=Array.isArray(bs.data)?bs.data:[],nt=new Date(kn(t)).setUTCHours(0,0,0,0),xs=new Date(kn(s)).setUTCHours(23,59,0,0),Bs=_e.filter(Ue=>{if(!Ue.rawDateIn)return!1;const _t=new Date(Ue.rawDateIn).getTime();if(_t<nt||_t>xs)return!1;const Ve=!!Ue.rawDateOut&&Ue.rawDateOut.trim()!=="",ds=!!Ue.rawTimeIn,ws=!!Ue.rawTimeOut,ea=Ve&&ds&&ws;return n?!ea:ea});w(Bs)}}catch(gt){const bs=gt.response?.data?.message||gt.message||"Failed to load raw data";y(bs),console.error("Error fetching two shifts raw data:",gt)}finally{v(!1)}},[t,s,n,i,Fe]),ua=o.useCallback(async()=>{jt(!0),cs("");try{const gt=await z.get(rJ);gt.status===200&&gt.data&&vt(Array.isArray(gt.data)?gt.data:[])}catch(gt){const bs=gt.response?.data?.message||gt.message||"Failed to load devices";cs(bs),console.error("Error fetching devices:",gt)}finally{jt(!1)}},[]),ka=o.useCallback(async()=>{Be(!0),ns("");try{const gt=await z.get(nJ);if(gt.status===200&&gt.data){const bs=Array.isArray(gt.data)?gt.data:[];Gt(bs.map(_e=>({code:_e.code||_e.workShiftCode||_e.workshiftCode||"",description:_e.description||_e.workShiftDescription||""})))}}catch(gt){const bs=gt.response?.data?.message||gt.message||"Failed to load workshifts";ns(bs),console.error("Error fetching workshifts:",gt)}finally{Be(!1)}},[]),Ea=async()=>{de(!0),_("");try{const gt=await z.get(oJ);if(gt.status===200&&gt.data){const bs=gt.data.map(_e=>({empCode:_e.empCode||_e.code||"",name:`${_e.lName||""}, ${_e.fName||""} ${_e.mName||""}`.trim(),groupCode:_e.grpCode||""}));be(bs)}}catch(gt){const bs=gt.response?.data?.message||gt.message||"Failed to load employees";_(bs),console.error("Error fetching employees:",gt)}finally{de(!1)}},Ra=async()=>{if(!L.trim()){U("Please select an Employee Code.");return}if(!H.trim()){U("Date In is required.");return}U(""),O(!0);const gt={empCode:L,workShiftCode:K,dayType:"Regular",rawDateIn:kn(H),rawTimeIn:kn(H,we),actualDateIn:kn(E||H),actualTimeIn2:kn(E||H,V),rawBreak1Out:kn(H,R),rawBreak1In:kn(H,Se),rawBreak2Out:kn(H,oe),rawBreak2In:kn(H,Q),rawBreak3Out:kn(H,Ce),rawBreak3In:kn(H,Ae),rawDateOut:kn(Re||H),rawTimeOut:kn(Re||H,B),rawotApproved:Z,rawRemarks:qe,isLateFiling:De,bDeviceName:ht,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:kn(t),rawDisplDateTo:kn(s),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1};try{k!==null?await z.put(`${Vm}/${k}`,{...gt,id:k}):await z.post(Vm,gt),I(!1),A(null),await sa()}catch(bs){const _e=bs.response?.data?.message||bs.message||"Failed to save entry";U(_e),console.error("Error saving two shifts raw data:",bs)}finally{O(!1)}},oa=gt=>{A(gt.id),G(gt.empCode),ne(gt.workShiftCode);const bs=mr(gt.rawDateIn),_e=mr(gt.rawTimeIn),nt=mr(gt.actualDateIn),xs=mr(gt.actualTimeIn2),Bs=mr(gt.rawBreak1Out),Ue=mr(gt.rawBreak1In),_t=mr(gt.rawBreak2Out),Ve=mr(gt.rawBreak2In),ds=mr(gt.rawBreak3Out),ws=mr(gt.rawBreak3In),ea=mr(gt.rawDateOut),er=mr(gt.rawTimeOut);se(bs.date),Y(_e.time),P(nt.date),D(xs.time),ee(Bs.time),ue(Ue.time),le(_t.time),ve(Ve.time),$e(ds.time),We(ws.time),et(ea.date),q(er.time),je(gt.rawotApproved),Qe(gt.isLateFiling),Ye(gt.rawRemarks),St(gt.bDeviceName),U(""),I(!0)},xa=async gt=>{if(confirm("Are you sure you want to delete this entry?"))try{await z.delete(`${Vm}/${gt}`),w(bs=>bs.filter(_e=>_e.id!==gt))}catch(bs){const _e=bs.response?.data?.message||bs.message||"Failed to delete entry";alert(_e),console.error("Error deleting two shifts raw data:",bs)}},Ka=()=>{A(null),G(""),ye(""),ne(""),se(""),Y(""),P(""),D(""),ee(""),ue(""),le(""),ve(""),$e(""),We(""),et(""),q(""),je(!1),Qe(!1),Ye(""),St(""),U(""),I(!0)},Ha=(gt,bs)=>{G(gt),ye(bs),kt(!1)},Ws=(gt,bs)=>{Oe(gt),Ie(bs),Pe(!1)},Ta=gt=>{ne(gt),me(!1)},at=gt=>{St(gt),ct(!1)},Qt=yt.filter(gt=>gt.code.toLowerCase().includes(ce.toLowerCase())||gt.description.toLowerCase().includes(ce.toLowerCase())),_s=Jt.filter(gt=>gt.code.toLowerCase().includes(ss.toLowerCase())||gt.description.toLowerCase().includes(ss.toLowerCase())),Us=gt=>{C(bs=>({...bs,[gt]:!bs[gt]}))},nr=()=>{const gt=!N.selectAll;C({break1Out:gt,break1In:gt,break2Out:gt,break2In:gt,break3Out:gt,break3In:gt,terminalId:gt,secondDayType:gt,remarks:gt,entryFlag:gt,isLateFiling:gt,borrowedDeviceName:gt,approvedOvertime:gt,deviceName:gt,selectAll:gt})};o.useEffect(()=>{Ea()},[]),o.useEffect(()=>{const gt=bs=>{if(bs.key==="Escape"){if(ft){kt(!1);return}if(te){Pe(!1);return}if(ae){me(!1);return}if(ps){ct(!1);return}if(S){I(!1);return}h(!1),b(!1),Et(!1),Ee(!1),Je(!1),Mt(!1),$t(!1),bt(!1),wt(!1),Dt(!1),tt(!1),He(!1),st(!1),Rt(!1)}};return document.addEventListener("keydown",gt),()=>document.removeEventListener("keydown",gt)},[ft,te,ae,ps,S]),o.useEffect(()=>{ae&&yt.length===0&&ka()},[ae,yt.length,ka]),o.useEffect(()=>{ps&&ua()},[ps,ua]);const Ma=gt=>bs=>gt(bs.target.value),wa=(gt,bs)=>()=>bs(lJ(gt)),ya=(gt,bs,_e,nt,xs)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm font-semibold whitespace-nowrap",children:gt}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:bs,onChange:Bs=>_e(Bs.target.value),placeholder:"MM/DD/YYYY",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>xs(!nt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),nt&&e.jsx(Ga,{onDateSelect:Bs=>{_e(Bs),xs(!1)},onClose:()=>xs(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"2 Shifts In A Day - Rawdata"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data for employees working two shifts in a day, including clock in/out times, breaks, and overtime approvals for accurate payroll processing."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(gt=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:gt})]},gt))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Ka,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:gt=>l(gt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(gt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===gt,onChange:()=>{c(gt),gt==="all"&&(Oe(""),Ie(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:gt})]},gt))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:Fe,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:ke,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>Pe(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Ut,{className:"w-3.5 h-3.5"}),"Browse"]}),Fe&&e.jsxs("button",{onClick:()=>{Oe(""),Ie("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(ot,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[ya("Date From",t,a,u,h),ya("Date To",s,r,m,b),e.jsxs("button",{onClick:sa,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(_a,{className:"w-4 h-4 animate-spin"}):e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]}),f&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),f]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(gt=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N[gt.key],onChange:()=>Us(gt.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:gt.label})]},gt.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:N.selectAll,onChange:nr,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:["Employee Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Workshift Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actual Date/Time In"}),!N.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!N.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!N.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!N.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!N.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!N.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Time-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Date-Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"DayType"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"OT Approved"}),!N.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!N.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!N.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal Id"}),!N.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!N.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT Time"}),!N.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device Name"}),!N.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Is Late Filing"}),!N.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice Name"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):g.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available in table"})}):g.map(gt=>{const bs=mr(gt.rawDateIn),_e=mr(gt.rawTimeIn),nt=mr(gt.actualDateIn),xs=mr(gt.actualTimeIn2),Bs=mr(gt.rawBreak1Out),Ue=mr(gt.rawBreak1In),_t=mr(gt.rawBreak2Out),Ve=mr(gt.rawBreak2In),ds=mr(gt.rawBreak3Out),ws=mr(gt.rawBreak3In),ea=mr(gt.rawDateOut),er=mr(gt.rawTimeOut),qa=mr(gt.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>oa(gt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>xa(gt.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:bs.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:_e.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[nt.date," ",xs.time]}),!N.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Bs.time}),!N.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ue.time}),!N.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:_t.time}),!N.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:Ve.time}),!N.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ds.time}),!N.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ws.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:er.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:ea.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.rawotApproved?"Yes":"No"}),!N.remarks&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.rawRemarks}),!N.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.entryFlag}),!N.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.terminalID}),!N.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.dayType2}),!N.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:qa.time}),!N.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:[gt.deviceNameIn,"/",gt.deviceNameOut]}),!N.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.isLateFiling?"Yes":"No"}),!N.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:gt.bDeviceName})]},gt.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:g.length>0?`Showing 1 to ${g.length} of ${g.length} entries`:"Showing 0 to 0 of 0 entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>I(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-4 py-3 border-b border-gray-200 flex items-center justify-between rounded-t-lg z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:k!==null?"Edit Entry":"Create New"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-medium",children:"2 Shifts In A Day - Rawdata"}),M&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),M]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Emp Code :"}),e.jsx("input",{type:"text",value:L,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>kt(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Employee",children:e.jsx(Ut,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:K,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>me(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:H,onChange:gt=>se(gt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Et(!dt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),dt&&e.jsx(Ga,{onDateSelect:gt=>{se(gt),Et(!1)},onClose:()=>Et(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:we,onChange:Ma(Y),onBlur:wa(we,Y),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Ee(!Te),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Te&&e.jsx(va,{initialTime:we,onTimeSelect:gt=>{Y(gt),Ee(!1)},onClose:()=>Ee(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Actual Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:E,onChange:gt=>P(gt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Je(!pe),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),pe&&e.jsx(Ga,{onDateSelect:gt=>{P(gt),Je(!1)},onClose:()=>Je(!1)})]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:V,onChange:Ma(D),onBlur:wa(V,D),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Mt(!pt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),pt&&e.jsx(va,{initialTime:V,onTimeSelect:gt=>{D(gt),Mt(!1)},onClose:()=>Mt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 1 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:R,onChange:Ma(ee),onBlur:wa(R,ee),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>$t(!Wt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Wt&&e.jsx(va,{initialTime:R,onTimeSelect:gt=>{ee(gt),$t(!1)},onClose:()=>$t(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 1 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Se,onChange:Ma(ue),onBlur:wa(Se,ue),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>bt(!lt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),lt&&e.jsx(va,{initialTime:Se,onTimeSelect:gt=>{ue(gt),bt(!1)},onClose:()=>bt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 2 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:oe,onChange:Ma(le),onBlur:wa(oe,le),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>wt(!Nt),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Nt&&e.jsx(va,{initialTime:oe,onTimeSelect:gt=>{le(gt),wt(!1)},onClose:()=>wt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 2 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Q,onChange:Ma(ve),onBlur:wa(Q,ve),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Dt(!It),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),It&&e.jsx(va,{initialTime:Q,onTimeSelect:gt=>{ve(gt),Dt(!1)},onClose:()=>Dt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Break 3 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:Ce,onChange:Ma($e),onBlur:wa(Ce,$e),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>tt(!Ke),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Ke&&e.jsx(va,{initialTime:Ce,onTimeSelect:gt=>{$e(gt),tt(!1)},onClose:()=>tt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Break 3 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Ae,onChange:Ma(We),onBlur:wa(Ae,We),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>He(!Le),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Le&&e.jsx(va,{initialTime:Ae,onTimeSelect:gt=>{We(gt),He(!1)},onClose:()=>He(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:Re,onChange:gt=>et(gt.target.value),placeholder:"MM/DD/YYYY",className:"w-40 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>st(!ge),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),ge&&e.jsx(Ga,{onDateSelect:gt=>{et(gt),st(!1)},onClose:()=>st(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Time Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:B,onChange:Ma(q),onBlur:wa(B,q),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{onClick:()=>Rt(!Ze),type:"button",className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),Ze&&e.jsx(va,{initialTime:B,onTimeSelect:gt=>{q(gt),Rt(!1)},onClose:()=>Rt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:Z,onChange:gt=>je(gt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:De,onChange:gt=>Qe(gt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm pt-1",children:"Remarks :"}),e.jsx("textarea",{value:qe,onChange:gt=>Ye(gt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",rows:3})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:ht,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>ct(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Device",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>St(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{onClick:Ra,disabled:F,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-60",children:[F&&e.jsx(_a,{className:"w-4 h-4 animate-spin"}),k!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>I(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:ft,onClose:()=>kt(!1),onSelect:gt=>{const bs=he.find(_e=>_e.empCode===gt);Ha(gt,bs?.name??"")},employees:he,loading:ie,error:J}),ae&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>me(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>me(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:ce,onChange:gt=>Ge(gt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),rt&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",rt]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:W?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):Qt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):Qt.map((gt,bs)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Ta(gt.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:gt.code}),e.jsx("td",{className:"px-3 py-1.5",children:gt.description})]},gt.code))})]})})]})]})})]}),ps&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>ct(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>ct(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device Name"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:ss,onChange:gt=>Ft(gt.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Vt&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",Vt]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:Kt?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):_s.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):_s.map((gt,bs)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>at(gt.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:gt.code}),e.jsx("td",{className:"px-3 py-1.5",children:gt.description})]},gt.id))})]})})]})]})})]}),e.jsx(wr,{isOpen:te,onClose:()=>Pe(!1),onSelect:gt=>{const bs=he.find(_e=>_e.empCode===gt);Ws(gt,bs?.name??"")},employees:he,loading:ie,error:J})]})]})}),e.jsx(ls,{})]})}function zn({value:t,onChange:a,placeholder:s="MM/DD/YYYY",className:r="",disabled:n=!1}){const[l,i]=o.useState(!1),c=g=>{if(!g)return;const w=g.split("/");if(w.length===3){const p=parseInt(w[0])-1,v=parseInt(w[1]),f=parseInt(w[2]);if(!isNaN(p)&&!isNaN(v)&&!isNaN(f))return new Date(f,p,v)}},u=g=>{if(!g)return"";const w=(g.getMonth()+1).toString().padStart(2,"0"),p=g.getDate().toString().padStart(2,"0"),v=g.getFullYear();return`${w}/${p}/${v}`},h=c(t),m=g=>{g&&(a(u(g)),i(!1))},b=g=>{a(g.target.value)};return e.jsxs("div",{className:`flex gap-2 ${r}`,children:[e.jsx("input",{type:"text",value:t,onChange:b,disabled:n,readOnly:n,className:`flex-1 px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 ${n?"bg-gray-50 cursor-not-allowed text-gray-500":"bg-white"}`,placeholder:s}),e.jsxs(iv,{open:l,onOpenChange:n?void 0:i,children:[e.jsx(cv,{asChild:!0,children:e.jsx("button",{type:"button",disabled:n,className:`flex items-center justify-center px-4 py-2.5 rounded-xl transition-colors shadow-sm ${n?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:e.jsx(hs,{className:"w-4 h-4"})})}),e.jsx(dv,{className:"w-auto p-0 bg-white",align:"start",children:e.jsx(hv,{mode:"single",selected:h,onSelect:m,initialFocus:!0})})]})]})}function k5({isOpen:t,isEditMode:a,empCode:s,date:r,hoursApproved:n,actualDateInOTBefore:l,startTimeBefore:i,startOvertimeDate:c,startOvertimeTime:u,approvedBreak:h,reason:m,remarks:b,isLateFiling:g,onClose:w,onDateChange:p,onHoursApprovedChange:v,onActualDateInOTBeforeChange:f,onStartTimeBeforeChange:y,onStartOvertimeDateChange:N,onStartOvertimeTimeChange:C,onApprovedBreakChange:S,onReasonChange:I,onRemarksChange:k,onIsLateFilingChange:A,onSubmit:F}){return o.useEffect(()=>{const O=M=>{M.key==="Escape"&&t&&w()};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[t,w]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:w}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Overtime":"Create New"}),e.jsx("button",{onClick:w,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Overtime Applications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx(zn,{value:r,onChange:p,className:"flex-1 text-small"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No. of Hours Approved :"}),e.jsx("input",{type:"text",value:n,onChange:O=>v(O.target.value),className:"w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Start Time of OT Before the Shift :"}),e.jsx(zn,{value:r,onChange:p,className:"flex-1 text-small"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-3",children:[e.jsx("div",{children:e.jsx("label",{className:"text-gray-700",children:"Start Time of Overtime :"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx(zn,{value:c,onChange:N,className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time:"}),e.jsx("input",{type:"text",value:u,onChange:O=>C(O.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:MM"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Approved OT Break Hrs :"}),e.jsx("input",{type:"text",value:h,onChange:O=>S(O.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:m,onChange:O=>I(O.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:b,onChange:O=>k(O.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:g,onChange:O=>A(O.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:F,className:"px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:w,className:"px-5 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function cJ(){const[t,a]=o.useState("workshift"),[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState(""),[u]=o.useState("Main Monthly"),[h,m]=o.useState(!1),[b,g]=o.useState([]),[w,p]=o.useState(!1),[v,f]=o.useState(""),[y,N]=o.useState(!1),[C,S]=o.useState(""),[I,k]=o.useState(!1),[A,F]=o.useState(!1),O=[{code:"7AM4PM",description:"7:00 AM - 4:00 PM"},{code:"3PM12AM",description:"3:00 PM - 12:00 AM"},{code:"8AM5PM",description:"8:00 AM - 5:00 PM"},{code:"11PM8AM",description:"11:00 PM - 8:00 AM"},{code:"FLEX",description:"Flexible Schedule"}],M=O.filter(ce=>ce.code.toLowerCase().includes(C.toLowerCase())||ce.description.toLowerCase().includes(C.toLowerCase())),U=o.useMemo(()=>b.map(ce=>({...ce,name:`${ce.lName}, ${ce.fName}`,groupCode:ce.grpCode})),[b]),L=async(ce,Ge)=>{try{const yt=b.find(Gt=>Gt.empCode===ce);if(!yt){console.error("Employee not found:",ce),await xe.fire({icon:"error",title:"Error",text:"Employee not found"});return}r(ce),l(yt.grpCode),c(Ge),m(!1),await Promise.all([st(ce),Ze(ce),be(ce)])}catch(yt){console.error("Error loading employee:",yt),await xe.fire({icon:"error",title:"Error",text:"Failed to load employee details"})}},G=ce=>{wt(ce),N(!1)},[re,ye]=o.useState(!1),[K,ne]=o.useState(!1),[H,se]=o.useState(!1),[we,Y]=o.useState(null),[E,P]=o.useState(""),[V,D]=o.useState(""),[R,ee]=o.useState(""),[Se,ue]=o.useState(""),[oe,le]=o.useState(""),[Q,ve]=o.useState(""),[Ce,$e]=o.useState(""),[Ae,We]=o.useState(""),[Re,et]=o.useState(""),[B,q]=o.useState(""),[Z,je]=o.useState(""),[De,Qe]=o.useState(!1),[qe,Ye]=o.useState("variable"),[ht,St]=o.useState(""),[dt,Et]=o.useState(null),[Te,Ee]=o.useState(!1),[pe,Je]=o.useState(!1),[pt,Mt]=o.useState(null),[Wt,$t]=o.useState(""),[lt,bt]=o.useState(""),[Nt,wt]=o.useState(""),[It,Dt]=o.useState(""),[Ke,tt]=o.useState([]),[Le,He]=o.useState([]),ge=async()=>{p(!0),f("");try{const ce=await z.get("/Maintenance/EmployeeMasterFile");ce.status===200&&ce.data&&g(ce.data)}catch(ce){const Ge=ce.response?.data?.message||ce.message||"Failed to load employees";f(Ge),console.error("Error fetching employees:",ce)}finally{p(!1)}},st=async ce=>{if(ce){k(!0);try{const Ge=await z.get("/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay");if(Ge.status===200&&Ge.data){const Gt=(Array.isArray(Ge.data)?Ge.data:Ge.data.items||[]).find(W=>(W.empCode?.trim()||"").toLowerCase()===ce.trim().toLowerCase());Gt&&(Et(Gt),St(Gt.dailySched||""),Ye("fixed"))}}catch(Ge){console.error("Error fetching workshift fixed:",Ge),Et(null)}finally{k(!1)}}},Ze=async ce=>{if(ce){k(!0);try{const Ge=await z.get("/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay");if(Ge.status===200&&Ge.data){const Gt=(Array.isArray(Ge.data)?Ge.data:Ge.data.items||[]).filter(W=>(W.empCode?.trim()||"").toLowerCase()===ce.trim().toLowerCase());Gt.length>0&&(tt(Gt),Ye("variable"))}}catch(Ge){console.error("Error fetching workshift variable:",Ge),tt([])}finally{k(!1)}}},Rt=async()=>{const ce={id:dt?.id||0,empCode:s,dailySched:ht,isFixed:!0};k(!0);try{let Ge;ce.id===0||!ce.id?Ge=await z.post("/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay",ce):Ge=await z.put(`/Maintenance/EmployeeWorkshiftFixed/2ShiftsInADay/${ce.id}`,ce),(Ge.status===200||Ge.status===201||Ge.status===204)&&(await xe.fire({icon:"success",title:"Success",text:"Fixed workshift saved successfully.",timer:2e3,showConfirmButton:!1}),await st(s),ye(!1))}catch(Ge){const yt=Ge.response?.data?.message||Ge.message||"Failed to save fixed workshift";await xe.fire({icon:"error",title:"Error",text:yt})}finally{k(!1)}},ft=async ce=>{k(!0);try{const Ge=await z.post("/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay",ce);(Ge.status===200||Ge.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Variable workshift created successfully.",timer:2e3,showConfirmButton:!1}),await Ze(s),Ee(!1))}catch(Ge){const yt=Ge.response?.data?.message||Ge.message||"Failed to create variable workshift";await xe.fire({icon:"error",title:"Error",text:yt})}finally{k(!1)}},kt=async(ce,Ge)=>{k(!0);try{const yt=await z.put(`/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay/${ce}`,Ge);(yt.status===200||yt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Variable workshift updated successfully.",timer:2e3,showConfirmButton:!1}),await Ze(s),Ee(!1))}catch(yt){const Gt=yt.response?.data?.message||yt.message||"Failed to update variable workshift";await xe.fire({icon:"error",title:"Error",text:Gt})}finally{k(!1)}},he=async ce=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){k(!0);try{const yt=await z.delete(`/Maintenance/EmployeeWorkshiftVariable/2ShiftsInADay/${ce}`);(yt.status===200||yt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Variable workshift has been deleted.",timer:2e3,showConfirmButton:!1}),await Ze(s))}catch(yt){const Gt=yt.response?.data?.message||yt.message||"Failed to delete variable workshift";await xe.fire({icon:"error",title:"Error",text:Gt})}finally{k(!1)}}},be=async ce=>{if(ce){F(!0);try{const Ge=await z.get("/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay");if(Ge.status===200&&Ge.data){const Gt=(Array.isArray(Ge.data)?Ge.data:Ge.data.items||[]).filter(W=>(W.empCode?.trim()||"").toLowerCase()===ce.trim().toLowerCase());He(Gt)}}catch(Ge){console.error("Error fetching overtime applications:",Ge),He([])}finally{F(!1)}}},ie=(ce,Ge=0)=>({ID:Ge,EmpCode:ce.empCode,Date:ce.date?new Date(ce.date).toISOString():null,NumOTHoursApproved:ce.numOTHoursApproved||0,EarlyOTStartTime:ce.earlyOTStartTime?new Date(ce.earlyOTStartTime).toISOString():null,EarlyTimeIn:ce.earlyTimeIn?new Date(ce.earlyTimeIn).toISOString():null,StartOTPM:ce.startOTPM?new Date(ce.startOTPM).toISOString():null,MinHRSOTBreak:ce.minHRSOTBreak||0,EarlyOTStartTimeRestHol:ce.earlyOTStartTimeRestHol?new Date(ce.earlyOTStartTimeRestHol).toISOString():null,Reason:ce.reason||"",Remarks:ce.remarks||"",ApprovedOTBreaksHrs:ce.approvedOTBreaksHrs||0,STOTATS:ce.stotats?new Date(ce.stotats).toISOString():null,IsLateFiling:ce.isLateFiling??!1,IsLateFilingProcessed:ce.isLateFilingProcessed??!1}),de=async ce=>{F(!0);try{const Ge=ie(ce,0),yt=await z.post("/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay",Ge);(yt.status===200||yt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Overtime application created successfully.",timer:2e3,showConfirmButton:!1}),await be(ce.empCode||""),ne(!1))}catch(Ge){const yt=Ge.response?.data?.title||Ge.message||"Failed to create application";await xe.fire({icon:"error",title:"Error",text:yt})}finally{F(!1)}},J=async(ce,Ge)=>{F(!0);try{const yt=ie(Ge,ce),Gt=await z.put(`/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay/${ce}`,yt);(Gt.status===200||Gt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Overtime application updated successfully.",timer:2e3,showConfirmButton:!1}),await be(Ge.empCode||""),ne(!1))}catch(yt){const Gt=yt.response?.data||yt.message||"Failed to update application";await xe.fire({icon:"error",title:"Error",text:Gt})}finally{F(!1)}},_=async ce=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){F(!0);try{const yt=await z.delete(`/Maintenance/EmployeeOvertimeApplication/2ShiftsInADay/${ce}`);(yt.status===200||yt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Overtime application has been deleted.",timer:2e3,showConfirmButton:!1}),await be(s))}catch(yt){const Gt=yt.response?.data?.message||yt.message||"Failed to delete overtime application";await xe.fire({icon:"error",title:"Error",text:Gt})}finally{F(!1)}}},Fe=async()=>{try{const ce={empCode:s,date:E,numOTHoursApproved:parseFloat(V)||0,earlyOTStartTime:R,earlyTimeIn:Se,startOTPM:oe,minHRSOTBreak:parseFloat(Q)||0,earlyOTStartTimeRestHol:Ce,reason:Ae,remarks:Re,approvedOTBreaksHrs:parseFloat(B)||0,stotats:Z,isLateFiling:De,isLateFilingProcessed:!1};H&&we!==null?await J(we,ce):await de(ce)}catch(ce){console.error("Error submitting overtime application:",ce)}},Oe=async ce=>{await _(ce)},ke=async()=>{try{const ce={empCode:s,dateFrom:Wt,dateTo:lt,shiftCode:Nt,dailyScheduleCode:It,updateDate:new Date().toISOString()};pe&&pt!==null?await kt(pt,ce):await ft(ce)}catch(ce){console.error("Error submitting workshift:",ce)}},Ie=async ce=>{await he(ce)},te=async()=>{try{if(!s){await xe.fire({icon:"warning",title:"Warning",text:"Please select an employee first"});return}t==="workshift"&&qe==="fixed"&&await Rt()}catch(ce){console.error("Error saving:",ce)}},Pe=()=>{ye(!1),s&&t==="workshift"&&(st(s),Ze(s))};o.useEffect(()=>{const ce=Ge=>{Ge.key==="Escape"&&(h?m(!1):y?N(!1):Te?Ee(!1):K&&ne(!1))};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[h,y,Te,K]),o.useEffect(()=>{ge()},[]),o.useEffect(()=>{s&&(st(s),Ze(s),be(s))},[s]);const ae=()=>{switch(t){case"workshift":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:I?e.jsx("div",{className:"text-center py-8",children:"Loading workshifts..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-fixed",checked:qe==="fixed",onChange:()=>Ye("fixed"),disabled:!re,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"workshift-fixed",className:"text-gray-700",children:"Fixed"})]}),qe==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"DailySched"}),e.jsx("input",{type:"text",value:ht,onChange:ce=>St(ce.target.value),disabled:!re,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-variable",checked:qe==="variable",onChange:()=>Ye("variable"),disabled:!re,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"workshift-variable",className:"text-gray-700",children:"Variable"})]}),qe==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Je(!1),Mt(null),$t(""),bt(""),wt(""),Dt(""),Ee(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Shift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Ke.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No variable workshift records found"})}):Ke.map(ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.dateFrom?new Date(ce.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.dateTo?new Date(ce.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.shiftCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Je(!0),Mt(ce.id),$t(ce.dateFrom?new Date(ce.dateFrom).toISOString().split("T")[0]:""),bt(ce.dateTo?new Date(ce.dateTo).toISOString().split("T")[0]:""),wt(ce.shiftCode||""),Dt(ce.dailyScheduleCode||""),Ee(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Ie(ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},ce.id))})]})})]})]})]})});case"overtime-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{se(!1),Y(null),P(""),D(""),ee(""),ue(""),le(""),ve(""),$e(""),We(""),et(""),q(""),je(""),Qe(!1),ne(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:A?e.jsx("div",{className:"text-center py-8",children:"Loading overtime applications..."}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Le.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No overtime applications found"})}):Le.map(ce=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.date?new Date(ce.date).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.numOTHoursApproved}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:ce.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{se(!0),Y(ce.id),P(ce.date?new Date(ce.date).toISOString().split("T")[0]:""),D(ce.numOTHoursApproved?.toString()||""),ee(ce.earlyOTStartTime||""),ue(ce.earlyTimeIn||""),le(ce.startOTPM||""),ve(ce.minHRSOTBreak?.toString()||""),$e(ce.earlyOTStartTimeRestHol||""),We(ce.reason||""),et(ce.remarks||""),q(ce.approvedOTBreaksHrs?.toString()||""),je(ce.stotats||""),Qe(ce.isLateFiling||!1),ne(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Oe(ce.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},ce.id))})]})})]})});default:return null}},me=[{id:"overtime-applications",label:"Overtime Applications",icon:Rv},{id:"workshift",label:"Workshift",icon:ur}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Time Keep Group Configuration [2-Shifts]"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure work shifts and overtime applications for 2-shift employees with accurate time tracking and overtime management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work shift configuration (Fixed/Variable)"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime application tracking"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t==="workshift"&&e.jsx(e.Fragment,{children:re?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:te,disabled:I,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(za,{className:"w-4 h-4"}),I?"Saving...":"Save"]}),e.jsxs("button",{onClick:Pe,disabled:I,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(ot,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:()=>ye(!0),disabled:!s,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ri,{className:"w-4 h-4"}),"Edit"]})}),t==="overtime-applications"&&e.jsx("div",{className:"px-4 py-2",children:""})]}),e.jsx("div",{className:"mb-6 space-y-4 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-24",children:"TKS Group"}),e.jsx("input",{type:"text",value:n,disabled:!0,placeholder:"Auto-filled from selection",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-24",children:"EmpCode"}),e.jsx("input",{type:"text",value:s,disabled:!0,className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"}),e.jsxs("button",{onClick:()=>m(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-blue-700 mb-1",children:i}),e.jsx("div",{className:"text-blue-600",children:u})]})]}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:me.map(ce=>e.jsxs("button",{onClick:()=>a(ce.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ce.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ce.icon,{className:"w-4 h-4"}),e.jsx("span",{children:ce.label})]},ce.id))}),ae()]}),e.jsx(wr,{isOpen:h,onClose:()=>m(!1),onSelect:L,employees:U,loading:w,error:v}),y&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-50",onClick:()=>N(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-60 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search Workshift Code"}),e.jsx("button",{onClick:()=>N(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:C,onChange:ce=>S(ce.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:M.map(ce=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>G(ce.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:ce.code}),e.jsx("td",{className:"px-3 py-1.5",children:ce.description})]},ce.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing 1 to ",M.length," of ",O.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]}),e.jsx(k5,{isOpen:K,isEditMode:H,empCode:s,date:E,hoursApproved:V,actualDateInOTBefore:"",startTimeBefore:R,startOvertimeDate:"",startOvertimeTime:Se,approvedBreak:Q,reason:Ae,remarks:Re,isLateFiling:De,onClose:()=>ne(!1),onDateChange:P,onHoursApprovedChange:D,onActualDateInOTBeforeChange:()=>{},onStartTimeBeforeChange:ee,onStartOvertimeDateChange:()=>{},onStartOvertimeTimeChange:ue,onApprovedBreakChange:ve,onReasonChange:We,onRemarksChange:et,onIsLateFilingChange:Qe,onSubmit:Fe}),Te&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>Ee(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:pe?"Edit Workshift":"Create Workshift Variable"}),e.jsx("button",{onClick:()=>Ee(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Date From :"}),e.jsx("input",{type:"date",value:Wt,onChange:ce=>$t(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Date To :"}),e.jsx("input",{type:"date",value:lt,onChange:ce=>bt(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Shift Code :"}),e.jsx("input",{type:"text",value:Nt,onChange:ce=>wt(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:()=>N(!0),className:"p-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors shadow-sm",title:"Search Workshift Code",children:e.jsx(Ut,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Daily Sched Code :"}),e.jsx("input",{type:"text",value:It,onChange:ce=>Dt(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:ke,className:"px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:pe?"Update":"Add"}),e.jsx("button",{onClick:()=>Ee(!1),className:"px-5 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]})]})}),e.jsx(ls,{})]})}function dJ(){const[t,a]=o.useState([2,3,4,5,6,7,8,9,10]),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState("5/5/2021"),[u,h]=o.useState("05/05/2021"),m=w=>{a(p=>p.includes(w)?p.filter(v=>v!==w):[...p,w])},b=()=>{t.length===cu.length?a([]):a(cu.map(w=>w.id))},g=w=>{const p=w.target.files?.[0];p&&(r(p.name),l(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Overtime Application 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Br,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Import overtime application records from Excel or CSV files. Select the TKS groups and date range to process overtime applications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Import from Excel/CSV files"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select TKS groups"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download template format"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:t,onToggle:m,onSelectAll:b}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:s}),e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",onChange:g,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Change File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsx(Ln,{date:i,onChange:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsx(Ln,{date:u,onChange:h})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:!1,onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Overtime Application"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing overtime records before importing new data"})]})]})}),e.jsx("div",{className:"bg-gray-100 border border-gray-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"list-not-equal",checked:!1,onChange:()=>{},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"List Not Equal"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Show only records with discrepancies or mismatches"})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(cd,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Need a template?"})]}),e.jsx("div",{className:"ml-6",children:e.jsxs("button",{className:"px-4 py-2 bg-white border border-blue-300 text-blue-700 rounded-lg hover:bg-blue-50 transition-colors text-sm flex items-center gap-2",children:[e.jsx(In,{className:"w-3 h-3"}),"Download Template"]})})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs",children:"Ready to import"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Num OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Approved"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Reason"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(cd,{className:"w-16 h-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900",children:"No data available"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Upload and select a file to preview import data"})]})]})})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""})]})]})]})]})]})}),e.jsx(ls,{})]})}function uJ(){const[t,a]=o.useState([2,3,4,5,6,7,8,9,10]),[s,r]=o.useState("Copy of I - Workshift.xlsx"),[n,l]=o.useState(!0),[i,c]=o.useState("3/1/2020"),[u,h]=o.useState("03/15/2020"),[m,b]=o.useState(!1),[g,w]=o.useState("workshift-variable"),p=y=>{a(N=>N.includes(y)?N.filter(C=>C!==y):[...N,y])},v=()=>{t.length===cu.length?a([]):a(cu.map(y=>y.id))},f=y=>{const N=y.target.files?.[0];N&&(r(N.name),l(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Workshift Variable 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Batch import workshift schedules and rest day assignments for employees. Upload Excel files to configure work schedules across multiple employee groups efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import workshift schedules by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure rest days for employee groups"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Download Excel templates for easy formatting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update existing records or import new data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:t,onToggle:p,onSelectAll:v}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Excel File"}),e.jsxs("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:s}),e.jsx("div",{className:"text-xs text-teal-600",children:"File loaded successfully"})]})]}),e.jsx("input",{type:"file",onChange:f,accept:".xlsx,.xls",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-teal-500 text-white rounded-lg cursor-pointer hover:bg-teal-600 transition-colors text-sm",children:"Change File"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:i,onChange:c,label:"Date From"}),e.jsx(Ln,{date:u,onChange:h,label:"Date To"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Import Type"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border-2 border-blue-500 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-variable",checked:g==="workshift-variable",onChange:y=>w(y.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift Variable"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"importType",value:"workshift-restday",checked:g==="workshift-restday",onChange:y=>w(y.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Workshift with Restday"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(In,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Download Templates:"})]}),e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(In,{className:"w-3 h-3"}),"Download Template (Workshift Variable)"]}),e.jsxs("a",{href:"#",className:"flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700",children:[e.jsx(In,{className:"w-3 h-3"}),"Download Template (Workshift w/ Rest Day)"]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-300 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",id:"delete-existing",checked:m,onChange:y=>b(y.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900",children:"Delete Existing Workshift and RestDay"}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Remove all existing workshift and rest day records before importing new data"})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Import Data"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Update Data"]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Import Preview"}),n&&e.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs",children:"File loaded"})]}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"EmpName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateFrom"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"DateTo"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"TKSGroup"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-16 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(cd,{className:"w-16 h-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-900",children:"No data available"}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Select a worksheet to preview import data"})]})]})})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"w-6 h-6 flex items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:""})]})]})]})]})]})}),e.jsx(ls,{})]})}function xJ(){const[t,a]=o.useState([2,3,4,5,6,7,8,9,10]),[s,r]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(!1),[f,y]=o.useState("B3-TFT-U_DATFILE"),[N,C]=o.useState(""),[S,I]=o.useState(!1),[k,A]=o.useState(""),[F,O]=o.useState("active"),U=[{id:1,code:"001",name:"Juan Dela Cruz"},{id:2,code:"002",name:"Maria Santos"},{id:3,code:"003",name:"Pedro Reyes"},{id:4,code:"004",name:"Ana Garcia"},{id:5,code:"005",name:"Jose Hernandez"},{id:6,code:"006",name:"Carmen Lopez"},{id:7,code:"007",name:"Miguel Torres"},{id:8,code:"008",name:"Isabel Ramirez"},{id:9,code:"009",name:"Carlos Flores"},{id:10,code:"010",name:"Rosa Morales"}].filter(ye=>ye.code.toLowerCase().includes(k.toLowerCase())||ye.name.toLowerCase().includes(k.toLowerCase())),L=ye=>{a(K=>K.includes(ye)?K.filter(ne=>ne!==ye):[...K,ye])},G=()=>{t.length===cu.length?a([]):a(cu.map(ye=>ye.id))},re=ye=>{const K=ye.target.files?.[0];K&&(C(K.name),I(!0))};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Import Logs From Device 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Import employee attendance logs directly from biometric devices. Upload device log files to batch process time-in and time-out records for multiple employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Import device logs by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Consolidate daily time records automatically"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"View and validate logs before processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by device and employee status"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 mb-6",children:[e.jsx(Dc,{selectedCodes:t,onToggle:L,onSelectAll:G}),e.jsxs("div",{className:"lg:col-span-3 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Import Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Ln,{date:s,onChange:r,label:"From:"}),e.jsx(Ln,{date:n,onChange:l,label:"To:"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:ye=>c(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Consolidate DTR"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:ye=>h(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable Device Code"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:ye=>b(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Do Not Include Resigned Employees"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:ye=>w(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Upload logs from Online System only"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:ye=>v(ye.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Logs of the Device"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Device:"}),e.jsxs("select",{value:f,onChange:ye=>y(ye.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"B3-TFT-U_DATFILE",children:"B3-TFT-U_DATFILE"}),e.jsx("option",{value:"Device2",children:"Device 2"}),e.jsx("option",{value:"Device3",children:"Device 3"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"File Name:"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"file",onChange:re,accept:".dat,.txt",className:"hidden",id:"file-upload"}),e.jsx("label",{htmlFor:"file-upload",className:"px-4 py-2 bg-gray-600 text-white rounded cursor-pointer hover:bg-gray-700 transition-colors text-sm",children:"Choose Files"}),e.jsx("span",{className:"text-sm text-gray-600",children:N||"No file chosen"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs("button",{className:"px-6 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Import"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors flex items-center gap-2",children:[e.jsx(IP,{className:"w-4 h-4"}),"View Logs"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Validate"]}),e.jsxs("button",{className:"px-6 py-2.5 bg-orange-600 text-white rounded hover:bg-orange-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employee Selection"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Search:"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:k,onChange:ye=>A(ye.target.value),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:U.map(ye=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ye.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ye.name})]},ye.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Showing 1 to 10 of 704 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"5"}),e.jsx("span",{className:"px-2",children:"..."}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"71"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:F==="active",onChange:ye=>O(ye.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"inactive",checked:F==="inactive",onChange:ye=>O(ye.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"all",checked:F==="all",onChange:ye=>O(ye.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 bg-white border-b border-gray-200",children:e.jsx("h3",{className:"text-gray-900",children:"Device Log Preview"})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Employee Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actual Date/Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Flag"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break1In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break2Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Break3In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Workshift"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:14,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Showing 0 entries"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function hJ({show:t,onClose:a,onSelect:s,searchTerm:r,setSearchTerm:n}){if(!t)return null;const i=[{code:"BL",description:"Birthday Leave"},{code:"HL",description:"Home Leave"},{code:"PL",description:"Paternity Leave"},{code:"SL",description:"Sick Leave"},{code:"SPL",description:"Solo Parent Leave"},{code:"VL",description:"Vacation Leave"},{code:"WN",description:"Leave with notice"}].filter(c=>c.code.toLowerCase().includes(r.toLowerCase())||c.description.toLowerCase().includes(r.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Leave Type"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:c=>n(c.target.value),className:"w-64 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description "})]})}),e.jsx("tbody",{children:i.map(c=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(c.code,c.description),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:c.code}),e.jsx("td",{className:"px-3 py-1.5",children:c.description})]},c.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 7 of 7 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function mJ({show:t,onClose:a,onSelect:s,searchTerm:r,setSearchTerm:n}){if(!t)return null;const i=[{code:"WS001",description:"Regular Shift"},{code:"WS002",description:"Night Shift"},{code:"WS003",description:"Swing Shift"},{code:"WS004",description:"Morning Shift"},{code:"WS005",description:"Evening Shift"}].filter(c=>c.code.toLowerCase().includes(r.toLowerCase())||c.description.toLowerCase().includes(r.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:c=>n(c.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:i.map(c=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(c.code,c.description),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:c.code}),e.jsx("td",{className:"px-3 py-1.5",children:c.description})]},c.code))})]})})]})]})})]})}function pJ({show:t,onClose:a,onSelect:s,searchTerm:r,setSearchTerm:n}){if(!t)return null;const i=[{code:"ADJ_PAY",description:"Adjustment",rate:"100.00",defaultAmount:"0.00"},{code:"ATESTOT1",description:"TEST OT 11",rate:"123.00",defaultAmount:"0.00"},{code:"BASC_RATE",description:"Basic Rate",rate:"100.00",defaultAmount:"0.00"},{code:"HOLIDAY",description:"Unworked Holiday Pay",rate:"100.00",defaultAmount:"0.00"},{code:"HOLMON",description:"Holiday Monthly",rate:"0.00",defaultAmount:"0.00"},{code:"ND_BASIC",description:"Night Differential Basic Rate",rate:"10.00",defaultAmount:"0.00"},{code:"ND_LHF8",description:"ND Legal Holiday First 8 Hours",rate:"20.00",defaultAmount:"0.00"},{code:"ND_LHRDF8",description:"ND Legal Holiday falls on Rest Day First 8 Hours",rate:"26.00",defaultAmount:"0.00"},{code:"ND_LHRDX8",description:"ND Legal Holiday falls on Rest Day Excess of 8 Hours",rate:"33.80",defaultAmount:"0.00"},{code:"ND_LHX8",description:"ND Legal Holiday Excess of 8 Hours",rate:"26.00",defaultAmount:"0.00"}].filter(c=>c.code.toLowerCase().includes(r.toLowerCase())||c.description.toLowerCase().includes(r.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Overtime Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:c=>n(c.target.value),className:"w-64 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:i.map(c=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(c.code,c.description),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:c.code}),e.jsx("td",{className:"px-3 py-1.5",children:c.description}),e.jsx("td",{className:"px-3 py-1.5",children:c.rate}),e.jsx("td",{className:"px-3 py-1.5",children:c.defaultAmount})]},c.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:"Showing 1 to 10 of 68 entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"2"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"3"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"4"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"5"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"6"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"7"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function gJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,transactionDate:l,setTransactionDate:i,transactionType:c,setTransactionType:u,noOfHours:h,setNoOfHours:m,overtimeCode:b,setOvertimeCode:g,onSubmit:w}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:p=>n(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Date :"}),e.jsx("input",{type:"text",value:l,onChange:p=>i(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Type :"}),e.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No of Hours :"}),e.jsx("input",{type:"text",value:h,onChange:p=>m(p.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-xs",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime Code :"}),e.jsx("input",{type:"text",value:b,onChange:p=>g(p.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function fJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,transactionDate:l,setTransactionDate:i,transactionType:c,setTransactionType:u,leaveType:h,setLeaveType:m,overtimeCode:b,setOvertimeCode:g,noOfHours:w,setNoOfHours:p,adjustType:v,setAdjustType:f,remarks:y,setRemarks:N,isLateFiling:C,setIsLateFiling:S,isLateFilingActualDate:I,setIsLateFilingActualDate:k,borrowedDeviceName:A,setBorrowedDeviceName:F,onSubmit:O}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Adjustments"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:M=>n(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Date :"}),e.jsx("input",{type:"text",value:l,onChange:M=>i(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Transaction Type :"}),e.jsxs("select",{value:c,onChange:M=>u(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Leave Type :"}),e.jsx("input",{type:"text",value:h,onChange:M=>m(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime Code :"}),e.jsx("input",{type:"text",value:b,onChange:M=>g(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No Of Hours :"}),e.jsx("input",{type:"text",value:w,onChange:M=>p(M.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-xs",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Adjust Type :"}),e.jsxs("select",{value:v,onChange:M=>f(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"Leave and Absences",children:"Leave and Absences"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:y,onChange:M=>N(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"IsLateFiling :"}),e.jsx("input",{type:"checkbox",checked:C,onChange:M=>S(M.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-44 text-gray-700",children:"IsLateFilingActualDate :"}),e.jsx("input",{type:"text",value:I,onChange:M=>k(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-44 text-gray-700",children:"Borrowed Device Name :"}),e.jsx("input",{type:"text",value:A,onChange:M=>F(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:O,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function yJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,date:l,setDate:i,allowanceCode:c,setAllowanceCode:u,description:h,setDescription:m,amount:b,setAmount:g,remarks:w,setRemarks:p,onSubmit:v}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx("input",{type:"text",value:l,onChange:f=>i(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"AllowanceCode :"}),e.jsx("input",{type:"text",value:c,onChange:f=>u(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Description :"}),e.jsx("input",{type:"text",value:h,onChange:f=>m(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Amount :"}),e.jsx("input",{type:"text",value:b,onChange:f=>g(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:w,onChange:f=>p(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:v,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function bJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:c,setDateTo:u,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:g,workshiftCode:w,setWorkshiftCode:p,undertime:v,setUndertime:f,undertimeWithinGracePeriod:y,setUndertimeWithinGracePeriod:N,actualUndertime:C,setActualUndertime:S,remarks:I,setRemarks:k,onSubmit:A,onWorkshiftSearch:F}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Undertime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:O=>n(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"text",value:l,onChange:O=>i(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"text",value:c,onChange:O=>u(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time In :"}),e.jsx("input",{type:"text",value:h,onChange:O=>m(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Time Out :"}),e.jsx("input",{type:"text",value:b,onChange:O=>g(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:w,onChange:O=>p(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:F,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Undertime :"}),e.jsx("input",{type:"text",value:v,onChange:O=>f(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Undertime Within GracePeriod :"}),e.jsx("input",{type:"text",value:y,onChange:O=>N(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"ActualUndertime :"}),e.jsx("input",{type:"text",value:C,onChange:O=>S(O.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:I,onChange:O=>k(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function vJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:c,setDateTo:u,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:g,workshiftCode:w,setWorkshiftCode:p,overtime:v,setOvertime:f,otCode:y,setOtCode:N,reason:C,setReason:S,remarks:I,setRemarks:k,onSubmit:A,onWorkshiftSearch:F,onOTCodeSearch:O}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:M=>n(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"DateFrom :"}),e.jsx("input",{type:"text",value:l,onChange:M=>i(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"DateTo :"}),e.jsx("input",{type:"text",value:c,onChange:M=>u(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"TimeIn :"}),e.jsx("input",{type:"text",value:h,onChange:M=>m(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"TimeOut :"}),e.jsx("input",{type:"text",value:b,onChange:M=>g(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"WorkshiftCode :"}),e.jsx("input",{type:"text",value:w,onChange:M=>p(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:F,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Overtime :"}),e.jsx("input",{type:"text",value:v,onChange:M=>f(M.target.value),className:"w-28 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"OTCode :"}),e.jsx("input",{type:"text",value:y,onChange:M=>N(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:O,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:C,onChange:M=>S(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:I,onChange:M=>k(M.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function wJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,date:l,setDate:i,hoursLeaveAbsent:c,setHoursLeaveAbsent:u,leaveCode:h,setLeaveCode:m,leaveDescription:b,setLeaveDescription:g,reason:w,setReason:p,remarks:v,setRemarks:f,withPay:y,setWithPay:N,exemptForAllowanceDeduction:C,setExemptForAllowanceDeduction:S,onSubmit:I,onLeaveCodeSearch:k}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Processed Leaves And Absences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:A=>n(A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Date :"}),e.jsx("input",{type:"text",value:l,onChange:A=>i(A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Hours LeaveAbsent :"}),e.jsx("input",{type:"text",value:c,onChange:A=>u(A.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Leave Code :"}),e.jsx("input",{type:"text",value:h,onChange:A=>m(A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:k,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Leave Description :"}),e.jsx("input",{type:"text",value:b,onChange:A=>g(A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:w,onChange:A=>p(A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:v,onChange:A=>f(A.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:y,onChange:A=>N(A.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Exempt for Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:C,onChange:A=>S(A.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:I,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function NJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,workshiftCode:l,setWorkshiftCode:i,dateIn:c,setDateIn:u,dateOut:h,setDateOut:m,noOfHours:b,setNoOfHours:g,onSubmit:w,onWorkshiftSearch:p}){const[v,f]=o.useState(!1),[y,N]=o.useState(!1),[C,S]=o.useState(!1),[I,k]=o.useState(!1),A=G=>{const re=G.trim().split(" ");return{datePart:re[0]??"",timePart:re.length>1?re.slice(1).join(" "):""}},F=()=>{f(!1),N(!1),S(!1),k(!1)};o.useEffect(()=>{t||F()},[t]);const O=G=>{const{timePart:re}=A(c);u(re?`${G} ${re}`:G),f(!1)},M=G=>{const{timePart:re}=A(h);m(re?`${G} ${re}`:G),N(!1)},U=G=>{const{datePart:re}=A(c);u(re?`${re} ${G}`:G),S(!1)},L=G=>{const{datePart:re}=A(h);m(re?`${re} ${G}`:G),k(!1)};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Adjustments"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:G=>n(G.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:l,onChange:G=>i(G.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:p,className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date In :"}),e.jsx("input",{type:"text",value:c,onChange:G=>u(G.target.value),placeholder:"MM/DD/YYYY HH:MM AM",className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>{F(),f(G=>!G)},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{F(),S(G=>!G)},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(ur,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date Out :"}),e.jsx("input",{type:"text",value:h,onChange:G=>m(G.target.value),placeholder:"MM/DD/YYYY HH:MM AM",className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>{F(),N(G=>!G)},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{F(),k(G=>!G)},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(ur,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(""),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No. Of Hours :"}),e.jsx("input",{type:"text",value:b,onChange:G=>g(G.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-sm",children:"Back to List"})]})]})]})}),v&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(Ga,{onDateSelect:O,onClose:()=>f(!1)})}),document.body),C&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(va,{onTimeSelect:U,onClose:()=>S(!1),initialTime:A(c).timePart})}),document.body),y&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(Ga,{onDateSelect:M,onClose:()=>N(!1)})}),document.body),I&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(va,{onTimeSelect:L,onClose:()=>k(!1),initialTime:A(h).timePart})}),document.body)]}):null}function jJ({show:t,onClose:a,isEditMode:s,empCode:r,setEmpCode:n,dateFrom:l,setDateFrom:i,dateTo:c,setDateTo:u,timeIn:h,setTimeIn:m,timeOut:b,setTimeOut:g,workShiftCode:w,setWorkShiftCode:p,onWorkshiftSearch:v,tardiness:f,setTardiness:y,tardinessHHMM:N,setTardinessHHMM:C,tardinessWithinGracePeriod:S,setTardinessWithinGracePeriod:I,tardinessWithinGracePeriodHHMM:k,setTardinessWithinGracePeriodHHMM:A,actualTardiness:F,setActualTardiness:O,actualTardinessHHMM:M,setActualTardinessHHMM:U,remarks:L,setRemarks:G,groupCode:re,setGroupCode:ye,offSetOTFlag:K,setOffSetOTFlag:ne,exemptionRpt:H,setExemptionRpt:se,glCode:we,setGLCode:Y,onSubmit:E}){const[P,V]=o.useState(!1),[D,R]=o.useState(!1),[ee,Se]=o.useState(!1),[ue,oe]=o.useState(!1),le=B=>{const q=B.trim().split(" ");return{datePart:q[0]??"",timePart:q.length>1?q.slice(1).join(" "):""}},Q=()=>{V(!1),R(!1),Se(!1),oe(!1)};o.useEffect(()=>{t||Q()},[t]);const ve=B=>{const{timePart:q}=le(l);i(q?`${B} ${q}`:B),V(!1)},Ce=B=>{const{timePart:q}=le(c);u(q?`${B} ${q}`:B),R(!1)},$e=B=>{m(B),Se(!1)},Ae=B=>{g(B),oe(!1)};if(!t)return null;const We="flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",Re="w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",et=B=>`px-3 py-1.5 ${B} text-white rounded-lg transition-colors`;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:s?"Edit Record":"Create New"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Processed Tardiness"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:r,onChange:B=>n(B.target.value),className:We})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"text",value:l,onChange:B=>i(B.target.value),placeholder:"MM/DD/YYYY",className:We}),e.jsx("button",{onClick:()=>{Q(),V(B=>!B)},className:et("bg-blue-600 hover:bg-blue-700"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i(""),className:et("bg-red-600 hover:bg-red-700"),children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"text",value:c,onChange:B=>u(B.target.value),placeholder:"MM/DD/YYYY",className:We}),e.jsx("button",{onClick:()=>{Q(),R(B=>!B)},className:et("bg-blue-600 hover:bg-blue-700"),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(""),className:et("bg-red-600 hover:bg-red-700"),children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Time In :"}),e.jsx("input",{type:"text",value:h,onChange:B=>m(B.target.value),placeholder:"HH:MM AM/PM",className:We}),e.jsx("button",{onClick:()=>{Q(),Se(B=>!B)},className:et("bg-blue-600 hover:bg-blue-700"),children:e.jsx(ur,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(""),className:et("bg-red-600 hover:bg-red-700"),children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Time Out :"}),e.jsx("input",{type:"text",value:b,onChange:B=>g(B.target.value),placeholder:"HH:MM AM/PM",className:We}),e.jsx("button",{onClick:()=>{Q(),oe(B=>!B)},className:et("bg-blue-600 hover:bg-blue-700"),children:e.jsx(ur,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(""),className:et("bg-red-600 hover:bg-red-700"),children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:w,onChange:B=>p(B.target.value),className:We}),e.jsx("button",{onClick:v,className:et("bg-green-600 hover:bg-green-700"),children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:et("bg-red-600 hover:bg-red-700"),children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Tardiness :"}),e.jsx("input",{type:"text",value:f,onChange:B=>y(B.target.value),placeholder:"[hh.mm]",className:Re}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Tardiness HHMM :"}),e.jsx("input",{type:"text",value:N,onChange:B=>C(B.target.value),placeholder:"[hh.mm]",className:Re}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Tardiness Within Grace Period :"}),e.jsx("input",{type:"text",value:S,onChange:B=>I(B.target.value),placeholder:"[hh.mm]",className:Re}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Grace Period HHMM :"}),e.jsx("input",{type:"text",value:k,onChange:B=>A(B.target.value),placeholder:"[hh.mm]",className:Re}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Actual Tardiness :"}),e.jsx("input",{type:"text",value:F,onChange:B=>O(B.target.value),placeholder:"[hh.mm]",className:Re}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Actual Tardiness HHMM :"}),e.jsx("input",{type:"text",value:M,onChange:B=>U(B.target.value),placeholder:"[hh.mm]",className:Re}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:L,onChange:B=>G(B.target.value),className:We})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Group Code :"}),e.jsx("input",{type:"text",value:re,onChange:B=>ye(B.target.value),className:We})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Offset OT Flag :"}),e.jsx("input",{type:"checkbox",checked:K,onChange:B=>ne(B.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"Exemption Rpt :"}),e.jsxs("select",{value:H,onChange:B=>se(B.target.value),className:We,children:[e.jsx("option",{value:""}),e.jsx("option",{value:"Approved",children:"Approved"}),e.jsx("option",{value:"Disapproved",children:"Disapproved"}),e.jsx("option",{value:"Disapproved by HR",children:"Disapproved by HR"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-56 text-gray-700",children:"GL Code :"}),e.jsx("input",{type:"text",value:we,onChange:B=>Y(B.target.value),className:We,disabled:s,title:s?"GL Code cannot be changed after creation":""})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:E,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:s?"Update":"Submit"}),e.jsx("button",{onClick:a,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),P&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(Ga,{onDateSelect:ve,onClose:()=>V(!1)})}),document.body),D&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(Ga,{onDateSelect:Ce,onClose:()=>R(!1)})}),document.body),ee&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(va,{onTimeSelect:$e,onClose:()=>Se(!1),initialTime:h})}),document.body),ue&&Dl.createPortal(e.jsx("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[9999]",children:e.jsx(va,{onTimeSelect:Ae,onClose:()=>oe(!1),initialTime:b})}),document.body)]})}const QC=t=>{if(!t)return null;const a=t.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})(?:\s+(\d{1,2}):(\d{2})\s*(AM|PM))?/i);if(a){const[,n,l,i,c,u,h]=a;let m=c?parseInt(c):0;const b=u?parseInt(u):0;return h?.toUpperCase()==="PM"&&m!==12&&(m+=12),h?.toUpperCase()==="AM"&&m===12&&(m=0),`${i}-${n.padStart(2,"0")}-${l.padStart(2,"0")}T${String(m).padStart(2,"0")}:${String(b).padStart(2,"0")}:00`}const s={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12"},r=t.match(/^(\w+)\.?\s+(\d{1,2}),\s+(\d{4})\s+(\d{1,2}):(\d{2})\s*(am|pm)/i);if(r){const[,n,l,i,c,u,h]=r,m=s[n.slice(0,3).toLowerCase()];if(!m)return null;let b=parseInt(c);const g=parseInt(u);return h.toLowerCase()==="pm"&&b!==12&&(b+=12),h.toLowerCase()==="am"&&b===12&&(b=0),`${i}-${m}-${l.padStart(2,"0")}T${String(b).padStart(2,"0")}:${String(g).padStart(2,"0")}:00`}return null},Vd=t=>{if(!t)return null;const a=new Date(t);if(isNaN(a.getTime()))return null;const s=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${s}-${r}-${n}`},Ym=t=>{if(!t)return"";const a=new Date(t);if(isNaN(a.getTime()))return t;const s=a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}).replace(/(\w+)\s(\d+),/,"$1. $2,"),r=a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}).toLowerCase();return`${s} ${r}`},ZC=t=>{if(!t)return"";const a=new Date(t);return isNaN(a.getTime())?t:a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}).replace(/(\w+)\s(\d+),/,"$1. $2,")},e4=t=>{if(!t)return"";const a=new Date(t);return isNaN(a.getTime())?t:a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})};function Yd({currentPage:t,totalCount:a,pageSize:s,onPageChange:r}){const n=Math.ceil(a/s),l=(t-1)*s,i=Math.min(l+s,a),c=()=>{const u=[];if(n<=7)for(let h=1;h<=n;h++)u.push(h);else if(t<=4){for(let h=1;h<=5;h++)u.push(h);u.push("..."),u.push(n)}else if(t>=n-3){u.push(1),u.push("...");for(let h=n-4;h<=n;h++)u.push(h)}else{u.push(1),u.push("...");for(let h=t-1;h<=t+1;h++)u.push(h);u.push("..."),u.push(n)}return u};return e.jsxs("div",{className:"flex items-center justify-between mt-4 px-4 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",a===0?0:l+1," to ",i," of ",a," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>r(Math.max(t-1,1)),disabled:t===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),c().map((u,h)=>u==="..."?e.jsx("span",{className:"px-2 text-gray-500 text-sm",children:"..."},`e-${h}`):e.jsx("button",{onClick:()=>r(u),className:`px-3 py-1 rounded text-sm transition-colors ${t===u?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:u},u)),e.jsx("button",{onClick:()=>r(Math.min(t+1,n)),disabled:t===n||n===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]})}function CJ(){const[t,a]=o.useState(""),[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState("01/01/2019"),[u,h]=o.useState("12/31/2019"),[m,b]=o.useState("No Of Hrs Per Day"),[g,w]=o.useState(!1),[p,v]=o.useState(!1),[f,y]=o.useState(!1),[N,C]=o.useState(!1),[S,I]=o.useState(""),[k,A]=o.useState([]),[F,O]=o.useState(!1),[M,U]=o.useState(null),[L,G]=o.useState(!1),[re,ye]=o.useState(!1),[K,ne]=o.useState(!1),[H,se]=o.useState(""),[we,Y]=o.useState(""),[E,P]=o.useState(""),[V,D]=o.useState(1),[R,ee]=o.useState(0),[Se,ue]=o.useState(1),[oe,le]=o.useState(0),[Q,ve]=o.useState(1),[Ce,$e]=o.useState(0),[Ae,We]=o.useState(1),[Re,et]=o.useState(0),[B,q]=o.useState(1),[Z,je]=o.useState(0),[De,Qe]=o.useState(1),[qe,Ye]=o.useState(0),[ht,St]=o.useState(1),[dt,Et]=o.useState(0),[Te,Ee]=o.useState(1),[pe,Je]=o.useState(0),pt=10,Mt=async()=>{C(!0),I("");try{const At=await z.get("/Maintenance/EmployeeMasterFile");if(At.status===200&&At.data){const Lt=At.data.map(Ms=>({empCode:Ms.empCode||Ms.code||"",name:`${Ms.lName||""}, ${Ms.fName||""} ${Ms.mName||""}`.trim(),groupCode:Ms.grpCode||""}));A(Lt)}}catch(At){I(At.response?.data?.message||At.message||"Failed to load employees")}finally{C(!1)}},Wt=()=>{Mt(),y(!0)},$t=(At,Lt,Ms)=>{a(At),r(Lt),l(Ms)},lt=()=>{a(""),r(""),l(""),Nt([]),Ke("")},[bt,Nt]=o.useState([]),[wt,It]=o.useState(!1),[Dt,Ke]=o.useState(""),[tt,Le]=o.useState(!1),[He,ge]=o.useState(""),[st,Ze]=o.useState(""),[Rt,ft]=o.useState(""),[kt,he]=o.useState(""),[be,ie]=o.useState(""),[de,J]=o.useState(""),_=o.useCallback(async()=>{if(!t)return;It(!0),Ke("");const At=Vd(i),Lt=Vd(u);if(!At||!Lt){Ke("Invalid date range. Please check Date From and Date To."),It(!1);return}try{const Ms=await z.get("/Maintenance/ProcessedData/PDNumberHoursPerDay",{params:{empCode:t,dateFrom:At,dateTo:Lt,start:(V-1)*pt,length:pt}});if(Ms.status===200&&Ms.data){const Sr=Ms.data.data??Ms.data,vr=Ms.data.totalCount??0;ee(vr);const lr=Sr.map(ta=>({id:ta.id??0,empCode:ta.empCode??"",workshiftCode:ta.workShiftCode??"",dateIn:Ym(ta.dateIn),dateOut:Ym(ta.dateOut),noOfHours:ta.noOfHoursHHMM??ta.noOfHours??"",groupCode:ta.groupCode??"",glCode:ta.glCode??""}));Nt(lr)}}catch(Ms){Ke(Ms.response?.data?.message||Ms.message||"Failed to load No Of Hours data")}finally{It(!1)}},[t,i,u,V]);o.useEffect(()=>{t&&m==="No Of Hrs Per Day"&&_()},[m,_]);const Fe=()=>{O(!1),U(null),ge(t),Ze(""),ft(""),he(""),ie(""),J(n),Le(!0)},Oe=At=>{const Lt=bt[At];O(!0),U(At),ge(Lt.empCode),Ze(Lt.workshiftCode),ft(Lt.dateIn),he(Lt.dateOut),ie(Lt.noOfHours),J(Lt.groupCode??""),Le(!0)},ke=async()=>{const At=QC(Rt),Lt=QC(kt);if(!At||!Lt){await xe.fire({icon:"error",title:"Invalid Date",text:"Invalid Date In or Date Out. Please use MM/DD/YYYY HH:MM AM format."});return}const Ms=be?parseFloat(be):null,Sr={empCode:He,workshiftCode:st||null,dateIn:At,dateOut:Lt,noOfHours:Ms,noOfHoursHHMM:Ms,groupCode:de||null,glCode:null},vr=`${Ym(Sr.dateIn)}  ${Ym(Sr.dateOut)}`;try{if(F&&M!==null){if(!(await xe.fire({icon:"question",title:"Confirm Update",text:`Are you sure you want to update the record for ${vr}?`,showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",confirmButtonText:"Yes",cancelButtonText:"Cancel"})).isConfirmed)return;const ta=bt[M].id;await z.put(`/Maintenance/ProcessedData/PDNumberHoursPerDay/${ta}`,Sr),await xe.fire({icon:"success",title:"Updated successfully",text:`Record for ${vr} updated.`,timer:1500,showConfirmButton:!1})}else await z.post("/Maintenance/ProcessedData/PDNumberHoursPerDay",Sr),await xe.fire({icon:"success",title:"Created successfully",text:`Record for ${vr} created.`,timer:1500,showConfirmButton:!1});await _()}catch(lr){await xe.fire({icon:"error",title:"Error",text:lr.response?.data?.message||lr.message||"Failed to save record"})}finally{Le(!1),O(!1),U(null)}},Ie=async At=>{const Lt=bt[At],Ms=`${Lt.dateIn}  ${Lt.dateOut}`;if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete the record for ${Ms}?`,showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Maintenance/ProcessedData/PDNumberHoursPerDay/${Lt.id}`),await _(),await xe.fire({icon:"success",title:"Deleted successfully",text:`Record for ${Ms} deleted.`,timer:1500,showConfirmButton:!1})}catch(vr){await xe.fire({icon:"error",title:"Error",text:vr.response?.data?.message||vr.message||"Failed to delete record"})}},[te,Pe]=o.useState([]),[ae,me]=o.useState(!1),[ce,Ge]=o.useState(""),[yt,Gt]=o.useState(!1),[W,Be]=o.useState(""),[rt,ns]=o.useState(""),[ps,ct]=o.useState(""),[ss,Ft]=o.useState(""),[Jt,vt]=o.useState(""),[Kt,jt]=o.useState(""),[Vt,cs]=o.useState(""),[sa,ua]=o.useState(""),[ka,Ea]=o.useState(""),[Ra,oa]=o.useState(""),[xa,Ka]=o.useState(""),[Ha,Ws]=o.useState(""),[Ta,at]=o.useState(""),[Qt,_s]=o.useState(""),[Us,nr]=o.useState(!1),[Ma,wa]=o.useState(""),[ya,gt]=o.useState(""),bs=o.useCallback(async()=>{if(!t)return;me(!0),Ge("");const At=Vd(i),Lt=Vd(u);if(!At||!Lt){Ge("Invalid date range. Please check Date From and Date To."),me(!1);return}try{const Ms=await z.get("/Maintenance/ProcessedData/PDTardiness",{params:{empCode:t,dateFrom:At,dateTo:Lt,start:(Se-1)*pt,length:pt}});if(Ms.status===200&&Ms.data){const Sr=Ms.data.data??Ms.data,vr=Ms.data.totalCount??0;le(vr);const lr=Sr.map(ta=>({id:ta.id??0,empCode:ta.empCode??"",dateFrom:ZC(ta.dateFrom),dateTo:ZC(ta.dateTo),timeIn:e4(ta.timeIn),timeOut:e4(ta.timeOut),workShiftCode:ta.workShiftCode??"",tardiness:ta.tardiness??"",tardinessHHMM:ta.tardinessHHMM??"",tardinessWithinGracePeriod:ta.tardinessWithinGracePeriod??"",tardinessWithinGracePeriodHHMM:ta.tardinessWithinGracePeriodHHMM??"",actualTardiness:ta.actualTardiness??"",actualTardinessHHMM:ta.actualTardinessHHMM??"",remarks:ta.remarks??"",groupCode:ta.groupCode??"",offSetOTFlag:ta.offSetOTFlag??!1,exemptionRpt:ta.exemptionRpt??"",glCode:ta.glCode??""}));Pe(lr)}}catch(Ms){Ge(Ms.response?.data?.message||Ms.message||"Failed to load Tardiness data")}finally{me(!1)}},[t,i,u,Se]);o.useEffect(()=>{t&&m==="Tardiness"&&bs()},[m,bs]);const _e=()=>{O(!1),U(null),Be(t),ns(""),ct(""),Ft(""),vt(""),jt(""),cs(""),ua(""),Ea(""),oa(""),Ka(""),Ws(""),at(""),_s(n),nr(!1),wa(""),gt(""),Gt(!0)},nt=At=>{const Lt=te[At];O(!0),U(At),Be(Lt.empCode),ns(Lt.dateFrom),ct(Lt.dateTo),Ft(Lt.timeIn),vt(Lt.timeOut),jt(Lt.workShiftCode),cs(String(Lt.tardiness)),ua(String(Lt.tardinessHHMM)),Ea(String(Lt.tardinessWithinGracePeriod)),oa(String(Lt.tardinessWithinGracePeriodHHMM)),Ka(String(Lt.actualTardiness)),Ws(String(Lt.actualTardinessHHMM)),at(Lt.remarks),_s(Lt.groupCode),nr(Lt.offSetOTFlag),wa(Lt.exemptionRpt),gt(Lt.glCode),Gt(!0)},xs=async()=>{const At=Vd(rt)?`${Vd(rt)}T00:00:00`:null,Lt=Vd(ps)?`${Vd(ps)}T00:00:00`:null;if(!At||!Lt){await xe.fire({icon:"error",title:"Invalid Date",text:"Invalid Date From or Date To. Please use MM/DD/YYYY format."});return}const Ms=na=>{if(!na?.trim())return null;const Gr=na.trim().match(/^(\d{1,2}):(\d{2})\s*(AM|PM)?$/i);if(!Gr)return null;let Ua=parseInt(Gr[1]);const $a=parseInt(Gr[2]),wn=Gr[3]?.toUpperCase();return wn==="PM"&&Ua!==12&&(Ua+=12),wn==="AM"&&Ua===12&&(Ua=0),`1900-01-01T${String(Ua).padStart(2,"0")}:${String($a).padStart(2,"0")}:00`},Sr=ss.trim()?Ms(ss):null,vr=Jt.trim()?Ms(Jt):null;if(ss.trim()&&!Sr){await xe.fire({icon:"error",title:"Invalid Time",text:"Invalid Time In. Please use HH:MM AM/PM format (e.g. 8:30 AM)."});return}if(Jt.trim()&&!vr){await xe.fire({icon:"error",title:"Invalid Time",text:"Invalid Time Out. Please use HH:MM AM/PM format (e.g. 5:00 PM)."});return}const lr=na=>na?.trim()?parseFloat(na):null,ta={empCode:W,dateFrom:At,dateTo:Lt,timeIn:Sr,timeOut:vr,workShiftCode:Kt||null,tardiness:lr(Vt),tardinessHHMM:lr(sa),tardinessWithinGracePeriod:lr(ka),tardinessWithinGracePeriodHHMM:lr(Ra),actualTardiness:lr(xa),actualTardinessHHMM:lr(Ha),remarks:Ta||null,groupCode:Qt||null,offSetOTFlag:Us,exemptionRpt:Ma||null,glCode:ya||null},ja=`${rt}  ${ps}`;try{if(F&&M!==null){if(!(await xe.fire({icon:"question",title:"Confirm Update",text:`Are you sure you want to update the record for ${ja}?`,showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",confirmButtonText:"Yes",cancelButtonText:"Cancel"})).isConfirmed)return;const Gr=te[M].id,{empCode:Ua,glCode:$a,...wn}=ta;await z.put(`/Maintenance/ProcessedData/PDTardiness/${Gr}`,wn),await xe.fire({icon:"success",title:"Updated successfully",text:`Record for ${ja} updated.`,timer:1500,showConfirmButton:!1})}else await z.post("/Maintenance/ProcessedData/PDTardiness",ta),await xe.fire({icon:"success",title:"Created successfully",text:`Record for ${ja} created.`,timer:1500,showConfirmButton:!1});await bs()}catch(na){await xe.fire({icon:"error",title:"Error",text:na.response?.data?.message||na.message||"Failed to save record"})}finally{Gt(!1),O(!1),U(null)}},Bs=async At=>{const Lt=te[At],Ms=`${Lt.dateFrom}  ${Lt.dateTo}`;if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete the record for ${Ms}?`,showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Maintenance/ProcessedData/PDTardiness/${Lt.id}`),await bs(),await xe.fire({icon:"success",title:"Deleted successfully",text:`Record for ${Ms} deleted.`,timer:1500,showConfirmButton:!1})}catch(vr){await xe.fire({icon:"error",title:"Error",text:vr.response?.data?.message||vr.message||"Failed to delete record"})}},[Ue,_t]=o.useState([]),[Ve,ds]=o.useState(!1),[ws,ea]=o.useState(""),[er,qa]=o.useState(""),[it,qt]=o.useState(""),[or,Hr]=o.useState(""),[Nr,jr]=o.useState(""),[Ya,ba]=o.useState(""),[br,ut]=o.useState(""),[Ts,aa]=o.useState(""),[cn,Cr]=o.useState(""),[Ar,Fr]=o.useState(""),tr=()=>{O(!1),U(null),ea(""),qa(""),qt(""),Hr(""),jr(""),ba(""),ut(""),aa(""),Cr(""),Fr(""),ds(!0)},Zr=At=>{const Lt=Ue[At];O(!0),U(At),ea(Lt.empCode),qa(Lt.dateFrom),qt(Lt.dateTo),Hr(Lt.timeIn),jr(Lt.timeOut),ba(Lt.workshiftCode),ut(Lt.undertime),aa(Lt.undertimeWithinGracePeriod),Cr(Lt.actualUndertime),Fr(Lt.remarks),ds(!0)},qn=()=>{const At={empCode:ws,dateFrom:er,dateTo:it,timeIn:or,timeOut:Nr,workshiftCode:Ya,undertime:br,undertimeWithinGracePeriod:Ts,actualUndertime:cn,remarks:Ar};if(F&&M!==null){const Lt=[...Ue];Lt[M]=At,_t(Lt)}else _t([...Ue,At]);ds(!1),O(!1),U(null)},_n=At=>{window.confirm("Delete?")&&_t(Ue.filter((Lt,Ms)=>Ms!==At))},[dn,Ao]=o.useState([]),[Yi,Fo]=o.useState(!1),[hi,Ki]=o.useState(""),[qi,fd]=o.useState(""),[bn,Po]=o.useState(""),[Fc,Pc]=o.useState(""),[yd,mi]=o.useState(""),[bd,pi]=o.useState(""),[Ml,Xi]=o.useState(""),[vd,Ji]=o.useState(!1),[Qi,Ic]=o.useState(!1),Mc=()=>{O(!1),U(null),Ki(""),fd(""),Po(""),Pc(""),mi(""),pi(""),Xi(""),Ji(!1),Ic(!1),Fo(!0)},Lc=At=>{const Lt=dn[At];O(!0),U(At),Ki(Lt.empCode),fd(Lt.date),Po(Lt.hoursLeaveAbsent),Pc(Lt.leaveCode),mi(Lt.leaveDescription),pi(Lt.reason),Xi(Lt.remarks),Ji(Lt.withPay),Ic(Lt.exemptForAllowanceDeduction),Fo(!0)},Oc=()=>{const At={empCode:hi,date:qi,hoursLeaveAbsent:bn,leaveCode:Fc,leaveDescription:yd,reason:bd,remarks:Ml,withPay:vd,exemptForAllowanceDeduction:Qi};if(F&&M!==null){const Lt=[...dn];Lt[M]=At,Ao(Lt)}else Ao([...dn,At]);Fo(!1),O(!1),U(null)},wd=At=>{window.confirm("Delete?")&&Ao(dn.filter((Lt,Ms)=>Ms!==At))},[Ll,Zi]=o.useState([]),[_c,Ol]=o.useState(!1),[Nd,Bc]=o.useState(""),[Xn,Io]=o.useState(""),[rs,al]=o.useState(""),[cr,gi]=o.useState(""),[Rc,Hc]=o.useState(""),[Pr,ec]=o.useState(""),[rl,go]=o.useState(""),[Mo,Lo]=o.useState(""),[_l,nl]=o.useState(""),[tc,Bl]=o.useState(""),Rl=()=>{O(!1),U(null),Bc(""),Io(""),al(""),gi(""),Hc(""),ec(""),go(""),Lo(""),nl(""),Bl(""),Ol(!0)},Ir=At=>{const Lt=Ll[At];O(!0),U(At),Bc(Lt.empCode),Io(Lt.dateFrom),al(Lt.dateTo),gi(Lt.timeIn),Hc(Lt.timeOut),ec(Lt.workshiftCode),go(Lt.overtime),Lo(Lt.otCode),nl(Lt.reason),Bl(Lt.remarks),Ol(!0)},ol=()=>{const At={empCode:Nd,dateFrom:Xn,dateTo:rs,timeIn:cr,timeOut:Rc,workshiftCode:Pr,overtime:rl,otCode:Mo,reason:_l,remarks:tc};if(F&&M!==null){const Lt=[...Ll];Lt[M]=At,Zi(Lt)}else Zi([...Ll,At]);Ol(!1),O(!1),U(null)},fi=At=>{window.confirm("Delete?")&&Zi(Ll.filter((Lt,Ms)=>Ms!==At))},[Oo,Hl]=o.useState([]),[jd,sc]=o.useState(!1),[Cd,Sd]=o.useState(""),[kd,Dd]=o.useState(""),[vn,Ul]=o.useState(""),[Uc,$c]=o.useState(""),[pa,ll]=o.useState(""),[yi,fo]=o.useState(""),ac=()=>{O(!1),U(null),Sd(""),Dd(""),Ul(""),$c(""),ll(""),fo(""),sc(!0)},Ur=At=>{const Lt=Oo[At];O(!0),U(At),Sd(Lt.empCode),Dd(Lt.date),Ul(Lt.allowanceCode),$c(Lt.description),ll(Lt.amount),fo(Lt.remarks),sc(!0)},$l=()=>{const At={empCode:Cd,date:kd,allowanceCode:vn,description:Uc,amount:pa,remarks:yi,groupCode:"",glCode:""};if(F&&M!==null){const Lt=[...Oo];Lt[M]=At,Hl(Lt)}else Hl([...Oo,At]);sc(!1),O(!1),U(null)},Wl=At=>{window.confirm("Delete?")&&Hl(Oo.filter((Lt,Ms)=>Ms!==At))},[$r,Jn]=o.useState([]),[il,un]=o.useState(!1),[bi,Wc]=o.useState(""),[vi,wi]=o.useState(""),[cl,_o]=o.useState(""),[Ni,yo]=o.useState(""),[Gl,en]=o.useState(""),[Wr,dl]=o.useState(""),[ji,zl]=o.useState(""),[Vl,Ci]=o.useState(""),[Yl,bo]=o.useState(!1),[Na,Bo]=o.useState(""),[Ro,ul]=o.useState(""),Gc=()=>{O(!1),U(null),Wc(""),wi(""),_o(""),yo(""),en(""),dl(""),zl(""),Ci(""),bo(!1),Bo(""),ul(""),un(!0)},zc=At=>{const Lt=$r[At];O(!0),U(At),Wc(Lt.empCode),wi(Lt.transactionDate),_o(Lt.transactionType),yo(Lt.leaveType),en(Lt.overtimeCode),dl(Lt.noOfHours),zl(Lt.adjustType),Ci(Lt.remarks),bo(Lt.isLateFiling),Bo(Lt.isLateFilingActualDate),ul(Lt.borrowedDeviceName),un(!0)},Ho=()=>{const At={empCode:bi,transactionDate:vi,transactionType:cl,leaveType:Ni,overtimeCode:Gl,noOfHours:Wr,adjustType:ji,remarks:Vl,isLateFiling:Yl,isLateFilingActualDate:Na,borrowedDeviceName:Ro,groupCode:"",glCode:""};if(F&&M!==null){const Lt=[...$r];Lt[M]=At,Jn(Lt)}else Jn([...$r,At]);un(!1),O(!1),U(null)},xl=At=>{window.confirm("Delete?")&&Jn($r.filter((Lt,Ms)=>Ms!==At))},[Mr,hl]=o.useState([]),[Vc,Si]=o.useState(!1),[rc,Kl]=o.useState(""),[Uo,$o]=o.useState(""),[vo,Wo]=o.useState(""),[ml,Yc]=o.useState(""),[nc,Kc]=o.useState(""),pl=()=>{O(!1),U(null),Kl(""),$o(""),Wo(""),Yc(""),Kc(""),Si(!0)},qc=At=>{const Lt=Mr[At];O(!0),U(At),Kl(Lt.empCode),$o(Lt.transactionDate),Wo(Lt.transactionType),Yc(Lt.noOfHours),Kc(Lt.overtimeCode),Si(!0)},Qn=()=>{const At={empCode:rc,transactionDate:Uo,transactionType:vo,noOfHours:ml,overtimeCode:nc,groupCode:"",glCode:""};if(F&&M!==null){const Lt=[...Mr];Lt[M]=At,hl(Lt)}else hl([...Mr,At]);Si(!1),O(!1),U(null)},ki=At=>{window.confirm("Delete?")&&hl(Mr.filter((Lt,Ms)=>Ms!==At))},Go=At=>{Ve?ba(At):_c?ec(At):yt?jt(At):tt&&Ze(At),G(!1)},tn=At=>{Lo(At),ye(!1)},ql=(At,Lt)=>{Pc(At),mi(Lt),ne(!1)},wo=()=>{m==="No Of Hrs Per Day"&&_()};o.useEffect(()=>{const At=Lt=>{Lt.key==="Escape"&&(y(!1),Le(!1),Gt(!1),ds(!1),Fo(!1),Ol(!1),sc(!1),un(!1),Si(!1),G(!1),ye(!1),ne(!1))};return document.addEventListener("keydown",At),()=>document.removeEventListener("keydown",At)},[]);const Di=()=>{switch(m){case"No Of Hrs Per Day":return Fe();case"Tardiness":return _e();case"Undertime":return tr();case"Leave and Absences":return Mc();case"Overtime":return Rl();case"Other Earnings and Allowances":return ac();case"Adjustment":return Gc();case"Advanced":return pl()}},gu=()=>{switch(m){case"No Of Hrs Per Day":return"Process No. Hours Per Day";case"Tardiness":return"Process Tardiness";case"Undertime":return"Process Undertime";case"Leave and Absences":return"Process Leave and Absences";case"Overtime":return"Process Overtime";case"Other Earnings and Allowances":return"Process Other Earnings and Allowances";case"Adjustment":return"Process Adjustment";case"Advanced":return"Process Advanced";default:return"Process No. Hours Per Day"}},gl=[{name:"No Of Hrs Per Day",icon:ur},{name:"Tardiness",icon:Ba},{name:"Undertime",icon:E7},{name:"Leave and Absences",icon:nP},{name:"Overtime",icon:G7},{name:"Other Earnings and Allowances",icon:TP},{name:"Adjustment",icon:rx},{name:"Advanced",icon:RS}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:gu()})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process and manage employee attendance data including hours worked, tardiness, undertime, leaves, and overtime."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Track daily work hours","Monitor tardiness and undertime","Process overtime records","Manage leave and absences"].map(At=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:At})]},At))})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("label",{className:"text-sm font-bold text-gray-700 w-32 flex-shrink-0",children:"Employee Code"}),e.jsx("input",{type:"text",value:t,readOnly:!0,placeholder:"Select employee...",className:"w-48 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50 cursor-default"}),e.jsx("label",{className:"text-sm font-bold text-gray-700 ml-2 flex-shrink-0",children:"Employee Name"}),e.jsx("input",{type:"text",value:s,readOnly:!0,placeholder:"Select employee...",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded bg-gray-50"}),e.jsx("button",{onClick:Wt,className:"px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",title:"Search employee",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:lt,className:"px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",title:"Clear employee",children:e.jsx(ot,{className:"w-4 h-4"})})]})}),e.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("label",{className:"text-gray-700 font-bold text-sm flex-shrink-0",children:"Date From"}),e.jsx("input",{type:"text",value:i,onChange:At=>c(At.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>w(!g),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),g&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Ga,{onDateSelect:At=>{c(At),w(!1)},onClose:()=>w(!1)})})]}),e.jsx("label",{className:"text-sm font-bold text-gray-700 ml-2 flex-shrink-0",children:"Date To"}),e.jsx("input",{type:"text",value:u,onChange:At=>h(At.target.value),placeholder:"MM/DD/YYYY",className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>v(!p),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})}),p&&e.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:e.jsx(Ga,{onDateSelect:At=>{h(At),v(!1)},onClose:()=>v(!1)})})]}),e.jsxs("button",{onClick:wo,disabled:!t,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:gl.map(At=>{const Lt=At.icon,Ms=m===At.name;return e.jsxs("button",{onClick:()=>b(At.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${Ms?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(Lt,{className:"w-4 h-4"}),At.name]},At.name)})}),e.jsx("div",{title:t?"":"Select an employee first",className:"inline-block",children:e.jsxs("button",{onClick:Di,disabled:!t,className:`px-4 py-2 rounded transition-colors flex items-center gap-2 shadow-sm
                            ${t?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]})}),m==="No Of Hrs Per Day"&&e.jsxs("div",{className:"overflow-x-auto",children:[wt&&e.jsxs("div",{className:"flex items-center justify-center py-10 gap-3 text-blue-600",children:[e.jsxs("svg",{className:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),e.jsx("span",{className:"text-sm",children:"Loading records"})]}),Dt&&!wt&&e.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 border border-red-200 rounded p-3 mb-3 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),Dt,e.jsx("button",{onClick:_,className:"ml-auto underline text-red-700 hover:text-red-800",children:"Retry"})]}),!wt&&e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No Of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"})]})}),e.jsx("tbody",{children:bt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:t?"No data available. Click Search to load records.":"Select an employee and click Search to load records."})}):bt.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.groupCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.glCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Oe(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ie(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Lt))})]})]}),m==="No Of Hrs Per Day"&&e.jsx(Yd,{currentPage:V,totalCount:R,pageSize:pt,onPageChange:D}),m==="Tardiness"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Tardiness [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Tardi Within Grace Period [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actual Tardiness [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Offset OT Flag "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group "})]})}),e.jsx("tbody",{children:te.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):te.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>nt(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Bs(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.tardiness}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.tardinessWithinGracePeriod}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.actualTardiness}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.offSetOTFlag?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Lt))})]})}),m==="Tardiness"&&e.jsx(Yd,{currentPage:Se,totalCount:oe,pageSize:pt,onPageChange:ue}),m==="Undertime"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Undertime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Undertime Within Grace [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actual Undertime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Ue.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Ue.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Zr(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>_n(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.undertime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.undertimeWithinGracePeriod}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.actualUndertime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Lt))})]})}),m==="Undertime"&&e.jsx(Yd,{currentPage:Q,totalCount:Ce,pageSize:pt,onPageChange:ve}),m==="Leave and Absences"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Hours Leave Absent "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Description "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Reason "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"With Pay "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Exempt for Allowance Deduction "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:dn.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):dn.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Lc(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>wd(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.hoursLeaveAbsent}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.leaveCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.leaveDescription}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.reason}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.withPay?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.exemptForAllowanceDeduction?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Lt))})]})}),m==="Leave and Absences"&&e.jsx(Yd,{currentPage:Ae,totalCount:Re,pageSize:pt,onPageChange:We}),m==="Overtime"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date From "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date To "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time In "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Time Out "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Workshift Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"OT Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Reason "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Ll.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:12,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Ll.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ir(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>fi(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateFrom}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.dateTo}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.timeIn}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.timeOut}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.workshiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.overtime}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.otCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.reason}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Lt))})]})}),m==="Overtime"&&e.jsx(Yd,{currentPage:B,totalCount:Z,pageSize:pt,onPageChange:q}),m==="Other Earnings and Allowances"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Allowance Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Allowance Description "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Amount "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Oo.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Oo.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Ur(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Wl(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.allowanceCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.description}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.amount}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Lt))})]})}),m==="Other Earnings and Allowances"&&e.jsx(Yd,{currentPage:De,totalCount:qe,pageSize:pt,onPageChange:Qe}),m==="Adjustment"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Leave Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No Of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Adjust Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Remarks "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Is Late Filing "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Is Late Filing Actual Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Device Name "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:$r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):$r.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>zc(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>xl(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.transactionDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.transactionType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.leaveType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.overtimeCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.adjustType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.remarks}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.isLateFilingActualDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.borrowedDeviceName}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Lt))})]})}),m==="Adjustment"&&e.jsx(Yd,{currentPage:ht,totalCount:dt,pageSize:pt,onPageChange:St}),m==="Advanced"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Actions"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Date "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Transaction Type "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"No of Hours [hh.mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Overtime Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Group Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"GL Code "})]})}),e.jsx("tbody",{children:Mr.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})}):Mr.map((At,Lt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>qc(Lt),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ki(Lt),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.transactionDate}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.transactionType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.noOfHours}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:At.overtimeCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm"})]},Lt))})]})}),m==="Advanced"&&e.jsx(Yd,{currentPage:Te,totalCount:pe,pageSize:pt,onPageChange:Ee}),e.jsx(wr,{isOpen:f,onClose:()=>y(!1),onSelect:$t,employees:k,loading:N,error:S??""}),e.jsx(NJ,{show:tt,onClose:()=>{Le(!1),O(!1),U(null)},isEditMode:F,empCode:He,setEmpCode:ge,workshiftCode:st,setWorkshiftCode:Ze,dateIn:Rt,setDateIn:ft,dateOut:kt,setDateOut:he,noOfHours:be,setNoOfHours:ie,onSubmit:ke,onWorkshiftSearch:()=>G(!0)}),e.jsx(jJ,{show:yt,onClose:()=>{Gt(!1),O(!1),U(null)},isEditMode:F,empCode:W,setEmpCode:Be,dateFrom:rt,setDateFrom:ns,dateTo:ps,setDateTo:ct,timeIn:ss,setTimeIn:Ft,timeOut:Jt,setTimeOut:vt,workShiftCode:Kt,setWorkShiftCode:jt,onWorkshiftSearch:()=>G(!0),tardiness:Vt,setTardiness:cs,tardinessHHMM:sa,setTardinessHHMM:ua,tardinessWithinGracePeriod:ka,setTardinessWithinGracePeriod:Ea,tardinessWithinGracePeriodHHMM:Ra,setTardinessWithinGracePeriodHHMM:oa,actualTardiness:xa,setActualTardiness:Ka,actualTardinessHHMM:Ha,setActualTardinessHHMM:Ws,remarks:Ta,setRemarks:at,groupCode:Qt,setGroupCode:_s,offSetOTFlag:Us,setOffSetOTFlag:nr,exemptionRpt:Ma,setExemptionRpt:wa,glCode:ya,setGLCode:gt,onSubmit:xs}),e.jsx(bJ,{show:Ve,onClose:()=>{ds(!1),O(!1),U(null)},isEditMode:F,empCode:ws,setEmpCode:ea,dateFrom:er,setDateFrom:qa,dateTo:it,setDateTo:qt,timeIn:or,setTimeIn:Hr,timeOut:Nr,setTimeOut:jr,workshiftCode:Ya,setWorkshiftCode:ba,undertime:br,setUndertime:ut,undertimeWithinGracePeriod:Ts,setUndertimeWithinGracePeriod:aa,actualUndertime:cn,setActualUndertime:Cr,remarks:Ar,setRemarks:Fr,onSubmit:qn,onWorkshiftSearch:()=>G(!0)}),e.jsx(wJ,{show:Yi,onClose:()=>{Fo(!1),O(!1),U(null)},isEditMode:F,empCode:hi,setEmpCode:Ki,date:qi,setDate:fd,hoursLeaveAbsent:bn,setHoursLeaveAbsent:Po,leaveCode:Fc,setLeaveCode:Pc,leaveDescription:yd,setLeaveDescription:mi,reason:bd,setReason:pi,remarks:Ml,setRemarks:Xi,withPay:vd,setWithPay:Ji,exemptForAllowanceDeduction:Qi,setExemptForAllowanceDeduction:Ic,onSubmit:Oc,onLeaveCodeSearch:()=>ne(!0)}),e.jsx(vJ,{show:_c,onClose:()=>{Ol(!1),O(!1),U(null)},isEditMode:F,empCode:Nd,setEmpCode:Bc,dateFrom:Xn,setDateFrom:Io,dateTo:rs,setDateTo:al,timeIn:cr,setTimeIn:gi,timeOut:Rc,setTimeOut:Hc,workshiftCode:Pr,setWorkshiftCode:ec,overtime:rl,setOvertime:go,otCode:Mo,setOtCode:Lo,reason:_l,setReason:nl,remarks:tc,setRemarks:Bl,onSubmit:ol,onWorkshiftSearch:()=>G(!0),onOTCodeSearch:()=>ye(!0)}),e.jsx(yJ,{show:jd,onClose:()=>{sc(!1),O(!1),U(null)},isEditMode:F,empCode:Cd,setEmpCode:Sd,date:kd,setDate:Dd,allowanceCode:vn,setAllowanceCode:Ul,description:Uc,setDescription:$c,amount:pa,setAmount:ll,remarks:yi,setRemarks:fo,onSubmit:$l}),e.jsx(fJ,{show:il,onClose:()=>{un(!1),O(!1),U(null)},isEditMode:F,empCode:bi,setEmpCode:Wc,transactionDate:vi,setTransactionDate:wi,transactionType:cl,setTransactionType:_o,leaveType:Ni,setLeaveType:yo,overtimeCode:Gl,setOvertimeCode:en,noOfHours:Wr,setNoOfHours:dl,adjustType:ji,setAdjustType:zl,remarks:Vl,setRemarks:Ci,isLateFiling:Yl,setIsLateFiling:bo,isLateFilingActualDate:Na,setIsLateFilingActualDate:Bo,borrowedDeviceName:Ro,setBorrowedDeviceName:ul,onSubmit:Ho}),e.jsx(gJ,{show:Vc,onClose:()=>{Si(!1),O(!1),U(null)},isEditMode:F,empCode:rc,setEmpCode:Kl,transactionDate:Uo,setTransactionDate:$o,transactionType:vo,setTransactionType:Wo,noOfHours:ml,setNoOfHours:Yc,overtimeCode:nc,setOvertimeCode:Kc,onSubmit:Qn}),e.jsx(mJ,{show:L,onClose:()=>G(!1),onSelect:Go,searchTerm:H,setSearchTerm:se}),e.jsx(pJ,{show:re,onClose:()=>ye(!1),onSelect:tn,searchTerm:we,setSearchTerm:Y}),e.jsx(hJ,{show:K,onClose:()=>ne(!1),onSelect:ql,searchTerm:E,setSearchTerm:P})]})]})}),e.jsx(ls,{})]})}function ys({date:t,onChange:a}){const[s,r]=o.useState(!1),[n,l]=o.useState(new Date),i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),c=new Date(n.getFullYear(),n.getMonth(),1).getDay(),u=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date().getFullYear(),m=[];for(let N=1900;N<=h+10;N++)m.push(N);const b=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},g=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},w=N=>{l(new Date(n.getFullYear(),N,1))},p=N=>{l(new Date(N,n.getMonth(),1))},v=N=>{const C=(n.getMonth()+1).toString().padStart(2,"0"),S=N.toString().padStart(2,"0"),I=n.getFullYear();a(`${C}/${S}/${I}`),r(!1)},f=()=>{const N=new Date,C=(N.getMonth()+1).toString().padStart(2,"0"),S=N.getDate().toString().padStart(2,"0"),I=N.getFullYear();a(`${C}/${S}/${I}`),r(!1)},y=[];for(let N=0;N<c;N++)y.push(e.jsx("div",{className:"h-8"},`empty-${N}`));for(let N=1;N<=i;N++)y.push(e.jsx("button",{onClick:()=>v(N),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:N},N));return e.jsxs(Sh,{open:s,onOpenChange:r,children:[e.jsx(kh,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(hs,{className:"w-5 h-5"})})}),e.jsx(Dh,{children:e.jsxs(Eh,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:b,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(a0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:n.getMonth(),onChange:N=>w(Number(N.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:u.map((N,C)=>e.jsx("option",{value:C,children:N},N))}),e.jsx("select",{value:n.getFullYear(),onChange:N=>p(Number(N.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:m.map(N=>e.jsx("option",{value:N,children:N},N))})]}),e.jsx("button",{onClick:g,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(vc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(N=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:N},N))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:y}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:f,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}class ra{static isApiSuccess(a){return a?.status>=200&&a?.status<300||a?.data===!0||a?.data?.success===!0||a?.data?.isSuccess===!0||a?.data?.status==="success"||a?.data?.result===!0}static async showSuccessModal(a,s=3e3){await xe.fire({icon:"success",title:"Success",text:a,timer:s,showConfirmButton:!1})}static async showErrorModal(a,s=2e3){await xe.fire({icon:"error",title:"Error",text:a,timer:s,showConfirmButton:!0})}static async showWarningModal(a,s=2e3){await xe.fire({icon:"warning",title:"Warning",text:a,timer:s,showConfirmButton:!0})}static async showInfoModal(a,s=2e3){await xe.fire({icon:"info",title:"Information",text:a,timer:s,showConfirmButton:!0})}static async showModal(a,s,r,n,l=!0){await xe.fire({icon:a,title:s,text:r,timer:n,showConfirmButton:l})}static async showConfirmDialog(a,s="Confirm"){return(await xe.fire({icon:"question",title:s,text:a,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"})).isConfirmed}static async showDeleteConfirmDialog(a="Are you sure you want to remove this employee??",s="Confirm Delete"){return(await xe.fire({icon:"warning",title:s,text:a,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed}static async showDeleteUserConfirmDialog(a="Are you sure you want to remove this user?",s="Confirm Delete"){return(await xe.fire({icon:"warning",title:s,text:a,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed}static async showDeleteGroupConfirmDialog(a="Are you sure you want to remove this user group?",s="Confirm Delete"){return(await xe.fire({icon:"warning",title:s,text:a,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed}static async showUpdateConfirmDialog(a="Are you sure you want to update this record?",s="Confirm Update"){return(await xe.fire({icon:"warning",title:s,text:a,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Update",cancelButtonText:"Cancel"})).isConfirmed}static extractErrorMessage(a){return a.response?.data?.message||a.response?.data?.error||a.message||"An unexpected error occurred"}static async handleApiError(a,s){const r=s||this.extractErrorMessage(a);await this.showErrorModal(r),console.error("API Error:",a)}static async executeWithModal(a,s,r,n){try{const l=await a();return this.isApiSuccess(l)?(await this.showSuccessModal(s),r?.(l),!0):(await this.showErrorModal("Operation failed. Please try again."),!1)}catch(l){return await this.handleApiError(l),n?.(l),!1}}}const{showSuccessModal:Zs,showErrorModal:zt}=ra;function SJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function kJ(){const[t,a]=o.useState("5/5/2021"),[s,r]=o.useState("05/05/2021"),[n,l]=o.useState(null),[i,c]=o.useState({top:0,left:0}),[u,h]=o.useState("contract"),[m,b]=o.useState(""),[g,w]=o.useState([]),[p,v]=o.useState(1),f=10,[y,N]=o.useState(!1),[C,S]=o.useState(!1),[I,k]=o.useState([]),A=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(se=>({id:se.ID||se.id,code:se.groupCode||se.code,description:se.groupDescription||se.description}));o.useEffect(()=>{(async()=>{const se=await A();k(se)})()},[]);const F=I.filter(H=>H.code.toLowerCase().includes(m.toLowerCase())||H.description.toLowerCase().includes(m.toLowerCase())),O=Math.ceil(F.length/f),M=(p-1)*f,U=M+f,L=F.slice((p-1)*f,p*f),G=()=>{const H=[];if(O<=7)for(let se=1;se<=O;se++)H.push(se);else if(p<=4){for(let se=1;se<=5;se++)H.push(se);H.push("..."),H.push(O)}else if(p>=O-3){H.push(1),H.push("...");for(let se=O-4;se<=O;se++)H.push(se)}else{H.push(1),H.push("...");for(let se=p-1;se<=p+1;se++)H.push(se);H.push("..."),H.push(O)}return H},re=H=>{w(H?I.map(se=>se.id):[])},ye=(H,se)=>{w(we=>se?[...we,H]:we.filter(Y=>Y!==H))},K=async()=>{if(!g.length){await zt("Please select TK Group item/s.");return}if(!t||!s){await zt("Please select Date From and Date To.");return}try{const H=Y=>new Date(Y).toISOString(),se={dateFrom:H(t),dateTo:H(s),tkGroupList:g.map(String)};N(!0),console.log("Sending payload:",se);const we=g.join(",");if(u==="attendance"){const Y=await z.post("/Utilities/UpdateStatus_byDate",se);console.log("API response:",Y);const E=await z.post("/Utilities/UpdateStatus_byTKGroupCode",se);console.log("API response:",E);const P=ra.isApiSuccess(Y);console.log("Is success:",P);const V=ra.isApiSuccess(E);console.log("Is success:",V),P&&V&&(await Zs("Successfully updated TKGroup Items."),w([]),a(""),r(""))}else if(u==="contract"){const Y=await z.post("/Utilities/UpdateStatus_byCDate",se);console.log("API response:",Y);const E=ra.isApiSuccess(Y);console.log("Is success:",E),E&&(await Zs("Successfully updated TKGroup Items."),w([]),a(""),r(""))}}catch(H){console.error(H),await zt("Failed to update records")}finally{N(!1)}},ne=H=>{n==="dateFrom"?a(H):n==="dateTo"&&(s&&H>s?r(""):r(H)),l(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Status"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Xr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee status records based on attendance or contract dates. Select the groups and date range, then choose update criteria."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update based on attendance"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update based on contract date"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:H=>b(H.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:g.length===I.length,onChange:H=>re(H.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:L.map(H=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:g.includes(H.id),onChange:se=>ye(H.id,se.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:H.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:H.description})]},H.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",F.length===0?0:M+1," to ",Math.min(U,F.length)," of ",F.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>v(H=>Math.max(H-1,1)),disabled:p===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),G().map((H,se)=>H==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${se}`):e.jsx("button",{onClick:()=>v(H),className:`px-2 py-1 rounded text-xs ${p===H?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:H},H)),e.jsx("button",{onClick:()=>v(H=>Math.min(H+1,O)),disabled:p===O||O===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-20",children:"From:"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:t,onChange:H=>a(H.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:t,onChange:a})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-20",children:"To:"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:s,onChange:H=>r(H.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:s,onChange:H=>{t&&H<t||r(H)}})]})]})]}),e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"updateOption",value:"attendance",checked:u==="attendance",onChange:H=>h(H.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Update Based on Attendance"})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"updateOption",value:"contract",checked:u==="contract",onChange:H=>h(H.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Update Based on Contract Date"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:K,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})}),n&&e.jsx(SJ,{value:n==="dateFrom"?t:s,onChange:ne,onClose:()=>l(null),position:i}),e.jsx(ls,{})]})}function DJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function EJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("active"),[n,l]=o.useState(""),[i,c]=o.useState(""),[u,h]=o.useState(!1),[m,b]=o.useState({top:0,left:0}),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState([]),[S,I]=o.useState([]),[k,A]=o.useState(1),[F,O]=o.useState(1),M=10,[U,L]=o.useState(!1);o.useEffect(()=>{A(1)},[t]);const[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState(!1),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),q=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(He=>({id:He.ID||He.id,code:He.groupCode||He.code,description:He.groupDescription||He.description}));o.useEffect(()=>{(async()=>{const He=await q();K(He)})()},[]);const Z=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(He=>({id:He.braID||He.ID,code:He.braCode||He.code,description:He.braDesc||He.description}));o.useEffect(()=>{(async()=>{const He=await Z();we(He)})()},[]);const je=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(He=>({id:He.depID||He.ID,code:He.depCode||He.code,description:He.depDesc||He.description}));o.useEffect(()=>{(async()=>{const He=await je();V(He)})()},[]);const De=async()=>{const Le=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.grpSchID||ge.id||ge.ID,code:ge.grpCode||ge.code,description:ge.grpDesc||ge.description}))};o.useEffect(()=>{(async()=>{const He=await De();Se(He)})()},[]);const Qe=async()=>{const Le=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.lineID??ge.ID??ge.id,code:ge.lineCode??ge.code,description:ge.lineDesc??ge.Description??ge.description}))};o.useEffect(()=>{(async()=>{const He=await Qe();Q(He)})()},[]);const qe=async()=>{const Le=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.secID??ge.ID??ge.id,code:ge.secCode??ge.sectionCode??ge.code,description:ge.secDesc??ge.Description??ge.description}))};o.useEffect(()=>{(async()=>{const He=await qe();Ae(He)})()},[]);const Ye=async()=>{const Le=await z.get("/EmployeeMasterFile");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.empID??ge.ID??ge.id,code:ge.empCode||ge.code||"",name:`${ge.lName||""}, ${ge.fName||""} ${ge.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const He=await Ye();B(He)})()},[]);const dt=(()=>{switch(t){case"Branch":return se;case"Department":return P;case"Group Schedule":return ee;case"Pay House":return le;case"Section":return $e;default:return ye}})().filter(Le=>Le.code.toLowerCase().includes(p.toLowerCase())||Le.description.toLowerCase().includes(p.toLowerCase())),Et=et.filter(Le=>Le.code.toLowerCase().includes(f.toLowerCase())||Le.name.toLowerCase().includes(f.toLowerCase())),Te=Math.ceil(dt.length/M),Ee=(k-1)*M,pe=Ee+M,Je=dt.slice((k-1)*M,k*M),pt=()=>{const Le=[];if(Te<=7)for(let He=1;He<=Te;He++)Le.push(He);else if(k<=4){for(let He=1;He<=5;He++)Le.push(He);Le.push("..."),Le.push(Te)}else if(k>=Te-3){Le.push(1),Le.push("...");for(let He=Te-4;He<=Te;He++)Le.push(He)}else{Le.push(1),Le.push("...");for(let He=k-1;He<=k+1;He++)Le.push(He);Le.push("..."),Le.push(Te)}return Le},Mt=Math.ceil(Et.length/M),Wt=(F-1)*M,$t=Wt+M,lt=Et.slice((F-1)*M,F*M),bt=()=>{const Le=[];if(Mt<=5)return Array.from({length:Mt},(Ze,Rt)=>Rt+1);Le.push(1),F>3&&Le.push("...");const ge=Math.max(2,F-1),st=Math.min(Mt-1,F+1);for(let Ze=ge;Ze<=st;Ze++)Le.push(Ze);return F<Mt-2&&Le.push("..."),Le.push(Mt),Le},Nt=Le=>{C(He=>He.includes(Le)?He.filter(ge=>ge!==Le):[...He,Le])},wt=Le=>{I(He=>He.includes(Le)?He.filter(ge=>ge!==Le):[...He,Le])},It=()=>{N.length===dt.length?C([]):C(dt.map(Le=>Le.id))},Dt=()=>{S.length===Et.length?I([]):I(Et.map(Le=>Le.id))},Ke=async()=>{if(!S.length){await zt("Please select employee/s to update.");return}if(!i){await zt("Please select Date.");return}if(!n){await zt("Approved OT Hours cannot be empty.");return}try{L(!0);const Le=Ze=>new Date(Ze).toISOString(),He={EmpCode:S.map(String),date:Le(i),OTHours:n?parseFloat(n):0};console.log("Sending payload:",He);const ge=await z.post("/Utilities/UpdateStatus_byDate",He);console.log("API response:",ge);const st=ra.isApiSuccess(ge);console.log("Is success:",st),st?(await Zs("Successfully updated Employees Overtime Application."),C([]),I([]),c(""),l("")):await zt("Failed to update Employees Overtime Application.")}catch(Le){console.error(Le),await zt("Failed to update records")}finally{L(!1)}},tt=Le=>{const He=Le.currentTarget.getBoundingClientRect();b({top:He.bottom+5,left:He.left}),h(!0)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Overtime Application"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee overtime application records. Select groups and employees, then set the allowed OT hours and date."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select by TK Group, Branch, or Department"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(Le=>e.jsxs("button",{onClick:()=>a(Le.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Le.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Le.icon,{className:"w-4 h-4"}),Le.name]},Le.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Le=>v(Le.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===dt.length&&dt.length>0,onChange:It,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Je.map(Le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(Le.id),onChange:()=>Nt(Le.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Le.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Le.description})]},Le.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Et.length===0?0:Ee+1," to ",Math.min(pe,dt.length)," of ",dt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>A(Le=>Math.max(Le-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),pt().map((Le,He)=>Le==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${He}`):e.jsx("button",{onClick:()=>A(Le),className:`px-2 py-1 rounded text-xs ${k===Le?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le},Le)),e.jsx("button",{onClick:()=>A(Le=>Math.min(Le+1,Te)),disabled:k===Te||Te===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:Le=>y(Le.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===Et.length&&Et.length>0,onChange:Dt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:lt.map(Le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(Le.id),onChange:()=>wt(Le.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Le.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Le.name})]},Le.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Wt+1," to ",Math.min($t,Et.length)," of ",Et.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>O(Le=>Math.max(1,Le-1)),disabled:F===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),bt().map((Le,He)=>typeof Le=="number"?e.jsx("button",{onClick:()=>O(Le),className:`px-2 py-1 rounded text-xs ${F===Le?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le},He):e.jsx("span",{className:"px-2",children:Le},He)),e.jsx("button",{onClick:()=>O(Le=>Math.min(Mt,Le+1)),disabled:F===Mt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:s==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:s==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:s==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Allowed OT Hours"}),e.jsx("input",{type:"text",value:n,onChange:Le=>l(Le.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:i,onChange:Le=>c(Le.target.value),onClick:tt,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:i,onChange:c})]})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:Le=>w(Le.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"ExcludeEmptRestDay"})]})}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:Ke,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})})]})]})}),u&&e.jsx(DJ,{value:i,onChange:Le=>{c(Le),h(!1)},onClose:()=>h(!1),position:m}),e.jsx(ls,{})]})}function TJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function AJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState([]),[u,h]=o.useState([]),[m,b]=o.useState("fixed"),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState("5/5/2021"),[S,I]=o.useState("05/05/2021"),[k,A]=o.useState(!1),[F,O]=o.useState(1),[M,U]=o.useState(1),[L,G]=o.useState(null),[re,ye]=o.useState({top:0,left:0}),[K,ne]=o.useState(1),H=10,[se,we]=o.useState(!1);o.useEffect(()=>{O(1)},[t]);const[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),[St,dt]=o.useState(""),Et=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(J=>({id:J.ID||J.id,code:J.groupCode||J.code,description:J.groupDescription||J.description}));o.useEffect(()=>{(async()=>{const J=await Et();V(J)})()},[]);const Te=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(J=>({id:J.braID||J.ID,code:J.braCode||J.code,description:J.braDesc||J.description}));o.useEffect(()=>{(async()=>{const J=await Te();Se(J)})()},[]);const Ee=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(J=>({id:J.depID||J.ID,code:J.depCode||J.code,description:J.depDesc||J.description}));o.useEffect(()=>{(async()=>{const J=await Ee();Q(J)})()},[]);const pe=async()=>{const de=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(de.data)?de.data:[]).map(_=>({id:_.grpSchID||_.id||_.ID,code:_.grpCode||_.code,description:_.grpDesc||_.description}))};o.useEffect(()=>{(async()=>{const J=await pe();Ae(J)})()},[]);const Je=async()=>{const de=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(de.data)?de.data:[]).map(_=>({id:_.lineID??_.ID??_.id,code:_.lineCode??_.code,description:_.lineDesc??_.Description??_.description}))};o.useEffect(()=>{(async()=>{const J=await Je();B(J)})()},[]);const pt=async()=>{const de=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(de.data)?de.data:[]).map(_=>({id:_.secID??_.ID??_.id,code:_.secCode??_.sectionCode??_.code,description:_.secDesc??_.Description??_.description}))};o.useEffect(()=>{(async()=>{const J=await pt();De(J)})()},[]);const Mt=async()=>{const de=await z.get("/EmployeeMasterFile");return(Array.isArray(de.data)?de.data:[]).map(_=>({id:_.empID??_.ID??_.id,code:_.empCode||_.code||"",name:`${_.lName||""}, ${_.fName||""} ${_.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const J=await Mt();ht(J)})()},[]);const lt=(()=>{switch(t){case"Branch":return ee;case"Department":return le;case"Group Schedule":return $e;case"Pay House":return et;case"Section":return je;default:return P}})().filter(de=>de.code.toLowerCase().includes(s.toLowerCase())||de.description.toLowerCase().includes(s.toLowerCase())),bt=Ye.filter(de=>de.code.toLowerCase().includes(n.toLowerCase())||de.name.toLowerCase().includes(n.toLowerCase())),Nt=Math.ceil(lt.length/H),wt=(F-1)*H,It=wt+H,Dt=lt.slice((F-1)*H,F*H),Ke=()=>{const de=[];if(Nt<=7)for(let J=1;J<=Nt;J++)de.push(J);else if(F<=4){for(let J=1;J<=5;J++)de.push(J);de.push("..."),de.push(Nt)}else if(F>=Nt-3){de.push(1),de.push("...");for(let J=Nt-4;J<=Nt;J++)de.push(J)}else{de.push(1),de.push("...");for(let J=F-1;J<=F+1;J++)de.push(J);de.push("..."),de.push(Nt)}return de},tt=Math.ceil(bt.length/H),Le=(M-1)*H,He=Le+H,ge=bt.slice((M-1)*H,M*H),st=()=>{const de=[];if(tt<=5)return Array.from({length:tt},(Oe,ke)=>ke+1);de.push(1),M>3&&de.push("...");const _=Math.max(2,M-1),Fe=Math.min(tt-1,M+1);for(let Oe=_;Oe<=Fe;Oe++)de.push(Oe);return M<tt-2&&de.push("..."),de.push(tt),de},Ze=de=>{c(J=>J.includes(de)?J.filter(_=>_!==de):[...J,de])},Rt=de=>{h(J=>J.includes(de)?J.filter(_=>_!==de):[...J,de])},ft=()=>{i.length===lt.length?c([]):c(lt.map(de=>de.id))},kt=()=>{u.length===bt.length?h([]):h(bt.map(de=>de.id))},he=async()=>{if(!u.length){await zt("Please select employee/s to update.");return}if(m=="fixed"&&p.length===0){await zt("Daily Time Schedule should not be empty.");return}if(m=="variable"){if(f.length===0){await zt("Workshift should not be empty.");return}if(!N||!S){await zt("Please select Date From and Date To.");return}}if(m.length==0){await zt("Workshift should not be empty.");return}try{we(!0);const de=Fe=>new Date(Fe).toISOString(),J={empCode:u.map(String),dailySchedule:p,workshift:m,withDateRange:g,dateFrom:de(N),dateTo:de(S),deleteExistingWorkshift:k},_=u.join(",");if(m=="fixed"){const Fe=await z.post("/Utilities/UpdateStatus_byCDate",J);console.log("API response:",Fe);const Oe=ra.isApiSuccess(Fe);console.log("Is success:",Oe),Oe&&(await Zs("Successfully updated Employee Workshift."),c([]),h([]),C(""),I(""))}else if(m==="variable"){const Fe=await z.post("/Utilities/UpdateStatus_byCDate",J);console.log("API response:",Fe);const Oe=ra.isApiSuccess(Fe);console.log("Is success:",Oe),Oe&&(await Zs("Successfully updated Employee Workshift."),c([]),h([]),C(""),I(""))}}catch(de){console.error(de),await zt("Failed to update records")}finally{we(!1)}},be=de=>{const J=de.currentTarget.getBoundingClientRect();ye({top:J.bottom+5,left:J.left}),G(de.currentTarget.name)},ie=de=>{L==="dateFrom"?C(de):L==="dateTo"&&I(de),G(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Workshift"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee workshift assignments. Select groups and employees, choose between fixed or variable schedules, and set date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Fixed or variable workshifts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update multiple employees"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(de=>e.jsxs("button",{onClick:()=>a(de.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===de.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(de.icon,{className:"w-4 h-4"}),de.name]},de.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:de=>r(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===lt.length&&lt.length>0,onChange:ft,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Dt.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(de.id),onChange:()=>Ze(de.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:de.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:de.description})]},de.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",bt.length===0?0:wt+1," to ",Math.min(It,lt.length)," of ",lt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>O(de=>Math.max(de-1,1)),disabled:F===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ke().map((de,J)=>de==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${J}`):e.jsx("button",{onClick:()=>O(de),className:`px-2 py-1 rounded text-xs ${F===de?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:de},de)),e.jsx("button",{onClick:()=>O(de=>Math.min(de+1,Nt)),disabled:F===Nt||Nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:de=>l(de.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:u.length===bt.length&&bt.length>0,onChange:kt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ge.map(de=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:u.includes(de.id),onChange:()=>Rt(de.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:de.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:de.name})]},de.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Le+1," to ",Math.min(He,bt.length)," of ",bt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>U(de=>Math.max(1,de-1)),disabled:M===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),st().map((de,J)=>typeof de=="number"?e.jsx("button",{onClick:()=>U(de),className:`px-2 py-1 rounded text-xs ${M===de?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:de},J):e.jsx("span",{className:"px-2",children:de},J)),e.jsx("button",{onClick:()=>U(de=>Math.min(tt,de+1)),disabled:M===tt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"workshiftType",value:"fixed",checked:m==="fixed",onChange:()=>b("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Daily Schedule"}),e.jsx("input",{type:"text",value:p,onChange:de=>v(de.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"workshiftType",value:"variable",checked:m==="variable",onChange:()=>b("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Workshift"}),e.jsx("input",{type:"text",value:f,onChange:de=>y(de.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:de=>w(de.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"With Date Range"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:N,onChange:de=>C(de.target.value),onClick:be,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:S,onChange:de=>I(de.target.value),onClick:be,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:S,onChange:I})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:de=>A(de.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Workshift"})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2 ml-auto",onClick:he,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})]})]})})]})]})}),L&&e.jsx(TJ,{value:L==="dateFrom"?N:S,onChange:ie,onClose:()=>G(null),position:re}),e.jsx(ls,{})]})}function D5({isOpen:t,onClose:a,onSelect:s}){const[r,n]=o.useState(""),[l,i]=o.useState([]),[c,u]=o.useState(!1),[h,m]=o.useState(1),b=10,g=async()=>{u(!0);try{const k=await z.get("/Fs/Process/LeaveTypeSetUp");k.status===200&&k.data&&i(k.data)}catch(k){const A=k.response?.data?.message||k.message||"Failed to load leave types";await xe.fire({icon:"error",title:"Error",text:A}),console.error("Error fetching leave types:",k)}finally{u(!1)}};o.useEffect(()=>{t&&(n(""),m(1),g())},[t]);const w=l.filter(k=>(k.leaveCode?.toLowerCase()||"").includes(r.toLowerCase())||(k.leaveDesc?.toLowerCase()||"").includes(r.toLowerCase())),p=Math.ceil(w.length/b),v=(h-1)*b,f=v+b,y=w.slice(v,f),N=()=>{const k=[];if(p<=5)for(let F=1;F<=p;F++)k.push(F);else if(h<=3){for(let F=1;F<=4;F++)k.push(F);k.push("..."),k.push(p)}else if(h>=p-2){k.push(1),k.push("...");for(let F=p-3;F<=p;F++)k.push(F)}else k.push(1),k.push("..."),k.push(h-1),k.push(h),k.push(h+1),k.push("..."),k.push(p);return k},C=k=>{m(k)},S=()=>{h>1&&m(h-1)},I=()=>{h<p&&m(h+1)};return o.useEffect(()=>{m(1)},[r]),o.useEffect(()=>{const k=A=>{A.key==="Escape"&&t&&a()};return t&&document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[t,a]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:a}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[70] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Leave Type"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Leave Type Setup"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:k=>n(k.target.value),placeholder:"Search by code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),c?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading leave types..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Leave Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Chargeable To",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["With Pay",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-3 py-8 text-center text-gray-500",children:"No leave types found"})}):y.map(k=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(k.leaveCode),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:k.leaveCode}),e.jsx("td",{className:"px-3 py-1.5",children:k.leaveDesc}),e.jsx("td",{className:"px-3 py-1.5",children:k.chargeableTo}),e.jsx("td",{className:"px-3 py-1.5",children:k.withPay})]},k.leaveID))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",w.length>0?v+1:0," to ",Math.min(f,w.length)," of ",w.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:S,disabled:h===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),N().map((k,A)=>typeof k=="number"?e.jsx("button",{onClick:()=>C(k),className:`px-2 py-1 rounded text-xs ${h===k?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:k},A):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:k},A)),e.jsx("button",{onClick:I,disabled:h===p||p===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}):null}function FJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function PJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState(null),[u,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[g,w]=o.useState(0),[p,v]=o.useState(!1),[f,y]=o.useState(!1),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState([]),[F,O]=o.useState([]),[M,U]=o.useState(1),[L,G]=o.useState(1),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(""),[se,we]=o.useState(""),[Y,E]=o.useState(""),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState(!1),[ue,oe]=o.useState(!1);o.useEffect(()=>{U(1)},[t]);const[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState([]),[$t,lt]=o.useState(!1),[bt,Nt]=o.useState([]),[wt,It]=o.useState(!1),[Dt,Ke]=o.useState([]),[tt,Le]=o.useState(""),He=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Jt=>({id:Jt.ID||Jt.id,code:Jt.groupCode||Jt.code,description:Jt.groupDescription||Jt.description}));o.useEffect(()=>{(async()=>{const Jt=await He();Ce(Jt)})()},[]);const ge=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Jt=>({id:Jt.braID||Jt.ID,code:Jt.braCode||Jt.code,description:Jt.braDesc||Jt.description}));o.useEffect(()=>{(async()=>{const Jt=await ge();Re(Jt)})()},[]);const st=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Jt=>({id:Jt.depID||Jt.ID,code:Jt.depCode||Jt.code,description:Jt.depDesc||Jt.description}));o.useEffect(()=>{(async()=>{const Jt=await st();Z(Jt)})()},[]);const Ze=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Jt=>({id:Jt.divID||Jt.ID,code:Jt.divCode||Jt.code,description:Jt.divDesc||Jt.description}));o.useEffect(()=>{(async()=>{const Jt=await Ze();qe(Jt)})()},[]);const Rt=async()=>{const Ft=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Ft.data)?Ft.data:[]).map(vt=>({id:vt.grpSchID||vt.id||vt.ID,code:vt.grpCode||vt.code,description:vt.grpDesc||vt.description}))};o.useEffect(()=>{(async()=>{const Jt=await Rt();dt(Jt)})()},[]);const ft=async()=>{const Ft=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Ft.data)?Ft.data:[]).map(vt=>({id:vt.lineID??vt.ID??vt.id,code:vt.lineCode??vt.code,description:vt.lineDesc??vt.Description??vt.description}))};o.useEffect(()=>{(async()=>{const Jt=await ft();pe(Jt)})()},[]);const kt=async()=>{const Ft=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Ft.data)?Ft.data:[]).map(vt=>({id:vt.secID??vt.ID??vt.id,code:vt.secCode??vt.sectionCode??vt.code,description:vt.secDesc??vt.Description??vt.description}))};o.useEffect(()=>{(async()=>{const Jt=await kt();Wt(Jt)})()},[]);const he=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Jt=>({id:Jt.unitID||Jt.ID,code:Jt.unitCode||Jt.code,description:Jt.unitDesc||Jt.description}));o.useEffect(()=>{(async()=>{const Jt=await he();Nt(Jt)})()},[]);const be=async()=>{const Ft=await z.get("/EmployeeMasterFile");return(Array.isArray(Ft.data)?Ft.data:[]).map(vt=>({id:vt.empID??vt.ID??vt.id,code:vt.empCode||vt.code||"",name:`${vt.lName||""}, ${vt.fName||""} ${vt.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Jt=await be();Ke(Jt)})()},[]);const ie=async()=>{try{const Ft=await z.get("/Fs/Employment/LeaveCodeSetUp");return(Array.isArray(Ft.data)?Ft.data:[]).map(vt=>({id:vt.lcID??vt.ID??vt.id,code:vt.lcCode??vt.code??vt.leaveCode??"",description:vt.lcDesc??vt.Description??vt.description??""}))}catch(Ft){return console.error("Failed to fetch leave codes",Ft),[]}};o.useEffect(()=>{(async()=>{R(!0);const Jt=await ie();V(Jt),R(!1)})()},[]);const J=(()=>{switch(t){case"Branch":return We;case"Department":return q;case"Division":return Qe;case"Group Schedule":return St;case"Pay House":return Ee;case"Section":return Mt;case"Unit":return bt;default:return ve}})(),_=(Ft,Jt)=>{H(Ft),we(Jt),Se(!1)},Fe=J.filter(Ft=>Ft.code.toLowerCase().includes(N.toLowerCase())||Ft.description.toLowerCase().includes(N.toLowerCase())),Oe=Dt.filter(Ft=>Ft.code.toLowerCase().includes(S.toLowerCase())||Ft.name.toLowerCase().includes(S.toLowerCase())),ke=Math.ceil(Fe.length/K),Ie=(M-1)*K,te=Ie+K,Pe=Fe.slice((M-1)*K,M*K),ae=()=>{const Ft=[];if(ke<=7)for(let Jt=1;Jt<=ke;Jt++)Ft.push(Jt);else if(M<=4){for(let Jt=1;Jt<=5;Jt++)Ft.push(Jt);Ft.push("..."),Ft.push(ke)}else if(M>=ke-3){Ft.push(1),Ft.push("...");for(let Jt=ke-4;Jt<=ke;Jt++)Ft.push(Jt)}else{Ft.push(1),Ft.push("...");for(let Jt=M-1;Jt<=M+1;Jt++)Ft.push(Jt);Ft.push("..."),Ft.push(ke)}return Ft},me=Math.ceil(Oe.length/K),ce=(L-1)*K,Ge=ce+K,yt=Oe.slice((L-1)*K,L*K),Gt=()=>{const Ft=[];if(me<=5)return Array.from({length:me},(jt,Vt)=>Vt+1);Ft.push(1),L>3&&Ft.push("...");const vt=Math.max(2,L-1),Kt=Math.min(me-1,L+1);for(let jt=vt;jt<=Kt;jt++)Ft.push(jt);return L<me-2&&Ft.push("..."),Ft.push(me),Ft},W=Ft=>{A(Jt=>Jt.includes(Ft)?Jt.filter(vt=>vt!==Ft):[...Jt,Ft])},Be=Ft=>{O(Jt=>Jt.includes(Ft)?Jt.filter(vt=>vt!==Ft):[...Jt,Ft])},rt=()=>{k.length===Fe.length?A([]):A(Fe.map(Ft=>Ft.id))},ns=()=>{F.length===Oe.length?O([]):O(Oe.map(Ft=>Ft.id))},ps=async()=>{if(!F.length){await zt("Please select employee/s to update.");return}if(ne.length===0){await zt("Leave code should not be empty.");return}if(g<1){await zt("must have value and greater than to 0.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}try{oe(!0),await Zs("Successfully updated Employees Leave Application."),A([]),O([]),r(""),l("")}catch(Ft){console.error(Ft),await zt("Failed to update records")}finally{oe(!1)}},ct=Ft=>{const Jt=Ft.currentTarget.getBoundingClientRect();h({top:Jt.bottom+5,left:Jt.left}),c(Ft.currentTarget.name)},ss=Ft=>{i==="dateFrom"?r(Ft):i==="dateTo"&&l(Ft),c(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Leave Application"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee leave applications. Select groups and employees, configure leave details including hours, period, and leave type."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update leave applications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure leave hours and periods"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(Ft=>e.jsxs("button",{onClick:()=>a(Ft.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ft.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ft.icon,{className:"w-4 h-4"}),Ft.name]},Ft.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:N,onChange:Ft=>C(Ft.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:k.length===Fe.length&&Fe.length>0,onChange:rt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Pe.map(Ft=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:k.includes(Ft.id),onChange:()=>W(Ft.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ft.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ft.description})]},Ft.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Oe.length===0?0:Ie+1," to ",Math.min(te,Fe.length)," of ",Fe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>U(Ft=>Math.max(Ft-1,1)),disabled:M===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ae().map((Ft,Jt)=>Ft==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Jt}`):e.jsx("button",{onClick:()=>U(Ft),className:`px-2 py-1 rounded text-xs ${M===Ft?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ft},Ft)),e.jsx("button",{onClick:()=>U(Ft=>Math.min(Ft+1,ke)),disabled:M===ke||ke===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:Ft=>I(Ft.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===Oe.length&&Oe.length>0,onChange:ns,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:yt.map(Ft=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(Ft.id),onChange:()=>Be(Ft.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ft.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ft.name})]},Ft.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ce+1," to ",Math.min(Ge,Oe.length)," of ",Oe.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>G(Ft=>Math.max(1,Ft-1)),disabled:L===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Gt().map((Ft,Jt)=>typeof Ft=="number"?e.jsx("button",{onClick:()=>G(Ft),className:`px-2 py-1 rounded text-xs ${L===Ft?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ft},Jt):e.jsx("span",{className:"px-2",children:Ft},Jt)),e.jsx("button",{onClick:()=>G(Ft=>Math.min(me,Ft+1)),disabled:L===me,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Number Of Hours [hh:mm]"}),e.jsx("input",{type:"text",value:g,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Period"}),e.jsxs("select",{value:m,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Leave Code"}),e.jsx("input",{type:"text",value:ne,onChange:Ft=>H(Ft.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>Se(!0),children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:()=>{H(""),we("")},children:e.jsx(ot,{className:"w-4 h-4"})}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:Ft=>v(Ft.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"With Pay"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:Ft=>y(Ft.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"SSS Notification"})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:s,onChange:Ft=>r(Ft.target.value),onClick:ct,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{readOnly:!0,type:"text",value:n,onChange:Ft=>l(Ft.target.value),onClick:ct,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:ps,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),i&&e.jsx(FJ,{value:i==="dateFrom"?s:n,onChange:ss,onClose:()=>c(null),position:u}),e.jsx(ls,{}),e.jsx(D5,{isOpen:ee,onClose:()=>Se(!1),onSelect:_,leaveCodeItems:P,loading:D,error:Y})]})}function IJ({isOpen:t,onClose:a,onSelect:s,payHouseItems:r,loading:n,error:l}){const[i,c]=o.useState(""),[u,h]=o.useState(1),m=20;o.useEffect(()=>{const y=N=>{N.key==="Escape"&&t&&a()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,a]),o.useEffect(()=>{t&&(c(""),h(1))},[t]);const b=r.filter(y=>y.code.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())),g=Math.ceil(b.length/m),w=(u-1)*m,p=w+m,v=b.slice(w,p),f=()=>{const y=[];if(g<=5)return Array.from({length:g},(I,k)=>k+1);y.push(1),u>3&&y.push("...");const C=Math.max(2,u-1),S=Math.min(g-1,u+1);for(let I=C;I<=S;I++)y.push(I);return u<g-2&&y.push("..."),y.push(g),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Pay House Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{c(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading employees..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(y.id.toString(),y.code),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.code}),e.jsx("td",{className:"px-3 py-1.5",children:y.description})]},y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No items found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:w+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:u===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),f().map((y,N)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${N}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${u===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,g)),disabled:u===g||g===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function MJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState([]),[u,h]=o.useState([]),[m,b]=o.useState(""),[g,w]=o.useState(1),[p,v]=o.useState(1),[f,y]=o.useState(1),N=10,[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(!1),[O,M]=o.useState(!1);o.useEffect(()=>{w(1)},[t]);const[U,L]=o.useState(!1),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(""),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),[St,dt]=o.useState(""),Et=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(_=>({id:_.ID||_.id,code:_.groupCode||_.code,description:_.groupDescription||_.description}));o.useEffect(()=>{(async()=>{const _=await Et();re(_)})()},[]);const Te=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(_=>({id:_.braID||_.ID,code:_.braCode||_.code,description:_.braDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Te();H(_)})()},[]);const Ee=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(_=>({id:_.depID||_.ID,code:_.depCode||_.code,description:_.depDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Ee();E(_)})()},[]);const pe=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(_=>({id:_.divID||_.ID,code:_.divCode||_.code,description:_.divDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await pe();R(_)})()},[]);const Je=async()=>{const J=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.grpSchID||Fe.id||Fe.ID,code:Fe.grpCode||Fe.code,description:Fe.grpDesc||Fe.description}))};o.useEffect(()=>{(async()=>{const _=await Je();oe(_)})()},[]);const pt=async()=>{const J=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.lineID??Fe.ID??Fe.id,code:Fe.lineCode??Fe.code,description:Fe.lineDesc??Fe.Description??Fe.description}))};o.useEffect(()=>{(async()=>{const _=await pt();Ce(_)})()},[]);const Mt=async()=>{const J=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.secID??Fe.ID??Fe.id,code:Fe.secCode??Fe.sectionCode??Fe.code,description:Fe.secDesc??Fe.Description??Fe.description}))};o.useEffect(()=>{(async()=>{const _=await Mt();B(_)})()},[]);const Wt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(_=>({id:_.unitID||_.ID,code:_.unitCode||_.code,description:_.unitDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Wt();De(_)})()},[]);const $t=async()=>{const J=await z.get("/EmployeeMasterFile");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.empID??Fe.ID??Fe.id,code:Fe.empCode||Fe.code||"",name:`${Fe.lName||""}, ${Fe.fName||""} ${Fe.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const _=await $t();ht(_)})()},[]);const bt=(()=>{switch(t){case"Branch":return ne;case"Department":return Y;case"Division":return D;case"Group Schedule":return ue;case"Pay House":return ve;case"Section":return et;case"Unit":return je;default:return G}})(),Nt=(J,_)=>{S(J),k(_),F(!1)},wt=bt.filter(J=>J.code.toLowerCase().includes(s.toLowerCase())||J.description.toLowerCase().includes(s.toLowerCase())),It=Ye.filter(J=>J.code.toLowerCase().includes(n.toLowerCase())||J.name.toLowerCase().includes(n.toLowerCase())),Dt=Math.ceil(wt.length/N),Ke=(g-1)*N,tt=Ke+N,Le=wt.slice((g-1)*N,g*N),He=()=>{const J=[];if(Dt<=7)for(let _=1;_<=Dt;_++)J.push(_);else if(g<=4){for(let _=1;_<=5;_++)J.push(_);J.push("..."),J.push(Dt)}else if(g>=Dt-3){J.push(1),J.push("...");for(let _=Dt-4;_<=Dt;_++)J.push(_)}else{J.push(1),J.push("...");for(let _=g-1;_<=g+1;_++)J.push(_);J.push("..."),J.push(Dt)}return J},ge=Math.ceil(It.length/N),st=(p-1)*N,Ze=st+N,Rt=It.slice((p-1)*N,p*N),ft=()=>{const J=[];if(ge<=5)return Array.from({length:ge},(ke,Ie)=>Ie+1);J.push(1),p>3&&J.push("...");const Fe=Math.max(2,p-1),Oe=Math.min(ge-1,p+1);for(let ke=Fe;ke<=Oe;ke++)J.push(ke);return p<ge-2&&J.push("..."),J.push(ge),J},kt=J=>{c(_=>_.includes(J)?_.filter(Fe=>Fe!==J):[..._,J])},he=J=>{h(_=>_.includes(J)?_.filter(Fe=>Fe!==J):[..._,J])},be=()=>{i.length===wt.length?c([]):c(wt.map(J=>J.id))},ie=()=>{u.length===It.length?h([]):h(It.map(J=>J.id))},de=async()=>{if(!u.length){await zt("Please select employee/s to update.");return}if(I.length===0){await zt("Pay House code should not be empty.");return}try{M(!0);const J={empCode:u.map(String),payHouse:C},_=u.join(","),Fe=await z.post("/Utilities/UpdateEmployeesLine",J);console.log("API response:",Fe);const Oe=ra.isApiSuccess(Fe);console.log("Is success:",Oe),await Zs("Successfully updated Employees Pay House."),c([]),h([]),k("")}catch(J){console.error(J),await zt("Failed to update records")}finally{M(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Pay House"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(da,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee pay house assignments. Select groups and employees to reassign them to different pay houses."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update pay house assignments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Quick search and assign"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(J=>e.jsxs("button",{onClick:()=>a(J.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===J.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(J.icon,{className:"w-4 h-4"}),J.name]},J.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:J=>r(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===wt.length&&wt.length>0,onChange:be,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Le.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(J.id),onChange:()=>kt(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.description})]},J.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",It.length===0?0:Ke+1," to ",Math.min(tt,wt.length)," of ",wt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>w(J=>Math.max(J-1,1)),disabled:g===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),He().map((J,_)=>J==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${_}`):e.jsx("button",{onClick:()=>w(J),className:`px-2 py-1 rounded text-xs ${g===J?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},J)),e.jsx("button",{onClick:()=>w(J=>Math.min(J+1,Dt)),disabled:g===Dt||Dt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:J=>l(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:u.length===It.length&&It.length>0,onChange:ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Rt.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:u.includes(J.id),onChange:()=>he(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.name})]},J.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",st+1," to ",Math.min(Ze,It.length)," of ",It.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>v(J=>Math.max(1,J-1)),disabled:p===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ft().map((J,_)=>typeof J=="number"?e.jsx("button",{onClick:()=>v(J),className:`px-2 py-1 rounded text-xs ${p===J?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},_):e.jsx("span",{className:"px-2",children:J},_)),e.jsx("button",{onClick:()=>v(J=>Math.min(ge,J+1)),disabled:p===ge,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Pay House Code"}),e.jsx("input",{type:"text",value:C&&I?`${I}`:"",onChange:J=>k(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{onClick:()=>F(!0),className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{k("")},className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:de,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),e.jsx(ls,{}),e.jsx(IJ,{isOpen:A,onClose:()=>F(!1),onSelect:Nt,payHouseItems:ve,loading:le,error:$e})]})}function LJ({isOpen:t,onClose:a,onSelect:s,employeeClassItems:r,loading:n,error:l}){const[i,c]=o.useState(""),[u,h]=o.useState(1),m=20;o.useEffect(()=>{const y=N=>{N.key==="Escape"&&t&&a()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,a]),o.useEffect(()=>{t&&(c(""),h(1))},[t]);const b=r.filter(y=>y.code.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())),g=Math.ceil(b.length/m),w=(u-1)*m,p=w+m,v=b.slice(w,p),f=()=>{const y=[];if(g<=5)return Array.from({length:g},(I,k)=>k+1);y.push(1),u>3&&y.push("...");const C=Math.max(2,u-1),S=Math.min(g-1,u+1);for(let I=C;I<=S;I++)y.push(I);return u<g-2&&y.push("..."),y.push(g),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Employee Classification Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{c(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code, name, or group..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading Leave Codes..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(y.id.toString(),y.code),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.code}),e.jsx("td",{className:"px-3 py-1.5",children:y.description})]},y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No items found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:w+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:u===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),f().map((y,N)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${N}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${u===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,g)),disabled:u===g||g===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}function OJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function _J(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState(null),[u,h]=o.useState({top:0,left:0}),[m,b]=o.useState("fixed"),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState([]),[S,I]=o.useState(1),[k,A]=o.useState(1),[F,O]=o.useState(1),M=10,[U,L]=o.useState(""),[G,re]=o.useState(""),[ye,K]=o.useState(""),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(!1);o.useEffect(()=>{I(1)},[t]);const[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),[St,dt]=o.useState(!1),[Et,Te]=o.useState([]),[Ee,pe]=o.useState(!1),[Je,pt]=o.useState([]),[Mt,Wt]=o.useState(!1),[$t,lt]=o.useState([]),[bt,Nt]=o.useState(""),wt=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Be=>({id:Be.ID||Be.id,code:Be.groupCode||Be.code,description:Be.groupDescription||Be.description}));o.useEffect(()=>{(async()=>{const Be=await wt();Se(Be)})()},[]);const It=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Be=>({id:Be.braID||Be.ID,code:Be.braCode||Be.code,description:Be.braDesc||Be.description}));o.useEffect(()=>{(async()=>{const Be=await It();Q(Be)})()},[]);const Dt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Be=>({id:Be.depID||Be.ID,code:Be.depCode||Be.code,description:Be.depDesc||Be.description}));o.useEffect(()=>{(async()=>{const Be=await Dt();Ae(Be)})()},[]);const Ke=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Be=>({id:Be.divID||Be.ID,code:Be.divCode||Be.code,description:Be.divDesc||Be.description}));o.useEffect(()=>{(async()=>{const Be=await Ke();B(Be)})()},[]);const tt=async()=>{const W=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.grpSchID||rt.id||rt.ID,code:rt.grpCode||rt.code,description:rt.grpDesc||rt.description}))};o.useEffect(()=>{(async()=>{const Be=await tt();De(Be)})()},[]);const Le=async()=>{const W=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.lineID??rt.ID??rt.id,code:rt.lineCode??rt.code,description:rt.lineDesc??rt.Description??rt.description}))};o.useEffect(()=>{(async()=>{const Be=await Le();ht(Be)})()},[]);const He=async()=>{const W=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.secID??rt.ID??rt.id,code:rt.secCode??rt.sectionCode??rt.code,description:rt.secDesc??rt.Description??rt.description}))};o.useEffect(()=>{(async()=>{const Be=await He();Te(Be)})()},[]);const ge=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Be=>({id:Be.unitID||Be.ID,code:Be.unitCode||Be.code,description:Be.unitDesc||Be.description}));o.useEffect(()=>{(async()=>{const Be=await ge();pt(Be)})()},[]);const st=async()=>{const W=await z.get("/EmployeeMasterFile");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.empID??rt.ID??rt.id,code:rt.empCode||rt.code||"",name:`${rt.lName||""}, ${rt.fName||""} ${rt.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Be=await st();lt(Be)})()},[]);const Rt=(()=>{switch(t){case"Branch":return le;case"Department":return $e;case"Division":return et;case"Group Schedule":return je;case"Pay House":return Ye;case"Section":return Et;case"Unit":return Je;default:return ee}})(),ft=(W,Be)=>{L(W),re(Be),E(!1)},kt=Rt.filter(W=>W.code.toLowerCase().includes(g.toLowerCase())||W.description.toLowerCase().includes(g.toLowerCase())),he=$t.filter(W=>W.code.toLowerCase().includes(p.toLowerCase())||W.name.toLowerCase().includes(p.toLowerCase())),be=Math.ceil(kt.length/M),ie=(S-1)*M,de=ie+M,J=kt.slice((S-1)*M,S*M),_=()=>{const W=[];if(be<=7)for(let Be=1;Be<=be;Be++)W.push(Be);else if(S<=4){for(let Be=1;Be<=5;Be++)W.push(Be);W.push("..."),W.push(be)}else if(S>=be-3){W.push(1),W.push("...");for(let Be=be-4;Be<=be;Be++)W.push(Be)}else{W.push(1),W.push("...");for(let Be=S-1;Be<=S+1;Be++)W.push(Be);W.push("..."),W.push(be)}return W},Fe=Math.ceil(he.length/M),Oe=(k-1)*M,ke=Oe+M,Ie=he.slice((k-1)*M,k*M),te=()=>{const W=[];if(Fe<=5)return Array.from({length:Fe},(ps,ct)=>ct+1);W.push(1),k>3&&W.push("...");const rt=Math.max(2,k-1),ns=Math.min(Fe-1,k+1);for(let ps=rt;ps<=ns;ps++)W.push(ps);return k<Fe-2&&W.push("..."),W.push(Fe),W},Pe=async()=>{if(!N.length){await zt("Please select employee/s to update.");return}if(m=="fixed"){if(G.length===0){zt("Classification should not be empty.");return}}else if(m=="variable"&&(!s||!n)){zt("Please select Date From and Date To.");return}try{V(!0);const W=rt=>new Date(rt).toISOString(),Be={empCode:N.map(String),classCode:G,dateFrom:W(s),dateTo:W(n),classOption:m};if(m=="fixed"){const rt=await z.post("/Utilities/UpdateEmployeeClassification_UpdateClassFixed",Be);console.log("API response:",rt);const ns=ra.isApiSuccess(rt);console.log("Is success:",ns),ns&&(await Zs("Successfully updated Employee Classification."),y([]),C([]),r(""),l(""))}else if(m=="variable"){const rt=await z.post("/Utilities/UpdateEmployeeClassification_DeleteClassVariable",Be);console.log("API response:",rt);const ns=await z.post("/Utilities/UpdateEmployeeClassification_UpdateClassVariable",Be);console.log("API response:",ns);const ps=ra.isApiSuccess(rt);console.log("Is success:",ps);const ct=ra.isApiSuccess(ns);console.log("Is success:",ct),ct&&ps&&(await Zs("Successfully updated Employee Workshift."),y([]),C([]),r(""),l(""))}}catch(W){console.error(W),await zt("Failed to update records")}finally{V(!1)}},ae=W=>{y(Be=>Be.includes(W)?Be.filter(rt=>rt!==W):[...Be,W])},me=W=>{C(Be=>Be.includes(W)?Be.filter(rt=>rt!==W):[...Be,W])},ce=()=>{f.length===kt.length?y([]):y(kt.map(W=>W.id))},Ge=()=>{N.length===he.length?C([]):C(he.map(W=>W.id))},yt=W=>{const Be=W.currentTarget.getBoundingClientRect();h({top:Be.bottom+5,left:Be.left}),c(W.currentTarget.name)},Gt=W=>{i==="dateFrom"?r(W):i==="dateTo"&&l(W),c(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Employee Classification"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(US,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee classification records. Choose between fixed or variable classification types and set effective date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Fixed or variable classifications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update with date range"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(W=>e.jsxs("button",{onClick:()=>a(W.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===W.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(W.icon,{className:"w-4 h-4"}),W.name]},W.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:W=>w(W.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===kt.length&&kt.length>0,onChange:ce,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:J.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(W.id),onChange:()=>ae(W.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:W.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:W.description})]},W.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",he.length===0?0:ie+1," to ",Math.min(de,kt.length)," of ",kt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>I(W=>Math.max(W-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((W,Be)=>W==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Be}`):e.jsx("button",{onClick:()=>I(W),className:`px-2 py-1 rounded text-xs ${S===W?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},W)),e.jsx("button",{onClick:()=>I(W=>Math.min(W+1,be)),disabled:S===be||be===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:W=>v(W.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===he.length&&he.length>0,onChange:Ge,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ie.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(W.id),onChange:()=>me(W.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:W.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:W.name})]},W.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Oe+1," to ",Math.min(ke,he.length)," of ",he.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(W=>Math.max(1,W-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),te().map((W,Be)=>typeof W=="number"?e.jsx("button",{onClick:()=>A(W),className:`px-2 py-1 rounded text-xs ${k===W?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},Be):e.jsx("span",{className:"px-2",children:W},Be)),e.jsx("button",{onClick:()=>A(W=>Math.min(Fe,W+1)),disabled:k===Fe,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"classificationType",value:"fixed",checked:m==="fixed",onChange:()=>b("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Classification"}),e.jsx("input",{type:"text",value:G,onChange:W=>re(W.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40"}),e.jsx("button",{className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>E(!0),children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",onClick:()=>{L(""),re("")},children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"classificationType",value:"variable",checked:m==="variable",onChange:()=>b("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]})}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:s,onChange:W=>r(W.target.value),onClick:yt,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:n,onChange:W=>l(W.target.value),onClick:yt,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:Pe,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),i&&e.jsx(OJ,{value:i==="dateFrom"?s:n,onChange:Gt,onClose:()=>c(null),position:u}),e.jsx(ls,{}),e.jsx(LJ,{isOpen:Y,onClose:()=>E(!1),onSelect:ft,employeeClassItems:ne,loading:se,error:ye})]})}function BJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState([]),[u,h]=o.useState([]),[m,b]=o.useState(1),[g,w]=o.useState(1),[p,v]=o.useState("fixed"),[f,y]=o.useState(!1),[N,C]=o.useState(1),S=10,[I,k]=o.useState(!1),[A,F]=o.useState(""),[O,M]=o.useState(""),[U,L]=o.useState(""),[G,re]=o.useState(""),[ye,K]=o.useState(""),[ne,H]=o.useState(""),[se,we]=o.useState(""),[Y,E]=o.useState(""),[P,V]=o.useState([]),[D,R]=o.useState(""),[ee,Se]=o.useState(""),[ue,oe]=o.useState("");o.useEffect(()=>{b(1)},[t]);const[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState([]),[$t,lt]=o.useState(""),bt=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ce=>({id:ce.ID||ce.id,code:ce.groupCode||ce.code,description:ce.groupDescription||ce.description}));o.useEffect(()=>{(async()=>{const ce=await bt();Ce(ce)})()},[]);const Nt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(ce=>({id:ce.braID||ce.ID,code:ce.braCode||ce.code,description:ce.braDesc||ce.description}));o.useEffect(()=>{(async()=>{const ce=await Nt();Re(ce)})()},[]);const wt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(ce=>({id:ce.depID||ce.ID,code:ce.depCode||ce.code,description:ce.depDesc||ce.description}));o.useEffect(()=>{(async()=>{const ce=await wt();Z(ce)})()},[]);const It=async()=>{const me=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(me.data)?me.data:[]).map(Ge=>({id:Ge.grpSchID||Ge.id||Ge.ID,code:Ge.grpCode||Ge.code,description:Ge.grpDesc||Ge.description}))};o.useEffect(()=>{(async()=>{const ce=await It();qe(ce)})()},[]);const Dt=async()=>{const me=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(me.data)?me.data:[]).map(Ge=>({id:Ge.lineID??Ge.ID??Ge.id,code:Ge.lineCode??Ge.code,description:Ge.lineDesc??Ge.Description??Ge.description}))};o.useEffect(()=>{(async()=>{const ce=await Dt();dt(ce)})()},[]);const Ke=async()=>{const me=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(me.data)?me.data:[]).map(Ge=>({id:Ge.secID??Ge.ID??Ge.id,code:Ge.secCode??Ge.sectionCode??Ge.code,description:Ge.secDesc??Ge.Description??Ge.description}))};o.useEffect(()=>{(async()=>{const ce=await Ke();pe(ce)})()},[]);const tt=async()=>{const me=await z.get("/EmployeeMasterFile");return(Array.isArray(me.data)?me.data:[]).map(Ge=>({id:Ge.empID??Ge.ID??Ge.id,code:Ge.empCode||Ge.code||"",name:`${Ge.lName||""}, ${Ge.fName||""} ${Ge.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ce=await tt();Wt(ce)})()},[]);const Le=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],st=(()=>{switch(t){case"Branch":return We;case"Department":return q;case"Group Schedule":return Qe;case"Pay House":return St;case"Section":return Ee;default:return ve}})().filter(me=>me.code.toLowerCase().includes(s.toLowerCase())||me.description.toLowerCase().includes(s.toLowerCase())),Ze=Mt.filter(me=>me.code.toLowerCase().includes(n.toLowerCase())||me.name.toLowerCase().includes(n.toLowerCase())),Rt=Math.ceil(st.length/S),ft=(m-1)*S,kt=ft+S,he=st.slice((m-1)*S,m*S),be=()=>{const me=[];if(Rt<=7)for(let ce=1;ce<=Rt;ce++)me.push(ce);else if(m<=4){for(let ce=1;ce<=5;ce++)me.push(ce);me.push("..."),me.push(Rt)}else if(m>=Rt-3){me.push(1),me.push("...");for(let ce=Rt-4;ce<=Rt;ce++)me.push(ce)}else{me.push(1),me.push("...");for(let ce=m-1;ce<=m+1;ce++)me.push(ce);me.push("..."),me.push(Rt)}return me},ie=Math.ceil(Ze.length/S),de=(g-1)*S,J=de+S,_=Ze.slice((g-1)*S,g*S),Fe=()=>{const me=[];if(ie<=5)return Array.from({length:ie},(Gt,W)=>W+1);me.push(1),g>3&&me.push("...");const Ge=Math.max(2,g-1),yt=Math.min(ie-1,g+1);for(let Gt=Ge;Gt<=yt;Gt++)me.push(Gt);return g<ie-2&&me.push("..."),me.push(ie),me},Oe=async()=>{if(!u.length){await zt("Please select employee/s to update.");return}if(p=="fixed"){if(A==O||A==U||O==U){await zt("Restdays must not be equal.");return}}else if(p=="variable"){if(!G||!ye){await zt("Please select Date From and Date To.");return}if(D.length===0){await zt("Variable restday must add atleast 1 item.");return}}else if(p=="restday-setup"&&D.length===0){await zt("Reference number must not be empty.");return}try{k(!0),await Zs("Successfully updated Batch Rest Day."),c([]),h([])}catch(me){console.error(me),await zt("Failed to update records")}finally{k(!1)}},ke=me=>{c(ce=>ce.includes(me)?ce.filter(Ge=>Ge!==me):[...ce,me])},Ie=me=>{h(ce=>ce.includes(me)?ce.filter(Ge=>Ge!==me):[...ce,me])},te=()=>{i.length===st.length?c([]):c(st.map(me=>me.id))},Pe=()=>{u.length===Ze.length?h([]):h(Ze.map(me=>me.id))},ae=()=>{if(G&&ye){const me={id:Date.now(),from:G,to:ye,restDay1:ne,restDay2:se,restDay3:Y};V([...P,me]),re(""),K("")}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Batch Rest Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(hs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update employee rest day assignments in batch. Choose between fixed, variable, or by rest day setup configuration."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update rest days for multiple employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure fixed or variable rest day schedules"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(me=>e.jsxs("button",{onClick:()=>a(me.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===me.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(me.icon,{className:"w-4 h-4"}),me.name]},me.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:me=>r(me.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:i.length===st.length&&st.length>0,onChange:te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:he.map(me=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:i.includes(me.id),onChange:()=>ke(me.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:me.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:me.description})]},me.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ze.length===0?0:ft+1," to ",Math.min(kt,st.length)," of ",st.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>b(me=>Math.max(me-1,1)),disabled:m===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),be().map((me,ce)=>me==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ce}`):e.jsx("button",{onClick:()=>b(me),className:`px-2 py-1 rounded text-xs ${m===me?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:me},me)),e.jsx("button",{onClick:()=>b(me=>Math.min(me+1,Rt)),disabled:m===Rt||Rt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:n,onChange:me=>l(me.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:u.length===Ze.length&&Ze.length>0,onChange:Pe,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(me=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:u.includes(me.id),onChange:()=>Ie(me.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:me.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:me.name})]},me.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",de+1," to ",Math.min(J,Ze.length)," of ",Ze.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>w(me=>Math.max(1,me-1)),disabled:g===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Fe().map((me,ce)=>typeof me=="number"?e.jsx("button",{onClick:()=>w(me),className:`px-2 py-1 rounded text-xs ${g===me?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:me},ce):e.jsx("span",{className:"px-2",children:me},ce)),e.jsx("button",{onClick:()=>w(me=>Math.min(ie,me+1)),disabled:g===ie,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="fixed",onChange:()=>v("fixed"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Fixed"})]}),p==="fixed"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 1"}),e.jsxs("select",{value:A,onChange:me=>F(me.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),Le.map(me=>e.jsx("option",{value:me,children:me},me))]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 3"}),e.jsxs("select",{value:U,onChange:me=>L(me.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),Le.map(me=>e.jsx("option",{value:me,children:me},me))]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 2"}),e.jsxs("select",{value:O,onChange:me=>M(me.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-40",children:[e.jsx("option",{value:""}),Le.map(me=>e.jsx("option",{value:me,children:me},me))]})]})]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="variable",onChange:()=>v("variable"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Variable"})]}),p==="variable"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:ae,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Add"}),e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsx("input",{readOnly:!0,type:"text",value:G,onChange:me=>re(me.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:G,onChange:re}),e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsx("input",{readOnly:!0,type:"text",value:ye,onChange:me=>K(me.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:ye,onChange:K})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 1"}),e.jsxs("select",{value:ne,onChange:me=>H(me.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),Le.map(me=>e.jsx("option",{value:me,children:me},me))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 2"}),e.jsxs("select",{value:se,onChange:me=>we(me.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),Le.map(me=>e.jsx("option",{value:me,children:me},me))]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Rest Day 3"}),e.jsxs("select",{value:Y,onChange:me=>E(me.target.value),className:"flex-1 px-2 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:""}),Le.map(me=>e.jsx("option",{value:me,children:me},me))]})]})]}),P.length>0&&e.jsx("div",{className:"mt-4 bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"From"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"To"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day1"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day2"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs text-gray-600",children:"Rest Day3"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:P.map(me=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:me.from}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-900",children:me.to}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:me.restDay1}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:me.restDay2}),e.jsx("td",{className:"px-3 py-2 text-sm text-gray-600",children:me.restDay3})]},me.id))})]})})]})]}),e.jsxs("div",{className:"pb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[e.jsx("input",{type:"radio",name:"restDayMode",checked:p==="restday-setup",onChange:()=>v("restday-setup"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"By RestDay Set Up"})]}),p==="restday-setup"&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Ref No."}),e.jsx("input",{type:"text",value:D,onChange:me=>R(me.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"Search"}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsx("input",{type:"text",value:ee,onChange:me=>Se(me.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsx("input",{type:"text",value:ue,onChange:me=>oe(me.target.value),placeholder:"MM/DD/YYYY",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:me=>y(me.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Delete Existing Rest Day"})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:Oe,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})]})]})})]})]})]})]})}),e.jsx(ls,{})]})}function RJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,c]=o.useState("05/05/2021"),[u,h]=o.useState("Rest Day"),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState([]),[S,I]=o.useState(1),[k,A]=o.useState(1),[F,O]=o.useState(1),M=10;o.useEffect(()=>{I(1)},[t]);const[U,L]=o.useState(!1),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(""),St=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ie=>({id:ie.ID||ie.id,code:ie.groupCode||ie.code,description:ie.groupDescription||ie.description}));o.useEffect(()=>{(async()=>{const ie=await St();re(ie)})()},[]);const dt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(ie=>({id:ie.braID||ie.ID,code:ie.braCode||ie.code,description:ie.braDesc||ie.description}));o.useEffect(()=>{(async()=>{const ie=await dt();H(ie)})()},[]);const Et=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(ie=>({id:ie.depID||ie.ID,code:ie.depCode||ie.code,description:ie.depDesc||ie.description}));o.useEffect(()=>{(async()=>{const ie=await Et();E(ie)})()},[]);const Te=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(ie=>({id:ie.divID||ie.ID,code:ie.divCode||ie.code,description:ie.divDesc||ie.description}));o.useEffect(()=>{(async()=>{const ie=await Te();R(ie)})()},[]);const Ee=async()=>{const be=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(be.data)?be.data:[]).map(de=>({id:de.grpSchID||de.id||de.ID,code:de.grpCode||de.code,description:de.grpDesc||de.description}))};o.useEffect(()=>{(async()=>{const ie=await Ee();oe(ie)})()},[]);const pe=async()=>{const be=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(be.data)?be.data:[]).map(de=>({id:de.lineID??de.ID??de.id,code:de.lineCode??de.code,description:de.lineDesc??de.Description??de.description}))};o.useEffect(()=>{(async()=>{const ie=await pe();Ce(ie)})()},[]);const Je=async()=>{const be=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(be.data)?be.data:[]).map(de=>({id:de.secID??de.ID??de.id,code:de.secCode??de.sectionCode??de.code,description:de.secDesc??de.Description??de.description}))};o.useEffect(()=>{(async()=>{const ie=await Je();Re(ie)})()},[]);const pt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(ie=>({id:ie.unitID||ie.ID,code:ie.unitCode||ie.code,description:ie.unitDesc||ie.description}));o.useEffect(()=>{(async()=>{const ie=await pt();Z(ie)})()},[]);const Mt=async()=>{const be=await z.get("/EmployeeMasterFile");return(Array.isArray(be.data)?be.data:[]).map(de=>({id:de.empID??de.ID??de.id,code:de.empCode||de.code||"",name:`${de.lName||""}, ${de.fName||""} ${de.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ie=await Mt();qe(ie)})()},[]);const lt=(()=>{switch(t){case"Branch":return ne;case"Department":return Y;case"Division":return D;case"Group Schedule":return ue;case"Pay House":return ve;case"Section":return We;case"Unit":return q;default:return G}})().filter(be=>be.code.toLowerCase().includes(g.toLowerCase())||be.description.toLowerCase().includes(g.toLowerCase())),bt=Qe.filter(be=>be.code.toLowerCase().includes(p.toLowerCase())||be.name.toLowerCase().includes(p.toLowerCase())),Nt=Math.ceil(lt.length/M),wt=(S-1)*M,It=wt+M,Dt=lt.slice((S-1)*M,S*M),Ke=()=>{const be=[];if(Nt<=7)for(let ie=1;ie<=Nt;ie++)be.push(ie);else if(S<=4){for(let ie=1;ie<=5;ie++)be.push(ie);be.push("..."),be.push(Nt)}else if(S>=Nt-3){be.push(1),be.push("...");for(let ie=Nt-4;ie<=Nt;ie++)be.push(ie)}else{be.push(1),be.push("...");for(let ie=S-1;ie<=S+1;ie++)be.push(ie);be.push("..."),be.push(Nt)}return be},tt=Math.ceil(bt.length/M),Le=(k-1)*M,He=Le+M,ge=bt.slice((k-1)*M,k*M),st=()=>{const be=[];if(tt<=5)return Array.from({length:tt},(_,Fe)=>Fe+1);be.push(1),k>3&&be.push("...");const de=Math.max(2,k-1),J=Math.min(tt-1,k+1);for(let _=de;_<=J;_++)be.push(_);return k<tt-2&&be.push("..."),be.push(tt),be},Ze=be=>{y(ie=>ie.includes(be)?ie.filter(de=>de!==be):[...ie,be])},Rt=be=>{C(ie=>ie.includes(be)?ie.filter(de=>de!==be):[...ie,be])},ft=()=>{f.length===lt.length?y([]):y(lt.map(be=>be.id))},kt=()=>{N.length===bt.length?C([]):C(bt.map(be=>be.id))},he=async()=>{if(!N.length){await zt("Please select employee/s to update.");return}if(!n||!i){await zt("Please select Date From and Date To.");return}if(await ra.showDeleteConfirmDialog())try{const ie=Fe=>new Date(Fe).toISOString(),de={mode:"Delete",transType:u,dateFrom:ie(n),dateTo:ie(i),leavecode:"",empCode:N.map(String)},J=await z.post("/Utilities/DeleteEmployeeTransactions",de);console.log("API response:",J);const _=ra.isApiSuccess(J);console.log("Is success:",_),_&&(await Zs("Employee transactions deleted successfully."),y([]),C([]))}catch(ie){console.error(ie),await zt("Failed to delete employee transaction")}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Employee Transactions"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ns,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Delete employee transactions for selected groups and employees. Filter by date range and transaction type before deletion."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Permanent deletion - cannot be undone"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Filter by status and transaction type"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(be=>e.jsxs("button",{onClick:()=>a(be.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===be.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(be.icon,{className:"w-4 h-4"}),be.name]},be.name))})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:be=>w(be.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===lt.length&&lt.length>0,onChange:ft,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Dt.map(be=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(be.id),onChange:()=>Ze(be.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:be.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:be.description})]},be.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",bt.length===0?0:wt+1," to ",Math.min(It,lt.length)," of ",lt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>I(be=>Math.max(be-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ke().map((be,ie)=>be==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ie}`):e.jsx("button",{onClick:()=>I(be),className:`px-2 py-1 rounded text-xs ${S===be?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:be},be)),e.jsx("button",{onClick:()=>I(be=>Math.min(be+1,Nt)),disabled:S===Nt||Nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:be=>v(be.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===bt.length&&bt.length>0,onChange:kt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ge.map(be=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(be.id),onChange:()=>Rt(be.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:be.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:be.name})]},be.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Le+1," to ",Math.min(He,bt.length)," of ",bt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(be=>Math.max(1,be-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),st().map((be,ie)=>typeof be=="number"?e.jsx("button",{onClick:()=>A(be),className:`px-2 py-1 rounded text-xs ${k===be?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:be},ie):e.jsx("span",{className:"px-2",children:be},ie)),e.jsx("button",{onClick:()=>A(be=>Math.min(tt,be+1)),disabled:k===tt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:s==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:s==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:s==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From"}),e.jsx("input",{type:"text",value:n,onChange:be=>l(be.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To"}),e.jsx("input",{type:"text",value:i,onChange:be=>c(be.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:i,onChange:c})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Transaction Type:"}),e.jsxs("select",{value:u,onChange:be=>h(be.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1",children:[e.jsx("option",{value:"Rest Day",children:"Rest Day"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Leave",children:"Leave"}),e.jsx("option",{value:"Workshift",children:"Workshift"}),e.jsx("option",{value:"All",children:"All"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:he,children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})})]})})]})]})]})]})}),e.jsx(ls,{})]})}function HJ(){const[t,a]=o.useState("");return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Rawdata Online"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(og,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update raw data online for processing and synchronization."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Configure options before updating"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Process will run immediately"})]})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Option:"}),e.jsx("input",{type:"text",value:t,onChange:s=>a(s.target.value),className:"flex-1 max-w-md px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter option value"})]}),e.jsx("div",{className:"flex justify-start pt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})}),e.jsx(ls,{})]})}function UJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function $J(){const[t,a]=o.useState("5/5/2021"),[s,r]=o.useState("05/05/2021"),[n,l]=o.useState("dateIn"),[i,c]=o.useState(null),[u,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[g,w]=o.useState([]),[p,v]=o.useState("contract"),[f,y]=o.useState(1),N=10,[C,S]=o.useState(!1),[I,k]=o.useState(!1),[A,F]=o.useState([]),O=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(E=>({id:E.ID||E.id,code:E.groupCode||E.code,description:E.groupDescription||E.description}));o.useEffect(()=>{(async()=>{const E=await O();F(E)})()},[]);const M=A.filter(Y=>Y.code.toLowerCase().includes(m.toLowerCase())||Y.description.toLowerCase().includes(m.toLowerCase())),U=A.filter(Y=>Y.code.toLowerCase().includes(m.toLowerCase())||Y.description.toLowerCase().includes(m.toLowerCase())),L=Math.ceil(M.length/N),G=(f-1)*N,re=G+N;M.slice((f-1)*N,f*N);const ye=async()=>{if(!g.length){await zt("Please select TK Group item/s.");return}if(!t||!s){await zt("Please select Date From and Date To.");return}try{S(!0);const Y=ee=>new Date(ee).toISOString(),E={tkGroupList:g.map(String),dateFrom:Y(t),dateTo:Y(s),UpdateOption:n},P=await z.post("/Utilities/UpdateRawData_AddtmpTable",E);console.log("API response:",P);const V=await z.post("/Utilities/UpdateRawData_UpdatetkGroupList",E);console.log("API response:",V);const D=ra.isApiSuccess(P);console.log("Is success:",D);const R=ra.isApiSuccess(V);console.log("Is success:",R),D&&R&&(await Zs("Successfully updated Raw Day Type."),w([]),a(""),r(""))}catch(Y){console.error(Y),await zt("Failed to update records")}finally{S(!1)}},K=U.slice((f-1)*N,f*N),ne=()=>{const Y=[];if(L<=7)for(let E=1;E<=L;E++)Y.push(E);else if(f<=4){for(let E=1;E<=5;E++)Y.push(E);Y.push("..."),Y.push(L)}else if(f>=L-3){Y.push(1),Y.push("...");for(let E=L-4;E<=L;E++)Y.push(E)}else{Y.push(1),Y.push("...");for(let E=f-1;E<=f+1;E++)Y.push(E);Y.push("..."),Y.push(L)}return Y},H=Y=>{w(Y?A.map(E=>E.id):[])},se=(Y,E)=>{w(P=>E?[...P,Y]:P.filter(V=>V!==Y))},we=Y=>{i==="dateFrom"?a(Y):i==="dateTo"&&r(Y)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Raw Day Type"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(OS,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update day type in raw data for selected groups within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Choose day type option before update"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:Y=>b(Y.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:g.length===A.length,onChange:Y=>H(Y.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:K.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:g.includes(Y.id),onChange:E=>se(Y.id,E.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Y.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Y.description})]},Y.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",M.length===0?0:G+1," to ",Math.min(re,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(Y=>Math.max(Y-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ne().map((Y,E)=>Y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${E}`):e.jsx("button",{onClick:()=>y(Y),className:`px-2 py-1 rounded text-xs ${f===Y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Y},Y)),e.jsx("button",{onClick:()=>y(Y=>Math.min(Y+1,L)),disabled:f===L||L===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:t,onChange:Y=>a(Y.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:t,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:s,onChange:Y=>r(Y.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"dayTypeOption",value:"dateIn",checked:n==="dateIn",onChange:()=>l("dateIn"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Day Type [Date In]"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"dayTypeOption",value:"dateOut",checked:n==="dateOut",onChange:()=>l("dateOut"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Day Type [Date Out]"})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:ye,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})]})}),i&&e.jsx(UJ,{value:i==="dateFrom"?t:s,onChange:we,onClose:()=>c(null),position:u}),e.jsx(ls,{})]})}function WJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function GJ(){const[t,a]=o.useState("5/5/2021"),[s,r]=o.useState("05/05/2021"),[n,l]=o.useState(null),[i,c]=o.useState({top:0,left:0}),[u,h]=o.useState(""),[m,b]=o.useState([]),[g,w]=o.useState(1),p=10,[v,f]=o.useState(!1),[y,N]=o.useState(!1),[C,S]=o.useState([]),I=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ne=>({id:ne.ID||ne.id,code:ne.groupCode||ne.code,description:ne.groupDescription||ne.description}));o.useEffect(()=>{(async()=>{const ne=await I();S(ne)})()},[]);const k=C.filter(K=>K.code.toLowerCase().includes(u.toLowerCase())||K.description.toLowerCase().includes(u.toLowerCase())),A=Math.ceil(k.length/p),F=(g-1)*p,O=F+p,M=k.slice((g-1)*p,g*p),U=()=>{const K=[];if(A<=7)for(let ne=1;ne<=A;ne++)K.push(ne);else if(g<=4){for(let ne=1;ne<=5;ne++)K.push(ne);K.push("..."),K.push(A)}else if(g>=A-3){K.push(1),K.push("...");for(let ne=A-4;ne<=A;ne++)K.push(ne)}else{K.push(1),K.push("...");for(let ne=g-1;ne<=g+1;ne++)K.push(ne);K.push("..."),K.push(A)}return K},L=async()=>{if(!m.length){await zt("Please select TK Group item/s.");return}if(!t||!s){await zt("Please select Date From and Date To.");return}try{f(!0);const K=E=>new Date(E).toISOString(),ne={tkGroupList:m.map(String),dateFrom:K(t),dateTo:K(s)},H=await z.post("/Utilities/UpdateWorkshiftRawData_AddtmpTable",ne);console.log("API response:",H);const se=await z.post("/Utilities/UpdateWorkshiftRawData_UpdateTKGroup",ne);console.log("API response:",se);const we=ra.isApiSuccess(H);console.log("Is success:",we);const Y=ra.isApiSuccess(se);console.log("Is success:",Y),we&&Y&&(await Zs("Successfully updated Workshift in Raw Data."),b([]),a(""),r(""))}catch(K){console.error(K),await zt("Failed to update records")}finally{f(!1)}},G=K=>{b(K?C.map(ne=>ne.id):[])},re=(K,ne)=>{b(H=>ne?[...H,K]:H.filter(se=>se!==K))},ye=K=>{n==="dateFrom"?a(K):n==="dateTo"&&r(K)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Workshift in Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Update workshift information in raw data for selected groups within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0",children:""}),e.jsx("span",{className:"text-gray-600",children:"Bulk update workshift data"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:u,onChange:K=>h(K.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:m.length===C.length,onChange:K=>G(K.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:M.map(K=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:m.includes(K.id),onChange:ne=>re(K.id,ne.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:K.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:K.description})]},K.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",k.length===0?0:F+1," to ",Math.min(O,k.length)," of ",k.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>w(K=>Math.max(K-1,1)),disabled:g===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),U().map((K,ne)=>K==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ne}`):e.jsx("button",{onClick:()=>w(K),className:`px-2 py-1 rounded text-xs ${g===K?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:K},K)),e.jsx("button",{onClick:()=>w(K=>Math.min(K+1,A)),disabled:g===A||A===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:t,onChange:K=>a(K.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:t,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:s,onChange:K=>r(K.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",onClick:L,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})})]})]})]})}),n&&e.jsx(WJ,{value:n==="dateFrom"?t:s,onChange:ye,onClose:()=>l(null),position:i}),e.jsx(ls,{})]})}function zJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function VJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState("active"),[u,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState([]),[S,I]=o.useState([]),[k,A]=o.useState(1),[F,O]=o.useState(1),[M,U]=o.useState(1),L=10;o.useEffect(()=>{A(1)},[t]);const[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState(!1),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),St=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(de=>({id:de.ID||de.id,code:de.groupCode||de.code,description:de.groupDescription||de.description}));o.useEffect(()=>{(async()=>{const de=await St();K(de)})()},[]);const dt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(de=>({id:de.braID||de.ID,code:de.braCode||de.code,description:de.braDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await dt();we(de)})()},[]);const Et=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(de=>({id:de.depID||de.ID,code:de.depCode||de.code,description:de.depDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await Et();V(de)})()},[]);const Te=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(de=>({id:de.divID||de.ID,code:de.divCode||de.code,description:de.divDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await Te();Se(de)})()},[]);const Ee=async()=>{const ie=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(J=>({id:J.grpSchID||J.id||J.ID,code:J.grpCode||J.code,description:J.grpDesc||J.description}))};o.useEffect(()=>{(async()=>{const de=await Ee();Q(de)})()},[]);const pe=async()=>{const ie=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(J=>({id:J.lineID??J.ID??J.id,code:J.lineCode??J.code,description:J.lineDesc??J.Description??J.description}))};o.useEffect(()=>{(async()=>{const de=await pe();Ae(de)})()},[]);const Je=async()=>{const ie=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ie.data)?ie.data:[]).map(J=>({id:J.secID??J.ID??J.id,code:J.secCode??J.sectionCode??J.code,description:J.secDesc??J.Description??J.description}))};o.useEffect(()=>{(async()=>{const de=await Je();B(de)})()},[]);const pt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(de=>({id:de.unitID||de.ID,code:de.unitCode||de.code,description:de.unitDesc||de.description}));o.useEffect(()=>{(async()=>{const de=await pt();De(de)})()},[]);const Mt=async()=>{const ie=await z.get("/EmployeeMasterFile");return(Array.isArray(ie.data)?ie.data:[]).map(J=>({id:J.empID??J.ID??J.id,code:J.empCode||J.code||"",name:`${J.lName||""}, ${J.fName||""} ${J.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const de=await Mt();ht(de)})()},[]);const lt=(()=>{switch(t){case"Branch":return se;case"Department":return P;case"Division":return ee;case"Group Schedule":return le;case"Pay House":return $e;case"Section":return et;case"Unit":return je;default:return ye}})().filter(ie=>ie.code.toLowerCase().includes(p.toLowerCase())||ie.description.toLowerCase().includes(p.toLowerCase())),bt=Ye.filter(ie=>ie.code.toLowerCase().includes(f.toLowerCase())||ie.name.toLowerCase().includes(f.toLowerCase())),Nt=Math.ceil(lt.length/L),wt=(k-1)*L,It=wt+L,Dt=lt.slice((k-1)*L,k*L),Ke=()=>{const ie=[];if(Nt<=7)for(let de=1;de<=Nt;de++)ie.push(de);else if(k<=4){for(let de=1;de<=5;de++)ie.push(de);ie.push("..."),ie.push(Nt)}else if(k>=Nt-3){ie.push(1),ie.push("...");for(let de=Nt-4;de<=Nt;de++)ie.push(de)}else{ie.push(1),ie.push("...");for(let de=k-1;de<=k+1;de++)ie.push(de);ie.push("..."),ie.push(Nt)}return ie},tt=Math.ceil(bt.length/L),Le=(F-1)*L,He=Le+L,ge=bt.slice((F-1)*L,F*L),st=()=>{const ie=[];if(tt<=5)return Array.from({length:tt},(Fe,Oe)=>Oe+1);ie.push(1),F>3&&ie.push("...");const J=Math.max(2,F-1),_=Math.min(tt-1,F+1);for(let Fe=J;Fe<=_;Fe++)ie.push(Fe);return F<tt-2&&ie.push("..."),ie.push(tt),ie},Ze=ie=>{C(de=>de.includes(ie)?de.filter(J=>J!==ie):[...de,ie])},Rt=ie=>{I(de=>de.includes(ie)?de.filter(J=>J!==ie):[...de,ie])},ft=()=>{N.length===lt.length?C([]):C(lt.map(ie=>ie.id))},kt=()=>{S.length===bt.length?I([]):I(bt.map(ie=>ie.id))},he=ie=>{u==="dateFrom"?r(ie):u==="dateTo"&&l(ie)},be=async()=>{if(!S.length){await zt("Please select employee/s to update.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}if(await ra.showDeleteConfirmDialog())try{const de=Oe=>new Date(Oe).toISOString(),J={dateFrom:de(s),dateTo:de(n),empCode:S.map(String)},_=await z.post("/Utilities/DeleteIncompleteLogs",J);console.log("API response:",_);const Fe=ra.isApiSuccess(_);console.log("Is success:",Fe),Fe&&(await Zs("Incomplete Logs deleted successfully."),C([]),I([]),r(""),l(""))}catch(de){console.error(de),await zt("Failed to delete employee transaction")}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Incomplete Logs"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ns,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch delete incomplete attendance logs for selected employee groups. Remove partial or corrupted time entries from the system efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review incomplete logs carefully"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Click delete to remove entries"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200",children:["TK Group","Branch","Department","Division","Group Schedule","Pay House","Section","Unit"].map(ie=>{const J=(()=>{switch(ie){case"TK Group":return Js;case"Branch":return da;case"Department":return ia;case"Division":return _v;case"Group Schedule":return Kx;case"Pay House":return rr;case"Section":return ia;case"Unit":return Kx;default:return Js}})();return e.jsxs("button",{onClick:()=>a(ie),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ie?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(J,{className:"w-4 h-4"}),ie]},ie)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ie=>v(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===lt.length&&lt.length>0,onChange:ft,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Dt.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(ie.id),onChange:()=>Ze(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.description})]},ie.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",bt.length===0?0:wt+1," to ",Math.min(It,lt.length)," of ",lt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>A(ie=>Math.max(ie-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ke().map((ie,de)=>ie==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${de}`):e.jsx("button",{onClick:()=>A(ie),className:`px-2 py-1 rounded text-xs ${k===ie?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},ie)),e.jsx("button",{onClick:()=>A(ie=>Math.min(ie+1,Nt)),disabled:k===Nt||Nt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:ie=>y(ie.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===bt.length&&bt.length>0,onChange:kt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ge.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(ie.id),onChange:()=>Rt(ie.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ie.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ie.name})]},ie.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Le+1," to ",Math.min(He,bt.length)," of ",bt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>O(ie=>Math.max(1,ie-1)),disabled:F===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),st().map((ie,de)=>typeof ie=="number"?e.jsx("button",{onClick:()=>O(ie),className:`px-2 py-1 rounded text-xs ${F===ie?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ie},de):e.jsx("span",{className:"px-2",children:ie},de)),e.jsx("button",{onClick:()=>O(ie=>Math.min(tt,ie+1)),disabled:F===tt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>c("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>c("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>c("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:s,onChange:ie=>r(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:ie=>l(ie.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:be,children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})})]})]})]})]})]})]})}),u&&e.jsx(zJ,{value:u==="dateFrom"?s:n,onChange:he,onClose:()=>h(null),position:m}),e.jsx(ls,{})]})}function YJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function KJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState("active"),[u,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState([]),[S,I]=o.useState([]),[k,A]=o.useState(1),[F,O]=o.useState(1),[M,U]=o.useState(1),L=10;o.useEffect(()=>{A(1)},[t]);const[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState(!1),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),[St,dt]=o.useState(""),Et=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(_=>({id:_.ID||_.id,code:_.groupCode||_.code,description:_.groupDescription||_.description}));o.useEffect(()=>{(async()=>{const _=await Et();K(_)})()},[]);const Te=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(_=>({id:_.braID||_.ID,code:_.braCode||_.code,description:_.braDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Te();we(_)})()},[]);const Ee=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(_=>({id:_.depID||_.ID,code:_.depCode||_.code,description:_.depDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Ee();V(_)})()},[]);const pe=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(_=>({id:_.divID||_.ID,code:_.divCode||_.code,description:_.divDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await pe();Se(_)})()},[]);const Je=async()=>{const J=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.grpSchID||Fe.id||Fe.ID,code:Fe.grpCode||Fe.code,description:Fe.grpDesc||Fe.description}))};o.useEffect(()=>{(async()=>{const _=await Je();Q(_)})()},[]);const pt=async()=>{const J=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.lineID??Fe.ID??Fe.id,code:Fe.lineCode??Fe.code,description:Fe.lineDesc??Fe.Description??Fe.description}))};o.useEffect(()=>{(async()=>{const _=await pt();Ae(_)})()},[]);const Mt=async()=>{const J=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.secID??Fe.ID??Fe.id,code:Fe.secCode??Fe.sectionCode??Fe.code,description:Fe.secDesc??Fe.Description??Fe.description}))};o.useEffect(()=>{(async()=>{const _=await Mt();B(_)})()},[]);const Wt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(_=>({id:_.unitID||_.ID,code:_.unitCode||_.code,description:_.unitDesc||_.description}));o.useEffect(()=>{(async()=>{const _=await Wt();De(_)})()},[]);const $t=async()=>{const J=await z.get("/EmployeeMasterFile");return(Array.isArray(J.data)?J.data:[]).map(Fe=>({id:Fe.empID??Fe.ID??Fe.id,code:Fe.empCode||Fe.code||"",name:`${Fe.lName||""}, ${Fe.fName||""} ${Fe.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const _=await $t();ht(_)})()},[]);const Nt=(()=>{switch(t){case"Branch":return se;case"Department":return P;case"Division":return ee;case"Group Schedule":return le;case"Pay House":return $e;case"Section":return et;case"Unit":return je;default:return ye}})().filter(J=>J.code.toLowerCase().includes(p.toLowerCase())||J.description.toLowerCase().includes(p.toLowerCase())),wt=Ye.filter(J=>J.code.toLowerCase().includes(f.toLowerCase())||J.name.toLowerCase().includes(f.toLowerCase())),It=Math.ceil(Nt.length/L),Dt=(k-1)*L,Ke=Dt+L,tt=Nt.slice((k-1)*L,k*L),Le=()=>{const J=[];if(It<=7)for(let _=1;_<=It;_++)J.push(_);else if(k<=4){for(let _=1;_<=5;_++)J.push(_);J.push("..."),J.push(It)}else if(k>=It-3){J.push(1),J.push("...");for(let _=It-4;_<=It;_++)J.push(_)}else{J.push(1),J.push("...");for(let _=k-1;_<=k+1;_++)J.push(_);J.push("..."),J.push(It)}return J},He=Math.ceil(wt.length/L),ge=(F-1)*L,st=ge+L,Ze=wt.slice((F-1)*L,F*L),Rt=()=>{const J=[];if(He<=5)return Array.from({length:He},(ke,Ie)=>Ie+1);J.push(1),F>3&&J.push("...");const Fe=Math.max(2,F-1),Oe=Math.min(He-1,F+1);for(let ke=Fe;ke<=Oe;ke++)J.push(ke);return F<He-2&&J.push("..."),J.push(He),J},ft=J=>{C(_=>_.includes(J)?_.filter(Fe=>Fe!==J):[..._,J])},kt=J=>{I(_=>_.includes(J)?_.filter(Fe=>Fe!==J):[..._,J])},he=()=>{N.length===Nt.length?C([]):C(Nt.map(J=>J.id))},be=()=>{S.length===wt.length?I([]):I(wt.map(J=>J.id))},ie=J=>{u==="dateFrom"?r(J):u==="dateTo"&&l(J)},de=async()=>{if(!S.length){await zt("Please select employee/s to update.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}if((await xe.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete Employee Transaction?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{const _=Pe=>new Date(Pe).toISOString(),Fe={empCode:S.map(String),dateFrom:_(s),dateTo:_(n)},Oe=await z.post("/Utilities/DeleteRawData_AddtmpDeleteRawData",Fe);console.log("API response:",Oe);const ke=await z.post("/Utilities/DeleteRawData_DeleteLogs",Fe);console.log("API response:",ke);const Ie=ra.isApiSuccess(Oe);console.log("Is success:",Ie);const te=ra.isApiSuccess(ke);console.log("Is success:",te),Ie&&te&&(await Zs("Records in Raw Data deleted successfully."),C([]),I([]),r(""),l(""))}catch(_){console.error(_),await zt("Failed to update records")}};return o.useEffect(()=>{const J=_=>{_.key==="Escape"&&g&&w(!1)};return g&&document.addEventListener("keydown",J),()=>{document.removeEventListener("keydown",J)}},[g]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete Records in Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ns,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Permanently delete raw attendance data for selected employee groups. Remove unprocessed time records from the system efficiently within a specified date range."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range to delete"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review selected records carefully"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Deletion is permanent and cannot be undone"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200",children:["TK Group","Branch","Department","Division","Group Schedule","Pay House","Section","Unit"].map(J=>{const Fe=(()=>{switch(J){case"TK Group":return Js;case"Branch":return da;case"Department":return ia;case"Division":return _v;case"Group Schedule":return Kx;case"Pay House":return rr;case"Section":return ia;case"Unit":return Kx;default:return Js}})();return e.jsxs("button",{onClick:()=>a(J),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===J?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Fe,{className:"w-4 h-4"}),J]},J)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:J=>v(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===Nt.length&&Nt.length>0,onChange:he,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:tt.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(J.id),onChange:()=>ft(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.description})]},J.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",wt.length===0?0:Dt+1," to ",Math.min(Ke,Nt.length)," of ",Nt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>A(J=>Math.max(J-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Le().map((J,_)=>J==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${_}`):e.jsx("button",{onClick:()=>A(J),className:`px-2 py-1 rounded text-xs ${k===J?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},J)),e.jsx("button",{onClick:()=>A(J=>Math.min(J+1,It)),disabled:k===It||It===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:J=>y(J.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"mb-3 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"active",checked:i==="active",onChange:()=>c("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"inactive",checked:i==="inactive",onChange:()=>c("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"status",value:"all",checked:i==="all",onChange:()=>c("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===wt.length&&wt.length>0,onChange:be,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ze.map(J=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(J.id),onChange:()=>kt(J.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:J.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.name})]},J.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ge+1," to ",Math.min(st,wt.length)," of ",wt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>O(J=>Math.max(1,J-1)),disabled:F===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Rt().map((J,_)=>typeof J=="number"?e.jsx("button",{onClick:()=>O(J),className:`px-2 py-1 rounded text-xs ${F===J?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:J},_):e.jsx("span",{className:"px-2",children:J},_)),e.jsx("button",{onClick:()=>O(J=>Math.min(He,J+1)),disabled:F===He,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:s,onChange:J=>r(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:J=>l(J.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:de,children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(P7,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm text-red-800 mb-2",children:"Note"}),e.jsx("p",{className:"text-sm text-red-700",children:"This Process assumes that you really don't need the data in RAW DATA. You will not be able to UNDO the deletion after doing this process. You should could re-import again the DTR files."})]})]})})]})]})]})]})}),u&&e.jsx(YJ,{value:u==="dateFrom"?s:n,onChange:ie,onClose:()=>h(null),position:m}),e.jsx(ls,{})]})}function qJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function XJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState("active"),[u,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState([]),[S,I]=o.useState(1),[k,A]=o.useState(1),[F,O]=o.useState(!1),M=10,[U,L]=o.useState(!1),[G,re]=o.useState({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,selectAll:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1}),ye=()=>{re({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1,selectAll:!1})};o.useEffect(()=>{I(1)},[t]);const[K,ne]=o.useState(!1),[H,se]=o.useState([]),[we,Y]=o.useState(!1),[E,P]=o.useState([]),[V,D]=o.useState(!1),[R,ee]=o.useState([]),[Se,ue]=o.useState(!1),[oe,le]=o.useState([]),[Q,ve]=o.useState(!1),[Ce,$e]=o.useState([]),[Ae,We]=o.useState(!1),[Re,et]=o.useState([]),[B,q]=o.useState(!1),[Z,je]=o.useState([]),[De,Qe]=o.useState(!1),[qe,Ye]=o.useState([]),[ht,St]=o.useState(!1),[dt,Et]=o.useState([]),[Te,Ee]=o.useState(""),pe=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ie=>({id:Ie.ID||Ie.id,code:Ie.groupCode||Ie.code,description:Ie.groupDescription||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await pe();se(Ie)})()},[]);const Je=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Ie=>({id:Ie.braID||Ie.ID,code:Ie.braCode||Ie.code,description:Ie.braDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await Je();P(Ie)})()},[]);const pt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Ie=>({id:Ie.depID||Ie.ID,code:Ie.depCode||Ie.code,description:Ie.depDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await pt();ee(Ie)})()},[]);const Mt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Ie=>({id:Ie.divID||Ie.ID,code:Ie.divCode||Ie.code,description:Ie.divDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await Mt();le(Ie)})()},[]);const Wt=async()=>{const ke=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.grpSchID||te.id||te.ID,code:te.grpCode||te.code,description:te.grpDesc||te.description}))};o.useEffect(()=>{(async()=>{const Ie=await Wt();$e(Ie)})()},[]);const $t=async()=>{const ke=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.lineID??te.ID??te.id,code:te.lineCode??te.code,description:te.lineDesc??te.Description??te.description}))};o.useEffect(()=>{(async()=>{const Ie=await $t();et(Ie)})()},[]);const lt=async()=>{const ke=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.secID??te.ID??te.id,code:te.secCode??te.sectionCode??te.code,description:te.secDesc??te.Description??te.description}))};o.useEffect(()=>{(async()=>{const Ie=await lt();je(Ie)})()},[]);const bt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Ie=>({id:Ie.unitID||Ie.ID,code:Ie.unitCode||Ie.code,description:Ie.unitDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await bt();Ye(Ie)})()},[]);const Nt=async()=>{const ke=await z.get("/EmployeeMasterFile");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.empID??te.ID??te.id,code:te.empCode||te.code||"",name:`${te.lName||""}, ${te.fName||""} ${te.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ie=await Nt();Et(Ie)})()},[]);const Dt=(()=>{switch(t){case"Branch":return E;case"Department":return R;case"Division":return oe;case"Group Schedule":return Ce;case"Pay House":return Re;case"Section":return Z;case"Unit":return qe;default:return H}})().filter(ke=>ke.code.toLowerCase().includes(g.toLowerCase())||ke.description.toLowerCase().includes(g.toLowerCase())),Ke=dt.filter(ke=>ke.code.toLowerCase().includes(p.toLowerCase())||ke.name.toLowerCase().includes(p.toLowerCase())),tt=Math.ceil(Dt.length/M),Le=(S-1)*M,He=Le+M,ge=Dt.slice((S-1)*M,S*M),st=()=>{const ke=[];if(tt<=7)for(let Ie=1;Ie<=tt;Ie++)ke.push(Ie);else if(S<=4){for(let Ie=1;Ie<=5;Ie++)ke.push(Ie);ke.push("..."),ke.push(tt)}else if(S>=tt-3){ke.push(1),ke.push("...");for(let Ie=tt-4;Ie<=tt;Ie++)ke.push(Ie)}else{ke.push(1),ke.push("...");for(let Ie=S-1;Ie<=S+1;Ie++)ke.push(Ie);ke.push("..."),ke.push(tt)}return ke},Ze=Math.ceil(Ke.length/M),Rt=(k-1)*M,ft=Rt+M,kt=Ke.slice((k-1)*M,k*M),he=()=>{const ke=[];if(Ze<=5)return Array.from({length:Ze},(ae,me)=>me+1);ke.push(1),k>3&&ke.push("...");const te=Math.max(2,k-1),Pe=Math.min(Ze-1,k+1);for(let ae=te;ae<=Pe;ae++)ke.push(ae);return k<Ze-2&&ke.push("..."),ke.push(Ze),ke},be=async()=>{if(!N.length){await zt("Please select employee/s to update.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}if(!Object.values(G).some(Boolean)){await zt("Please check at least 1 transaction to unpost.");return}try{L(!0);const Ie=me=>new Date(me).toISOString(),te={dateFrom:Ie(s),dateTo:Ie(n),empCodes:N,updateOptions:G},Pe=await z.post("/Utilities/UnpostTransaction_RawDataUnpost",te);console.log("API response:",Pe);const ae=ra.isApiSuccess(Pe);console.log("Is success:",ae),ae&&(await Zs("Successfully Unpost Transactions."),y([]),C([]),r(""),l(""),ye())}catch(Ie){console.error(Ie),await zt("Failed to update records")}finally{L(!1)}},ie=ke=>{y(Ie=>Ie.includes(ke)?Ie.filter(te=>te!==ke):[...Ie,ke])},de=ke=>{C(Ie=>Ie.includes(ke)?Ie.filter(te=>te!==ke):[...Ie,ke])},J=()=>{f.length===Dt.length?y([]):y(Dt.map(ke=>ke.id))},_=()=>{N.length===Ke.length?C([]):C(Ke.map(ke=>ke.id))},Fe=ke=>{if(ke==="selectAll"){const Ie=!G.selectAll;re({tardiness:Ie,otherEarnings:Ie,noOfDaysWork:Ie,selectAll:Ie,undertime:Ie,overtime:Ie,leaveAndAbsences:Ie,lateFiling:Ie})}else re(Ie=>({...Ie,[ke]:!Ie[ke]}))},Oe=ke=>{u==="dateFrom"?r(ke):u==="dateTo"&&l(ke)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpost Transaction"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ax,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Batch unpost processed transactions for selected employee groups. Remove posted data from the system to make corrections or adjustments efficiently."}),e.jsx("button",{onClick:()=>O(!F),className:"ml-3 flex-shrink-0 p-1 hover:bg-blue-100 rounded transition-colors",title:F?"Collapse":"Expand",children:F?e.jsx(zu,{className:"w-5 h-5 text-blue-600"}):e.jsx(ii,{className:"w-5 h-5 text-blue-600"})})]}),F&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range to unpost"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Choose specific transaction types"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to process changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(ke=>e.jsxs("button",{onClick:()=>a(ke.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ke.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ke.icon,{className:"w-4 h-4"}),ke.name]},ke.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:ke=>w(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===Dt.length&&Dt.length>0,onChange:J,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ge.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(ke.id),onChange:()=>ie(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.description})]},ke.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ke.length===0?0:Le+1," to ",Math.min(He,Dt.length)," of ",Dt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>I(ke=>Math.max(ke-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),st().map((ke,Ie)=>ke==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ie}`):e.jsx("button",{onClick:()=>I(ke),className:`px-2 py-1 rounded text-xs ${S===ke?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},ke)),e.jsx("button",{onClick:()=>I(ke=>Math.min(ke+1,tt)),disabled:S===tt||tt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:ke=>v(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===Ke.length&&Ke.length>0,onChange:_,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:kt.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(ke.id),onChange:()=>de(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.name})]},ke.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Rt+1," to ",Math.min(ft,Ke.length)," of ",Ke.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(ke=>Math.max(1,ke-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),he().map((ke,Ie)=>typeof ke=="number"?e.jsx("button",{onClick:()=>A(ke),className:`px-2 py-1 rounded text-xs ${k===ke?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},Ie):e.jsx("span",{className:"px-2",children:ke},Ie)),e.jsx("button",{onClick:()=>A(ke=>Math.min(Ze,ke+1)),disabled:k===Ze,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>c("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>c("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>c("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"From:"}),e.jsx("input",{type:"text",value:s,onChange:ke=>r(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-16",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:ke=>l(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.tardiness,onChange:()=>Fe("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.otherEarnings,onChange:()=>Fe("otherEarnings"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Other Earnings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.noOfDaysWork,onChange:()=>Fe("noOfDaysWork"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No. Of Days Work"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.selectAll,onChange:()=>Fe("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.undertime,onChange:()=>Fe("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.overtime,onChange:()=>Fe("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.leaveAndAbsences,onChange:()=>Fe("leaveAndAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave and Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:G.lateFiling,onChange:()=>Fe("lateFiling"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Late Filing"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:be,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),u&&e.jsx(qJ,{value:u==="dateFrom"?s:n,onChange:Oe,onClose:()=>h(null),position:m}),e.jsx(ls,{})]})}function JJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function QJ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),[K,ne]=o.useState(1),H=10,[se,we]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),[St,dt]=o.useState(!1),[Et,Te]=o.useState([]),[Ee,pe]=o.useState(!1),[Je,pt]=o.useState([]),[Mt,Wt]=o.useState(""),$t=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(me=>({id:me.ID||me.id,code:me.groupCode||me.code,description:me.groupDescription||me.description}));o.useEffect(()=>{(async()=>{const me=await $t();V(me)})()},[]);const lt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(me=>({id:me.braID||me.ID,code:me.braCode||me.code,description:me.braDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await lt();Se(me)})()},[]);const bt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(me=>({id:me.depID||me.ID,code:me.depCode||me.code,description:me.depDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await bt();Q(me)})()},[]);const Nt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(me=>({id:me.divID||me.ID,code:me.divCode||me.code,description:me.divDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await Nt();Ae(me)})()},[]);const wt=async()=>{const ae=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.grpSchID||ce.id||ce.ID,code:ce.grpCode||ce.code,description:ce.grpDesc||ce.description}))};o.useEffect(()=>{(async()=>{const me=await wt();B(me)})()},[]);const It=async()=>{const ae=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.lineID??ce.ID??ce.id,code:ce.lineCode??ce.code,description:ce.lineDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const me=await It();De(me)})()},[]);const Dt=async()=>{const ae=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.secID??ce.ID??ce.id,code:ce.secCode??ce.sectionCode??ce.code,description:ce.secDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const me=await Dt();ht(me)})()},[]);const Ke=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(me=>({id:me.unitID||me.ID,code:me.unitCode||me.code,description:me.unitDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await Ke();Te(me)})()},[]);const tt=async()=>{const ae=await z.get("/EmployeeMasterFile");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.empID??ce.ID??ce.id,code:ce.empCode||ce.code||"",name:`${ce.lName||""}, ${ce.fName||""} ${ce.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const me=await tt();pt(me)})()},[]);const ge=(()=>{switch(t){case"Branch":return ee;case"Department":return le;case"Division":return $e;case"Group Schedule":return et;case"Pay House":return je;case"Section":return Ye;case"Unit":return Et;default:return P}})().filter(ae=>ae.code.toLowerCase().includes(S.toLowerCase())||ae.description.toLowerCase().includes(S.toLowerCase())),st=Je.filter(ae=>ae.code.toLowerCase().includes(k.toLowerCase())||ae.name.toLowerCase().includes(k.toLowerCase())),Ze=Math.ceil(ge.length/H),Rt=(L-1)*H,ft=Rt+H,kt=ge.slice((L-1)*H,L*H),he=()=>{const ae=[];if(Ze<=7)for(let me=1;me<=Ze;me++)ae.push(me);else if(L<=4){for(let me=1;me<=5;me++)ae.push(me);ae.push("..."),ae.push(Ze)}else if(L>=Ze-3){ae.push(1),ae.push("...");for(let me=Ze-4;me<=Ze;me++)ae.push(me)}else{ae.push(1),ae.push("...");for(let me=L-1;me<=L+1;me++)ae.push(me);ae.push("..."),ae.push(Ze)}return ae},be=Math.ceil(st.length/H),ie=(re-1)*H,de=ie+H,J=st.slice((re-1)*H,re*H),_=()=>{const ae=[];if(be<=5)return Array.from({length:be},(yt,Gt)=>Gt+1);ae.push(1),re>3&&ae.push("...");const ce=Math.max(2,re-1),Ge=Math.min(be-1,re+1);for(let yt=ce;yt<=Ge;yt++)ae.push(yt);return re<be-2&&ae.push("..."),ae.push(be),ae},Fe=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{we(!0);const ae=yt=>new Date(yt).toISOString(),me={dateFrom:ae(f),dateTo:ae(N),empCodes:M},ce=await z.post("/Utilities/AdditionalHoursPerWeek_byDate",me);console.log("API response:",ce);const Ge=ra.isApiSuccess(ce);console.log("Is success:",Ge),Ge&&(await Zs("Additional Hours per Week successfully updated."),O([]),U([]),y(""),C(""))}catch(ae){console.error(ae),await zt("Failed to update records")}finally{we(!1)}},Oe=ae=>{O(me=>me.includes(ae)?me.filter(ce=>ce!==ae):[...me,ae])},ke=ae=>{U(me=>me.includes(ae)?me.filter(ce=>ce!==ae):[...me,ae])},Ie=()=>{F.length===ge.length?O([]):O(ge.map(ae=>ae.id))},te=()=>{M.length===st.length?U([]):U(st.map(ae=>ae.id))},Pe=ae=>{g==="year"?r(ae):g==="dateFrom"?y(ae):g==="dateTo"&&C(ae)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Additional Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch update additional hours per week for selected employee groups. Configure weekly hour adjustments across multiple employees efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search by reference code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(ae=>e.jsxs("button",{onClick:()=>a(ae.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ae.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(ae.icon,{className:"w-4 h-4"}),ae.name]},ae.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ae=>I(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===ge.length&&ge.length>0,onChange:Ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:kt.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(ae.id),onChange:()=>Oe(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.description})]},ae.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",st.length===0?0:Rt+1," to ",Math.min(ft,ge.length)," of ",ge.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(ae=>Math.max(ae-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),he().map((ae,me)=>ae==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${me}`):e.jsx("button",{onClick:()=>G(ae),className:`px-2 py-1 rounded text-xs ${L===ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},ae)),e.jsx("button",{onClick:()=>G(ae=>Math.min(ae+1,Ze)),disabled:L===Ze||Ze===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:ae=>A(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===st.length&&st.length>0,onChange:te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:J.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(ae.id),onChange:()=>ke(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.name})]},ae.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(de,st.length)," of ",st.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(ae=>Math.max(1,ae-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((ae,me)=>typeof ae=="number"?e.jsx("button",{onClick:()=>ye(ae),className:`px-2 py-1 rounded text-xs ${re===ae?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},me):e.jsx("span",{className:"px-2",children:ae},me)),e.jsx("button",{onClick:()=>ye(ae=>Math.min(be,ae+1)),disabled:re===be,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:ae=>y(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:ae=>C(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Fe,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(JJ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Pe,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function ZJ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function eQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),[K,ne]=o.useState(1),H=10,[se,we]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),[St,dt]=o.useState(!1),[Et,Te]=o.useState([]),[Ee,pe]=o.useState(!1),[Je,pt]=o.useState([]),[Mt,Wt]=o.useState(""),$t=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(me=>({id:me.ID||me.id,code:me.groupCode||me.code,description:me.groupDescription||me.description}));o.useEffect(()=>{(async()=>{const me=await $t();V(me)})()},[]);const lt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(me=>({id:me.braID||me.ID,code:me.braCode||me.code,description:me.braDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await lt();Se(me)})()},[]);const bt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(me=>({id:me.depID||me.ID,code:me.depCode||me.code,description:me.depDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await bt();Q(me)})()},[]);const Nt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(me=>({id:me.divID||me.ID,code:me.divCode||me.code,description:me.divDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await Nt();Ae(me)})()},[]);const wt=async()=>{const ae=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.grpSchID||ce.id||ce.ID,code:ce.grpCode||ce.code,description:ce.grpDesc||ce.description}))};o.useEffect(()=>{(async()=>{const me=await wt();B(me)})()},[]);const It=async()=>{const ae=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.lineID??ce.ID??ce.id,code:ce.lineCode??ce.code,description:ce.lineDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const me=await It();De(me)})()},[]);const Dt=async()=>{const ae=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.secID??ce.ID??ce.id,code:ce.secCode??ce.sectionCode??ce.code,description:ce.secDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const me=await Dt();ht(me)})()},[]);const Ke=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(me=>({id:me.unitID||me.ID,code:me.unitCode||me.code,description:me.unitDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await Ke();Te(me)})()},[]);const tt=async()=>{const ae=await z.get("/EmployeeMasterFile");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.empID??ce.ID??ce.id,code:ce.empCode||ce.code||"",name:`${ce.lName||""}, ${ce.fName||""} ${ce.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const me=await tt();pt(me)})()},[]);const ge=(()=>{switch(t){case"Branch":return ee;case"Department":return le;case"Division":return $e;case"Group Schedule":return et;case"Pay House":return je;case"Section":return Ye;case"Unit":return Et;default:return P}})().filter(ae=>ae.code.toLowerCase().includes(S.toLowerCase())||ae.description.toLowerCase().includes(S.toLowerCase())),st=Je.filter(ae=>ae.code.toLowerCase().includes(k.toLowerCase())||ae.name.toLowerCase().includes(k.toLowerCase())),Ze=Math.ceil(ge.length/H),Rt=(L-1)*H,ft=Rt+H,kt=ge.slice((L-1)*H,L*H),he=()=>{const ae=[];if(Ze<=7)for(let me=1;me<=Ze;me++)ae.push(me);else if(L<=4){for(let me=1;me<=5;me++)ae.push(me);ae.push("..."),ae.push(Ze)}else if(L>=Ze-3){ae.push(1),ae.push("...");for(let me=Ze-4;me<=Ze;me++)ae.push(me)}else{ae.push(1),ae.push("...");for(let me=L-1;me<=L+1;me++)ae.push(me);ae.push("..."),ae.push(Ze)}return ae},be=Math.ceil(st.length/H),ie=(re-1)*H,de=ie+H,J=st.slice((re-1)*H,re*H),_=()=>{const ae=[];if(be<=5)return Array.from({length:be},(yt,Gt)=>Gt+1);ae.push(1),re>3&&ae.push("...");const ce=Math.max(2,re-1),Ge=Math.min(be-1,re+1);for(let yt=ce;yt<=Ge;yt++)ae.push(yt);return re<be-2&&ae.push("..."),ae.push(be),ae},Fe=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{we(!0);const ae=yt=>new Date(yt).toISOString(),me={dateFrom:ae(f),dateTo:ae(N),empCodes:M.map(String)},ce=await z.post("/Utilities/ApplyOTAllowances_Update",me);console.log("API response:",ce);const Ge=ra.isApiSuccess(ce);console.log("Is success:",Ge),Ge&&(await Zs("Additional Hours per Week successfully updated."),O([]),U([]),y(""),C(""))}catch(ae){console.error(ae),await zt("Failed to update records")}finally{we(!1)}},Oe=ae=>{O(me=>me.includes(ae)?me.filter(ce=>ce!==ae):[...me,ae])},ke=ae=>{U(me=>me.includes(ae)?me.filter(ce=>ce!==ae):[...me,ae])},Ie=()=>{F.length===ge.length?O([]):O(ge.map(ae=>ae.id))},te=()=>{M.length===st.length?U([]):U(st.map(ae=>ae.id))},Pe=ae=>{g==="year"?r(ae):g==="dateFrom"?y(ae):g==="dateTo"&&C(ae)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Apply OT Allowances"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Batch apply overtime allowances to selected employee groups. Configure OT compensation across multiple employees within a specified date range efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter employees by status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Review selected employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply allowances"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(ae=>e.jsxs("button",{onClick:()=>a(ae.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ae.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(ae.icon,{className:"w-4 h-4"}),ae.name]},ae.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ae=>I(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===ge.length&&ge.length>0,onChange:Ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:kt.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(ae.id),onChange:()=>Oe(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.description})]},ae.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",st.length===0?0:Rt+1," to ",Math.min(ft,ge.length)," of ",ge.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(ae=>Math.max(ae-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),he().map((ae,me)=>ae==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${me}`):e.jsx("button",{onClick:()=>G(ae),className:`px-2 py-1 rounded text-xs ${L===ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},ae)),e.jsx("button",{onClick:()=>G(ae=>Math.min(ae+1,Ze)),disabled:L===Ze||Ze===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:ae=>A(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===st.length&&st.length>0,onChange:te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:J.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(ae.id),onChange:()=>ke(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.name})]},ae.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(de,st.length)," of ",st.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(ae=>Math.max(1,ae-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((ae,me)=>typeof ae=="number"?e.jsx("button",{onClick:()=>ye(ae),className:`px-2 py-1 rounded text-xs ${re===ae?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},me):e.jsx("span",{className:"px-2",children:ae},me)),e.jsx("button",{onClick:()=>ye(ae=>Math.min(be,ae+1)),disabled:re===be,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:ae=>y(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:ae=>C(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsx("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Fe,disabled:se,children:"Update"})})]})})]})]})]})]})}),g&&e.jsx(ZJ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Pe,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function tQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function sQ(){const[t,a]=o.useState(""),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState(null),[u,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState([]),[f,y]=o.useState(1),N=10,[C,S]=o.useState(!1),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState("");o.useEffect(()=>{y(1)},[g,G]);const Y=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map($e=>({id:$e.ID||$e.id,code:$e.groupCode||$e.code,description:$e.groupDescription||$e.description}));o.useEffect(()=>{(async()=>{const $e=await Y();re($e)})()},[]),o.useEffect(()=>{E()},[]);const E=async()=>{K(!0),we("");try{const Ce=await z.get("/EmployeeMasterFile");if(Ce.status===200&&Ce.data){const $e=Ce.data.map(Ae=>({empCode:Ae.empCode||Ae.code||"",name:`${Ae.lName||""}, ${Ae.fName||""} ${Ae.mName||""}`.trim(),groupCode:Ae.grpCode||""}));H($e)}}catch(Ce){const $e=Ce.response?.data?.message||Ce.message||"Failed to load employees";we($e),console.error("Error fetching employees:",Ce)}finally{K(!1)}},P=(Ce,$e)=>{k(Ce),F($e),M(!1)},V=G.filter(Ce=>Ce.code.toLowerCase().includes(g.toLowerCase())||Ce.description.toLowerCase().includes(g.toLowerCase())),D=Math.ceil(V.length/N),R=(f-1)*N,ee=R+N,Se=V.slice((f-1)*N,f*N),ue=()=>{const Ce=[];if(D<=7)for(let $e=1;$e<=D;$e++)Ce.push($e);else if(f<=4){for(let $e=1;$e<=5;$e++)Ce.push($e);Ce.push("..."),Ce.push(D)}else if(f>=D-3){Ce.push(1),Ce.push("...");for(let $e=D-4;$e<=D;$e++)Ce.push($e)}else{Ce.push(1),Ce.push("...");for(let $e=f-1;$e<=f+1;$e++)Ce.push($e);Ce.push("..."),Ce.push(D)}return Ce},oe=Ce=>{v(Ce?Se.map($e=>$e.id):[])},le=(Ce,$e)=>{v(Ae=>$e?[...Ae,Ce]:Ae.filter(We=>We!==Ce))},Q=async()=>{if(!p.length){await zt("Please select TK Group item/s.");return}if(!I.length){await zt("Please select Employee.");return}if(!t){await zt("Please select Date to Apply.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}try{S(!0),await Zs("Successfully updated Break1 and Breaks Overbreak."),v([]),F(""),k(""),a(""),r(""),l("")}catch(Ce){console.error(Ce),zt("Failed to update records")}finally{S(!1)}},ve=Ce=>{i==="dateToApply"?a(Ce):i==="dateFrom"?r(Ce):i==="dateTo"&&l(Ce)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Apply Break1 and Breaks Overbreak"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply break time adjustments and manage break overbreak for selected employee groups. Configure break periods and calculate grace periods efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search employees by code or name"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Compute break adjustments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:g,onChange:Ce=>w(Ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:Se.length>0&&Se.every(Ce=>p.includes(Ce.id)),onChange:Ce=>oe(Ce.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Se.map(Ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(Ce.id),onChange:$e=>le(Ce.id,$e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ce.description})]},Ce.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",V.length===0?0:R+1," to ",Math.min(ee,V.length)," of ",V.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(Ce=>Math.max(Ce-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ue().map((Ce,$e)=>Ce==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${$e}`):e.jsx("button",{onClick:()=>y(Ce),className:`px-2 py-1 rounded text-xs ${f===Ce?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ce},Ce)),e.jsx("button",{onClick:()=>y(Ce=>Math.min(Ce+1,D)),disabled:f===D||D===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To Apply:"}),e.jsx("input",{type:"text",value:t,onChange:Ce=>a(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(ys,{date:t,onChange:a})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"From:"}),e.jsx("input",{type:"text",value:s,onChange:Ce=>r(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r}),e.jsx("label",{className:"text-sm text-gray-700",children:"To:"}),e.jsx("input",{type:"text",value:n,onChange:Ce=>l(Ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Employee:"}),e.jsx("input",{type:"text",value:I&&A?`${I} - ${A}`:"",onChange:Ce=>F(Ce.target.value),readOnly:!0,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx("button",{onClick:()=>M(!0),className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(ot,{onClick:()=>{F(""),k("")},className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(tP,{className:"w-4 h-4"}),"Compute"]}),e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Q,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"WorkShift"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawDate"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak1Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak1In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak3Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"RawBreak3In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"AfterGrace"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"WithinGrace"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Next"})]}),e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"EmpCode"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Deduct"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"AppDate"})]})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-sm text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex justify-between items-center px-4 py-3 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900",children:"Next"})]}),e.jsx("button",{className:"text-sm text-gray-600 hover:text-gray-900",children:""})]})]})]})]})]})}),i&&e.jsx(tQ,{value:i==="dateToApply"?t:i==="dateFrom"?s:n,onChange:ve,onClose:()=>c(null),position:u}),e.jsx(wr,{isOpen:O,onClose:()=>M(!1),onSelect:P,employees:ne,loading:ye,error:se}),e.jsx(ls,{})]})}function aQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function rQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),Ye=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(kt=>({id:kt.ID||kt.id,code:kt.groupCode||kt.code,description:kt.groupDescription||kt.description}));o.useEffect(()=>{(async()=>{const kt=await Ye();E(kt)})()},[]);const ht=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(kt=>({id:kt.braID||kt.ID,code:kt.braCode||kt.code,description:kt.braDesc||kt.description}));o.useEffect(()=>{(async()=>{const kt=await ht();R(kt)})()},[]);const St=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(kt=>({id:kt.depID||kt.ID,code:kt.depCode||kt.code,description:kt.depDesc||kt.description}));o.useEffect(()=>{(async()=>{const kt=await St();oe(kt)})()},[]);const dt=async()=>{const ft=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ft.data)?ft.data:[]).map(he=>({id:he.grpSchID||he.id||he.ID,code:he.grpCode||he.code,description:he.grpDesc||he.description}))};o.useEffect(()=>{(async()=>{const kt=await dt();Ce(kt)})()},[]);const Et=async()=>{const ft=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ft.data)?ft.data:[]).map(he=>({id:he.lineID??he.ID??he.id,code:he.lineCode??he.code,description:he.lineDesc??he.Description??he.description}))};o.useEffect(()=>{(async()=>{const kt=await Et();Re(kt)})()},[]);const Te=async()=>{const ft=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ft.data)?ft.data:[]).map(he=>({id:he.secID??he.ID??he.id,code:he.secCode??he.sectionCode??he.code,description:he.secDesc??he.Description??he.description}))};o.useEffect(()=>{(async()=>{const kt=await Te();Z(kt)})()},[]);const Ee=async()=>{const ft=await z.get("/EmployeeMasterFile");return(Array.isArray(ft.data)?ft.data:[]).map(he=>({id:he.empID??he.ID??he.id,code:he.empCode||he.code||"",name:`${he.lName||""}, ${he.fName||""} ${he.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const kt=await Ee();qe(kt)})()},[]);const Je=(()=>{switch(t){case"Branch":return D;case"Department":return ue;case"Group Schedule":return ve;case"Pay House":return We;case"Section":return q;default:return Y}})(),pt=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{H(!0);const ft=ie=>new Date(ie).toISOString(),kt={empCodes:M.map(String),DateFrom:ft(f),DateTo:ft(N)},he=await z.post("/Utilities/ApplyOTAllowances_Update",kt);console.log("API response:",he);const be=ra.isApiSuccess(he);console.log("Is success:",be),be&&(await Zs("Successfully updated Allowance per Bracket."),O([]),U([]),y(""),C(""))}catch(ft){console.error(ft),await zt("Failed to update records")}finally{H(!1)}},Mt=Je.filter(ft=>ft.code.toLowerCase().includes(S.toLowerCase())||ft.description.toLowerCase().includes(S.toLowerCase())),Wt=Qe.filter(ft=>ft.code.toLowerCase().includes(k.toLowerCase())||ft.name.toLowerCase().includes(k.toLowerCase())),$t=Math.ceil(Mt.length/K),lt=(L-1)*K,bt=lt+K,Nt=Mt.slice((L-1)*K,L*K),wt=()=>{const ft=[];if($t<=7)for(let kt=1;kt<=$t;kt++)ft.push(kt);else if(L<=4){for(let kt=1;kt<=5;kt++)ft.push(kt);ft.push("..."),ft.push($t)}else if(L>=$t-3){ft.push(1),ft.push("...");for(let kt=$t-4;kt<=$t;kt++)ft.push(kt)}else{ft.push(1),ft.push("...");for(let kt=L-1;kt<=L+1;kt++)ft.push(kt);ft.push("..."),ft.push($t)}return ft},It=Math.ceil(Wt.length/K),Dt=(re-1)*K,Ke=Dt+K,tt=Wt.slice((re-1)*K,re*K),Le=()=>{const ft=[];if(It<=5)return Array.from({length:It},(ie,de)=>de+1);ft.push(1),re>3&&ft.push("...");const he=Math.max(2,re-1),be=Math.min(It-1,re+1);for(let ie=he;ie<=be;ie++)ft.push(ie);return re<It-2&&ft.push("..."),ft.push(It),ft},He=ft=>{O(kt=>kt.includes(ft)?kt.filter(he=>he!==ft):[...kt,ft])},ge=ft=>{U(kt=>kt.includes(ft)?kt.filter(he=>he!==ft):[...kt,ft])},st=()=>{F.length===Mt.length?O([]):O(Mt.map(ft=>ft.id))},Ze=()=>{M.length===Wt.length?U([]):U(Wt.map(ft=>ft.id))},Rt=ft=>{g==="year"?r(ft):g==="dateFrom"?y(ft):g==="dateTo"&&C(ft)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Allowance Per Bracket"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update allowance brackets for selected employee groups. Configure compensation brackets across multiple employees within specified date ranges efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify effective date"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(ft=>e.jsxs("button",{onClick:()=>a(ft.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ft.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(ft.icon,{className:"w-4 h-4"}),ft.name]},ft.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ft=>I(ft.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===Mt.length&&Mt.length>0,onChange:st,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Nt.map(ft=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(ft.id),onChange:()=>He(ft.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ft.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ft.description})]},ft.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Mt.length===0?0:lt+1," to ",Math.min(bt,Mt.length)," of ",Mt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(ft=>Math.max(ft-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),wt().map((ft,kt)=>ft==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${kt}`):e.jsx("button",{onClick:()=>G(ft),className:`px-2 py-1 rounded text-xs ${L===ft?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ft},ft)),e.jsx("button",{onClick:()=>G(ft=>Math.min(ft+1,$t)),disabled:L===$t||$t===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:ft=>A(ft.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===Wt.length&&Wt.length>0,onChange:Ze,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:tt.map(ft=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(ft.id),onChange:()=>ge(ft.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ft.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ft.name})]},ft.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Dt+1," to ",Math.min(Ke,Wt.length)," of ",Wt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(ft=>Math.max(1,ft-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Le().map((ft,kt)=>typeof ft=="number"?e.jsx("button",{onClick:()=>ye(ft),className:`px-2 py-1 rounded text-xs ${re===ft?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ft},kt):e.jsx("span",{className:"px-2",children:ft},kt)),e.jsx("button",{onClick:()=>ye(ft=>Math.min(It,ft+1)),disabled:re===It,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:ft=>y(ft.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:ft=>C(ft.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:pt,disabled:ne,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(aQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Rt,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function nQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function oQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(""),St=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(be=>({id:be.ID||be.id,code:be.groupCode||be.code,description:be.groupDescription||be.description}));o.useEffect(()=>{(async()=>{const be=await St();E(be)})()},[]);const dt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(be=>({id:be.braID||be.ID,code:be.braCode||be.code,description:be.braDesc||be.description}));o.useEffect(()=>{(async()=>{const be=await dt();R(be)})()},[]);const Et=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(be=>({id:be.depID||be.ID,code:be.depCode||be.code,description:be.depDesc||be.description}));o.useEffect(()=>{(async()=>{const be=await Et();oe(be)})()},[]);const Te=async()=>{const he=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(he.data)?he.data:[]).map(ie=>({id:ie.grpSchID||ie.id||ie.ID,code:ie.grpCode||ie.code,description:ie.grpDesc||ie.description}))};o.useEffect(()=>{(async()=>{const be=await Te();Ce(be)})()},[]);const Ee=async()=>{const he=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(he.data)?he.data:[]).map(ie=>({id:ie.lineID??ie.ID??ie.id,code:ie.lineCode??ie.code,description:ie.lineDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const be=await Ee();Re(be)})()},[]);const pe=async()=>{const he=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(he.data)?he.data:[]).map(ie=>({id:ie.secID??ie.ID??ie.id,code:ie.secCode??ie.sectionCode??ie.code,description:ie.secDesc??ie.Description??ie.description}))};o.useEffect(()=>{(async()=>{const be=await pe();Z(be)})()},[]);const Je=async()=>{const he=await z.get("/EmployeeMasterFile");return(Array.isArray(he.data)?he.data:[]).map(ie=>({id:ie.empID??ie.ID??ie.id,code:ie.empCode||ie.code||"",name:`${ie.lName||""}, ${ie.fName||""} ${ie.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const be=await Je();qe(be)})()},[]);const Wt=(()=>{switch(t){case"Branch":return D;case"Department":return ue;case"Group Schedule":return ve;case"Pay House":return We;case"Section":return q;default:return Y}})().filter(he=>he.code.toLowerCase().includes(S.toLowerCase())||he.description.toLowerCase().includes(S.toLowerCase())),$t=Qe.filter(he=>he.code.toLowerCase().includes(k.toLowerCase())||he.name.toLowerCase().includes(k.toLowerCase())),lt=Math.ceil(Wt.length/K),bt=(L-1)*K,Nt=bt+K,wt=Wt.slice((L-1)*K,L*K),It=()=>{const he=[];if(lt<=7)for(let be=1;be<=lt;be++)he.push(be);else if(L<=4){for(let be=1;be<=5;be++)he.push(be);he.push("..."),he.push(lt)}else if(L>=lt-3){he.push(1),he.push("...");for(let be=lt-4;be<=lt;be++)he.push(be)}else{he.push(1),he.push("...");for(let be=L-1;be<=L+1;be++)he.push(be);he.push("..."),he.push(lt)}return he},Dt=Math.ceil($t.length/K),Ke=(re-1)*K,tt=Ke+K,Le=$t.slice((re-1)*K,re*K),He=()=>{const he=[];if(Dt<=5)return Array.from({length:Dt},(J,_)=>_+1);he.push(1),re>3&&he.push("...");const ie=Math.max(2,re-1),de=Math.min(Dt-1,re+1);for(let J=ie;J<=de;J++)he.push(J);return re<Dt-2&&he.push("..."),he.push(Dt),he},ge=async()=>{if(!M.length){await zt("Please select at least one employee to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{H(!0);const he=J=>new Date(J).toISOString(),be={empCodes:M.map(String),DateFrom:he(f),DateTo:he(N)},ie=await z.post("/Utilities/UpdateFlexiBreakByDate",be);console.log("API response:",ie);const de=ra.isApiSuccess(ie);console.log("Is success:",de),de&&(await Zs("GL Code utility successfully updated."),O([]),U([]),y(""),C(""))}catch(he){console.error(he),await zt("Failed to update records")}finally{H(!1)}},st=he=>{O(be=>be.includes(he)?be.filter(ie=>ie!==he):[...be,he])},Ze=he=>{U(be=>be.includes(he)?be.filter(ie=>ie!==he):[...be,he])},Rt=()=>{F.length===Wt.length?O([]):O(Wt.map(he=>he.id))},ft=()=>{M.length===$t.length?U([]):U($t.map(he=>he.id))},kt=he=>{g==="year"?r(he):g==="dateFrom"?y(he):g==="dateTo"&&C(he)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update GL Code Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update General Ledger codes for processed timekeeping data. Apply GL code mappings to employee transactions for accounting integration and financial reporting purposes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch update GL codes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(he=>e.jsxs("button",{onClick:()=>a(he.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===he.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(he.icon,{className:"w-4 h-4"}),he.name]},he.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:he=>I(he.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===Wt.length&&Wt.length>0,onChange:Rt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:wt.map(he=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(he.id),onChange:()=>st(he.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:he.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:he.description})]},he.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",$t.length===0?0:bt+1," to ",Math.min(Nt,Wt.length)," of ",Wt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(he=>Math.max(he-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),It().map((he,be)=>he==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${be}`):e.jsx("button",{onClick:()=>G(he),className:`px-2 py-1 rounded text-xs ${L===he?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:he},he)),e.jsx("button",{onClick:()=>G(he=>Math.min(he+1,lt)),disabled:L===lt||lt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:he=>A(he.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===$t.length&&$t.length>0,onChange:ft,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Le.map(he=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(he.id),onChange:()=>Ze(he.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:he.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:he.name})]},he.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Ke+1," to ",Math.min(tt,$t.length)," of ",$t.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(he=>Math.max(1,he-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),He().map((he,be)=>typeof he=="number"?e.jsx("button",{onClick:()=>ye(he),className:`px-2 py-1 rounded text-xs ${re===he?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:he},be):e.jsx("span",{className:"px-2",children:he},be)),e.jsx("button",{onClick:()=>ye(he=>Math.min(Dt,he+1)),disabled:re===Dt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:he=>y(he.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:he=>C(he.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ge,disabled:ne,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(nQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:kt,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function lQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function iQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(""),Mt=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Pe=>({id:Pe.ID||Pe.id,code:Pe.groupCode||Pe.code,description:Pe.groupDescription||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Mt();E(Pe)})()},[]);const Wt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Pe=>({id:Pe.braID||Pe.ID,code:Pe.braCode||Pe.code,description:Pe.braDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Wt();R(Pe)})()},[]);const $t=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Pe=>({id:Pe.depID||Pe.ID,code:Pe.depCode||Pe.code,description:Pe.depDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await $t();oe(Pe)})()},[]);const lt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Pe=>({id:Pe.divID||Pe.ID,code:Pe.divCode||Pe.code,description:Pe.divDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await lt();Ce(Pe)})()},[]);const bt=async()=>{const te=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.grpSchID||ae.id||ae.ID,code:ae.grpCode||ae.code,description:ae.grpDesc||ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await bt();Re(Pe)})()},[]);const Nt=async()=>{const te=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.lineID??ae.ID??ae.id,code:ae.lineCode??ae.code,description:ae.lineDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await Nt();Z(Pe)})()},[]);const wt=async()=>{const te=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.secID??ae.ID??ae.id,code:ae.secCode??ae.sectionCode??ae.code,description:ae.secDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await wt();qe(Pe)})()},[]);const It=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Pe=>({id:Pe.unitID||Pe.ID,code:Pe.unitCode||Pe.code,description:Pe.unitDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await It();dt(Pe)})()},[]);const Dt=async()=>{const te=await z.get("/EmployeeMasterFile");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.empID??ae.ID??ae.id,code:ae.empCode||ae.code||"",name:`${ae.lName||""}, ${ae.fName||""} ${ae.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Pe=await Dt();pe(Pe)})()},[]);const Le=(()=>{switch(t){case"Branch":return D;case"Department":return ue;case"Division":return ve;case"Group Schedule":return We;case"Pay House":return q;case"Section":return Qe;case"Unit":return St;default:return Y}})().filter(te=>te.code.toLowerCase().includes(S.toLowerCase())||te.description.toLowerCase().includes(S.toLowerCase())),He=Ee.filter(te=>te.code.toLowerCase().includes(k.toLowerCase())||te.name.toLowerCase().includes(k.toLowerCase())),ge=Math.ceil(Le.length/K),st=(L-1)*K,Ze=st+K,Rt=Le.slice((L-1)*K,L*K),ft=()=>{const te=[];if(ge<=7)for(let Pe=1;Pe<=ge;Pe++)te.push(Pe);else if(L<=4){for(let Pe=1;Pe<=5;Pe++)te.push(Pe);te.push("..."),te.push(ge)}else if(L>=ge-3){te.push(1),te.push("...");for(let Pe=ge-4;Pe<=ge;Pe++)te.push(Pe)}else{te.push(1),te.push("...");for(let Pe=L-1;Pe<=L+1;Pe++)te.push(Pe);te.push("..."),te.push(ge)}return te},kt=Math.ceil(He.length/K),he=(re-1)*K,be=he+K,ie=He.slice((re-1)*K,re*K),de=()=>{const te=[];if(kt<=5)return Array.from({length:kt},(ce,Ge)=>Ge+1);te.push(1),re>3&&te.push("...");const ae=Math.max(2,re-1),me=Math.min(kt-1,re+1);for(let ce=ae;ce<=me;ce++)te.push(ce);return re<kt-2&&te.push("..."),te.push(kt),te},J=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{H(!0);const te=ce=>new Date(ce).toISOString(),Pe={empCodes:M.map(String),DateFrom:te(f),DateTo:te(N)},ae=await z.post("/Utilities/UpdateFlexiBreakByDate",Pe);console.log("API response:",ae);const me=ra.isApiSuccess(ae);console.log("Is success:",me),me&&(await Zs("Flexi Break settings successfully updated."),O([]),U([]),y(""),C(""))}catch(te){console.error(te),await zt("Failed to update records")}finally{H(!1)}},_=te=>{O(Pe=>Pe.includes(te)?Pe.filter(ae=>ae!==te):[...Pe,te])},Fe=te=>{U(Pe=>Pe.includes(te)?Pe.filter(ae=>ae!==te):[...Pe,te])},Oe=()=>{F.length===Le.length?O([]):O(Le.map(te=>te.id))},ke=()=>{M.length===He.length?U([]):U(He.map(te=>te.id))},Ie=te=>{g==="year"?r(te):g==="dateFrom"?y(te):g==="dateTo"&&C(te)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Flexi Break Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update flexible break configurations for selected employees. Apply customized break time policies and manage break hour allocations based on workshift requirements."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch update flexi break settings"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(te=>e.jsxs("button",{onClick:()=>a(te.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===te.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(te.icon,{className:"w-4 h-4"}),te.name]},te.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:te=>I(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===Le.length&&Le.length>0,onChange:Oe,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Rt.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(te.id),onChange:()=>_(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.description})]},te.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",He.length===0?0:st+1," to ",Math.min(Ze,Le.length)," of ",Le.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(te=>Math.max(te-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ft().map((te,Pe)=>te==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Pe}`):e.jsx("button",{onClick:()=>G(te),className:`px-2 py-1 rounded text-xs ${L===te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},te)),e.jsx("button",{onClick:()=>G(te=>Math.min(te+1,ge)),disabled:L===ge||ge===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:te=>A(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===He.length&&He.length>0,onChange:ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(te.id),onChange:()=>Fe(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.name})]},te.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",he+1," to ",Math.min(be,He.length)," of ",He.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(te=>Math.max(1,te-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),de().map((te,Pe)=>typeof te=="number"?e.jsx("button",{onClick:()=>ye(te),className:`px-2 py-1 rounded text-xs ${re===te?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},Pe):e.jsx("span",{className:"px-2",children:te},Pe)),e.jsx("button",{onClick:()=>ye(te=>Math.min(kt,te+1)),disabled:re===kt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:te=>y(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:te=>C(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:J,disabled:ne,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(lQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Ie,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function cQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function dQ(){const[t,a]=o.useState("5/5/2021"),[s,r]=o.useState("05/05/2021"),[n,l]=o.useState("5/5/2021"),[i,c]=o.useState(null),[u,h]=o.useState({top:0,left:0}),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState([]),[f,y]=o.useState(1),N=10,[C,S]=o.useState(!1),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState("");o.useEffect(()=>{y(1)},[g,G]);const Y=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(We=>({id:We.ID||We.id,code:We.groupCode||We.code,description:We.groupDescription||We.description}));o.useEffect(()=>{(async()=>{const We=await Y();re(We)})()},[]),o.useEffect(()=>{E()},[]);const E=async()=>{K(!0),we("");try{const Ae=await z.get("/EmployeeMasterFile");if(Ae.status===200&&Ae.data){const We=Ae.data.map(Re=>({empCode:Re.empCode||Re.code||"",name:`${Re.lName||""}, ${Re.fName||""} ${Re.mName||""}`.trim(),groupCode:Re.grpCode||""}));H(We)}}catch(Ae){const We=Ae.response?.data?.message||Ae.message||"Failed to load employees";we(We),console.error("Error fetching employees:",Ae)}finally{K(!1)}},P=(Ae,We)=>{k(Ae),F(We),M(!1)},V=G.filter(Ae=>Ae.code.toLowerCase().includes(g.toLowerCase())||Ae.description.toLowerCase().includes(g.toLowerCase())),D=Math.ceil(V.length/N),R=(f-1)*N,ee=R+N,Se=V.slice((f-1)*N,f*N),ue=()=>{const Ae=[];if(D<=7)for(let We=1;We<=D;We++)Ae.push(We);else if(f<=4){for(let We=1;We<=5;We++)Ae.push(We);Ae.push("..."),Ae.push(D)}else if(f>=D-3){Ae.push(1),Ae.push("...");for(let We=D-4;We<=D;We++)Ae.push(We)}else{Ae.push(1),Ae.push("...");for(let We=f-1;We<=f+1;We++)Ae.push(We);Ae.push("..."),Ae.push(D)}return Ae},oe=Ae=>new Date(Ae).toISOString(),le=async()=>{if(!p.length){await zt("Please select TK Group item/s.");return}if(!I.length){await zt("Please select employee to update.");return}if(!t||!s){await zt("Please select Date From and Date To.");return}try{S(!0);const Ae={DateFrom:oe(t),DateTo:oe(s),EmpCode:I,Mode:"Update"},We=await z.post("/Utilities/UpdateSSSNotification",Ae);console.log("API response:",We);const Re=ra.isApiSuccess(We);console.log("Is success:",Re),Re&&(await Zs("Successfully updated SSS Notification."),v([]),a(""),r(""))}catch(Ae){console.error(Ae),await zt("Failed to update records")}finally{S(!1)}},Q=async()=>{if(!p.length){await zt("Please select TK Group item/s.");return}if(!t||!s){await zt("Please select Date From and Date To.");return}try{S(!0);const Ae={DateFrom:oe(t),DateTo:oe(s),EmpCode:I,Mode:"Unpost"},We=await z.post("/Utilities/UpdateSSSNotification",Ae);console.log("API response:",We);const Re=ra.isApiSuccess(We);console.log("Is success:",Re),Re&&(await Zs("Successfully Unpost No. of Hours Per Week."),v([]),a(""),r(""))}catch(Ae){console.error(Ae),await zt("Failed to unpost records.")}finally{S(!1)}},ve=Ae=>{v(Ae?Se.map(We=>We.id):[])},Ce=(Ae,We)=>{v(Re=>We?[...Re,Ae]:Re.filter(et=>et!==Ae))},$e=Ae=>{i==="dateFrom"?a(Ae):i==="dateTo"?r(Ae):i==="appliedDate"&&l(Ae)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update SSS Notification"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(cd,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update SSS notification records for processed employees. Manage social security notifications and track applied dates efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Search employees by code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set applied date for notifications"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:g,onChange:Ae=>w(Ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:Se.length>0&&Se.every(Ae=>p.includes(Ae.id)),onChange:Ae=>ve(Ae.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Se.map(Ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:p.includes(Ae.id),onChange:We=>Ce(Ae.id,We.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ae.description})]},Ae.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",V.length===0?0:R+1," to ",Math.min(ee,V.length)," of ",V.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(Ae=>Math.max(Ae-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ue().map((Ae,We)=>Ae==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${We}`):e.jsx("button",{onClick:()=>y(Ae),className:`px-2 py-1 rounded text-xs ${f===Ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ae},Ae)),e.jsx("button",{onClick:()=>y(Ae=>Math.min(Ae+1,D)),disabled:f===D||D===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range and Processed Employee"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:Ae=>a(Ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(ys,{date:t,onChange:a})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:s,onChange:Ae=>r(Ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx(ys,{date:s,onChange:r})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Employee:"}),e.jsx("input",{type:"text",value:I&&A?`${I} - ${A}`:"",onChange:Ae=>F(Ae.target.value),readOnly:!0,className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm flex-1"}),e.jsx("button",{onClick:()=>M(!0),className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(ot,{onClick:()=>{F(""),k("")},className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:le,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:Q,children:[e.jsx(ax,{className:"w-4 h-4"}),"Unpost"]})]})]})]})]})]})]})}),i&&e.jsx(cQ,{value:i==="dateFrom"?t:i==="dateTo"?s:n,onChange:$e,onClose:()=>c(null),position:u}),e.jsx(wr,{isOpen:O,onClose:()=>M(!1),onSelect:P,employees:ne,loading:ye,error:se})]})}function uQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function xQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState("5/5/2021"),[u,h]=o.useState("active"),[m,b]=o.useState(null),[g,w]=o.useState({top:0,left:0}),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState([]),[S,I]=o.useState([]),[k,A]=o.useState(1),[F,O]=o.useState(1),M=10,[U,L]=o.useState(!1);o.useEffect(()=>{A(1)},[t]);const[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState(!1),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),q=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(ge=>({id:ge.ID||ge.id,code:ge.groupCode||ge.code,description:ge.groupDescription||ge.description}));o.useEffect(()=>{(async()=>{const ge=await q();K(ge)})()},[]);const Z=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(ge=>({id:ge.braID||ge.ID,code:ge.braCode||ge.code,description:ge.braDesc||ge.description}));o.useEffect(()=>{(async()=>{const ge=await Z();we(ge)})()},[]);const je=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(ge=>({id:ge.depID||ge.ID,code:ge.depCode||ge.code,description:ge.depDesc||ge.description}));o.useEffect(()=>{(async()=>{const ge=await je();V(ge)})()},[]);const De=async()=>{const He=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(He.data)?He.data:[]).map(st=>({id:st.grpSchID||st.id||st.ID,code:st.grpCode||st.code,description:st.grpDesc||st.description}))};o.useEffect(()=>{(async()=>{const ge=await De();Se(ge)})()},[]);const Qe=async()=>{const He=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(He.data)?He.data:[]).map(st=>({id:st.lineID??st.ID??st.id,code:st.lineCode??st.code,description:st.lineDesc??st.Description??st.description}))};o.useEffect(()=>{(async()=>{const ge=await Qe();Q(ge)})()},[]);const qe=async()=>{const He=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(He.data)?He.data:[]).map(st=>({id:st.secID??st.ID??st.id,code:st.secCode??st.sectionCode??st.code,description:st.secDesc??st.Description??st.description}))};o.useEffect(()=>{(async()=>{const ge=await qe();Ae(ge)})()},[]);const Ye=async()=>{const He=await z.get("/EmployeeMasterFile");return(Array.isArray(He.data)?He.data:[]).map(st=>({id:st.empID??st.ID??st.id,code:st.empCode||st.code||"",name:`${st.lName||""}, ${st.fName||""} ${st.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const ge=await Ye();B(ge)})()},[]);const St=(()=>{switch(t){case"Branch":return se;case"Department":return P;case"Group Schedule":return ee;case"Pay House":return le;case"Section":return $e;default:return ye}})(),dt=async()=>{if(!S.length){await zt("Please select employee/s to update.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}if(!i){await zt("Please select Date to Apply.");return}try{L(!0);const He=Rt=>new Date(Rt).toISOString(),ge={empCodes:S.map(String),DateFrom:He(s),DateTo:He(n),DateApplied:He(i)},st=await z.post("/Utilities/UpdateHoursPerWeek",ge);console.log("API response:",st);const Ze=ra.isApiSuccess(st);console.log("Is success:",Ze),Ze&&(await Zs("Successfully Updated No. of Hours Per Week."),C([]),I([]),r(""),l(""),c(""))}catch(He){console.error(He),await zt("Failed to update records")}finally{L(!1)}},Et=async()=>{if(!S.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!s||!n){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!i){await xe.fire({icon:"error",title:"Error",text:"Please select Date to Apply.",timer:2e3,showConfirmButton:!0});return}try{L(!0),await xe.fire({icon:"warning",title:"Success",text:"Successfully Unpost No. of Hours Per Week.",timer:2e3,background:"#da1526",showConfirmButton:!1}),C([]),I([]),r(""),l(""),c("")}catch(He){console.error(He),alert("Failed to update records")}finally{L(!1)}},Te=St.filter(He=>He.code.toLowerCase().includes(p.toLowerCase())||He.description.toLowerCase().includes(p.toLowerCase())),Ee=et.filter(He=>He.code.toLowerCase().includes(f.toLowerCase())||He.name.toLowerCase().includes(f.toLowerCase())),pe=Math.ceil(Te.length/M),Je=(k-1)*M,pt=Je+M,Mt=Te.slice((k-1)*M,k*M),Wt=()=>{const He=[];if(pe<=7)for(let ge=1;ge<=pe;ge++)He.push(ge);else if(k<=4){for(let ge=1;ge<=5;ge++)He.push(ge);He.push("..."),He.push(pe)}else if(k>=pe-3){He.push(1),He.push("...");for(let ge=pe-4;ge<=pe;ge++)He.push(ge)}else{He.push(1),He.push("...");for(let ge=k-1;ge<=k+1;ge++)He.push(ge);He.push("..."),He.push(pe)}return He},$t=Math.ceil(Ee.length/M),lt=(F-1)*M,bt=lt+M,Nt=Ee.slice((F-1)*M,F*M),wt=()=>{const He=[];if($t<=5)return Array.from({length:$t},(Rt,ft)=>ft+1);He.push(1),F>3&&He.push("...");const st=Math.max(2,F-1),Ze=Math.min($t-1,F+1);for(let Rt=st;Rt<=Ze;Rt++)He.push(Rt);return F<$t-2&&He.push("..."),He.push($t),He},It=He=>{C(ge=>ge.includes(He)?ge.filter(st=>st!==He):[...ge,He])},Dt=He=>{I(ge=>ge.includes(He)?ge.filter(st=>st!==He):[...ge,He])},Ke=()=>{N.length===Te.length?C([]):C(Te.map(He=>He.id))},tt=()=>{S.length===Ee.length?I([]):I(Ee.map(He=>He.id))},Le=He=>{m==="dateToApply"?c(He):m==="dateFrom"?r(He):m==="dateTo"&&l(He)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update No. of Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update the number of hours per week for selected employee groups. Configure weekly hour requirements across multiple employees efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify effective dates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(He=>e.jsxs("button",{onClick:()=>a(He.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===He.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(He.icon,{className:"w-4 h-4"}),He.name]},He.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:He=>v(He.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===Te.length&&Te.length>0,onChange:Ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Mt.map(He=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(He.id),onChange:()=>It(He.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:He.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:He.description})]},He.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ee.length===0?0:Je+1," to ",Math.min(pt,Te.length)," of ",Te.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>A(He=>Math.max(He-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Wt().map((He,ge)=>He==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${ge}`):e.jsx("button",{onClick:()=>A(He),className:`px-2 py-1 rounded text-xs ${k===He?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:He},He)),e.jsx("button",{onClick:()=>A(He=>Math.min(He+1,pe)),disabled:k===pe||pe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:He=>y(He.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===Ee.length&&Ee.length>0,onChange:tt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Nt.map(He=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(He.id),onChange:()=>Dt(He.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:He.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:He.name})]},He.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",lt+1," to ",Math.min(bt,Ee.length)," of ",Ee.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>O(He=>Math.max(1,He-1)),disabled:F===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),wt().map((He,ge)=>typeof He=="number"?e.jsx("button",{onClick:()=>O(He),className:`px-2 py-1 rounded text-xs ${F===He?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:He},ge):e.jsx("span",{className:"px-2",children:He},ge)),e.jsx("button",{onClick:()=>O(He=>Math.min($t,He+1)),disabled:F===$t,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:u==="active",onChange:()=>h("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:u==="inactive",onChange:()=>h("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:u==="all",onChange:()=>h("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:s,onChange:He=>r(He.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:n,onChange:He=>l(He.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date Applied:"}),e.jsx("input",{type:"text",value:i,onChange:He=>c(He.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:i,onChange:c})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 mt-4",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:dt,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:Et,children:[e.jsx(ax,{className:"w-4 h-4"}),"Unpost"]})]})]})]})]})]})]})}),m&&e.jsx(uQ,{value:m==="dateToApply"?i:m==="dateFrom"?s:n,onChange:Le,onClose:()=>b(null),position:g})]})}function hQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function mQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState(new Date().getMonth()+1),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState([]),[k,A]=o.useState([]),[F,O]=o.useState(1),[M,U]=o.useState(1),L=10,[G,re]=o.useState(!1);o.useEffect(()=>{O(1)},[t]);const[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),Et=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Fe=>({id:Fe.ID||Fe.id,code:Fe.groupCode||Fe.code,description:Fe.groupDescription||Fe.description}));o.useEffect(()=>{(async()=>{const Fe=await Et();H(Fe)})()},[]);const Te=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Fe=>({id:Fe.braID||Fe.ID,code:Fe.braCode||Fe.code,description:Fe.braDesc||Fe.description}));o.useEffect(()=>{(async()=>{const Fe=await Te();E(Fe)})()},[]);const Ee=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Fe=>({id:Fe.depID||Fe.ID,code:Fe.depCode||Fe.code,description:Fe.depDesc||Fe.description})),pe=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Fe=>({id:Fe.divID||Fe.ID,code:Fe.divCode||Fe.code,description:Fe.divDesc||Fe.description}));o.useEffect(()=>{(async()=>{const Fe=await pe();oe(Fe)})()},[]),o.useEffect(()=>{(async()=>{const Fe=await Ee();R(Fe)})()},[]);const Je=async()=>{const _=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(_.data)?_.data:[]).map(Oe=>({id:Oe.grpSchID||Oe.id||Oe.ID,code:Oe.grpCode||Oe.code,description:Oe.grpDesc||Oe.description}))};o.useEffect(()=>{(async()=>{const Fe=await Je();Ce(Fe)})()},[]);const pt=async()=>{const _=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(_.data)?_.data:[]).map(Oe=>({id:Oe.lineID??Oe.ID??Oe.id,code:Oe.lineCode??Oe.code,description:Oe.lineDesc??Oe.Description??Oe.description}))};o.useEffect(()=>{(async()=>{const Fe=await pt();Re(Fe)})()},[]);const Mt=async()=>{const _=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(_.data)?_.data:[]).map(Oe=>({id:Oe.secID??Oe.ID??Oe.id,code:Oe.secCode??Oe.sectionCode??Oe.code,description:Oe.secDesc??Oe.Description??Oe.description}))};o.useEffect(()=>{(async()=>{const Fe=await Mt();Z(Fe)})()},[]);const Wt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Fe=>({id:Fe.unitID||Fe.ID,code:Fe.unitCode||Fe.code,description:Fe.unitDesc||Fe.description}));o.useEffect(()=>{(async()=>{const Fe=await Wt();qe(Fe)})()},[]);const $t=async()=>{const _=await z.get("/EmployeeMasterFile");return(Array.isArray(_.data)?_.data:[]).map(Oe=>({id:Oe.empID??Oe.ID??Oe.id,code:Oe.empCode||Oe.code||"",name:`${Oe.lName||""}, ${Oe.fName||""} ${Oe.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Fe=await $t();dt(Fe)})()},[]);const Nt=(()=>{switch(t){case"Branch":return Y;case"Department":return D;case"Division":return ue;case"Group Schedule":return ve;case"Pay House":return We;case"Section":return q;case"Unit":return Qe;default:return ne}})().filter(_=>_.code.toLowerCase().includes(f.toLowerCase())||_.description.toLowerCase().includes(f.toLowerCase())),wt=St.filter(_=>_.code.toLowerCase().includes(N.toLowerCase())||_.name.toLowerCase().includes(N.toLowerCase())),It=Math.ceil(Nt.length/L),Dt=(F-1)*L,Ke=Dt+L,tt=Nt.slice((F-1)*L,F*L),Le=()=>{const _=[];if(It<=7)for(let Fe=1;Fe<=It;Fe++)_.push(Fe);else if(F<=4){for(let Fe=1;Fe<=5;Fe++)_.push(Fe);_.push("..."),_.push(It)}else if(F>=It-3){_.push(1),_.push("...");for(let Fe=It-4;Fe<=It;Fe++)_.push(Fe)}else{_.push(1),_.push("...");for(let Fe=F-1;Fe<=F+1;Fe++)_.push(Fe);_.push("..."),_.push(It)}return _},He=Math.ceil(wt.length/L),ge=(M-1)*L,st=ge+L,Ze=wt.slice((M-1)*L,M*L),Rt=()=>{const _=[];if(He<=5)return Array.from({length:He},(Ie,te)=>te+1);_.push(1),M>3&&_.push("...");const Oe=Math.max(2,M-1),ke=Math.min(He-1,M+1);for(let Ie=Oe;Ie<=ke;Ie++)_.push(Ie);return M<He-2&&_.push("..."),_.push(He),_},ft=async()=>{if(!k.length){await zt("Please select employee/s to update.");return}if(n<1||!s){await zt("Invalid Month or Year.");return}if(!i||isNaN(Number(i))||Number(i)<=0){await zt("Please fill no of Tardiness.");return}if(!u||isNaN(Number(u))||Number(u)<0){await zt("Please fill Grace Period.");return}try{re(!0);const _=Ie=>new Date(Ie).toISOString(),Fe={empCode:k,year:s,month:n,gracePeriod:u,noOfTardiness:i},Oe=await z.post("/Utilities/UpdateTardinessPenalty_Update",Fe);console.log("API response:",Oe);const ke=ra.isApiSuccess(Oe);console.log("Is success:",ke),ke&&(await Zs("Successfully updated Tardiness Penalty."),I([]),A([]),r(""),l(new Date().getMonth()+1),c(""),h(""))}catch(_){console.error(_),await zt("Failed to update records")}finally{re(!1)}},kt=async()=>{if(!k.length){await zt("Please select employee/s to update.");return}if(n<1||!s){await zt("Invalid Month or Year.");return}try{re(!0);const _={empCode:k,year:s,month:n},Fe=await z.post("/Utilities/UpdateTardinessPenalty_Unpost",_);console.log("API response:",Fe);const Oe=ra.isApiSuccess(Fe);console.log("Is success:",Oe),Oe&&(await Zs("Successfully unposted Tardiness Penalty."),I([]),A([]),r(""),l(new Date().getMonth()+1),c(""),h(""))}catch(_){console.error(_),alert("Failed to update records")}finally{re(!1)}},he=_=>{I(Fe=>Fe.includes(_)?Fe.filter(Oe=>Oe!==_):[...Fe,_])},be=_=>{A(Fe=>Fe.includes(_)?Fe.filter(Oe=>Oe!==_):[...Fe,_])},ie=()=>{S.length===Nt.length?I([]):I(Nt.map(_=>_.id))},de=()=>{k.length===wt.length?A([]):A(wt.map(_=>_.id))},J=_=>{g==="year"&&r(_)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Tardiness Penalty"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update tardiness penalties for selected employee groups. Configure penalty settings based on tardiness frequency and grace periods efficiently."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set year, month, and penalty parameters"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update or unpost changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(_=>e.jsxs("button",{onClick:()=>a(_.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===_.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(_.icon,{className:"w-4 h-4"}),_.name]},_.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:_=>y(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===Nt.length&&Nt.length>0,onChange:ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:tt.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(_.id),onChange:()=>he(_.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:_.description})]},_.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",wt.length===0?0:Dt+1," to ",Math.min(Ke,Nt.length)," of ",Nt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>O(_=>Math.max(_-1,1)),disabled:F===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Le().map((_,Fe)=>_==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Fe}`):e.jsx("button",{onClick:()=>O(_),className:`px-2 py-1 rounded text-xs ${F===_?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},_)),e.jsx("button",{onClick:()=>O(_=>Math.min(_+1,It)),disabled:F===It||It===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:N,onChange:_=>C(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:k.length===wt.length&&wt.length>0,onChange:de,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ze.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:k.includes(_.id),onChange:()=>be(_.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:_.name})]},_.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ge+1," to ",Math.min(st,wt.length)," of ",wt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>U(_=>Math.max(1,_-1)),disabled:M===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Rt().map((_,Fe)=>typeof _=="number"?e.jsx("button",{onClick:()=>U(_),className:`px-2 py-1 rounded text-xs ${M===_?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},Fe):e.jsx("span",{className:"px-2",children:_},Fe)),e.jsx("button",{onClick:()=>U(_=>Math.min(He,_+1)),disabled:M===He,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Year"}),e.jsx("input",{type:"text",value:s,onChange:_=>r(_.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Month"}),e.jsxs("select",{value:n,onChange:_=>l(parseInt(_.target.value)),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full",children:[e.jsx("option",{value:"1",children:"January"}),e.jsx("option",{value:"2",children:"February"}),e.jsx("option",{value:"3",children:"March"}),e.jsx("option",{value:"4",children:"April"}),e.jsx("option",{value:"5",children:"May"}),e.jsx("option",{value:"6",children:"June"}),e.jsx("option",{value:"7",children:"July"}),e.jsx("option",{value:"8",children:"August"}),e.jsx("option",{value:"9",children:"September"}),e.jsx("option",{value:"10",children:"October"}),e.jsx("option",{value:"11",children:"November"}),e.jsx("option",{value:"12",children:"December"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"No of Tardiness"}),e.jsx("input",{type:"text",value:i,onChange:_=>c(_.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Grace Period [hh.mm]"}),e.jsx("input",{type:"text",value:u,onChange:_=>h(_.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-full"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ft,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:kt,children:[e.jsx(ax,{className:"w-4 h-4"}),"Unpost"]})]})]})})]})]})]})]})}),g&&e.jsx(hQ,{value:g==="year"?s:"",onChange:J,onClose:()=>w(null),position:p})]})}function pQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function gQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState("active"),[u,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState([]),[S,I]=o.useState(1),[k,A]=o.useState(1),F=10,[O,M]=o.useState(!1);o.useEffect(()=>{I(1)},[t]);const[U,L]=o.useState(!1),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),et=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(tt=>({id:tt.ID||tt.id,code:tt.groupCode||tt.code,description:tt.groupDescription||tt.description}));o.useEffect(()=>{(async()=>{const tt=await et();re(tt)})()},[]);const B=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(tt=>({id:tt.braID||tt.ID,code:tt.braCode||tt.code,description:tt.braDesc||tt.description}));o.useEffect(()=>{(async()=>{const tt=await B();H(tt)})()},[]);const q=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(tt=>({id:tt.depID||tt.ID,code:tt.depCode||tt.code,description:tt.depDesc||tt.description}));o.useEffect(()=>{(async()=>{const tt=await q();E(tt)})()},[]);const Z=async()=>{const Ke=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.grpSchID||Le.id||Le.ID,code:Le.grpCode||Le.code,description:Le.grpDesc||Le.description}))};o.useEffect(()=>{(async()=>{const tt=await Z();R(tt)})()},[]);const je=async()=>{const Ke=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.lineID??Le.ID??Le.id,code:Le.lineCode??Le.code,description:Le.lineDesc??Le.Description??Le.description}))};o.useEffect(()=>{(async()=>{const tt=await je();oe(tt)})()},[]);const De=async()=>{const Ke=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.secID??Le.ID??Le.id,code:Le.secCode??Le.sectionCode??Le.code,description:Le.secDesc??Le.Description??Le.description}))};o.useEffect(()=>{(async()=>{const tt=await De();Ce(tt)})()},[]);const Qe=async()=>{const Ke=await z.get("/EmployeeMasterFile");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.empID??Le.ID??Le.id,code:Le.empCode||Le.code||"",name:`${Le.lName||""}, ${Le.fName||""} ${Le.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const tt=await Qe();Re(tt)})()},[]);const ht=(()=>{switch(t){case"Branch":return ne;case"Department":return Y;case"Group Schedule":return D;case"Pay House":return ue;case"Section":return ve;default:return G}})().filter(Ke=>Ke.code.toLowerCase().includes(g.toLowerCase())||Ke.description.toLowerCase().includes(g.toLowerCase())),St=We.filter(Ke=>Ke.code.toLowerCase().includes(p.toLowerCase())||Ke.name.toLowerCase().includes(p.toLowerCase())),dt=Math.ceil(ht.length/F),Et=(S-1)*F,Te=Et+F,Ee=ht.slice((S-1)*F,S*F),pe=()=>{const Ke=[];if(dt<=7)for(let tt=1;tt<=dt;tt++)Ke.push(tt);else if(S<=4){for(let tt=1;tt<=5;tt++)Ke.push(tt);Ke.push("..."),Ke.push(dt)}else if(S>=dt-3){Ke.push(1),Ke.push("...");for(let tt=dt-4;tt<=dt;tt++)Ke.push(tt)}else{Ke.push(1),Ke.push("...");for(let tt=S-1;tt<=S+1;tt++)Ke.push(tt);Ke.push("..."),Ke.push(dt)}return Ke},Je=Math.ceil(St.length/F),pt=(k-1)*F,Mt=pt+F,Wt=St.slice((k-1)*F,k*F),$t=()=>{const Ke=[];if(Je<=5)return Array.from({length:Je},(ge,st)=>st+1);Ke.push(1),k>3&&Ke.push("...");const Le=Math.max(2,k-1),He=Math.min(Je-1,k+1);for(let ge=Le;ge<=He;ge++)Ke.push(ge);return k<Je-2&&Ke.push("..."),Ke.push(Je),Ke},lt=async()=>{if(!N.length){await zt("Please select employee/s to update.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}try{M(!0);const Ke=ge=>new Date(ge).toISOString(),tt={empCodes:N.map(String),DateFrom:Ke(s),DateTo:Ke(n)},Le=await z.post("/Utilities/DeleteOtRestdayAbsent",tt);console.log("API response:",Le);const He=ra.isApiSuccess(Le);console.log("Is success:",He),He&&(await Zs("Delete OT during restday successfully updated."),y([]),C([]),r(""),l(""))}catch(Ke){console.error(Ke),await zt("Failed to delete employee transaction")}finally{M(!1)}},bt=Ke=>{y(tt=>tt.includes(Ke)?tt.filter(Le=>Le!==Ke):[...tt,Ke])},Nt=Ke=>{C(tt=>tt.includes(Ke)?tt.filter(Le=>Le!==Ke):[...tt,Ke])},wt=()=>{f.length===ht.length?y([]):y(ht.map(Ke=>Ke.id))},It=()=>{N.length===St.length?C([]):C(St.map(Ke=>Ke.id))},Dt=Ke=>{u==="dateFrom"?r(Ke):u==="dateTo"&&l(Ke)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Delete OT During Restday If Absent or Incomplete in Previous Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ns,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Automatically delete overtime entries during rest days if the employee was absent or had incomplete logs on the previous day. Process deletions efficiently within specified date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify date range for deletion"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply changes"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(Ke=>e.jsxs("button",{onClick:()=>a(Ke.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ke.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ke.icon,{className:"w-4 h-4"}),Ke.name]},Ke.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:Ke=>w(Ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===ht.length&&ht.length>0,onChange:wt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ee.map(Ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(Ke.id),onChange:()=>bt(Ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ke.description})]},Ke.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",St.length===0?0:Et+1," to ",Math.min(Te,ht.length)," of ",ht.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>I(Ke=>Math.max(Ke-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),pe().map((Ke,tt)=>Ke==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${tt}`):e.jsx("button",{onClick:()=>I(Ke),className:`px-2 py-1 rounded text-xs ${S===Ke?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ke},Ke)),e.jsx("button",{onClick:()=>I(Ke=>Math.min(Ke+1,dt)),disabled:S===dt||dt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Ke=>v(Ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===St.length&&St.length>0,onChange:It,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Wt.map(Ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(Ke.id),onChange:()=>Nt(Ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ke.name})]},Ke.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",pt+1," to ",Math.min(Mt,St.length)," of ",St.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(Ke=>Math.max(1,Ke-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),$t().map((Ke,tt)=>typeof Ke=="number"?e.jsx("button",{onClick:()=>A(Ke),className:`px-2 py-1 rounded text-xs ${k===Ke?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ke},tt):e.jsx("span",{className:"px-2",children:Ke},tt)),e.jsx("button",{onClick:()=>A(Ke=>Math.min(Je,Ke+1)),disabled:k===Je,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>c("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>c("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>c("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:s,onChange:Ke=>r(Ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:n,onChange:Ke=>l(Ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:lt,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),u&&e.jsx(pQ,{value:u==="dateFrom"?s:n,onChange:Dt,onClose:()=>h(null),position:m})]})}function fQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function yQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState("5/5/2021"),[u,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[g,w]=o.useState("all"),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState([]),[S,I]=o.useState([]),[k,A]=o.useState(1),[F,O]=o.useState(1),M=10,[U,L]=o.useState(!1);o.useEffect(()=>{A(1)},[t]);const[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState(!1),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),q=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(He=>({id:He.ID||He.id,code:He.groupCode||He.code,description:He.groupDescription||He.description}));o.useEffect(()=>{(async()=>{const He=await q();K(He)})()},[]);const Z=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(He=>({id:He.braID||He.ID,code:He.braCode||He.code,description:He.braDesc||He.description}));o.useEffect(()=>{(async()=>{const He=await Z();we(He)})()},[]);const je=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(He=>({id:He.depID||He.ID,code:He.depCode||He.code,description:He.depDesc||He.description}));o.useEffect(()=>{(async()=>{const He=await je();V(He)})()},[]);const De=async()=>{const Le=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.grpSchID||ge.id||ge.ID,code:ge.grpCode||ge.code,description:ge.grpDesc||ge.description}))};o.useEffect(()=>{(async()=>{const He=await De();Se(He)})()},[]);const Qe=async()=>{const Le=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.lineID??ge.ID??ge.id,code:ge.lineCode??ge.code,description:ge.lineDesc??ge.Description??ge.description}))};o.useEffect(()=>{(async()=>{const He=await Qe();Q(He)})()},[]);const qe=async()=>{const Le=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.secID??ge.ID??ge.id,code:ge.secCode??ge.sectionCode??ge.code,description:ge.secDesc??ge.Description??ge.description}))};o.useEffect(()=>{(async()=>{const He=await qe();Ae(He)})()},[]);const Ye=async()=>{const Le=await z.get("/EmployeeMasterFile");return(Array.isArray(Le.data)?Le.data:[]).map(ge=>({id:ge.empID??ge.ID??ge.id,code:ge.empCode||ge.code||"",name:`${ge.lName||""}, ${ge.fName||""} ${ge.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const He=await Ye();B(He)})()},[]);const dt=(()=>{switch(t){case"Branch":return se;case"Department":return P;case"Group Schedule":return ee;case"Pay House":return le;case"Section":return $e;default:return ye}})().filter(Le=>Le.code.toLowerCase().includes(p.toLowerCase())||Le.description.toLowerCase().includes(p.toLowerCase())),Et=et.filter(Le=>Le.code.toLowerCase().includes(f.toLowerCase())||Le.name.toLowerCase().includes(f.toLowerCase())),Te=Math.ceil(dt.length/M),Ee=(k-1)*M,pe=Ee+M,Je=dt.slice((k-1)*M,k*M),pt=()=>{const Le=[];if(Te<=7)for(let He=1;He<=Te;He++)Le.push(He);else if(k<=4){for(let He=1;He<=5;He++)Le.push(He);Le.push("..."),Le.push(Te)}else if(k>=Te-3){Le.push(1),Le.push("...");for(let He=Te-4;He<=Te;He++)Le.push(He)}else{Le.push(1),Le.push("...");for(let He=k-1;He<=k+1;He++)Le.push(He);Le.push("..."),Le.push(Te)}return Le},Mt=Math.ceil(Et.length/M),Wt=(F-1)*M,$t=Wt+M,lt=Et.slice((F-1)*M,F*M),bt=()=>{const Le=[];if(Mt<=5)return Array.from({length:Mt},(Ze,Rt)=>Rt+1);Le.push(1),F>3&&Le.push("...");const ge=Math.max(2,F-1),st=Math.min(Mt-1,F+1);for(let Ze=ge;Ze<=st;Ze++)Le.push(Ze);return F<Mt-2&&Le.push("..."),Le.push(Mt),Le},Nt=async()=>{if(!S.length){await zt("Please select employee/s to update.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}if(!i){await zt("Please select Overtime Date.");return}try{L(!0);const Le=Ze=>new Date(Ze).toISOString(),He={empCodes:S.map(String),DateFrom:Le(s),DateTo:Le(n),OTDate:Le(i)},ge=await z.post("/Utilities/ProcessOvertimeCutoff_Update",He);console.log("API response:",ge);const st=ra.isApiSuccess(ge);console.log("Is success:",st),st&&(await Zs("Process Overtime Per Cut-Off successfully updated."),C([]),I([]),r(""),l(""),c(""))}catch(Le){console.error(Le),await zt("Failed to update records")}finally{L(!1)}},wt=Le=>{C(He=>He.includes(Le)?He.filter(ge=>ge!==Le):[...He,Le])},It=Le=>{I(He=>He.includes(Le)?He.filter(ge=>ge!==Le):[...He,Le])},Dt=()=>{N.length===dt.length?C([]):C(dt.map(Le=>Le.id))},Ke=()=>{S.length===Et.length?I([]):I(Et.map(Le=>Le.id))},tt=Le=>{u==="dateFrom"?r(Le):u==="dateTo"?l(Le):u==="overtimeDate"&&c(Le)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Overtime Per Cut-Off"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(ur,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Process overtime hours based on specified cut-off dates for selected employee groups. Configure overtime processing efficiently within defined date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define date range and overtime date"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify overtime cut-off"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply processing"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(Le=>e.jsxs("button",{onClick:()=>a(Le.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Le.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Le.icon,{className:"w-4 h-4"}),Le.name]},Le.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Le=>v(Le.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===dt.length&&dt.length>0,onChange:Dt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Je.map(Le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(Le.id),onChange:()=>wt(Le.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Le.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Le.description})]},Le.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Et.length===0?0:Ee+1," to ",Math.min(pe,dt.length)," of ",dt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>A(Le=>Math.max(Le-1,1)),disabled:k===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),pt().map((Le,He)=>Le==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${He}`):e.jsx("button",{onClick:()=>A(Le),className:`px-2 py-1 rounded text-xs ${k===Le?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le},Le)),e.jsx("button",{onClick:()=>A(Le=>Math.min(Le+1,Te)),disabled:k===Te||Te===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:f,onChange:Le=>y(Le.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:S.length===Et.length&&Et.length>0,onChange:Ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:lt.map(Le=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:S.includes(Le.id),onChange:()=>It(Le.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Le.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Le.name})]},Le.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Wt+1," to ",Math.min($t,Et.length)," of ",Et.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>O(Le=>Math.max(1,Le-1)),disabled:F===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),bt().map((Le,He)=>typeof Le=="number"?e.jsx("button",{onClick:()=>O(Le),className:`px-2 py-1 rounded text-xs ${F===Le?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Le},He):e.jsx("span",{className:"px-2",children:Le},He)),e.jsx("button",{onClick:()=>O(Le=>Math.min(Mt,Le+1)),disabled:F===Mt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:g==="active",onChange:()=>w("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:g==="inactive",onChange:()=>w("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:g==="all",onChange:()=>w("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From:"}),e.jsx("input",{type:"text",value:s,onChange:Le=>r(Le.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To:"}),e.jsx("input",{type:"text",value:n,onChange:Le=>l(Le.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Overtime Date:"}),e.jsx("input",{type:"text",value:i,onChange:Le=>c(Le.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:i,onChange:c})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Nt,disabled:U,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),u&&e.jsx(fQ,{value:u==="dateFrom"?s:u==="dateTo"?n:i,onChange:tt,onClose:()=>h(null),position:m})]})}function bQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function vQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),[K,ne]=o.useState(1),H=10,[se,we]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[Y,E]=o.useState(!1),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState([]),[q,Z]=o.useState(!1),[je,De]=o.useState([]),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState([]),[St,dt]=o.useState(!1),[Et,Te]=o.useState([]),[Ee,pe]=o.useState(!1),[Je,pt]=o.useState([]),[Mt,Wt]=o.useState(""),$t=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(me=>({id:me.ID||me.id,code:me.groupCode||me.code,description:me.groupDescription||me.description}));o.useEffect(()=>{(async()=>{const me=await $t();V(me)})()},[]);const lt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(me=>({id:me.braID||me.ID,code:me.braCode||me.code,description:me.braDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await lt();Se(me)})()},[]);const bt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(me=>({id:me.depID||me.ID,code:me.depCode||me.code,description:me.depDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await bt();Q(me)})()},[]);const Nt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(me=>({id:me.divID||me.ID,code:me.divCode||me.code,description:me.divDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await Nt();Ae(me)})()},[]);const wt=async()=>{const ae=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.grpSchID||ce.id||ce.ID,code:ce.grpCode||ce.code,description:ce.grpDesc||ce.description}))};o.useEffect(()=>{(async()=>{const me=await wt();B(me)})()},[]);const It=async()=>{const ae=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.lineID??ce.ID??ce.id,code:ce.lineCode??ce.code,description:ce.lineDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const me=await It();De(me)})()},[]);const Dt=async()=>{const ae=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.secID??ce.ID??ce.id,code:ce.secCode??ce.sectionCode??ce.code,description:ce.secDesc??ce.Description??ce.description}))};o.useEffect(()=>{(async()=>{const me=await Dt();ht(me)})()},[]);const Ke=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(me=>({id:me.unitID||me.ID,code:me.unitCode||me.code,description:me.unitDesc||me.description}));o.useEffect(()=>{(async()=>{const me=await Ke();Te(me)})()},[]);const tt=async()=>{const ae=await z.get("/EmployeeMasterFile");return(Array.isArray(ae.data)?ae.data:[]).map(ce=>({id:ce.empID??ce.ID??ce.id,code:ce.empCode||ce.code||"",name:`${ce.lName||""}, ${ce.fName||""} ${ce.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const me=await tt();pt(me)})()},[]);const ge=(()=>{switch(t){case"Branch":return ee;case"Department":return le;case"Division":return $e;case"Group Schedule":return et;case"Pay House":return je;case"Section":return Ye;case"Unit":return Et;default:return P}})().filter(ae=>ae.code.toLowerCase().includes(S.toLowerCase())||ae.description.toLowerCase().includes(S.toLowerCase())),st=Je.filter(ae=>ae.code.toLowerCase().includes(k.toLowerCase())||ae.name.toLowerCase().includes(k.toLowerCase())),Ze=Math.ceil(ge.length/H),Rt=(L-1)*H,ft=Rt+H,kt=ge.slice((L-1)*H,L*H),he=()=>{const ae=[];if(Ze<=7)for(let me=1;me<=Ze;me++)ae.push(me);else if(L<=4){for(let me=1;me<=5;me++)ae.push(me);ae.push("..."),ae.push(Ze)}else if(L>=Ze-3){ae.push(1),ae.push("...");for(let me=Ze-4;me<=Ze;me++)ae.push(me)}else{ae.push(1),ae.push("...");for(let me=L-1;me<=L+1;me++)ae.push(me);ae.push("..."),ae.push(Ze)}return ae},be=Math.ceil(st.length/H),ie=(re-1)*H,de=ie+H,J=st.slice((re-1)*H,re*H),_=()=>{const ae=[];if(be<=5)return Array.from({length:be},(yt,Gt)=>Gt+1);ae.push(1),re>3&&ae.push("...");const ce=Math.max(2,re-1),Ge=Math.min(be-1,re+1);for(let yt=ce;yt<=Ge;yt++)ae.push(yt);return re<be-2&&ae.push("..."),ae.push(be),ae},Fe=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{we(!0);const ae=yt=>new Date(yt).toISOString(),me={empCodes:M.map(String),DateFrom:ae(f),DateTo:ae(N),Mode:"Update"},ce=await z.post("/Utilities/UpdateAssumedDays",me);console.log("API response:",ce);const Ge=ra.isApiSuccess(ce);console.log("Is success:",Ge),Ge&&(await Zs("Assumed Days successfully updated.",2e3),O([]),U([]),y(""),C(""))}catch(ae){console.error(ae),await zt("Failed to update records")}finally{we(!1)}},Oe=ae=>{O(me=>me.includes(ae)?me.filter(ce=>ce!==ae):[...me,ae])},ke=ae=>{U(me=>me.includes(ae)?me.filter(ce=>ce!==ae):[...me,ae])},Ie=()=>{F.length===ge.length?O([]):O(ge.map(ae=>ae.id))},te=()=>{M.length===st.length?U([]):U(st.map(ae=>ae.id))},Pe=ae=>{g==="year"?r(ae):g==="dateFrom"?y(ae):g==="dateTo"&&C(ae)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Update Assumed Days"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update assumed working days for selected employee groups within specified date ranges. Configure attendance assumptions for payroll processing and reporting."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bulk update processing"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(ae=>e.jsxs("button",{onClick:()=>a(ae.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ae.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ae.icon,{className:"w-4 h-4"}),ae.name]},ae.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ae=>I(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===ge.length&&ge.length>0,onChange:Ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:kt.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(ae.id),onChange:()=>Oe(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.description})]},ae.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",st.length===0?0:Rt+1," to ",Math.min(ft,ge.length)," of ",ge.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(ae=>Math.max(ae-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),he().map((ae,me)=>ae==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${me}`):e.jsx("button",{onClick:()=>G(ae),className:`px-2 py-1 rounded text-xs ${L===ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},ae)),e.jsx("button",{onClick:()=>G(ae=>Math.min(ae+1,Ze)),disabled:L===Ze||Ze===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:ae=>A(ae.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===st.length&&st.length>0,onChange:te,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:J.map(ae=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(ae.id),onChange:()=>ke(ae.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ae.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ae.name})]},ae.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ie+1," to ",Math.min(de,st.length)," of ",st.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(ae=>Math.max(1,ae-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_().map((ae,me)=>typeof ae=="number"?e.jsx("button",{onClick:()=>ye(ae),className:`px-2 py-1 rounded text-xs ${re===ae?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ae},me):e.jsx("span",{className:"px-2",children:ae},me)),e.jsx("button",{onClick:()=>ye(ae=>Math.min(be,ae+1)),disabled:re===be,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:ae=>y(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:ae=>C(ae.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:Fe,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]}),e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:Fe,children:[e.jsx(ax,{className:"w-4 h-4"}),"Unpost"]})]})]})})]})]})]})]})}),g&&e.jsx(bQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Pe,onClose:()=>w(null),position:p})]})}function wQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function NQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),Je=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ie=>({id:Ie.ID||Ie.id,code:Ie.groupCode||Ie.code,description:Ie.groupDescription||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await Je();E(Ie)})()},[]);const pt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Ie=>({id:Ie.braID||Ie.ID,code:Ie.braCode||Ie.code,description:Ie.braDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await pt();R(Ie)})()},[]);const Mt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Ie=>({id:Ie.depID||Ie.ID,code:Ie.depCode||Ie.code,description:Ie.depDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await Mt();oe(Ie)})()},[]);const Wt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Ie=>({id:Ie.divID||Ie.ID,code:Ie.divCode||Ie.code,description:Ie.divDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await Wt();Ce(Ie)})()},[]);const $t=async()=>{const ke=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.grpSchID||te.id||te.ID,code:te.grpCode||te.code,description:te.grpDesc||te.description}))};o.useEffect(()=>{(async()=>{const Ie=await $t();Re(Ie)})()},[]);const lt=async()=>{const ke=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.lineID??te.ID??te.id,code:te.lineCode??te.code,description:te.lineDesc??te.Description??te.description}))};o.useEffect(()=>{(async()=>{const Ie=await lt();Z(Ie)})()},[]);const bt=async()=>{const ke=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.secID??te.ID??te.id,code:te.secCode??te.sectionCode??te.code,description:te.secDesc??te.Description??te.description}))};o.useEffect(()=>{(async()=>{const Ie=await bt();qe(Ie)})()},[]);const Nt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Ie=>({id:Ie.unitID||Ie.ID,code:Ie.unitCode||Ie.code,description:Ie.unitDesc||Ie.description}));o.useEffect(()=>{(async()=>{const Ie=await Nt();dt(Ie)})()},[]);const wt=async()=>{const ke=await z.get("/EmployeeMasterFile");return(Array.isArray(ke.data)?ke.data:[]).map(te=>({id:te.empID??te.ID??te.id,code:te.empCode||te.code||"",name:`${te.lName||""}, ${te.fName||""} ${te.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ie=await wt();pe(Ie)})()},[]);const Ke=(()=>{switch(t){case"Branch":return D;case"Department":return ue;case"Division":return ve;case"Group Schedule":return We;case"Pay House":return q;case"Section":return Qe;case"Unit":return St;default:return Y}})().filter(ke=>ke.code.toLowerCase().includes(S.toLowerCase())||ke.description.toLowerCase().includes(S.toLowerCase())),tt=Ee.filter(ke=>ke.code.toLowerCase().includes(k.toLowerCase())||ke.name.toLowerCase().includes(k.toLowerCase())),Le=Math.ceil(Ke.length/K),He=(L-1)*K,ge=He+K,st=Ke.slice((L-1)*K,L*K),Ze=()=>{const ke=[];if(Le<=7)for(let Ie=1;Ie<=Le;Ie++)ke.push(Ie);else if(L<=4){for(let Ie=1;Ie<=5;Ie++)ke.push(Ie);ke.push("..."),ke.push(Le)}else if(L>=Le-3){ke.push(1),ke.push("...");for(let Ie=Le-4;Ie<=Le;Ie++)ke.push(Ie)}else{ke.push(1),ke.push("...");for(let Ie=L-1;Ie<=L+1;Ie++)ke.push(Ie);ke.push("..."),ke.push(Le)}return ke},Rt=Math.ceil(tt.length/K),ft=(re-1)*K,kt=ft+K,he=tt.slice((re-1)*K,re*K),be=()=>{const ke=[];if(Rt<=5)return Array.from({length:Rt},(ae,me)=>me+1);ke.push(1),re>3&&ke.push("...");const te=Math.max(2,re-1),Pe=Math.min(Rt-1,re+1);for(let ae=te;ae<=Pe;ae++)ke.push(ae);return re<Rt-2&&ke.push("..."),ke.push(Rt),ke},ie=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{H(!0);const ke=ae=>new Date(ae).toISOString(),Ie={empCodes:M.map(String),DateFrom:ke(f),DateTo:ke(N)},te=await z.post("/Utilities/ProcessOvertime24Hours_Update",Ie);console.log("API response:",te);const Pe=ra.isApiSuccess(te);console.log("Is success:",Pe),Pe&&(await Zs("Deduct Absences with pay successfully updated."),O([]),U([]),y(""),C(""))}catch(ke){console.error(ke),await zt("Failed to update records")}finally{H(!1)}},de=ke=>{O(Ie=>Ie.includes(ke)?Ie.filter(te=>te!==ke):[...Ie,ke])},J=ke=>{U(Ie=>Ie.includes(ke)?Ie.filter(te=>te!==ke):[...Ie,ke])},_=()=>{F.length===Ke.length?O([]):O(Ke.map(ke=>ke.id))},Fe=()=>{M.length===tt.length?U([]):U(tt.map(ke=>ke.id))},Oe=ke=>{g==="year"?r(ke):g==="dateFrom"?y(ke):g==="dateTo"&&C(ke)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Deduct Absences in Excess of Total Hours with Pay if with Filed Leave"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Process absence deductions when filed leave hours exceed total paid hours. Automatically adjusts leave balances and payroll calculations for accurate compensation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automatic deduction calculation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(ke=>e.jsxs("button",{onClick:()=>a(ke.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ke.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ke.icon,{className:"w-4 h-4"}),ke.name]},ke.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:ke=>I(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===Ke.length&&Ke.length>0,onChange:_,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:st.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(ke.id),onChange:()=>de(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.description})]},ke.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",tt.length===0?0:He+1," to ",Math.min(ge,Ke.length)," of ",Ke.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(ke=>Math.max(ke-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ze().map((ke,Ie)=>ke==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ie}`):e.jsx("button",{onClick:()=>G(ke),className:`px-2 py-1 rounded text-xs ${L===ke?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},ke)),e.jsx("button",{onClick:()=>G(ke=>Math.min(ke+1,Le)),disabled:L===Le||Le===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:ke=>A(ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===tt.length&&tt.length>0,onChange:Fe,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:he.map(ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(ke.id),onChange:()=>J(ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ke.name})]},ke.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",ft+1," to ",Math.min(kt,tt.length)," of ",tt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(ke=>Math.max(1,ke-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),be().map((ke,Ie)=>typeof ke=="number"?e.jsx("button",{onClick:()=>ye(ke),className:`px-2 py-1 rounded text-xs ${re===ke?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ke},Ie):e.jsx("span",{className:"px-2",children:ke},Ie)),e.jsx("button",{onClick:()=>ye(ke=>Math.min(Rt,ke+1)),disabled:re===Rt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:ke=>y(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:ke=>C(ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ie,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(wQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Oe,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function jQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function CQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState(""),[M,U]=o.useState([]),[L,G]=o.useState([]),[re,ye]=o.useState(1),[K,ne]=o.useState(1),[H,se]=o.useState(1),we=10,[Y,E]=o.useState(!1);o.useEffect(()=>{ye(1)},[t]);const[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState([]),[$t,lt]=o.useState(""),bt=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ge=>({id:Ge.ID||Ge.id,code:Ge.groupCode||Ge.code,description:Ge.groupDescription||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await bt();R(Ge)})()},[]);const Nt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Ge=>({id:Ge.braID||Ge.ID,code:Ge.braCode||Ge.code,description:Ge.braDesc||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await Nt();oe(Ge)})()},[]);const wt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Ge=>({id:Ge.depID||Ge.ID,code:Ge.depCode||Ge.code,description:Ge.depDesc||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await wt();Ce(Ge)})()},[]);const It=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Ge=>({id:Ge.divID||Ge.ID,code:Ge.divCode||Ge.code,description:Ge.divDesc||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await It();Re(Ge)})()},[]);const Dt=async()=>{const ce=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(yt=>({id:yt.grpSchID||yt.id||yt.ID,code:yt.grpCode||yt.code,description:yt.grpDesc||yt.description}))};o.useEffect(()=>{(async()=>{const Ge=await Dt();Z(Ge)})()},[]);const Ke=async()=>{const ce=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(yt=>({id:yt.lineID??yt.ID??yt.id,code:yt.lineCode??yt.code,description:yt.lineDesc??yt.Description??yt.description}))};o.useEffect(()=>{(async()=>{const Ge=await Ke();qe(Ge)})()},[]);const tt=async()=>{const ce=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(ce.data)?ce.data:[]).map(yt=>({id:yt.secID??yt.ID??yt.id,code:yt.secCode??yt.sectionCode??yt.code,description:yt.secDesc??yt.Description??yt.description}))};o.useEffect(()=>{(async()=>{const Ge=await tt();dt(Ge)})()},[]);const Le=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Ge=>({id:Ge.unitID||Ge.ID,code:Ge.unitCode||Ge.code,description:Ge.unitDesc||Ge.description}));o.useEffect(()=>{(async()=>{const Ge=await Le();pe(Ge)})()},[]);const He=async()=>{const ce=await z.get("/EmployeeMasterFile");return(Array.isArray(ce.data)?ce.data:[]).map(yt=>({id:yt.empID??yt.ID??yt.id,code:yt.empCode||yt.code||"",name:`${yt.lName||""}, ${yt.fName||""} ${yt.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Ge=await He();Wt(Ge)})()},[]);const Ze=(()=>{switch(t){case"Branch":return ue;case"Department":return ve;case"Division":return We;case"Group Schedule":return q;case"Pay House":return Qe;case"Section":return St;case"Unit":return Ee;default:return D}})().filter(ce=>ce.code.toLowerCase().includes(k.toLowerCase())||ce.description.toLowerCase().includes(k.toLowerCase())),Rt=Mt.filter(ce=>ce.code.toLowerCase().includes(F.toLowerCase())||ce.name.toLowerCase().includes(F.toLowerCase())),ft=Math.ceil(Ze.length/we),kt=(re-1)*we,he=kt+we,be=Ze.slice((re-1)*we,re*we),ie=()=>{const ce=[];if(ft<=7)for(let Ge=1;Ge<=ft;Ge++)ce.push(Ge);else if(re<=4){for(let Ge=1;Ge<=5;Ge++)ce.push(Ge);ce.push("..."),ce.push(ft)}else if(re>=ft-3){ce.push(1),ce.push("...");for(let Ge=ft-4;Ge<=ft;Ge++)ce.push(Ge)}else{ce.push(1),ce.push("...");for(let Ge=re-1;Ge<=re+1;Ge++)ce.push(Ge);ce.push("..."),ce.push(ft)}return ce},de=Math.ceil(Rt.length/we),J=(K-1)*we,_=J+we,Fe=Rt.slice((K-1)*we,K*we),Oe=()=>{const ce=[];if(de<=5)return Array.from({length:de},(W,Be)=>Be+1);ce.push(1),K>3&&ce.push("...");const yt=Math.max(2,K-1),Gt=Math.min(de-1,K+1);for(let W=yt;W<=Gt;W++)ce.push(W);return K<de-2&&ce.push("..."),ce.push(de),ce},ke=async()=>{if(!L.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}if(!S){await zt("Please select Overtime Date.");return}try{E(!0);const ce=W=>new Date(W).toISOString(),Ge={empCodes:L.map(String),DateFrom:ce(f),DateTo:ce(N),OTDate:ce(S)},yt=await z.post("/Utilities/ProcessOvertimeCutoff_Update",Ge);console.log("API response:",yt);const Gt=ra.isApiSuccess(yt);console.log("Is success:",Gt),Gt&&(await Zs("Process overtime 24hours rule successfully updated."),U([]),G([]),y(""),C(""),I(""))}catch(ce){console.error(ce),await zt("Failed to update records")}finally{E(!1)}},Ie=ce=>{U(Ge=>Ge.includes(ce)?Ge.filter(yt=>yt!==ce):[...Ge,ce])},te=ce=>{G(Ge=>Ge.includes(ce)?Ge.filter(yt=>yt!==ce):[...Ge,ce])},Pe=()=>{M.length===Ze.length?U([]):U(Ze.map(ce=>ce.id))},ae=()=>{L.length===Rt.length?G([]):G(Rt.map(ce=>ce.id))},me=ce=>{g==="year"?r(ce):g==="dateFrom"?y(ce):g==="dateTo"?C(ce):g==="overtimeDate"&&I(ce)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Overtime 24 Hours Rule"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply the 24-hour overtime rule policy to process and validate overtime hours, ensuring compliance with labor regulations and company policies for maximum daily overtime limits."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for processing"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automatic 24-hour rule validation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(ce=>e.jsxs("button",{onClick:()=>a(ce.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ce.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ce.icon,{className:"w-4 h-4"}),ce.name]},ce.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:ce=>A(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===Ze.length&&Ze.length>0,onChange:Pe,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:be.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(ce.id),onChange:()=>Ie(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.description})]},ce.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Rt.length===0?0:kt+1," to ",Math.min(he,Ze.length)," of ",Ze.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ye(ce=>Math.max(ce-1,1)),disabled:re===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ie().map((ce,Ge)=>ce==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ge}`):e.jsx("button",{onClick:()=>ye(ce),className:`px-2 py-1 rounded text-xs ${re===ce?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},ce)),e.jsx("button",{onClick:()=>ye(ce=>Math.min(ce+1,ft)),disabled:re===ft||ft===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:F,onChange:ce=>O(ce.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Rt.length&&Rt.length>0,onChange:ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Fe.map(ce=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(ce.id),onChange:()=>te(ce.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:ce.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ce.name})]},ce.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",J+1," to ",Math.min(_,Rt.length)," of ",Rt.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ne(ce=>Math.max(1,ce-1)),disabled:K===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Oe().map((ce,Ge)=>typeof ce=="number"?e.jsx("button",{onClick:()=>ne(ce),className:`px-2 py-1 rounded text-xs ${K===ce?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ce},Ge):e.jsx("span",{className:"px-2",children:ce},Ge)),e.jsx("button",{onClick:()=>ne(ce=>Math.min(de,ce+1)),disabled:K===de,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:ce=>y(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:ce=>C(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-32",children:"Overtime Date:"}),e.jsx("input",{type:"text",value:S,onChange:ce=>I(ce.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:S,onChange:I})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ke,disabled:Y,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(jQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:me,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function SQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function kQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(!1),[k,A]=o.useState(!1),[F,O]=o.useState(!1),[M,U]=o.useState(!1),[L,G]=o.useState(!1),[re,ye]=o.useState(!1),[K,ne]=o.useState(""),[H,se]=o.useState(""),[we,Y]=o.useState([]),[E,P]=o.useState([]),[V,D]=o.useState(1),[R,ee]=o.useState(1),[Se,ue]=o.useState(1),oe=10,[le,Q]=o.useState(!1),[ve,Ce]=o.useState({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,selectAll:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1}),$e=()=>{Ce({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1,selectAll:!1})};o.useEffect(()=>{D(1)},[t]);const[Ae,We]=o.useState(!1),[Re,et]=o.useState([]),[B,q]=o.useState(!1),[Z,je]=o.useState([]),[De,Qe]=o.useState(!1),[qe,Ye]=o.useState([]),[ht,St]=o.useState(!1),[dt,Et]=o.useState([]),[Te,Ee]=o.useState(!1),[pe,Je]=o.useState([]),[pt,Mt]=o.useState(!1),[Wt,$t]=o.useState([]),[lt,bt]=o.useState(!1),[Nt,wt]=o.useState([]),[It,Dt]=o.useState(!1),[Ke,tt]=o.useState([]),[Le,He]=o.useState(!1),[ge,st]=o.useState([]),[Ze,Rt]=o.useState(""),ft=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Vt=>({id:Vt.ID||Vt.id,code:Vt.groupCode||Vt.code,description:Vt.groupDescription||Vt.description}));o.useEffect(()=>{(async()=>{const Vt=await ft();et(Vt)})()},[]);const kt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Vt=>({id:Vt.braID||Vt.ID,code:Vt.braCode||Vt.code,description:Vt.braDesc||Vt.description}));o.useEffect(()=>{(async()=>{const Vt=await kt();je(Vt)})()},[]);const he=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Vt=>({id:Vt.depID||Vt.ID,code:Vt.depCode||Vt.code,description:Vt.depDesc||Vt.description}));o.useEffect(()=>{(async()=>{const Vt=await he();Ye(Vt)})()},[]);const be=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Vt=>({id:Vt.divID||Vt.ID,code:Vt.divCode||Vt.code,description:Vt.divDesc||Vt.description}));o.useEffect(()=>{(async()=>{const Vt=await be();Et(Vt)})()},[]);const ie=async()=>{const jt=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.grpSchID||cs.id||cs.ID,code:cs.grpCode||cs.code,description:cs.grpDesc||cs.description}))};o.useEffect(()=>{(async()=>{const Vt=await ie();Je(Vt)})()},[]);const de=async()=>{const jt=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.lineID??cs.ID??cs.id,code:cs.lineCode??cs.code,description:cs.lineDesc??cs.Description??cs.description}))};o.useEffect(()=>{(async()=>{const Vt=await de();$t(Vt)})()},[]);const J=async()=>{const jt=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.secID??cs.ID??cs.id,code:cs.secCode??cs.sectionCode??cs.code,description:cs.secDesc??cs.Description??cs.description}))};o.useEffect(()=>{(async()=>{const Vt=await J();wt(Vt)})()},[]);const _=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Vt=>({id:Vt.unitID||Vt.ID,code:Vt.unitCode||Vt.code,description:Vt.unitDesc||Vt.description}));o.useEffect(()=>{(async()=>{const Vt=await _();tt(Vt)})()},[]);const Fe=async()=>{const jt=await z.get("/EmployeeMasterFile");return(Array.isArray(jt.data)?jt.data:[]).map(cs=>({id:cs.empID??cs.ID??cs.id,code:cs.empCode||cs.code||"",name:`${cs.lName||""}, ${cs.fName||""} ${cs.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Vt=await Fe();st(Vt)})()},[]);const Ie=(()=>{switch(t){case"Branch":return Z;case"Department":return qe;case"Division":return dt;case"Group Schedule":return pe;case"Pay House":return Wt;case"Section":return Nt;case"Unit":return Ke;default:return Re}})().filter(jt=>jt.code.toLowerCase().includes(K.toLowerCase())||jt.description.toLowerCase().includes(K.toLowerCase())),te=ge.filter(jt=>jt.code.toLowerCase().includes(H.toLowerCase())||jt.name.toLowerCase().includes(H.toLowerCase())),Pe=Math.ceil(Ie.length/oe),ae=(V-1)*oe,me=ae+oe,ce=Ie.slice((V-1)*oe,V*oe),Ge=()=>{const jt=[];if(Pe<=7)for(let Vt=1;Vt<=Pe;Vt++)jt.push(Vt);else if(V<=4){for(let Vt=1;Vt<=5;Vt++)jt.push(Vt);jt.push("..."),jt.push(Pe)}else if(V>=Pe-3){jt.push(1),jt.push("...");for(let Vt=Pe-4;Vt<=Pe;Vt++)jt.push(Vt)}else{jt.push(1),jt.push("...");for(let Vt=V-1;Vt<=V+1;Vt++)jt.push(Vt);jt.push("..."),jt.push(Pe)}return jt},yt=Math.ceil(te.length/oe),Gt=(R-1)*oe,W=Gt+oe,Be=te.slice((R-1)*oe,R*oe),rt=()=>{const jt=[];if(yt<=5)return Array.from({length:yt},(ua,ka)=>ka+1);jt.push(1),R>3&&jt.push("...");const cs=Math.max(2,R-1),sa=Math.min(yt-1,R+1);for(let ua=cs;ua<=sa;ua++)jt.push(ua);return R<yt-2&&jt.push("..."),jt.push(yt),jt},ns=async()=>{if(!E.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee/s to update.",timer:2e3,showConfirmButton:!0});return}if(!f||!N){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!Object.values(ve).some(Boolean)){await xe.fire({icon:"error",title:"Error",text:"Please check atleast 1 transaction to unpost.",timer:2e3,showConfirmButton:!0});return}try{Q(!0),await xe.fire({icon:"success",title:"Success",text:"Successfully Unpost Transactions.",timer:2e3,showConfirmButton:!1}),Y([]),P([]),y(""),C(""),$e()}catch(Vt){console.error(Vt),alert("Failed to update records")}finally{Q(!1)}},ps=jt=>{Y(Vt=>Vt.includes(jt)?Vt.filter(cs=>cs!==jt):[...Vt,jt])},ct=jt=>{P(Vt=>Vt.includes(jt)?Vt.filter(cs=>cs!==jt):[...Vt,jt])},ss=()=>{we.length===Ie.length?Y([]):Y(Ie.map(jt=>jt.id))},Ft=()=>{E.length===te.length?P([]):P(te.map(jt=>jt.id))},Jt=jt=>{g==="year"?r(jt):g==="dateFrom"?y(jt):g==="dateTo"&&C(jt)},vt=()=>{const jt=S&&k&&F&&M&&L&&re;I(!jt),A(!jt),O(!jt),U(!jt),G(!jt),ye(!jt)},Kt=jt=>{if(jt==="selectAll"){const Vt=!ve.selectAll;Ce({tardiness:Vt,otherEarnings:Vt,noOfDaysWork:Vt,selectAll:Vt,undertime:Vt,overtime:Vt,leaveAndAbsences:Vt,lateFiling:Vt})}else Ce(Vt=>({...Vt,[jt]:!Vt[jt]}))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Post Processed Timekeeping Transaction"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Finalize and post processed timekeeping transactions to the payroll system. Lock attendance records for the selected period and prepare data for payroll processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for posting"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Batch transaction posting"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(jt=>e.jsxs("button",{onClick:()=>a(jt.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===jt.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(jt.icon,{className:"w-4 h-4"}),jt.name]},jt.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:K,onChange:jt=>ne(jt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:we.length===Ie.length&&Ie.length>0,onChange:ss,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.map(jt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:we.includes(jt.id),onChange:()=>ps(jt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:jt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:jt.description})]},jt.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",te.length===0?0:ae+1," to ",Math.min(me,Ie.length)," of ",Ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>D(jt=>Math.max(jt-1,1)),disabled:V===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ge().map((jt,Vt)=>jt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Vt}`):e.jsx("button",{onClick:()=>D(jt),className:`px-2 py-1 rounded text-xs ${V===jt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:jt},jt)),e.jsx("button",{onClick:()=>D(jt=>Math.min(jt+1,Pe)),disabled:V===Pe||Pe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:H,onChange:jt=>se(jt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:E.length===te.length&&te.length>0,onChange:Ft,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Be.map(jt=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:E.includes(jt.id),onChange:()=>ct(jt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:jt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:jt.name})]},jt.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Gt+1," to ",Math.min(W,te.length)," of ",te.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ee(jt=>Math.max(1,jt-1)),disabled:R===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),rt().map((jt,Vt)=>typeof jt=="number"?e.jsx("button",{onClick:()=>ee(jt),className:`px-2 py-1 rounded text-xs ${R===jt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:jt},Vt):e.jsx("span",{className:"px-2",children:jt},Vt)),e.jsx("button",{onClick:()=>ee(jt=>Math.min(yt,jt+1)),disabled:R===yt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:jt=>y(jt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:jt=>C(jt.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-8 space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.tardiness,onChange:()=>Kt("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.leaveAndAbsences,onChange:()=>Kt("leaveAndAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave and Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.lateFiling,onChange:()=>Kt("lateFiling"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Allowances"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.undertime,onChange:()=>Kt("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.noOfDaysWork,onChange:()=>Kt("noOfDaysWork"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No. Of Days Work"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.overtime,onChange:()=>Kt("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S&&k&&F&&M&&L&&re,onChange:vt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:ns,children:[e.jsx(HS,{className:"w-4 h-4"}),"Post"]})})})]})]})]})]})]})}),g&&e.jsx(SQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Jt,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function DQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function EQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(""),Mt=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Pe=>({id:Pe.ID||Pe.id,code:Pe.groupCode||Pe.code,description:Pe.groupDescription||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Mt();E(Pe)})()},[]);const Wt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Pe=>({id:Pe.braID||Pe.ID,code:Pe.braCode||Pe.code,description:Pe.braDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Wt();R(Pe)})()},[]);const $t=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Pe=>({id:Pe.depID||Pe.ID,code:Pe.depCode||Pe.code,description:Pe.depDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await $t();oe(Pe)})()},[]);const lt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Pe=>({id:Pe.divID||Pe.ID,code:Pe.divCode||Pe.code,description:Pe.divDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await lt();Ce(Pe)})()},[]);const bt=async()=>{const te=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.grpSchID||ae.id||ae.ID,code:ae.grpCode||ae.code,description:ae.grpDesc||ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await bt();Re(Pe)})()},[]);const Nt=async()=>{const te=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.lineID??ae.ID??ae.id,code:ae.lineCode??ae.code,description:ae.lineDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await Nt();Z(Pe)})()},[]);const wt=async()=>{const te=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.secID??ae.ID??ae.id,code:ae.secCode??ae.sectionCode??ae.code,description:ae.secDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await wt();qe(Pe)})()},[]);const It=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Pe=>({id:Pe.unitID||Pe.ID,code:Pe.unitCode||Pe.code,description:Pe.unitDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await It();dt(Pe)})()},[]);const Dt=async()=>{const te=await z.get("/EmployeeMasterFile");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.empID??ae.ID??ae.id,code:ae.empCode||ae.code||"",name:`${ae.lName||""}, ${ae.fName||""} ${ae.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Pe=await Dt();pe(Pe)})()},[]);const Le=(()=>{switch(t){case"Branch":return D;case"Department":return ue;case"Division":return ve;case"Group Schedule":return We;case"Pay House":return q;case"Section":return Qe;case"Unit":return St;default:return Y}})().filter(te=>te.code.toLowerCase().includes(S.toLowerCase())||te.description.toLowerCase().includes(S.toLowerCase())),He=Ee.filter(te=>te.code.toLowerCase().includes(k.toLowerCase())||te.name.toLowerCase().includes(k.toLowerCase())),ge=Math.ceil(Le.length/K),st=(L-1)*K,Ze=st+K,Rt=Le.slice((L-1)*K,L*K),ft=()=>{const te=[];if(ge<=7)for(let Pe=1;Pe<=ge;Pe++)te.push(Pe);else if(L<=4){for(let Pe=1;Pe<=5;Pe++)te.push(Pe);te.push("..."),te.push(ge)}else if(L>=ge-3){te.push(1),te.push("...");for(let Pe=ge-4;Pe<=ge;Pe++)te.push(Pe)}else{te.push(1),te.push("...");for(let Pe=L-1;Pe<=L+1;Pe++)te.push(Pe);te.push("..."),te.push(ge)}return te},kt=Math.ceil(He.length/K),he=(re-1)*K,be=he+K,ie=He.slice((re-1)*K,re*K),de=()=>{const te=[];if(kt<=5)return Array.from({length:kt},(ce,Ge)=>Ge+1);te.push(1),re>3&&te.push("...");const ae=Math.max(2,re-1),me=Math.min(kt-1,re+1);for(let ce=ae;ce<=me;ce++)te.push(ce);return re<kt-2&&te.push("..."),te.push(kt),te},J=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{H(!0);const te=ce=>new Date(ce).toISOString(),Pe={empCodes:M.map(String),DateFrom:te(f),DateTo:te(N)},ae=await z.post("/Utilities/UpdateTimeFlagBreaks_byDate",Pe);console.log("API response:",ae);const me=ra.isApiSuccess(ae);console.log("Is success:",me),me&&(await Zs("Time flag on set policy successfully updated."),O([]),U([]),y(""),C(""))}catch(te){console.error(te),await zt("Failed to update records")}finally{H(!1)}},_=te=>{O(Pe=>Pe.includes(te)?Pe.filter(ae=>ae!==te):[...Pe,te])},Fe=te=>{U(Pe=>Pe.includes(te)?Pe.filter(ae=>ae!==te):[...Pe,te])},Oe=()=>{F.length===Le.length?O([]):O(Le.map(te=>te.id))},ke=()=>{M.length===He.length?U([]):U(He.map(te=>te.id))},Ie=te=>{g==="year"?r(te):g==="dateFrom"?y(te):g==="dateTo"&&C(te)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Utility to Update the Time Flag Base on set Policy of Breaks"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Update time flags based on configured break policies. Apply break time rules and automatically flag attendance records according to company break policy settings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for updates"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Auto-apply break policy rules"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(te=>e.jsxs("button",{onClick:()=>a(te.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===te.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(te.icon,{className:"w-4 h-4"}),te.name]},te.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:te=>I(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===Le.length&&Le.length>0,onChange:Oe,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Rt.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(te.id),onChange:()=>_(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.description})]},te.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",He.length===0?0:st+1," to ",Math.min(Ze,Le.length)," of ",Le.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(te=>Math.max(te-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ft().map((te,Pe)=>te==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Pe}`):e.jsx("button",{onClick:()=>G(te),className:`px-2 py-1 rounded text-xs ${L===te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},te)),e.jsx("button",{onClick:()=>G(te=>Math.min(te+1,ge)),disabled:L===ge||ge===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:te=>A(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===He.length&&He.length>0,onChange:ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(te.id),onChange:()=>Fe(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.name})]},te.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",he+1," to ",Math.min(be,He.length)," of ",He.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(te=>Math.max(1,te-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),de().map((te,Pe)=>typeof te=="number"?e.jsx("button",{onClick:()=>ye(te),className:`px-2 py-1 rounded text-xs ${re===te?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},Pe):e.jsx("span",{className:"px-2",children:te},Pe)),e.jsx("button",{onClick:()=>ye(te=>Math.min(kt,te+1)),disabled:re===kt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:te=>y(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:te=>C(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:J,disabled:ne,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(DQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Ie,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function TQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function AQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState(""),[n,l]=o.useState("January"),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState("active"),[g,w]=o.useState(null),[p,v]=o.useState({top:0,left:0}),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(!1);o.useEffect(()=>{G(1)},[t]);const[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(""),Mt=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Pe=>({id:Pe.ID||Pe.id,code:Pe.groupCode||Pe.code,description:Pe.groupDescription||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Mt();E(Pe)})()},[]);const Wt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Pe=>({id:Pe.braID||Pe.ID,code:Pe.braCode||Pe.code,description:Pe.braDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await Wt();R(Pe)})()},[]);const $t=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Pe=>({id:Pe.depID||Pe.ID,code:Pe.depCode||Pe.code,description:Pe.depDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await $t();oe(Pe)})()},[]);const lt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Pe=>({id:Pe.divID||Pe.ID,code:Pe.divCode||Pe.code,description:Pe.divDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await lt();Ce(Pe)})()},[]);const bt=async()=>{const te=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.grpSchID||ae.id||ae.ID,code:ae.grpCode||ae.code,description:ae.grpDesc||ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await bt();Re(Pe)})()},[]);const Nt=async()=>{const te=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.lineID??ae.ID??ae.id,code:ae.lineCode??ae.code,description:ae.lineDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await Nt();Z(Pe)})()},[]);const wt=async()=>{const te=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.secID??ae.ID??ae.id,code:ae.secCode??ae.sectionCode??ae.code,description:ae.secDesc??ae.Description??ae.description}))};o.useEffect(()=>{(async()=>{const Pe=await wt();qe(Pe)})()},[]);const It=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Pe=>({id:Pe.unitID||Pe.ID,code:Pe.unitCode||Pe.code,description:Pe.unitDesc||Pe.description}));o.useEffect(()=>{(async()=>{const Pe=await It();dt(Pe)})()},[]);const Dt=async()=>{const te=await z.get("/EmployeeMasterFile");return(Array.isArray(te.data)?te.data:[]).map(ae=>({id:ae.empID??ae.ID??ae.id,code:ae.empCode||ae.code||"",name:`${ae.lName||""}, ${ae.fName||""} ${ae.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Pe=await Dt();pe(Pe)})()},[]);const Le=(()=>{switch(t){case"Branch":return D;case"Department":return ue;case"Division":return ve;case"Group Schedule":return We;case"Pay House":return q;case"Section":return Qe;case"Unit":return St;default:return Y}})().filter(te=>te.code.toLowerCase().includes(S.toLowerCase())||te.description.toLowerCase().includes(S.toLowerCase())),He=Ee.filter(te=>te.code.toLowerCase().includes(k.toLowerCase())||te.name.toLowerCase().includes(k.toLowerCase())),ge=Math.ceil(Le.length/K),st=(L-1)*K,Ze=st+K,Rt=Le.slice((L-1)*K,L*K),ft=()=>{const te=[];if(ge<=7)for(let Pe=1;Pe<=ge;Pe++)te.push(Pe);else if(L<=4){for(let Pe=1;Pe<=5;Pe++)te.push(Pe);te.push("..."),te.push(ge)}else if(L>=ge-3){te.push(1),te.push("...");for(let Pe=ge-4;Pe<=ge;Pe++)te.push(Pe)}else{te.push(1),te.push("...");for(let Pe=L-1;Pe<=L+1;Pe++)te.push(Pe);te.push("..."),te.push(ge)}return te},kt=Math.ceil(He.length/K),he=(re-1)*K,be=he+K,ie=He.slice((re-1)*K,re*K),de=()=>{const te=[];if(kt<=5)return Array.from({length:kt},(ce,Ge)=>Ge+1);te.push(1),re>3&&te.push("...");const ae=Math.max(2,re-1),me=Math.min(kt-1,re+1);for(let ce=ae;ce<=me;ce++)te.push(ce);return re<kt-2&&te.push("..."),te.push(kt),te},J=async()=>{if(!M.length){await zt("Please select employee/s to update.");return}if(!f||!N){await zt("Please select Date From and Date To.");return}try{H(!0);const te=ce=>new Date(ce).toISOString(),Pe={empCodes:M.map(String),DateFrom:te(f),DateTo:te(N)},ae=await z.post("/Utilities/UnpaidLunchDeduction_byDate",Pe);console.log("API response:",ae);const me=ra.isApiSuccess(ae);console.log("Is success:",me),me&&(await Zs("Unpaid Lunch deduction successfully updated."),O([]),U([]),y(""),C(""))}catch(te){console.error(te),await zt("Failed to update records")}finally{H(!1)}},_=te=>{O(Pe=>Pe.includes(te)?Pe.filter(ae=>ae!==te):[...Pe,te])},Fe=te=>{U(Pe=>Pe.includes(te)?Pe.filter(ae=>ae!==te):[...Pe,te])},Oe=()=>{F.length===Le.length?O([]):O(Le.map(te=>te.id))},ke=()=>{M.length===He.length?U([]):U(He.map(te=>te.id))},Ie=te=>{g==="year"?r(te):g==="dateFrom"?y(te):g==="dateTo"&&C(te)};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpaid Lunch Deduction Utility"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Apply unpaid lunch break deductions for selected employees. Calculate and deduct lunch break hours based on configured brackets and company policy settings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set date range for deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated bracket calculation"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(te=>e.jsxs("button",{onClick:()=>a(te.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===te.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(te.icon,{className:"w-4 h-4"}),te.name]},te.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:te=>I(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:F.length===Le.length&&Le.length>0,onChange:Oe,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Rt.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:F.includes(te.id),onChange:()=>_(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.description})]},te.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",He.length===0?0:st+1," to ",Math.min(Ze,Le.length)," of ",Le.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(te=>Math.max(te-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ft().map((te,Pe)=>te==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Pe}`):e.jsx("button",{onClick:()=>G(te),className:`px-2 py-1 rounded text-xs ${L===te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},te)),e.jsx("button",{onClick:()=>G(te=>Math.min(te+1,ge)),disabled:L===ge||ge===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:te=>A(te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===He.length&&He.length>0,onChange:ke,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ie.map(te=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(te.id),onChange:()=>Fe(te.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:te.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:te.name})]},te.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",he+1," to ",Math.min(be,He.length)," of ",He.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(te=>Math.max(1,te-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),de().map((te,Pe)=>typeof te=="number"?e.jsx("button",{onClick:()=>ye(te),className:`px-2 py-1 rounded text-xs ${re===te?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:te},Pe):e.jsx("span",{className:"px-2",children:te},Pe)),e.jsx("button",{onClick:()=>ye(te=>Math.min(kt,te+1)),disabled:re===kt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:m==="active",onChange:()=>b("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:m==="inactive",onChange:()=>b("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:m==="all",onChange:()=>b("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:f,onChange:te=>y(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:f,onChange:y})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:N,onChange:te=>C(te.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:N,onChange:C})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:J,disabled:ne,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),g&&e.jsx(TQ,{value:g==="year"?s:g==="dateFrom"?f:N,onChange:Ie,onClose:()=>w(null),position:p}),e.jsx(ls,{})]})}function FQ({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function PQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("5/5/2021"),[n,l]=o.useState("05/05/2021"),[i,c]=o.useState("active"),[u,h]=o.useState(null),[m,b]=o.useState({top:0,left:0}),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState([]),[S,I]=o.useState(1),[k,A]=o.useState(1),F=10,[O,M]=o.useState(!1);o.useEffect(()=>{I(1)},[t]);const[U,L]=o.useState(!1),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),et=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(tt=>({id:tt.ID||tt.id,code:tt.groupCode||tt.code,description:tt.groupDescription||tt.description}));o.useEffect(()=>{(async()=>{const tt=await et();re(tt)})()},[]);const B=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(tt=>({id:tt.braID||tt.ID,code:tt.braCode||tt.code,description:tt.braDesc||tt.description}));o.useEffect(()=>{(async()=>{const tt=await B();H(tt)})()},[]);const q=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(tt=>({id:tt.depID||tt.ID,code:tt.depCode||tt.code,description:tt.depDesc||tt.description}));o.useEffect(()=>{(async()=>{const tt=await q();E(tt)})()},[]);const Z=async()=>{const Ke=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.grpSchID||Le.id||Le.ID,code:Le.grpCode||Le.code,description:Le.grpDesc||Le.description}))};o.useEffect(()=>{(async()=>{const tt=await Z();R(tt)})()},[]);const je=async()=>{const Ke=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.lineID??Le.ID??Le.id,code:Le.lineCode??Le.code,description:Le.lineDesc??Le.Description??Le.description}))};o.useEffect(()=>{(async()=>{const tt=await je();oe(tt)})()},[]);const De=async()=>{const Ke=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.secID??Le.ID??Le.id,code:Le.secCode??Le.sectionCode??Le.code,description:Le.secDesc??Le.Description??Le.description}))};o.useEffect(()=>{(async()=>{const tt=await De();Ce(tt)})()},[]);const Qe=async()=>{const Ke=await z.get("/EmployeeMasterFile");return(Array.isArray(Ke.data)?Ke.data:[]).map(Le=>({id:Le.empID??Le.ID??Le.id,code:Le.empCode||Le.code||"",name:`${Le.lName||""}, ${Le.fName||""} ${Le.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const tt=await Qe();Re(tt)})()},[]);const ht=(()=>{switch(t){case"Branch":return ne;case"Department":return Y;case"Group Schedule":return D;case"Pay House":return ue;case"Section":return ve;default:return G}})().filter(Ke=>Ke.code.toLowerCase().includes(g.toLowerCase())||Ke.description.toLowerCase().includes(g.toLowerCase())),St=We.filter(Ke=>Ke.code.toLowerCase().includes(p.toLowerCase())||Ke.name.toLowerCase().includes(p.toLowerCase())),dt=Math.ceil(ht.length/F),Et=(S-1)*F,Te=Et+F,Ee=ht.slice((S-1)*F,S*F),pe=()=>{const Ke=[];if(dt<=7)for(let tt=1;tt<=dt;tt++)Ke.push(tt);else if(S<=4){for(let tt=1;tt<=5;tt++)Ke.push(tt);Ke.push("..."),Ke.push(dt)}else if(S>=dt-3){Ke.push(1),Ke.push("...");for(let tt=dt-4;tt<=dt;tt++)Ke.push(tt)}else{Ke.push(1),Ke.push("...");for(let tt=S-1;tt<=S+1;tt++)Ke.push(tt);Ke.push("..."),Ke.push(dt)}return Ke},Je=Math.ceil(St.length/F),pt=(k-1)*F,Mt=pt+F,Wt=St.slice((k-1)*F,k*F),$t=()=>{const Ke=[];if(Je<=5)return Array.from({length:Je},(ge,st)=>st+1);Ke.push(1),k>3&&Ke.push("...");const Le=Math.max(2,k-1),He=Math.min(Je-1,k+1);for(let ge=Le;ge<=He;ge++)Ke.push(ge);return k<Je-2&&Ke.push("..."),Ke.push(Je),Ke},lt=async()=>{if(!N.length){await zt("Please select employee/s to update.");return}if(!s||!n){await zt("Please select Date From and Date To.");return}try{M(!0);const Ke=ge=>new Date(ge).toISOString(),tt={empCodes:N.map(String),DateFrom:Ke(s),DateTo:Ke(n)},Le=await z.post("/Utilities/DeductTardinessToOvertime_DeleteOTRegday",tt);console.log("API response:",Le);const He=ra.isApiSuccess(Le);console.log("Is success:",He),He&&(await Zs("Tardiness to Overtime successfully updated."),y([]),C([]),r(""),l(""))}catch(Ke){console.error(Ke),await zt("Failed to update records")}finally{M(!1)}},bt=Ke=>{y(tt=>tt.includes(Ke)?tt.filter(Le=>Le!==Ke):[...tt,Ke])},Nt=Ke=>{C(tt=>tt.includes(Ke)?tt.filter(Le=>Le!==Ke):[...tt,Ke])},wt=()=>{f.length===ht.length?y([]):y(ht.map(Ke=>Ke.id))},It=()=>{N.length===St.length?C([]):C(St.map(Ke=>Ke.id))},Dt=Ke=>{u==="dateFrom"?r(Ke):u==="dateTo"&&l(Ke)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Deduct Tardiness to Overtime of the Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(r7,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Automatically deduct tardiness from overtime hours of the same day for selected employee groups. Process time adjustments efficiently within specified date ranges."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and employees"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Specify date range for deductions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Update to apply adjustments"})]})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(Ke=>e.jsxs("button",{onClick:()=>a(Ke.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Ke.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ke.icon,{className:"w-4 h-4"}),Ke.name]},Ke.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:Ke=>w(Ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===ht.length&&ht.length>0,onChange:wt,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ee.map(Ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(Ke.id),onChange:()=>bt(Ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ke.description})]},Ke.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",St.length===0?0:Et+1," to ",Math.min(Te,ht.length)," of ",ht.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>I(Ke=>Math.max(Ke-1,1)),disabled:S===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),pe().map((Ke,tt)=>Ke==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${tt}`):e.jsx("button",{onClick:()=>I(Ke),className:`px-2 py-1 rounded text-xs ${S===Ke?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ke},Ke)),e.jsx("button",{onClick:()=>I(Ke=>Math.min(Ke+1,dt)),disabled:S===dt||dt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:Ke=>v(Ke.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:N.length===St.length&&St.length>0,onChange:It,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Wt.map(Ke=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:N.includes(Ke.id),onChange:()=>Nt(Ke.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ke.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ke.name})]},Ke.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",pt+1," to ",Math.min(Mt,St.length)," of ",St.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>A(Ke=>Math.max(1,Ke-1)),disabled:k===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),$t().map((Ke,tt)=>typeof Ke=="number"?e.jsx("button",{onClick:()=>A(Ke),className:`px-2 py-1 rounded text-xs ${k===Ke?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ke},tt):e.jsx("span",{className:"px-2",children:Ke},tt)),e.jsx("button",{onClick:()=>A(Ke=>Math.min(Je,Ke+1)),disabled:k===Je,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:i==="active",onChange:()=>c("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:i==="inactive",onChange:()=>c("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:i==="all",onChange:()=>c("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date From:"}),e.jsx("input",{type:"text",value:s,onChange:Ke=>r(Ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:s,onChange:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 w-24",children:"Date To:"}),e.jsx("input",{type:"text",value:n,onChange:Ke=>l(Ke.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:n,onChange:l})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:lt,children:[e.jsx(za,{className:"w-4 h-4"}),"Update"]})})]})})]})]})]})]})}),u&&e.jsx(FQ,{value:u==="dateFrom"?s:n,onChange:Dt,onClose:()=>h(null),position:m})]})}function IQ(t,a){if(a<=7)return Array.from({length:a},(l,i)=>i+1);const s=[1];t>3&&s.push("...");const r=Math.max(2,t-1),n=Math.min(a-1,t+1);for(let l=r;l<=n;l++)s.push(l);return t<a-2&&s.push("..."),s.push(a),s}function MQ({currentPage:t,totalPages:a,setPage:s,startIdx:r,endIdx:n,total:l}){return e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("span",{className:"text-slate-400 text-xs",children:["Showing ",l===0?0:r+1," to ",n," of ",l," entries"]}),e.jsxs("div",{className:"flex gap-1 flex-wrap",children:[e.jsx("button",{type:"button",onClick:()=>s(Math.max(1,t-1)),disabled:t===1,className:"px-2 py-1 border border-slate-200 rounded-lg hover:bg-slate-50 text-xs text-slate-600 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Previous"}),IQ(t,a).map((i,c)=>i==="..."?e.jsx("span",{className:"px-1 text-slate-400 text-xs self-center",children:""},`e${c}`):e.jsx("button",{type:"button",onClick:()=>s(i),className:`px-2 py-1 rounded-lg text-xs transition-all ${t===i?"bg-blue-600 text-white font-semibold":"border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:i},`p${i}`)),e.jsx("button",{type:"button",onClick:()=>s(Math.min(a,t+1)),disabled:t===a||a===0,className:"px-2 py-1 border border-slate-200 rounded-lg hover:bg-slate-50 text-xs text-slate-600 disabled:opacity-40 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})}function eN({title:t,subtitle:a,icon:s,onClose:r,wide:n,extraWide:l,children:i,footer:c,zIndex:u=50}){o.useEffect(()=>{const m=b=>{b.key==="Escape"&&r()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]);const h=l?"max-w-3xl":n?"max-w-2xl":"max-w-md";return Dl.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{zIndex:u},className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md",onClick:r}),e.jsx("div",{style:{zIndex:u+1},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-[0_24px_60px_-8px_rgba(0,0,0,0.22)] w-full ${h} max-h-[88vh] flex flex-col pointer-events-auto overflow-hidden`,onClick:m=>m.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 px-6 pt-5 pb-4 border-b border-slate-100 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s&&e.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600 flex-shrink-0",children:s}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-slate-900 text-base font-semibold tracking-tight leading-tight",children:t}),a&&e.jsx("p",{className:"text-slate-400 text-xs mt-0.5",children:a})]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center rounded-xl text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-all flex-shrink-0",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"px-6 py-5 overflow-y-auto flex-1",children:i}),e.jsx("div",{className:"px-6 py-4 border-t border-slate-100 flex justify-end gap-2.5 flex-shrink-0 bg-slate-50/70",children:c})]})})]}),document.body)}function oi({label:t,required:a,hint:s,children:r}){return e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"block text-xs font-medium text-slate-500",children:[t,a&&e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),r,s&&e.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:s})]})}const Oi="w-full px-3 py-2 border border-slate-200 rounded-xl text-sm text-slate-800 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-400 placeholder-slate-400 transition-all duration-150",t4=`${Oi} cursor-pointer appearance-none bg-[url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%2394a3b8' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E")] bg-[length:14px_14px] bg-[right_10px_center] bg-no-repeat pr-8`;function s4({mode:t,initial:a,onClose:s,onSaved:r}){const[n,l]=o.useState(a?.code??""),[i,c]=o.useState(a?.mailSubject??""),[u,h]=o.useState(a?.mailMessage??""),[m,b]=o.useState(a?.isDefault??!1),[g,w]=o.useState(!1),p=[{label:"Employee Name",tag:"[NAME]"},{label:"Date From",tag:"[DATEFROM]"},{label:"Date To",tag:"[DATETO]"},{label:"Department Code",tag:"[DEPTCODE]"},{label:"Department Description",tag:"[DEPTDESC]"}],v=async()=>{if(!n.trim()||!i.trim()||!u.trim()){await xe.fire({icon:"error",title:"Validation",text:"Code, Subject, and Message are required.",timer:2e3,showConfirmButton:!0});return}try{w(!0);const f={id:a?.id??Date.now(),code:n,mailSubject:i,mailMessage:u,isDefault:m};await xe.fire({icon:"success",title:"Success",text:t==="create"?"Template created.":"Template updated.",timer:1800,showConfirmButton:!1}),r(f),s()}catch(f){console.error(f),await xe.fire({icon:"error",title:"Error",text:"Failed to save template."})}finally{w(!1)}};return e.jsx(eN,{title:t==="create"?"Create Email Template":"Edit Email Template",subtitle:t==="create"?"Add a new reusable message template":`Editing template: ${a?.code}`,icon:e.jsx(tu,{className:"w-4 h-4"}),onClose:s,wide:!0,zIndex:300,footer:e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-slate-200 rounded-xl text-sm text-slate-600 hover:bg-slate-50 font-medium transition-all",children:"Cancel"}),e.jsx("button",{type:"button",onClick:v,disabled:g,className:"px-5 py-2 bg-blue-600 text-white rounded-xl text-sm font-semibold hover:bg-blue-700 disabled:opacity-50 transition-all shadow-sm shadow-blue-200",children:g?"Saving":t==="create"?"Create Template":"Save Changes"})]}),children:e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"space-y-5 flex-1 min-w-0",children:[e.jsx(oi,{label:"Template Code",required:!0,hint:"Max 10 characters. Cannot be changed after creation.",children:e.jsx("input",{type:"text",maxLength:10,value:n,onChange:f=>l(f.target.value),readOnly:t==="edit",placeholder:"e.g. LEAVE_01",className:`${Oi} w-40 ${t==="edit"?"bg-slate-50 cursor-not-allowed text-slate-400":""}`})}),e.jsx(oi,{label:"Mail Subject",required:!0,children:e.jsx("input",{type:"text",value:i,onChange:f=>c(f.target.value),placeholder:"Enter email subject line",className:Oi})}),e.jsx(oi,{label:"Mail Message",required:!0,children:e.jsx("textarea",{value:u,onChange:f=>h(f.target.value),rows:8,placeholder:"Enter the email body. Use variable tags from the panel on the right",className:`${Oi} resize-none leading-relaxed`})}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group py-0.5",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:f=>b(f.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-9 h-5 bg-slate-200 rounded-full peer peer-checked:bg-blue-500 transition-colors duration-200"}),e.jsx("div",{className:"absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full shadow-sm transition-transform duration-200 peer-checked:translate-x-4"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-slate-700",children:"Set as Default"}),e.jsx("p",{className:"text-[11px] text-slate-400 mt-0.5",children:"Pre-selected when composing emails"})]})]})]}),e.jsx("div",{className:"w-44 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-0 bg-gradient-to-b from-blue-50 to-indigo-50/50 rounded-xl border border-blue-100/80 p-4",children:[e.jsx("p",{className:"text-[10px] font-medium text-blue-600 uppercase tracking-[0.15em] mb-3",children:"Variables"}),e.jsx("div",{className:"space-y-3",children:p.map(f=>e.jsxs("div",{children:[e.jsx("p",{className:"text-[11px] text-slate-500 mb-1",children:f.label}),e.jsx("code",{className:"inline-flex items-center font-mono text-blue-700 bg-white border border-blue-200 px-2 py-0.5 rounded-lg text-[11px] shadow-sm",children:f.tag})]},f.tag))}),e.jsx("div",{className:"mt-4 pt-3 border-t border-blue-100",children:e.jsx("p",{className:"text-[11px] text-blue-500/80 leading-relaxed",children:"Paste any tag into your message body."})})]})})]})})}function LQ({onClose:t,onSelectTemplate:a}){const[s,r]=o.useState([]),[n,l]=o.useState(""),[i,c]=o.useState(1),[u,h]=o.useState(null),m=10;o.useEffect(()=>{(async()=>{})()},[]);const b=s.filter(y=>y.code.toLowerCase().includes(n.toLowerCase())||y.mailSubject.toLowerCase().includes(n.toLowerCase())),g=Math.max(1,Math.ceil(b.length/m)),w=(i-1)*m,p=Math.min(w+m,b.length),v=b.slice(w,p),f=y=>r(N=>N.find(S=>S.id===y.id)?N.map(S=>S.id===y.id?y:S):[...N,y]);return e.jsxs(e.Fragment,{children:[u===null&&e.jsxs(eN,{title:"Email Templates",subtitle:"Select or manage your message templates",icon:e.jsx(tu,{className:"w-4 h-4"}),onClose:t,extraWide:!0,zIndex:200,footer:e.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-slate-200 rounded-xl text-sm text-slate-600 hover:bg-slate-50 font-medium transition-all",children:"Close"}),children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-5 pb-5 border-b border-slate-100",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400 pointer-events-none"}),e.jsx("input",{type:"text",value:n,onChange:y=>{l(y.target.value),c(1)},className:"w-full pl-9 pr-4 py-2 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/40 focus:border-blue-400 placeholder-slate-400 transition-all",placeholder:"Search templates"})]}),e.jsxs("button",{type:"button",onClick:()=>h("create"),className:"px-3.5 py-2 bg-blue-600 text-white rounded-xl text-sm font-semibold hover:bg-blue-700 flex items-center gap-1.5 transition-all shadow-sm shadow-blue-200 flex-shrink-0",children:[e.jsx(Es,{className:"w-3.5 h-3.5"}),"Create Template"]})]}),e.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[e.jsx("th",{className:"px-5 py-3.5 text-left text-[10px] font-medium text-slate-400 uppercase tracking-wider w-28",children:"Code"}),e.jsx("th",{className:"px-5 py-3.5 text-left text-[10px] font-medium text-slate-400 uppercase tracking-wider",children:"Mail Subject"}),e.jsx("th",{className:"px-5 py-3.5 text-left text-[10px] font-medium text-slate-400 uppercase tracking-wider",children:"Mail Message"}),e.jsx("th",{className:"px-5 py-3.5 text-left text-[10px] font-medium text-slate-400 uppercase tracking-wider w-24",children:"Default"}),e.jsx("th",{className:"px-5 py-3.5 w-20"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length>0?v.map(y=>e.jsxs("tr",{className:"hover:bg-blue-50/50 cursor-pointer transition-colors group",onClick:()=>{a(y.code),t()},children:[e.jsx("td",{className:"px-5 py-4",children:e.jsx("span",{className:"font-mono text-xs font-medium text-slate-700 bg-slate-100 px-2 py-1 rounded-lg",children:y.code})}),e.jsx("td",{className:"px-5 py-4 text-slate-600 text-sm",children:y.mailSubject}),e.jsx("td",{className:"px-5 py-4 text-slate-400 text-xs max-w-xs",children:e.jsx("span",{className:"line-clamp-2 leading-relaxed",children:y.mailMessage||""})}),e.jsx("td",{className:"px-5 py-4",children:y.isDefault?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-emerald-50 text-emerald-700 rounded-lg text-xs font-medium border border-emerald-100",children:[e.jsx(Xe,{className:"w-3 h-3"})," Default"]}):e.jsx("span",{className:"inline-flex px-2.5 py-1 bg-slate-100 text-slate-400 rounded-lg text-xs",children:""})}),e.jsx("td",{className:"px-5 py-4",onClick:N=>N.stopPropagation(),children:e.jsxs("button",{type:"button",onClick:()=>h(y),className:"flex items-center gap-1 px-2.5 py-1.5 rounded-lg text-xs font-medium text-blue-600 border border-blue-200 bg-white hover:bg-blue-50 transition-all opacity-0 group-hover:opacity-100",children:[e.jsx(Ri,{className:"w-3 h-3"})," Edit"]})})]},y.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"text-center py-16",children:e.jsxs("div",{className:"flex flex-col items-center gap-2.5",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-xl flex items-center justify-center",children:e.jsx(tu,{className:"w-6 h-6 text-slate-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"No templates found"}),e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Create your first template to get started"})]})]})})})})]})}),b.length>0&&e.jsx(MQ,{currentPage:i,totalPages:g,setPage:c,startIdx:w,endIdx:p,total:b.length})]}),u==="create"&&e.jsx(s4,{mode:"create",onClose:()=>h(null),onSaved:f}),u!==null&&u!=="create"&&e.jsx(s4,{mode:"edit",initial:u,onClose:()=>h(null),onSaved:f})]})}function OQ({isOpen:t,onClose:a}){const[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState(""),[S,I]=o.useState(!1);if(!t)return null;const k=()=>I(!0),A=()=>I(!1),F=O=>{r(O),I(!1)};return e.jsxs(e.Fragment,{children:[!S&&e.jsx(eN,{title:"Email Configuration",subtitle:"Configure your SMTP settings and email template",icon:e.jsx(tu,{className:"w-4 h-4"}),onClose:a,extraWide:!0,zIndex:100,footer:e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:a,className:"px-4 py-2 border border-slate-200 rounded-xl text-sm font-medium text-slate-600 hover:bg-slate-50 transition-all",children:"Cancel"}),e.jsx("button",{className:"px-5 py-2 bg-blue-600 text-white rounded-xl text-sm font-semibold hover:bg-blue-700 transition-all shadow-sm shadow-blue-200",children:"Save Configuration"})]}),children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5 space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Email Template"}),e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(oi,{label:"Selected Template",children:e.jsx("input",{type:"text",value:s,readOnly:!0,placeholder:"No template selected  browse to choose one",className:`${Oi} bg-white cursor-not-allowed text-slate-400`})})}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsxs("button",{type:"button",onClick:k,className:"px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm font-semibold text-slate-700 hover:bg-slate-50 hover:border-blue-300 hover:text-blue-600 flex items-center gap-2 transition-all whitespace-nowrap shadow-sm",children:[e.jsx(tu,{className:"w-3.5 h-3.5 text-blue-500"}),"Browse Templates"]}),s&&e.jsx("button",{type:"button",onClick:()=>r(""),title:"Clear selection",className:"p-2.5 bg-white border border-slate-200 rounded-xl hover:bg-red-50 hover:border-red-200 transition-all group shadow-sm",children:e.jsx(ot,{className:"w-3.5 h-3.5 text-slate-400 group-hover:text-red-500 transition-colors"})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5 space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Sender & Server"}),e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(oi,{label:"Email Sender",required:!0,children:e.jsx("input",{type:"email",value:n,onChange:O=>l(O.target.value),placeholder:"sender@company.com",className:Oi})}),e.jsx(oi,{label:"Send Option",children:e.jsxs("select",{value:p,onChange:O=>v(O.target.value),className:t4,children:[e.jsx("option",{value:"",children:" Select option "}),e.jsx("option",{value:"SMTP",children:"SMTP"}),e.jsx("option",{value:"Others",children:"Others"})]})})]}),e.jsx("div",{className:"w-px bg-slate-100 flex-shrink-0 self-stretch"}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(oi,{label:"SMTP Server",required:!0,children:e.jsx("input",{value:i,onChange:O=>c(O.target.value),placeholder:"smtp.company.com",className:Oi})}),e.jsx(oi,{label:"Port",children:e.jsx("input",{value:g,onChange:O=>w(O.target.value),placeholder:"e.g. 587",className:Oi})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-5 space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Security"}),e.jsxs("div",{className:"flex gap-8",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(oi,{label:"Password",required:!0,children:e.jsx("input",{type:"password",value:u,onChange:O=>h(O.target.value),placeholder:"Enter password",className:Oi})}),e.jsx(oi,{label:"Encryption Connection",children:e.jsxs("select",{value:N,onChange:O=>C(O.target.value),className:t4,children:[e.jsx("option",{value:"",children:" Select encryption "}),e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"TLS",children:"TLS"})]})})]}),e.jsx("div",{className:"w-px bg-slate-100 flex-shrink-0 self-stretch"}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx(oi,{label:"Confirm Password",required:!0,children:e.jsx("input",{type:"password",value:m,onChange:O=>b(O.target.value),placeholder:"Re-enter password",className:Oi})}),e.jsx(oi,{label:"Target Name",children:e.jsx("input",{value:f,onChange:O=>y(O.target.value),placeholder:"Optional target name",className:Oi})})]})]})]})]})}),S&&e.jsx(LQ,{onClose:A,onSelectTemplate:F})]})}function _Q(t,a){if(a<=7)return Array.from({length:a},(l,i)=>i+1);const s=[1];t>3&&s.push("...");const r=Math.max(2,t-1),n=Math.min(a-1,t+1);for(let l=r;l<=n;l++)s.push(l);return t<a-2&&s.push("..."),s.push(a),s}function a4({currentPage:t,totalPages:a,setPage:s,startIdx:r,endIdx:n,total:l}){return e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("span",{className:"text-gray-500 text-xs",children:["Showing ",l===0?0:r+1," to ",n," of ",l," entries"]}),e.jsxs("div",{className:"flex gap-1 flex-wrap",children:[e.jsx("button",{type:"button",onClick:()=>s(Math.max(1,t-1)),disabled:t===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),_Q(t,a).map((i,c)=>i==="..."?e.jsx("span",{className:"px-1 text-gray-400 text-xs self-center",children:""},`e${c}`):e.jsx("button",{type:"button",onClick:()=>s(i),className:`px-2 py-1 rounded text-xs ${t===i?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:i},`p${i}`)),e.jsx("button",{type:"button",onClick:()=>s(Math.min(a,t+1)),disabled:t===a||a===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}function BQ(){const t="Timekeep Email Distribution",[a,s]=o.useState([]),[r,n]=o.useState([]),[l,i]=o.useState(""),[c,u]=o.useState(1),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState(""),[v,f]=o.useState(1),[y,N]=o.useState("active"),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState([]),[U,L]=o.useState(!1),G=10;o.useEffect(()=>{(async()=>{try{const le=await z.get("/Fs/Employment/DepartmentSetUp");s(le.data.map(Q=>({id:Q.depID??Q.ID,code:Q.depCode??Q.code,description:Q.depDesc??Q.description})))}catch(le){console.error("Failed to load departments",le)}})()},[]),o.useEffect(()=>{(async()=>{try{const le=await z.get("/Maintenance/EmployeeMasterFile"),Q=Array.isArray(le.data)?le.data:[];m(Q.map(ve=>({id:ve.empID??ve.ID,code:ve.empCode??ve.code??"",name:`${ve.lName??""}, ${ve.fName??""} ${ve.mName??""}`.trim()})))}catch(le){console.error("Failed to load employees",le)}})()},[]);const re=a.filter(oe=>oe.code.toLowerCase().includes(l.toLowerCase())||oe.description.toLowerCase().includes(l.toLowerCase())),ye=h.filter(oe=>oe.code.toLowerCase().includes(w.toLowerCase())||oe.name.toLowerCase().includes(w.toLowerCase())),K=Math.ceil(re.length/G),ne=Math.ceil(ye.length/G),H=(c-1)*G,se=Math.min(H+G,re.length),we=(v-1)*G,Y=Math.min(we+G,ye.length),E=re.slice(H,se),P=ye.slice(we,Y),V=oe=>n(le=>le.includes(oe)?le.filter(Q=>Q!==oe):[...le,oe]),D=oe=>g(le=>le.includes(oe)?le.filter(Q=>Q!==oe):[...le,oe]),R=()=>n(r.length===re.length?[]:re.map(oe=>oe.id)),ee=()=>g(b.length===ye.length?[]:ye.map(oe=>oe.id)),Se=async()=>{try{await xe.fire({icon:"success",title:"Test Email Sent",text:"Test email was sent successfully.",timer:2e3,showConfirmButton:!1})}catch{await xe.fire({icon:"error",title:"Error",text:"Failed to send test email."})}},ue=async()=>{if(!r.length&&!b.length){await xe.fire({icon:"error",title:"Error",text:"Please select department(s) or employee(s).",timer:2e3,showConfirmButton:!0});return}if(!C||!I){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{await xe.fire({icon:"success",title:"Success",text:"Emails sent successfully.",timer:2e3,showConfirmButton:!1}),n([]),g([]),S(""),k("")}catch(oe){console.error(oe)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200",children:e.jsxs("button",{type:"button",className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white -mb-px rounded-t-lg flex items-center gap-2",children:[e.jsx(ia,{className:"w-4 h-4"}),"Department"]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:oe=>{i(oe.target.value),u(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 w-10",children:e.jsx("input",{type:"checkbox",checked:re.length>0&&r.length===re.length,onChange:R,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:E.length>0?E.map(oe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:r.includes(oe.id),onChange:()=>V(oe.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:oe.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:oe.description})]},oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No departments found."})})})]})}),e.jsx(a4,{currentPage:c,totalPages:K,setPage:u,startIdx:H,endIdx:se,total:re.length})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:w,onChange:oe=>{p(oe.target.value),f(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 w-10",children:e.jsx("input",{type:"checkbox",checked:ye.length>0&&b.length===ye.length,onChange:ee,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:P.length>0?P.map(oe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:b.includes(oe.id),onChange:()=>D(oe.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:oe.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:oe.name})]},oe.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No employees found."})})})]})}),e.jsx(a4,{currentPage:v,totalPages:ne,setPage:f,startIdx:we,endIdx:Y,total:ye.length}),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(oe=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:oe,checked:y===oe,onChange:()=>N(oe),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:oe==="inactive"?"In Active":oe.charAt(0).toUpperCase()+oe.slice(1)})]},oe))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Report Options"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 w-28 flex-shrink-0",children:"Report Type:"}),e.jsxs("select",{value:A,onChange:oe=>F(oe.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:[e.jsx("option",{value:"",children:"-- Select --"}),e.jsx("option",{value:"DTR",children:"Daily Time Record"}),e.jsx("option",{value:"ASR",children:"Attendance Summary Report"}),e.jsx("option",{value:"EmplRawInOut",children:"Employee Raw In and Out"})]})]}),e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:C,onChange:oe=>S(oe.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:C,onChange:S})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:I,onChange:oe=>k(oe.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:I,onChange:k})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-1",children:[e.jsxs("button",{type:"button",onClick:()=>L(!0),className:"px-3 py-1.5 bg-white border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-1.5",children:[e.jsx(rx,{className:"w-3.5 h-3.5 text-gray-500"}),"Email Configuration"]}),e.jsxs("button",{type:"button",onClick:Se,className:"px-3 py-1.5 bg-white border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center gap-1.5",children:[e.jsx(HP,{className:"w-3.5 h-3.5 text-gray-500"}),"Test Email Configuration"]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{type:"button",onClick:ue,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(tu,{className:"w-4 h-4"}),"Send Report"]})})]})]})]})]})]})}),e.jsx(ls,{}),e.jsx(OQ,{isOpen:U,onClose:()=>L(!1)})]})}function RQ(){const t="Include Unworked Holiday Pay in the Regular Days/Hours",[a,s]=o.useState("TK Group"),[r,n]=o.useState([]),[l,i]=o.useState([]),[c,u]=o.useState([]),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState([]),[v,f]=o.useState([]),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(1),[U,L]=o.useState(1),G=10,[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState("active");o.useEffect(()=>{M(1),k("")},[a]),o.useEffect(()=>{z.get("/Fs/Process/TimeKeepGroupSetUp").then(B=>n(B.data.map(q=>({id:q.ID||q.id,code:q.groupCode||q.code,description:q.groupDescription||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/BranchSetUp").then(B=>i(B.data.map(q=>({id:q.braID||q.ID,code:q.braCode||q.code,description:q.braDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DepartmentSetUp").then(B=>u(B.data.map(q=>({id:q.depID||q.ID,code:q.depCode||q.code,description:q.depDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DivisionSetUp").then(B=>m(B.data.map(q=>({id:q.divID||q.ID,code:q.divCode||q.code,description:q.divDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/GroupSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];g(q.map(Z=>({id:Z.grpSchID||Z.id||Z.ID,code:Z.grpCode||Z.code,description:Z.grpDesc||Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/PayHouseSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];p(q.map(Z=>({id:Z.lineID??Z.ID??Z.id,code:Z.lineCode??Z.code,description:Z.lineDesc??Z.Description??Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Maintenance/EmployeeMasterFile").then(B=>{const q=Array.isArray(B.data)?B.data:[];f(q.map(Z=>({id:Z.empID??Z.ID??Z.id,code:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim()})))}).catch(console.error)},[]);const E=(()=>{switch(a){case"Branch":return l;case"Department":return c;case"Division":return h;case"Group Schedule":return b;case"Pay House":return w;default:return r}})().filter(B=>B.code.toLowerCase().includes(I.toLowerCase())||B.description.toLowerCase().includes(I.toLowerCase())),P=v.filter(B=>B.code.toLowerCase().includes(A.toLowerCase())||B.name.toLowerCase().includes(A.toLowerCase())),V=Math.ceil(E.length/G),D=(O-1)*G,R=D+G,ee=E.slice(D,R),Se=Math.ceil(P.length/G),ue=(U-1)*G,oe=ue+G,le=P.slice(ue,oe),Q=(B,q)=>{const Z=[];if(q<=7)for(let je=1;je<=q;je++)Z.push(je);else if(B<=4){for(let je=1;je<=5;je++)Z.push(je);Z.push("..."),Z.push(q)}else if(B>=q-3){Z.push(1),Z.push("...");for(let je=q-4;je<=q;je++)Z.push(je)}else{Z.push(1),Z.push("...");for(let je=B-1;je<=B+1;je++)Z.push(je);Z.push("..."),Z.push(q)}return Z},ve=B=>N(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),Ce=B=>S(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),$e=()=>N(y.length===E.length?[]:E.map(B=>B.id)),Ae=()=>S(C.length===P.length?[]:P.map(B=>B.id)),We=async()=>{if(!C.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee(s) to update.",timer:2e3,showConfirmButton:!0});return}if(!re||!K){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{await xe.fire({icon:"success",title:"Success",text:"Successfully updated.",timer:2e3,showConfirmButton:!1}),N([]),S([]),ye(""),ne("")}catch(B){console.error(B),alert("Failed to update records.")}},Re=(B,q,Z,je,De,Qe)=>e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Qe===0?0:je+1," to ",Math.min(De,Qe)," of ",Qe," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Z(Math.max(B-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Q(B,q).map((qe,Ye)=>qe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs self-center",children:"..."},`ellipsis-${Ye}`):e.jsx("button",{onClick:()=>Z(qe),className:`px-2 py-1 rounded text-xs ${B===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>Z(Math.min(B+1,q)),disabled:B===q||q===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),et=[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 relative z-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative z-10",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:et.map(B=>e.jsxs("button",{onClick:()=>s(B.name),className:`px-4 py-2 text-sm flex items-center gap-2 rounded-t-lg transition-colors ${a===B.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(B.icon,{className:"w-4 h-4"}),B.name]},B.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:B=>{k(B.target.value),M(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===E.length&&E.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ee.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ve(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:y.includes(B.id),onChange:()=>ve(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.description})]},B.id)),ee.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(O,V,M,D,R,E.length)]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:B=>{F(B.target.value),L(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===P.length&&P.length>0,onChange:Ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[le.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Ce(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ce(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.name})]},B.id)),le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(U,Se,L,ue,oe,P.length),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(B=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:B,checked:H===B,onChange:()=>se(B),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:B==="inactive"?"In Active":B.charAt(0).toUpperCase()+B.slice(1)})]},B))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:re,onChange:B=>ye(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:re,onChange:ye})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:K,onChange:B=>ne(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:K,onChange:ne})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:We,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),e.jsx(ls,{})]})}function HQ(){const t="ND Basic Round Down",[a,s]=o.useState("TK Group"),[r,n]=o.useState([]),[l,i]=o.useState([]),[c,u]=o.useState([]),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState([]),[v,f]=o.useState([]),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(1),[U,L]=o.useState(1),G=10,[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState("active");o.useEffect(()=>{M(1),k("")},[a]),o.useEffect(()=>{z.get("/Fs/Process/TimeKeepGroupSetUp").then(B=>n(B.data.map(q=>({id:q.ID||q.id,code:q.groupCode||q.code,description:q.groupDescription||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/BranchSetUp").then(B=>i(B.data.map(q=>({id:q.braID||q.ID,code:q.braCode||q.code,description:q.braDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DepartmentSetUp").then(B=>u(B.data.map(q=>({id:q.depID||q.ID,code:q.depCode||q.code,description:q.depDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DivisionSetUp").then(B=>m(B.data.map(q=>({id:q.divID||q.ID,code:q.divCode||q.code,description:q.divDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/GroupSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];g(q.map(Z=>({id:Z.grpSchID||Z.id||Z.ID,code:Z.grpCode||Z.code,description:Z.grpDesc||Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/PayHouseSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];p(q.map(Z=>({id:Z.lineID??Z.ID??Z.id,code:Z.lineCode??Z.code,description:Z.lineDesc??Z.Description??Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Maintenance/EmployeeMasterFile").then(B=>{const q=Array.isArray(B.data)?B.data:[];f(q.map(Z=>({id:Z.empID??Z.ID??Z.id,code:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim()})))}).catch(console.error)},[]);const E=(()=>{switch(a){case"Branch":return l;case"Department":return c;case"Division":return h;case"Group Schedule":return b;case"Pay House":return w;default:return r}})().filter(B=>B.code.toLowerCase().includes(I.toLowerCase())||B.description.toLowerCase().includes(I.toLowerCase())),P=v.filter(B=>B.code.toLowerCase().includes(A.toLowerCase())||B.name.toLowerCase().includes(A.toLowerCase())),V=Math.ceil(E.length/G),D=(O-1)*G,R=D+G,ee=E.slice(D,R),Se=Math.ceil(P.length/G),ue=(U-1)*G,oe=ue+G,le=P.slice(ue,oe),Q=(B,q)=>{const Z=[];if(q<=7)for(let je=1;je<=q;je++)Z.push(je);else if(B<=4){for(let je=1;je<=5;je++)Z.push(je);Z.push("..."),Z.push(q)}else if(B>=q-3){Z.push(1),Z.push("...");for(let je=q-4;je<=q;je++)Z.push(je)}else{Z.push(1),Z.push("...");for(let je=B-1;je<=B+1;je++)Z.push(je);Z.push("..."),Z.push(q)}return Z},ve=B=>N(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),Ce=B=>S(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),$e=()=>N(y.length===E.length?[]:E.map(B=>B.id)),Ae=()=>S(C.length===P.length?[]:P.map(B=>B.id)),We=async()=>{if(!C.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee(s) to update.",timer:2e3,showConfirmButton:!0});return}if(!re||!K){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{await xe.fire({icon:"success",title:"Success",text:"Successfully updated.",timer:2e3,showConfirmButton:!1}),N([]),S([]),ye(""),ne("")}catch(B){console.error(B),alert("Failed to update records.")}},Re=(B,q,Z,je,De,Qe)=>e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Qe===0?0:je+1," to ",Math.min(De,Qe)," of ",Qe," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Z(Math.max(B-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Q(B,q).map((qe,Ye)=>qe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs self-center",children:"..."},`ellipsis-${Ye}`):e.jsx("button",{onClick:()=>Z(qe),className:`px-2 py-1 rounded text-xs ${B===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>Z(Math.min(B+1,q)),disabled:B===q||q===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),et=[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 relative z-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative z-10",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:et.map(B=>e.jsxs("button",{onClick:()=>s(B.name),className:`px-4 py-2 text-sm flex items-center gap-2 rounded-t-lg transition-colors ${a===B.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(B.icon,{className:"w-4 h-4"}),B.name]},B.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:B=>{k(B.target.value),M(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===E.length&&E.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ee.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ve(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:y.includes(B.id),onChange:()=>ve(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.description})]},B.id)),ee.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(O,V,M,D,R,E.length)]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:B=>{F(B.target.value),L(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===P.length&&P.length>0,onChange:Ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[le.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Ce(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ce(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.name})]},B.id)),le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(U,Se,L,ue,oe,P.length),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(B=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:B,checked:H===B,onChange:()=>se(B),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:B==="inactive"?"In Active":B.charAt(0).toUpperCase()+B.slice(1)})]},B))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:re,onChange:B=>ye(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:re,onChange:ye})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:K,onChange:B=>ne(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:K,onChange:ne})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:We,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),e.jsx(ls,{})]})}function UQ(){const t="Saturday Unworked Considered as Paid Regular Hours",[a,s]=o.useState("TK Group"),[r,n]=o.useState([]),[l,i]=o.useState([]),[c,u]=o.useState([]),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState([]),[v,f]=o.useState([]),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(1),[U,L]=o.useState(1),G=10,[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState("active");o.useEffect(()=>{M(1),k("")},[a]),o.useEffect(()=>{z.get("/Fs/Process/TimeKeepGroupSetUp").then(B=>n(B.data.map(q=>({id:q.ID||q.id,code:q.groupCode||q.code,description:q.groupDescription||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/BranchSetUp").then(B=>i(B.data.map(q=>({id:q.braID||q.ID,code:q.braCode||q.code,description:q.braDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DepartmentSetUp").then(B=>u(B.data.map(q=>({id:q.depID||q.ID,code:q.depCode||q.code,description:q.depDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DivisionSetUp").then(B=>m(B.data.map(q=>({id:q.divID||q.ID,code:q.divCode||q.code,description:q.divDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/GroupSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];g(q.map(Z=>({id:Z.grpSchID||Z.id||Z.ID,code:Z.grpCode||Z.code,description:Z.grpDesc||Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/PayHouseSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];p(q.map(Z=>({id:Z.lineID??Z.ID??Z.id,code:Z.lineCode??Z.code,description:Z.lineDesc??Z.Description??Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Maintenance/EmployeeMasterFile").then(B=>{const q=Array.isArray(B.data)?B.data:[];f(q.map(Z=>({id:Z.empID??Z.ID??Z.id,code:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim()})))}).catch(console.error)},[]);const E=(()=>{switch(a){case"Branch":return l;case"Department":return c;case"Division":return h;case"Group Schedule":return b;case"Pay House":return w;default:return r}})().filter(B=>B.code.toLowerCase().includes(I.toLowerCase())||B.description.toLowerCase().includes(I.toLowerCase())),P=v.filter(B=>B.code.toLowerCase().includes(A.toLowerCase())||B.name.toLowerCase().includes(A.toLowerCase())),V=Math.ceil(E.length/G),D=(O-1)*G,R=D+G,ee=E.slice(D,R),Se=Math.ceil(P.length/G),ue=(U-1)*G,oe=ue+G,le=P.slice(ue,oe),Q=(B,q)=>{const Z=[];if(q<=7)for(let je=1;je<=q;je++)Z.push(je);else if(B<=4){for(let je=1;je<=5;je++)Z.push(je);Z.push("..."),Z.push(q)}else if(B>=q-3){Z.push(1),Z.push("...");for(let je=q-4;je<=q;je++)Z.push(je)}else{Z.push(1),Z.push("...");for(let je=B-1;je<=B+1;je++)Z.push(je);Z.push("..."),Z.push(q)}return Z},ve=B=>N(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),Ce=B=>S(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),$e=()=>N(y.length===E.length?[]:E.map(B=>B.id)),Ae=()=>S(C.length===P.length?[]:P.map(B=>B.id)),We=async()=>{if(!C.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee(s) to update.",timer:2e3,showConfirmButton:!0});return}if(!re||!K){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{await xe.fire({icon:"success",title:"Success",text:"Successfully updated.",timer:2e3,showConfirmButton:!1}),N([]),S([]),ye(""),ne("")}catch(B){console.error(B),alert("Failed to update records.")}},Re=(B,q,Z,je,De,Qe)=>e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Qe===0?0:je+1," to ",Math.min(De,Qe)," of ",Qe," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Z(Math.max(B-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Q(B,q).map((qe,Ye)=>qe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs self-center",children:"..."},`ellipsis-${Ye}`):e.jsx("button",{onClick:()=>Z(qe),className:`px-2 py-1 rounded text-xs ${B===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>Z(Math.min(B+1,q)),disabled:B===q||q===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),et=[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 relative z-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative z-10",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:et.map(B=>e.jsxs("button",{onClick:()=>s(B.name),className:`px-4 py-2 text-sm flex items-center gap-2 rounded-t-lg transition-colors ${a===B.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(B.icon,{className:"w-4 h-4"}),B.name]},B.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:B=>{k(B.target.value),M(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===E.length&&E.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ee.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ve(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:y.includes(B.id),onChange:()=>ve(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.description})]},B.id)),ee.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(O,V,M,D,R,E.length)]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:B=>{F(B.target.value),L(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===P.length&&P.length>0,onChange:Ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[le.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Ce(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ce(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.name})]},B.id)),le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(U,Se,L,ue,oe,P.length),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(B=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:B,checked:H===B,onChange:()=>se(B),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:B==="inactive"?"In Active":B.charAt(0).toUpperCase()+B.slice(1)})]},B))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:re,onChange:B=>ye(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:re,onChange:ye})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:K,onChange:B=>ne(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:K,onChange:ne})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:We,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),e.jsx(ls,{})]})}function $Q(){const t="Sunday Work is Considered OT if Worked on Saturday",[a,s]=o.useState("TK Group"),[r,n]=o.useState([]),[l,i]=o.useState([]),[c,u]=o.useState([]),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState([]),[v,f]=o.useState([]),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(1),[U,L]=o.useState(1),G=10,[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState("active");o.useEffect(()=>{M(1),k("")},[a]),o.useEffect(()=>{z.get("/Fs/Process/TimeKeepGroupSetUp").then(B=>n(B.data.map(q=>({id:q.ID||q.id,code:q.groupCode||q.code,description:q.groupDescription||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/BranchSetUp").then(B=>i(B.data.map(q=>({id:q.braID||q.ID,code:q.braCode||q.code,description:q.braDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DepartmentSetUp").then(B=>u(B.data.map(q=>({id:q.depID||q.ID,code:q.depCode||q.code,description:q.depDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DivisionSetUp").then(B=>m(B.data.map(q=>({id:q.divID||q.ID,code:q.divCode||q.code,description:q.divDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/GroupSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];g(q.map(Z=>({id:Z.grpSchID||Z.id||Z.ID,code:Z.grpCode||Z.code,description:Z.grpDesc||Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/PayHouseSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];p(q.map(Z=>({id:Z.lineID??Z.ID??Z.id,code:Z.lineCode??Z.code,description:Z.lineDesc??Z.Description??Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Maintenance/EmployeeMasterFile").then(B=>{const q=Array.isArray(B.data)?B.data:[];f(q.map(Z=>({id:Z.empID??Z.ID??Z.id,code:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim()})))}).catch(console.error)},[]);const E=(()=>{switch(a){case"Branch":return l;case"Department":return c;case"Division":return h;case"Group Schedule":return b;case"Pay House":return w;default:return r}})().filter(B=>B.code.toLowerCase().includes(I.toLowerCase())||B.description.toLowerCase().includes(I.toLowerCase())),P=v.filter(B=>B.code.toLowerCase().includes(A.toLowerCase())||B.name.toLowerCase().includes(A.toLowerCase())),V=Math.ceil(E.length/G),D=(O-1)*G,R=D+G,ee=E.slice(D,R),Se=Math.ceil(P.length/G),ue=(U-1)*G,oe=ue+G,le=P.slice(ue,oe),Q=(B,q)=>{const Z=[];if(q<=7)for(let je=1;je<=q;je++)Z.push(je);else if(B<=4){for(let je=1;je<=5;je++)Z.push(je);Z.push("..."),Z.push(q)}else if(B>=q-3){Z.push(1),Z.push("...");for(let je=q-4;je<=q;je++)Z.push(je)}else{Z.push(1),Z.push("...");for(let je=B-1;je<=B+1;je++)Z.push(je);Z.push("..."),Z.push(q)}return Z},ve=B=>N(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),Ce=B=>S(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),$e=()=>N(y.length===E.length?[]:E.map(B=>B.id)),Ae=()=>S(C.length===P.length?[]:P.map(B=>B.id)),We=async()=>{if(!C.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee(s) to update.",timer:2e3,showConfirmButton:!0});return}if(!re||!K){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}try{await xe.fire({icon:"success",title:"Success",text:"Successfully updated.",timer:2e3,showConfirmButton:!1}),N([]),S([]),ye(""),ne("")}catch(B){console.error(B),alert("Failed to update records.")}},Re=(B,q,Z,je,De,Qe)=>e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Qe===0?0:je+1," to ",Math.min(De,Qe)," of ",Qe," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Z(Math.max(B-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Q(B,q).map((qe,Ye)=>qe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs self-center",children:"..."},`ellipsis-${Ye}`):e.jsx("button",{onClick:()=>Z(qe),className:`px-2 py-1 rounded text-xs ${B===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>Z(Math.min(B+1,q)),disabled:B===q||q===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),et=[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 relative z-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative z-10",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:et.map(B=>e.jsxs("button",{onClick:()=>s(B.name),className:`px-4 py-2 text-sm flex items-center gap-2 rounded-t-lg transition-colors ${a===B.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(B.icon,{className:"w-4 h-4"}),B.name]},B.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:B=>{k(B.target.value),M(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===E.length&&E.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ee.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ve(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:y.includes(B.id),onChange:()=>ve(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.description})]},B.id)),ee.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(O,V,M,D,R,E.length)]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:B=>{F(B.target.value),L(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===P.length&&P.length>0,onChange:Ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[le.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Ce(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ce(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.name})]},B.id)),le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(U,Se,L,ue,oe,P.length),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(B=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:B,checked:H===B,onChange:()=>se(B),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:B==="inactive"?"In Active":B.charAt(0).toUpperCase()+B.slice(1)})]},B))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:re,onChange:B=>ye(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:re,onChange:ye})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:K,onChange:B=>ne(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:K,onChange:ne})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:We,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),e.jsx(ls,{})]})}function WQ(){const t="Unpost 2 Shifts In A Day Transaction",[a,s]=o.useState("TK Group"),[r,n]=o.useState([]),[l,i]=o.useState([]),[c,u]=o.useState([]),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState([]),[v,f]=o.useState([]),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(1),[U,L]=o.useState(1),G=10,[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState("active"),[we,Y]=o.useState({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,selectAll:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1}),E=()=>{Y({tardiness:!1,otherEarnings:!1,noOfDaysWork:!1,undertime:!1,overtime:!1,leaveAndAbsences:!1,lateFiling:!1,selectAll:!1})},P=De=>{if(De==="selectAll"){const Qe=!we.selectAll;Y({tardiness:Qe,otherEarnings:Qe,noOfDaysWork:Qe,selectAll:Qe,undertime:Qe,overtime:Qe,leaveAndAbsences:Qe,lateFiling:Qe})}else Y(Qe=>({...Qe,[De]:!Qe[De]}))};o.useEffect(()=>{M(1),k("")},[a]),o.useEffect(()=>{z.get("/Fs/Process/TimeKeepGroupSetUp").then(De=>n(De.data.map(Qe=>({id:Qe.ID||Qe.id,code:Qe.groupCode||Qe.code,description:Qe.groupDescription||Qe.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/BranchSetUp").then(De=>i(De.data.map(Qe=>({id:Qe.braID||Qe.ID,code:Qe.braCode||Qe.code,description:Qe.braDesc||Qe.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DepartmentSetUp").then(De=>u(De.data.map(Qe=>({id:Qe.depID||Qe.ID,code:Qe.depCode||Qe.code,description:Qe.depDesc||Qe.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DivisionSetUp").then(De=>m(De.data.map(Qe=>({id:Qe.divID||Qe.ID,code:Qe.divCode||Qe.code,description:Qe.divDesc||Qe.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/GroupSetUp").then(De=>{const Qe=Array.isArray(De.data)?De.data:[];g(Qe.map(qe=>({id:qe.grpSchID||qe.id||qe.ID,code:qe.grpCode||qe.code,description:qe.grpDesc||qe.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/PayHouseSetUp").then(De=>{const Qe=Array.isArray(De.data)?De.data:[];p(Qe.map(qe=>({id:qe.lineID??qe.ID??qe.id,code:qe.lineCode??qe.code,description:qe.lineDesc??qe.Description??qe.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Maintenance/EmployeeMasterFile").then(De=>{const Qe=Array.isArray(De.data)?De.data:[];f(Qe.map(qe=>({id:qe.empID??qe.ID??qe.id,code:qe.empCode||qe.code||"",name:`${qe.lName||""}, ${qe.fName||""} ${qe.mName||""}`.trim()})))}).catch(console.error)},[]);const R=(()=>{switch(a){case"Branch":return l;case"Department":return c;case"Division":return h;case"Group Schedule":return b;case"Pay House":return w;default:return r}})().filter(De=>De.code.toLowerCase().includes(I.toLowerCase())||De.description.toLowerCase().includes(I.toLowerCase())),ee=v.filter(De=>De.code.toLowerCase().includes(A.toLowerCase())||De.name.toLowerCase().includes(A.toLowerCase())),Se=Math.ceil(R.length/G),ue=(O-1)*G,oe=ue+G,le=R.slice(ue,oe),Q=Math.ceil(ee.length/G),ve=(U-1)*G,Ce=ve+G,$e=ee.slice(ve,Ce),Ae=(De,Qe)=>{const qe=[];if(Qe<=7)for(let Ye=1;Ye<=Qe;Ye++)qe.push(Ye);else if(De<=4){for(let Ye=1;Ye<=5;Ye++)qe.push(Ye);qe.push("..."),qe.push(Qe)}else if(De>=Qe-3){qe.push(1),qe.push("...");for(let Ye=Qe-4;Ye<=Qe;Ye++)qe.push(Ye)}else{qe.push(1),qe.push("...");for(let Ye=De-1;Ye<=De+1;Ye++)qe.push(Ye);qe.push("..."),qe.push(Qe)}return qe},We=De=>N(Qe=>Qe.includes(De)?Qe.filter(qe=>qe!==De):[...Qe,De]),Re=De=>S(Qe=>Qe.includes(De)?Qe.filter(qe=>qe!==De):[...Qe,De]),et=()=>N(y.length===R.length?[]:R.map(De=>De.id)),B=()=>S(C.length===ee.length?[]:ee.map(De=>De.id)),q=async()=>{if(!C.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee(s) to update.",timer:2e3,showConfirmButton:!0});return}if(!re||!K){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if(!Object.values(we).some(Boolean)){await xe.fire({icon:"error",title:"Error",text:"Please check at least 1 option to update.",timer:2e3,showConfirmButton:!0});return}try{await xe.fire({icon:"success",title:"Success",text:"Successfully updated.",timer:2e3,showConfirmButton:!1}),N([]),S([]),ye(""),ne(""),E()}catch(Qe){console.error(Qe),alert("Failed to update records.")}},Z=(De,Qe,qe,Ye,ht,St)=>e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",St===0?0:Ye+1," to ",Math.min(ht,St)," of ",St," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>qe(Math.max(De-1,1)),disabled:De===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ae(De,Qe).map((dt,Et)=>dt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs self-center",children:"..."},`ellipsis-${Et}`):e.jsx("button",{onClick:()=>qe(dt),className:`px-2 py-1 rounded text-xs ${De===dt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:dt},dt)),e.jsx("button",{onClick:()=>qe(Math.min(De+1,Qe)),disabled:De===Qe||Qe===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),je=[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 relative z-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative z-10",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:je.map(De=>e.jsxs("button",{onClick:()=>s(De.name),className:`px-4 py-2 text-sm flex items-center gap-2 rounded-t-lg transition-colors ${a===De.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(De.icon,{className:"w-4 h-4"}),De.name]},De.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:De=>{k(De.target.value),M(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===R.length&&R.length>0,onChange:et,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[le.map(De=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>We(De.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:Qe=>Qe.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:y.includes(De.id),onChange:()=>We(De.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:De.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:De.description})]},De.id)),le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Z(O,Se,M,ue,oe,R.length)]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:De=>{F(De.target.value),L(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===ee.length&&ee.length>0,onChange:B,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[$e.map(De=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Re(De.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:Qe=>Qe.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:C.includes(De.id),onChange:()=>Re(De.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:De.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:De.name})]},De.id)),$e.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Z(U,Q,L,ve,Ce,ee.length),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(De=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:De,checked:H===De,onChange:()=>se(De),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:De==="inactive"?"In Active":De.charAt(0).toUpperCase()+De.slice(1)})]},De))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:re,onChange:De=>ye(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:re,onChange:ye})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:K,onChange:De=>ne(De.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:K,onChange:ne})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.tardiness,onChange:()=>P("tardiness"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.otherEarnings,onChange:()=>P("otherEarnings"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Other Earnings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.noOfDaysWork,onChange:()=>P("noOfDaysWork"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No. Of Days Work"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.selectAll,onChange:()=>P("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.undertime,onChange:()=>P("undertime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.overtime,onChange:()=>P("overtime"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.leaveAndAbsences,onChange:()=>P("leaveAndAbsences"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave and Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:we.lateFiling,onChange:()=>P("lateFiling"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Late Filing"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",onClick:q,children:[e.jsx(Xr,{className:"w-4 h-4"}),"Update"]})})]})]})]})]})]})}),e.jsx(ls,{})]})}function GQ(){const t="Delete Incomplete Logs 2 Shifts In A Day",[a,s]=o.useState("TK Group"),[r,n]=o.useState([]),[l,i]=o.useState([]),[c,u]=o.useState([]),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState([]),[v,f]=o.useState([]),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(1),[U,L]=o.useState(1),G=10,[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState("active");o.useEffect(()=>{M(1),k("")},[a]),o.useEffect(()=>{z.get("/Fs/Process/TimeKeepGroupSetUp").then(B=>n(B.data.map(q=>({id:q.ID||q.id,code:q.groupCode||q.code,description:q.groupDescription||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/BranchSetUp").then(B=>i(B.data.map(q=>({id:q.braID||q.ID,code:q.braCode||q.code,description:q.braDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DepartmentSetUp").then(B=>u(B.data.map(q=>({id:q.depID||q.ID,code:q.depCode||q.code,description:q.depDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DivisionSetUp").then(B=>m(B.data.map(q=>({id:q.divID||q.ID,code:q.divCode||q.code,description:q.divDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/GroupSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];g(q.map(Z=>({id:Z.grpSchID||Z.id||Z.ID,code:Z.grpCode||Z.code,description:Z.grpDesc||Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/PayHouseSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];p(q.map(Z=>({id:Z.lineID??Z.ID??Z.id,code:Z.lineCode??Z.code,description:Z.lineDesc??Z.Description??Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Maintenance/EmployeeMasterFile").then(B=>{const q=Array.isArray(B.data)?B.data:[];f(q.map(Z=>({id:Z.empID??Z.ID??Z.id,code:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim()})))}).catch(console.error)},[]);const E=(()=>{switch(a){case"Branch":return l;case"Department":return c;case"Division":return h;case"Group Schedule":return b;case"Pay House":return w;default:return r}})().filter(B=>B.code.toLowerCase().includes(I.toLowerCase())||B.description.toLowerCase().includes(I.toLowerCase())),P=v.filter(B=>B.code.toLowerCase().includes(A.toLowerCase())||B.name.toLowerCase().includes(A.toLowerCase())),V=Math.ceil(E.length/G),D=(O-1)*G,R=D+G,ee=E.slice(D,R),Se=Math.ceil(P.length/G),ue=(U-1)*G,oe=ue+G,le=P.slice(ue,oe),Q=(B,q)=>{const Z=[];if(q<=7)for(let je=1;je<=q;je++)Z.push(je);else if(B<=4){for(let je=1;je<=5;je++)Z.push(je);Z.push("..."),Z.push(q)}else if(B>=q-3){Z.push(1),Z.push("...");for(let je=q-4;je<=q;je++)Z.push(je)}else{Z.push(1),Z.push("...");for(let je=B-1;je<=B+1;je++)Z.push(je);Z.push("..."),Z.push(q)}return Z},ve=B=>N(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),Ce=B=>S(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),$e=()=>N(y.length===E.length?[]:E.map(B=>B.id)),Ae=()=>S(C.length===P.length?[]:P.map(B=>B.id)),We=async()=>{if(!C.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee(s) to delete.",timer:2e3,showConfirmButton:!0});return}if(!re||!K){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await xe.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete the selected records? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await xe.fire({icon:"success",title:"Deleted",text:"Records successfully deleted.",timer:2e3,showConfirmButton:!1}),N([]),S([]),ye(""),ne("")}catch(q){console.error(q),alert("Failed to delete records.")}},Re=(B,q,Z,je,De,Qe)=>e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Qe===0?0:je+1," to ",Math.min(De,Qe)," of ",Qe," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Z(Math.max(B-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Q(B,q).map((qe,Ye)=>qe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs self-center",children:"..."},`ellipsis-${Ye}`):e.jsx("button",{onClick:()=>Z(qe),className:`px-2 py-1 rounded text-xs ${B===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>Z(Math.min(B+1,q)),disabled:B===q||q===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),et=[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 relative z-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative z-10",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:et.map(B=>e.jsxs("button",{onClick:()=>s(B.name),className:`px-4 py-2 text-sm flex items-center gap-2 rounded-t-lg transition-colors ${a===B.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(B.icon,{className:"w-4 h-4"}),B.name]},B.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:B=>{k(B.target.value),M(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===E.length&&E.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ee.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ve(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:y.includes(B.id),onChange:()=>ve(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.description})]},B.id)),ee.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(O,V,M,D,R,E.length)]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:B=>{F(B.target.value),L(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===P.length&&P.length>0,onChange:Ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[le.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Ce(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ce(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.name})]},B.id)),le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(U,Se,L,ue,oe,P.length),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(B=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:B,checked:H===B,onChange:()=>se(B),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:B==="inactive"?"In Active":B.charAt(0).toUpperCase()+B.slice(1)})]},B))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:re,onChange:B=>ye(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:re,onChange:ye})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:K,onChange:B=>ne(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:K,onChange:ne})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:We,children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})})]})]})]})]})]})}),e.jsx(ls,{})]})}function zQ(){const t="Delete Records In Raw Data 2 Shifts In A Day",[a,s]=o.useState("TK Group"),[r,n]=o.useState([]),[l,i]=o.useState([]),[c,u]=o.useState([]),[h,m]=o.useState([]),[b,g]=o.useState([]),[w,p]=o.useState([]),[v,f]=o.useState([]),[y,N]=o.useState([]),[C,S]=o.useState([]),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(1),[U,L]=o.useState(1),G=10,[re,ye]=o.useState(""),[K,ne]=o.useState(""),[H,se]=o.useState("active");o.useEffect(()=>{M(1),k("")},[a]),o.useEffect(()=>{z.get("/Fs/Process/TimeKeepGroupSetUp").then(B=>n(B.data.map(q=>({id:q.ID||q.id,code:q.groupCode||q.code,description:q.groupDescription||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/BranchSetUp").then(B=>i(B.data.map(q=>({id:q.braID||q.ID,code:q.braCode||q.code,description:q.braDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DepartmentSetUp").then(B=>u(B.data.map(q=>({id:q.depID||q.ID,code:q.depCode||q.code,description:q.depDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/DivisionSetUp").then(B=>m(B.data.map(q=>({id:q.divID||q.ID,code:q.divCode||q.code,description:q.divDesc||q.description})))).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/GroupSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];g(q.map(Z=>({id:Z.grpSchID||Z.id||Z.ID,code:Z.grpCode||Z.code,description:Z.grpDesc||Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Fs/Employment/PayHouseSetUp").then(B=>{const q=Array.isArray(B.data)?B.data:[];p(q.map(Z=>({id:Z.lineID??Z.ID??Z.id,code:Z.lineCode??Z.code,description:Z.lineDesc??Z.Description??Z.description})))}).catch(console.error)},[]),o.useEffect(()=>{z.get("/Maintenance/EmployeeMasterFile").then(B=>{const q=Array.isArray(B.data)?B.data:[];f(q.map(Z=>({id:Z.empID??Z.ID??Z.id,code:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim()})))}).catch(console.error)},[]);const E=(()=>{switch(a){case"Branch":return l;case"Department":return c;case"Division":return h;case"Group Schedule":return b;case"Pay House":return w;default:return r}})().filter(B=>B.code.toLowerCase().includes(I.toLowerCase())||B.description.toLowerCase().includes(I.toLowerCase())),P=v.filter(B=>B.code.toLowerCase().includes(A.toLowerCase())||B.name.toLowerCase().includes(A.toLowerCase())),V=Math.ceil(E.length/G),D=(O-1)*G,R=D+G,ee=E.slice(D,R),Se=Math.ceil(P.length/G),ue=(U-1)*G,oe=ue+G,le=P.slice(ue,oe),Q=(B,q)=>{const Z=[];if(q<=7)for(let je=1;je<=q;je++)Z.push(je);else if(B<=4){for(let je=1;je<=5;je++)Z.push(je);Z.push("..."),Z.push(q)}else if(B>=q-3){Z.push(1),Z.push("...");for(let je=q-4;je<=q;je++)Z.push(je)}else{Z.push(1),Z.push("...");for(let je=B-1;je<=B+1;je++)Z.push(je);Z.push("..."),Z.push(q)}return Z},ve=B=>N(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),Ce=B=>S(q=>q.includes(B)?q.filter(Z=>Z!==B):[...q,B]),$e=()=>N(y.length===E.length?[]:E.map(B=>B.id)),Ae=()=>S(C.length===P.length?[]:P.map(B=>B.id)),We=async()=>{if(!C.length){await xe.fire({icon:"error",title:"Error",text:"Please select employee(s) to delete.",timer:2e3,showConfirmButton:!0});return}if(!re||!K){await xe.fire({icon:"error",title:"Error",text:"Please select Date From and Date To.",timer:2e3,showConfirmButton:!0});return}if((await xe.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete the selected records? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#dc2626",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await xe.fire({icon:"success",title:"Deleted",text:"Records successfully deleted.",timer:2e3,showConfirmButton:!1}),N([]),S([]),ye(""),ne("")}catch(q){console.error(q),alert("Failed to delete records.")}},Re=(B,q,Z,je,De,Qe)=>e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Qe===0?0:je+1," to ",Math.min(De,Qe)," of ",Qe," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Z(Math.max(B-1,1)),disabled:B===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Q(B,q).map((qe,Ye)=>qe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs self-center",children:"..."},`ellipsis-${Ye}`):e.jsx("button",{onClick:()=>Z(qe),className:`px-2 py-1 rounded text-xs ${B===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>Z(Math.min(B+1,q)),disabled:B===q||q===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),et=[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca}];return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6 relative z-0",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:t})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative z-10",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:et.map(B=>e.jsxs("button",{onClick:()=>s(B.name),className:`px-4 py-2 text-sm flex items-center gap-2 rounded-t-lg transition-colors ${a===B.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(B.icon,{className:"w-4 h-4"}),B.name]},B.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:I,onChange:B=>{k(B.target.value),M(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:y.length===E.length&&E.length>0,onChange:$e,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[ee.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>ve(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:y.includes(B.id),onChange:()=>ve(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.description})]},B.id)),ee.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(O,V,M,D,R,E.length)]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:A,onChange:B=>{F(B.target.value),L(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:C.length===P.length&&P.length>0,onChange:Ae,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[le.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>Ce(B.id),children:[e.jsx("td",{className:"px-4 py-2",onClick:q=>q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:C.includes(B.id),onChange:()=>Ce(B.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:B.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:B.name})]},B.id)),le.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found"})})]})]})}),Re(U,Se,L,ue,oe,P.length),e.jsx("div",{className:"mt-4 flex items-center gap-6",children:["active","inactive","all"].map(B=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:B,checked:H===B,onChange:()=>se(B),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:B==="inactive"?"In Active":B.charAt(0).toUpperCase()+B.slice(1)})]},B))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h2",{className:"text-gray-700 mb-4",children:"Date Range"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:re,onChange:B=>ye(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:re,onChange:ye})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),e.jsx("input",{placeholder:"MM/DD/YY",type:"text",value:K,onChange:B=>ne(B.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx(ys,{date:K,onChange:ne})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 mt-4 space-y-3",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 flex-shrink-0 mt-0.5",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-red-700 mb-1",children:"Note"}),e.jsxs("p",{className:"text-xs text-red-600 leading-relaxed",children:["This process assumes that you really don't need the data in"," ",e.jsx("strong",{children:"RAW DATA"}),". You will ",e.jsx("strong",{children:"not"})," be able to"," ",e.jsx("strong",{children:"UNDO"})," the deletion after doing this process. You should re-import again the DTR files."]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",onClick:We,children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]})})]})]})]})]})]})]})}),e.jsx(ls,{})]})}function VQ(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,c]=o.useState("7/7/2021"),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(!1),[f,y]=o.useState("tardiness"),N=o.useRef(null),[C,S]=o.useState(1),I=50,[k,A]=o.useState(""),[F,O]=o.useState(""),[M,U]=o.useState([]),[L,G]=o.useState([]),[re,ye]=o.useState(1),[K,ne]=o.useState(1),H=10,[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(!1),[D,R]=o.useState(null),[ee,Se]=o.useState(null),[ue,oe]=o.useState({tardiness:!1,allowances:!1,undertime:!1,overtime:!1,selectAll:!1,leaveAbsences:!1,nightDifferentials:!1,regularWorking:!1,holidayPay:!1});o.useEffect(()=>{ye(1)},[t]);const[le,Q]=o.useState([]),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState([]),[We,Re]=o.useState([]),[et,B]=o.useState([]),[q,Z]=o.useState([]),[je,De]=o.useState([]),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState([]),St=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Be=>({id:Be.ID||Be.id,code:Be.groupCode||Be.code,description:Be.groupDescription||Be.description})),dt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Be=>({id:Be.braID||Be.ID,code:Be.braCode||Be.code,description:Be.braDesc||Be.description})),Et=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Be=>({id:Be.depID||Be.ID,code:Be.depCode||Be.code,description:Be.depDesc||Be.description})),Te=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Be=>({id:Be.divID||Be.ID,code:Be.divCode||Be.code,description:Be.divDesc||Be.description})),Ee=async()=>{const W=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.grpSchID||rt.id||rt.ID,code:rt.grpCode||rt.code,description:rt.grpDesc||rt.description}))},pe=async()=>{const W=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.lineID??rt.ID??rt.id,code:rt.lineCode??rt.code,description:rt.lineDesc??rt.Description??rt.description}))},Je=async()=>{const W=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.secID??rt.ID??rt.id,code:rt.secCode??rt.sectionCode??rt.code,description:rt.secDesc??rt.Description??rt.description}))},pt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Be=>({id:Be.unitID||Be.ID,code:Be.unitCode||Be.code,description:Be.unitDesc||Be.description})),Mt=async()=>{const W=await z.get("/Maintenance/EmployeeMasterFile");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.empID??rt.ID??rt.id,code:rt.empCode||rt.code||"",name:`${rt.lName||""}, ${rt.fName||""} ${rt.mName||""}`.trim(),tkGroup:rt.tkGroup??rt.tKGroup??rt.groupCode??rt.tkGroupCode??"",branchCode:rt.braCode??rt.branchCode??rt.branch??"",departmentCode:rt.depCode??rt.departmentCode??rt.department??"",divisionCode:rt.divCode??rt.divisionCode??rt.division??"",groupScheduleCode:rt.grpCode??rt.groupSchedule??rt.grpSchCode??"",payHouseCode:rt.lineCode??rt.payCode??rt.payHouseCode??rt.payHouse??"",sectionCode:rt.secCode??rt.sectionCode??rt.section??"",unitCode:rt.unitCode??rt.unit??""}))};o.useEffect(()=>{St().then(Q)},[]),o.useEffect(()=>{dt().then(Ce)},[]),o.useEffect(()=>{Et().then(Ae)},[]),o.useEffect(()=>{Te().then(Re)},[]),o.useEffect(()=>{Ee().then(B)},[]),o.useEffect(()=>{pe().then(Z)},[]),o.useEffect(()=>{Je().then(De)},[]),o.useEffect(()=>{pt().then(qe)},[]),o.useEffect(()=>{Mt().then(ht)},[]);const $t=(()=>{switch(t){case"Branch":return ve;case"Department":return $e;case"Division":return We;case"Group Schedule":return et;case"Pay House":return q;case"Section":return je;case"Unit":return Qe;default:return le}})(),lt=()=>{switch(t){case"TK Group":return"TK Group Selection";case"Branch":return"Branch Selection";case"Department":return"Department Selection";case"Division":return"Division Selection";case"Group Schedule":return"Group Schedule Selection";case"Pay House":return"Pay House Selection";case"Section":return"Section Selection";case"Unit":return"Unit Selection";default:return"Selection"}},bt=$t.filter(W=>W.code.toLowerCase().includes(k.toLowerCase())||W.description.toLowerCase().includes(k.toLowerCase())),Nt=()=>{switch(t){case"TK Group":return"tkGroup";case"Branch":return"branchCode";case"Department":return"departmentCode";case"Division":return"divisionCode";case"Group Schedule":return"groupScheduleCode";case"Pay House":return"payHouseCode";case"Section":return"sectionCode";case"Unit":return"unitCode";default:return null}},wt=new Set($t.filter(W=>M.includes(W.id)).map(W=>W.code.trim().toLowerCase())),It=Ye.filter(W=>{if(!(W.code.toLowerCase().includes(F.toLowerCase())||W.name.toLowerCase().includes(F.toLowerCase())))return!1;if(wt.size===0)return!0;const rt=Nt();if(!rt)return!0;const ns=W[rt]?.trim().toLowerCase()??"";return wt.has(ns)}),Dt=Math.ceil(bt.length/H),Ke=(re-1)*H,tt=Ke+H,Le=bt.slice(Ke,tt),He=()=>{const W=[];if(Dt<=7)for(let Be=1;Be<=Dt;Be++)W.push(Be);else if(re<=4){for(let Be=1;Be<=5;Be++)W.push(Be);W.push("..."),W.push(Dt)}else if(re>=Dt-3){W.push(1),W.push("...");for(let Be=Dt-4;Be<=Dt;Be++)W.push(Be)}else{W.push(1),W.push("...");for(let Be=re-1;Be<=re+1;Be++)W.push(Be);W.push("..."),W.push(Dt)}return W},ge=Math.ceil(It.length/H),st=(K-1)*H,Ze=st+H,Rt=It.slice(st,Ze),ft=()=>{const W=[];if(ge<=5)return Array.from({length:ge},(ns,ps)=>ps+1);W.push(1),K>3&&W.push("...");const Be=Math.max(2,K-1),rt=Math.min(ge-1,K+1);for(let ns=Be;ns<=rt;ns++)W.push(ns);return K<ge-2&&W.push("..."),W.push(ge),W},kt=W=>{U(Be=>Be.includes(W)?Be.filter(rt=>rt!==W):[...Be,W])},he=W=>{G(Be=>Be.includes(W)?Be.filter(rt=>rt!==W):[...Be,W])},be=()=>{M.length===bt.length?U([]):U(bt.map(W=>W.id))},ie=()=>{L.length===It.length?G([]):G(It.map(W=>W.id))},de=W=>{if(W==="selectAll"){const Be=!ue.selectAll;oe({tardiness:Be,allowances:Be,undertime:Be,overtime:Be,selectAll:Be,leaveAbsences:Be,nightDifferentials:Be,regularWorking:Be,holidayPay:Be})}else oe(Be=>({...Be,[W]:!Be[W]}))},J=()=>L.length>0?Ye.filter(W=>L.includes(W.id)).map(W=>W.code):Ye.map(W=>W.code),_=W=>{if(!W)return new Date().toISOString();try{if(W.includes("/")){const[Be,rt,ns]=W.split("/"),ps=Be.padStart(2,"0"),ct=rt.padStart(2,"0");return`${ns}-${ps}-${ct}T00:00:00.000Z`}return new Date(W).toISOString()}catch{return new Date().toISOString()}},Fe=W=>{const Be=Math.floor(W/1e3),rt=Math.floor(Be/3600),ns=Math.floor(Be%3600/60),ps=Be%60;return{h:rt,m:ns,s:ps}},Oe=async()=>{const W=J();if(W.length===0){xe.fire({icon:"warning",title:"No Employees",text:"Please select at least one employee or group."});return}const Be={dateFrom:_(s),dateTo:_(n),dateApplied:_(i),empCode:"",empCodes:W,tardiness:ue.tardiness,undertime:ue.undertime,leaveAndAbsences:ue.leaveAbsences,regularWorkingDays:ue.regularWorking,allowances:ue.allowances,overtime:ue.overtime,nightDiff:ue.nightDifferentials,holidayPay:ue.holidayPay,unprodWorkOnHoliday:!1,lateFiling:u,oldOvertimeProcess:!1,oldNighDiffProcess:!1,oldTardinessProcess:!1,userName:"currentUser"};v(!0),b(!1),R(null),Se(null);const rt=Date.now();try{const ns=await z.post("/Populate/Populate",Be),ps=Fe(Date.now()-rt),ct=ns.data;console.log(ns),R(ct),Se({...Be,allowances:ue.allowances,undertime:ue.undertime,overtime:ue.overtime,nightDiff:ue.nightDifferentials,holidayPay:ue.holidayPay,regularWorkingDays:ue.regularWorking,tardiness:ue.tardiness,leaveAndAbsences:ue.leaveAbsences,lateFiling:u,dataAllowance:ct.allowance??[],dataUndertime:ct.undertime??[],dataOvertime:ct.overtime??[],dataNightDiff:ct.nightDiff??[],dataHolidayPay:ct.holidayPay??[],dataRegularWorkingHours:ct.regularWorkingHours??[],dataTardiness:ct.tardiness??[],dataLeaveAbsences:ct.leaveAbsences??[],tardinessBelowThreshold:ct.tardinessBelowThreshold??[],tardinessAboveThreshold:ct.tardinessAboveThreshold??[],undertimeBelowThreshold:ct.undertimeBelowThreshold??[],undertimeAboveThreshold:ct.undertimeAboveThreshold??[]}),b(!0),y("tardiness"),await xe.fire({icon:"success",title:"Done Populating",html:`
          <div style="text-align:center">
            <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
            <p style="font-size:1.25rem;font-weight:600;color:#1d4ed8">
              ${ps.h} hour(s), ${ps.m} minute(s) and ${ps.s} second(s)
            </p>
          </div>
        `,confirmButtonText:"View Results",confirmButtonColor:"#2563eb"}),setTimeout(()=>{N.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(ns){const ps=ns?.response?.data?.message??ns?.message??"An unexpected error occurred.";xe.fire({icon:"error",title:"Populate Failed",text:ps})}finally{v(!1)}},ke=async()=>{if(!ee){xe.fire({icon:"warning",title:"Populate First",text:"Please run Populate before Process."});return}w(!0);const W=Date.now();try{const Be=await z.post("/Populate/Process",ee),rt=Fe(Date.now()-W),ns=Be.data;ns?.isSuccessful===!1?xe.fire({icon:"error",title:"Process Error",text:ns.message??"Process failed."}):await xe.fire({icon:"success",title:"Done Processing",html:`
            <div style="text-align:center">
              <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
              <p style="font-size:1.25rem;font-weight:600;color:#16a34a">
                ${rt.h} hour(s), ${rt.m} minute(s) and ${rt.s} second(s)
              </p>
            </div>
          `,confirmButtonText:"OK",confirmButtonColor:"#16a34a"})}catch(Be){const rt=Be?.response?.data?.message??Be?.message??"An unexpected error occurred.";xe.fire({icon:"error",title:"Process Failed",text:rt})}finally{w(!1)}};o.useEffect(()=>{S(1)},[f]);const Ie=[{id:"tardiness",label:"Tardiness"},{id:"undertime",label:"Undertime"},{id:"leave-absences",label:"Leave and Absences"},{id:"regular-working",label:"Regular Working Days/Hours"},{id:"allowances",label:"Allowances"},{id:"overtime",label:"Overtime"},{id:"night-differentials",label:"Night Differentials"},{id:"holiday-pay",label:"Holiday Pay"}],Pe=(()=>{if(!D)return[];switch(f){case"tardiness":return D.tardiness??[];case"undertime":return D.undertime??[];case"leave-absences":return D.leaveAbsences??[];case"regular-working":return D.regularWorkingHours??[];case"allowances":return D.allowance??[];case"overtime":return D.overtime??[];case"night-differentials":return D.nightDiff??[];case"holiday-pay":return D.holidayPay??[];default:return[]}})(),ae=Math.ceil(Pe.length/I),me=Pe.slice((C-1)*I,C*I),ce=()=>{const W=[];if(ae<=7)for(let Be=1;Be<=ae;Be++)W.push(Be);else if(C<=4){for(let Be=1;Be<=5;Be++)W.push(Be);W.push("..."),W.push(ae)}else if(C>=ae-3){W.push(1),W.push("...");for(let Be=ae-4;Be<=ae;Be++)W.push(Be)}else{W.push(1),W.push("...");for(let Be=C-1;Be<=C+1;Be++)W.push(Be);W.push("..."),W.push(ae)}return W},Ge=W=>{if(!W)return"";try{return new Date(W).toLocaleDateString()}catch{return W}},yt=W=>{if(!W)return"";try{return new Date(W).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return W}},Gt=W=>W!=null?W.toFixed(4):"";return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Process Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process employee timekeeping data by various criteria including TK Group, branch, department, and more."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Process by multiple organizational groups","Generate comprehensive attendance reports","Track tardiness, undertime, and overtime","Monitor leave and absences efficiently"].map(W=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:W})]},W))})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(W=>e.jsxs("button",{onClick:()=>a(W.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===W.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(W.icon,{className:"w-4 h-4"}),W.name]},W.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:lt()}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:k,onChange:W=>A(W.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===bt.length&&bt.length>0,onChange:be,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Le.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(W.id),onChange:()=>kt(W.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:W.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:W.description})]},W.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",bt.length===0?0:Ke+1," to ",Math.min(tt,bt.length)," of ",bt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ye(W=>Math.max(W-1,1)),disabled:re===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),He().map((W,Be)=>W==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`g-ellipsis-${Be}`):e.jsx("button",{onClick:()=>ye(W),className:`px-2 py-1 rounded text-xs ${re===W?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},W)),e.jsx("button",{onClick:()=>ye(W=>Math.min(W+1,Dt)),disabled:re===Dt||Dt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Employees"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[L.length," selected"]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:F,onChange:W=>O(W.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===It.length&&It.length>0,onChange:ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Rt.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(W.id),onChange:()=>he(W.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:W.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:W.name})]},W.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",st+1," to ",Math.min(Ze,It.length)," of ",It.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ne(W=>Math.max(1,W-1)),disabled:K===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),ft().map((W,Be)=>typeof W=="number"?e.jsx("button",{onClick:()=>ne(W),className:`px-2 py-1 rounded text-xs ${K===W?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},Be):e.jsx("span",{className:"px-2",children:W},Be)),e.jsx("button",{onClick:()=>ne(W=>Math.min(ge,W+1)),disabled:K===ge,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 mb-4",children:e.jsx("h2",{className:"text-gray-900",children:"Processing Options"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:W=>r(W.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>we(!se),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),se&&e.jsx(Ga,{onDateSelect:W=>{r(W),we(!1)},onClose:()=>we(!1)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:W=>l(W.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>E(!Y),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Y&&e.jsx(Ga,{onDateSelect:W=>{l(W),E(!1)},onClose:()=>E(!1)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date Applied"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:W=>c(W.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>V(!P),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),P&&e.jsx(Ga,{onDateSelect:W=>{c(W),V(!1)},onClose:()=>V(!1)})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:W=>h(W.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Late Filing"})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-3 pb-3 border-b border-blue-200",children:[e.jsx("input",{type:"checkbox",checked:ue.selectAll,onChange:()=>de("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-900",children:"Select All"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[["tardiness","Tardiness"],["undertime","Undertime"],["overtime","Overtime"],["leaveAbsences","Leave/Absences"],["regularWorking","Regular Working"],["allowances","Allowances"],["nightDifferentials","Night Differential"],["holidayPay","Holiday Pay"]].map(([W,Be])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ue[W],onChange:()=>de(W),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Be})]},W))})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Oe,disabled:p||g,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4 animate-spin"}),"Populating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Js,{className:"w-4 h-4"}),"Populate"]})}),e.jsx("button",{onClick:ke,disabled:p||g||!ee,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:ee?"":"Run Populate first",children:g?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hv,{className:"w-4 h-4"}),"Process"]})})]}),!ee&&e.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[" Run ",e.jsx("strong",{children:"Populate"})," first to enable the Process button."]})]}),m&&D&&e.jsxs("div",{ref:N,className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Populate Results"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Completed"})]}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:Ie.map(W=>e.jsx("button",{onClick:()=>y(W.id),className:`px-4 py-3 whitespace-nowrap transition-all border-b-2 text-sm ${f===W.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:W.label},W.id))})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[f==="tardiness"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Tardiness"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),f==="undertime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Undertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),f==="leave-absences"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"With Pay"})]}),f==="regular-working"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),f==="allowances"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Allowance Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Amount"})]}),f==="overtime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),f==="night-differentials"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"ND Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]}),f==="holiday-pay"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[f==="tardiness"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.tardiness)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.tardinessWithInGrace)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.actualTardiness)})]},Be)),f==="undertime"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.undertime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.undertimeWithinGracePeriod)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.actualUndertime)})]},Be)),f==="leave-absences"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateL)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.leaveCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.hoursLeaveAbsent)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.remarks}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:!!W.withPay,readOnly:!0,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"})})]},Be)),f==="regular-working"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.noOfHours)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.remarks})]},Be)),f==="allowances"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.allowanceCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.date)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.amount?.toFixed(2)})]},Be)),f==="overtime"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.otCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.remarks})]},Be)),f==="night-differentials"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.otCode})]},Be)),f==="holiday-pay"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.otCode})]},Be)),Pe.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-12 text-center text-gray-400 text-sm",children:"No data available for this category."})})]})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing"," ",Pe.length===0?0:(C-1)*I+1," ",""," ",Math.min(C*I,Pe.length)," ","of"," ",Pe.length," entries"]}),ae>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(W=>Math.max(1,W-1)),disabled:C===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ce().map((W,Be)=>W==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`rp-ellipsis-${Be}`):e.jsx("button",{onClick:()=>S(W),className:`px-2 py-1 rounded text-xs ${C===W?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},W)),e.jsx("button",{onClick:()=>S(W=>Math.min(ae,W+1)),disabled:C===ae,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function r4({date:t,onChange:a}){const[s,r]=o.useState(!1),[n,l]=o.useState(new Date),i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),c=new Date(n.getFullYear(),n.getMonth(),1).getDay(),u=["January","February","March","April","May","June","July","August","September","October","November","December"],h=new Date().getFullYear(),m=[];for(let S=1900;S<=h+10;S++)m.push(S);const b=[];for(let S=1;S<=i;S++)b.push(S);const g=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},w=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},p=S=>{l(new Date(n.getFullYear(),S,1))},v=S=>{l(new Date(S,n.getMonth(),1))},f=S=>{const I=(n.getMonth()+1).toString().padStart(2,"0"),k=S.toString().padStart(2,"0"),A=n.getFullYear();a(`${I}/${k}/${A}`),r(!1)},y=S=>{const I=(n.getMonth()+1).toString().padStart(2,"0"),k=S.toString().padStart(2,"0"),A=n.getFullYear();a(`${I}/${k}/${A}`),r(!1)},N=()=>{const S=new Date,I=(S.getMonth()+1).toString().padStart(2,"0"),k=S.getDate().toString().padStart(2,"0"),A=S.getFullYear();a(`${I}/${k}/${A}`),r(!1)},C=[];for(let S=0;S<c;S++)C.push(e.jsx("div",{className:"h-8"},`empty-${S}`));for(let S=1;S<=i;S++)C.push(e.jsx("button",{onClick:()=>y(S),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:S},S));return e.jsxs(Sh,{open:s,onOpenChange:r,children:[e.jsx(kh,{asChild:!0,children:e.jsx("button",{type:"button",className:"p-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:e.jsx(hs,{className:"w-5 h-5"})})}),e.jsx(Dh,{children:e.jsxs(Eh,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-80 animate-in fade-in-0 zoom-in-95",align:"end",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:g,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(a0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:n.getMonth(),onChange:S=>p(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:u.map((S,I)=>e.jsx("option",{value:I,children:S},S))}),e.jsxs("select",{onChange:S=>f(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700 w-16",children:[e.jsx("option",{value:"",children:"Day"}),b.map(S=>e.jsx("option",{value:S,children:S},S))]}),e.jsx("select",{value:n.getFullYear(),onChange:S=>v(Number(S.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:m.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsx("button",{onClick:w,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(vc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(S=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:S},S))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:C}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:N,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function YQ(){const[t,a]=o.useState("05/01/2021"),[s,r]=o.useState("05/15/2021"),[n,l]=o.useState(""),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState("tk-group"),[f,y]=o.useState([]),[N,C]=o.useState([]),[S,I]=o.useState([]),[k,A]=o.useState([]),[F,O]=o.useState([]),[M,U]=o.useState([]),[L,G]=o.useState(1),[re,ye]=o.useState(1),[K,ne]=o.useState(1),[H,se]=o.useState(1),[we,Y]=o.useState(1),[E,P]=o.useState(1),[V,D]=o.useState(1),[R,ee]=o.useState(""),[Se,ue]=o.useState(""),[oe,le]=o.useState("Accumulation"),[Q,ve]=o.useState(!1),[Ce,$e]=o.useState(!1),[Ae,We]=o.useState(!1),[Re,et]=o.useState(!1),[B,q]=o.useState(!1),[Z,je]=o.useState("1"),[De,Qe]=o.useState("All"),[qe,Ye]=o.useState("All"),[ht,St]=o.useState("All"),dt=10,[Et,Te]=o.useState(""),[Ee,pe]=o.useState([]),[Je,pt]=o.useState([]),[Mt,Wt]=o.useState([]),[$t,lt]=o.useState([]),[bt,Nt]=o.useState([]),[wt,It]=o.useState([]),[Dt,Ke]=o.useState([]),[tt,Le]=o.useState([]);o.useEffect(()=>{const _e=nt=>{nt.key==="Escape"&&B&&q(!1)};return B&&document.addEventListener("keydown",_e),()=>{document.removeEventListener("keydown",_e)}},[B]);const He=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(nt=>({id:nt.ID||nt.id,code:nt.groupCode||nt.code,description:nt.groupDescription||nt.description}));o.useEffect(()=>{(async()=>{const nt=await He();Wt(nt)})()},[]);const ge=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(nt=>({id:nt.braID||nt.ID,code:nt.braCode||nt.code,description:nt.braDesc||nt.description}));o.useEffect(()=>{(async()=>{const nt=await ge();lt(nt)})()},[]);const st=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(nt=>({id:nt.depID||nt.ID,code:nt.depCode||nt.code,description:nt.depDesc||nt.description}));o.useEffect(()=>{(async()=>{const nt=await st();Nt(nt)})()},[]);const Ze=async()=>(await z.get("/Fs/Employment/DesignationSetUp")).data.map(nt=>({id:nt.desID||nt.ID,code:nt.desCode||nt.code,description:nt.desDesc||nt.description}));o.useEffect(()=>{(async()=>{const nt=await Ze();It(nt)})()},[]);const Rt=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(nt=>({id:nt.divID||nt.ID,code:nt.divCode||nt.code,description:nt.divDesc||nt.description}));o.useEffect(()=>{(async()=>{const nt=await Rt();Ke(nt)})()},[]);const ft=async()=>(await z.get("/Fs/Employment/SectionSetUp")).data.map(nt=>({id:nt.secID||nt.ID,code:nt.secCode||nt.code,description:nt.secDesc||nt.description}));o.useEffect(()=>{(async()=>{const nt=await ft();Le(nt)})()},[]);const kt=async()=>{try{const _e=await z.get(`/Maintenance/EmployeeMasterFile/GetActive?active=${Z}`);if(_e.data){const nt=_e.data.map(xs=>({empID:xs.empID||xs.EmpID||"",empCode:xs.empCode||xs.EmpCode||"",lName:xs.lName||xs.LName||"",fName:xs.fName||xs.fName||"",mName:xs.mName||xs.mName||"",suffix:xs.suffix||xs.suffix||""}));pt(nt)}}catch(_e){_e.response?.data?.message||_e.message,console.error("Error fetching employees",_e)}finally{}};o.useEffect(()=>{kt()},[Z]);const he=(_e,nt)=>{l(_e),c(nt),q(!1),h("")};o.useEffect(()=>{be()},[]);const be=async()=>{try{const _e=await z.get("/Fs/Process/LeaveTypeSetUp");if(_e.data){const nt=_e.data.map(xs=>({leaveID:xs.leaveID||xs.ID||"",leaveCode:xs.leaveCode||xs.LeaveCode||"",leaveDesc:xs.leaveDesc||xs.LeaveDesc||""}));pe(nt)}}catch(_e){_e.response?.data?.message||_e.message,console.error("Error fetching Leave Types",_e)}finally{}},ie=(_e,nt)=>{const xs=window.URL.createObjectURL(_e),Bs=document.createElement("a");Bs.href=xs,Bs.download=nt,document.body.appendChild(Bs),Bs.click(),document.body.removeChild(Bs),window.URL.revokeObjectURL(xs)},de={empCode:n,dateFr:t?new Date(t).toLocaleDateString():"-",dateTo:s?new Date(s).toLocaleDateString():"-",groups:f.length===0?[]:f.toLocaleString().split(","),departments:S.length===0?[]:S.toLocaleString().split(","),divisions:F.length===0?[]:F.toLocaleString().split(","),branch:N.length===0?[]:N.toLocaleString().split(","),designation:k.length===0?[]:k.toLocaleString().split(","),section:M.length===0?[]:M.toLocaleString().split(","),company:"",address:"",userName:"128TCI"},J={empCode:n,dateFr:t?new Date(t).toLocaleDateString():"-",dateTo:s?new Date(s).toLocaleDateString():"-",groups:f.length===0?[]:f.toLocaleString().split(","),departments:S.length===0?[]:S.toLocaleString().split(","),divisions:F.length===0?[]:F.toLocaleString().split(","),branch:N.length===0?[]:N.toLocaleString().split(","),designation:k.length===0?[]:k.toLocaleString().split(","),section:M.length===0?[]:M.toLocaleString().split(","),company:"",address:"",leaveType:Et,leaveWithOrWPay:ht,includeLeaveAdj:Ae,status:De,mode:qe};function _(_e){const nt=new URLSearchParams;return Object.entries(_e).forEach(([xs,Bs])=>{Bs==null||Bs===""||(Bs instanceof Date?nt.append(xs,Bs.toISOString()):Array.isArray(Bs)?Bs.forEach(Ue=>nt.append(xs,String(Ue))):nt.append(xs,String(Bs)))}),nt.toString()}const Fe=async()=>{if(oe==="Attendance Summary")try{const _e=_(de),nt=await z.get(`/AttendanceSummary/PrintAttendanceSummary?${_e}`,{responseType:"blob"});console.log(nt.headers);const xs="AttendanceSummaryReport.xlsx",Bs=nt.headers["content-type"],Ue=new Blob([nt.data],{type:Bs});ie(Ue,xs),xe.fire({icon:"success",title:"Done",text:"Download Successful!",timer:2e3,showConfirmButton:!1})}finally{}else if(oe==="Daily Time")try{const _e=_(de),nt=await z.get(`/DailyTimeReport/PrintDailyTimeReport?${_e}`,{responseType:"blob"});console.log(nt.headers);const xs="DailyTimeReport.xlsx",Bs=nt.headers["content-type"],Ue=new Blob([nt.data],{type:Bs});ie(Ue,xs),xe.fire({icon:"success",title:"Done",text:"Download Successful!",timer:2e3,showConfirmButton:!1})}finally{}else if(oe==="Employees Raw In And Out (From Update Rawdata)")try{const _e=_(de),nt=await z.get(`/EmployeeRawInAndOut/PrintEmployeeRawInAndOut?${_e}`,{responseType:"blob"});console.log(nt.headers);const xs="EmployeeRawInAndOutReport.xlsx",Bs=nt.headers["content-type"],Ue=new Blob([nt.data],{type:Bs});ie(Ue,xs),xe.fire({icon:"success",title:"Done",text:"Download Successful!",timer:2e3,showConfirmButton:!1})}finally{}else if(oe==="Leave And Absences"&&qe==="All")try{const _e=_(J);xe.fire({icon:"info",title:"Downloading",text:"Please wait while your file is being downloaded.",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});const nt=await z.get(`/LeaveAndAbsences/PrintLeaveAndAbsences?${_e}`,{responseType:"blob"});console.log(nt.headers);const xs="LeaveAndAbsencesReport.xlsx",Bs=nt.headers["content-type"],Ue=new Blob([nt.data],{type:Bs});ie(Ue,xs),xe.fire({icon:"success",title:"Done",text:"Download Successful!",timer:2e3,showConfirmButton:!1})}finally{}else if(oe==="Leave And Absences"&&qe==="Absences")try{const _e=_(J);xe.fire({icon:"info",title:"Downloading",text:"Please wait while your file is being downloaded.",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});const nt=await z.get(`/LeaveAndAbsences/PrintAbsences?${_e}`,{responseType:"blob"});console.log(nt.headers);const xs="AbsencesReport.xlsx",Bs=nt.headers["content-type"],Ue=new Blob([nt.data],{type:Bs});ie(Ue,xs),xe.fire({icon:"success",title:"Done",text:"Download Successful!",timer:2e3,showConfirmButton:!1})}finally{}else if(oe==="Leave And Absences"&&qe==="Leave")try{const _e=_(J);xe.fire({icon:"info",title:"Downloading",text:"Please wait while your file is being downloaded.",showConfirmButton:!1,allowOutsideClick:!1,didOpen:()=>{xe.showLoading()}});const nt=await z.get(`/LeaveAndAbsences/PrintLeave?${_e}`,{responseType:"blob"});console.log(nt.headers);const xs="LeaveReport.xlsx",Bs=nt.headers["content-type"],Ue=new Blob([nt.data],{type:Bs});ie(Ue,xs),xe.fire({icon:"success",title:"Done",text:"Download Successful!",timer:2e3,showConfirmButton:!1})}finally{}else xe.fire({icon:"error",title:"Error",text:"No Report Found."})},Oe=Je.filter(_e=>_e.empCode?.toLowerCase().includes(Se.toLowerCase())||_e.lName?.toLowerCase().includes(Se.toLowerCase())||_e.fName?.toLowerCase().includes(Se.toLowerCase())||_e.mName?.toLowerCase().includes(Se.toLowerCase())||_e.suffix?.toLowerCase().includes(Se.toLowerCase())),ke=Mt.filter(_e=>_e.code.toLowerCase().includes(R.toLowerCase())||_e.description.toLowerCase().includes(R.toLowerCase())),Ie=$t.filter(_e=>_e.code.toLowerCase().includes(R.toLowerCase())||_e.description.toLowerCase().includes(R.toLowerCase())),te=bt.filter(_e=>_e.code.toLowerCase().includes(R.toLowerCase())||_e.description.toLowerCase().includes(R.toLowerCase())),Pe=wt.filter(_e=>_e.code.toLowerCase().includes(R.toLowerCase())||_e.description.toLowerCase().includes(R.toLowerCase())),ae=Dt.filter(_e=>_e.code.toLowerCase().includes(R.toLowerCase())||_e.description.toLowerCase().includes(R.toLowerCase())),me=tt.filter(_e=>_e.code.toLowerCase().includes(R.toLowerCase())||_e.description.toLowerCase().includes(R.toLowerCase())),ce=Math.ceil(ke.length/dt),Ge=Math.ceil(Ie.length/dt),yt=Math.ceil(te.length/dt),Gt=Math.ceil(Pe.length/dt),W=Math.ceil(ae.length/dt),Be=Math.ceil(me.length/dt),rt=(L-1)*dt,ns=rt+dt,ps=(re-1)*dt,ct=ps+dt,ss=(K-1)*dt,Ft=ss+dt,Jt=(H-1)*dt,vt=Jt+dt,Kt=(we-1)*dt,jt=Kt+dt,Vt=(E-1)*dt,cs=Vt+dt,sa=ke.slice(rt,ns),ua=Ie.slice(ps,ct),ka=te.slice(ss,Ft),Ea=Pe.slice(Jt,vt),Ra=ae.slice(Kt,jt),oa=me.slice(Vt,cs),xa=()=>{const _e=[];if(ce<=7)for(let nt=1;nt<=ce;nt++)_e.push(nt);else if(L<=4){for(let nt=1;nt<=5;nt++)_e.push(nt);_e.push("..."),_e.push(ce)}else if(L>=ce-3){_e.push(1),_e.push("...");for(let nt=ce-4;nt<=ce;nt++)_e.push(nt)}else{_e.push(1),_e.push("...");for(let nt=L-1;nt<=L+1;nt++)_e.push(nt);_e.push("..."),_e.push(ce)}return _e},Ka=()=>{const _e=[];if(Ge<=7)for(let nt=1;nt<=Ge;nt++)_e.push(nt);else if(re<=4){for(let nt=1;nt<=5;nt++)_e.push(nt);_e.push("..."),_e.push(Ge)}else if(re>=Ge-3){_e.push(1),_e.push("...");for(let nt=Ge-4;nt<=Ge;nt++)_e.push(nt)}else{_e.push(1),_e.push("...");for(let nt=re-1;nt<=re+1;nt++)_e.push(nt);_e.push("..."),_e.push(Ge)}return _e},Ha=()=>{const _e=[];if(yt<=7)for(let nt=1;nt<=yt;nt++)_e.push(nt);else if(K<=4){for(let nt=1;nt<=5;nt++)_e.push(nt);_e.push("..."),_e.push(yt)}else if(K>=yt-3){_e.push(1),_e.push("...");for(let nt=yt-4;nt<=yt;nt++)_e.push(nt)}else{_e.push(1),_e.push("...");for(let nt=K-1;nt<=K+1;nt++)_e.push(nt);_e.push("..."),_e.push(yt)}return _e},Ws=()=>{const _e=[];if(Gt<=7)for(let nt=1;nt<=Gt;nt++)_e.push(nt);else if(H<=4){for(let nt=1;nt<=5;nt++)_e.push(nt);_e.push("..."),_e.push(Gt)}else if(H>=Gt-3){_e.push(1),_e.push("...");for(let nt=Gt-4;nt<=Gt;nt++)_e.push(nt)}else{_e.push(1),_e.push("...");for(let nt=H-1;nt<=H+1;nt++)_e.push(nt);_e.push("..."),_e.push(Gt)}return _e},Ta=()=>{const _e=[];if(W<=7)for(let nt=1;nt<=W;nt++)_e.push(nt);else if(we<=4){for(let nt=1;nt<=5;nt++)_e.push(nt);_e.push("..."),_e.push(W)}else if(we>=W-3){_e.push(1),_e.push("...");for(let nt=W-4;nt<=W;nt++)_e.push(nt)}else{_e.push(1),_e.push("...");for(let nt=we-1;nt<=we+1;nt++)_e.push(nt);_e.push("..."),_e.push(W)}return _e},at=()=>{const _e=[];if(Be<=7)for(let nt=1;nt<=Be;nt++)_e.push(nt);else if(E<=4){for(let nt=1;nt<=5;nt++)_e.push(nt);_e.push("..."),_e.push(Be)}else if(E>=Be-3){_e.push(1),_e.push("...");for(let nt=Be-4;nt<=Be;nt++)_e.push(nt)}else{_e.push(1),_e.push("...");for(let nt=E-1;nt<=E+1;nt++)_e.push(nt);_e.push("..."),_e.push(Be)}return _e},Qt=Math.ceil(Oe.length/dt),_s=(V-1)*dt,Us=_s+dt;Oe.slice((V-1)*dt,V*dt);const nr=()=>{const _e=[];if(Qt<=5)return Array.from({length:Qt},(Ue,_t)=>_t+1);_e.push(1),V>3&&_e.push("...");const xs=Math.max(2,V-1),Bs=Math.min(Qt-1,V+1);for(let Ue=xs;Ue<=Bs;Ue++)_e.push(Ue);return V<Qt-2&&_e.push("..."),_e.push(Qt),_e},Ma=[{seqNo:1,empCode:"V067",fullName:"ABAD, JULIE ROSE RAMOS",dailyRecords:[{date:"1-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"2-Mar-2020",day:"Mon",restDay:!1,timeIn:"7:07:00AM",timeOut:"5:33:00PM",workShift:"730 AM 6PM",noOfHrs:"9.05",tardiness:"0.00",undertime:"0.45",absences:"0.00",leaveWithPay:"0.00"},{date:"3-Mar-2020",day:"Tue",restDay:!1,timeIn:"7:11:00AM",timeOut:"5:47:00PM",workShift:"730 AM 6PM",noOfHrs:"9.28",tardiness:"0.00",undertime:"0.22",absences:"0.00",leaveWithPay:"0.00"},{date:"4-Mar-2020",day:"Wed",restDay:!1,timeIn:"",timeOut:"",workShift:"RegDay",noOfHrs:"8.00",tardiness:"0.00",undertime:"0.00",absences:"1.50",leaveWithPay:"8.00"},{date:"5-Mar-2020",day:"Thu",restDay:!1,timeIn:"",timeOut:"",workShift:"RegDay",noOfHrs:"8.00",tardiness:"0.00",undertime:"0.00",absences:"1.50",leaveWithPay:"8.00"},{date:"6-Mar-2020",day:"Fri",restDay:!1,timeIn:"",timeOut:"",workShift:"",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"9.50"},{date:"7-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"8-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"9-Mar-2020",day:"Mon",restDay:!1,timeIn:"7:12:00AM",timeOut:"5:30:00PM",workShift:"730 AM 6PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"10-Mar-2020",day:"Tue",restDay:!1,timeIn:"7:04:00AM",timeOut:"5:32:00PM",workShift:"730 AM 6PM",noOfHrs:"9.03",tardiness:"0.00",undertime:"0.47",absences:"0.00",leaveWithPay:"0.00"},{date:"11-Mar-2020",day:"Wed",restDay:!1,timeIn:"6:45:00AM",timeOut:"7:30:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"12-Mar-2020",day:"Thu",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"13-Mar-2020",day:"Fri",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"730 AM 6PM",noOfHrs:"9.50",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"14-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"15-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"}],subtotal:{noOfHrs:"90.36",tardiness:"0.00",undertime:"1.14",absences:"3.00",leaveWithPay:"25.50"}},{seqNo:2,empCode:"D002",fullName:"BALETE, LORENZO MAGADDON",dailyRecords:[{date:"1-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"2-Mar-2020",day:"Mon",restDay:!1,timeIn:"9:34:00AM",timeOut:"6:49:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.07",undertime:"0.68",absences:"0.00",leaveWithPay:"0.00"},{date:"3-Mar-2020",day:"Tue",restDay:!1,timeIn:"9:32:00AM",timeOut:"7:44:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.03",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"4-Mar-2020",day:"Wed",restDay:!1,timeIn:"9:41:00AM",timeOut:"6:47:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.18",undertime:"0.72",absences:"0.00",leaveWithPay:"0.00"},{date:"5-Mar-2020",day:"Thu",restDay:!1,timeIn:"9:34:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"7.50",tardiness:"0.07",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"6-Mar-2020",day:"Fri",restDay:!1,timeIn:"9:30:00AM",timeOut:"8:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"7-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"8-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"9-Mar-2020",day:"Mon",restDay:!1,timeIn:"9:30:00AM",timeOut:"7:30:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"10-Mar-2020",day:"Tue",restDay:!1,timeIn:"8:57:00AM",timeOut:"6:57:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.55",absences:"0.00",leaveWithPay:"0.00"},{date:"11-Mar-2020",day:"Wed",restDay:!1,timeIn:"9:30:00AM",timeOut:"7:30:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"12-Mar-2020",day:"Thu",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"13-Mar-2020",day:"Fri",restDay:!1,timeIn:"7:30:00AM",timeOut:"6:00:00PM",workShift:"930AM730PM",noOfHrs:"9.00",tardiness:"0.00",undertime:"1.50",absences:"0.00",leaveWithPay:"0.00"},{date:"14-Mar-2020",day:"Sat",restDay:!1,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"},{date:"15-Mar-2020",day:"Sun",restDay:!0,timeIn:"",timeOut:"",workShift:"RestDay",noOfHrs:"0.00",tardiness:"0.00",undertime:"0.00",absences:"0.00",leaveWithPay:"0.00"}],subtotal:{noOfHrs:"88.50",tardiness:"0.35",undertime:"6.45",absences:"0.00",leaveWithPay:"0.00"}}],wa=[{id:"tk-group",label:"TK Group",icon:Js},{id:"branch",label:"Branch",icon:da},{id:"department",label:"Department",icon:ia},{id:"designation",label:"Designation",icon:_v},{id:"division",label:"Division",icon:rr},{id:"section",label:"Section",icon:ar}],ya=_e=>{p=="tk-group"&&y(nt=>nt.includes(_e)?nt.filter(xs=>xs!==_e):[...nt,_e]),p=="branch"&&C(nt=>nt.includes(_e)?nt.filter(xs=>xs!==_e):[...nt,_e]),p=="department"&&I(nt=>nt.includes(_e)?nt.filter(xs=>xs!==_e):[...nt,_e]),p=="designation"&&A(nt=>nt.includes(_e)?nt.filter(xs=>xs!==_e):[...nt,_e]),p=="division"&&O(nt=>nt.includes(_e)?nt.filter(xs=>xs!==_e):[...nt,_e]),p=="section"&&U(nt=>nt.includes(_e)?nt.filter(xs=>xs!==_e):[...nt,_e])},gt=()=>{p=="tk-group"?f.length===Mt.length?y([]):y(Mt.map(_e=>_e.id)):p=="branch"?N.length===$t.length?C([]):C($t.map(_e=>_e.id)):p=="department"?S.length===bt.length?I([]):I(bt.map(_e=>_e.id)):p=="designation"?k.length===wt.length?A([]):A(wt.map(_e=>_e.id)):p=="division"?F.length===Dt.length?O([]):O(Dt.map(_e=>_e.id)):p=="section"?M.length===tt.length?U([]):U(tt.map(_e=>_e.id)):(y([]),C([]),I([]),A([]),O([]),U([]))},bs=()=>{window.print()};return Re?e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 print:hidden",children:[e.jsx("button",{onClick:()=>et(!1),className:"px-6 py-3 bg-yellow-500 text-gray-700 rounded-xl hover:bg-yellow-600 transition-colors",children:" Back to Filters"}),e.jsxs("button",{onClick:bs,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[e.jsx(d7,{className:"w-5 h-5"}),e.jsx("span",{children:"Print Report"})]})]}),e.jsxs("div",{className:"bg-white shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Daily Time Report"}),e.jsx("p",{className:"text-gray-600",children:"Period From Mar 01, 2020 to Mar 15, 2020"})]}),e.jsx("div",{className:"border-t-4 border-black mb-6"}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"40px"},children:"Seq. No."}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"80px"},children:"EmpCode"}),e.jsx("th",{className:"px-2 py-2 text-left",style:{width:"200px"},children:"Full Name"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"90px"},children:"IN"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"90px"},children:"OUT"}),e.jsx("th",{className:"px-2 py-2 text-center",style:{width:"100px"},children:"Work Shift"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"No of Hrs"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Tardiness"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Undertime"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Absences"}),e.jsx("th",{className:"px-2 py-2 text-right",style:{width:"70px"},children:"Leave With Pay"})]})}),e.jsx("tbody",{children:Ma.map(_e=>e.jsxs(f4.Fragment,{children:[e.jsxs("tr",{className:"bg-gray-100",children:[e.jsxs("td",{className:"px-2 py-2 align-top",children:[_e.seqNo,"."]}),e.jsx("td",{className:"px-2 py-2 align-top",children:_e.empCode}),e.jsx("td",{className:"px-2 py-2 align-top",colSpan:9,children:_e.fullName})]}),_e.dailyRecords.map((nt,xs)=>e.jsxs("tr",{className:nt.restDay?"bg-gray-50":"",children:[e.jsx("td",{className:"px-2 py-1"}),e.jsx("td",{className:"px-2 py-1 text-xs",children:nt.date}),e.jsx("td",{className:"px-2 py-1 text-xs",children:nt.day}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:nt.timeIn}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:nt.timeOut}),e.jsx("td",{className:"px-2 py-1 text-xs text-center",children:nt.workShift}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:nt.noOfHrs}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:nt.tardiness}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:nt.undertime}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:nt.absences}),e.jsx("td",{className:"px-2 py-1 text-xs text-right",children:nt.leaveWithPay})]},xs)),e.jsxs("tr",{className:"border-t border-gray-300 bg-gray-200",children:[e.jsx("td",{className:"px-2 py-2",colSpan:6,children:e.jsx("span",{className:"text-right block",children:"Subtotal:"})}),e.jsx("td",{className:"px-2 py-2 text-right",children:_e.subtotal.noOfHrs}),e.jsx("td",{className:"px-2 py-2 text-right",children:_e.subtotal.tardiness}),e.jsx("td",{className:"px-2 py-2 text-right",children:_e.subtotal.undertime}),e.jsx("td",{className:"px-2 py-2 text-right",children:_e.subtotal.absences}),e.jsx("td",{className:"px-2 py-2 text-right",children:_e.subtotal.leaveWithPay})]}),e.jsx("tr",{className:"h-4"})]},_e.empCode))})]})]})]})}),e.jsx(ls,{})]}):e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-600 to-indigo-600 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsx("h1",{className:"text-white",children:"Daily Time Record Monitoring"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(ur,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Monitor and generate daily time record reports for employees. Filter by date range, employee status, and organizational groups."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Export to Excel format"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Multiple report types"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Print ready reports"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Date Range"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:t,onChange:_e=>a(_e.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"MM/DD/YYYY"})]}),e.jsx(r4,{date:t,onChange:a})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:s,onChange:_e=>r(_e.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"MM/DD/YYYY"})]}),e.jsx(r4,{date:s,onChange:r})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:_e=>b(_e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Sort Alphabetically"})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",value:"1",checked:Z==="1",onChange:_e=>je(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",value:"0",checked:Z==="0",onChange:_e=>je(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"radio",name:"status",value:"",checked:Z==="",onChange:_e=>je(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"All"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Employee Code"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:n,onChange:_e=>l(_e.target.value),className:"flex-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter employee code",readOnly:!0}),e.jsx("button",{onClick:()=>q(!0),className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{l(""),c("")},className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),n&&e.jsxs("label",{className:"block mt-2 ml-100",children:["Employee Name: ",i]})]}),B&&e.jsx("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>q(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:()=>q(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Select Employee"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Se,onChange:_e=>ue(_e.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"EmpCode"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Name"})]})}),e.jsx("tbody",{children:Oe.map((_e,nt)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>he(_e.empCode,_e.lName+", "+_e.fName+" "+_e.mName),children:[e.jsx("td",{className:"px-3 py-1.5",children:_e.empCode}),e.jsxs("td",{className:"px-3 py-1.5",children:[_e.lName,", ",_e.fName," ",_e.mName]})]},_e.empCode))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",_s+1," to ",Math.min(Us,Oe.length)," of ",Oe.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>D(_e=>Math.max(1,_e-1)),disabled:V===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),nr().map((_e,nt)=>typeof _e=="number"?e.jsx("button",{onClick:()=>D(_e),className:`px-2 py-1 rounded text-xs ${V===_e?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_e},nt):e.jsx("span",{className:"px-2",children:_e},nt)),e.jsx("button",{onClick:()=>D(_e=>Math.min(Qt,_e+1)),disabled:V===Qt,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("select",{value:oe,onChange:_e=>le(_e.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer",children:[e.jsx("option",{value:"Accumulation",children:"Accumulation"}),e.jsx("option",{value:"Adjustment",children:"Adjustment"}),e.jsx("option",{value:"Allowance",children:"Allowance"}),e.jsx("option",{value:"Application Report",children:"Application Report"}),e.jsx("option",{value:"Assumed Days",children:"Assumed Days"}),e.jsx("option",{value:"Attendance Ratio",children:"Attendance Ratio"}),e.jsx("option",{value:"Attendance Summary",children:"Attendance Summary"}),e.jsx("option",{value:"Consecutive Absences",children:"Consecutive Absences"}),e.jsx("option",{value:"Count Of Employee Per Workshift",children:"Count Of Employee Per Workshift"}),e.jsx("option",{value:"Daily Time",children:"Daily Time"}),e.jsx("option",{value:"Device Code Report",children:"Device Code Report"}),e.jsx("option",{value:"Employees Raw Data Report",children:"Employees Raw Data Report"}),e.jsx("option",{value:"Employees Raw In And Out (From Update Rawdata)",children:"Employees Raw In And Out (From Update Rawdata)"}),e.jsx("option",{value:"Employees With No Workshift",children:"Employees With No Workshift"}),e.jsx("option",{value:"Exemption Report",children:"Exemption Report"}),e.jsx("option",{value:"In And Out By Position",children:"In And Out By Position"}),e.jsx("option",{value:"Leave And Absences",children:"Leave And Absences"}),e.jsx("option",{value:"Man Hours",children:"Man Hours"}),e.jsx("option",{value:"Man Hours By Division-Branch-Category-Dept-Section",children:"Man Hours By Division-Branch-Category-Dept-Section"}),e.jsx("option",{value:"No In And Out",children:"No In And Out"}),e.jsx("option",{value:"Overtime",children:"Overtime"}),e.jsx("option",{value:"Perfect Attendance",children:"Perfect Attendance"}),e.jsx("option",{value:"Questionable Entries",children:"Questionable Entries"}),e.jsx("option",{value:"Questionable Workshifts",children:"Questionable Workshifts"}),e.jsx("option",{value:"Restday in a Week",children:"Restday in a Week"}),e.jsx("option",{value:"Tardiness",children:"Tardiness"}),e.jsx("option",{value:"Tardiness/ Overbreak/ Undertime Violation",children:"Tardiness/ Overbreak/ Undertime Violation"}),e.jsx("option",{value:"Tardiness And Undertime Report",children:"Tardiness And Undertime Report"}),e.jsx("option",{value:"Tardiness Penalty",children:"Tardiness Penalty"}),e.jsx("option",{value:"Timesheet",children:"Timesheet"}),e.jsx("option",{value:"Unauthorized Absences",children:"Unauthorized Absences"}),e.jsx("option",{value:"Undertime",children:"Undertime"}),e.jsx("option",{value:"User Group Access",children:"User Group Access"}),e.jsx("option",{value:"User TK Group Access",children:"User TK Group Access"})]})}),e.jsxs("div",{className:"mb-6 space-y-2",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:Ce,onChange:_e=>$e(_e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Convert To HH:MM"})]}),oe=="Leave And Absences"&&e.jsxs("label",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:Ae,onChange:_e=>We(_e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Include Leave Adjustment"})]})]}),oe=="Leave And Absences"&&e.jsxs("div",{children:[e.jsx("span",{children:"Status"}),e.jsxs("div",{className:"mt-4 mb-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"leaveStatus",value:"Active",checked:De==="Active",onChange:_e=>Qe(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"leaveStatus",value:"InActive",checked:De==="InActive",onChange:_e=>Qe(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"leaveStatus",value:"All",checked:De==="All",onChange:_e=>Qe(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),oe=="Leave And Absences"&&e.jsxs("div",{children:[e.jsx("span",{children:"Options"}),e.jsxs("div",{className:"mt-4 mb-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"leaveMode",value:"Absences",checked:qe==="Absences",onChange:_e=>Ye(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"leaveMode",value:"Leave",checked:qe==="Leave",onChange:_e=>Ye(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"leaveMode",value:"All",checked:qe==="All",onChange:_e=>Ye(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]}),qe=="Leave"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Leave Type:"}),e.jsxs("select",{value:Et,onChange:_e=>Te(_e.target.value),className:"mb-4 w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{}),Ee.map(_e=>e.jsx("option",{value:_e.leaveCode,children:_e.leaveDesc},_e.leaveCode))]})]}),qe=="Leave"&&e.jsxs("div",{className:"mt-4 mb-4 flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"wPay",value:"WithPay",checked:ht==="WithPay",onChange:_e=>St(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"With Pay"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"wPay",value:"WithOutPay",checked:ht==="WithOutPay",onChange:_e=>St(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Without Pay"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"wPay",value:"All",checked:ht==="All",onChange:_e=>St(_e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]}),e.jsx("button",{onClick:Fe,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30",children:"Download Report"})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap p-6 pb-0",children:wa.map(_e=>e.jsxs("button",{onClick:()=>v(_e.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${p===_e.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(_e.icon,{className:"w-4 h-4"}),_e.label]},_e.id))}),e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("div",{className:"flex items-center justify-end",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:R,onChange:_e=>ee(_e.target.value),className:"px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Search..."})]})})}),e.jsxs("div",{className:"p-6",children:[p==="tk-group"&&e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:f.length===ke.length&&ke.length>0,onChange:gt,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:sa.map(_e=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:f.includes(_e.id),onChange:()=>ya(_e.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:_e.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:_e.description})]},_e.id))})]})}),p==="branch"&&e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:N.length===Ie.length&&Ie.length>0,onChange:gt,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ua.map(_e=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:N.includes(_e.id),onChange:()=>ya(_e.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:_e.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:_e.description})]},_e.id))})]})}),p==="department"&&e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:S.length===te.length&&te.length>0,onChange:gt,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:ka.map(_e=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:S.includes(_e.id),onChange:()=>ya(_e.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:_e.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:_e.description})]},_e.id))})]})}),p==="designation"&&e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:k.length===Pe.length&&Pe.length>0,onChange:gt,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Ea.map(_e=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:k.includes(_e.id),onChange:()=>ya(_e.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:_e.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:_e.description})]},_e.id))})]})}),p==="division"&&e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:F.length===ae.length&&ae.length>0,onChange:gt,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Ra.map(_e=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:F.includes(_e.id),onChange:()=>ya(_e.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:_e.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:_e.description})]},_e.id))})]})}),p==="section"&&e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center",style:{width:"50px"},children:e.jsx("input",{type:"checkbox",checked:M.length===me.length&&me.length>0,onChange:gt,className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:oa.map(_e=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:M.includes(_e.id),onChange:()=>ya(_e.id),className:"w-4 h-4 text-blue-600 bg-gray-50 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"})}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:_e.code}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:_e.description})]},_e.id))})]})}),p==="tk-group"&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ke.length===0?0:rt+1," to ",Math.min(ns,ke.length)," of ",ke.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>G(_e=>Math.max(_e-1,1)),disabled:L===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),xa().map((_e,nt)=>_e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${nt}`):e.jsx("button",{onClick:()=>G(_e),className:`px-2 py-1 rounded text-xs ${L===_e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_e},_e)),e.jsx("button",{onClick:()=>G(_e=>Math.min(_e+1,ce)),disabled:L===ce||ce===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),p==="branch"&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ie.length===0?0:ps+1," to ",Math.min(ct,Ie.length)," of ",Ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ye(_e=>Math.max(_e-1,1)),disabled:re===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ka().map((_e,nt)=>_e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${nt}`):e.jsx("button",{onClick:()=>ye(_e),className:`px-2 py-1 rounded text-xs ${re===_e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_e},_e)),e.jsx("button",{onClick:()=>ye(_e=>Math.min(_e+1,Ge)),disabled:re===Ge||Ge===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),p==="department"&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",te.length===0?0:ss+1," to ",Math.min(Ft,te.length)," of ",te.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ne(_e=>Math.max(_e-1,1)),disabled:K===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ha().map((_e,nt)=>_e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${nt}`):e.jsx("button",{onClick:()=>ne(_e),className:`px-2 py-1 rounded text-xs ${K===_e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_e},_e)),e.jsx("button",{onClick:()=>ne(_e=>Math.min(_e+1,yt)),disabled:K===yt||yt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),p==="designation"&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Pe.length===0?0:Jt+1," to ",Math.min(vt,Pe.length)," of ",Pe.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(_e=>Math.max(_e-1,1)),disabled:H===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ws().map((_e,nt)=>_e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${nt}`):e.jsx("button",{onClick:()=>se(_e),className:`px-2 py-1 rounded text-xs ${H===_e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_e},_e)),e.jsx("button",{onClick:()=>se(_e=>Math.min(_e+1,Gt)),disabled:H===Gt||Gt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),p==="division"&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ae.length===0?0:Kt+1," to ",Math.min(jt,ae.length)," of ",ae.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Y(_e=>Math.max(_e-1,1)),disabled:we===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ta().map((_e,nt)=>_e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${nt}`):e.jsx("button",{onClick:()=>Y(_e),className:`px-2 py-1 rounded text-xs ${we===_e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_e},_e)),e.jsx("button",{onClick:()=>Y(_e=>Math.min(_e+1,W)),disabled:we===W||W===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),p==="section"&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",me.length===0?0:Vt+1," to ",Math.min(cs,me.length)," of ",me.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>P(_e=>Math.max(_e-1,1)),disabled:E===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),at().map((_e,nt)=>_e==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${nt}`):e.jsx("button",{onClick:()=>P(_e),className:`px-2 py-1 rounded text-xs ${we===_e?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_e},_e)),e.jsx("button",{onClick:()=>P(_e=>Math.min(_e+1,Be)),disabled:E===Be||Be===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(ls,{})]})}function KQ(){const[t,a]=o.useState("1"),[s,r]=o.useState("MANAGER"),[n,l]=o.useState("1"),[i,c]=o.useState("MANAGER"),[u,h]=o.useState("03/01/2020"),[m,b]=o.useState("03/15/2020"),[g,w]=o.useState("March"),[p,v]=o.useState(""),[f,y]=o.useState(""),N=[{code:"2",description:"ASSISTANT MANAGER",appliesAll:!1},{code:"3",description:"RANK AND FILE",appliesAll:!1}],C=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"TKS Group Setup Definition"}),e.jsx("p",{className:"text-gray-600",children:"Manage timekeeping group definitions and configurations"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors shadow-sm",children:[e.jsx(za,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:[e.jsx(ot,{className:"w-4 h-4"}),"Cancel"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(da,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-gray-900",children:"Group Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:t,onChange:S=>a(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter group code"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Group Description"}),e.jsx("input",{type:"text",value:s,onChange:S=>r(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter group description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Location Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:S=>l(S.target.value),className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Code"}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-sm",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Description"}),e.jsx("input",{type:"text",value:i,onChange:S=>c(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter payroll description"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(hs,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"text-gray-900",children:"Time Keep Cut-Off Dates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"From"}),e.jsx(zn,{value:u,onChange:S=>h(S),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"To"}),e.jsx(zn,{value:m,onChange:S=>b(S),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Month"}),e.jsx("select",{value:g,onChange:S=>w(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer",children:C.map(S=>e.jsx("option",{value:S,children:S},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Period"}),e.jsx("input",{type:"text",value:p,onChange:S=>v(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter period"})]}),e.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Terminal ID"}),e.jsx("input",{type:"text",value:f,onChange:S=>y(S.target.value),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter terminal ID"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-6 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Js,{className:"w-5 h-5 text-orange-600"}),e.jsx("h3",{className:"text-gray-900",children:"Group List"})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-slate-700 via-slate-800 to-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-white",children:"TKS Group Code"}),e.jsx("th",{className:"px-6 py-4 text-left text-white",children:"Description"}),e.jsx("th",{className:"px-6 py-4 text-center text-white",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(w7,{className:"w-4 h-4"}),"Applies to All"]})})]})}),e.jsx("tbody",{children:N.map((S,I)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-gray-900",children:S.code}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:S.description}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:S.appliesAll,className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer",readOnly:!0})})]},I))})]})})]})]})})})]})}const qQ="Company Information SetUp";function XQ({onBack:t}){const[a,s]=o.useState(!1),[r,n]=o.useState(!0),[l,i]=o.useState(null),[c,u]=o.useState(null),[h,m]=o.useState({}),b=C=>h[C]===!0;o.useEffect(()=>{g()},[]);const g=()=>{const C=localStorage.getItem("loginPayload");if(C)try{const k=(JSON.parse(C).permissions||[]).filter(F=>Ss(F.formName)==="CompanyInformationSetUp"),A={};k.forEach(F=>{const O=Ss(F.accessTypeName);O&&(A[O]=!0)}),m(A)}catch(S){console.error("Error parsing or decrypting payload",S)}};o.useEffect(()=>{w()},[]);const w=async()=>{n(!0);try{const C=await z.get("/Fs/System/CompanyInformation");if(C.status===200&&C.data){const S=Array.isArray(C.data)?C.data[0]:C.data;i(S),u(S)}}catch(C){const S=C.response?.data?.message||C.message||"Failed to load company information";await xe.fire({icon:"error",title:"Error",text:S}),console.error("Error fetching company information:",C)}finally{n(!1)}},p=()=>{s(!0)},v=async()=>{if(c)try{n(!0);const C=await z.put("/Fs/System/CompanyInformation",c);if(C.status===200){const S=C.data;i(S),u(S),s(!1),await ts.log({accessType:"Edit",trans:"Updated company information",messages:`Company information updated: ${JSON.stringify(S)}`,formName:qQ}),await xe.fire({icon:"success",title:"Success",text:"Company information updated successfully!",timer:2e3,showConfirmButton:!1})}}catch(C){const S=C.response?.data?.message||C.message||"Failed to save changes";await xe.fire({icon:"error",title:"Error",text:S}),console.error("Error updating company information:",C)}finally{n(!1)}},f=()=>{u(l),s(!1)},y=(C,S)=>{c&&u({...c,[C]:S})},N=C=>C?new Date(C).toLocaleDateString("en-US"):"";return r&&!c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-gray-600",children:"Loading company information..."})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Company Information"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure essential company details including identification numbers, addresses, contact information, database paths, and system policies. Upload company and site logos to customize the application appearance."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Company registration details"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Government ID numbers"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Database path configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Logo and branding management"})]})]})]})]})}),b("View")?e.jsxs("div",{className:"grid grid-cols-12 gap-6 p-6 pt-0",children:[e.jsx("div",{className:"col-span-3",children:e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("div",{className:"aspect-square bg-white border-2 border-dashed border-gray-300 rounded-lg mb-4 flex items-center justify-center",children:c?.companyLogo?e.jsx("img",{src:c.companyLogo,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):e.jsx("span",{className:"text-gray-400",children:"Company Logo"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!a}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${a?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a,children:[e.jsx(Br,{className:"w-4 h-4"}),"Upload"]}),e.jsxs("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a,children:[e.jsx(ot,{className:"w-4 h-4"}),"Remove"]})]})]})]})}),e.jsxs("div",{className:"col-span-9 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[b("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-gray-700",children:"Code"}),e.jsx("div",{className:"flex gap-2",children:b("Edit")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shadow-sm ${a?"bg-green-600 text-white hover:bg-green-700":"bg-gray-600 text-white hover:bg-gray-700"}`,onClick:a?v:p,disabled:r,children:a?e.jsxs(e.Fragment,{children:[e.jsx(za,{className:"w-4 h-4"}),"Save"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ri,{className:"w-4 h-4"}),"Edit"]})}),a&&e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",onClick:f,disabled:r,children:[e.jsx(ot,{className:"w-4 h-4"}),"Cancel"]})]})})]}),e.jsx("input",{type:"text",value:c?.companyCode||"",onChange:C=>y("companyCode",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",value:c?.companyName||"",onChange:C=>y("companyName",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:c?.address||"",onChange:C=>y("address",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:c?.city||"",onChange:C=>y("city",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:c?.province||"",onChange:C=>y("province",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",value:c?.zipCode||"",onChange:C=>y("zipCode",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"SSS No."}),e.jsx("input",{type:"text",value:c?.sssNo||"",onChange:C=>y("sssNo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Philhealth No"}),e.jsx("input",{type:"text",value:c?.philHealthNo||"",onChange:C=>y("philHealthNo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Pagibig No :"}),e.jsx("input",{type:"text",value:c?.pag_Ibig||"",onChange:C=>y("pag_Ibig",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Tin No :"}),e.jsx("input",{type:"text",value:c?.tin||"",onChange:C=>y("tin",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Branch Code (BIR) :"}),e.jsx("input",{type:"text",value:c?.biR_BRNCode||"",onChange:C=>y("biR_BRNCode",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"GSIS No."}),e.jsx("input",{type:"text",value:c?.gsisNo||"",onChange:C=>y("gsisNo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Business Cycle From"}),e.jsx("input",{type:"text",value:c?.busFr?N(c.busFr):"",onChange:C=>y("busFr",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Business Cycle To"}),e.jsx("input",{type:"text",value:c?.busTo?N(c.busTo):"",onChange:C=>y("busTo",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Telephone"}),e.jsx("input",{type:"text",defaultValue:"128PC-87\\SQL2022",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:c?.email||"",onChange:C=>y("email",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Hrs Database Path:"}),e.jsx("input",{type:"text",value:c?.hrisPath||"",onChange:C=>y("hrisPath",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Payroll Database Path:"}),e.jsx("input",{type:"text",value:c?.payrollPath||"",onChange:C=>y("payrollPath",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"TKS Photo Path:"}),e.jsx("input",{type:"text",value:c?.tksPhotoPath||"",onChange:C=>y("tksPhotoPath",C.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.otPremiumFlag||!1,onChange:C=>y("otPremiumFlag",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Use OT Premium Breakdown"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.terminalID||!1,onChange:C=>y("terminalID",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"With Terminal"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.validateLogs||!1,onChange:C=>y("validateLogs",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Logs Validate"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.readOnlyTxtDate||!1,onChange:C=>y("readOnlyTxtDate",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Read Only Textbox Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.exportEmail||!1,onChange:C=>y("exportEmail",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Export with Sending Email"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.exportLateFilingDateFlag||!1,onChange:C=>y("exportLateFilingDateFlag",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Export Late Filing Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.enableAutoPairingLogsFlag||!1,onChange:C=>y("enableAutoPairingLogsFlag",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Enable Auto Pairing Logs"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.enableAppOTRawDataFlag||!1,onChange:C=>y("enableAppOTRawDataFlag",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Enable Approved OT"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.enable2ndShiftRawDataFlag||!1,onChange:C=>y("enable2ndShiftRawDataFlag",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Enable 2nd Shift in Raw Data"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-800 mb-4",children:"Company Config"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Number of Attempts"}),e.jsx("input",{type:"text",defaultValue:"5",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Policy"}),e.jsx("input",{type:"text",value:c?.policy||"",onChange:C=>y("policy",C.target.value),className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Password Age"}),e.jsx("input",{type:"text",defaultValue:"5",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",checked:c?.passwordHistory||!1,onChange:C=>y("passwordHistory",C.target.checked),disabled:!a}),e.jsx("span",{className:"text-gray-700",children:"Enforce Password History"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[e.jsx("h3",{className:"text-gray-800 mb-4",children:"License Policy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Server Name:"}),e.jsx("input",{type:"text",defaultValue:"TIMEKEEP128_VERSION910_Test",className:"w-32 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Max No Companies:"}),e.jsx("input",{type:"text",defaultValue:"Unlimited",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Max No Employees:"}),e.jsx("input",{type:"text",defaultValue:"Unlimited",className:"w-40 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-gray-700",children:"Registered Database:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",defaultValue:"TIMEKEEP128",className:"w-32 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",readOnly:!a}),e.jsx("button",{className:"px-3 py-1 bg-gray-300 hover:bg-gray-400 rounded transition-colors",disabled:!a,children:""})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Site Logo :"}),e.jsx("div",{className:"flex gap-2 mb-2",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!a}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${a?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a,children:"Upload"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a,children:"Remove"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"Site Content :"}),e.jsx("div",{className:"flex gap-2 mb-2",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",className:"hidden",disabled:!a}),e.jsx("span",{className:`block w-full px-4 py-2 bg-gray-200 text-gray-700 text-center rounded transition-colors ${a?"cursor-pointer hover:bg-gray-300":"cursor-not-allowed opacity-50"}`,children:"Choose File"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a,children:"Upload"}),e.jsx("button",{className:"flex-1 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!a,children:"Remove"})]})]})]})]})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),e.jsx(ls,{})]})}const Ky="Calendar SetUp";function JQ({onBack:t}){const[a,s]=o.useState(!1),[r,n]=o.useState(""),[l,i]=o.useState(""),[c,u]=o.useState(null),[h,m]=o.useState("2026"),[b,g]=o.useState(!1),[w,p]=o.useState(1),v=100,[f,y]=o.useState({year:"2026",month:"January",day:"1",description:"",holidayType:"Legal Holiday",time:""}),[N,C]=o.useState([]),[S,I]=o.useState(!1),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState(!1),[L,G]=o.useState(""),[re,ye]=o.useState([]),K=["January","February","March","April","May","June","July","August","September","October","November","December"],ne=[{value:"Legal Holiday",label:"Legal Holiday"},{value:"Special Holiday",label:"Special Holiday"},{value:"Calamity",label:"Calamity"},{value:"Calamity 2",label:"Calamity 2"},{value:"No Grace Period",label:"No Grace Period"},{value:"Early Dismissal",label:"Early Dismissal"},{value:"Double Legal Holiday",label:"Double Legal Holiday"},{value:"Special Holiday 2",label:"Special Holiday 2"},{value:"Non-Working Holiday",label:"Non-Working Holiday"}],[H,se]=o.useState({}),we=Ae=>H[Ae]===!0;o.useEffect(()=>{Y()},[]);const Y=()=>{const Ae=localStorage.getItem("loginPayload");if(Ae)try{const et=(JSON.parse(Ae).permissions||[]).filter(q=>Ss(q.formName)==="CalendarSetUp"),B={};et.forEach(q=>{const Z=Ss(q.accessTypeName);Z&&(B[Z]=!0)}),se(B)}catch(We){console.error("Error parsing or decrypting payload",We)}};o.useEffect(()=>{E(),P()},[]);const E=async()=>{I(!0),A("");try{const Ae=await z.get("/Fs/Process/CalendarSetUp");if(Ae.status===200&&Ae.data){const We=Ae.data.map(Re=>({id:Re.id?.toString()||"",year:Re.year||"",day:Re.day||"",month:Re.month||"",description:Re.description||"",holidayType:Re.holidayType||"",branch:Re.branch||"",time:Re.time||null,tdate:Re.tdate||"",time2:Re.time2||null}));C(We)}}catch(Ae){const We=Ae.response?.data?.message||Ae.message||"Failed to load holidays";A(We),console.error("Error fetching holidays:",Ae)}finally{I(!1)}},P=async()=>{U(!0),G("");try{const Ae=await z.get("/Fs/Employment/BranchSetUp");if(Ae.status===200&&Ae.data){const We=Ae.data.map(Re=>({branchId:Re.braID||Re.id||"",code:Re.braCode||Re.code||"",description:Re.braDesc||Re.description||"",branchManager:Re.braMngr||Re.branchManager||"",branchManagerCode:Re.braMngrCode||"",deviceName:Re.deviceName||Re.DeviceName||""}));O(We)}}catch(Ae){const We=Ae.response?.data?.message||Ae.message||"Failed to load branches";G(We),console.error("Error fetching branches:",Ae)}finally{U(!1)}},V=N.filter(Ae=>(Ae.description?.toLowerCase().includes(r.toLowerCase())||Ae.month?.toLowerCase().includes(r.toLowerCase())||Ae.branch?.toLowerCase().includes(r.toLowerCase()))&&Ae.year===h),D=F.filter(Ae=>Ae.code.toLowerCase().includes(l.toLowerCase())||Ae.description.toLowerCase().includes(l.toLowerCase())),R=Math.ceil(V.length/v),ee=(w-1)*v,Se=V.slice(ee,ee+v);o.useEffect(()=>{p(1)},[r,h]);const ue=()=>{u(null),y({year:h,month:"January",day:"1",description:"",holidayType:"Legal Holiday",time:""}),ye([]),s(!0)},oe=Ae=>{u(Ae),y({year:Ae.year,month:Ae.month,day:Ae.day,description:Ae.description,holidayType:Ae.holidayType,time:Ae.time||""});const We=Ae.branch?Ae.branch.split(",").map(Re=>Re.trim()):[];ye(We),s(!0)},le=async Ae=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete holiday "${Ae.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/CalendarSetUp/${Ae.id}`),await ts.log({accessType:"Delete",trans:`Deleted holiday "${Ae.description}"`,messages:`Holiday "${Ae.description}" removed`,formName:Ky}),await xe.fire({icon:"success",title:"Success",text:"Holiday deleted successfully.",timer:2e3,showConfirmButton:!1}),await E()}catch(Re){const et=Re.response?.data?.message||Re.message||"Failed to delete holiday";await xe.fire({icon:"error",title:"Error",text:et}),console.error("Error deleting holiday:",Re)}},Q=Ae=>{ye(We=>We.includes(Ae)?We.filter(Re=>Re!==Ae):[...We,Ae])},ve=async()=>{if(!f.description){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a description."});return}g(!0);try{const Ae=K.indexOf(f.month)+1,We=`${f.year}-${Ae.toString().padStart(2,"0")}-${f.day.padStart(2,"0")}T00:00:00`,Re={id:c?parseInt(c.id):0,year:f.year,day:f.day,month:f.month,description:f.description,holidayType:f.holidayType,branch:re.join(", "),time:f.time||null,tdate:We,time2:null};c?(await z.put(`/Fs/Process/CalendarSetUp/${c.id}`,Re),await ts.log({accessType:"Edit",trans:`Updated holiday "${Re.description}"`,messages:`Holiday "${Re.description}" updated`,formName:Ky}),await xe.fire({icon:"success",title:"Success",text:"Holiday updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Process/CalendarSetUp",Re),await ts.log({accessType:"Add",trans:`Created holiday "${Re.description}"`,messages:`Holiday "${Re.description}" created`,formName:Ky}),await xe.fire({icon:"success",title:"Success",text:"Holiday created successfully.",timer:2e3,showConfirmButton:!1})),await E(),s(!1),u(null),ye([])}catch(Ae){const We=Ae.response?.data?.message||Ae.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:We}),console.error("Error submitting holiday:",Ae)}finally{g(!1)}},Ce=()=>{s(!1),u(null),ye([])};o.useEffect(()=>{const Ae=We=>{We.key==="Escape"&&a&&(s(!1),u(null))};return a&&document.addEventListener("keydown",Ae),()=>{document.removeEventListener("keydown",Ae)}},[a]);const $e=Array.from({length:20},(Ae,We)=>(new Date().getFullYear()-5+We).toString());return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Holiday Calendar"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage company holidays, special occasions, and branch-specific observances. This calendar is used to calculate holiday pay and overtime rates for employees."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("span",{className:"text-blue-600",children:"Legal Holidays:"})," Regular pay + holiday premium"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx("span",{className:"text-orange-600",children:"Special Holidays:"})," Standard pay rates apply"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure branch-specific holidays for regional offices"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Copy holidays from previous years for efficiency"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[we("Add")&&we("View")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Year:"}),e.jsx("select",{value:h,onChange:Ae=>m(Ae.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:$e.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:ue,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]})]}),we("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:Ae=>n(Ae.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:S?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading holidays..."})}):k?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:k})}):we("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Year"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Month"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Day"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Holiday Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Branch"}),(we("View")||we("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Se.length>0?Se.map(Ae=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-blue-600",children:Ae.year}),e.jsx("td",{className:"px-4 py-2",children:Ae.month}),e.jsx("td",{className:"px-4 py-2",children:Ae.day}),e.jsx("td",{className:"px-4 py-2",children:Ae.description}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:Ae.holidayType==="Legal Holiday"?"text-blue-600":"text-orange-600",children:Ae.holidayType})}),e.jsx("td",{className:"px-4 py-2",children:Ae.branch}),(we("Edit")||we("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[we("Edit")&&e.jsx("button",{onClick:()=>oe(Ae),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),we("Edit")&&we("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),we("Delete")&&e.jsx("button",{onClick:()=>le(Ae),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Ae.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-16 text-center",children:e.jsxs("div",{className:"text-gray-500",children:["No holidays found for ",h]})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),we("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",V.length>0?ee+1:0," to ",Math.min(ee+v,V.length)," of ",V.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(Ae=>Math.max(Ae-1,1)),disabled:w===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:R},(Ae,We)=>We+1).map(Ae=>e.jsx("button",{onClick:()=>p(Ae),className:`px-3 py-1 rounded ${w===Ae?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ae},Ae)),e.jsx("button",{onClick:()=>p(Ae=>Math.min(Ae+1,R)),disabled:w>=R||V.length===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:c?"Edit Holiday":"Create New Holiday"}),e.jsx("button",{onClick:Ce,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Holiday Calendar"}),e.jsxs("div",{className:"space-y-3 text-sm mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Year :"}),e.jsx("select",{value:f.year,onChange:Ae=>y({...f,year:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",children:$e.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Month :"}),e.jsx("select",{value:f.month,onChange:Ae=>y({...f,month:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-48",children:K.map(Ae=>e.jsx("option",{value:Ae,children:Ae},Ae))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Day :"}),e.jsx("select",{value:f.day,onChange:Ae=>y({...f,day:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-24",children:Array.from({length:31},(Ae,We)=>We+1).map(Ae=>e.jsx("option",{value:Ae.toString(),children:Ae},Ae))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Description :"}),e.jsx("input",{type:"text",value:f.description,onChange:Ae=>y({...f,description:Ae.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Holiday Type :"}),e.jsx("select",{value:f.holidayType,onChange:Ae=>y({...f,holidayType:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-48",children:ne.map(Ae=>e.jsx("option",{value:Ae.value,children:Ae.label},Ae.value))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-700 font-medium w-40",children:"Time :"}),e.jsx("input",{type:"text",value:f.time,onChange:Ae=>y({...f,time:Ae.target.value}),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",placeholder:"Optional"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-gray-700 font-medium mb-3",children:"Select Branches:"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:Ae=>i(Ae.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code or description..."})]}),e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden max-h-64 overflow-y-auto",children:M?e.jsx("div",{className:"p-4 text-center text-gray-600 text-sm",children:"Loading branches..."}):L?e.jsx("div",{className:"p-4 text-center text-red-600 text-sm",children:L}):e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-gray-100 border-b border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left w-16",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:re.length===D.length&&D.length>0,onChange:Ae=>{Ae.target.checked?ye(D.map(We=>We.code)):ye([])}})}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700 font-medium",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700 font-medium",children:"Description"})]})}),e.jsx("tbody",{children:D.length>0?D.map(Ae=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 cursor-pointer",onClick:()=>Q(Ae.code),children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:re.includes(Ae.code),onChange:()=>Q(Ae.code),onClick:We=>We.stopPropagation()})}),e.jsx("td",{className:"px-3 py-2 text-gray-900",children:Ae.code}),e.jsx("td",{className:"px-3 py-2 text-gray-600",children:Ae.description})]},Ae.branchId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-gray-500",children:"No branches found"})})})]})}),re.length>0&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",e.jsx("span",{className:"font-medium text-blue-600",children:re.length})," branch(es)"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm font-medium",onClick:ve,disabled:b,children:b?"Saving...":c?"Update":"Submit"}),e.jsx("button",{className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm font-medium",onClick:Ce,disabled:b,children:"Back to List"})]})]})]})})]})]})}),e.jsx(ls,{})]})}const qy="Holiday OT Rate SetUp",QQ=[{code:"Legal1",label:"Legal Holiday"},{code:"Special1",label:"Special Holiday"},{code:"Calamity1",label:"Calamity"},{code:"NoGrace1",label:"No Grace Period"},{code:"Early1",label:"Early Dismissal"},{code:"2LEGHOL",label:"Double Legal Holiday"},{code:"SPH2",label:"Special Holiday 2"},{code:"NonWrk1",label:"Non-Working Holiday"}];function ZQ(){const[t,a]=o.useState(!1),[s,r]=o.useState(null),[n,l]=o.useState(!1),[i,c]=o.useState(!1),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(1),[p,v]=o.useState([]),[f,y]=o.useState(!1),[N,C]=o.useState(""),[S,I]=o.useState([]),[k,A]=o.useState(!1),[F,O]=o.useState({code:"",desc:"",holidayType:"",withintheShift:"",withintheShiftwithND:"",otPremiumWithintheShiftwithND:"",aftetheShift:"",aftertheShiftwithND:"",otPremiumAftertheShiftwithND:"",withintheShiftandRestday:"",withintheShiftandRestdaywithND:"",otPremiumWithintheShiftandRestdaywithND:"",aftertheShiftandRestday:"",aftertheShiftandRestdaywithND:"",otPremiumAftertheShiftandRestdaywithND:"",unworkedHolidayPay:"",unworkedHolidayPayRestday:"",unprodWorkHolidayRegDay:"",unprodWorkHolidayRestDay:"",eqOTCodeWinShf:"",eqOTCodeWinShfRest:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfRDForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:"",eqOTCodeAftrShfRDNDForNoOfHrs:""});o.useEffect(()=>{M()},[]);const M=async()=>{y(!0),C("");try{const Ce=await z.get("/Fs/Process/Overtime/HolidayOTRateSetUp");Ce.status===200&&Ce.data&&(v(Ce.data),Ce.data.length>0&&(r(0),E(Ce.data[0])))}catch(Ce){const $e=Ce.response?.data?.message||Ce.message||"Failed to load holiday OT rates";C($e),console.error("Error fetching holiday OT rates:",Ce)}finally{y(!1)}},U=async()=>{A(!0);try{const Ce=await z.get("/Fs/Process/Overtime/OverTimeFileSetUp");Ce.status===200&&Ce.data&&I(Ce.data)}catch(Ce){console.error("Error fetching OT codes:",Ce)}finally{A(!1)}},L=S.filter(Ce=>Ce.otfCode.toLowerCase().includes(m.toLowerCase())||Ce.description.toLowerCase().includes(m.toLowerCase())),G=10,re=Math.ceil(L.length/G),ye=(g-1)*G,K=ye+G,ne=L.slice(ye,K),[H,se]=o.useState({}),we=Ce=>H[Ce]===!0;o.useEffect(()=>{Y()},[]);const Y=()=>{const Ce=localStorage.getItem("loginPayload");if(Ce)try{const We=(JSON.parse(Ce).permissions||[]).filter(et=>Ss(et.formName)==="HolidayOTRatesSetUp"),Re={};We.forEach(et=>{const B=Ss(et.accessTypeName);B&&(Re[B]=!0)}),se(Re)}catch($e){console.error("Error parsing or decrypting payload",$e)}},E=Ce=>{O({code:Ce.code,desc:Ce.desc,holidayType:Ce.holidayType,withintheShift:Ce.withintheShift,withintheShiftwithND:Ce.withintheShiftwithND,otPremiumWithintheShiftwithND:Ce.otPremiumWithintheShiftwithND,aftetheShift:Ce.aftetheShift,aftertheShiftwithND:Ce.aftertheShiftwithND,otPremiumAftertheShiftwithND:Ce.otPremiumAftertheShiftwithND,withintheShiftandRestday:Ce.withintheShiftandRestday,withintheShiftandRestdaywithND:Ce.withintheShiftandRestdaywithND,otPremiumWithintheShiftandRestdaywithND:Ce.otPremiumWithintheShiftandRestdaywithND,aftertheShiftandRestday:Ce.aftertheShiftandRestday,aftertheShiftandRestdaywithND:Ce.aftertheShiftandRestdaywithND,otPremiumAftertheShiftandRestdaywithND:Ce.otPremiumAftertheShiftandRestdaywithND,unworkedHolidayPay:Ce.unworkedHolidayPay,unworkedHolidayPayRestday:Ce.unworkedHolidayPayRestday,unprodWorkHolidayRegDay:Ce.unprodWorkHolidayRegDay,unprodWorkHolidayRestDay:Ce.unprodWorkHolidayRestDay,eqOTCodeWinShf:Ce.eqOTCodeWinShf,eqOTCodeWinShfRest:Ce.eqOTCodeWinShfRest,eqOTCodeAftrShfForNoOfHrs:Ce.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfRDForNoOfHrs:Ce.eqOTCodeAftrShfRDForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:Ce.eqOTCodeAftrShfNDForNoOfHrs,eqOTCodeAftrShfRDNDForNoOfHrs:Ce.eqOTCodeAftrShfRDNDForNoOfHrs})},P=Ce=>{h(Ce),b(""),w(1),U(),c(!0)},V=Ce=>{O($e=>({...$e,[u]:Ce})),c(!1)},D=Ce=>{O($e=>({...$e,[Ce]:""}))},R=()=>{if(s===null){xe.fire({icon:"warning",title:"No Record Selected",text:"Please select a record to edit."});return}a(!0)},ee=async()=>{if(!F.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!F.desc.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}l(!0);try{const Ce={id:s!==null?p[s].id:0,code:F.code,desc:F.desc,withintheShift:F.withintheShift,aftetheShift:F.aftetheShift,withintheShiftwithND:F.withintheShiftwithND,aftertheShiftwithND:F.aftertheShiftwithND,withintheShiftandRestday:F.withintheShiftandRestday,aftertheShiftandRestday:F.aftertheShiftandRestday,withintheShiftandRestdaywithND:F.withintheShiftandRestdaywithND,aftertheShiftandRestdaywithND:F.aftertheShiftandRestdaywithND,unworkedHolidayPay:F.unworkedHolidayPay,unworkedHolidayPayRestday:F.unworkedHolidayPayRestday,holidayType:F.holidayType,unprodWorkHolidayRegDay:F.unprodWorkHolidayRegDay,unprodWorkHolidayRestDay:F.unprodWorkHolidayRestDay,otPremiumWithintheShiftwithND:F.otPremiumWithintheShiftwithND,otPremiumAftertheShiftwithND:F.otPremiumAftertheShiftwithND,otPremiumWithintheShiftandRestdaywithND:F.otPremiumWithintheShiftandRestdaywithND,otPremiumAftertheShiftandRestdaywithND:F.otPremiumAftertheShiftandRestdaywithND,eqOTCodeWinShf:F.eqOTCodeWinShf,eqOTCodeWinShfRest:F.eqOTCodeWinShfRest,eqOTCodeAftrShfForNoOfHrs:F.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfRDForNoOfHrs:F.eqOTCodeAftrShfRDForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:F.eqOTCodeAftrShfNDForNoOfHrs,eqOTCodeAftrShfRDNDForNoOfHrs:F.eqOTCodeAftrShfRDNDForNoOfHrs};s!==null&&p[s]?(await z.put(`/Fs/Process/Overtime/HolidayOTRateSetUp/${p[s].id}`,Ce),await ts.log({accessType:"Edit",trans:`Updated Holiday OT rate "${F.code} - ${F.desc}"`,messages:`Holiday OT rate "${F.code} - ${F.desc}" updated`,formName:qy}),await xe.fire({icon:"success",title:"Success",text:"Holiday OT rate updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Process/Overtime/HolidayOTRateSetUp",Ce),await ts.log({accessType:"Add",trans:`Created Holiday OT rate "${F.code} - ${F.desc}"`,messages:`Holiday OT rate "${F.code} - ${F.desc}" created`,formName:qy}),await xe.fire({icon:"success",title:"Success",text:"Holiday OT rate created successfully.",timer:2e3,showConfirmButton:!1})),await M(),a(!1)}catch(Ce){const $e=Ce.response?.data?.message||Ce.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:$e}),console.error("Error saving holiday OT rate:",Ce)}finally{l(!1)}},Se=()=>{a(!1),s!==null&&p[s]&&E(p[s])},ue=()=>{a(!0),r(null),O({code:"",desc:"",holidayType:"",withintheShift:"",withintheShiftwithND:"",otPremiumWithintheShiftwithND:"",aftetheShift:"",aftertheShiftwithND:"",otPremiumAftertheShiftwithND:"",withintheShiftandRestday:"",withintheShiftandRestdaywithND:"",otPremiumWithintheShiftandRestdaywithND:"",aftertheShiftandRestday:"",aftertheShiftandRestdaywithND:"",otPremiumAftertheShiftandRestdaywithND:"",unworkedHolidayPay:"",unworkedHolidayPayRestday:"",unprodWorkHolidayRegDay:"",unprodWorkHolidayRestDay:"",eqOTCodeWinShf:"",eqOTCodeWinShfRest:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfRDForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:"",eqOTCodeAftrShfRDNDForNoOfHrs:""})},oe=async()=>{if(s===null||!p[s]){await xe.fire({icon:"warning",title:"No Record Selected",text:"Please select a record to delete."});return}const Ce=p[s];if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete holiday OT rate "${Ce.code} - ${Ce.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Overtime/HolidayOTRateSetUp/${Ce.id}`),await ts.log({accessType:"Delete",trans:`Deleted Holiday OT rate "${Ce.code} - ${Ce.desc}"`,messages:`Holiday OT rate "${Ce.code} - ${Ce.desc}" removed`,formName:qy}),await xe.fire({icon:"success",title:"Success",text:"Holiday OT rate deleted successfully.",timer:2e3,showConfirmButton:!1}),await M(),r(null)}catch(Ae){const We=Ae.response?.data?.message||Ae.message||"Failed to delete holiday OT rate";await xe.fire({icon:"error",title:"Error",text:We}),console.error("Error deleting holiday OT rate:",Ae)}},le=(Ce,$e)=>{O(Ae=>({...Ae,[Ce]:$e}))},Q=Ce=>{if(!t){r(Ce);const $e=p[Ce];E($e)}},ve=(Ce,$e,Ae=!1)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:[Ce," ",Ae&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:F[$e],readOnly:!0,className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-default"}),e.jsx("button",{type:"button",onClick:()=>P($e),disabled:!t,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Search"}),e.jsx("button",{type:"button",onClick:()=>D($e),disabled:!t,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]});return o.useEffect(()=>{const Ce=$e=>{$e.key==="Escape"&&i&&c(!1)};return i&&document.addEventListener("keydown",Ce),()=>document.removeEventListener("keydown",Ce)},[i]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Holiday OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define overtime rate codes and premium calculations for holidays. Configure rates for regular shifts, night differential, rest days, and their combinations to ensure accurate holiday pay computations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Within shift and after shift OT rates","Night differential premium calculations","Rest day combination rates","Unworked holiday pay configuration"].map(Ce=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Ce})]},Ce))})]})]})}),we("View")&&e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[!t&&we("Add")&&e.jsxs("button",{onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"})," Create New"]}),we("Edit")&&(t?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ee,disabled:n,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(za,{className:"w-4 h-4"}),n?"Saving...":"Save"]}),e.jsxs("button",{onClick:Se,disabled:n,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Bv,{className:"w-4 h-4"})," Cancel"]})]}):e.jsxs("button",{onClick:R,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ri,{className:"w-4 h-4"})," Edit"]})),!t&&we("Delete")&&e.jsxs("button",{onClick:oe,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ns,{className:"w-4 h-4"})," Delete"]})]}),we("View")?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:f?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading holiday OT rates..."})}):N?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:N})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Code"," ",e.jsx(py,{className:"w-4 h-4 text-gray-400"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Description"," ",e.jsx(py,{className:"w-4 h-4 text-gray-400"})]})}),e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsxs("button",{className:"flex items-center gap-1 text-gray-700 hover:text-gray-900 transition-colors",children:["Holiday Type"," ",e.jsx(py,{className:"w-4 h-4 text-gray-400"})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:p.length>0?p.map((Ce,$e)=>e.jsxs("tr",{onClick:()=>Q($e),className:`cursor-pointer transition-colors ${s===$e?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.code}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.desc}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Ce.holidayType})]},Ce.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No records found"})})})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:F.code,maxLength:10,onChange:Ce=>le("code",Ce.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),ve("Within the Shift","withintheShift",!0),ve("After the Shift","aftetheShift",!0),ve("Within the Shift and Restday","withintheShiftandRestday",!0),ve("After the Shift and Restday","aftertheShiftandRestday",!0),ve("Unworked Holiday Pay","unworkedHolidayPay",!0),ve("Unworked Holiday Pay (Restday)","unworkedHolidayPayRestday",!0)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:F.desc,onChange:Ce=>le("desc",Ce.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600"})]}),ve("Within the Shift With ND","withintheShiftwithND",!0),ve("After the Shift With ND","aftertheShiftwithND",!0),ve("Within the Shift and Restday with ND","withintheShiftandRestdaywithND",!0),ve("After the Shift and Restday with ND","aftertheShiftandRestdaywithND",!0)]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-700 mb-2",children:["Holiday Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:F.holidayType,onChange:Ce=>le("holidayType",Ce.target.value),disabled:!t,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-50 disabled:text-gray-600",children:[e.jsx("option",{value:"",children:"Select Holiday Type"}),QQ.map(Ce=>e.jsx("option",{value:Ce.code,children:Ce.label},Ce.code))]})]}),ve("OT Premium Within the Shift with ND","otPremiumWithintheShiftwithND",!0),ve("OT Premium After the Shift with ND","otPremiumAftertheShiftwithND",!0),ve("OT Premium Within the Shift and Restday with ND","otPremiumWithintheShiftandRestdaywithND",!0),ve("OT Premium After the Shift and Restday with ND","otPremiumAftertheShiftandRestdaywithND",!0),ve("Equivalent OT Code of Within in the Shift","eqOTCodeWinShf"),ve("Equivalent OT Code of Within in the Shift and Rest Day","eqOTCodeWinShfRest")]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h3",{className:"text-gray-900 mb-6",children:"Equivalent OT Code for No of Hrs"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[ve("After The Shift","eqOTCodeAftrShfForNoOfHrs"),ve("After The Shift and Rest Day","eqOTCodeAftrShfRDForNoOfHrs"),ve("After The Shift With ND","eqOTCodeAftrShfNDForNoOfHrs"),ve("After The Shift and Rest Day With ND","eqOTCodeAftrShfRDNDForNoOfHrs")]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-semibold",children:"Note:"})," Fields marked with ",e.jsx("span",{className:"text-red-500",children:"*"})," are required. Holiday OT rates are used to calculate overtime premiums for employees working during holidays."]})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Overtime Code"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:Ce=>b(Ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-80"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:k?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:ne.length>0?ne.map(Ce=>e.jsxs("tr",{onClick:()=>V(Ce.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:Ce.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:Ce.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Ce.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Ce.defAmt.toFixed(2)})]},Ce.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",ye+1," to"," ",Math.min(K,L.length)," of"," ",L.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(Ce=>Math.max(1,Ce-1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),Array.from({length:Math.min(5,re)},(Ce,$e)=>$e+1).map(Ce=>e.jsx("button",{onClick:()=>w(Ce),className:`px-3 py-1 rounded text-sm ${g===Ce?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ce},Ce)),e.jsx("button",{onClick:()=>w(Ce=>Math.min(re,Ce+1)),disabled:g===re,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})}),e.jsx(ls,{})]})}const Xy="Overtime File SetUp";function eZ({onBack:t}){const[a,s]=o.useState(!1),[r,n]=o.useState(""),[l,i]=o.useState(null),[c,u]=o.useState(!1),[h,m]=o.useState({otfCode:"",earnCode:"",rate1:"0",rate2:"0",defAmt:"0.00",incPayslip:"",incColaOT:"",incColaBasic:"",description:"",isExemptionRpt:!1}),[b,g]=o.useState([]),[w,p]=o.useState(!1),[v,f]=o.useState("");o.useEffect(()=>{y()},[]);const y=async()=>{p(!0),f("");try{const K=await z.get("/Fs/Process/Overtime/OverTimeFileSetUp");K.status===200&&K.data&&g(K.data)}catch(K){const ne=K.response?.data?.message||K.message||"Failed to load overtime data";f(ne),console.error("Error fetching overtime data:",K)}finally{p(!1)}},N=b.filter(K=>K.otfCode.toLowerCase().includes(r.toLowerCase())||K.description.toLowerCase().includes(r.toLowerCase())||K.earnCode.toLowerCase().includes(r.toLowerCase())),[C,S]=o.useState(1),I=25,k=Math.ceil(N.length/I),A=(C-1)*I,F=A+I,O=N.slice(A,F);o.useEffect(()=>{S(1)},[r]);const M=K=>{i(K),m({otfCode:K.otfCode,earnCode:K.earnCode,rate1:K.rate1.toString(),rate2:K.rate2.toString(),defAmt:K.defAmt.toFixed(2),incPayslip:K.incPayslip,incColaOT:K.incColaOT,incColaBasic:K.incColaBasic,description:K.description,isExemptionRpt:K.isExemptionRpt}),s(!0)},U=()=>{i(null),m({otfCode:"",earnCode:"",rate1:"0",rate2:"0",defAmt:"0.00",incPayslip:"",incColaOT:"",incColaBasic:"",description:"",isExemptionRpt:!1}),s(!0)},L=async K=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete overtime code "${K.otfCode} - ${K.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Overtime/OverTimeFileSetUp/${K.otfid}`),await ts.log({accessType:"Delete",trans:`Deleted overtime code "${K.otfCode} - ${K.description}"`,messages:`Overtime code "${K.otfCode} - ${K.description}" removed`,formName:Xy}),await xe.fire({icon:"success",title:"Success",text:"Overtime code deleted successfully.",timer:2e3,showConfirmButton:!1}),await y()}catch(H){const se=H.response?.data?.message||H.message||"Failed to delete overtime code";await xe.fire({icon:"error",title:"Error",text:se}),console.error("Error deleting overtime code:",H)}},G=async K=>{if(K.preventDefault(),!h.otfCode.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!h.description.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(b.some(H=>H.otfCode.toLowerCase()===h.otfCode.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This overtime code is already in use. Please use a different code."});return}u(!0);try{const H={otfid:0,otfCode:h.otfCode,earnCode:h.earnCode,rate1:parseFloat(h.rate1)||0,rate2:parseFloat(h.rate2)||0,defAmt:parseFloat(h.defAmt)||0,incPayslip:h.incPayslip,incColaOT:h.incColaOT,incColaBasic:h.incColaBasic,description:h.description,isExemptionRpt:h.isExemptionRpt};await z.post("/Fs/Process/Overtime/OverTimeFileSetUp",H),await ts.log({accessType:"Add",trans:`Created overtime code "${h.otfCode} - ${h.description}"`,messages:`Overtime code "${h.otfCode} - ${h.description}" created`,formName:Xy}),await xe.fire({icon:"success",title:"Success",text:"Overtime code created successfully.",timer:2e3,showConfirmButton:!1}),await y(),s(!1)}catch(H){const se=H.response?.data?.message||H.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:se}),console.error("Error creating overtime code:",H)}finally{u(!1)}},re=async K=>{if(K.preventDefault(),!l)return;if(!h.otfCode.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(!h.description.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(b.some(H=>H.otfid!==l.otfid&&H.otfCode.toLowerCase()===h.otfCode.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This overtime code is already in use. Please use a different code."});return}u(!0);try{const H={otfid:l.otfid,otfCode:h.otfCode,earnCode:h.earnCode,rate1:parseFloat(h.rate1)||0,rate2:parseFloat(h.rate2)||0,defAmt:parseFloat(h.defAmt)||0,incPayslip:h.incPayslip,incColaOT:h.incColaOT,incColaBasic:h.incColaBasic,description:h.description,isExemptionRpt:h.isExemptionRpt};await z.put(`/Fs/Process/Overtime/OverTimeFileSetUp/${l.otfid}`,H),await ts.log({accessType:"Edit",trans:`Updated overtime code "${h.otfCode} - ${h.description}"`,messages:`Overtime code "${h.otfCode} - ${h.description}" updated`,formName:Xy}),await xe.fire({icon:"success",title:"Success",text:"Overtime code updated successfully.",timer:2e3,showConfirmButton:!1}),await y(),s(!1),i(null)}catch(H){const se=H.response?.data?.message||H.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:se}),console.error("Error updating overtime code:",H)}finally{u(!1)}},ye=K=>{l?re(K):G(K)};return o.useEffect(()=>{const K=ne=>{ne.key==="Escape"&&a&&(s(!1),i(null))};return a&&document.addEventListener("keydown",K),()=>{document.removeEventListener("keydown",K)}},[a]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Overtime File Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure overtime codes with their respective rates and default amounts. These codes are used throughout the system for calculating overtime pay and generating reports."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define overtime rate codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set default amounts per code"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure exemption from reports"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Manage basic and premium rates"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:U,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:r,onChange:K=>n(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 text-sm"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:w?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading overtime data..."})}):v?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:v})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Earn Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Rate 1"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Rate 2"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Default Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Is Exempted Rpt"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:O.length>0?O.map(K=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:K.otfCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:K.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:K.earnCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:K.rate1.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:K.rate2.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:K.defAmt.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("input",{type:"checkbox",checked:K.isExemptionRpt,readOnly:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>M(K),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>L(K),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},K.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",N.length>0?A+1:0," to ",Math.min(F,N.length)," of ",N.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(K=>Math.max(1,K-1)),disabled:C===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:k},(K,ne)=>ne+1).map(K=>e.jsx("button",{onClick:()=>S(K),className:`px-3 py-1 rounded transition-colors ${C===K?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:K},K)),e.jsx("button",{onClick:()=>S(K=>Math.min(k||1,K+1)),disabled:C>=k||N.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:l?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{s(!1),i(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ye,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Overtime File Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Code :"}),e.jsx("input",{type:"text",value:h.otfCode,maxLength:10,onChange:K=>m({...h,otfCode:K.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Description :"}),e.jsx("input",{type:"text",value:h.description,onChange:K=>m({...h,description:K.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Earn Code :"}),e.jsx("input",{type:"text",value:h.earnCode,onChange:K=>m({...h,earnCode:K.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Rate 1 :"}),e.jsx("input",{type:"number",step:"0.01",value:h.rate1,onChange:K=>m({...h,rate1:K.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Rate 2 :"}),e.jsx("input",{type:"number",step:"0.01",value:h.rate2,onChange:K=>m({...h,rate2:K.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Default Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:h.defAmt,onChange:K=>m({...h,defAmt:K.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Payslip :"}),e.jsx("input",{type:"text",value:h.incPayslip,onChange:K=>m({...h,incPayslip:K.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Cola OT :"}),e.jsx("input",{type:"text",value:h.incColaOT,onChange:K=>m({...h,incColaOT:K.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Inc Cola Basic :"}),e.jsx("input",{type:"text",value:h.incColaBasic,onChange:K=>m({...h,incColaBasic:K.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Is Exempted Rpt :"}),e.jsx("input",{type:"checkbox",checked:h.isExemptionRpt,onChange:K=>m({...h,isExemptionRpt:K.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:c?l?"Updating...":"Submitting...":l?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:()=>{s(!1),i(null)},disabled:c,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})}),e.jsx(ls,{})]})}const Jy="Allowance Bracket Code SetUp";function tZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(!1),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(null),[I,k]=o.useState([]),[A,F]=o.useState(!1),[O,M]=o.useState(""),[U,L]=o.useState({}),G=R=>U[R]===!0;o.useEffect(()=>{re()},[]);const re=()=>{const R=localStorage.getItem("loginPayload");if(R)try{const ue=(JSON.parse(R).permissions||[]).filter(le=>Ss(le.formName)==="AllowBracketingCode"),oe={};ue.forEach(le=>{const Q=Ss(le.accessTypeName);Q&&(oe[Q]=!0)}),L(oe)}catch(ee){console.error("Error parsing or decrypting payload",ee)}};o.useEffect(()=>{ye()},[]);const ye=async()=>{F(!0),M("");try{const R=await z.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp");if(R.status===200&&R.data){const ee=R.data.map(Se=>({id:Se.id||"",code:Se.code||"",description:Se.description||""}));k(ee)}}catch(R){const ee=R.response?.data?.message||R.message||"Failed to load allowance bracket codes";M(ee),console.error("Error fetching allowance bracket codes:",R)}finally{F(!1)}};o.useEffect(()=>{const R=ee=>{ee.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[t]);const K=()=>{l(!1),c(null),S(null),p(""),f(""),N(""),a(!0)},ne=(R,ee)=>{l(!0),c(ee),S(R.id||null),p(R.code),f(""),N(R.description),a(!0)},H=async R=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete allowance bracket code ${R.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp/${R.id}`),await ts.log({accessType:"Delete",trans:`Deleted allowance bracket code ${R.code}`,messages:`Allowance bracket code deleted: ${R.code}`,formName:Jy}),await xe.fire({icon:"success",title:"Success",text:"Allowance bracket code deleted successfully.",timer:2e3,showConfirmButton:!1}),await ye()}catch(Se){const ue=Se.response?.data?.message||Se.message||"Failed to delete allowance bracket code";await xe.fire({icon:"error",title:"Error",text:ue}),console.error("Error deleting allowance bracket code:",Se)}},se=R=>{p(R),R.length>10?f("Code maximum 10 characters"):f("")},we=async()=>{if(!w.trim()||w.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(I.some((ee,Se)=>n&&i===Se?!1:ee.code.toLowerCase()===w.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}g(!0);try{const ee={id:n&&C?parseInt(C):0,code:w,description:y};n&&C?(await z.put(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp/${ee.id}`,ee),await ts.log({accessType:"Edit",trans:`Updated allowance bracket code ${ee.code}`,messages:`Allowance bracket code updated: ${ee.code}`,formName:Jy}),await xe.fire({icon:"success",title:"Success",text:"Allowance bracket code updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp",ee),await ts.log({accessType:"Add",trans:`Created allowance bracket code ${ee.code}`,messages:`Allowance bracket code created: ${ee.code}`,formName:Jy}),await xe.fire({icon:"success",title:"Success",text:"Allowance bracket code created successfully.",timer:2e3,showConfirmButton:!1})),a(!1),p(""),f(""),N(""),S(null),l(!1),c(null),await ye()}catch(ee){const Se=ee.response?.data?.message||ee.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Se}),console.error("Error submitting form:",ee)}finally{g(!1)}},Y=I.filter(R=>R.code.toLowerCase().includes(s.toLowerCase())||R.description.toLowerCase().includes(s.toLowerCase())),E=Math.ceil(Y.length/m),P=(u-1)*m,V=P+m,D=Y.slice(P,V);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Allowance Bracket Code Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and manage allowance bracket codes used for categorizing and organizing different types of employee allowances and benefits within the payroll system."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Bracket code creation and management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Allowance categorization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible bracket configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Integration with allowance bracketing"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[G("Add")&&G("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:K,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),G("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:R=>r(R.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:A?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracket codes..."})}):O?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:O})}):G("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(G("View")||G("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{children:D.map((R,ee)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-gray-900",children:R.code}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:R.description}),(G("Edit")||G("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[G("Edit")&&e.jsx("button",{onClick:()=>ne(R,ee),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),G("Edit")&&G("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),G("Delete")&&e.jsx("button",{onClick:()=>H(R),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},ee))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),G("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Y.length===0?0:P+1," to ",Math.min(V,Y.length)," of ",Y.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(R=>Math.max(R-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:E},(R,ee)=>ee+1).map(R=>e.jsx("button",{onClick:()=>h(R),className:`px-3 py-1 rounded transition-colors ${u===R?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:R},R)),e.jsx("button",{onClick:()=>h(R=>Math.min(R+1,E)),disabled:u===E||E===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Allowance Bracket Code":"Create New Allowance Bracket Code"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Allowance Bracket Code Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:w,onChange:R=>se(R.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${v?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),v&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:v}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:y,onChange:R=>N(R.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:we,disabled:b,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:b?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:b,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(ls,{})]})}const Qy="Allowance Bracketing SetUp";function sZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(1),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState("RegDay"),[S,I]=o.useState(!1),[k,A]=o.useState(!1),[F,O]=o.useState({noOfHours:"",amount:"",earningCode:""}),[M,U]=o.useState(null),[L,G]=o.useState(!1),[re,ye]=o.useState([]),[K,ne]=o.useState(!1),[H,se]=o.useState(""),[we,Y]=o.useState([]),[E,P]=o.useState(!1),[V,D]=o.useState([]),[R,ee]=o.useState(!1),[Se,ue]=o.useState(""),[oe,le]=o.useState(1),[Q,ve]=o.useState([]),[Ce,$e]=o.useState(!1),[Ae,We]=o.useState(""),[Re,et]=o.useState(1),B=100,q=10,[Z,je]=o.useState({}),De=_=>Z[_]===!0;o.useEffect(()=>{Qe()},[]);const Qe=()=>{const _=localStorage.getItem("loginPayload");if(_)try{const ke=(JSON.parse(_).permissions||[]).filter(te=>Ss(te.formName)==="AllowBracketing"),Ie={};ke.forEach(te=>{const Pe=Ss(te.accessTypeName);Pe&&(Ie[Pe]=!0)}),je(Ie)}catch(Fe){console.error("Error parsing or decrypting payload",Fe)}};o.useEffect(()=>{qe(),Ye()},[]);const qe=async()=>{ne(!0),se("");try{const _=await z.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp");if(_.status===200&&_.data){const Fe=_.data.map(Oe=>({id:Oe.id?.toString()||"",dayType:Oe.dayType||"",noOfHrs:Oe.noOfHrs||0,earningCode:Oe.earningCode||"",amount:Oe.amount||0,code:Oe.code||"",workShiftCode:Oe.workShiftCode||"",byEmploymentStatFlag:Oe.byEmploymentStatFlag||!1,employmentStatus:Oe.employmentStatus||""}));ye(Fe)}}catch(_){const Fe=_.response?.data?.message||_.message||"Failed to load allowance bracketing data";se(Fe),console.error("Error fetching allowance bracketing data:",_)}finally{ne(!1)}},Ye=async()=>{P(!0);try{const _=await z.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(_.status===200&&_.data){const Fe=_.data.map(Oe=>({id:Oe.earnID?.toString()||Oe.id||"",code:Oe.earnCode||Oe.code||"",description:Oe.earnDesc||Oe.description||""}));Y(Fe)}}catch(_){console.error("Error fetching earning codes:",_)}finally{P(!1)}},ht=async()=>{ee(!0);try{const _=await z.get("/Fs/Process/AllowanceAndEarnings/AllowanceBracketCodeSetUp");if(_.status===200&&_.data){const Fe=_.data.map(Oe=>({id:Oe.id||0,code:Oe.code||"",description:Oe.description||""}));D(Fe)}}catch(_){console.error("Error fetching allowance bracket codes:",_)}finally{ee(!1)}},St=async()=>{$e(!0);try{const _=await z.get("/Fs/Process/AllowanceAndEarnings/WorkShiftSetUp");if(_.status===200&&_.data){const Fe=_.data.map(Oe=>({id:Oe.id||Oe.workShiftID||0,code:Oe.code||Oe.workShiftCode||"",description:Oe.description||Oe.workShiftDesc||""}));ve(Fe)}}catch(_){console.error("Error fetching workshift codes:",_)}finally{$e(!1)}},dt=we.filter(_=>_.code.toLowerCase().includes(g.toLowerCase())||_.description.toLowerCase().includes(g.toLowerCase())),Et=V.filter(_=>_.code.toLowerCase().includes(Se.toLowerCase())||_.description.toLowerCase().includes(Se.toLowerCase())),Te=Q.filter(_=>_.code.toLowerCase().includes(Ae.toLowerCase())||_.description.toLowerCase().includes(Ae.toLowerCase())),Ee=Math.ceil(re.length/B),pe=(m-1)*B,Je=re.slice(pe,pe+B),[pt,Mt]=o.useState(1),Wt=Math.ceil(dt.length/q),$t=(pt-1)*q,lt=dt.slice($t,$t+q),bt=Math.ceil(Et.length/q),Nt=(oe-1)*q,wt=Et.slice(Nt,Nt+q),It=Math.ceil(Te.length/q),Dt=(Re-1)*q,Ke=Te.slice(Dt,Dt+q);o.useEffect(()=>{b(1)},[p,f]),o.useEffect(()=>{Mt(1)},[g]),o.useEffect(()=>{le(1)},[Se]),o.useEffect(()=>{et(1)},[Ae]);const tt=()=>{O({noOfHours:"",amount:"",earningCode:""}),a(!0)},Le=_=>{U(_),O({noOfHours:_.noOfHrs.toString(),amount:_.amount.toString(),earningCode:_.earningCode}),r(!0)},He=async _=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete this entry?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp/${_.id}`),await ts.log({accessType:"Delete",trans:`Deleted allowance bracketing entry ${_.code}`,messages:`Deleted entry details: ${JSON.stringify(_)}`,formName:Qy}),await xe.fire({icon:"success",title:"Success",text:"Allowance bracketing entry deleted successfully.",timer:2e3,showConfirmButton:!1}),await qe()}catch(Oe){const ke=Oe.response?.data?.message||Oe.message||"Failed to delete entry";await xe.fire({icon:"error",title:"Error",text:ke}),console.error("Error deleting entry:",Oe)}},ge=async _=>{if(_.preventDefault(),!F.noOfHours||!F.amount||!F.earningCode){await xe.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields."});return}G(!0);try{const Fe={id:0,dayType:N,noOfHrs:parseFloat(F.noOfHours),earningCode:F.earningCode,amount:parseFloat(F.amount),code:p,workShiftCode:f,byEmploymentStatFlag:k,employmentStatus:""};await z.post("/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp",Fe),await ts.log({accessType:"Add",trans:`Created allowance bracketing entry ${Fe.code}`,messages:`Created entry details: ${JSON.stringify(Fe)}`,formName:Qy}),await xe.fire({icon:"success",title:"Success",text:"Allowance bracketing entry created successfully.",timer:2e3,showConfirmButton:!1}),await qe(),a(!1),O({noOfHours:"",amount:"",earningCode:""})}catch(Fe){const Oe=Fe.response?.data?.message||Fe.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Oe}),console.error("Error creating entry:",Fe)}finally{G(!1)}},st=async _=>{if(_.preventDefault(),!!M){if(!F.noOfHours||!F.amount||!F.earningCode){await xe.fire({icon:"warning",title:"Validation Error",text:"Please fill in all required fields."});return}G(!0);try{const Fe={id:parseInt(M.id),dayType:M.dayType,noOfHrs:parseFloat(F.noOfHours),earningCode:F.earningCode,amount:parseFloat(F.amount),code:M.code,workShiftCode:M.workShiftCode,byEmploymentStatFlag:M.byEmploymentStatFlag,employmentStatus:M.employmentStatus};await z.put(`/Fs/Process/AllowanceAndEarnings/AllowanceBracketingSetUp/${M.id}`,Fe),await ts.log({accessType:"Edit",trans:`Updated allowance bracketing entry ${Fe.code}`,messages:`Updated entry details: ${JSON.stringify(Fe)}`,formName:Qy}),await xe.fire({icon:"success",title:"Success",text:"Allowance bracketing entry updated successfully.",timer:2e3,showConfirmButton:!1}),await qe(),r(!1),U(null),O({noOfHours:"",amount:"",earningCode:""})}catch(Fe){const Oe=Fe.response?.data?.message||Fe.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Oe}),console.error("Error updating entry:",Fe)}finally{G(!1)}}},Ze=()=>{a(!1),r(!1),U(null),O({noOfHours:"",amount:"",earningCode:""})},Rt=()=>{w(""),l(!0)},ft=_=>{O({...F,earningCode:_}),l(!1),w("")},kt=()=>{ue(""),le(1),ht(),c(!0)},he=_=>{v(_),c(!1),ue("")},be=()=>{We(""),et(1),St(),h(!0)},ie=_=>{y(_),h(!1),We("")};o.useEffect(()=>{const _=Fe=>{if(Fe.key==="Escape"){if(t||s){Fe.preventDefault(),Fe.stopPropagation(),t?(a(!1),O({noOfHours:"",amount:"",earningCode:""})):s&&(r(!1),U(null),O({noOfHours:"",amount:"",earningCode:""}));return}if(n){Fe.preventDefault(),l(!1),w("");return}if(i){Fe.preventDefault(),c(!1),ue("");return}if(u){Fe.preventDefault(),h(!1),We("");return}}};return(t||s||n||i||u)&&document.addEventListener("keydown",_,!0),()=>{document.removeEventListener("keydown",_,!0)}},[t,s,n,i,u]);const de=[{value:"RegDay",label:"Regular Day"},{value:"SpecHol",label:"Special Holiday"},{value:"RegHol",label:"Regular Holiday"},{value:"RestDay",label:"Rest Day"}],J=(_,Fe,Oe,ke,Ie,te)=>e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",ke>0?Ie+1:0," to ",Math.min(Ie+te,ke)," of ",ke," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Oe(Math.max(_-1,1)),disabled:_===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Fe},(Pe,ae)=>ae+1).map(Pe=>e.jsx("button",{onClick:()=>Oe(Pe),className:`px-3 py-1 rounded ${_===Pe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Pe},Pe)),e.jsx("button",{onClick:()=>Oe(Math.min(_+1,Fe)),disabled:_>=Fe||ke===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Allowance Bracketing Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure allowance bracketing rules based on hours worked or other criteria, linking bracket codes with specific earning codes and amounts for automated payroll calculations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hours-based allowance rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code integration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated allowance processing"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[De("Add")&&De("View")&&e.jsxs("button",{onClick:tt,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),De("View")&&e.jsxs(e.Fragment,{children:[e.jsx("select",{value:N,onChange:_=>C(_.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:de.map(_=>e.jsx("option",{value:_.value,children:_.label},_.value))}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:_=>I(_.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Within The Shift"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:_=>A(_.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"By Employment Status"})]})]})]}),De("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 relative",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Allowance Bracket Code :"}),e.jsx("input",{type:"text",value:p,onChange:_=>v(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Type or search..."}),e.jsx("button",{type:"button",onClick:kt,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Allowance Bracket Code",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:qe,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Search"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:f,onChange:_=>y(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Type or search..."}),e.jsx("button",{type:"button",onClick:be,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Search Workshift Code",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:qe,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Search"})]})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:K?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracketing data..."})}):H?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:H})}):De("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"No of Hours [hh.mm]"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Earning Code"}),(De("Edit")||De("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Je.length>0?Je.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.noOfHrs}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.amount}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.earningCode}),(De("Edit")||De("Delete"))&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[De("Edit")&&e.jsx("button",{onClick:()=>Le(_),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),De("Edit")&&De("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),De("Delete")&&e.jsx("button",{onClick:()=>He(_),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},_.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),De("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",re.length>0?pe+1:0," to ",Math.min(pe+B,re.length)," of ",re.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(_=>Math.max(1,_-1)),disabled:m===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ee},(_,Fe)=>Fe+1).map(_=>e.jsx("button",{onClick:()=>b(_),className:`px-3 py-1 rounded transition-colors ${m===_?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:_},_)),e.jsx("button",{onClick:()=>b(_=>Math.min(Ee||1,_+1)),disabled:m>=Ee||re.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900",children:"Search Allowance Bracket Code"}),e.jsx("button",{onClick:()=>{c(!1),ue("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracket Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:Se,onChange:_=>ue(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64",placeholder:"Search by code or description..."})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:R?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading allowance bracket codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:wt.length>0?wt.map(_=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer",onClick:()=>he(_.code),children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:_.description})]},_.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-8 text-center text-gray-500 text-sm",children:"No records found"})})})]})}),J(oe,bt,le,Et.length,Nt,q)]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900",children:"Search Workshift Code"}),e.jsx("button",{onClick:()=>{h(!1),We("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:Ae,onChange:_=>We(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64",placeholder:"Search by code or description..."})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:Ce?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading workshift codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ke.length>0?Ke.map(_=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer",onClick:()=>ie(_.code),children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:_.description})]},_.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-8 text-center text-gray-500 text-sm",children:"No records found"})})})]})}),J(Re,It,et,Te.length,Dt,q)]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900",children:"Search Earning Code"}),e.jsx("button",{onClick:()=>{l(!1),w("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Earnings Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:_=>w(_.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:E?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading earning codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:lt.map(_=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer",onClick:()=>ft(_.code),children:[e.jsx("td",{className:"px-6 py-3 text-sm text-gray-900",children:_.code}),e.jsx("td",{className:"px-6 py-3 text-sm text-gray-600",children:_.description})]},_.id))})]})}),J(pt,Wt,Mt,dt.length,$t,q)]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:Ze,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ge,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracketing Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",value:F.noOfHours,onChange:_=>O({...F,noOfHours:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:F.amount,onChange:_=>O({...F,amount:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"40",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Earning Code :"}),e.jsx("input",{type:"text",value:F.earningCode,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer",placeholder:"Click Search to select"}),e.jsx("button",{type:"button",onClick:Rt,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:L?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:Ze,disabled:L,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),s&&M&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit"}),e.jsx("button",{onClick:Ze,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:st,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Allowance Bracketing Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",value:F.noOfHours,onChange:_=>O({...F,noOfHours:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:F.amount,onChange:_=>O({...F,amount:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Earning Code :"}),e.jsx("input",{type:"text",value:F.earningCode,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 cursor-pointer"}),e.jsx("button",{type:"button",onClick:Rt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Search"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:L,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:L?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:Ze,disabled:L,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(ls,{})]})}const Zy="Allowance Per Classification SetUp",Km="/Fs/Process/AllowanceAndEarnings/AllowancePerClassificationSetUp";function aZ(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(1),[f,y]=o.useState(null),[N,C]=o.useState(null),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState(""),[M,U]=o.useState(!1),[L,G]=o.useState(null),[re,ye]=o.useState({refNo:"",allowanceCode:"",workShiftCode:"",classificationCode:"",minHrsRegDay:0,minAmtRegDay:0,maxHrsRegDay:0,maxAmtRegDay:0,minHrsRestDay:0,minAmtRestDay:0,maxHrsRestDay:0,maxAmtRestDay:0,minHrsHoliday:0,minAmtHoliday:0,maxHrsHoliday:0,maxAmtHoliday:0,minHrsHolidayRestDay:0,minAmountHolidayRestDay:0,maxHrsHolidayRestDay:0,maxAmountHolidayRestDay:0}),[K,ne]=o.useState([]),[H,se]=o.useState([]),[we,Y]=o.useState([]),[E,P]=o.useState([]);o.useEffect(()=>{V(),D(),R(),ee()},[]);const V=async()=>{try{U(!0),G(null);const Ye=await z.get(Km);Ye.status===200&&Ye.data&&ne(Ye.data)}catch(Ye){G(Ye.message||"Failed to fetch data"),console.error("Error fetching allowance per classification:",Ye)}finally{U(!1)}},D=async()=>{try{const Ye=await z.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(Ye.status===200&&Ye.data){const ht=Ye.data.map(St=>({id:St.earnID?.toString()||St.id||"",code:St.earnCode||St.code||"",description:St.earnDesc||St.description||"",earnType:St.earnType||"",sysId:St.sysId||""}));se(ht)}}catch(Ye){console.error("Error fetching earning codes:",Ye)}},R=async()=>{try{const Ye=await z.get("/Fs/Process/AllowanceAndEarnings/WorkshiftSetUp");if(Ye.status===200&&Ye.data){const ht=Ye.data.map(St=>({code:St.workShiftCode||St.code||"",description:St.workShiftDesc||St.description||""}));Y(ht)}}catch(Ye){console.error("Error fetching workshift codes:",Ye)}},ee=async()=>{try{const Ye=await z.get("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp");if(Ye.status===200&&Ye.data){const ht=Ye.data.map(St=>({id:St.classId||"",code:St.classCode||"",description:St.classDesc||""}));P(ht)}}catch(Ye){console.error("Error fetching classification codes:",Ye)}},Se=K.filter(Ye=>Ye.refNo.toLowerCase().includes(t.toLowerCase())||Ye.allowanceCode.toLowerCase().includes(t.toLowerCase())||Ye.workShiftCode.toLowerCase().includes(t.toLowerCase())||Ye.classificationCode&&Ye.classificationCode.toLowerCase().includes(t.toLowerCase())),ue=10,oe=Math.ceil(Se.length/ue),le=(p-1)*ue,Q=Se.slice(le,le+ue),ve=H.filter(Ye=>Ye.code.toLowerCase().includes(S.toLowerCase())||Ye.description.toLowerCase().includes(S.toLowerCase())),Ce=we.filter(Ye=>Ye.code.toLowerCase().includes(k.toLowerCase())||Ye.description.toLowerCase().includes(k.toLowerCase())),$e=E.filter(Ye=>Ye.code.toLowerCase().includes(F.toLowerCase())||Ye.description.toLowerCase().includes(F.toLowerCase())),Ae=()=>{ye({refNo:"",allowanceCode:"",workShiftCode:"",classificationCode:"",minHrsRegDay:0,minAmtRegDay:0,maxHrsRegDay:0,maxAmtRegDay:0,minHrsRestDay:0,minAmtRestDay:0,maxHrsRestDay:0,maxAmtRestDay:0,minHrsHoliday:0,minAmtHoliday:0,maxHrsHoliday:0,maxAmtHoliday:0,minHrsHolidayRestDay:0,minAmountHolidayRestDay:0,maxHrsHolidayRestDay:0,maxAmountHolidayRestDay:0}),r(!0)},We=Ye=>{y(Ye),ye({refNo:Ye.refNo,allowanceCode:Ye.allowanceCode,workShiftCode:Ye.workShiftCode,classificationCode:Ye.classificationCode||"",minHrsRegDay:Ye.minHrsRegDay,minAmtRegDay:Ye.minAmtRegDay,maxHrsRegDay:Ye.maxHrsRegDay,maxAmtRegDay:Ye.maxAmtRegDay,minHrsRestDay:Ye.minHrsRestDay,minAmtRestDay:Ye.minAmtRestDay,maxHrsRestDay:Ye.maxHrsRestDay,maxAmtRestDay:Ye.maxAmtRestDay,minHrsHoliday:Ye.minHrsHoliday,minAmtHoliday:Ye.minAmtHoliday,maxHrsHoliday:Ye.maxHrsHoliday,maxAmtHoliday:Ye.maxAmtHoliday,minHrsHolidayRestDay:Ye.minHrsHolidayRestDay,minAmountHolidayRestDay:Ye.minAmountHolidayRestDay,maxHrsHolidayRestDay:Ye.maxHrsHolidayRestDay,maxAmountHolidayRestDay:Ye.maxAmountHolidayRestDay}),l(!0)},Re=Ye=>{C(Ye),c(!0)},et=async Ye=>{if(confirm("Are you sure you want to delete this entry?"))try{U(!0);const ht=await z.delete(`${Km}/${Ye}`);if(ht.status===200||ht.status===204){try{await ts.log({accessType:"Delete",trans:`Deleted allowance entry ID ${Ye}`,messages:`Deleted entry ID: ${Ye}`,formName:Zy})}catch(St){console.error("Audit trail failed:",St)}await V(),alert("Entry deleted successfully")}}catch(ht){G(ht.message||"Failed to delete entry"),alert("Failed to delete entry")}finally{U(!1)}},B=async Ye=>{Ye.preventDefault();try{U(!0);const ht={...re,classificationCode:re.classificationCode||null},St=await z.post(Km,ht);if(St.status===200||St.status===201){try{await ts.log({accessType:"Add",trans:`Created allowance entry ${ht.classificationCode??"N/A"}`,messages:`Created entry details: ${JSON.stringify(ht)}`,formName:Zy})}catch(dt){console.error("Audit trail failed:",dt)}await V(),r(!1),alert("Entry created successfully")}}catch(ht){G(ht.message||"Failed to create entry"),alert("Failed to create entry")}finally{U(!1)}},q=async Ye=>{if(Ye.preventDefault(),!!f)try{U(!0);const ht={...re,classificationCode:re.classificationCode||null};if((await z.put(`${Km}/${f.id}`,ht)).status===200){try{await ts.log({accessType:"Edit",trans:`Updated allowance entry ID ${f.id}`,messages:`Updated entry details: ${JSON.stringify(ht)}`,formName:Zy})}catch(dt){console.error("Audit trail failed:",dt)}await V(),l(!1),y(null),alert("Entry updated successfully")}}catch(ht){G(ht.message||"Failed to update entry"),alert("Failed to update entry")}finally{U(!1)}},Z=()=>{r(!1),l(!1),c(!1),h(!1),b(!1),w(!1),y(null),C(null)};o.useEffect(()=>{const Ye=ht=>{ht.key==="Escape"&&(u?h(!1):m?b(!1):g?w(!1):s?r(!1):n?(l(!1),y(null)):i&&(c(!1),C(null)))};return(s||n||i||u||m||g)&&document.addEventListener("keydown",Ye),()=>{document.removeEventListener("keydown",Ye)}},[s,n,i,u,m,g]);const[je,De]=o.useState({}),Qe=Ye=>je[Ye]===!0;o.useEffect(()=>{qe()},[]);const qe=()=>{const Ye=localStorage.getItem("loginPayload");if(Ye)try{const dt=(JSON.parse(Ye).permissions||[]).filter(Te=>Ss(Te.formName)==="AllowancePerClassificationSetUp"),Et={};dt.forEach(Te=>{const Ee=Ss(Te.accessTypeName);Ee&&(Et[Ee]=!0)}),De(Et)}catch(ht){console.error("Error parsing or decrypting payload",ht)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-2xl font-bold",children:"Allowance Per Classification Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[L&&e.jsx("div",{className:"mb-4 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-700",children:L})}),e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Set up classification-based allowance rules with flexible amounts and earning codes, enabling tailored compensation structures for different employee classifications."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Classification-specific allowances"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Customizable earning codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-classification support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[Qe("Add")&&Qe("View")&&e.jsxs("button",{onClick:Ae,disabled:M,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),Qe("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:Ye=>a(Ye.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:Qe("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Reference Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Allowance Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Workshift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Classification Code"}),(Qe("Edit")||Qe("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:M?e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"Loading..."})})}):Q.length>0?Q.map(Ye=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Ye.refNo}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ye.allowanceCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ye.workShiftCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Ye.classificationCode||"-"}),(Qe("Edit")||Qe("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>Re(Ye),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",children:e.jsx(Rg,{className:"w-4 h-4"})}),Qe("Edit")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Qe("Edit")&&e.jsx("button",{onClick:()=>We(Ye),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),Qe("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Qe("Delete")&&e.jsx("button",{onClick:()=>et(Ye.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",disabled:M,children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Ye.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Qe("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",le+1," to ",Math.min(le+ue,Se.length)," of ",Se.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>v(Ye=>Math.max(1,Ye-1)),disabled:p===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",children:p}),e.jsx("button",{onClick:()=>v(Ye=>Math.min(oe||1,Ye+1)),disabled:p>=oe||Se.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]})]})]})}),s&&e.jsx(n4,{title:"Create New",formData:re,setFormData:ye,onSubmit:B,onClose:Z,loading:M,setShowAllowanceCodeModal:h,setShowWorkshiftCodeModal:b,setShowClassificationCodeModal:w,submitButtonText:"Submit"}),n&&f&&e.jsx(n4,{title:"Edit",formData:re,setFormData:ye,onSubmit:q,onClose:Z,loading:M,setShowAllowanceCodeModal:h,setShowWorkshiftCodeModal:b,setShowClassificationCodeModal:w,submitButtonText:"Update"}),i&&N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[50vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:"Details"}),e.jsx("button",{onClick:Z,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Allowance Per Classification Details"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Reference Code : "}),e.jsx("span",{className:"text-gray-900",children:N.refNo})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Allowance Code : "}),e.jsx("span",{className:"text-gray-900",children:N.allowanceCode})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Workshift Code : "}),e.jsx("span",{className:"text-gray-900",children:N.workShiftCode})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Classification : "}),e.jsx("span",{className:"text-gray-900",children:N.classificationCode||"-"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Regular Day : "}),e.jsx("span",{className:"text-gray-900",children:N.minHrsRegDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.minAmtRegDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Regular Day : "}),e.jsx("span",{className:"text-gray-900",children:N.maxHrsRegDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.maxAmtRegDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:N.minHrsRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.minAmtRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:N.maxHrsRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.maxAmtRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Holiday : "}),e.jsx("span",{className:"text-gray-900",children:N.minHrsHoliday})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.minAmtHoliday})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Holiday : "}),e.jsx("span",{className:"text-gray-900",children:N.maxHrsHoliday})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.maxAmtHoliday})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Min. Hours for Holiday and Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:N.minHrsHolidayRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.minAmountHolidayRestDay})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Max. Hours for Holiday and Rest Day : "}),e.jsx("span",{className:"text-gray-900",children:N.maxHrsHolidayRestDay})," ",e.jsx("span",{className:"text-gray-700 font-medium",children:"Amount: "}),e.jsx("span",{className:"text-gray-900",children:N.maxAmountHolidayRestDay})]})]})]})]})}),u&&e.jsx(eb,{title:"Earnings Code",searchTerm:S,setSearchTerm:I,data:ve,onSelect:Ye=>{ye({...re,allowanceCode:Ye}),h(!1),I("")},onClose:()=>h(!1)}),m&&e.jsx(eb,{title:"Workshift Code",searchTerm:k,setSearchTerm:A,data:Ce,onSelect:Ye=>{ye({...re,workShiftCode:Ye}),b(!1),A("")},onClose:()=>b(!1)}),g&&e.jsx(eb,{title:"Classification Code",searchTerm:F,setSearchTerm:O,data:$e,onSelect:Ye=>{ye({...re,classificationCode:Ye}),w(!1),O("")},onClose:()=>w(!1)}),e.jsx(ls,{})]})}function n4({title:t,formData:a,setFormData:s,onSubmit:r,onClose:n,loading:l,setShowAllowanceCodeModal:i,setShowWorkshiftCodeModal:c,setShowClassificationCodeModal:u,submitButtonText:h}){const m=g=>g===0?"":g,b=g=>g===""?0:parseFloat(g)||0;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[75vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:t}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:e.jsxs("form",{onSubmit:r,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4 font-semibold",children:"Allowance Per Classification"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Reference Code :"}),e.jsx("input",{type:"text",value:a.refNo,onChange:g=>s({...a,refNo:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Allowance Code :"}),e.jsx("input",{type:"text",value:a.allowanceCode,onChange:g=>s({...a,allowanceCode:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>s({...a,allowanceCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:a.workShiftCode,onChange:g=>s({...a,workShiftCode:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0}),e.jsx("button",{type:"button",onClick:()=>c(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>s({...a,workShiftCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Classification :"}),e.jsx("input",{type:"text",value:a.classificationCode,onChange:g=>s({...a,classificationCode:g.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>u(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>s({...a,classificationCode:""}),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Regular Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minHrsRegDay),onChange:g=>s({...a,minHrsRegDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minAmtRegDay),onChange:g=>s({...a,minAmtRegDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Regular Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxHrsRegDay),onChange:g=>s({...a,maxHrsRegDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxAmtRegDay),onChange:g=>s({...a,maxAmtRegDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minHrsRestDay),onChange:g=>s({...a,minHrsRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minAmtRestDay),onChange:g=>s({...a,minAmtRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxHrsRestDay),onChange:g=>s({...a,maxHrsRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxAmtRestDay),onChange:g=>s({...a,maxAmtRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Holiday :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minHrsHoliday),onChange:g=>s({...a,minHrsHoliday:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minAmtHoliday),onChange:g=>s({...a,minAmtHoliday:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Holiday :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxHrsHoliday),onChange:g=>s({...a,maxHrsHoliday:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxAmtHoliday),onChange:g=>s({...a,maxAmtHoliday:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Min. Hours for Holiday and Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minHrsHolidayRestDay),onChange:g=>s({...a,minHrsHolidayRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.minAmountHolidayRestDay),onChange:g=>s({...a,minAmountHolidayRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56",children:"Max. Hours for Holiday and Rest Day :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxHrsHolidayRestDay),onChange:g=>s({...a,maxHrsHolidayRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Amount :"}),e.jsx("input",{type:"number",step:"0.01",value:m(a.maxAmountHolidayRestDay),onChange:g=>s({...a,maxAmountHolidayRestDay:b(g.target.value)}),placeholder:"0",className:"w-24 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50",children:h}),e.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})})]})})}function eb({title:t,searchTerm:a,setSearchTerm:s,data:r,onSelect:n,onClose:l,style:i}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{style:i,className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm font-semibold",children:"Search"}),e.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm font-semibold",children:t}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Type to filter..."})]}),e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white z-10",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm font-semibold",children:"Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm font-semibold",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:r.length>0?r.map(c=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>n(c.code),children:[e.jsx("td",{className:"px-3 py-1.5 text-gray-900 font-medium",children:c.code}),e.jsx("td",{className:"px-3 py-1.5 text-gray-600",children:c.description})]},c.id||c.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 italic",children:"No entries found"})})})]})})]})]})})}const tb="Classification SetUp";function rZ(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState({code:"",description:""}),[m,b]=o.useState(null),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState(!1),[S,I]=o.useState(""),k=100,[A,F]=o.useState({}),O=P=>A[P]===!0;o.useEffect(()=>{M()},[]);const M=()=>{const P=localStorage.getItem("loginPayload");if(P)try{const R=(JSON.parse(P).permissions||[]).filter(Se=>Ss(Se.formName)==="ClassificationSetUp"),ee={};R.forEach(Se=>{const ue=Ss(Se.accessTypeName);ue&&(ee[ue]=!0)}),F(ee)}catch(V){console.error("Error parsing or decrypting payload",V)}};o.useEffect(()=>{U()},[]);const U=async()=>{C(!0),I("");try{const P=await z.get("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp");if(P.status===200&&P.data){const V=P.data.map(D=>({id:D.classId||"",code:D.classCode||"",description:D.classDesc||""}));y(V)}}catch(P){const V=P.response?.data?.message||P.message||"Failed to load classifications";I(V),console.error("Error fetching classifications:",P)}finally{C(!1)}},L=f.filter(P=>P.code.toLowerCase().includes(t.toLowerCase())||P.description.toLowerCase().includes(t.toLowerCase())),G=Math.ceil(L.length/k),re=(i-1)*k,ye=L.slice(re,re+k);o.useEffect(()=>{c(1)},[t]);const K=()=>{h({code:"",description:""}),v(""),r(!0)},ne=P=>{b(P),h({code:P.code,description:P.description}),v(""),l(!0)},H=async P=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete classification ${P.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/AllowanceAndEarnings/ClassificationSetUp/${P.id}`);try{await ts.log({accessType:"Delete",trans:`Deleted classification ${P.code}`,messages:`Deleted classification ID: ${P.id}, Code: ${P.code}`,formName:tb})}catch(D){console.error("Audit trail failed:",D)}await xe.fire({icon:"success",title:"Success",text:"Classification deleted successfully.",timer:2e3,showConfirmButton:!1}),await U()}catch(D){const R=D.response?.data?.message||D.message||"Failed to delete classification";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error deleting classification:",D)}},se=P=>{h({...u,code:P}),P.length>10?v("Code maximum 10 characters"):v("")},we=async P=>{if(P.preventDefault(),!u.code.trim()||u.code.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(f.some(D=>D.code.toLowerCase()===u.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}w(!0);try{const D={classId:0,classCode:u.code,classDesc:u.description};await z.post("/Fs/Process/AllowanceAndEarnings/ClassificationSetUp",D);try{await ts.log({accessType:"Add",trans:`Created classification ${u.code}`,messages:`Created classification details: ${JSON.stringify(D)}`,formName:tb})}catch(R){console.error("Audit trail failed:",R)}await xe.fire({icon:"success",title:"Success",text:"Classification created successfully.",timer:2e3,showConfirmButton:!1}),await U(),r(!1),h({code:"",description:""}),v("")}catch(D){const R=D.response?.data?.message||D.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error creating classification:",D)}finally{w(!1)}},Y=async P=>{if(P.preventDefault(),!m)return;if(!u.code.trim()||u.code.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(f.some(D=>D.id!==m.id&&D.code.toLowerCase()===u.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}w(!0);try{const D={classId:parseInt(m.id),classCode:u.code,classDesc:u.description};await z.put(`/Fs/Process/AllowanceAndEarnings/ClassificationSetUp/${m.id}`,D);try{await ts.log({accessType:"Edit",trans:`Updated classification ${u.code}`,messages:`Updated classification details: ${JSON.stringify(D)}`,formName:tb})}catch(R){console.error("Audit trail failed:",R)}await xe.fire({icon:"success",title:"Success",text:"Classification updated successfully.",timer:2e3,showConfirmButton:!1}),await U(),l(!1),b(null),h({code:"",description:""}),v("")}catch(D){const R=D.response?.data?.message||D.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error updating classification:",D)}finally{w(!1)}},E=()=>{r(!1),l(!1),b(null),h({code:"",description:""}),v("")};return o.useEffect(()=>{const P=V=>{V.key==="Escape"&&(s?r(!1):n&&(l(!1),b(null)))};return(s||n)&&document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[s,n]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Classification Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and manage employee classification categories for organizing and categorizing employees based on job types, employment status, or other organizational criteria."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom classification codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible categorization structure"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employee grouping support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll integration ready"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[O("Add")&&O("View")&&e.jsxs("button",{onClick:K,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),O("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:P=>a(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:N?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading classifications..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):O("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ye.length>0?ye.map(P=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:P.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:P.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[O("Edit")&&e.jsx("button",{onClick:()=>ne(P),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),O("Edit")&&O("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),O("Delete")&&e.jsx("button",{onClick:()=>H(P),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},P.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),O("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",L.length>0?re+1:0," to ",Math.min(re+k,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(P=>Math.max(1,P-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:G},(P,V)=>V+1).map(P=>e.jsx("button",{onClick:()=>c(P),className:`px-3 py-1 rounded transition-colors ${i===P?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:P},P)),e.jsx("button",{onClick:()=>c(P=>Math.min(G||1,P+1)),disabled:i>=G||L.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New Classification"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:we,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Classification Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:u.code,onChange:P=>se(P.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:u.description,onChange:P=>h({...u,description:P.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:E,disabled:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Classification"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Y,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Classification Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:u.code,onChange:P=>se(P.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:u.description,onChange:P=>h({...u,description:P.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:E,disabled:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(ls,{})]})}const sb="Earnings SetUp";function nZ(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState({code:"",description:""}),[m,b]=o.useState(null),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState(!1),[S,I]=o.useState(""),k=100,[A,F]=o.useState({}),O=P=>A[P]===!0;o.useEffect(()=>{M()},[]);const M=()=>{const P=localStorage.getItem("loginPayload");if(P)try{const R=(JSON.parse(P).permissions||[]).filter(Se=>Ss(Se.formName)==="EarningSetUp"),ee={};R.forEach(Se=>{const ue=Ss(Se.accessTypeName);ue&&(ee[ue]=!0)}),F(ee)}catch(V){console.error("Error parsing or decrypting payload",V)}};o.useEffect(()=>{U()},[]);const U=async()=>{C(!0),I("");try{const P=await z.get("/Fs/Process/AllowanceAndEarnings/EarningsSetUp");if(P.status===200&&P.data){const V=P.data.map(D=>({id:D.earnID?.toString()||D.id||"",code:D.earnCode||D.code||"",description:D.earnDesc||D.description||"",earnType:D.earnType||"",sysId:D.sysId||""}));y(V)}}catch(P){const V=P.response?.data?.message||P.message||"Failed to load earnings";I(V),console.error("Error fetching earnings:",P)}finally{C(!1)}},L=f.filter(P=>P.code.toLowerCase().includes(t.toLowerCase())||P.description.toLowerCase().includes(t.toLowerCase())),G=Math.ceil(L.length/k),re=(i-1)*k,ye=L.slice(re,re+k);o.useEffect(()=>{c(1)},[t]);const K=()=>{h({code:"",description:""}),v(""),r(!0)},ne=P=>{b(P),h({code:P.code,description:P.description}),v(""),l(!0)},H=async P=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete earning ${P.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/AllowanceAndEarnings/EarningsSetUp/${P.id}`);try{await ts.log({accessType:"Delete",trans:`Deleted earning ${P.code}`,messages:`Deleted earning ID: ${P.id}, Code: ${P.code}`,formName:sb})}catch(D){console.error("Audit trail failed:",D)}await xe.fire({icon:"success",title:"Success",text:"Earning deleted successfully.",timer:2e3,showConfirmButton:!1}),await U()}catch(D){const R=D.response?.data?.message||D.message||"Failed to delete earning";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error deleting earning:",D)}},se=P=>{h({...u,code:P}),P.length>10?v("Code maximum 10 characters"):v("")},we=async P=>{if(P.preventDefault(),!u.code.trim()||u.code.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(f.some(D=>D.code.toLowerCase()===u.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}w(!0);try{const D={earnID:0,earnCode:u.code,earnDesc:u.description,earnType:"USR",sysId:null};await z.post("/Fs/Process/AllowanceAndEarnings/EarningsSetUp",D);try{await ts.log({accessType:"Add",trans:`Created earning ${u.code}`,messages:`Created earning details: ${JSON.stringify(D)}`,formName:sb})}catch(R){console.error("Audit trail failed:",R)}await xe.fire({icon:"success",title:"Success",text:"Earning created successfully.",timer:2e3,showConfirmButton:!1}),await U(),r(!1),h({code:"",description:""}),v("")}catch(D){const R=D.response?.data?.message||D.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error creating earning:",D)}finally{w(!1)}},Y=async P=>{if(P.preventDefault(),!m)return;if(!u.code.trim()||u.code.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(f.some(D=>D.id!==m.id&&D.code.toLowerCase()===u.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}w(!0);try{const D={earnID:parseInt(m.id),earnCode:u.code,earnDesc:u.description,earnType:m.earnType||"USR",sysId:m.sysId||null};await z.put(`/Fs/Process/AllowanceAndEarnings/EarningsSetUp/${m.id}`,D);try{await ts.log({accessType:"Edit",trans:`Updated earning ${u.code}`,messages:`Updated earning details: ${JSON.stringify(D)}`,formName:sb})}catch(R){console.error("Audit trail failed:",R)}await xe.fire({icon:"success",title:"Success",text:"Earning updated successfully.",timer:2e3,showConfirmButton:!1}),await U(),l(!1),b(null),h({code:"",description:""}),v("")}catch(D){const R=D.response?.data?.message||D.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error updating earning:",D)}finally{w(!1)}},E=()=>{r(!1),l(!1),b(null),h({code:"",description:""}),v("")};return o.useEffect(()=>{const P=V=>{V.key==="Escape"&&(s?r(!1):n&&(l(!1),b(null)))};return(s||n)&&document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[s,n]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Earnings Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure earning codes, rates, and default amounts for various compensation types including regular pay, overtime, allowances, and other payroll-related earnings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Rate and amount configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple earning types support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll calculation integration"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[O("Add")&&O("View")&&e.jsxs("button",{onClick:K,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),O("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:P=>a(P.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:N?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading earnings..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):O("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(O("Edit")||O("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ye.length>0?ye.map(P=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:P.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:P.description}),(O("Edit")||O("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[O("Edit")&&e.jsx("button",{onClick:()=>ne(P),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),O("Edit")&&O("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),O("Delete")&&e.jsx("button",{onClick:()=>H(P),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},P.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),O("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",L.length>0?re+1:0," to ",Math.min(re+k,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(P=>Math.max(1,P-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:G},(P,V)=>V+1).map(P=>e.jsx("button",{className:`px-3 py-1 rounded transition-colors ${i===P?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,onClick:()=>c(P),children:P},P)),e.jsx("button",{onClick:()=>c(P=>Math.min(G||1,P+1)),disabled:i>=G||L.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New Earning"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:we,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Earnings Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:u.code,onChange:P=>se(P.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:u.description,onChange:P=>h({...u,description:P.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Saving...":"Submit"}),e.jsx("button",{type:"button",onClick:E,disabled:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Earning"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Y,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-6",children:"Earnings Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Code :"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"text",value:u.code,onChange:P=>se(P.target.value),maxLength:10,className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 ${p?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),p&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:p})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Description :"}),e.jsx("input",{type:"text",value:u.description,onChange:P=>h({...u,description:P.target.value}),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:E,disabled:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(ls,{})]})}const oZ="Day Type SetUp";function lZ(){const[t,a]=o.useState({id:0,regularDay:"",restDay:"",legalHoliday:"",specialHoliday:"",legalHolidayFallRestDay:"",specialHolidayFallRestDay:"",doubleLegalHoliday:"",doubleLegalHolidayFallRestday:"",specialHoliday2:"",specialHoliday2FallRestDay:"",nonWorkingHoliday:"",nonWorkingHolidayFallRestDay:""}),[s,r]=o.useState(null),[n,l]=o.useState(!1),[i,c]=o.useState(!0),[u,h]=o.useState(!1),[m,b]=o.useState(""),[g,w]=o.useState({}),p=k=>g[k]===!0;o.useEffect(()=>{v()},[]);const v=()=>{const k=localStorage.getItem("loginPayload");if(k)try{const O=(JSON.parse(k).permissions||[]).filter(U=>Ss(U.formName)==="DayTypeSetUp"),M={};O.forEach(U=>{const L=Ss(U.accessTypeName);L&&(M[L]=!0)}),w(M)}catch(A){console.error("Error parsing or decrypting payload",A)}},f=[{label:"Regular Day:",fieldName:"regularDay"},{label:"Rest Day:",fieldName:"restDay"},{label:"Legal Holiday:",fieldName:"legalHoliday"},{label:"Special Holiday:",fieldName:"specialHoliday"},{label:"Legal Holiday that Falls on Restday:",fieldName:"legalHolidayFallRestDay"},{label:"Special Holiday that Falls on Restday:",fieldName:"specialHolidayFallRestDay"},{label:"Double Legal Holiday:",fieldName:"doubleLegalHoliday"},{label:"Double Legal Holiday Falling on Restday:",fieldName:"doubleLegalHolidayFallRestday"},{label:"Special Holiday 2:",fieldName:"specialHoliday2"},{label:"Special Holiday 2 Falling on the Rest Day:",fieldName:"specialHoliday2FallRestDay"},{label:"Non-Working Holiday:",fieldName:"nonWorkingHoliday"},{label:"Non-Working Holiday Falling on the Rest Day:",fieldName:"nonWorkingHolidayFallRestDay"}];o.useEffect(()=>{y()},[]);const y=async()=>{c(!0),b("");try{const k=await z.get("/Fs/Process/DayTypeSetUp");if(k.status===200&&k.data){const A=Array.isArray(k.data)?k.data[0]:k.data;a(A),r(A)}}catch(k){const A=k.response?.data?.message||k.message||"Failed to load day type configuration";b(A),console.error("Error fetching day type data:",k)}finally{c(!1)}},N=()=>{l(!0)},C=async()=>{h(!0);try{const k=await z.put(`/Fs/Process/DayTypeSetUp/${t.id}`,t);if(k.status===200){const A=k.data;a(A),r(A),l(!1),await ts.log({accessType:"Edit",trans:`Updated Day Type "${A.code||A.description}"`,messages:"Day Type updated successfully",formName:oZ}),await xe.fire({icon:"success",title:"Success",text:"Day Type Setup saved successfully!",timer:2e3,showConfirmButton:!1})}}catch(k){const A=k.response?.data?.message||k.message||"Failed to save changes";await xe.fire({icon:"error",title:"Error",text:A}),console.error("Error saving day type data:",k)}finally{h(!1)}},S=()=>{s&&a(s),l(!1)},I=(k,A)=>{a(F=>({...F,[k]:A}))};return i?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"text-gray-600",children:"Loading day type configuration..."})}):e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Day Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure day type classifications for different working days including regular days, special holidays, regular holidays, rest days, and premium days with corresponding earning codes."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple day type categories"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code mapping"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Holiday rate configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Automated payroll calculations"})]})]})]})]})}),m&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),m]}),p("View")?e.jsxs(e.Fragment,{children:[p("Edit")&&e.jsx("div",{className:"flex items-center gap-3 mb-6",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:C,disabled:u,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(za,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]}),e.jsxs("button",{onClick:S,disabled:u,className:"px-5 py-2.5 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(ot,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsx("button",{onClick:N,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:"Edit Configuration"})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:f.map((k,A)=>e.jsxs("div",{className:"flex items-center gap-4 py-2 border-b border-gray-100 last:border-b-0",children:[e.jsx("label",{className:"text-gray-700 text-sm w-80 flex-shrink-0",children:k.label}),n?e.jsx("input",{type:"text",value:t[k.fieldName],onChange:F=>I(k.fieldName,F.target.value),className:"flex-1 max-w-xs px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("div",{className:"flex-1 max-w-xs px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm text-gray-900",children:t[k.fieldName]})]},A))})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),p("View")&&e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"mb-1",children:"These day type codes are used throughout the timekeeping system to classify different types of days for payroll calculation."}),e.jsx("p",{children:"Ensure codes are unique and recognizable for proper processing."})]})]})})]})]})}),e.jsx(ls,{})]})}const ab="SDK List SetUp";function iZ(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState(null),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState([]),[N,C]=o.useState(!1),[S,I]=o.useState({ipAdd:"",port:"",machID:0,wDeviceCode:!1,flagCode:""}),[k,A]=o.useState([]),[F,O]=o.useState(!1),[M,U]=o.useState(""),L=10,[G,re]=o.useState({}),ye=le=>G[le]===!0;o.useEffect(()=>{K()},[]);const K=()=>{const le=localStorage.getItem("loginPayload");if(le)try{const Ce=(JSON.parse(le).permissions||[]).filter(Ae=>Ss(Ae.formName)==="SDKListSetup"),$e={};Ce.forEach(Ae=>{const We=Ss(Ae.accessTypeName);We&&($e[We]=!0)}),re($e)}catch(Q){console.error("Error parsing or decrypting payload",Q)}};o.useEffect(()=>{ne()},[]);const ne=async()=>{O(!0),U("");try{const le=await z.get("/Fs/Process/Device/SDKListSetUp");le.status===200&&le.data&&A(le.data)}catch(le){const Q=le.response?.data?.message||le.message||"Failed to load SDK list";U(Q),console.error("Error fetching SDK list:",le)}finally{O(!1)}},H=async()=>{C(!0);try{const le=await z.get("/Fs/Process/Device/DTRFlagSetUp");le.status===200&&le.data&&y(le.data)}catch(le){console.error("Error fetching DTR flags:",le)}finally{C(!1)}},se=()=>{v(""),H(),w(!0)},we=k.filter(le=>le.ipAdd.toLowerCase().includes(t.toLowerCase())||le.port.toLowerCase().includes(t.toLowerCase())||le.machID.toString().includes(t)||le.flagCode.toLowerCase().includes(t.toLowerCase())),Y=Math.ceil(we.length/L),E=(i-1)*L,P=we.slice(E,E+L);o.useEffect(()=>{c(1)},[t]);const V=()=>{I({ipAdd:"",port:"",machID:0,wDeviceCode:!1,flagCode:""}),r(!0)},D=le=>{h(le),I({ipAdd:le.ipAdd,port:le.port,machID:le.machID,wDeviceCode:le.wDeviceCode,flagCode:le.flagCode}),l(!0)},R=async le=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete SDK item "${le.ipAdd}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Device/SDKListSetUp/${le.id}`),await ts.log({accessType:"Delete",trans:`Deleted SDK item "${le.ipAdd}"`,messages:`SDK item "${le.ipAdd}" removed`,formName:ab}),await xe.fire({icon:"success",title:"Success",text:"SDK item deleted successfully.",timer:2e3,showConfirmButton:!1}),await ne()}catch(ve){await xe.fire({icon:"error",title:"Error",text:ve.response?.data?.message||ve.message||"Failed to delete SDK item"})}},ee=async le=>{if(le.preventDefault(),!S.ipAdd.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"IP Address is required."});return}if(k.some(Q=>Q.ipAdd.toLowerCase()===S.ipAdd.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate IP Address",text:"This IP address is already in use."});return}b(!0);try{await z.post("/Fs/Process/Device/SDKListSetUp",{id:0,...S}),await ts.log({accessType:"Add",trans:`Created SDK item "${S.ipAdd}"`,messages:`SDK item "${S.ipAdd}" created`,formName:ab}),await xe.fire({icon:"success",title:"Success",text:"SDK item created successfully.",timer:2e3,showConfirmButton:!1}),await ne(),r(!1)}catch(Q){await xe.fire({icon:"error",title:"Error",text:Q.response?.data?.message||Q.message||"An error occurred"})}finally{b(!1)}},Se=async le=>{if(le.preventDefault(),!!u){if(!S.ipAdd.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"IP Address is required."});return}if(k.some(Q=>Q.id!==u.id&&Q.ipAdd.toLowerCase()===S.ipAdd.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate IP Address",text:"This IP address is already in use."});return}b(!0);try{await z.put(`/Fs/Process/Device/SDKListSetUp/${u.id}`,{id:u.id,...S}),await ts.log({accessType:"Edit",trans:`Updated SDK item "${S.ipAdd}" (ID: ${u.id})`,messages:`SDK item "${S.ipAdd}" updated`,formName:ab}),await xe.fire({icon:"success",title:"Success",text:"SDK item updated successfully.",timer:2e3,showConfirmButton:!1}),await ne(),l(!1),h(null)}catch(Q){await xe.fire({icon:"error",title:"Error",text:Q.response?.data?.message||Q.message||"An error occurred"})}finally{b(!1)}}},ue=()=>{r(!1),l(!1),h(null),w(!1)};o.useEffect(()=>{const le=Q=>{Q.key==="Escape"&&(g?w(!1):s?r(!1):n&&(l(!1),h(null)))};return(s||n||g)&&document.addEventListener("keydown",le),()=>{document.removeEventListener("keydown",le)}},[s,n,g]);const oe=(le,Q)=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:le?"Edit SDK Item":"Create New"}),e.jsx("button",{onClick:ue,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Q,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"SDK List Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"IP Address :"}),e.jsx("input",{type:"text",value:S.ipAdd,onChange:ve=>I({...S,ipAdd:ve.target.value}),placeholder:"e.g. 192.168.1.100",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Port :"}),e.jsx("input",{type:"text",value:S.port,onChange:ve=>I({...S,port:ve.target.value}),placeholder:"e.g. 4370",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Machine ID :"}),e.jsx("input",{type:"number",value:S.machID,onChange:ve=>I({...S,machID:parseInt(ve.target.value)||0}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:S.wDeviceCode,onChange:ve=>I({...S,wDeviceCode:ve.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-gray-500 text-sm",children:S.wDeviceCode?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Flag Code :"}),e.jsx("input",{type:"text",value:S.flagCode,readOnly:!0,placeholder:"Select flag code...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 text-sm cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:se,className:"w-10 h-10 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>I({...S,flagCode:""}),className:"w-10 h-10 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:m?le?"Updating...":"Submitting...":le?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:ue,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]}),g&&e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-[10] rounded-lg",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-2xl w-full max-w-3xl max-h-[95%] flex flex-col mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:"Search DTR Flag"}),e.jsx("button",{type:"button",onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Select a Flag Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",autoFocus:!0,value:p,onChange:ve=>v(ve.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-48 md:w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex-1 flex flex-col",children:e.jsx("div",{className:"overflow-y-auto max-h-[400px]",children:N?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0 z-20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Break 1"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const ve=f.filter(Ce=>Ce.flagCode.toLowerCase().includes(p.toLowerCase()));return ve.length>0?ve.map(Ce=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors group",onClick:()=>{I($e=>({...$e,flagCode:Ce.flagCode})),w(!1)},children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-blue-600 group-hover:underline",children:Ce.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ce.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Ce.timeOut}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[Ce.break1Out," - ",Ce.break1In]})]},Ce.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"px-4 py-12 text-center text-gray-500",children:['No flag codes found matching "',p,'"']})})})()})]})})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm transition-colors",children:"Cancel"})})]})]})})]})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"SDK List Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage SDK (Software Development Kit) configurations for biometric device integration. Register SDK libraries and connection parameters for direct device communication and data retrieval."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Real-time device connection","SDK library management","Direct data access","Device registration"].map(le=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:le})]},le))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[ye("Add")&&ye("View")&&e.jsxs("button",{onClick:V,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"})," Create New"]}),ye("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:le=>a(le.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:F?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading SDK list..."})}):M?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:M})}):ye("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"IP Address"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Port"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Machine ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"With Device Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),(ye("Edit")||ye("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:P.length>0?P.map(le=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:le.ipAdd}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:le.port}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:le.machID}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${le.wDeviceCode?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:le.wDeviceCode?"Yes":"No"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:le.flagCode}),(ye("Edit")||ye("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ye("Edit")&&e.jsx("button",{onClick:()=>D(le),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),ye("Edit")&&ye("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ye("Delete")&&e.jsx("button",{onClick:()=>R(le),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},le.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ye("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",we.length>0?E+1:0," to ",Math.min(E+L,we.length)," of ",we.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(le=>Math.max(1,le-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Y},(le,Q)=>Q+1).map(le=>e.jsx("button",{onClick:()=>c(le),className:`px-3 py-1 rounded transition-colors ${i===le?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:le},le)),e.jsx("button",{onClick:()=>c(le=>Math.min(Y||1,le+1)),disabled:i>=Y||we.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),s&&oe(!1,ee),n&&u&&oe(!0,Se),e.jsx(ls,{})]})}const rb="Equivalent Hours Deduction SetUp",qm={absent:"/Fs/Process/Device/EquivHoursDeductionSetUp/ForAbsent","no-login":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogin","no-logout":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogout","no-break2-out":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2Out","no-break2-in":"/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2In"};function cZ(){const[t,a]=o.useState("absent"),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState(null),[m,b]=o.useState(!1),[g,w]=o.useState({id:0,code:"",desc:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),[p,v]=o.useState([]),[f,y]=o.useState([]),[N,C]=o.useState([]),[S,I]=o.useState([]),[k,A]=o.useState([]),[F,O]=o.useState(!1),[M,U]=o.useState(""),L=10;o.useEffect(()=>{G()},[t]);const G=async()=>{O(!0),U("");try{const ve=qm[t],Ce=await z.get(ve);Ce.status===200&&Ce.data&&ye(Ce.data)}catch(ve){const Ce=ve.response?.data?.message||ve.message||"Failed to load deduction data";U(Ce),console.error("Error fetching deduction data:",ve)}finally{O(!1)}},re=()=>{switch(t){case"absent":return p;case"no-login":return f;case"no-logout":return N;case"no-break2-out":return S;case"no-break2-in":return k;default:return[]}},ye=ve=>{switch(t){case"absent":v(ve);break;case"no-login":y(ve);break;case"no-logout":C(ve);break;case"no-break2-out":I(ve);break;case"no-break2-in":A(ve);break}},K=re(),ne=K.filter(ve=>ve.code.toLowerCase().includes(s.toLowerCase())||ve.desc.toLowerCase().includes(s.toLowerCase())),H=Math.ceil(ne.length/L),se=(i-1)*L,we=ne.slice(se,se+L);o.useEffect(()=>{c(1)},[s]);const Y=()=>{w({id:0,code:"",desc:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),h(null),l(!0)},E=ve=>{h(ve),w({id:ve.id,code:ve.code,desc:ve.desc,monday:ve.monday.toString(),tuesday:ve.tuesday.toString(),wednesday:ve.wednesday.toString(),thursday:ve.thursday.toString(),friday:ve.friday.toString(),saturday:ve.saturday.toString(),sunday:ve.sunday.toString()}),l(!0)},P=async ve=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${ve.code} - ${ve.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{const $e=qm[t];await z.delete(`${$e}/${ve.id}`),await ts.log({accessType:"Delete",trans:`Deleted Deduction Item "${ve.code} - ${ve.desc}"`,messages:"Deduction item deleted successfully",formName:rb}),await xe.fire({icon:"success",title:"Success",text:"Deduction item deleted successfully.",timer:2e3,showConfirmButton:!1}),await G()}catch($e){const Ae=$e.response?.data?.message||$e.message||"Failed to delete deduction item";await xe.fire({icon:"error",title:"Error",text:Ae}),console.error("Error deleting deduction item:",$e)}},V=async ve=>{if(ve.preventDefault(),!g.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(K.some($e=>$e.code.toLowerCase()===g.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This deduction code is already in use. Please use a different code."});return}b(!0);try{const $e={id:0,code:g.code,desc:g.desc,monday:parseFloat(g.monday)||0,tuesday:parseFloat(g.tuesday)||0,wednesday:parseFloat(g.wednesday)||0,thursday:parseFloat(g.thursday)||0,friday:parseFloat(g.friday)||0,saturday:parseFloat(g.saturday)||0,sunday:parseFloat(g.sunday)||0},Ae=qm[t];await z.post(Ae,$e),await ts.log({accessType:"Add",trans:`Created Deduction Item "${$e.code} - ${$e.desc}"`,messages:"Deduction item created successfully",formName:rb}),await xe.fire({icon:"success",title:"Success",text:"Deduction item created successfully.",timer:2e3,showConfirmButton:!1}),await G(),l(!1)}catch($e){const Ae=$e.response?.data?.message||$e.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Ae}),console.error("Error creating deduction item:",$e)}finally{b(!1)}},D=async ve=>{if(ve.preventDefault(),!u)return;if(!g.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(K.some($e=>$e.id!==u.id&&$e.code.toLowerCase()===g.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This deduction code is already in use. Please use a different code."});return}b(!0);try{const $e={id:u.id,code:g.code,desc:g.desc,monday:parseFloat(g.monday)||0,tuesday:parseFloat(g.tuesday)||0,wednesday:parseFloat(g.wednesday)||0,thursday:parseFloat(g.thursday)||0,friday:parseFloat(g.friday)||0,saturday:parseFloat(g.saturday)||0,sunday:parseFloat(g.sunday)||0},Ae=qm[t];await z.put(`${Ae}/${$e.id}`,$e),await ts.log({accessType:"Edit",trans:`Updated Deduction Item "${$e.code} - ${$e.desc}"`,messages:"Deduction item updated successfully",formName:rb}),await xe.fire({icon:"success",title:"Success",text:"Deduction item updated successfully.",timer:2e3,showConfirmButton:!1}),await G(),l(!1),h(null)}catch($e){const Ae=$e.response?.data?.message||$e.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Ae}),console.error("Error updating deduction item:",$e)}finally{b(!1)}},R=ve=>{u?D(ve):V(ve)},ee=()=>{l(!1),h(null)};o.useEffect(()=>{const ve=Ce=>{Ce.key==="Escape"&&n&&(l(!1),h(null))};return n&&document.addEventListener("keydown",ve),()=>{document.removeEventListener("keydown",ve)}},[n]);const Se=[{id:"absent",label:"For Absent",icon:O7},{id:"no-login",label:"For No Login",icon:QP},{id:"no-logout",label:"For No Logout",icon:Gb},{id:"no-break2-out",label:"For No Break2 Out",icon:jP},{id:"no-break2-in",label:"For No Break2 In",icon:BS}],[ue,oe]=o.useState({}),le=ve=>ue[ve]===!0;o.useEffect(()=>{Q()},[]);const Q=()=>{const ve=localStorage.getItem("loginPayload");if(ve)try{const Ae=(JSON.parse(ve).permissions||[]).filter(Re=>Ss(Re.formName)==="EquivHoursDeduction"),We={};Ae.forEach(Re=>{const et=Ss(Re.accessTypeName);et&&(We[et]=!0)}),oe(We)}catch(Ce){console.error("Error parsing or decrypting payload",Ce)}};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Equivalent Hours Deduction Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure equivalent hours deduction for various attendance scenarios including absences, missing login/logout, and break violations. Set specific deduction hours for each day of the week to ensure accurate timekeeping calculations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Day-specific deduction configurations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple deduction scenarios"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible hours calculation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accurate attendance tracking"})]})]})]})]})}),le("View")&&e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-200",children:Se.map(ve=>e.jsxs("button",{onClick:()=>{a(ve.id),c(1),r("")},className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ve.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ve.icon,{className:"w-4 h-4"}),ve.label,t===ve.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]},ve.id))}),le("View")&&le("Edit")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[le("Add")&&e.jsxs("button",{onClick:Y,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:ve=>r(ve.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),le("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Monday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Tuesday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Wednesday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Thursday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Friday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Saturday"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Sunday"}),(le("Edit")||le("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:we.length>0?we.map(ve=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ve.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.monday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.tuesday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.wednesday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.thursday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.friday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.saturday}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.sunday}),(le("Edit")||le("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[le("Edit")&&e.jsx("button",{onClick:()=>E(ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),le("Edit")&&le("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),le("Delete")&&e.jsx("button",{onClick:()=>P(ve.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},ve.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),le("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",ne.length>0?se+1:0," to ",Math.min(se+L,ne.length)," of ",ne.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(ve=>Math.max(1,ve-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:H},(ve,Ce)=>Ce+1).map(ve=>e.jsx("button",{onClick:()=>c(ve),className:`px-3 py-1 rounded transition-colors ${i===ve?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ve},ve)),e.jsx("button",{onClick:()=>c(ve=>Math.min(H||1,ve+1)),disabled:i>=H||ne.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:u?"Edit":"Create New"}),e.jsx("button",{onClick:ee,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:R,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Equivalent Hours Deduction"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:g.code,maxLength:10,onChange:ve=>w({...g,code:ve.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:g.desc,onChange:ve=>w({...g,desc:ve.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Monday :"}),e.jsx("input",{type:"number",step:"0.01",value:g.monday,onChange:ve=>w({...g,monday:ve.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Tuesday :"}),e.jsx("input",{type:"number",step:"0.01",value:g.tuesday,onChange:ve=>w({...g,tuesday:ve.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Wednesday :"}),e.jsx("input",{type:"number",step:"0.01",value:g.wednesday,onChange:ve=>w({...g,wednesday:ve.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Thursday :"}),e.jsx("input",{type:"number",step:"0.01",value:g.thursday,onChange:ve=>w({...g,thursday:ve.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Friday :"}),e.jsx("input",{type:"number",step:"0.01",value:g.friday,onChange:ve=>w({...g,friday:ve.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Saturday :"}),e.jsx("input",{type:"number",step:"0.01",value:g.saturday,onChange:ve=>w({...g,saturday:ve.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Sunday :"}),e.jsx("input",{type:"number",step:"0.01",value:g.sunday,onChange:ve=>w({...g,sunday:ve.target.value}),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?u?"Updating...":"Submitting...":u?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:ee,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(ls,{})]})}const dZ=async()=>(await z.get("/Fs/Process/Overtime/OverTimeFileSetUp")).data??[],uZ=async()=>(await z.get("/AdditonalOTHoursPerWeek/PerDay")).data??[],nb=async t=>{const a={...t,refCode:String(t.refCode).trim()};return(await z.post("/AdditonalOTHoursPerWeek/PerDay",a)).data},o4=async(t,a)=>{const s={...a,refCode:String(a.refCode).trim()};return(await z.put(`/AdditonalOTHoursPerWeek/PerDay/${t}`,s)).data},xZ=async t=>{await z.delete(`/AdditonalOTHoursPerWeek/PerDay/${t}`)},hZ=async()=>(await z.get("/AdditonalOTHoursPerWeek/PerWeek")).data??[],ob=async t=>{const a={...t,refCode:String(t.refCode).trim()};return(await z.post("/AdditonalOTHoursPerWeek/PerWeek",a)).data},l4=async(t,a)=>{const s={...a,refCode:String(a.refCode).trim()};return(await z.put(`/AdditonalOTHoursPerWeek/PerWeek/${t}`,s)).data},mZ=async t=>{await z.delete(`/AdditonalOTHoursPerWeek/PerWeek/${t}`)},E5=async()=>(await z.get("/AdditonalOTHoursPerWeek/OTWeek")).data??[],pZ=async t=>{const a={...t,refCode:String(t.refCode||"").trim()};return(await z.post("/AdditonalOTHoursPerWeek/OTWeek",a)).data},gZ=async(t,a)=>{const s={...a,refCode:String(a.refCode).trim()};return(await z.put(`/AdditonalOTHoursPerWeek/OTWeek/${t.trim()}`,s)).data},fZ=E5;function yZ(){const[t,a]=o.useState(""),[s,r]=o.useState(null),[n,l]=o.useState(null),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(null),[f,y]=o.useState(null),[N,C]=o.useState(1),[S,I]=o.useState(1),[k,A]=o.useState(""),[F,O]=o.useState(""),[M,U]=o.useState(!1),[L,G]=o.useState([]),[re,ye]=o.useState([]),[K,ne]=o.useState([]),[H,se]=o.useState([]),[we,Y]=o.useState({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),[E,P]=o.useState(!1),[V,D]=o.useState(!1),[R,ee]=o.useState(!1),[Se,ue]=o.useState(!1),[oe,le]=o.useState(!1),[Q,ve]=o.useState(!1),[Ce,$e]=o.useState(null),[Ae,We]=o.useState({noHours:"",equalHours:""}),[Re,et]=o.useState({noHoursPerWeek:"",equalHoursPerWeek:""}),B=10,[q,Z]=o.useState({}),je=lt=>q[lt]===!0;o.useEffect(()=>{De()},[]);const De=()=>{const lt=localStorage.getItem("loginPayload");if(lt)try{const wt=(JSON.parse(lt).permissions||[]).filter(Dt=>Ss(Dt.formName)==="AdditionalOTHoursPerWeek"),It={};wt.forEach(Dt=>{const Ke=Ss(Dt.accessTypeName);Ke&&(It[Ke]=!0)}),Z(It)}catch(bt){console.error("Error parsing or decrypting payload",bt)}},Qe=o.useCallback(async lt=>{if(lt){P(!0);try{const[bt,Nt,wt]=await Promise.allSettled([uZ(),hZ(),E5()]),It=lt.trim();if(bt.status==="fulfilled"){const Dt=(bt.value??[]).filter(Ke=>String(Ke.refCode).trim()===It);ne(Dt),console.log("Looking for refCode:",It),console.log("Per Day - All data:",bt.value),console.log("Per Day - Filtered:",Dt)}else ne([]);if(Nt.status==="fulfilled"){const Dt=Nt.value??[];console.log("Per Week - All data:",Dt),console.log("Per Week - Looking for refCode:",It,"type:",typeof It),Dt.forEach(tt=>{console.log("  - Record refCode:",tt.refCode,"trimmed:",String(tt.refCode).trim(),"type:",typeof tt.refCode,"matches:",String(tt.refCode).trim()===It)});const Ke=Dt.filter(tt=>String(tt.refCode).trim()===It);se(Ke),console.log("Per Week - Filtered:",Ke)}else se([]);if(wt.status==="fulfilled"){const Dt=(wt.value??[]).find(Ke=>String(Ke.refCode).trim()===It);Y(Dt||{refCode:It,day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1})}else Y({refCode:It,day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1});r(null),l(null)}catch(bt){xe.fire({icon:"error",title:"Error",text:bt.response?.data?.message||bt.message||"Failed to load data"})}finally{P(!1)}}},[]),qe=async()=>{if(!(L.length>0)){D(!0);try{const lt=await dZ();G(lt??[])}catch(lt){xe.fire({icon:"error",title:"Error",text:lt.response?.data?.message||lt.message||"Failed to load OT codes"})}finally{D(!1)}}},Ye=lt=>{O(lt),A(""),C(1),b(!0),qe()},ht=lt=>{Y(bt=>({...bt,[F==="regularDay"?"regularDay":F==="restDay"?"restDay":F==="legalHoliday"?"legal":"special"]:lt})),b(!1)},St=()=>{a(""),ne([]),se([]),Y({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),U(!0)},dt=()=>U(!0),Et=async()=>{ue(!0);try{const lt=!t||t.trim()==="";let bt;if(lt){const Nt={...we,refCode:""},wt=await pZ(Nt);if(bt=wt.refCode,a(bt),Y(wt),K.length>0){const It=await Promise.all(K.map(Dt=>nb({refCode:bt,noHours:Dt.noHours,equalHours:Dt.equalHours})));ne(It)}if(H.length>0){const It=await Promise.all(H.map(Dt=>ob({refCode:bt,noHoursPerWeek:Dt.noHoursPerWeek,equalHoursPerWeek:Dt.equalHoursPerWeek})));se(It)}}else{const Nt={...we,refCode:t},wt=await gZ(t,Nt);if(Y(wt),K.length>0){const It=await Promise.all(K.map(Dt=>Dt.id<0?nb({refCode:t,noHours:Dt.noHours,equalHours:Dt.equalHours}):o4(Dt.id,Dt)));ne(It)}if(H.length>0){const It=await Promise.all(H.map(Dt=>Dt.id<0?ob({refCode:t,noHoursPerWeek:Dt.noHoursPerWeek,equalHoursPerWeek:Dt.equalHoursPerWeek}):l4(Dt.id,Dt)));se(It)}}xe.fire({icon:"success",title:"Saved",text:"Record saved successfully.",timer:1800,showConfirmButton:!1}),U(!1)}catch(lt){xe.fire({icon:"error",title:"Error",text:lt.response?.data?.message||lt.message||"Failed to save"})}finally{ue(!1)}},Te=()=>{U(!1),Qe(t)},Ee=async()=>{w(!0),I(1),A(""),ee(!0);try{const lt=await fZ();ye(lt??[])}catch(lt){xe.fire({icon:"error",title:"Error",text:lt.response?.data?.message||lt.message||"Failed to load records"})}finally{ee(!1)}},pe=async()=>{if(!Ae.noHours||!Ae.equalHours)return;const lt=we.refCode||t||"";if(lt===""&&M){const bt=-(K.length+1);ne(Nt=>[...Nt,{id:bt,refCode:"",noHours:Ae.noHours,equalHours:Ae.equalHours}]),We({noHours:"",equalHours:""}),c(!1);return}le(!0);try{const bt=await nb({refCode:lt,noHours:Ae.noHours,equalHours:Ae.equalHours});ne(Nt=>[...Nt,bt]),We({noHours:"",equalHours:""}),c(!1),xe.fire({icon:"success",title:"Added",text:"Entry added successfully.",timer:1500,showConfirmButton:!1})}catch(bt){xe.fire({icon:"error",title:"Error",text:bt.response?.data?.message||bt.message||"Failed to add entry"})}finally{le(!1)}},Je=async()=>{if(p){le(!0);try{const lt=await o4(p.id,p);ne(bt=>bt.map(Nt=>Nt.id===lt.id?lt:Nt)),v(null),xe.fire({icon:"success",title:"Updated",text:"Entry updated successfully.",timer:1500,showConfirmButton:!1})}catch(lt){xe.fire({icon:"error",title:"Error",text:lt.response?.data?.message||lt.message||"Failed to update"})}finally{le(!1)}}},pt=async lt=>{if(lt<0){ne(Nt=>Nt.filter(wt=>wt.id!==lt));return}if((await xe.fire({icon:"warning",title:"Delete Entry",text:"Are you sure you want to delete this entry? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){$e(lt);try{await xZ(lt),ne(Nt=>Nt.filter(wt=>wt.id!==lt)),xe.fire({icon:"success",title:"Deleted",text:"Entry deleted successfully.",timer:1500,showConfirmButton:!1})}catch(Nt){xe.fire({icon:"error",title:"Error",text:Nt.response?.data?.message||Nt.message||"Failed to delete"})}finally{$e(null)}}},Mt=async()=>{if(!Re.noHoursPerWeek||!Re.equalHoursPerWeek)return;const lt=we.refCode||t||"";if(lt===""&&M){const bt=-(H.length+1);se(Nt=>[...Nt,{id:bt,refCode:"",noHoursPerWeek:Re.noHoursPerWeek,equalHoursPerWeek:Re.equalHoursPerWeek}]),et({noHoursPerWeek:"",equalHoursPerWeek:""}),h(!1);return}ve(!0);try{const bt=await ob({refCode:lt,noHoursPerWeek:Re.noHoursPerWeek,equalHoursPerWeek:Re.equalHoursPerWeek});se(Nt=>[...Nt,bt]),et({noHoursPerWeek:"",equalHoursPerWeek:""}),h(!1),xe.fire({icon:"success",title:"Added",text:"Entry added successfully.",timer:1500,showConfirmButton:!1})}catch(bt){xe.fire({icon:"error",title:"Error",text:bt.response?.data?.message||bt.message||"Failed to add entry"})}finally{ve(!1)}},Wt=async()=>{if(f){ve(!0);try{const lt=await l4(f.id,f);se(bt=>bt.map(Nt=>Nt.id===lt.id?lt:Nt)),y(null),xe.fire({icon:"success",title:"Updated",text:"Entry updated successfully.",timer:1500,showConfirmButton:!1})}catch(lt){xe.fire({icon:"error",title:"Error",text:lt.response?.data?.message||lt.message||"Failed to update"})}finally{ve(!1)}}},$t=async lt=>{if(lt<0){se(Nt=>Nt.filter(wt=>wt.id!==lt));return}if((await xe.fire({icon:"warning",title:"Delete Entry",text:"Are you sure you want to delete this entry? This action cannot be undone.",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel"})).isConfirmed){$e(lt);try{await mZ(lt),se(Nt=>Nt.filter(wt=>wt.id!==lt)),xe.fire({icon:"success",title:"Deleted",text:"Entry deleted successfully.",timer:1500,showConfirmButton:!1})}catch(Nt){xe.fire({icon:"error",title:"Error",text:Nt.response?.data?.message||Nt.message||"Failed to delete"})}finally{$e(null)}}};return o.useEffect(()=>{const lt=bt=>{bt.key==="Escape"&&(m?b(!1):g?w(!1):i?(c(!1),We({noHours:"",equalHours:""})):p?v(null):u?(h(!1),et({noHoursPerWeek:"",equalHoursPerWeek:""})):f&&y(null))};return document.addEventListener("keydown",lt),()=>document.removeEventListener("keydown",lt)},[m,g,i,u,p,f]),Math.ceil(L.length/B),L.slice((N-1)*B,N*B),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Additional OT Hours Per Week"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure additional overtime hours tracking per week. Set up hourly equivalents for both daily and weekly overtime schedules, and define overtime rate codes for different scenarios including regular days, rest days, and holidays."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Daily and weekly OT hour tracking","Equivalent hours configuration","Day-specific OT rate codes","Leave as worked time option"].map(lt=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:lt})]},lt))})]})]})}),je("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Reference Code:"}),e.jsx("input",{type:"text",value:t,onChange:lt=>a(lt.target.value),onKeyDown:lt=>{lt.key==="Enter"&&(t.trim()?Qe(t.trim()):Ee())},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-32",placeholder:"Ref Code"}),e.jsx("button",{onClick:()=>t.trim()?Qe(t.trim()):Ee(),disabled:E,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-60",title:t.trim()?"Filter by ref code":"Browse all records",children:E?e.jsx(_a,{className:"w-4 h-4 animate-spin"}):e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{a(""),ne([]),se([]),Y({refCode:"",day:"Monday",regularDay:"",restDay:"",legal:"",special:"",paidLeave:!1}),U(!1)},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Clear",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[!M&&je("Add")&&e.jsxs("button",{onClick:St,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),!M&&je("Edit")&&e.jsxs("button",{onClick:dt,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ri,{className:"w-4 h-4"}),"Edit"]}),M&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Et,disabled:Se,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-60",children:[Se?e.jsx(_a,{className:"w-4 h-4 animate-spin"}):e.jsx(za,{className:"w-4 h-4"}),t&&t.trim()!==""||we.id?"Update":"Save"]}),e.jsxs("button",{onClick:Te,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Bv,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),E&&e.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-400 gap-3",children:[e.jsx(_a,{className:"w-6 h-6 animate-spin text-blue-500"}),e.jsxs("span",{className:"text-sm",children:["Loading data for ref ",t,""]})]}),je("View")&&!E?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"OT Hours Per Day"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"No. Of Hours"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"Equivalent Hours"}),(je("Edit")||je("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-gray-700 text-sm w-24",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:K.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-6 text-center text-gray-400 text-sm",children:'No entries. Click "Add Entry" to get started.'})}):K.map((lt,bt)=>e.jsxs("tr",{onClick:()=>r(bt),className:`cursor-pointer transition-colors ${s===bt?"bg-blue-50":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:lt.noHours}),e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:lt.equalHours}),(je("Edit")||je("Delete"))&&e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[je("Edit")&&e.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),v({...lt})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(Ri,{className:"w-3.5 h-3.5"})}),je("Delete")&&e.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),pt(lt.id)},disabled:Ce===lt.id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-40",title:"Delete",children:Ce===lt.id?e.jsx(_a,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Ns,{className:"w-3.5 h-3.5"})})]})})]},lt.id))})]})}),je("Add")&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>c(!0),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx(Es,{className:"w-4 h-4"}),"Add Entry"]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"OT Hours Per Week"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"No. Of Hours Per Week"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700 text-sm",children:"Equivalent Hours Per Week"}),(je("Edit")||je("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-gray-700 text-sm w-24",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:H.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-6 text-center text-gray-400 text-sm",children:'No entries. Click "Add Entry" to get started.'})}):H.map((lt,bt)=>e.jsxs("tr",{onClick:()=>l(bt),className:`cursor-pointer transition-colors ${n===bt?"bg-blue-50":"hover:bg-gray-50"}`,children:[e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:lt.noHoursPerWeek}),e.jsx("td",{className:"px-6 py-3 text-gray-900 text-sm",children:lt.equalHoursPerWeek}),(je("Edit")||je("Delete"))&&e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[je("Edit")&&e.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),y({...lt})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:e.jsx(Ri,{className:"w-3.5 h-3.5"})}),je("Delete")&&e.jsx("button",{onClick:Nt=>{Nt.stopPropagation(),$t(lt.id)},disabled:Ce===lt.id,className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-40",title:"Delete",children:Ce===lt.id?e.jsx(_a,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(Ns,{className:"w-3.5 h-3.5"})})]})})]},lt.id))})]})}),je("Add")&&e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>h(!0),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[e.jsx(Es,{className:"w-4 h-4"}),"Add Entry"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4 text-sm font-semibold",children:"Schedule of additional hours per week"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:"Day"}),e.jsx("select",{value:we.day,disabled:!M,onChange:lt=>Y({...we,day:lt.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(lt=>e.jsx("option",{children:lt},lt))})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("p",{className:"text-gray-700 text-sm mb-3 font-medium",children:"Overtime rate basis for additional hours per week"}),["regularDay","restDay","legal","special"].map(lt=>{const bt={regularDay:"Regular Day",restDay:"Rest Day",legal:"Legal Holiday",special:"Special National"},Nt=lt==="legal"?"legalHoliday":lt==="special"?"specialNational":lt;return e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-gray-700 mb-1 text-sm",children:bt[lt]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:we[lt],readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm bg-gray-50 cursor-not-allowed"}),e.jsx("button",{disabled:!M,onClick:()=>Ye(Nt),className:"px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]},lt)}),e.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[e.jsx("input",{type:"checkbox",id:"leaveWorked",checked:we.paidLeave,disabled:!M,onChange:lt=>Y({...we,paidLeave:lt.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"leaveWorked",className:"text-gray-700 text-sm",children:"Leave is Considered as part of worked rendered"})]})]})]})]})]}):E?null:e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})]})]})}),(i||p)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-base",children:p?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{c(!1),v(null),We({noHours:"",equalHours:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:lt=>{lt.preventDefault(),p?Je():pe()},className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 font-medium mb-4 text-sm",children:"OT Hours Per Day"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"No of Hours :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:p?p.noHours:Ae.noHours,onChange:lt=>p?v({...p,noHours:lt.target.value}):We({...Ae,noHours:lt.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 8"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40",children:"Equivalent Hours :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:p?p.equalHours:Ae.equalHours,onChange:lt=>p?v({...p,equalHours:lt.target.value}):We({...Ae,equalHours:lt.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 8"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"submit",disabled:oe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:[oe&&e.jsx(_a,{className:"w-4 h-4 animate-spin"}),p?"Update":"Submit"]}),e.jsx("button",{type:"button",onClick:()=>{c(!1),v(null),We({noHours:"",equalHours:""})},disabled:oe,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),(u||f)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-base",children:f?"Edit":"Create New"}),e.jsx("button",{onClick:()=>{h(!1),y(null),et({noHoursPerWeek:"",equalHoursPerWeek:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:lt=>{lt.preventDefault(),f?Wt():Mt()},className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 font-medium mb-4 text-sm",children:"OT Hours Per Week"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"No of Hours Per Week :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:f?f.noHoursPerWeek:Re.noHoursPerWeek,onChange:lt=>f?y({...f,noHoursPerWeek:lt.target.value}):et({...Re,noHoursPerWeek:lt.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 40"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Equivalent Hours Per Week :"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:f?f.equalHoursPerWeek:Re.equalHoursPerWeek,onChange:lt=>f?y({...f,equalHoursPerWeek:lt.target.value}):et({...Re,equalHoursPerWeek:lt.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"e.g. 40"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsxs("button",{type:"submit",disabled:Q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:[Q&&e.jsx(_a,{className:"w-4 h-4 animate-spin"}),f?"Update":"Submit"]}),e.jsx("button",{type:"button",onClick:()=>{h(!1),y(null),et({noHoursPerWeek:"",equalHoursPerWeek:""})},disabled:Q,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("h2",{className:"text-blue-600 text-sm font-semibold whitespace-nowrap",children:"Search OT Codes"}),e.jsxs("div",{className:"relative flex-1 max-w-xs ml-4",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:k,onChange:lt=>{A(lt.target.value),C(1)},placeholder:"Filter by code or description",className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",autoFocus:!0})]})]}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 ml-3 flex-shrink-0",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-0",children:V?e.jsxs("div",{className:"flex items-center justify-center py-16 gap-3 text-gray-400",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Loading OT codes"})]}):(()=>{const lt=L.filter(wt=>k===""||wt.otfCode.toLowerCase().includes(k.toLowerCase())||wt.description.toLowerCase().includes(k.toLowerCase())||wt.earnCode.toLowerCase().includes(k.toLowerCase())),bt=Math.ceil(lt.length/B),Nt=lt.slice((N-1)*B,N*B);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium whitespace-nowrap",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-medium whitespace-nowrap",children:"Earn Code"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Rate 1"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Rate 2"}),e.jsx("th",{className:"px-4 py-3 text-right text-gray-600 font-medium whitespace-nowrap",children:"Def Amt"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Payslip"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Cola OT"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Inc Cola Basic"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium whitespace-nowrap",children:"Exemption"}),e.jsx("th",{className:"px-4 py-3 text-center text-gray-600 font-medium",children:"Select"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Nt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-10 text-center text-gray-400",children:"No OT codes match your search."})}):Nt.map(wt=>e.jsxs("tr",{onClick:()=>ht(wt.otfCode),className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 font-medium text-blue-700 whitespace-nowrap",children:wt.otfCode}),e.jsx("td",{className:"px-4 py-2.5 text-gray-800",children:wt.description}),e.jsx("td",{className:"px-4 py-2.5 text-gray-600 whitespace-nowrap",children:wt.earnCode}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:wt.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:wt.rate2.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-right text-gray-800 whitespace-nowrap",children:wt.defAmt.toFixed(2)}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:wt.incPayslip}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:wt.incColaOT}),e.jsx("td",{className:"px-4 py-2.5 text-center text-gray-600",children:wt.incColaBasic}),e.jsx("td",{className:"px-4 py-2.5 text-center",children:wt.isExemptionRpt?e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-green-100 rounded-full",children:e.jsx(Xe,{className:"w-3 h-3 text-green-600"})}):e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-gray-100 rounded-full",children:e.jsx(ot,{className:"w-3 h-3 text-gray-400"})})}),e.jsx("td",{className:"px-4 py-2.5 text-center",children:e.jsx("button",{onClick:It=>{It.stopPropagation(),ht(wt.otfCode)},className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-xs font-medium",children:"Select"})})]},wt.otfid))})]})}),bt>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",(N-1)*B+1,"",Math.min(N*B,lt.length)," of ",lt.length," records"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>C(wt=>Math.max(1,wt-1)),disabled:N===1,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Previous"}),Array.from({length:Math.min(7,bt)},(wt,It)=>It+1).map(wt=>e.jsx("button",{onClick:()=>C(wt),className:`px-3 py-1.5 rounded text-xs transition-colors ${N===wt?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:wt},wt)),e.jsx("button",{onClick:()=>C(wt=>Math.min(bt,wt+1)),disabled:N>=bt,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Next"})]})]})]})})()}),e.jsx("div",{className:"flex justify-end px-6 py-3 bg-gray-50 border-t border-gray-200 rounded-b-lg flex-shrink-0",children:e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Close"})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-900 font-semibold text-sm",children:"Additional OT per Week"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-3 border-b border-gray-100 flex-shrink-0",children:[e.jsx("label",{className:"text-gray-600 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:lt=>{A(lt.target.value),I(1)},autoFocus:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-52"})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:R?e.jsxs("div",{className:"flex items-center justify-center py-16 gap-3 text-gray-400",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin text-blue-500"}),e.jsx("span",{className:"text-sm",children:"Loading"})]}):(()=>{const lt=re.filter(wt=>k===""||String(wt.refCode).includes(k)||wt.day.toLowerCase().includes(k.toLowerCase())||wt.regularDay.toLowerCase().includes(k.toLowerCase())||wt.restDay.toLowerCase().includes(k.toLowerCase())||wt.legal.toLowerCase().includes(k.toLowerCase())||wt.special.toLowerCase().includes(k.toLowerCase())),bt=Math.ceil(lt.length/B),Nt=lt.slice((S-1)*B,S*B);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Ref Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Regular Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Rest Day"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Legal"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-700 font-semibold whitespace-nowrap",children:"Special"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Nt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-10 text-center text-gray-400",children:re.length===0?"No records found.":"No results match your search."})}):Nt.map(wt=>e.jsxs("tr",{onClick:()=>{const It=String(wt.refCode);a(It),w(!1),Qe(It)},className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:wt.refCode}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:wt.day}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:wt.regularDay}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:wt.restDay}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:wt.legal}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:wt.special})]},wt.refCode))})]})}),bt>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-100 bg-gray-50",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",Math.min((S-1)*B+1,lt.length),"",Math.min(S*B,lt.length)," of ",lt.length," records"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>I(wt=>Math.max(1,wt-1)),disabled:S===1,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Previous"}),Array.from({length:Math.min(7,bt)},(wt,It)=>It+1).map(wt=>e.jsx("button",{onClick:()=>I(wt),className:`px-3 py-1.5 rounded text-xs transition-colors ${S===wt?"bg-blue-500 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:wt},wt)),e.jsx("button",{onClick:()=>I(wt=>Math.min(bt,wt+1)),disabled:S>=bt,className:"px-3 py-1.5 bg-white border border-gray-300 text-gray-700 rounded hover:bg-gray-50 disabled:opacity-40 text-xs",children:"Next"})]})]})]})})()}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200 px-6 py-3 bg-gray-50 rounded-b-lg",children:e.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Close"})})]})}),e.jsx(ls,{})]})}const lb="Regular Day OT Rate SetUp";function bZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(1),[p,v]=o.useState(1),[f,y]=o.useState(null),[N,C]=o.useState(null),[S,I]=o.useState(!1),[k,A]=o.useState({code:"",desc:"",afterTheShift:"",withinTheShiftND:"",afterTheShiftND:"",otPremiumAfterTheShift:"",otPremiumWithinTheShift:"",doleRegDay:""}),[F,O]=o.useState([]),[M,U]=o.useState(!1),[L,G]=o.useState(""),[re,ye]=o.useState([]),[K,ne]=o.useState(!1);o.useEffect(()=>{H()},[]);const H=async()=>{U(!0),G("");try{const je=await z.get("/Fs/Process/Overtime/RegularDayOTRateSetUp");je.status===200&&je.data&&O(je.data)}catch(je){const De=je.response?.data?.message||je.message||"Failed to load regular overtime data";G(De),console.error("Error fetching regular OT data:",je)}finally{U(!1)}},se=async()=>{ne(!0);try{const je=await z.get("/Fs/Process/Overtime/OverTimeFileSetUp");je.status===200&&je.data&&ye(je.data)}catch(je){console.error("Error fetching OT codes:",je)}finally{ne(!1)}},we=F.filter(je=>je.code.toLowerCase().includes(i.toLowerCase())||je.desc.toLowerCase().includes(i.toLowerCase())),Y=re.filter(je=>je.otfCode.toLowerCase().includes(m.toLowerCase())||je.description.toLowerCase().includes(m.toLowerCase())),E=10,P=Math.ceil(we.length/E),V=(g-1)*E,D=V+E,R=we.slice(V,D),ee=10,Se=Math.ceil(Y.length/ee),ue=(p-1)*ee,oe=ue+ee,le=Y.slice(ue,oe);o.useEffect(()=>{w(1)},[i]);const Q=()=>{A({code:"",desc:"",afterTheShift:"",withinTheShiftND:"",afterTheShiftND:"",otPremiumAfterTheShift:"",otPremiumWithinTheShift:"",doleRegDay:""}),y(null),a(!0)},ve=je=>{y(je),A({code:je.code,desc:je.desc,afterTheShift:je.afterTheShift,withinTheShiftND:je.withinTheShiftND,afterTheShiftND:je.afterTheShiftND,otPremiumAfterTheShift:je.otPremiumAfterTheShift,otPremiumWithinTheShift:je.otPremiumWithinTheShift,doleRegDay:je.doleRegDay}),a(!0)},Ce=je=>{C(je),l(!0)},$e=je=>{h(je),b(""),v(1),se(),r(!0)},Ae=je=>{A(De=>({...De,[u]:je})),r(!1)},We=je=>{A(De=>({...De,[je]:""}))},Re=async je=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${je.code} - ${je.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Overtime/RegularDayOTRateSetUp/${je.id}`),await ts.log({accessType:"Delete",trans:`Deleted regular OT "${je.code} - ${je.desc}"`,messages:`Regular OT "${je.code} - ${je.desc}" removed`,formName:lb}),await xe.fire({icon:"success",title:"Success",text:"Record deleted successfully.",timer:2e3,showConfirmButton:!1}),await H()}catch(Qe){await xe.fire({icon:"error",title:"Error",text:Qe.response?.data?.message||Qe.message||"Failed to delete record"})}},et=async()=>{if(!k.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(k.code.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be 10 characters or less."});return}if(!k.desc.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(F.some(De=>(!f||De.id!==f.id)&&De.code.toLowerCase()===k.code.toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"A record with this code already exists."});return}I(!0);try{const De={id:f?f.id:0,code:k.code,desc:k.desc,afterTheShift:k.afterTheShift,withinTheShiftND:k.withinTheShiftND,afterTheShiftND:k.afterTheShiftND,otPremiumAfterTheShift:k.otPremiumAfterTheShift,otPremiumWithinTheShift:k.otPremiumWithinTheShift,doleRegDay:k.doleRegDay};f?(await z.put(`/Fs/Process/Overtime/RegularDayOTRateSetUp/${f.id}`,De),await ts.log({accessType:"Edit",trans:`Updated regular OT "${k.code} - ${k.desc}"`,messages:`Regular OT "${k.code} - ${k.desc}" updated`,formName:lb}),await xe.fire({icon:"success",title:"Success",text:"Record updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Process/Overtime/RegularDayOTRateSetUp",De),await ts.log({accessType:"Add",trans:`Created regular OT "${k.code} - ${k.desc}"`,messages:`Regular OT "${k.code} - ${k.desc}" created`,formName:lb}),await xe.fire({icon:"success",title:"Success",text:"Record created successfully.",timer:2e3,showConfirmButton:!1})),await H(),a(!1),y(null)}catch(De){await xe.fire({icon:"error",title:"Error",text:De.response?.data?.message||De.message||"An error occurred"})}finally{I(!1)}},B=()=>{a(!1),r(!1),l(!1),y(null),C(null)};o.useEffect(()=>{const je=De=>{De.key==="Escape"&&(n?l(!1):s?r(!1):t&&a(!1))};return(s||t||n)&&document.addEventListener("keydown",je),()=>document.removeEventListener("keydown",je)},[s,t,n]);const q=(je,De)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-56 text-gray-700 text-sm",children:[je," :"]}),e.jsx("input",{type:"text",value:k[De],readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{type:"button",onClick:()=>$e(De),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>We(De),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:e.jsx(ot,{className:"w-4 h-4"})})]}),Z=s?Dl.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[9999] p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl flex flex-col",style:{maxHeight:"85vh"},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 text-lg font-semibold",children:"Overtime Code"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:je=>{b(je.target.value),v(1)},className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-80",placeholder:"Search by code or description...",autoFocus:!0})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:K?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:le.length>0?le.map(je=>e.jsxs("tr",{onClick:()=>Ae(je.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:je.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:je.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:je.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:je.defAmt.toFixed(2)})]},je.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",ue+1," to ",Math.min(oe,Y.length)," of ",Y.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(je=>Math.max(1,je-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),[...Array(Math.min(5,Se))].map((je,De)=>e.jsx("button",{onClick:()=>v(De+1),className:`px-3 py-1 rounded text-sm ${p===De+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De+1},De)),e.jsx("button",{onClick:()=>v(je=>Math.min(Se,je+1)),disabled:p===Se||Se===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})}),document.body):null;return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Regular Day OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define regular day overtime rate codes and their corresponding overtime premiums. Configure rates for within shift, after shift, and night differential scenarios to ensure accurate overtime calculations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Within shift OT configurations","After shift OT premium rates","Night differential premiums","DOLE regular day compliance"].map(je=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:je})]},je))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"})," Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:je=>c(je.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:M?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading records..."})}):L?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:L})}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:R.length>0?R.map(je=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:je.code}),e.jsx("td",{className:"px-4 py-2",children:je.desc}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>Ce(je),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Details",children:e.jsx(Rg,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ve(je),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Re(je),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},je.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",V+1," to ",Math.min(D,we.length)," of ",we.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(je=>Math.max(1,je-1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),[...Array(P)].map((je,De)=>e.jsx("button",{onClick:()=>w(De+1),className:`px-3 py-1 rounded ${g===De+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De+1},De)),e.jsx("button",{onClick:()=>w(je=>Math.min(P,je+1)),disabled:g===P,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:f?"Edit":"Create New"}),e.jsx("button",{onClick:B,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Regular Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:k.code,onChange:je=>A({...k,code:je.target.value}),maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Max 10 characters"}),e.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[k.code.length,"/10"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:k.desc,onChange:je=>A({...k,desc:je.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),q("After the Shift","afterTheShift"),q("Within the Shift with ND","withinTheShiftND"),q("After the Shift with ND","afterTheShiftND"),q("OT Premium After the Shift","otPremiumAfterTheShift"),q("OT Premium Within the Shift","otPremiumWithinTheShift"),q("DOLE Regular Day","doleRegDay")]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:et,disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:S?f?"Updating...":"Submitting...":f?"Update":"Submit"}),e.jsx("button",{onClick:B,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]})]})}),Z,n&&N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:"Details"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Regular Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Code :"}),e.jsx("span",{className:"text-gray-700",children:N.code})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Description :"}),e.jsx("span",{className:"text-gray-700",children:N.desc})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:N.afterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:N.withinTheShiftND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:N.afterTheShiftND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:N.otPremiumAfterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium Within the Shift :"}),e.jsx("span",{className:"text-gray-700",children:N.otPremiumWithinTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"DOLE Regular Day :"}),e.jsx("span",{className:"text-gray-700",children:N.doleRegDay||""})]})]})]})]})}),e.jsx(ls,{})]})}const ib="Rest Day OT Rate SetUp";function vZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(1),[p,v]=o.useState(1),[f,y]=o.useState(null),[N,C]=o.useState(null),[S,I]=o.useState(!1),[k,A]=o.useState({code:"",desc:"",withinTheShift:"",afterTheShift:"",withinTheShiftWithND:"",afterTheShiftWithND:"",otPremiumWithinTheShiftWithND:"",otPremiumAfterTheShiftWithND:"",equiOTCode:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:""}),[F,O]=o.useState([]),[M,U]=o.useState(!1),[L,G]=o.useState(""),[re,ye]=o.useState([]),[K,ne]=o.useState(!1);o.useEffect(()=>{H()},[]);const H=async()=>{U(!0),G("");try{const Z=await z.get("/Fs/Process/Overtime/RestDayOTRateSetUp");Z.status===200&&Z.data&&O(Z.data)}catch(Z){const je=Z.response?.data?.message||Z.message||"Failed to load rest day overtime data";G(je),console.error("Error fetching rest day OT data:",Z)}finally{U(!1)}},se=async()=>{ne(!0);try{const Z=await z.get("/Fs/Process/Overtime/OverTimeFileSetUp");Z.status===200&&Z.data&&ye(Z.data)}catch(Z){console.error("Error fetching OT codes:",Z)}finally{ne(!1)}},we=F.filter(Z=>Z.code.toLowerCase().includes(i.toLowerCase())||Z.desc.toLowerCase().includes(i.toLowerCase())),Y=re.filter(Z=>Z.otfCode.toLowerCase().includes(m.toLowerCase())||Z.description.toLowerCase().includes(m.toLowerCase())),E=10,P=Math.ceil(we.length/E),V=(g-1)*E,D=V+E,R=we.slice(V,D),ee=10,Se=Math.ceil(Y.length/ee),ue=(p-1)*ee,oe=ue+ee,le=Y.slice(ue,oe);o.useEffect(()=>{w(1)},[i]);const Q=()=>{A({code:"",desc:"",withinTheShift:"",afterTheShift:"",withinTheShiftWithND:"",afterTheShiftWithND:"",otPremiumWithinTheShiftWithND:"",otPremiumAfterTheShiftWithND:"",equiOTCode:"",eqOTCodeAftrShfForNoOfHrs:"",eqOTCodeAftrShfNDForNoOfHrs:""}),y(null),a(!0)},ve=Z=>{y(Z),A({code:Z.code,desc:Z.desc,withinTheShift:Z.withinTheShift,afterTheShift:Z.afterTheShift,withinTheShiftWithND:Z.withinTheShiftWithND,afterTheShiftWithND:Z.afterTheShiftWithND,otPremiumWithinTheShiftWithND:Z.otPremiumWithinTheShiftWithND,otPremiumAfterTheShiftWithND:Z.otPremiumAfterTheShiftWithND,equiOTCode:Z.equiOTCode,eqOTCodeAftrShfForNoOfHrs:Z.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:Z.eqOTCodeAftrShfNDForNoOfHrs}),a(!0)},Ce=Z=>{C(Z),l(!0)},$e=Z=>{h(Z),b(""),v(1),se(),r(!0)},Ae=Z=>{A(je=>({...je,[u]:Z})),r(!1)},We=Z=>{A(je=>({...je,[Z]:""}))},Re=async Z=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${Z.code} - ${Z.desc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Overtime/RestDayOTRateSetUp/${Z.id}`),await ts.log({accessType:"Delete",trans:`Deleted Rest Day OT "${Z.code} - ${Z.desc}"`,messages:`Rest Day OT "${Z.code} - ${Z.desc}" removed`,formName:ib}),await xe.fire({icon:"success",title:"Success",text:"Record deleted successfully.",timer:2e3,showConfirmButton:!1}),await H()}catch(De){await xe.fire({icon:"error",title:"Error",text:De.response?.data?.message||De.message||"Failed to delete record"})}},et=async()=>{if(!k.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(k.code.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be 10 characters or less."});return}if(!k.desc.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(F.some(je=>(!f||je.id!==f.id)&&je.code.toLowerCase()===k.code.toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"A record with this code already exists."});return}I(!0);try{const je={id:f?f.id:0,code:k.code,desc:k.desc,withinTheShift:k.withinTheShift,afterTheShift:k.afterTheShift,withinTheShiftWithND:k.withinTheShiftWithND,afterTheShiftWithND:k.afterTheShiftWithND,otPremiumWithinTheShiftWithND:k.otPremiumWithinTheShiftWithND,otPremiumAfterTheShiftWithND:k.otPremiumAfterTheShiftWithND,equiOTCode:k.equiOTCode,eqOTCodeAftrShfForNoOfHrs:k.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:k.eqOTCodeAftrShfNDForNoOfHrs};f?(await z.put(`/Fs/Process/Overtime/RestDayOTRateSetUp/${f.id}`,je),await ts.log({accessType:"Edit",trans:`Updated Rest Day OT "${k.code} - ${k.desc}"`,messages:`Rest Day OT "${k.code} - ${k.desc}" updated`,formName:ib}),await xe.fire({icon:"success",title:"Success",text:"Record updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Process/Overtime/RestDayOTRateSetUp",je),await ts.log({accessType:"Add",trans:`Created Rest Day OT "${k.code} - ${k.desc}"`,messages:`Rest Day OT "${k.code} - ${k.desc}" created`,formName:ib}),await xe.fire({icon:"success",title:"Success",text:"Record created successfully.",timer:2e3,showConfirmButton:!1})),await H(),a(!1),y(null)}catch(je){await xe.fire({icon:"error",title:"Error",text:je.response?.data?.message||je.message||"An error occurred"})}finally{I(!1)}},B=()=>{a(!1),r(!1),l(!1),y(null),C(null)};o.useEffect(()=>{const Z=je=>{je.key==="Escape"&&(n?l(!1):s?r(!1):t&&a(!1))};return(s||t||n)&&document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s,t,n]);const q=(Z,je)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-56 text-gray-700 text-sm",children:[Z," :"]}),e.jsx("input",{type:"text",value:k[je],readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{type:"button",onClick:()=>$e(je),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>We(je),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex-shrink-0",children:e.jsx(ot,{className:"w-4 h-4"})})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Rest Day OT Rate Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure rest day overtime rate codes and premium calculations. Define rates for within shift, after shift, night differential scenarios, and equivalent overtime codes for accurate rest day pay computations."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Rest day within/after shift rates","Night differential premium setup","OT premium configurations","Equivalent code for hours mapping"].map(Z=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Z})]},Z))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{onClick:Q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"})," Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:Z=>c(Z.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:M?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading records..."})}):L?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:L})}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:R.length>0?R.map(Z=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Z.code}),e.jsx("td",{className:"px-4 py-2",children:Z.desc}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>Ce(Z),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Details",children:e.jsx(Rg,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ve(Z),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Re(Z),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Z.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center text-gray-500",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",V+1," to ",Math.min(D,we.length)," of ",we.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(Z=>Math.max(1,Z-1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),[...Array(P)].map((Z,je)=>e.jsx("button",{onClick:()=>w(je+1),className:`px-3 py-1 rounded ${g===je+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:je+1},je)),e.jsx("button",{onClick:()=>w(Z=>Math.min(P,Z+1)),disabled:g===P,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-[1]",children:[e.jsx("h2",{className:"text-gray-900",children:f?"Edit":"Create New"}),e.jsx("button",{onClick:B,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:k.code,onChange:Z=>A({...k,code:Z.target.value}),maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Max 10 characters"}),e.jsxs("span",{className:"text-xs text-gray-500 w-16 text-right",children:[k.code.length,"/10"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:k.desc,onChange:Z=>A({...k,desc:Z.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),q("Within the Shift","withinTheShift"),q("After the Shift","afterTheShift"),q("Within the Shift with ND","withinTheShiftWithND"),q("After the Shift with ND","afterTheShiftWithND"),q("OT Premium Within the Shift with ND","otPremiumWithinTheShiftWithND"),q("OT Premium After the Shift with ND","otPremiumAfterTheShiftWithND"),q("Equivalent Overtime Code","equiOTCode"),e.jsxs("div",{className:"mt-3 border border-orange-300 bg-orange-50 p-3 rounded",children:[e.jsx("h4",{className:"text-orange-700 mb-2 text-sm",children:"Equivalent OT Code for No of Hrs"}),e.jsxs("div",{className:"space-y-2",children:[q("After the Shift","eqOTCodeAftrShfForNoOfHrs"),q("After the Shift with ND","eqOTCodeAftrShfNDForNoOfHrs")]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:et,disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:S?f?"Updating...":"Submitting...":f?"Update":"Submit"}),e.jsx("button",{onClick:B,disabled:S,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]}),s&&e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center z-[10] rounded-lg p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl",style:{maxHeight:"85vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg flex-shrink-0",children:[e.jsx("h2",{className:"text-gray-800 text-lg font-semibold",children:"Overtime Code"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-3 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:m,onChange:Z=>b(Z.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-80"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:K?e.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"Loading OT codes..."}):e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b-2 border-gray-300 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Rate "}),e.jsx("th",{className:"px-4 py-2 text-right text-gray-700 text-sm",children:"Default Amount "})]})}),e.jsx("tbody",{children:le.length>0?le.map(Z=>e.jsxs("tr",{onClick:()=>Ae(Z.otfCode),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-blue-600 font-medium",children:Z.otfCode}),e.jsx("td",{className:"px-4 py-2 text-sm",children:Z.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Z.rate1.toFixed(2)}),e.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Z.defAmt.toFixed(2)})]},Z.otfid)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"py-8 text-center text-gray-500 text-sm",children:"No OT codes found."})})})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50 rounded-b-lg flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",ue+1," to ",Math.min(oe,Y.length)," of ",Y.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>v(Z=>Math.max(1,Z-1)),disabled:p===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),[...Array(Math.min(5,Se))].map((Z,je)=>e.jsx("button",{onClick:()=>v(je+1),className:`px-3 py-1 rounded text-sm ${p===je+1?"bg-orange-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:je+1},je)),e.jsx("button",{onClick:()=>v(Z=>Math.min(Se,Z+1)),disabled:p===Se,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})})]})})]})}),n&&N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:"Details"}),e.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day OT Rate Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Code :"}),e.jsx("span",{className:"text-gray-700",children:N.code})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Description :"}),e.jsx("span",{className:"text-gray-700",children:N.desc})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift :"}),e.jsx("span",{className:"text-gray-700",children:N.withinTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:N.afterTheShift||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:N.withinTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:N.afterTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium Within the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:N.otPremiumWithinTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"OT Premium After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:N.otPremiumAfterTheShiftWithND||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-80",children:"Equivalent Overtime Code :"}),e.jsx("span",{className:"text-gray-700",children:N.equiOTCode||""})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"bg-gray-100 px-3 py-2 rounded mb-3",children:e.jsx("h4",{className:"text-gray-700 font-semibold",children:"Equivalent OT Code for No of Hrs"})}),e.jsxs("div",{className:"space-y-3 pl-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-72",children:"After the Shift :"}),e.jsx("span",{className:"text-gray-700",children:N.eqOTCodeAftrShfForNoOfHrs||""})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"font-bold text-gray-900 w-72",children:"After the Shift with ND :"}),e.jsx("span",{className:"text-gray-700",children:N.eqOTCodeAftrShfNDForNoOfHrs||""})]})]})]})]})]})]})}),e.jsx(ls,{})]})}const Ix=25,Xm=10,cb="Daily Schedule SetUp";function wZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(!1),[n,l]=o.useState(""),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(1),[g,w]=o.useState(1),[p,v]=o.useState(!1),[f,y]=o.useState(""),[N,C]=o.useState([]),[S,I]=o.useState(0),[k,A]=o.useState(!1),[F,O]=o.useState([]),[M,U]=o.useState(!1),[L,G]=o.useState({referenceNo:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),re=F.filter(Q=>Q.code.toLowerCase().includes(u.toLowerCase())||Q.description.toLowerCase().includes(u.toLowerCase())),ye=re.length,K=Math.max(1,Math.ceil(ye/Xm)),ne=(g-1)*Xm,H=Math.min(ne+Xm,ye),se=re.slice(ne,ne+Xm),we=o.useCallback(async()=>{A(!0);try{const Q=(m-1)*Ix,ve=await z.get("/Fs/Process/DailyScheduleSetUp",{params:{referenceNo:i,start:Q,length:Ix}});C(ve.data.data),I(ve.data.totalCount)}catch(Q){console.error("Failed to fetch daily schedules:",Q),xe.fire({icon:"error",title:"Error",text:"Failed to load daily schedules. Please try again."})}finally{A(!1)}},[m,i]);o.useEffect(()=>{we()},[we]),o.useEffect(()=>{b(1)},[i]);const Y=o.useCallback(async()=>{U(!0);try{const Q=await z.get("/Fs/Process/WorkshiftSetUp",{params:{code:"",start:0,length:9999}});O(Q.data.data??[])}catch(Q){console.error("Failed to fetch workshift codes:",Q),xe.fire({icon:"error",title:"Error",text:"Failed to load workshift codes. Please try again."})}finally{U(!1)}},[]);o.useEffect(()=>{s&&Y()},[s,Y]),o.useEffect(()=>{w(1)},[u]);const E=Math.ceil(S/Ix),P=(m-1)*Ix,V=Math.min(P+Ix,S),D=()=>{G({referenceNo:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),v(!1),y(""),a(!0)},R=Q=>{G({referenceNo:Q.referenceNo,monday:Q.monday??"",tuesday:Q.tuesday??"",wednesday:Q.wednesday??"",thursday:Q.thursday??"",friday:Q.friday??"",saturday:Q.saturday??"",sunday:Q.sunday??""}),y(Q.referenceNo),v(!0),a(!0)},ee=async Q=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete daily schedule "${Q.referenceNo}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/DailyScheduleSetUp/${encodeURIComponent(Q.referenceNo)}`),await ts.log({accessType:"Delete",trans:`Deleted daily schedule ${Q.referenceNo}`,messages:`Daily schedule deleted: ${Q.referenceNo}`,formName:cb}),await we(),xe.fire({icon:"success",title:"Deleted",text:`Daily schedule "${Q.referenceNo}" has been deleted.`,timer:1500,showConfirmButton:!1})}catch(Ce){const $e=Ce?.response?.data?.message||Ce.message||"Failed to delete the entry.";console.error("Failed to delete daily schedule:",Ce),xe.fire({icon:"error",title:"Error",text:$e})}},Se=async()=>{if(!L.referenceNo.trim()){xe.fire({icon:"warning",title:"Validation",text:"Please enter a Reference Code."});return}const Q={referenceNo:L.referenceNo,monday:L.monday,tuesday:L.tuesday,wednesday:L.wednesday,thursday:L.thursday,friday:L.friday,saturday:L.saturday,sunday:L.sunday},ve=()=>{a(!1),G({referenceNo:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",sunday:""}),v(!1),y("")};try{p?(await z.put(`/Fs/Process/DailyScheduleSetUp/${encodeURIComponent(f)}`,Q),await ts.log({accessType:"Edit",trans:`Edited daily schedule ${Q.referenceNo}`,messages:`Daily schedule updated: ${Q.referenceNo}`,formName:cb}),ve(),await we(),xe.fire({icon:"success",title:"Updated",text:"Daily schedule updated successfully.",timer:1500,showConfirmButton:!1})):(await z.post("/Fs/Process/DailyScheduleSetUp",Q),await ts.log({accessType:"Add",trans:`Added daily schedule ${Q.referenceNo}`,messages:`Daily schedule created: ${Q.referenceNo}`,formName:cb}),ve(),await we(),xe.fire({icon:"success",title:"Created",text:"Daily schedule created successfully.",timer:1500,showConfirmButton:!1}))}catch(Ce){const $e=Ce?.response?.status,Ae=Ce?.response?.data?.message;$e===409?xe.fire({icon:"warning",title:"Duplicate Entry",text:Ae??"A Daily Schedule with this Reference Code already exists."}):(console.error("Failed to save daily schedule:",Ce),xe.fire({icon:"error",title:"Error",text:Ae??"Failed to save the entry. Please try again."}))}},ue=Q=>{l(Q),h(""),w(1),r(!0)},oe=Q=>{G({...L,[n]:Q}),r(!1)},le=Q=>{G({...L,[Q]:""})};return o.useEffect(()=>{const Q=ve=>{ve.key==="Escape"&&(s?r(!1):t&&a(!1))};return(t||s)&&document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[t,s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Daily Schedule Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define daily work schedules by assigning workshift codes for each day of the week. Create reference codes that represent complete weekly schedule patterns for easy assignment to employees or groups."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Weekly schedule templates","Day-specific workshift assignments","Reference code organization","Flexible schedule configurations"].map(Q=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Q})]},Q))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:D,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:Q=>c(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[["Reference Code ","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(Q=>e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:Q},Q)),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:k?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:"Loading..."})}):N.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"text-center py-8 text-gray-500",children:"No records found."})}):N.map((Q,ve)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Q.referenceNo}),e.jsx("td",{className:"px-4 py-2",children:Q.monday}),e.jsx("td",{className:"px-4 py-2",children:Q.tuesday}),e.jsx("td",{className:"px-4 py-2",children:Q.wednesday}),e.jsx("td",{className:"px-4 py-2",children:Q.thursday}),e.jsx("td",{className:"px-4 py-2",children:Q.friday}),e.jsx("td",{className:"px-4 py-2",children:Q.saturday}),e.jsx("td",{className:"px-4 py-2",children:Q.sunday}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>R(Q),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ee(Q),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},ve))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600",children:S>0?`Showing ${P+1} to ${V} of ${S} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>b(Q=>Math.max(1,Q-1)),disabled:m===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:m}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>b(Q=>Math.min(E,Q+1)),disabled:m===E||E===0,children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:p?"Edit":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Daily Schedule"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Reference Code :"}),e.jsx("input",{type:"text",maxLength:10,value:L.referenceNo,onChange:Q=>G({...L,referenceNo:Q.target.value}),disabled:p,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(Q=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-32 text-gray-700 text-sm capitalize",children:[Q," :"]}),e.jsx("input",{type:"text",value:L[Q],readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>ue(Q),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>le(Q),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]},Q))]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Se,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:p?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>r(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Workshift Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4 justify-end",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:u,onChange:Q=>h(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),e.jsx("div",{className:"border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:M?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"text-center py-6 text-gray-500",children:"Loading..."})}):se.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"text-center py-6 text-gray-500",children:"No workshift codes found."})}):se.map((Q,ve)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>oe(Q.code),children:[e.jsx("td",{className:"px-3 py-1.5",children:Q.code}),e.jsx("td",{className:"px-3 py-1.5",children:Q.description})]},ve))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("div",{className:"text-gray-600 text-xs",children:ye>0?`Showing ${ne+1} to ${H} of ${ye} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-xs",onClick:()=>w(Q=>Math.max(1,Q-1)),disabled:g===1,children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:g}),g<K&&e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",onClick:()=>w(g+1),children:g+1}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-xs",onClick:()=>w(Q=>Math.min(K,Q+1)),disabled:g===K||K===0,children:"Next"})]})]})]})]})})]})]})]})}),e.jsx(ls,{})]})}const Mx=25,i4=["","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],db="Rest Day SetUp",ub={referenceNo:"",week1Day1:"",week1Day2:"",week1Day3:"",week2Day1:"",week2Day2:"",week2Day3:""};function NZ(){const[t,a]=o.useState([]),[s,r]=o.useState(0),[n,l]=o.useState(!1),[i,c]=o.useState(""),[u,h]=o.useState(1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState(ub),N=o.useCallback(async()=>{l(!0);try{const M=(u-1)*Mx,U=await z.get("/Fs/Process/RestDaySetUp",{params:{referenceNo:i,start:M,length:Mx}});a(U.data.data),r(U.data.totalCount)}catch(M){console.error("Failed to fetch rest days:",M),xe.fire({icon:"error",title:"Error",text:"Failed to load rest day setups. Please try again."})}finally{l(!1)}},[u,i]);o.useEffect(()=>{N()},[N]),o.useEffect(()=>{h(1)},[i]),o.useEffect(()=>{if(!m)return;const M=U=>{U.key==="Escape"&&b(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[m]);const C=Math.max(1,Math.ceil(s/Mx)),S=(u-1)*Mx,I=Math.min(S+Mx,s),k=()=>{y(ub),w(!1),v(""),b(!0)},A=M=>{y({referenceNo:M.referenceNo,week1Day1:M.defRestDay1_WK1??"",week1Day2:M.defRestDay2_WK1??"",week1Day3:M.defRestDay3_WK1??"",week2Day1:M.defRestDay1_WK2??"",week2Day2:M.defRestDay2_WK2??"",week2Day3:M.defRestDay3_WK2??""}),v(M.referenceNo),w(!0),b(!0)},F=async M=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete rest day setup "${M.referenceNo}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/RestDaySetUp/${encodeURIComponent(M.referenceNo)}`),await ts.log({accessType:"Delete",trans:`Deleted rest day setup ${M.referenceNo}`,messages:`Rest day setup deleted: ${M.referenceNo}`,formName:db}),await N(),xe.fire({icon:"success",title:"Deleted",text:`Rest day setup "${M.referenceNo}" has been deleted.`,timer:1500,showConfirmButton:!1})}catch(L){const G=L?.response?.data?.message||L.message||"Failed to delete the entry.";console.error("Failed to delete rest day setup:",L),xe.fire({icon:"error",title:"Error",text:G})}},O=async()=>{if(!f.referenceNo.trim()){xe.fire({icon:"warning",title:"Validation",text:"Please enter a Reference No."});return}const M={referenceNo:f.referenceNo.trim(),defRestDay1_WK1:f.week1Day1||null,defRestDay2_WK1:f.week1Day2||null,defRestDay3_WK1:f.week1Day3||null,defRestDay1_WK2:f.week2Day1||null,defRestDay2_WK2:f.week2Day2||null,defRestDay3_WK2:f.week2Day3||null},U=()=>{b(!1),y(ub),w(!1),v("")};try{g?(await z.put(`/Fs/Process/RestDaySetUp/${encodeURIComponent(p)}`,M),await ts.log({accessType:"Edit",trans:`Edited rest day setup ${M.referenceNo}`,messages:`Rest day setup updated: ${M.referenceNo}`,formName:db}),U(),await N(),xe.fire({icon:"success",title:"Updated",text:"Rest day setup updated successfully.",timer:1500,showConfirmButton:!1})):(await z.post("/Fs/Process/RestDaySetUp",M),await ts.log({accessType:"Add",trans:`Added rest day setup ${M.referenceNo}`,messages:`Rest day setup created: ${M.referenceNo}`,formName:db}),U(),await N(),xe.fire({icon:"success",title:"Created",text:"Rest day setup created successfully.",timer:1500,showConfirmButton:!1}))}catch(L){const G=L?.response?.status,re=L?.response?.data?.message;G===409?xe.fire({icon:"warning",title:"Duplicate Entry",text:re??"A Rest Day Setup with this Reference No. already exists."}):(console.error("Failed to save rest day setup:",L),xe.fire({icon:"error",title:"Error",text:re??"Failed to save the entry. Please try again."}))}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Rest Day Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define rest day schedules by specifying up to three rest days per week over a two-week cycle. Create reference codes that represent complete rest day patterns for easy assignment to employees or groups."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Two-week rest day patterns","Up to 3 rest days per week","Reference code organization","Flexible schedule configurations"].map(M=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:M})]},M))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:k,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:M=>c(M.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsxs("thead",{children:[e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",rowSpan:2,children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 border-l border-gray-300",colSpan:3,children:"Week 1"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 border-l border-gray-300",colSpan:3,children:"Week 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",rowSpan:2})]}),e.jsx("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:["Day 1","Day 2","Day 3","Day 1","Day 2","Day 3"].map((M,U)=>e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 border-l border-gray-300",children:M},U))})]}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline-block mr-2"}),"Loading..."]})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"text-center py-8 text-gray-500",children:"No records found."})}):t.map((M,U)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:M.referenceNo}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.defRestDay1_WK1??""}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.defRestDay2_WK1??""}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.defRestDay3_WK1??""}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.defRestDay1_WK2??""}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.defRestDay2_WK2??""}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:M.defRestDay3_WK2??""}),e.jsx("td",{className:"px-4 py-2 border-l border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>A(M),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>F(M),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},U))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600",children:s>0?`Showing ${S+1} to ${I} of ${s} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>h(M=>Math.max(1,M-1)),disabled:u===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:u}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>h(M=>Math.min(C,M+1)),disabled:u===C||C===0,children:"Next"})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:g?"Edit":"Create New"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Reference No :"}),e.jsx("input",{type:"text",maxLength:10,value:f.referenceNo,onChange:M=>y({...f,referenceNo:M.target.value}),disabled:g,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),e.jsx("h4",{className:"text-blue-600 text-sm mt-4",children:"Week 1"}),["week1Day1","week1Day2","week1Day3"].map((M,U)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-32 text-gray-700 text-sm",children:["RestDay ",U+1," :"]}),e.jsx("select",{value:f[M],onChange:L=>y({...f,[M]:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i4.map((L,G)=>e.jsx("option",{value:L,children:L},G))})]},M)),e.jsx("h4",{className:"text-blue-600 text-sm mt-4",children:"Week 2"}),["week2Day1","week2Day2","week2Day3"].map((M,U)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-32 text-gray-700 text-sm",children:["RestDay ",U+1," :"]}),e.jsx("select",{value:f[M],onChange:L=>y({...f,[M]:L.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i4.map((L,G)=>e.jsx("option",{value:L,children:L},G))})]},M))]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:O,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Update":"Submit"}),e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})}),e.jsx(ls,{})]})}const c4={code:"",description:"",timeIn:"03:00 PM",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:"",timeOut:"12:00 AM",halfOfShift:"",midnightShift:!1,shift12AMOnwards:!1,flexibleWorkshift:!1,flexibleBaseOnWorkshift:!1,flexibleBreak:!1,maxAllowableBreak2:"",inExcessAllowableBreak2ForFlexiBreak:!1,computeAsTardiness:!1,computeAsUndertime:!1,standardHours:"8.00",hoursForAbsent:"8.00",hoursForNoLogin:"4.00",hoursForNoLogout:"4.00",hoursForNoBreak2Out:"",hoursForNoBreak2In:"",paidUnworkedHoliday:"8.00",minHoursToCompleteShift:"0.00",completeShiftWithUndertime:!1,loginTimeConsiderAbsent:"",allowFlexibleTimeIn:"",brkRoundUpNearest:"",hoursForOTCode:"",requiredHours:"",requiredHoursPayIfPaidLeave:"0.00",secondShiftForRawData:!1,deductBreak1Overbreak:!1,flexibleBreak1:!1,deductBreak3Overbreak:!1,flexibleBreak3:!1,combineBreak1And3:!1,computeAsTardinessCombine:!1,computeAsUndertimeCombine:!1,tardiness:"",undertime:""};function jZ({selectedHour:t,selectedMinute:a,selectedPeriod:s,onHourIncrement:r,onHourDecrement:n,onMinuteIncrement:l,onMinuteDecrement:i,onHourChange:c,onMinuteChange:u,onPeriodChange:h,onConfirm:m,onClose:b}){const g=p=>{const v=parseInt(p.target.value,10);isNaN(v)||v>=1&&v<=12&&c(v)},w=p=>{const v=parseInt(p.target.value,10);isNaN(v)||v>=0&&v<=59&&u(v)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/25 z-[9999]",onClick:b}),e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 w-56 pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-100 bg-gray-50 rounded-t-xl",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Select Time"}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-3.5 h-3.5"})})]}),e.jsxs("div",{className:"px-3 py-3",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("span",{className:"text-2xl font-mono font-semibold text-blue-600 tracking-widest",children:[String(t).padStart(2,"0"),e.jsx("span",{className:"text-gray-400 mx-0.5",children:":"}),String(a).padStart(2,"0")]}),e.jsx("span",{className:`ml-2 text-sm font-bold px-1.5 py-0.5 rounded ${s==="AM"?"bg-amber-100 text-amber-600":"bg-indigo-100 text-indigo-600"}`,children:s})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsx("button",{onClick:r,className:"w-9 h-7 flex items-center justify-center rounded-md bg-gray-100 hover:bg-blue-100 hover:text-blue-600 transition-colors",children:e.jsx(zu,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",min:1,max:12,value:String(t).padStart(2,"0"),onChange:g,className:"w-9 h-8 text-center text-base font-mono font-semibold bg-white border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:n,className:"w-9 h-7 flex items-center justify-center rounded-md bg-gray-100 hover:bg-blue-100 hover:text-blue-600 transition-colors",children:e.jsx(ii,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:"HR"})]}),e.jsx("span",{className:"text-lg font-mono text-gray-400 pb-5",children:":"}),e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsx("button",{onClick:l,className:"w-9 h-7 flex items-center justify-center rounded-md bg-gray-100 hover:bg-blue-100 hover:text-blue-600 transition-colors",children:e.jsx(zu,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",min:0,max:59,value:String(a).padStart(2,"0"),onChange:w,className:"w-9 h-8 text-center text-base font-mono font-semibold bg-white border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:i,className:"w-9 h-7 flex items-center justify-center rounded-md bg-gray-100 hover:bg-blue-100 hover:text-blue-600 transition-colors",children:e.jsx(ii,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:"MIN"})]}),e.jsxs("div",{className:"flex flex-col gap-1 ml-1 pb-5",children:[e.jsx("button",{onClick:()=>h("AM"),className:`w-10 h-7 text-xs font-bold rounded-md transition-all border ${s==="AM"?"bg-blue-500 text-white border-blue-600":"bg-white text-black border-gray-300 hover:bg-gray-100"}`,children:"AM"}),e.jsx("button",{onClick:()=>h("PM"),className:`w-10 h-7 text-xs font-bold rounded-md transition-all border ${s==="PM"?"bg-blue-500 text-white border-blue-600":"bg-white text-black border-gray-300 hover:bg-gray-100"}`,children:"PM"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{onClick:m,className:"flex-1 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-xs font-semibold",children:"OK"}),e.jsx("button",{onClick:b,className:"flex-1 py-1.5 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors text-xs font-semibold",children:"Cancel"})]})]})]})})]})}const CZ={tardiness:"/Fs/Process/Tardiness/TardinessSetup",undertime:"/Fs/Process/Tardiness/UnderTimeSetup"};function SZ({searchType:t,onSelect:a,onClose:s}){const[r,n]=o.useState([]),[l,i]=o.useState(!1),[c,u]=o.useState(null),[h,m]=o.useState("");o.useEffect(()=>{let C=!1;return(async()=>{i(!0),u(null),n([]);try{const I=await z.get(CZ[t]);if(!C){const k=Array.isArray(I.data)?I.data:Array.isArray(I.data?.data)?I.data.data:[];n(k)}}catch(I){console.error(`Failed to fetch ${t} bracketing data:`,I),C||u("Failed to load data. Please try again.")}finally{C||i(!1)}})(),()=>{C=!0}},[t]);const b=25,[g,w]=o.useState(1),p=r.filter(C=>{if(h==="")return!0;const S=h.toLowerCase();return C.bracketCode.toLowerCase().includes(S)||String(C.late).includes(S)||String(C.equivalent??"").includes(S)});o.useEffect(()=>{w(1)},[h]);const v=Math.max(1,Math.ceil(p.length/b)),f=(g-1)*b,y=p.slice(f,f+b),N=t==="tardiness"?"Tardiness Bracketing":"Undertime Bracketing";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-[9999]",onClick:s}),e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 max-w-sm pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between rounded-t-lg",children:[e.jsxs("h2",{className:"text-gray-800 font-medium",children:["Search  ",N]}),e.jsx("button",{onClick:s,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm shrink-0",children:"Search:"}),e.jsx("input",{type:"text",value:h,onChange:C=>m(C.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by bracket code, late, or equivalent...",autoFocus:!0})]}),e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsx("div",{className:"overflow-y-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 border-b border-gray-300 w-10",children:"#"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 border-b border-gray-300",children:"Bracket Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 border-b border-gray-300",children:"Late"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 border-b border-gray-300",children:"Equivalent"})]})}),e.jsx("tbody",{children:l?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-400 text-sm",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(_a,{className:"w-4 h-4 animate-spin"}),"Loading ",N,"..."]})})}):c?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-red-500 text-sm",children:c})}):y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-400 text-sm",children:r.length===0?"No records found.":"No results match your search."})}):y.map((C,S)=>e.jsxs("tr",{onClick:()=>a(C.bracketCode),className:`cursor-pointer transition-colors hover:bg-blue-50 ${S%2===0?"bg-white":"bg-gray-50"}`,title:`Select: ${C.bracketCode}`,children:[e.jsx("td",{className:"px-4 py-2 border-b border-gray-200 text-xs text-gray-400",children:C.id}),e.jsx("td",{className:"px-4 py-2 border-b border-gray-200 text-sm font-semibold text-blue-700",children:C.bracketCode}),e.jsx("td",{className:"px-4 py-2 border-b border-gray-200 text-sm text-gray-700",children:C.late}),e.jsx("td",{className:"px-4 py-2 border-b border-gray-200 text-sm text-gray-700",children:C.equivalent??""})]},C.id))})]})})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:["Showing ",p.length===0?0:f+1,"",Math.min(f+b,p.length)," of ",p.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(C=>Math.max(1,C-1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-40",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:g}),e.jsx("button",{onClick:()=>w(C=>Math.min(v,C+1)),disabled:g===v,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-40",children:"Next"})]})]})]})]})})]})}const d4="Workshift SetUp",T5=t=>{const a=t.replace(/[^\d]/g,"").slice(0,4);return a.length>=3?a.slice(0,2)+":"+a.slice(2):a},A5=t=>{const a=t.replace(/[^\d]/g,"").slice(0,4),s=t.toUpperCase(),r=s.includes("AM")?"AM":s.includes("PM")?"PM":"";let n="";if(a.length>=3){let l=a.slice(0,2),i=a.slice(2,4);const c=parseInt(l,10);c>12&&(l="12"),c===0&&(l="01"),parseInt(i,10)>59&&(i="59"),n=`${l}:${i}`}else a.length>=1&&(n=a);return n&&r?`${n} ${r}`:n},kZ=t=>{if(!t)return"";const a=t.match(/(\d{2}):(\d{2}):\d{2}/);if(!a)return"";let s=parseInt(a[1],10);const r=a[2],n=s>=12?"PM":"AM";return s===0?s=12:s>12&&(s-=12),`${String(s).padStart(2,"0")}:${r} ${n}`},DZ=t=>{if(t==null||t==="")return"";const a=typeof t=="string"?parseFloat(t):t;if(isNaN(a))return"";const s=Math.floor(a),r=Math.round((a-s)*100);return`${String(s).padStart(2,"0")}:${String(r).padStart(2,"0")}`},EZ=t=>{if(!t||!t.trim())return null;const a=t.match(/(\d{1,2}):(\d{2})\s*(AM|PM)/i);if(!a)return null;let s=parseInt(a[1],10);const r=a[2],n=a[3].toUpperCase();return n==="AM"&&s===12?s=0:n==="PM"&&s!==12&&(s+=12),`1900-01-01T${String(s).padStart(2,"0")}:${r}:00`},TZ=t=>{if(!t||!t.trim())return null;const a=t.match(/(\d+):(\d{2})/);if(!a)return null;const s=parseInt(a[1],10),r=parseInt(a[2],10);return parseFloat(`${s}.${String(r).padStart(2,"0")}`)},F5=["timeIn","timeOut","break1Out","break1In","break2Out","break2In","break3Out","break3In","halfOfShift","loginTimeConsiderAbsent","allowFlexibleTimeIn"],P5=["standardHours","hoursForAbsent","hoursForNoLogin","hoursForNoLogout","hoursForNoBreak2Out","hoursForNoBreak2In","paidUnworkedHoliday","minHoursToCompleteShift","hoursForOTCode","requiredHours","requiredHoursPayIfPaidLeave","brkRoundUpNearest","maxAllowableBreak2"],AZ=t=>{const a={...t};for(const s of Object.keys(a))(a[s]===null||a[s]===void 0)&&(a[s]="");for(const s of F5)a[s]=kZ(t[s]);for(const s of P5)a[s]=DZ(t[s]);return a},FZ=t=>{const a={...t};for(const s of F5){const r=t[s];a[s]=r?.trim()?EZ(r):null}for(const s of P5){const r=t[s];a[s]=r?.trim()?TZ(r):null}for(const s of Object.keys(a))a[s]===""&&(a[s]=null);return a},Au=[{id:1,label:"Basic Info",description:"Code, description, and shift times"},{id:2,label:"Hour Config",description:"Standard hours and attendance rules"},{id:3,label:"Break & Bracket",description:"Break rules and tardiness bracketing"}];function PZ({label:t,value:a,field:s,formData:r,setFormData:n,onOpenTimePicker:l}){return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm shrink-0",children:t}),e.jsx("input",{type:"text",value:a??"",onChange:i=>n({...r,[s]:A5(i.target.value)}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>l(s),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors shrink-0",children:e.jsx(ur,{className:"w-4 h-4 text-gray-600"})})]})}function IZ({formData:t,setFormData:a,isEditMode:s,onOpenTimePicker:r}){const n=[{label:"Time In :",field:"timeIn"},{label:"Break1 Out :",field:"break1Out"},{label:"Break1 In :",field:"break1In"},{label:"Break2 Out :",field:"break2Out"},{label:"Break2 In :",field:"break2In"},{label:"Break3 Out :",field:"break3Out"},{label:"Break3 In :",field:"break3In"},{label:"Time Out :",field:"timeOut"},{label:"Half of Shift :",field:"halfOfShift"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm shrink-0",children:"Code :"}),e.jsx("input",{type:"text",value:t.code??"",onChange:l=>a({...t,code:l.target.value}),maxLength:10,className:`flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm disabled:bg-gray-100 disabled:text-gray-500 ${s?"cursor-not-allowed":""}`,disabled:s})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm shrink-0",children:"Description :"}),e.jsx("input",{type:"text",maxLength:300,value:t.description??"",onChange:l=>a({...t,description:l.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("hr",{className:"border-gray-200"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:n.map(({label:l,field:i})=>e.jsx(PZ,{label:l,value:t[i]??"",field:i,formData:t,setFormData:a,onOpenTimePicker:r},i))}),e.jsx("hr",{className:"border-gray-200"}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50 space-y-3",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Shift Flags"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"midnightShift",checked:!!t.midnightShift,onChange:l=>a({...t,midnightShift:l.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:"midnightShift",className:"text-sm text-gray-700",children:"Midnight Shift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"shift12AMOnwards",checked:!!t.shift12AMOnwards,onChange:l=>a({...t,shift12AMOnwards:l.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:"shift12AMOnwards",className:"text-sm text-gray-700",children:"Shift that falls on 12:00 AM onwards"})]}),e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleWorkshift",checked:!!t.flexibleWorkshift,onChange:l=>a({...t,flexibleWorkshift:l.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:"flexibleWorkshift",className:"text-sm text-gray-700",children:"Flexible Workshift"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBaseOnWorkshift",checked:!!t.flexibleBaseOnWorkshift,onChange:l=>a({...t,flexibleBaseOnWorkshift:l.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:"flexibleBaseOnWorkshift",className:"text-sm text-gray-700",children:"Flexible Base on Workshift"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"flexibleBreak",checked:!!t.flexibleBreak,onChange:l=>a({...t,flexibleBreak:l.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:"flexibleBreak",className:"text-sm text-gray-700",children:"Flexible Break"})]}),t.flexibleBreak&&e.jsxs("div",{className:"ml-6 space-y-3 pt-2 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Max Allowable Break2 :"}),e.jsx("input",{type:"text",value:t.maxAllowableBreak2??"",onChange:l=>a({...t,maxAllowableBreak2:T5(l.target.value)}),className:"w-28 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"hh:mm"}),e.jsx("span",{className:"text-xs text-gray-400",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"inExcessAllowableBreak2ForFlexiBreak",checked:!!t.inExcessAllowableBreak2ForFlexiBreak,onChange:l=>a({...t,inExcessAllowableBreak2ForFlexiBreak:l.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:"inExcessAllowableBreak2ForFlexiBreak",className:"text-sm text-gray-700",children:"In Excess of Allowable Break2 for Flexi Break"})]}),t.inExcessAllowableBreak2ForFlexiBreak&&e.jsx("div",{className:"ml-6 space-y-2",children:[{id:"computeAsTardiness",label:"Compute as Tardiness",pair:"computeAsUndertime"},{id:"computeAsUndertime",label:"Compute as Undertime",pair:"computeAsTardiness"}].map(({id:l,label:i,pair:c})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:l,name:"excessCompute",checked:!!t[l],onChange:()=>a({...t,[l]:!0,[c]:!1}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:l,className:"text-sm text-gray-700",children:i})]},l))})]})]})]})}function MZ({formData:t,setFormData:a,onOpenTimePicker:s}){const r=[{label:"No. of Hrs. Standard Time :",field:"standardHours"},{label:"No. of Hrs. For Absent :",field:"hoursForAbsent"},{label:"No. of Hrs. For No Login :",field:"hoursForNoLogin"},{label:"No. of Hrs. For No Logout :",field:"hoursForNoLogout"},{label:"No. of Hrs. For No Break2 Out :",field:"hoursForNoBreak2Out"},{label:"No. of Hrs. For No Break2 In :",field:"hoursForNoBreak2In"},{label:"For Paid Unworked Holiday :",field:"paidUnworkedHoliday"},{label:"Min. Hours To Complete a Shift :",field:"minHoursToCompleteShift"},{label:"No of Hrs for OT Code :",field:"hoursForOTCode"},{label:"Required No of Hrs. :",field:"requiredHours"},{label:"Required Hours w/ Pay if w/ Paid Leave :",field:"requiredHoursPayIfPaidLeave"},{label:"Brk Round Up to Nearest Hr/Min :",field:"brkRoundUpNearest"}],n=[{label:"Login Time To Consider as Absent :",field:"loginTimeConsiderAbsent"},{label:"Allow. Flexible Time In :",field:"allowFlexibleTimeIn"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.map(({label:l,field:i})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm shrink-0",children:l}),e.jsx("input",{type:"text",value:t[i]??"",onChange:c=>a({...t,[i]:T5(c.target.value)}),className:"w-28 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-xs text-gray-400",children:"[hh:mm]"})]},i))}),e.jsx("hr",{className:"border-gray-200"}),n.map(({label:l,field:i})=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm shrink-0",children:l}),e.jsx("input",{type:"text",value:t[i]??"",onChange:c=>a({...t,[i]:A5(c.target.value)}),className:"w-28 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"HH:mm TT"}),e.jsx("button",{type:"button",onClick:()=>s(i),className:"w-8 h-8 flex items-center justify-center border border-gray-300 rounded hover:bg-gray-100 transition-colors shrink-0",children:e.jsx(ur,{className:"w-4 h-4 text-gray-600"})})]},i)),e.jsx("hr",{className:"border-gray-200"}),e.jsx("div",{className:"space-y-3",children:[{id:"completeShiftWithUndertime",label:"Complete a Shift with Undertime"},{id:"secondShiftForRawData",label:"2nd Shift For RawData"}].map(({id:l,label:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:l,checked:!!t[l],onChange:c=>a({...t,[l]:c.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:l,className:"text-sm text-gray-700",children:i})]},l))})]})}function LZ({formData:t,setFormData:a,onOpenSearch:s,onClearBracketing:r}){return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-3",children:"Break 1"}),e.jsx("div",{className:"space-y-2",children:[{id:"deductBreak1Overbreak",label:"Deduct Break1 Overbreak"},{id:"flexibleBreak1",label:"Flexible Break1"}].map(({id:n,label:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:n,checked:!!t[n],onChange:i=>a({...t,[n]:i.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:n,className:"text-xs text-gray-700",children:l})]},n))})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-3",children:"Break 3"}),e.jsx("div",{className:"space-y-2",children:[{id:"deductBreak3Overbreak",label:"Deduct Break3 Overbreak"},{id:"flexibleBreak3",label:"Flexible Break3"}].map(({id:n,label:l})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:n,checked:!!t[n],onChange:i=>a({...t,[n]:i.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:n,className:"text-xs text-gray-700",children:l})]},n))})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",id:"combineBreak1And3",checked:!!t.combineBreak1And3,onChange:n=>a({...t,combineBreak1And3:n.target.checked}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:"combineBreak1And3",className:"text-sm font-semibold text-gray-700",children:"Combine Break1 and Break3"})]}),t.combineBreak1And3&&e.jsx("div",{className:"ml-6 space-y-2",children:[{id:"computeAsTardinessCombine",label:"Compute as Tardiness (Combined)",pair:"computeAsUndertimeCombine"},{id:"computeAsUndertimeCombine",label:"Compute as Undertime (Combined)",pair:"computeAsTardinessCombine"}].map(({id:n,label:l,pair:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",id:n,name:"combineCompute",checked:!!t[n],onChange:()=>a({...t,[n]:!0,[i]:!1}),className:"w-4 h-4 accent-blue-600"}),e.jsx("label",{htmlFor:n,className:"text-sm text-gray-700",children:l})]},n))})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 mb-3",children:"Bracketing"}),e.jsx("div",{className:"space-y-3",children:[{type:"tardiness",label:"Tardiness :",field:"tardiness"},{type:"undertime",label:"Undertime :",field:"undertime"}].map(({type:n,label:l,field:i})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-24 text-sm text-gray-700 shrink-0",children:l}),e.jsx("input",{type:"text",value:t[i]??"",onChange:c=>a({...t,[i]:c.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:()=>s(n),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:`Search ${n} bracket`,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>r(n),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:`Clear ${n}`,children:e.jsx(ot,{className:"w-4 h-4"})})]},n))})]})]})}function OZ({isEditMode:t,editingCode:a,formData:s,setFormData:r,existingCodes:n,onSuccess:l,onClose:i}){const[c,u]=o.useState(1),[h,m]=o.useState(!1),[b,g]=o.useState(!1),[w,p]=o.useState(""),[v,f]=o.useState(3),[y,N]=o.useState(0),[C,S]=o.useState("PM"),[I,k]=o.useState(!1),[A,F]=o.useState("tardiness"),O=se=>{const we=s[se];if(we){const Y=we.match(/(\d+):(\d+)\s*(AM|PM)/i);Y&&(f(parseInt(Y[1],10)),N(parseInt(Y[2],10)),S(Y[3].toUpperCase()))}p(se),g(!0)},M=()=>{const se=["loginTimeConsiderAbsent","allowFlexibleTimeIn"];let we;if(se.includes(w)){let Y=v;C==="PM"&&Y!==12?Y+=12:C==="AM"&&Y===12&&(Y=0),we=`${String(Y).padStart(2,"0")}:${String(y).padStart(2,"0")}`}else we=`${String(v).padStart(2,"0")}:${String(y).padStart(2,"0")} ${C}`;r({...s,[w]:we}),g(!1)},U=se=>{F(se),k(!0)},L=se=>{r({...s,[A]:se}),k(!1)},G=se=>{r({...s,[se]:""})},re=()=>{if(c===1){if(!s.code?.trim())return xe.fire("Missing Code","Please enter a Code.","warning"),!1;if(!s.description?.trim())return xe.fire("Missing Description","Please enter a Description.","warning"),!1}return!0},ye=()=>{re()&&u(se=>Math.min(se+1,Au.length))},K=()=>u(se=>Math.max(se-1,1)),ne=async()=>{if(!s.code?.trim()){xe.fire({icon:"warning",title:"Validation",text:"Please enter a Code."});return}if(!s.description?.trim()){xe.fire({icon:"warning",title:"Validation",text:"Please enter a Description."});return}if(!t&&n.includes(s.code)){xe.fire({icon:"warning",title:"Duplicate Entry",text:"A Workshift with this Code already exists."});return}if(!(t&&!(await xe.fire({icon:"warning",title:"Confirm Update",text:`Are you sure you want to update workshift ${s.code}?`,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#6b7280",confirmButtonText:"Update",cancelButtonText:"Cancel"})).isConfirmed)){m(!0);try{const se=FZ(s);t?(await z.put(`/Fs/Process/WorkshiftSetUp/${encodeURIComponent(a)}`,se),await ts.log({accessType:"Edit",trans:`Edited workshift ${s.code}`,messages:`Workshift updated: ${s.code}`,formName:d4}),xe.fire({icon:"success",title:"Updated",text:"Workshift updated successfully.",timer:1500,showConfirmButton:!1})):(await z.post("/Fs/Process/WorkshiftSetUp",se),await ts.log({accessType:"Add",trans:`Added workshift ${s.code}`,messages:`Workshift created: ${s.code}`,formName:d4}),xe.fire({icon:"success",title:"Created",text:"Workshift created successfully.",timer:1500,showConfirmButton:!1})),l({...s})}catch(se){console.error("Failed to save workshift:",se);const we=se?.response?.data?.message||se.message||"Failed to save workshift. Please try again.";xe.fire({icon:"error",title:"Error",text:we})}finally{m(!1)}}},H=()=>e.jsx("div",{className:"flex items-center gap-0 mb-6",children:Au.map((se,we)=>{const Y=c>se.id,E=c===se.id;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold border-2 transition-all ${Y?"bg-blue-600 border-blue-600 text-white":E?"bg-white border-blue-600 text-blue-600":"bg-white border-gray-300 text-gray-400"}`,children:Y?e.jsx(Xe,{className:"w-4 h-4"}):se.id}),e.jsx("span",{className:`text-xs mt-1 font-medium ${E?"text-blue-600":Y?"text-blue-500":"text-gray-400"}`,children:se.label}),e.jsx("span",{className:"text-xs text-gray-400 hidden sm:block",children:se.description})]}),we<Au.length-1&&e.jsx("div",{className:`h-0.5 flex-1 mx-2 ${c>se.id?"bg-blue-600":"bg-gray-200"}`})]},se.id)})});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-[100]",onClick:i}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 py-8 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl pointer-events-auto flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 rounded-t-xl flex items-center justify-between shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-semibold text-lg",children:t?"Edit Workshift":"Create New Workshift"}),e.jsxs("p",{className:"text-blue-200 text-xs mt-0.5",children:["Step ",c," of ",Au.length,"  ",Au[c-1].description]})]}),e.jsx("button",{onClick:i,className:"text-white/70 hover:text-white transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[e.jsx(H,{}),e.jsxs("div",{className:"min-h-[300px]",children:[c===1&&e.jsx(IZ,{formData:s,setFormData:r,isEditMode:t,onOpenTimePicker:O}),c===2&&e.jsx(MZ,{formData:s,setFormData:r,onOpenTimePicker:O}),c===3&&e.jsx(LZ,{formData:s,setFormData:r,onOpenSearch:U,onClearBracketing:G})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50 rounded-b-xl shrink-0",children:[e.jsxs("button",{onClick:K,disabled:c===1,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed transition-colors text-sm",children:[e.jsx(a0,{className:"w-4 h-4"}),"Previous"]}),e.jsxs("span",{className:"text-xs text-gray-400",children:[c," / ",Au.length]}),c<Au.length?e.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:["Next",e.jsx(vc,{className:"w-4 h-4"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:i,disabled:h,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors text-sm disabled:opacity-40",children:"Cancel"}),e.jsx("button",{onClick:ne,disabled:h,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium disabled:opacity-60 flex items-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),"Saving..."]}):t?"Update":"Submit"})]})]})]})}),b&&e.jsx(jZ,{selectedHour:v,selectedMinute:y,selectedPeriod:C,onHourIncrement:()=>{v===12?(f(1),S(se=>se==="AM"?"PM":"AM")):f(se=>se+1)},onHourDecrement:()=>{v===1?(f(12),S(se=>se==="AM"?"PM":"AM")):f(se=>se-1)},onMinuteIncrement:()=>N(se=>se===59?0:se+1),onMinuteDecrement:()=>N(se=>se===0?59:se-1),onHourChange:se=>f(se),onMinuteChange:se=>N(se),onPeriodChange:S,onConfirm:M,onClose:()=>g(!1)}),I&&e.jsx(SZ,{searchType:A,onSelect:L,onClose:()=>k(!1)})]})}const _Z=t=>{if(!t)return"";const a=t.match(/(\d{2}):(\d{2}):\d{2}/);if(!a)return"";let s=parseInt(a[1],10);const r=a[2],n=s>=12?"PM":"AM";return s===0?s=12:s>12&&(s-=12),`${String(s).padStart(2,"0")}:${r} ${n}`},BZ=t=>{if(t==null||t==="")return"";const a=typeof t=="string"?parseFloat(t):t;if(isNaN(a))return"";const s=Math.floor(a),r=Math.round((a-s)*100);return`${String(s).padStart(2,"0")}:${String(r).padStart(2,"0")}`},mv=t=>t?/AM|PM/i.test(t)?t:/\d{4}-\d{2}-\d{2}/.test(t)?_Z(t):t:"",wl=t=>t==null||t===""?"":typeof t=="string"&&t.includes(":")?t:BZ(t);function RZ({label:t,value:a,isLast:s}){const r=mv(a),n=!r;return e.jsxs("div",{className:"flex items-start",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2 min-w-[72px]",children:[e.jsx("div",{className:`w-11 h-11 rounded-full flex items-center justify-center border-2 shrink-0 ${n?"bg-gray-50 border-gray-200":"bg-blue-600 border-blue-700 shadow-md shadow-blue-200"}`,children:e.jsxs("svg",{className:`w-4 h-4 ${n?"text-gray-300":"text-white"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]})}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest text-center leading-tight whitespace-nowrap",children:t}),e.jsx("span",{className:`text-xs font-bold text-center ${n?"text-gray-300":"text-blue-700"}`,children:r||""})]}),!s&&e.jsx("div",{className:`h-0.5 w-8 mx-1 mt-5 shrink-0 ${n?"bg-gray-200":"bg-blue-200"}`})]})}function $n({label:t,active:a}){return e.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-semibold border ${a?"bg-blue-50 border-blue-200 text-blue-700":"bg-gray-50 border-gray-200 text-gray-400"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${a?"bg-blue-500":"bg-gray-300"}`}),t]})}function Wn({label:t,value:a}){const s=!a;return e.jsxs("div",{className:"flex items-center justify-between gap-8 py-3 border-b border-gray-100 last:border-0",children:[e.jsx("span",{className:"text-sm text-gray-500 shrink-0",children:t}),e.jsx("span",{className:`text-sm font-bold tabular-nums ${s?"text-gray-300":"text-gray-800"}`,children:a||""})]})}function F0({title:t,children:a}){return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm md:text-base font-semibold text-gray-600 uppercase tracking-wide",children:t})}),e.jsx("div",{className:"px-5 py-4",children:a})]})}function HZ({workshift:t,onClose:a,onEdit:s}){const r=t,n=[{label:"Time In",value:r.timeIn},{label:"Brk1 Out",value:r.break1Out},{label:"Brk1 In",value:r.break1In},{label:"Brk2 Out",value:r.break2Out},{label:"Brk2 In",value:r.break2In},{label:"Brk3 Out",value:r.break3Out},{label:"Brk3 In",value:r.break3In},{label:"Time Out",value:r.timeOut},{label:"Mid-Shift",value:r.halfOfShift}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-[100]",onClick:a}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 py-8 pointer-events-none",children:e.jsxs("div",{className:"bg-gray-50 rounded-xl shadow-2xl w-full max-w-4xl pointer-events-auto flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 rounded-t-xl shrink-0 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold text-lg",children:"Workshift Details"}),e.jsx("p",{className:"text-blue-200 text-xs mt-0.5",children:"Read-only view"})]}),e.jsx("button",{onClick:a,className:"w-8 h-8 flex items-center justify-center rounded-lg bg-black/20 hover:bg-black/40 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"overflow-y-auto flex-1 p-6 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm px-5 py-4 flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest mb-1",children:"Shift Code"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 leading-tight",children:r.code}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:r.description})]}),e.jsxs("button",{onClick:()=>{a(),s(r)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-semibold shadow-sm shrink-0",children:[e.jsx(Is,{className:"w-3.5 h-3.5"}),"Edit"]})]}),e.jsx(F0,{title:"Shift Timeline",children:e.jsx("div",{className:"flex items-start flex-wrap gap-y-6 overflow-x-auto pb-1",children:n.map((l,i)=>e.jsx(RZ,{label:l.label,value:l.value,isLast:i===n.length-1},l.label))})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsxs(F0,{title:"Hour Configuration",children:[e.jsx(Wn,{label:"Standard Hours",value:wl(r.standardHours)}),e.jsx(Wn,{label:"Hours for Absent",value:wl(r.hoursForAbsent)}),e.jsx(Wn,{label:"Hours for No Login",value:wl(r.hoursForNoLogin)}),e.jsx(Wn,{label:"Hours for No Logout",value:wl(r.hoursForNoLogout)}),e.jsx(Wn,{label:"Hours  No Break2 Out",value:wl(r.hoursForNoBreak2Out)}),e.jsx(Wn,{label:"Hours  No Break2 In",value:wl(r.hoursForNoBreak2In)}),e.jsx(Wn,{label:"Paid Unworked Holiday",value:wl(r.paidUnworkedHoliday)}),e.jsx(Wn,{label:"Min. to Complete Shift",value:wl(r.minHoursToCompleteShift)}),e.jsx(Wn,{label:"Hours for OT Code",value:wl(r.hoursForOTCode)}),e.jsx(Wn,{label:"Required Hours",value:wl(r.requiredHours)}),e.jsx(Wn,{label:"Required Hrs w/ Paid Leave",value:wl(r.requiredHoursPayIfPaidLeave)}),e.jsx(Wn,{label:"Break Round Up Nearest",value:wl(r.brkRoundUpNearest)}),e.jsx(Wn,{label:"Login Time  Absent",value:mv(r.loginTimeConsiderAbsent)}),e.jsx(Wn,{label:"Allow. Flexible Time In",value:mv(r.allowFlexibleTimeIn)})]})}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs(F0,{title:"Shift Flags",children:[e.jsxs("div",{className:"flex flex-wrap gap-2.5",children:[e.jsx($n,{label:"Midnight Shift",active:!!r.midnightShift}),e.jsx($n,{label:"12:00 AM Onwards",active:!!r.shift12AMOnwards}),e.jsx($n,{label:"Flexible Workshift",active:!!r.flexibleWorkshift}),e.jsx($n,{label:"Flexible Base on Workshift",active:!!r.flexibleBaseOnWorkshift}),e.jsx($n,{label:"Flexible Break",active:!!r.flexibleBreak})]}),r.flexibleBreak&&e.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-100 space-y-4",children:[e.jsx(Wn,{label:"Max Allowable Break2",value:wl(r.maxAllowableBreak2)}),e.jsx("div",{className:"flex flex-wrap gap-2.5",children:e.jsx($n,{label:"In Excess of Allowable Break2",active:!!r.inExcessAllowableBreak2ForFlexiBreak})}),r.inExcessAllowableBreak2ForFlexiBreak&&e.jsxs("div",{className:"flex flex-wrap gap-2.5 pl-4 border-l-2 border-blue-200",children:[e.jsx($n,{label:"Compute as Tardiness",active:!!r.computeAsTardiness}),e.jsx($n,{label:"Compute as Undertime",active:!!r.computeAsUndertime})]})]})]}),e.jsxs(F0,{title:"Break Rules",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-8 pb-5 border-b border-gray-100",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Break 1"}),e.jsx($n,{label:"Deduct Overbreak",active:!!r.deductBreak1Overbreak}),e.jsx($n,{label:"Flexible Break1",active:!!r.flexibleBreak1})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3",children:"Break 3"}),e.jsx($n,{label:"Deduct Overbreak",active:!!r.deductBreak3Overbreak}),e.jsx($n,{label:"Flexible Break3",active:!!r.flexibleBreak3})]})]}),e.jsxs("div",{className:"pt-5 space-y-3",children:[e.jsx($n,{label:"Combine Break1 and Break3",active:!!r.combineBreak1And3}),r.combineBreak1And3&&e.jsxs("div",{className:"flex flex-wrap gap-2.5 pl-4 border-l-2 border-blue-200 mt-2",children:[e.jsx($n,{label:"Tardiness (Combined)",active:!!r.computeAsTardinessCombine}),e.jsx($n,{label:"Undertime (Combined)",active:!!r.computeAsUndertimeCombine})]})]})]}),e.jsx(F0,{title:"Attendance Rules",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx($n,{label:"Complete Shift w/ Undertime",active:!!r.completeShiftWithUndertime}),e.jsx($n,{label:"2nd Shift for Raw Data",active:!!r.secondShiftForRawData})]})}),e.jsxs(F0,{title:"Tardiness & Undertime Bracketing",children:[e.jsx(Wn,{label:"Tardiness Bracket",value:r.tardiness}),e.jsx(Wn,{label:"Undertime Bracket",value:r.undertime})]})]})]})]})]})})]})}const UZ="Workshift SetUp",Jm=25;function $Z(){const[t,a]=o.useState([]),[s,r]=o.useState(""),[n,l]=o.useState(1),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(""),[f,y]=o.useState({...c4}),[N,C]=o.useState(null);o.useEffect(()=>{const G=new AbortController;return(async()=>{c(!0);try{const ye=await z.get("/Fs/Process/WorkshiftSetUp");G.signal.aborted||a(ye.data?.data??ye.data??[])}catch(ye){console.error("Failed to load workshift data:",ye)}finally{G.signal.aborted||c(!1)}})(),()=>G.abort()},[]),o.useEffect(()=>{const G=re=>{re.key==="Escape"&&(u&&h(!1),m&&b(!1))};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[u,m]);const S=t.filter(G=>G.code.toLowerCase().includes(s.toLowerCase())||G.description.toLowerCase().includes(s.toLowerCase())),I=Math.max(1,Math.ceil(S.length/Jm)),k=(n-1)*Jm,A=S.slice(k,k+Jm),F=()=>{y({...c4}),w(!1),v(""),h(!0)},O=G=>{y(AZ(G)),v(G.code),w(!0),h(!0)},M=G=>{C(G),b(!0)},U=async G=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete workshift "${G}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/WorkshiftSetUp/${encodeURIComponent(G)}`),await ts.log({accessType:"Delete",trans:`Deleted workshift ${G}`,messages:`Workshift deleted: ${G}`,formName:UZ}),a(ye=>ye.filter(K=>K.code!==G)),xe.fire({icon:"success",title:"Deleted",text:`Workshift "${G}" has been deleted.`,timer:1500,showConfirmButton:!1})}catch(ye){console.error("Failed to delete workshift:",ye);const K=ye?.response?.data?.message||ye.message||"Failed to delete workshift.";xe.fire({icon:"error",title:"Error",text:K})}},L=G=>{a(re=>g?re.map(ye=>ye.code===p?G:ye):[...re,G]),h(!1),w(!1),v("")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Workshift Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define workshift patterns including time in/out, break schedules, and calculation rules. Configure parameters for attendance tracking, overtime eligibility, and shift-specific policies."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Flexible shift configurations","Break time management","Attendance calculation rules","Overtime and tardiness policies"].map(G=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 shrink-0"}),e.jsx("span",{className:"text-gray-600",children:G})]},G))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:G=>{r(G.target.value),l(1)},className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64 text-sm"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description "}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 text-sm",children:"Actions"})]})}),e.jsx("tbody",{children:i?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400 text-sm",children:"Loading..."})}):A.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-400 text-sm",children:"No records found."})}):A.map(G=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:G.code}),e.jsx("td",{className:"px-4 py-2 text-sm",children:G.description}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>M(G),className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"View details",children:e.jsx(Rg,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>O(G),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>U(G.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},G.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:["Showing ",S.length===0?0:k+1,"",Math.min(k+Jm,S.length)," of ",S.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(G=>Math.max(1,G-1)),disabled:n===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-40",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{onClick:()=>l(G=>Math.min(I,G+1)),disabled:n===I,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-40",children:"Next"})]})]})]})]})}),e.jsx(ls,{}),u&&e.jsx(OZ,{isEditMode:g,editingCode:p,formData:f,setFormData:y,existingCodes:t.map(G=>G.code),onSuccess:L,onClose:()=>h(!1)}),m&&N&&e.jsx(HZ,{workshift:N,onClose:()=>b(!1),onEdit:G=>{b(!1),O(G)}})]})}const xb="Bracket Code SetUp";function WZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(1),[i,c]=o.useState(!1),[u,h]=o.useState(null),[m,b]=o.useState(!1),[g,w]=o.useState([]),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState("ACCUMULATE"),[S,I]=o.useState(""),[k,A]=o.useState(null),[F,O]=o.useState(!1),[M,U]=o.useState("");o.useEffect(()=>{L()},[]);const L=async()=>{O(!0),U("");try{const oe=await z.get("/Fs/Process/Tardiness/BracketCodeSetup");if(oe.status===200&&oe.data){const le=oe.data.map(Q=>({id:Q.id?.toString()||"",bracketCode:Q.bracketCode||Q.code||"",description:Q.description||Q.Description||"",flag:ye[Q.flag]||"UNKNOWN"}));w(le)}}catch(oe){const le=oe.response?.data?.message||oe.message||"Failed to load bracket codes";U(le),console.error("Error fetching bracket codes:",oe)}finally{O(!1)}},G=["TARDINESS","UNDERTIME","ACCUMULATE"],re={TARDINESS:1,UNDERTIME:2,ACCUMULATE:3},ye={1:"TARDINESS",2:"UNDERTIME",3:"ACCUMULATE"},K=g.filter(oe=>{const le=String(oe.bracketCode??"").toLowerCase(),Q=String(oe.description??"").toLowerCase(),ve=String(oe.flag??"").toLowerCase(),Ce=s.toLowerCase();return le.includes(Ce)||Q.includes(Ce)||ve.includes(Ce)});o.useEffect(()=>{L()},[]);const ne=25,H=Math.ceil(K.length/ne),se=(n-1)*ne,we=se+ne,Y=K.slice(se,we),[E,P]=o.useState({}),V=oe=>E[oe]===!0;o.useEffect(()=>{D()},[]);const D=()=>{const oe=localStorage.getItem("loginPayload");if(oe)try{const ve=(JSON.parse(oe).permissions||[]).filter($e=>Ss($e.formName)==="BracketCodeSetup"),Ce={};ve.forEach($e=>{const Ae=Ss($e.accessTypeName);Ae&&(Ce[Ae]=!0)}),P(Ce)}catch(le){console.error("Error parsing or decrypting payload",le)}},R=()=>{c(!1),h(null),A(null),v(""),y(""),I(""),a(!0)},ee=(oe,le)=>{c(!0),h(le),A(oe.id??null),v(oe.bracketCode??""),y(oe.description??""),C(oe.flag??"ACCUMULATE"),I(""),a(!0)},Se=async oe=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete allowance bracket code ${oe.bracketCode}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{b(!0),await z.delete(`/Fs/Process/Tardiness/BracketCodeSetup/${oe.id}`),await ts.log({accessType:"Delete",trans:`Deleted allowance bracket code "${oe.bracketCode}"`,messages:`Allowance bracket "${oe.bracketCode}" removed`,formName:xb}),await xe.fire({icon:"success",title:"Success",text:"Allowance bracket code deleted successfully.",timer:2e3,showConfirmButton:!1}),await L()}catch(Q){const ve=Q?.response?.data?.message||Q?.message||"Failed to delete allowance bracket code";await xe.fire({icon:"error",title:"Error",text:ve}),console.error("Delete error:",Q)}finally{b(!1)}},ue=async()=>{if(!p.trim()||p.length>10){I("Code must be between 1 and 10 characters."),await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(!f.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(g.some((le,Q)=>i&&u===Q?!1:le.bracketCode.toLowerCase()===p.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use."});return}b(!0);try{const le={id:i&&k?parseInt(k):0,bracketCode:p.trim(),description:f.trim(),flag:re[N]};console.log(le),i&&k?(await z.put(`/Fs/Process/Tardiness/BracketCodeSetup/${le.id}`,le),await ts.log({accessType:"Edit",trans:`Updated allowance bracket code "${le.bracketCode}"`,messages:`Allowance bracket "${le.bracketCode}" updated`,formName:xb}),await xe.fire({icon:"success",title:"Updated",text:"Allowance bracket code updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Process/Tardiness/BracketCodeSetup",le),await ts.log({accessType:"Add",trans:`Created allowance bracket code "${le.bracketCode}"`,messages:`Allowance bracket "${le.bracketCode}" created`,formName:xb}),await xe.fire({icon:"success",title:"Created",text:"Allowance bracket code created successfully.",timer:2e3,showConfirmButton:!1})),await L(),a(!1),v(""),y(""),I(""),A(null),c(!1),h(null)}catch(le){const Q=le?.response?.data?.message||le?.message||"Something went wrong";await xe.fire({icon:"error",title:"Error",text:Q}),console.error("Submit error:",le)}finally{b(!1)}};return o.useEffect(()=>{const oe=le=>{le.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",oe),()=>{document.removeEventListener("keydown",oe)}},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Bracket Code Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define bracket codes for tardiness, undertime, and accumulation tracking. Configure how different types of time deductions are categorized and flagged in the system."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Tardiness tracking codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Undertime categorization"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accumulation brackets"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom deduction flags"})]})]})]})]})}),V("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[V("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:R,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),V("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:oe=>r(oe.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:F?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):g.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data available in table"}):V("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Flag"}),(V("Edit")||V("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Y.map((oe,le)=>{const Q=se+le;return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:oe.bracketCode}),e.jsx("td",{className:"px-4 py-2",children:oe.description}),e.jsx("td",{className:"px-4 py-2",children:oe.flag}),(V("Edit")||V("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[V("Edit")&&e.jsx("button",{onClick:()=>ee(oe,Q),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),V("Edit")&&V("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),V("Delete")&&e.jsx("button",{onClick:()=>Se(oe),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},oe.bracketCode)})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),V("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",K.length===0?0:se+1," to"," ",Math.min(we,K.length)," of"," ",K.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(oe=>Math.max(1,oe-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(oe=>Math.min(H,oe+1)),disabled:n===H||H===0,children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Bracket Code Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:p,onChange:oe=>v(oe.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter code"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:f,onChange:oe=>y(oe.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter description"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Flag :"}),e.jsx("select",{value:N,onChange:oe=>C(oe.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:G.map(oe=>e.jsx("option",{value:oe,children:oe},oe))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:ue,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]}),e.jsx("style",{children:`
            @keyframes blob {
              0% {
                transform: translate(0px, 0px) scale(1);
              }
              33% {
                transform: translate(30px, -50px) scale(1.1);
              }
              66% {
                transform: translate(-20px, 20px) scale(0.9);
              }
              100% {
                transform: translate(0px, 0px) scale(1);
              }
            }
            .animate-blob {
              animation: blob 7s infinite;
            }
            .animation-delay-2000 {
              animation-delay: 2s;
            }
            .animation-delay-4000 {
              animation-delay: 4s;
            }
          `})]})}),e.jsx(ls,{})]})}function GZ(){const[t,a]=o.useState("Tardiness"),[s,r]=o.useState(!1),[n,l]=o.useState(1),[i,c]=o.useState(!1),[u,h]=o.useState([]),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState(u[0]?.bracketCode||""),[f,y]=o.useState(null),[N,C]=o.useState(null),[S,I]=o.useState({late:"",equivalent:"",bracketCode:""}),[k,A]=o.useState({Tardiness:[],Undertime:[],Accumulation:[]});o.useEffect(()=>{F("Tardiness"),F("Undertime"),F("Accumulation"),O()},[]);const F=async ue=>{try{const oe={Tardiness:"/Fs/Process/Tardiness/TardinessSetup",Undertime:"/Fs/Process/Tardiness/UnderTimeSetup",Accumulation:"/Fs/Process/Tardiness/AccumulateSetup"},le=await z.get(oe[ue]);if(le.status===200&&le.data){const Q=le.data.map(ve=>({id:ve.id,time:ve.late,equivalent:ve.equivalent,bracketCode:ve.bracketCode||ve.code||""}));A(ve=>({...ve,[ue]:Q}))}}catch(oe){console.error(`Failed to fetch ${ue} data:`,oe)}},O=async()=>{b(!0),w("");try{const ue=await z.get("/Fs/Process/Tardiness/BracketCodeSetup");if(ue.status===200&&ue.data){const oe=ue.data.map(le=>({id:le.id?.toString()||"",bracketCode:le.bracketCode||le.code||"",description:le.description||le.Description||"",flag:le.flag?.toString()||"0"}));h(oe)}}catch(ue){const oe=ue.response?.data?.message||ue.message||"Failed to load bracket codes";w(oe),console.error("Error fetching bracket codes:",ue)}finally{b(!1)}},M=25,U=k[t].filter(ue=>ue.bracketCode===p),L=Math.ceil(U.length/M),G=(n-1)*M,re=G+M,ye=U.slice(G,re),K=()=>t==="Accumulation"?"Late/Undertime":t==="Tardiness"?"Late":"Undertime",ne=()=>t==="Accumulation"?"Accumulate Setup":t==="Tardiness"?"Tardiness Setup":"Undertime Setup",[H,se]=o.useState({}),we=ue=>H[ue]===!0;o.useEffect(()=>{Y()},[]);const Y=()=>{const ue=localStorage.getItem("loginPayload");if(ue)try{const Q=(JSON.parse(ue).permissions||[]).filter(Ce=>Ss(Ce.formName)==="TardinessAndUndertimeTableSetUp"),ve={};Q.forEach(Ce=>{const $e=Ss(Ce.accessTypeName);$e&&(ve[$e]=!0)}),se(ve)}catch(oe){console.error("Error parsing or decrypting payload",oe)}},E=()=>t==="Accumulation"?"Tardiness/Undertime":t.charAt(0).toUpperCase()+t.slice(1),P={Tardiness:"/Fs/Process/Tardiness/TardinessSetup",Undertime:"/Fs/Process/Tardiness/UnderTimeSetup",Accumulation:"/Fs/Process/Tardiness/AccumulateSetup"},V=()=>{const ue=u.filter(le=>t==="Tardiness"?le.flag==="1":t==="Undertime"?le.flag==="2":t==="Accumulation"?le.flag==="3":!1),oe=p||ue[0]?.bracketCode||"";I({late:"",equivalent:"",bracketCode:oe}),c(!1),y(null),r(!0)},D=ue=>{const oe={late:String(ue.time??""),equivalent:String(ue.equivalent??""),bracketCode:String(ue.bracketCode??"")};I(oe),C(oe),y(ue.id),c(!0),r(!0)},R=async ue=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:"Are you sure you want to delete this entry?",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{const le=P[t],Q=await z.delete(`${le}/${ue}`);Q.status>=200&&Q.status<300&&(A(ve=>({...ve,[t]:ve[t].filter(Ce=>Ce.id!==ue)})),await xe.fire({icon:"success",title:"Deleted",text:"Entry deleted successfully.",timer:2e3,showConfirmButton:!1}),await F(t))}catch(le){console.error("Delete error:",le),await xe.fire({icon:"error",title:"Error",text:le?.response?.data?.message||"Failed to delete entry."})}},ee=async()=>{const ue=String(S.late??"").trim(),oe=String(S.equivalent??"").trim(),le=String(S.bracketCode||p||"").trim();if(!ue){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a time value."});return}if(!oe){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter an equivalent value."});return}if(i&&N&&ue===N.late&&oe===N.equivalent&&le===N.bracketCode){await xe.fire({icon:"info",title:"No Changes",text:"No changes were made."});return}try{const Q=P[t],ve={id:f??0,late:ue,equivalent:oe,bracketCode:le};i&&f?(await z.put(`${Q}/${f}`,ve),await xe.fire({icon:"success",title:"Updated",text:"Entry updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post(Q,ve),await xe.fire({icon:"success",title:"Created",text:"Entry added successfully.",timer:2e3,showConfirmButton:!1})),await F(t),r(!1),I({late:"",equivalent:"",bracketCode:p}),c(!1),y(null),C(null)}catch(Q){console.error("Submit error:",Q),await xe.fire({icon:"error",title:"Error",text:Q?.response?.data?.message||"Failed to submit entry."})}},Se=(ue,oe)=>{const le=ue.replace(/[^\d.]/g,"");I({...S,[oe]:le})};return o.useEffect(()=>{const ue=oe=>{oe.key==="Escape"&&s&&r(!1)};return s&&document.addEventListener("keydown",ue),()=>{document.removeEventListener("keydown",ue)}},[s]),o.useEffect(()=>{const ue=u.find(oe=>t==="Tardiness"?oe.flag==="1":t==="Undertime"?oe.flag==="2":t==="Accumulation"?oe.flag==="3":!1);v(ue?.bracketCode||""),l(1)},[t,u]),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Bracketing Table Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure bracketing tables for tardiness, undertime, and accumulation calculations. Define time ranges and their equivalent values for automated deduction processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Tardiness brackets and equivalents"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Undertime calculation tables"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Accumulation thresholds"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Time-to-value mapping"})]})]})]})]})}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:[{name:"Tardiness",icon:Js},{name:"Undertime",icon:ur},{name:"Accumulation",icon:Rv}].map(ue=>e.jsxs("button",{onClick:()=>a(ue.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===ue.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(ue.icon,{className:"w-4 h-4"}),ue.name]},ue.name))}),we("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[we("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:V,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsx("select",{value:p,onChange:ue=>v(ue.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white w-auto min-w-[150px]",children:m?e.jsx("option",{children:"Loading..."}):g?e.jsx("option",{children:g}):u.filter(ue=>t==="Tardiness"?ue.flag==="1":t==="Undertime"?ue.flag==="2":t==="Accumulation"?ue.flag==="3":!1).map(ue=>e.jsx("option",{value:ue.bracketCode,children:ue.description},ue.id))})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700",children:[E()," [hh.mm]"," ",e.jsx("span",{className:"text-blue-500",children:""})]}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Equivalent [hh.mm]"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ye.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No data available in table"})}):we("View")?ye.map((ue,oe)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ue.time}),e.jsx("td",{className:"px-4 py-2",children:ue.equivalent}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[we("Edit")&&e.jsx("button",{onClick:()=>D(ue),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),we("Edit")&&we("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),we("Delete")&&e.jsx("button",{onClick:()=>R(ue.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},oe)):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})})]})}),we("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",U.length===0?0:G+1," to"," ",Math.min(re,U.length)," of ",U.length," ","entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(ue=>Math.max(1,ue-1)),disabled:n===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:n}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>l(ue=>Math.min(L,ue+1)),disabled:n===L||L===0,children:"Next"})]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>r(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:ne()}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-40 text-gray-700 text-sm",children:[K()," :"]}),e.jsx("input",{type:"text",value:S.late,onChange:ue=>Se(ue.target.value,"late"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Equivalent :"}),e.jsx("input",{type:"text",value:S.equivalent,onChange:ue=>Se(ue.target.value,"equivalent"),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-40 text-gray-700 text-sm",children:[t==="Tardiness"?"BracketCode":"Bracket Code"," ",":"]}),e.jsx("select",{value:S.bracketCode,onChange:ue=>I({...S,bracketCode:ue.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white",children:m?e.jsx("option",{children:"Loading..."}):g?e.jsx("option",{children:g}):u.filter(ue=>t==="Tardiness"?ue.flag==="1":t==="Undertime"?ue.flag==="2":t==="Accumulation"?ue.flag==="3":!1).map(ue=>e.jsx("option",{value:ue.bracketCode,children:ue.description},ue.id))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:ee,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:i?"Update":"Submit"}),e.jsx("button",{onClick:()=>r(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}function Ac({isOpen:t,onClose:a,onSelect:s,devices:r,loading:n,error:l}){const[i,c]=o.useState(""),[u,h]=o.useState(1),m=20;o.useEffect(()=>{const y=N=>{N.key==="Escape"&&t&&a()};return t&&document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[t,a]),o.useEffect(()=>{t&&(c(""),h(1))},[t]);const b=r.filter(y=>y.code.toLowerCase().includes(i.toLowerCase())||y.description.toLowerCase().includes(i.toLowerCase())),g=Math.ceil(b.length/m),w=(u-1)*m,p=w+m,v=b.slice(w,p),f=()=>{const y=[];if(g<=5)return Array.from({length:g},(I,k)=>k+1);y.push(1),u>3&&y.push("...");const C=Math.max(2,u-1),S=Math.min(g-1,u+1);for(let I=C;I<=S;I++)y.push(I);return u<g-2&&y.push("..."),y.push(g),y};return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Device ID"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:y=>{c(y.target.value),h(1)},className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by ID or name..."})]}),l&&e.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded mb-3",children:e.jsx("p",{className:"text-red-700 text-xs",children:l})}),n?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading devices..."})}):e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device ID"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Device Name"})]})}),e.jsx("tbody",{children:v.length>0?v.map(y=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(y.code,y.description),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:y.code}),e.jsx("td",{className:"px-3 py-1.5",children:y.description})]},y.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-4 text-center text-gray-500 text-sm",children:"No devices found"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",b.length===0?0:w+1," to ",Math.min(p,b.length)," of ",b.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>h(y=>Math.max(y-1,1)),disabled:u===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),f().map((y,N)=>y==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${N}`):e.jsx("button",{onClick:()=>h(y),className:`px-2 py-1 rounded text-xs ${u===y?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:y},y)),e.jsx("button",{onClick:()=>h(y=>Math.min(y+1,g)),disabled:u===g||g===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})})]}):null}const hb="Area SetUp";function zZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(null),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState(""),[ve,Ce]=o.useState({}),$e=Te=>ve[Te]===!0;o.useEffect(()=>{Ae()},[]);const Ae=()=>{const Te=localStorage.getItem("loginPayload");if(Te)try{const Je=(JSON.parse(Te).permissions||[]).filter(Mt=>Ss(Mt.formName)==="AreaSetUp"),pt={};Je.forEach(Mt=>{const Wt=Ss(Mt.accessTypeName);Wt&&(pt[Wt]=!0)}),Ce(pt)}catch(Ee){console.error("Error parsing or decrypting payload",Ee)}};o.useEffect(()=>{We(),Re(),et()},[]);const We=async()=>{oe(!0),Q("");try{const Te=await z.get("/Fs/EmploymentAreaSetUp");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.id||pe.ID||"",code:pe.areaCode||pe.AreaCode||"",description:pe.areaDesc||pe.AreaDesc||"",head:pe.head||pe.Head||"",headCode:pe.headCode||pe.HeadCode||"",deviceName:pe.deviceName||pe.DeviceName||""}));Se(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load areas";Q(Ee),console.error("Error fetching areas:",Te)}finally{oe(!1)}},Re=async()=>{we(!0),V("");try{const Te=await z.get("/Maintenance/EmployeeMasterFile");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({empCode:pe.empCode||pe.code||"",name:`${pe.lName||""}, ${pe.fName||""} ${pe.mName||""}`.trim(),groupCode:pe.grpCode||""}));K(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load employees";V(Ee),console.error("Error fetching employees:",Te)}finally{we(!1)}},et=async()=>{E(!0),R("");try{const Te=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.id||"",code:pe.code||"",description:pe.description||""}));H(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load devices";R(Ee),console.error("Error fetching devices:",Te)}finally{E(!1)}};o.useEffect(()=>{const Te=Ee=>{Ee.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",Te),()=>{document.removeEventListener("keydown",Te)}},[t]);const B=()=>{l(!1),c(null),F(null),g(""),p(""),f(""),N(""),S(""),k(""),a(!0)},q=(Te,Ee)=>{l(!0),c(Ee),F(Te.id||null),g(Te.code),p(""),f(Te.description),N(Te.headCode),S(Te.head),k(Te.deviceName),a(!0)},Z=async Te=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete area ${Te.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/EmploymentAreaSetUp/${Te.id}`),await ts.log({accessType:"Delete",trans:`Deleted area ${Te.areaCode}`,messages:`Area deleted: ${Te.areaCode} - ${Te.areaDesc}`,formName:hb}),await xe.fire({icon:"success",title:"Success",text:"Area deleted successfully.",timer:2e3,showConfirmButton:!1}),await We()}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to delete area";await xe.fire({icon:"error",title:"Error",text:Je}),console.error("Error deleting area:",pe)}},je=Te=>{g(Te),Te.length>10?p("Area Code maximum 10 characters"):p("")},De=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Area Code must be between 1 and 10 characters."});return}if(ee.some((Ee,pe)=>n&&i===pe?!1:Ee.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}M(!0);try{const Ee={id:n&&A?parseInt(A):0,areaCode:b,areaDesc:v,head:C,headCode:y,deviceName:I};n&&A?(await z.put(`/Fs/EmploymentAreaSetUp/${A}`,Ee),await ts.log({accessType:"Edit",trans:`Edited area ${Ee.areaCode}`,messages:`Area updated: ${Ee.areaCode} - ${Ee.areaDesc}`,formName:hb}),await xe.fire({icon:"success",title:"Success",text:"Area updated successfully.",timer:2e3,showConfirmButton:!1}),await We()):(await z.post("/Fs/EmploymentAreaSetUp",Ee),await ts.log({accessType:"Add",trans:`Added area ${Ee.areaCode}`,messages:`Area created: ${Ee.areaCode} - ${Ee.areaDesc}`,formName:hb}),await xe.fire({icon:"success",title:"Success",text:"Area created successfully.",timer:2e3,showConfirmButton:!1}),await We()),a(!1),g(""),p(""),f(""),N(""),S(""),k(""),F(null),l(!1),c(null)}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:pe}),console.error("Error submitting form:",Ee)}finally{M(!1)}},Qe=(Te,Ee)=>{N(Te),S(Ee),L(!1)},qe=(Te,Ee)=>{k(Ee),re(!1)},Ye=ee.filter(Te=>Te.code.toLowerCase().includes(s.toLowerCase())||Te.description.toLowerCase().includes(s.toLowerCase())||Te.head.toLowerCase().includes(s.toLowerCase())||Te.deviceName.toLowerCase().includes(s.toLowerCase())),ht=Math.ceil(Ye.length/m),St=(u-1)*m,dt=St+m,Et=Ye.slice(St,dt);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Area Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational areas with department heads and device assignments for efficient workforce management and time tracking across different locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Area code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Department head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized area tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[($e("Add")||$e("View"))&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:B,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),$e("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:Te=>r(Te.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:ue?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading areas..."})}):le?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:le})}):$e("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),($e("Edit")||$e("View"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Et.map((Te,Ee)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Te.code}),e.jsx("td",{className:"px-4 py-2",children:Te.description}),e.jsx("td",{className:"px-4 py-2",children:Te.head}),e.jsx("td",{className:"px-4 py-2",children:Te.deviceName}),($e("Edit")||$e("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[$e("Edit")&&e.jsx("button",{onClick:()=>q(Te,Ee),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),$e("Edit")&&$e("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),$e("Delete")&&e.jsx("button",{onClick:()=>Z(Te),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Ee))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),$e("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ye.length===0?0:St+1," to"," ",Math.min(dt,Ye.length)," of"," ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Te=>Math.max(Te-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ht},(Te,Ee)=>Ee+1).map(Te=>e.jsx("button",{onClick:()=>h(Te),className:`px-3 py-1 rounded transition-colors ${u===Te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te},Te)),e.jsx("button",{onClick:()=>h(Te=>Math.min(Te+1,ht)),disabled:u===ht||ht===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Area":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Area Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Area Code :"}),e.jsx("input",{type:"text",value:b,onChange:Te=>je(Te.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Te=>f(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,maxLength:10,onChange:Te=>N(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>L(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:I,onChange:Te=>k(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:De,disabled:O,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:O?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:O,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:U,onClose:()=>L(!1),onSelect:Qe,employees:ye,loading:se,error:P}),e.jsx(Ac,{isOpen:G,onClose:()=>re(!1),onSelect:qe,devices:ne,loading:Y,error:D})]})]})}),e.jsx(ls,{})]})}const mb="Branch SetUp";function VZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState(""),[N,C]=o.useState(null),[S,I]=o.useState(!1),[k,A]=o.useState(!1),[F,O]=o.useState(!1),[M,U]=o.useState([]),[L,G]=o.useState(!1),[re,ye]=o.useState(""),[K,ne]=o.useState([]),[H,se]=o.useState([]),[we,Y]=o.useState(!1),[E,P]=o.useState(!1),[V,D]=o.useState(""),[R,ee]=o.useState(""),[Se,ue]=o.useState({}),oe=Z=>Se[Z]===!0;o.useEffect(()=>{le(),Q(),ve(),Ce()},[]);const le=()=>{const Z=localStorage.getItem("loginPayload");if(Z)try{const Qe=(JSON.parse(Z).permissions||[]).filter(Ye=>Ss(Ye.formName)==="BranchSetup"),qe={};Qe.forEach(Ye=>{const ht=Ss(Ye.accessTypeName);ht&&(qe[ht]=!0)}),ue(qe)}catch(je){console.error("Error parsing or decrypting payload",je)}},Q=async()=>{G(!0),ye("");try{const Z=await z.get("/Fs/Employment/BranchSetUp");if(Z.status===200&&Z.data){const je=Z.data.map(De=>({id:De.braID||De.id||"",branchId:De.braID||De.id||"",code:De.braCode||De.code||"",description:De.braDesc||De.description||"",branchManager:De.braMngr||De.branchManager||"",branchManagerCode:De.braMngrCode||"",deviceName:De.deviceName||De.DeviceName||""}));U(je)}}catch(Z){const je=Z.response?.data?.message||Z.message||"Failed to load branches";ye(je)}finally{G(!1)}},ve=async()=>{Y(!0),D("");try{const Z=await z.get("/Maintenance/EmployeeMasterFile");if(Z.status===200&&Z.data){const je=Z.data.map(De=>({empCode:De.empCode||De.code||"",name:`${De.lName||""}, ${De.fName||""} ${De.mName||""}`.trim(),groupCode:De.grpCode||""}));ne(je)}}catch{D("Failed to load employees")}finally{Y(!1)}},Ce=async()=>{P(!0),ee("");try{const Z=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(Z.status===200&&Z.data){const je=Z.data.map(De=>({id:De.id||"",code:De.code||"",description:De.description||""}));se(je)}}catch{ee("Failed to load devices")}finally{P(!1)}};o.useEffect(()=>{const Z=je=>{je.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[t]);const $e=()=>{l(!1),c(null),h(""),b(""),w(""),v(""),y(""),a(!0)},Ae=(Z,je)=>{l(!0),c(je),C(Z.branchId),h(Z.code),b(Z.description),w(Z.branchManagerCode),v(Z.branchManager),y(Z.deviceName),a(!0)},We=async Z=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete branch ${Z.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Delete"})).isConfirmed)try{await z.delete(`/Fs/Employment/BranchSetUp/${Z.id}`),await ts.log({accessType:"Delete",trans:`Deleted branch ${Z.code}`,messages:`Branch deleted: ${Z.code} - ${Z.description}`,formName:mb}),await xe.fire({icon:"success",title:"Success",text:"Branch deleted successfully.",timer:2e3,showConfirmButton:!1}),await Q()}catch(De){const Qe=De.response?.data?.message||De.message||"Failed to delete branch";await xe.fire({icon:"error",title:"Error",text:Qe}),console.error("Error deleting branch:",De)}},Re=async()=>{if(!u.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a Code."});return}if(M.some((je,De)=>n&&i===De?!1:je.code.toLowerCase()===u.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}I(!0);try{const je={braID:n&&N?parseInt(N):0,braCode:u,braDesc:m,braMngr:p||null,braMngrCode:g||"",deviceName:f||null};n?(await z.put(`/Fs/Employment/BranchSetUp/${N}`,je),await ts.log({accessType:"Edit",trans:`Edited branch ${je.braCode}`,messages:`Branch updated: ${je.braCode} - ${je.braDesc}`,formName:mb})):(await z.post("/Fs/Employment/BranchSetUp",je),await ts.log({accessType:"Add",trans:`Added branch ${je.braCode}`,messages:`Branch created: ${je.braCode} - ${je.braDesc}`,formName:mb})),await xe.fire({icon:"success",title:"Success",timer:2e3,showConfirmButton:!1}),await Q(),a(!1)}catch{xe.fire({icon:"error",title:"Error",text:"An error occurred"})}finally{I(!1)}},et=(Z,je)=>{w(Z),v(je),A(!1)},B=(Z,je)=>{y(je),O(!1)},q=M.filter(Z=>Z.code.toLowerCase().includes(s.toLowerCase())||Z.description.toLowerCase().includes(s.toLowerCase())||Z.branchManager.toLowerCase().includes(s.toLowerCase())||Z.deviceName.toLowerCase().includes(s.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-3 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 md:px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-lg md:text-xl",children:"Branch Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-4 md:p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage branch locations with branch manager assignments and device configurations for comprehensive organizational structure and time tracking across multiple business locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Branch code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Branch manager assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-location tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[oe("Add")&&oe("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:$e,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),oe("View")&&e.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[e.jsx("label",{className:"text-gray-700 whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:Z=>r(Z.target.value),className:"w-64 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsx("div",{className:"overflow-x-auto border rounded-lg",children:oe("View")?e.jsxs("table",{className:"w-full border-collapse min-w-[700px]",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Branch Manager"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(oe("Edit")||oe("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:q.map((Z,je)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Z.code}),e.jsx("td",{className:"px-4 py-2",children:Z.description}),e.jsx("td",{className:"px-4 py-2",children:Z.branchManager}),e.jsx("td",{className:"px-4 py-2",children:Z.deviceName}),(oe("Edit")||oe("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[oe("Edit")&&e.jsx("button",{onClick:()=>Ae(Z,je),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",children:e.jsx(Is,{className:"w-4 h-4"})}),oe("Delete")&&e.jsx("button",{onClick:()=>We(Z),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},je))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),oe("View")&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-4 gap-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",q.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 md:p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-3 border-b bg-gray-50 rounded-t-2xl",children:[e.jsx("h2",{className:"text-gray-800 text-lg",children:n?"Edit Branch":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 md:p-6 overflow-y-auto space-y-4",children:[e.jsx("h3",{className:"text-blue-600 font-semibold",children:"Branch Setup"}),e.jsxs("div",{className:"grid gap-4",children:[[{label:"Code",value:u,setter:h,max:10},{label:"Description",value:m,setter:b}].map(Z=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxs("label",{className:"sm:w-40 text-gray-700 text-sm",children:[Z.label," :"]}),e.jsx("input",{type:"text",maxLength:Z.max,value:Z.value,onChange:je=>Z.setter(je.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm"})]},Z.label)),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Manager Code :"}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{readOnly:!0,value:g,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{onClick:()=>A(!0),className:"p-2 bg-green-600 text-white rounded-lg",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{v(""),w("")},className:"p-2 bg-red-600 text-white rounded-lg",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Manager Name :"}),e.jsx("input",{readOnly:!0,value:p,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("label",{className:"sm:w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsxs("div",{className:"flex-1 flex gap-2",children:[e.jsx("input",{readOnly:!0,value:f,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-50 text-sm"}),e.jsx("button",{onClick:()=>O(!0),className:"p-2 bg-green-600 text-white rounded-lg",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(""),className:"p-2 bg-red-600 text-white rounded-lg",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t",children:[e.jsx("button",{onClick:Re,disabled:S,className:"flex-1 min-w-[120px] px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm",children:S?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),className:"flex-1 min-w-[120px] px-6 py-2.5 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-sm",children:"Back to List"})]})]})]})}),e.jsx(wr,{isOpen:k,onClose:()=>A(!1),onSelect:et,employees:K,loading:we,error:V}),e.jsx(Ac,{isOpen:F,onClose:()=>O(!1),onSelect:B,devices:H,loading:E,error:R})]})]})}),e.jsx(ls,{})]})}const pb="Department SetUp";function YZ({isOpen:t,onClose:a,onSelect:s,divisions:r,loading:n,error:l}){const[i,c]=o.useState("");if(o.useEffect(()=>{const h=m=>{m.key==="Escape"&&t&&a()};return t&&document.addEventListener("keydown",h),()=>{document.removeEventListener("keydown",h)}},[t,a]),!t)return null;const u=r.filter(h=>h.code.toLowerCase().includes(i.toLowerCase())||h.description.toLowerCase().includes(i.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:a}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Search"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Division Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:h=>c(h.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"border border-gray-200 rounded",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):l?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-red-500 text-sm",children:l})}):u.length>0?u.map(h=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>s(h.code,h.description),children:[e.jsx("td",{className:"px-3 py-1.5",children:h.code}),e.jsx("td",{className:"px-3 py-1.5",children:h.description})]},h.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500 text-sm",children:"No data available"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing 1 to ",u.length," of"," ",u.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded text-xs",children:"1"}),e.jsx("button",{className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})})]})}function KZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=20,[b,g]=o.useState(""),[w,p]=o.useState(null),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(""),[U,L]=o.useState(""),[G,re]=o.useState(""),[ye,K]=o.useState(""),[ne,H]=o.useState(!1),[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(!1),[D,R]=o.useState([]),[ee,Se]=o.useState(!1),[ue,oe]=o.useState(""),[le,Q]=o.useState([]),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState([]),[We,Re]=o.useState(!1),[et,B]=o.useState(!1),[q,Z]=o.useState(!1),[je,De]=o.useState(""),[Qe,qe]=o.useState(""),[Ye,ht]=o.useState(""),[St,dt]=o.useState({}),Et=ge=>St[ge]===!0;o.useEffect(()=>{Te()},[]);const Te=()=>{const ge=localStorage.getItem("loginPayload");if(ge)try{const Rt=(JSON.parse(ge).permissions||[]).filter(kt=>Ss(kt.formName)==="DepartmentSetUp"),ft={};Rt.forEach(kt=>{const he=Ss(kt.accessTypeName);he&&(ft[he]=!0)}),dt(ft)}catch(st){console.error("Error parsing or decrypting payload",st)}};o.useEffect(()=>{Ee()},[]);const Ee=async()=>{Se(!0),oe("");try{const ge=await z.get("/Fs/Employment/DepartmentSetUp");if(ge.status===200&&ge.data){const st=ge.data.map(Ze=>({departmentId:Ze.depID||"",code:Ze.depCode||"",departmentCode:Ze.depCode||"",departmentHeadCode:Ze.depHeadCode||"",description:Ze.depDesc||"",divisionCode:Ze.divCode||"",head:Ze.depHead||"",deviceName:Ze.deviceName||"",head1:Ze.head1||"",email1:Ze.email1||"",head2:Ze.head2||"",email2:Ze.email2||""}));R(st)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to load departments";oe(st),console.error("Error fetching departments:",ge)}finally{Se(!1)}};o.useEffect(()=>{pe()},[]);const pe=async()=>{Re(!0),De("");try{const ge=await z.get("/Fs/Employment/DivisionSetUp");if(ge.status===200&&ge.data){const st=ge.data.map(Ze=>({code:Ze.divCode||Ze.code||"",description:Ze.divDesc||Ze.description||""}));Q(st)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to load divisions";De(st),console.error("Error fetching divisions:",ge)}finally{Re(!1)}};o.useEffect(()=>{Je()},[]);const Je=async()=>{B(!0),qe("");try{const ge=await z.get("/Maintenance/EmployeeMasterFile");if(ge.status===200&&ge.data){const st=ge.data.map(Ze=>({empCode:Ze.empCode||Ze.code||"",name:`${Ze.lName||""}, ${Ze.fName||""} ${Ze.mName||""}`.trim(),groupCode:Ze.grpCode||""}));Ce(st)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to load employees";qe(st),console.error("Error fetching employees:",ge)}finally{B(!1)}};o.useEffect(()=>{pt()},[]);const pt=async()=>{Z(!0),ht("");try{const ge=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(ge.status===200&&ge.data){const st=ge.data.map(Ze=>({id:Ze.id||"",code:Ze.code||"",description:Ze.description||""}));Ae(st),Ae(st)}}catch(ge){const st=ge.response?.data?.message||ge.message||"Failed to load devices";ht(st),console.error("Error fetching devices:",ge)}finally{Z(!1)}};o.useEffect(()=>{const ge=st=>{st.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",ge),()=>{document.removeEventListener("keydown",ge)}},[t]);const Mt=()=>{l(!1),c(null),g(""),f(""),N(""),S(""),k(""),F(""),M(""),L(""),re(""),K(""),a(!0)},Wt=(ge,st)=>{l(!0),p(ge.departmentId),c(st),g(ge.code),S(ge.departmentHeadCode),f(ge.description),N(ge.divisionCode),k(ge.head),F(ge.deviceName),M(ge.head1),L(ge.email1),re(ge.head2),K(ge.email2),a(!0)},$t=async ge=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete department ${ge.departmentId}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/DepartmentSetUp/${ge.id}`),await ts.log({accessType:"Delete",trans:`Deleted department ${ge.code}`,messages:`Department deleted: ${ge.code} - ${ge.description}`,formName:pb}),await xe.fire({icon:"success",title:"Success",text:"Department deleted successfully.",timer:2e3,showConfirmButton:!1}),await Ee()}catch(Ze){const Rt=Ze.response?.data?.message||Ze.message||"Failed to delete department";await xe.fire({icon:"error",title:"Error",text:Rt}),console.error("Error deleting department:",Ze)}},lt=async()=>{if(!b.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a Department Code."});return}if(D.some((Ze,Rt)=>n&&i===Rt?!1:Ze.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}const st=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(U.trim()&&!st.test(U)){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a valid email address for Email 1."});return}if(ye.trim()&&!st.test(ye)){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a valid email address for Email 2."});return}H(!0);try{const Ze={depID:n&&w?parseInt(w):0,depCode:b,depDesc:v,divCode:y||null,depHead:I||null,depHeadCode:C||"",deviceName:A||null,head1:O||null,email1:U||null,head2:G||null,email2:ye||null};n&&i!==null?(await z.put(`/Fs/Employment/DepartmentSetUp/${Ze.depID}`,Ze),await ts.log({accessType:"Edit",trans:`Edited department ${Ze.depCode}`,messages:`Department updated: ${Ze.depCode} - ${Ze.depDesc}`,formName:pb}),await xe.fire({icon:"success",title:"Success",text:"Department updated successfully.",timer:2e3,showConfirmButton:!1}),await Ee()):(await z.post("/Fs/Employment/DepartmentSetUp",Ze),await ts.log({accessType:"Add",trans:`Added department ${Ze.depCode}`,messages:`Department created ${Ze.depCode} - ${Ze.depDesc}`,formName:pb}),await xe.fire({icon:"success",title:"Success",text:"Department created successfully.",timer:2e3,showConfirmButton:!1}),await Ee()),a(!1),g(""),f(""),N(""),S(""),k(""),F(""),M(""),L(""),re(""),K(""),l(!1),c(null)}catch(Ze){const Rt=Ze.response?.data?.message||Ze.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Rt}),console.error("Error submitting form:",Ze)}finally{H(!1)}},bt=(ge,st)=>{N(st),we(!1)},Nt=(ge,st)=>{S(ge),k(st),E(!1)},wt=(ge,st)=>{F(st),V(!1)},It=D.filter(ge=>ge.code.toLowerCase().includes(s.toLowerCase())||ge.description.toLowerCase().includes(s.toLowerCase())||ge.divisionCode.toLowerCase().includes(s.toLowerCase())||ge.head.toLowerCase().includes(s.toLowerCase())||ge.deviceName.toLowerCase().includes(s.toLowerCase())||ge.head1.toLowerCase().includes(s.toLowerCase())||ge.email1.toLowerCase().includes(s.toLowerCase())||ge.head2.toLowerCase().includes(s.toLowerCase())||ge.email2.toLowerCase().includes(s.toLowerCase())),Dt=Math.ceil(It.length/m),Ke=(u-1)*m,tt=Ke+m,Le=It.slice(Ke,tt),He=()=>{const ge=[];if(Dt<=5)return Array.from({length:Dt},(ft,kt)=>kt+1);ge.push(1),u>3&&ge.push("...");const Ze=Math.max(2,u-1),Rt=Math.min(Dt-1,u+1);for(let ft=Ze;ft<=Rt;ft++)ge.push(ft);return u<Dt-2&&ge.push("..."),ge.push(Dt),ge};return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Department Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational departments with division assignments, department head information, device configurations, and contact details for effective management and communication across business units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Department code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division and department head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Contact information and email management"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[Et("Add")&&Et("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Mt,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),Et("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:ge=>r(ge.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:Et("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Division Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Email 1"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head 2"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Email 2"}),(Et("Edit")||Et("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Le.map((ge,st)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ge.code}),e.jsx("td",{className:"px-4 py-2",children:ge.description}),e.jsx("td",{className:"px-4 py-2",children:ge.divisionCode}),e.jsx("td",{className:"px-4 py-2",children:ge.head}),e.jsx("td",{className:"px-4 py-2",children:ge.deviceName}),e.jsx("td",{className:"px-4 py-2",children:ge.head1}),e.jsx("td",{className:"px-4 py-2",children:ge.email1}),e.jsx("td",{className:"px-4 py-2",children:ge.head2}),e.jsx("td",{className:"px-4 py-2",children:ge.email2}),(Et("Edit")||Et("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[Et("Edit")&&e.jsx("button",{onClick:()=>Wt(ge,Ke+st),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),Et("Edit")&&Et("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),Et("Delete")&&e.jsx("button",{onClick:()=>$t(ge),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},st))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),Et("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing"," ",It.length===0?0:Ke+1," to"," ",Math.min(tt,It.length)," of"," ",It.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(ge=>Math.max(ge-1,1)),disabled:u===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),He().map((ge,st)=>ge==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${st}`):e.jsx("button",{onClick:()=>h(ge),className:`px-4 py-2 rounded text-sm font-medium ${u===ge?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:ge},ge)),e.jsx("button",{onClick:()=>h(ge=>Math.min(ge+1,Dt)),disabled:u===Dt||Dt===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Department":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Department Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Code :"}),e.jsx("input",{type:"text",value:b,onChange:ge=>{const st=ge.target.value;st.length<=10&&g(st)},maxLength:10,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:ge=>f(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Code :"}),e.jsx("input",{type:"text",value:y,onChange:ge=>N(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>we(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Head Code :"}),e.jsx("input",{type:"text",value:C,onChange:ge=>S(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>E(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{S(""),k("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Department Head :"}),e.jsx("input",{type:"text",value:I,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:A,onChange:ge=>F(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>V(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Head 1 :"}),e.jsx("input",{type:"text",value:O,onChange:ge=>M(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Email 1 :"}),e.jsx("input",{type:"email",value:U,onChange:ge=>L(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Head 2 :"}),e.jsx("input",{type:"text",value:G,onChange:ge=>re(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Email 2 :"}),e.jsx("input",{type:"email",value:ye,onChange:ge=>K(ge.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:lt,disabled:ne,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:ne?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:ne,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})}),e.jsx(YZ,{isOpen:se,onClose:()=>we(!1),onSelect:bt,divisions:le,loading:We,error:je}),e.jsx(wr,{isOpen:Y,onClose:()=>E(!1),onSelect:Nt,employees:ve,loading:et,error:Qe}),e.jsx(Ac,{isOpen:P,onClose:()=>V(!1),onSelect:wt,devices:$e,loading:q,error:Ye})]})]})}),e.jsx(ls,{})]})}const gb="Division SetUp";function qZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(null),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState({}),ue=Te=>ee[Te]===!0;o.useEffect(()=>{oe()},[]);const oe=()=>{const Te=localStorage.getItem("loginPayload");if(Te)try{const Je=(JSON.parse(Te).permissions||[]).filter(Mt=>Ss(Mt.formName)==="DivisionSetUp"),pt={};Je.forEach(Mt=>{const Wt=Ss(Mt.accessTypeName);Wt&&(pt[Wt]=!0)}),Se(pt)}catch(Ee){console.error("Error parsing or decrypting payload",Ee)}},[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState("");o.useEffect(()=>{We(),Re(),et()},[]);const We=async()=>{Ce(!0),Ae("");try{const Te=await z.get("/Fs/Employment/DivisionSetUp");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.divID||"",code:pe.divCode||"",description:pe.divDesc||"",head:pe.divHead||"",headCode:pe.divHeadCode||"",deviceName:pe.deviceName||""}));Q(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load divisions";Ae(Ee),console.error("Error fetching divisions:",Te)}finally{Ce(!1)}},Re=async()=>{we(!0),V("");try{const Te=await z.get("/Maintenance/EmployeeMasterFile");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({empCode:pe.empCode||pe.code||"",name:`${pe.lName||""}, ${pe.fName||""} ${pe.mName||""}`.trim(),groupCode:pe.grpCode||""}));K(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load employees";V(Ee),console.error("Error fetching employees:",Te)}finally{we(!1)}},et=async()=>{E(!0),R("");try{const Te=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.id||"",code:pe.code||"",description:pe.description||""}));H(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load devices";R(Ee),console.error("Error fetching devices:",Te)}finally{E(!1)}};o.useEffect(()=>{const Te=Ee=>{Ee.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",Te),()=>{document.removeEventListener("keydown",Te)}},[t]);const B=()=>{l(!1),c(null),F(null),g(""),p(""),f(""),N(""),S(""),k(""),a(!0)},q=(Te,Ee)=>{l(!0),c(Ee),F(Te.id||null),g(Te.code),p(""),f(Te.description),N(Te.headCode),S(Te.head),k(Te.deviceName),a(!0)},Z=async Te=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete division ${Te.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/DivisionSetUp/${Te.id}`),await ts.log({accessType:"Delete",trans:`Deleted division ${Te.divCode}`,messages:`Division deleted: ${Te.divCode} - ${Te.divDesc}`,formName:gb}),await xe.fire({icon:"success",title:"Success",text:"Division deleted successfully.",timer:2e3,showConfirmButton:!1}),await We()}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to delete division";await xe.fire({icon:"error",title:"Error",text:Je}),console.error("Error deleting division:",pe)}},je=Te=>{g(Te),Te.length>10?p("Code maximum 10 characters"):p("")},De=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(le.some((Ee,pe)=>n&&i===pe?!1:Ee.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}M(!0);try{const Ee={divID:n&&A?parseInt(A):0,divCode:b,divDesc:v,divHead:C,divHeadCode:y,deviceName:I};n&&A?(await z.put(`/Fs/Employment/DivisionSetUp/${A}`,Ee),await ts.log({accessType:"Edit",trans:`Edited division ${Ee.divCode}`,messages:`Division updated: ${Ee.divCode} - ${Ee.divDesc}`,formName:gb}),await xe.fire({icon:"success",title:"Success",text:"Division updated successfully.",timer:2e3,showConfirmButton:!1}),await We()):(await z.post("/Fs/Employment/DivisionSetUp",Ee),await ts.log({accessType:"Add",trans:`Added division ${Ee.divCode}`,messages:`Division created: ${Ee.divCode} - ${Ee.divDesc}`,formName:gb}),await xe.fire({icon:"success",title:"Success",text:"Division created successfully.",timer:2e3,showConfirmButton:!1}),await We()),a(!1),g(""),p(""),f(""),N(""),S(""),k(""),F(null),l(!1),c(null)}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:pe}),console.error("Error submitting form:",Ee)}finally{M(!1)}},Qe=(Te,Ee)=>{N(Te),S(Ee),L(!1)},qe=(Te,Ee)=>{k(Ee),re(!1)},Ye=le.filter(Te=>Te.code.toLowerCase().includes(s.toLowerCase())||Te.description.toLowerCase().includes(s.toLowerCase())||Te.head.toLowerCase().includes(s.toLowerCase())||Te.deviceName.toLowerCase().includes(s.toLowerCase())),ht=Math.ceil(Ye.length/m),St=(u-1)*m,dt=St+m,Et=Ye.slice(St,dt);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Division Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational divisions with division head assignments and device configurations for effective management and time tracking across different business units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Division head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized division tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ue("Add")&&ue("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:B,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),ue("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:Te=>r(Te.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:ve?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading divisions..."})}):$e?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:$e})}):ue("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(ue("Edit")||ue("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Et.map((Te,Ee)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Te.code}),e.jsx("td",{className:"px-4 py-2",children:Te.description}),e.jsx("td",{className:"px-4 py-2",children:Te.head}),e.jsx("td",{className:"px-4 py-2",children:Te.deviceName}),(ue("Edit")||ue("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[ue("Edit")&&e.jsx("button",{onClick:()=>q(Te,Ee),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),ue("Edit")&&ue("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ue("Delete")&&e.jsx("button",{onClick:()=>Z(Te),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Ee))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ue("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ye.length===0?0:St+1," ","to ",Math.min(dt,Ye.length)," of"," ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Te=>Math.max(Te-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ht},(Te,Ee)=>Ee+1).map(Te=>e.jsx("button",{onClick:()=>h(Te),className:`px-3 py-1 rounded transition-colors ${u===Te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te},Te)),e.jsx("button",{onClick:()=>h(Te=>Math.min(Te+1,ht)),disabled:u===ht||ht===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Division":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Division Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:Te=>je(Te.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-40 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Te=>f(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:Te=>N(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>L(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Division Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:I,onChange:Te=>k(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:De,disabled:O,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:O?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:O,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:U,onClose:()=>L(!1),onSelect:Qe,employees:ye,loading:se,error:P}),e.jsx(Ac,{isOpen:G,onClose:()=>re(!1),onSelect:qe,devices:ne,loading:Y,error:D})]})]})}),e.jsx(ls,{})]})}const fb="Employee Designation SetUp";function XZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(""),[u,h]=o.useState(!1),[m,b]=o.useState(null),[g,w]=o.useState(1),p=100,[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(null),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(""),[P,V]=o.useState([]),[D,R]=o.useState(!1),[ee,Se]=o.useState(""),[ue,oe]=o.useState([]),[le,Q]=o.useState(!1),[ve,Ce]=o.useState(""),[$e,Ae]=o.useState({}),We=pe=>$e[pe]===!0;o.useEffect(()=>{Re()},[]);const Re=()=>{const pe=localStorage.getItem("loginPayload");if(pe)try{const Mt=(JSON.parse(pe).permissions||[]).filter($t=>Ss($t.formName)==="EmployeeDesignationSetup"),Wt={};Mt.forEach($t=>{const lt=Ss($t.accessTypeName);lt&&(Wt[lt]=!0)}),Ae(Wt)}catch(Je){console.error("Error parsing or decrypting payload",Je)}};o.useEffect(()=>{et()},[]);const et=async()=>{R(!0),Se("");try{const pe=await z.get("/Fs/Employment/JobLevelSetUp");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({id:pt.jobLevelID||"",code:pt.jobLevelCode||"",description:pt.jobLevelDesc||""}));V(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load divisions";Se(Je),console.error("Error fetching divisions:",pe)}finally{R(!1)}};o.useEffect(()=>{B()},[]);const B=async()=>{Q(!0),Ce("");try{const pe=await z.get("/Fs/Employment/DesignationSetUp");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({id:pt.desID||"",code:pt.desCode||"",description:pt.desDesc||"",jobLevelCode:pt.jobLevelCode||"",deviceName:pt.deviceName||""}));oe(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load divisions";Ce(Je),console.error("Error fetching Designation:",pe)}finally{Q(!1)}};o.useEffect(()=>{q()},[]);const q=async()=>{we(!0),E("");try{const pe=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({id:pt.id||"",code:pt.code||"",description:pt.description||""}));H(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load devices";E(Je),console.error("Error fetching devices:",pe)}finally{we(!1)}};o.useEffect(()=>{const pe=Je=>{Je.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[t]);const Z=()=>{h(!1),b(null),M(null),f(""),N(""),S(""),k(""),F(""),a(!0)},je=(pe,Je)=>{h(!0),b(Je),M(pe.id||null),f(pe.code),N(""),S(pe.description),k(pe.jobLevelCode),F(pe.deviceName),a(!0)},De=async pe=>{if(console.log(pe),(await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete designation ${pe.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/Designation/${pe.id}`),await ts.log({accessType:"Delete",trans:`Deleted designation ${pe.code}`,messages:`Designation deleted: ${pe.code} - ${pe.description}`,formName:fb}),await xe.fire({icon:"success",title:"Success",text:"Designation deleted successfully.",timer:2e3,showConfirmButton:!1}),await B()}catch(pt){const Mt=pt.response?.data?.message||pt.message||"Failed to delete designation";await xe.fire({icon:"error",title:"Error",text:Mt}),console.error("Error deleting designation:",pt)}},Qe=async()=>{if(!v.trim()||v.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ue.some((Je,pt)=>u&&m===pt?!1:Je.code.toLowerCase()===v.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const Je={desID:u&&O?parseInt(O):0,desCode:v,desDesc:C,jobLevelCode:I,deviceName:A};u&&O?(await z.put(`/Fs/Employment/DesignationSetUp/${O}`,Je),await ts.log({accessType:"Edit",trans:`Edited designation ${Je.desCode}`,messages:`Designation updated: ${Je.desCode} - ${Je.desDesc}`,formName:fb}),await xe.fire({icon:"success",title:"Success",text:"Designation updated successfully.",timer:2e3,showConfirmButton:!1}),await B()):(await z.post("/Fs/Employment/DesignationSetUp",Je),await ts.log({accessType:"Add",trans:`Added designation ${Je.desCode}`,messages:`Designation created: ${Je.desCode} - ${Je.desDesc}`,formName:fb}),await xe.fire({icon:"success",title:"Success",text:"Designation created successfully.",timer:2e3,showConfirmButton:!1}),await B()),a(!1),f(""),N(""),S(""),k(""),F(""),M(null),h(!1),b(null)}catch(Je){const pt=Je.response?.data?.message||Je.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:pt}),console.error("Error submitting form:",Je)}finally{L(!1)}},qe=(pe,Je)=>{k(pe),re(!1)},Ye=(pe,Je)=>{F(Je),K(!1)},ht=ue.filter(pe=>pe.code.toLowerCase().includes(i.toLowerCase())||pe.description.toLowerCase().includes(i.toLowerCase())||pe.jobLevelCode.toLowerCase().includes(i.toLowerCase())||pe.deviceName.toLowerCase().includes(i.toLowerCase())),St=P.filter(pe=>pe.code.toLowerCase().includes(s.toLowerCase())||pe.description.toLowerCase().includes(s.toLowerCase())),dt=Math.ceil(ht.length/p),Et=(g-1)*p,Te=Et+p,Ee=ht.slice(Et,Te);return o.useEffect(()=>{w(1)},[i]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Designation Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure employee designation codes and descriptions for job positions, linking them to job level classifications and device assignments for comprehensive employee role management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Designation code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Job level code assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Position description tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[We("Add")&&We("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Z,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),We("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:pe=>c(pe.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:le?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading designations..."})}):ve?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:ve})}):We("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Job Level Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(We("Edit")||We("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Ee.map((pe,Je)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:pe.code}),e.jsx("td",{className:"px-4 py-2",children:pe.description}),e.jsx("td",{className:"px-4 py-2",children:pe.jobLevelCode}),e.jsx("td",{className:"px-4 py-2",children:pe.deviceName}),(We("Edit")||We("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[We("Edit")&&e.jsx("button",{onClick:()=>je(pe,Je),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),We("Edit")&&We("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),We("Delete")&&e.jsx("button",{onClick:()=>De(pe),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Je))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),We("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing"," ",ht.length===0?0:Et+1," to"," ",Math.min(Te,ht.length)," of"," ",ht.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(pe=>Math.max(pe-1,1)),disabled:g===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:dt},(pe,Je)=>Je+1).map(pe=>e.jsx("button",{onClick:()=>w(pe),className:`px-3 py-1 rounded transition-colors ${g===pe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:pe},pe)),e.jsx("button",{onClick:()=>w(pe=>Math.min(pe+1,dt)),disabled:g===dt||dt===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:u?"Edit Designation":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Designation Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:v,onChange:pe=>f(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:C,onChange:pe=>S(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Job Level Code :"}),e.jsx("input",{type:"text",value:I,onChange:pe=>k(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:A,onChange:pe=>F(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>K(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Qe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:u?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})}),G&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:()=>re(!1)}),e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>re(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Job Level Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:pe=>r(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description"})]})}),e.jsx("tbody",{children:St.map((pe,Je)=>e.jsxs("tr",{onClick:()=>qe(pe.code,pe.description),className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:pe.code}),e.jsx("td",{className:"px-4 py-2 text-sm",children:pe.description})]},Je))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing 1 to ",St.length," of"," ",St.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 text-sm",children:"Next"})]})]})]})]})})]}),e.jsx(Ac,{isOpen:ye,onClose:()=>K(!1),onSelect:Ye,devices:ne,loading:se,error:Y})]})]})}),e.jsx(ls,{})]})}const yb="Employee Status SetUp";function JZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=10,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(null),[y,N]=o.useState(!1),[C,S]=o.useState([]),[I,k]=o.useState(!1),[A,F]=o.useState(""),[O,M]=o.useState({}),U=E=>O[E]===!0;o.useEffect(()=>{L()},[]);const L=()=>{const E=localStorage.getItem("loginPayload");if(E)try{const D=(JSON.parse(E).permissions||[]).filter(ee=>Ss(ee.formName)==="EmployeeStatusSetUp"),R={};D.forEach(ee=>{const Se=Ss(ee.accessTypeName);Se&&(R[Se]=!0)}),M(R)}catch(P){console.error("Error parsing or decrypting payload",P)}};o.useEffect(()=>{G()},[]);const G=async()=>{k(!0),F("");try{const E=await z.get("/Fs/Employment/EmployeeStatusSetUp");if(E.status===200&&E.data){const P=E.data.map(V=>({id:V.empStatID,code:V.empStatCode||"",description:V.empStatDesc||""}));S(P)}}catch(E){const P=E.response?.data?.message||E.message||"Failed to load statuses";F(P)}finally{k(!1)}};o.useEffect(()=>{const E=P=>{P.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[t]);const re=()=>{l(!1),f(null),g(""),p(""),a(!0)},ye=(E,P)=>{l(!0),c(P),f(E.id),g(E.code),p(E.description),a(!0)},K=async E=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete status ${E.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"})).isConfirmed)try{await z.delete(`/Fs/Employment/EmployeeStatusSetUp/${E.id}`),await ts.log({accessType:"Delete",trans:`Deleted status ${E.code}`,messages:`Status deleted: ${E.code} - ${E.description}`,formName:yb}),await xe.fire({icon:"success",title:"Deleted",text:"Status deleted successfully.",timer:1500,showConfirmButton:!1}),G()}catch(V){xe.fire("Error",V.response?.data?.message||"Failed to delete","error")}},ne=async()=>{if(!b.trim()){xe.fire("Warning","Please enter a Code.","warning");return}if(C.some((P,V)=>n&&i===V?!1:P.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const P={empStatID:n&&v?v:0,empStatCode:b,empStatDesc:w};n&&v?(await z.put(`/Fs/Employment/EmployeeStatusSetUp/${v}`,P),await ts.log({accessType:"Edit",trans:`Edited status ${P.empStatCode}`,messages:`Status updated: ${P.empStatCode} - ${P.empStatDesc}`,formName:yb})):(await z.post("/Fs/Employment/EmployeeStatusSetUp",P),await ts.log({accessType:"Add",trans:`Added status ${P.empStatCode}`,messages:`Status created: ${P.empStatCode} - ${P.empStatDesc}`,formName:yb})),await xe.fire({icon:"success",title:"Success",text:`Status ${n?"updated":"created"} successfully.`,timer:1500,showConfirmButton:!1}),a(!1),G()}catch(P){xe.fire("Error",P.response?.data?.message||"An error occurred","error")}finally{N(!1)}},H=C.filter(E=>E.code.toLowerCase().includes(s.toLowerCase())||E.description.toLowerCase().includes(s.toLowerCase())),se=Math.ceil(H.length/m),we=(u-1)*m,Y=H.slice(we,we+m);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Status Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define employee status classifications for tracking employment types."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-gray-600",children:"Employment status code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsx("span",{className:"text-gray-600",children:"Status description tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[U("Add")&&U("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:re,children:[e.jsx(Es,{className:"w-4 h-4"})," Create New"]}),U("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:E=>r(E.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:I?e.jsx("div",{className:"text-center py-10 text-gray-500",children:"Loading statuses..."}):A?e.jsx("div",{className:"p-4 bg-red-50 text-red-700 border border-red-200 rounded",children:A}):U("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(U("Edit")||U("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Y.map((E,P)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:E.code}),e.jsx("td",{className:"px-4 py-2",children:E.description}),(U("Edit")||U("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[U("Edit")&&e.jsx("button",{onClick:()=>ye(E,P),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),U("Delete")&&e.jsx("button",{onClick:()=>K(E),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},E.id||P))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),U("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",H.length===0?0:we+1," ","to"," ",Math.min(we+m,H.length)," ","of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{disabled:u===1,onClick:()=>h(E=>E-1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Previous"}),Array.from({length:se},(E,P)=>P+1).map(E=>e.jsx("button",{onClick:()=>h(E),className:`px-3 py-1 rounded ${u===E?"bg-blue-600 text-white":"border border-gray-300"}`,children:E},E)),e.jsx("button",{disabled:u===se||se===0,onClick:()=>h(E=>E+1),className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>!y&&a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Employee Status":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Employee Status Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:E=>g(E.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm outline-none"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:w,onChange:E=>p(E.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 text-sm outline-none"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:ne,disabled:y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm disabled:opacity-50",children:y?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(ls,{})]})}const bb="Group SetUp";function QZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(null),[A,F]=o.useState(!1),[O,M]=o.useState(!1),[U,L]=o.useState([]),[G,re]=o.useState(!1),[ye,K]=o.useState(""),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(""),[P,V]=o.useState({}),D=B=>P[B]===!0;o.useEffect(()=>{R()},[]);const R=()=>{const B=localStorage.getItem("loginPayload");if(B)try{const je=(JSON.parse(B).permissions||[]).filter(Qe=>Ss(Qe.formName)==="GroupScheduleSetUp"),De={};je.forEach(Qe=>{const qe=Ss(Qe.accessTypeName);qe&&(De[qe]=!0)}),V(De)}catch(q){console.error("Error parsing or decrypting payload",q)}};o.useEffect(()=>{ee()},[]);const ee=async()=>{we(!0),E("");try{const B=await z.get("/Fs/Employment/GroupSetUp");if(B.status===200&&B.data){const q=B.data.map(Z=>({id:Z.id||"",code:Z.grpCode||"",description:Z.grpDesc||"",head:Z.grpHead||"",headCode:Z.grpHeadCode||""}));H(q)}}catch(B){const q=B.response?.data?.message||B.message||"Failed to load groups";E(q),console.error("Error fetching groups:",B)}finally{we(!1)}};o.useEffect(()=>{Se()},[]);const Se=async()=>{re(!0),K("");try{const B=await z.get("/Maintenance/EmployeeMasterFile");if(B.status===200&&B.data){const q=B.data.map(Z=>({empCode:Z.empCode||Z.code||"",name:`${Z.lName||""}, ${Z.fName||""} ${Z.mName||""}`.trim(),groupCode:Z.grpCode||""}));L(q)}}catch(B){const q=B.response?.data?.message||B.message||"Failed to load employees";K(q),console.error("Error fetching employees:",B)}finally{re(!1)}};o.useEffect(()=>{const B=q=>{q.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}},[t]);const ue=()=>{l(!1),c(null),k(null),g(""),p(""),f(""),N(""),S(""),a(!0)},oe=(B,q)=>{l(!0),c(q),k(B.id||null),g(B.code),p(""),f(B.description),N(B.headCode),S(B.head),a(!0)},le=async B=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete group ${B.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/GroupSetUp/${B.id}`),await ts.log({accessType:"Delete",trans:`Deleted group ${B.code}`,messages:`Group deleted: ${B.code} - ${B.description}`,formName:bb}),await xe.fire({icon:"success",title:"Success",text:"Group deleted successfully.",timer:2e3,showConfirmButton:!1}),await ee()}catch(Z){const je=Z.response?.data?.message||Z.message||"Failed to delete group";await xe.fire({icon:"error",title:"Error",text:je}),console.error("Error deleting group:",Z)}},Q=B=>{g(B),B.length>10?p("Code maximum 10 characters"):p("")},ve=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ne.some((q,Z)=>n&&i===Z?!1:q.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}F(!0);try{const q={id:n&&I?parseInt(I):0,grpCode:b,grpDesc:v,grpHead:C,grpHeadCode:y};console.log("Submitting payload:",q),n&&I?(await z.put(`/Fs/Employment/GroupSetUp/${I}`,q),await ts.log({accessType:"Edit",trans:`Edited group ${q.grpCode}`,messages:`Group updated: ${q.grpCode} - ${q.grpDesc}`,formName:bb}),await xe.fire({icon:"success",title:"Success",text:"Group updated successfully.",timer:2e3,showConfirmButton:!1}),await ee()):(await z.post("/Fs/Employment/GroupSetUp",q),await ts.log({accessType:"Add",trans:`Added group ${q.grpCode}`,messages:`Group created: ${q.grpCode} - ${q.grpDesc}`,formName:bb}),await xe.fire({icon:"success",title:"Success",text:"Group created successfully.",timer:2e3,showConfirmButton:!1}),await ee()),a(!1),g(""),p(""),f(""),N(""),S(""),k(null),l(!1),c(null)}catch(q){const Z=q.response?.data?.message||q.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Z}),console.error("Error submitting form:",q)}finally{F(!1)}},Ce=(B,q)=>{N(B),S(q),M(!1)},$e=ne.filter(B=>B.code.toLowerCase().includes(s.toLowerCase())||B.description.toLowerCase().includes(s.toLowerCase())||B.head.toLowerCase().includes(s.toLowerCase())),Ae=Math.ceil($e.length/m),We=(u-1)*m,Re=We+m,et=$e.slice(We,Re);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Group Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure work groups with designated group heads for effective team organization and time tracking management across different employee teams and units."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Team organization tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Workforce grouping system"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[D("Add")&&D("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:ue,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),D("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:B=>r(B.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:se?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading groups..."})}):Y?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:Y})}):D("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),(D("Edit")||D("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:et.map((B,q)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:B.code}),e.jsx("td",{className:"px-4 py-2",children:B.description}),e.jsx("td",{className:"px-4 py-2",children:B.head}),(D("Edit")||D("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[D("Edit")&&e.jsx("button",{onClick:()=>oe(B,q),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),D("Edit")&&D("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),D("Delete")&&e.jsx("button",{onClick:()=>le(B),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},q))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),D("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",$e.length===0?0:We+1," to"," ",Math.min(Re,$e.length)," of"," ",$e.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(B=>Math.max(B-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Ae},(B,q)=>q+1).map(B=>e.jsx("button",{onClick:()=>h(B),className:`px-3 py-1 rounded transition-colors ${u===B?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:B},B)),e.jsx("button",{onClick:()=>h(B=>Math.min(B+1,Ae)),disabled:u===Ae||Ae===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Group":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Group Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:B=>Q(B.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:B=>f(B.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:B=>N(B.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>M(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:ve,disabled:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:A?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:A,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:O,onClose:()=>M(!1),onSelect:Ce,employees:U,loading:G,error:ye})]})]})}),e.jsx(ls,{})]})}const vb="Job Level SetUp";function ZZ(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(null),[C,S]=o.useState(!1),[I,k]=o.useState([]),[A,F]=o.useState(!1),[O,M]=o.useState(""),[U,L]=o.useState({}),G=D=>U[D]===!0;o.useEffect(()=>{re()},[]);const re=()=>{const D=localStorage.getItem("loginPayload");if(D)try{const Se=(JSON.parse(D).permissions||[]).filter(oe=>Ss(oe.formName)==="JobLevelSetup"),ue={};Se.forEach(oe=>{const le=Ss(oe.accessTypeName);le&&(ue[le]=!0)}),L(ue)}catch(R){console.error("Error parsing or decrypting payload",R)}};o.useEffect(()=>{ye()},[]);const ye=async()=>{F(!0),M("");try{const D=await z.get("/Fs/Employment/JobLevelSetUp");if(D.status===200&&D.data){const R=D.data.map(ee=>({id:ee.jobLevelID||"",code:ee.jobLevelCode||"",description:ee.jobLevelDesc||""}));k(R)}}catch(D){const R=D.response?.data?.message||D.message||"Failed to load job level";M(R),console.error("Error fetching job level:",D)}finally{F(!1)}};o.useEffect(()=>{const D=R=>{R.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[t]);const K=()=>{l(!1),c(null),N(null),g(""),p(""),f(""),a(!0)},ne=(D,R)=>{l(!0),c(R),N(D.id||null),g(D.code),p(""),f(D.description),a(!0)},H=async D=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete joblevel ${D.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/JobLevelSetUp/${D.divID}`),await ts.log({accessType:"Delete",trans:`Deleted job level ${D.code}`,messages:`Job Level deleted: ${D.code} - ${D.jobLevelDesc}`,formName:vb}),await xe.fire({icon:"success",title:"Success",text:"Job Level deleted successfully.",timer:2e3,showConfirmButton:!1}),await ye()}catch(ee){const Se=ee.response?.data?.message||ee.message||"Failed to delete job level";await xe.fire({icon:"error",title:"Error",text:Se}),console.error("Error deleting job level:",ee)}},se=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(I.some((R,ee)=>n&&i===ee?!1:R.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}S(!0);try{const R={jobLevelID:n&&y?parseInt(y):0,jobLevelCode:b,jobLevelDesc:v};n&&y?(await z.put(`/Fs/Employment/JobLevelSetUp/${y}`,R),await ts.log({accessType:"Edit",trans:`Edited job level ${R.jobLevelCode}`,messages:`Job Level updated: ${R.jobLevelCode} - ${R.jobLevelDesc}`,formName:vb}),await xe.fire({icon:"success",title:"Success",text:"Job Level updated successfully.",timer:2e3,showConfirmButton:!1}),await ye()):(await z.post("/Fs/Employment/JobLevelSetUp",R),await ts.log({accessType:"Add",trans:`Added job level ${R.jobLevelCode}`,messages:`Job Level created: ${R.jobLevelCode} - ${R.jobLevelDesc}`,formName:vb}),await xe.fire({icon:"success",title:"Success",text:"Job Level created successfully.",timer:2e3,showConfirmButton:!1}),await ye()),a(!1),g(""),p(""),f(""),N(null),l(!1),c(null)}catch(R){const ee=R.response?.data?.message||R.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:ee}),console.error("Error submitting form:",R)}finally{S(!1)}},we=I.filter(D=>D.code.toLowerCase().includes(s.toLowerCase())||D.description.toLowerCase().includes(s.toLowerCase())),Y=Math.ceil(we.length/m),E=(u-1)*m,P=E+m,V=we.slice(E,P);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Job Level Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define job level classifications for organizational hierarchy management including staff levels, managerial positions, and executive roles for effective workforce structure."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Job level code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Position level description"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hierarchy classification system"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Organizational level tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[G("Add")&&G("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:K,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),G("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:D=>r(D.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:A?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading job levels..."})}):O?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:O})}):G("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(G("Edit")||G("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:V.map((D,R)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:D.code}),e.jsx("td",{className:"px-4 py-2",children:D.description}),(G("Edit")||G("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[G("Edit")&&e.jsx("button",{onClick:()=>ne(D,R),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),(G("Edit")||G("Delete"))&&e.jsx("span",{className:"text-gray-300",children:"|"}),G("Delete")&&e.jsx("button",{onClick:()=>H(D.code),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},R))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),G("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",we.length===0?0:E+1," to"," ",Math.min(P,we.length)," of"," ",we.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(D=>Math.max(D-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Y},(D,R)=>R+1).map(D=>e.jsx("button",{onClick:()=>h(D),className:`px-3 py-1 rounded transition-colors ${u===D?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:D},D)),e.jsx("button",{onClick:()=>h(D=>Math.min(D+1,Y)),disabled:u===Y||Y===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Job Level":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Job Level Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:D=>g(D.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:D=>f(D.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:se,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(ls,{})]})}const wb="Location SetUp";function eee(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(null),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState([]),[ue,oe]=o.useState(!1),[le,Q]=o.useState(""),[ve,Ce]=o.useState({}),$e=Ee=>ve[Ee]===!0;o.useEffect(()=>{Ae()},[]);const Ae=()=>{const Ee=localStorage.getItem("loginPayload");if(Ee)try{const pt=(JSON.parse(Ee).permissions||[]).filter(Wt=>Ss(Wt.formName)==="LocationSetUp"),Mt={};pt.forEach(Wt=>{const $t=Ss(Wt.accessTypeName);$t&&(Mt[$t]=!0)}),Ce(Mt)}catch(pe){console.error("Error parsing or decrypting payload",pe)}};o.useEffect(()=>{We()},[]);const We=async()=>{oe(!0),Q("");try{const Ee=await z.get("/Fs/Employment/LocationSetUp");if(Ee.status===200&&Ee.data){const pe=Ee.data.map(Je=>({id:Je.locID||"",code:Je.locationCode||"",description:Je.locationDesc||"",head:Je.head||"",headCode:Je.headCode||"",acctCode:Je.acctCode||"",createdBy:Je.createdBy||"",createdDate:Je.createdDate||"",editedBy:Je.editedBy||"",editedDate:Je.editedDate||"",deviceName:Je.deviceName||""}));Se(pe)}}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"Failed to load locations";Q(pe),console.error("Error fetching locations:",Ee)}finally{oe(!1)}};o.useEffect(()=>{Re()},[]);const Re=async()=>{we(!0),V("");try{const Ee=await z.get("/Maintenance/EmployeeMasterFile");if(Ee.status===200&&Ee.data){const pe=Ee.data.map(Je=>({empCode:Je.empCode||Je.code||"",name:`${Je.lName||""}, ${Je.fName||""} ${Je.mName||""}`.trim(),groupCode:Je.grpCode||""}));K(pe)}}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"Failed to load employees";V(pe),console.error("Error fetching employees:",Ee)}finally{we(!1)}};o.useEffect(()=>{et()},[]);const et=async()=>{E(!0),R("");try{const Ee=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(Ee.status===200&&Ee.data){const pe=Ee.data.map(Je=>({id:Je.id||"",code:Je.code||"",description:Je.description||""}));H(pe)}}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"Failed to load devices";R(pe),console.error("Error fetching devices:",Ee)}finally{E(!1)}};o.useEffect(()=>{const Ee=pe=>{pe.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",Ee),()=>{document.removeEventListener("keydown",Ee)}},[t]);const B=()=>{l(!1),c(null),F(null),g(""),p(""),f(""),N(""),S(""),k(""),a(!0)},q=(Ee,pe)=>{l(!0),c(pe),F(Ee.id||null),g(Ee.code),p(""),f(Ee.description),N(Ee.headCode),S(Ee.head),k(Ee.deviceName),a(!0)},Z=async Ee=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete location ${Ee.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/LocationSetUp/${Ee.id}`),await ts.log({accessType:"Delete",trans:`Deleted location ${Ee.code}`,messages:`Location deleted: ${Ee.code} - ${Ee.locationDesc}`,formName:wb}),await xe.fire({icon:"success",title:"Success",text:"Location deleted successfully.",timer:2e3,showConfirmButton:!1}),await We()}catch(Je){const pt=Je.response?.data?.message||Je.message||"Failed to delete location";await xe.fire({icon:"error",title:"Error",text:pt}),console.error("Error deleting location:",Je)}},je=Ee=>{g(Ee),Ee.length>10?p("Code maximum 10 characters"):p("")},De=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ee.some((pe,Je)=>n&&i===Je?!1:pe.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}M(!0);try{const pe=localStorage.getItem("userData"),Je=pe?JSON.parse(pe):{},pt=Je.userName||Je.username||Je.name||"Guest",Mt={id:n&&A?parseInt(A):0,locationCode:b,locationDesc:v,head:C,headCode:y,acctCode:"",deviceName:I,createdBy:n?null:pt,createdDate:n?null:new Date().toISOString(),editedBy:n?pt:null,editedDate:n?new Date().toISOString():null};n&&A?(await z.put(`/Fs/Employment/LocationSetUp/${A}`,Mt),await ts.log({accessType:"Edit",trans:`Edited location ${Mt.locationCode}`,messages:`Location updated: ${Mt.locationCode} - ${Mt.locationDesc}`,formName:wb}),await xe.fire({icon:"success",title:"Success",text:"Location updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Employment/LocationSetUp",Mt),await ts.log({accessType:"Add",trans:`Added location ${Mt.locationCode}`,messages:`Location created: ${Mt.locationCode} - ${Mt.locationDesc}`,formName:wb}),await xe.fire({icon:"success",title:"Success",text:"Location created successfully.",timer:2e3,showConfirmButton:!1})),await We(),a(!1),Qe()}catch(pe){const Je=pe.response?.data?.message||pe.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Je}),console.error("Error submitting form:",pe)}finally{M(!1)}},Qe=()=>{g(""),p(""),f(""),N(""),S(""),k(""),F(null),l(!1),c(null)},qe=(Ee,pe)=>{N(Ee),S(pe),L(!1)},Ye=(Ee,pe)=>{k(pe),re(!1)},ht=ee.filter(Ee=>Ee.code.toLowerCase().includes(s.toLowerCase())||Ee.description.toLowerCase().includes(s.toLowerCase())||Ee.head.toLowerCase().includes(s.toLowerCase())||Ee.deviceName.toLowerCase().includes(s.toLowerCase())),St=Math.ceil(ht.length/m),dt=(u-1)*m,Et=dt+m,Te=ht.slice(dt,Et);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Location Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure location designations with assigned heads and device names for effective geographical workforce tracking and time management across different office sites and branches."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Geographic site tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[$e("Add")&&$e("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:B,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),$e("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:Ee=>r(Ee.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:ue?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading locations..."})}):le?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:le})}):$e("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),($e("Edit")||$e("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Te.map((Ee,pe)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Ee.code}),e.jsx("td",{className:"px-4 py-2",children:Ee.description}),e.jsx("td",{className:"px-4 py-2",children:Ee.head}),e.jsx("td",{className:"px-4 py-2",children:Ee.deviceName}),($e("Edit")||$e("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[$e("Edit")&&e.jsx("button",{onClick:()=>q(Ee,pe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),$e("Edit")&&$e("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),$e("Delete")&&e.jsx("button",{onClick:()=>Z(Ee),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},pe))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),$e("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",ht.length===0?0:dt+1," ","to ",Math.min(Et,ht.length)," of"," ",ht.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Ee=>Math.max(Ee-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:St},(Ee,pe)=>pe+1).map(Ee=>e.jsx("button",{onClick:()=>h(Ee),className:`px-3 py-1 rounded transition-colors ${u===Ee?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ee},Ee)),e.jsx("button",{onClick:()=>h(Ee=>Math.min(Ee+1,St)),disabled:u===St||St===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Location":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Location Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:Ee=>je(Ee.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Ee=>f(Ee.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:Ee=>N(Ee.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>L(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:I,onChange:Ee=>k(Ee.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:De,disabled:O,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:O?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:O,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:U,onClose:()=>L(!1),onSelect:qe,employees:ye,loading:se,error:P}),e.jsx(Ac,{isOpen:G,onClose:()=>re(!1),onSelect:Ye,devices:ne,loading:Y,error:D})]})]})}),e.jsx(ls,{})]})}const Nb="Pay House SetUp";function tee(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(null),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState(!1),[D,R]=o.useState(""),[ee,Se]=o.useState(""),[ue,oe]=o.useState({}),le=pe=>ue[pe]===!0;o.useEffect(()=>{Q()},[]);const Q=()=>{const pe=localStorage.getItem("loginPayload");if(pe)try{const Mt=(JSON.parse(pe).permissions||[]).filter($t=>Ss($t.formName)==="LineSetUp"),Wt={};Mt.forEach($t=>{const lt=Ss($t.accessTypeName);lt&&(Wt[lt]=!0)}),oe(Wt)}catch(Je){console.error("Error parsing or decrypting payload",Je)}},[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState("");o.useEffect(()=>{et()},[]);const et=async()=>{Ae(!0),Re("");try{const pe=await z.get("/Fs/Employment/PayHouseSetUp");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({id:pt.lineID||"",code:pt.lineCode||"",description:pt.lineDesc||"",head:pt.head||"",headCode:pt.headCode||"",position:pt.position||"",deviceName:pt.deviceName||""}));Ce(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load pay houses";Re(Je),console.error("Error fetching pay houses:",pe)}finally{Ae(!1)}};o.useEffect(()=>{B()},[]);const B=async()=>{E(!0),R("");try{const pe=await z.get("/Maintenance/EmployeeMasterFile");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({empCode:pt.empCode||pt.code||"",name:`${pt.lName||""}, ${pt.fName||""} ${pt.mName||""}`.trim(),groupCode:pt.grpCode||""}));H(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load employees";R(Je),console.error("Error fetching employees:",pe)}finally{E(!1)}};o.useEffect(()=>{q()},[]);const q=async()=>{V(!0),Se("");try{const pe=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({id:pt.id||"",code:pt.code||"",description:pt.description||""}));we(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load devices";Se(Je),console.error("Error fetching devices:",pe)}finally{V(!1)}};o.useEffect(()=>{const pe=Je=>{Je.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[t]);const Z=()=>{l(!1),c(null),M(null),g(""),p(""),f(""),N(""),S(""),k(""),F(""),a(!0)},je=(pe,Je)=>{l(!0),c(Je),M(pe.id||null),g(pe.code),p(""),f(pe.description),N(pe.headCode),S(pe.head),k(pe.position),F(pe.deviceName),a(!0)},De=async pe=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete pay house ${pe.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/PayHouseSetUp/${pe.id}`),await ts.log({accessType:"Delete",trans:`Deleted pay house ${pe.code}`,messages:`Pay house deleted: ${pe.code} - ${pe.lineDesc}`,formName:Nb}),await xe.fire({icon:"success",title:"Success",text:"Pay house deleted successfully.",timer:2e3,showConfirmButton:!1}),await et()}catch(pt){const Mt=pt.response?.data?.message||pt.message||"Failed to delete pay house";await xe.fire({icon:"error",title:"Error",text:Mt}),console.error("Error deleting pay house:",pt)}},Qe=pe=>{g(pe),pe.length>10?p("Code maximum 10 characters"):p("")},qe=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ve.some((Je,pt)=>n&&i===pt?!1:Je.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const Je={lineID:n&&O?parseInt(O):0,lineCode:b,lineDesc:v,head:C,headCode:y,position:I,deviceName:A};n&&O?(await z.put(`/Fs/Employment/PayHouseSetUp/${O}`,Je),await ts.log({accessType:"Edit",trans:`Edited pay house ${Je.lineCode}`,messages:`Pay house updated: ${Je.lineCode} - ${Je.lineDesc}`,formName:Nb}),await xe.fire({icon:"success",title:"Success",text:"Pay house updated successfully.",timer:2e3,showConfirmButton:!1}),await et()):(await z.post("/Fs/Employment/PayHouseSetUp",Je),await ts.log({accessType:"Add",trans:`Added pay house ${Je.lineCode}`,messages:`Pay house created: ${Je.lineCode} - ${Je.lineDesc}`,formName:Nb}),await xe.fire({icon:"success",title:"Success",text:"Pay house created successfully.",timer:2e3,showConfirmButton:!1}),await et()),a(!1),g(""),p(""),f(""),N(""),S(""),k(""),F(""),M(null),l(!1),c(null)}catch(Je){const pt=Je.response?.data?.message||Je.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:pt}),console.error("Error submitting form:",Je)}finally{L(!1)}},Ye=(pe,Je)=>{N(pe),S(Je),re(!1)},ht=(pe,Je)=>{F(Je),K(!1)},St=ve.filter(pe=>pe.code.toLowerCase().includes(s.toLowerCase())||pe.description.toLowerCase().includes(s.toLowerCase())||pe.head.toLowerCase().includes(s.toLowerCase())||pe.position.toLowerCase().includes(s.toLowerCase())||pe.deviceName.toLowerCase().includes(s.toLowerCase())),dt=Math.ceil(St.length/m),Et=(u-1)*m,Te=Et+m,Ee=St.slice(Et,Te);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Pay House Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage pay house classifications with assigned heads and device configurations for effective payroll processing and timekeeping management across different payment groups and locations."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pay house code and description"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Pay house head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Payroll group organization"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[le("Add")&&le("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Z,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),le("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:pe=>r(pe.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:$e?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading pay houses..."})}):We?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:We})}):le("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Position"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(le("Edit")||le("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Ee.map((pe,Je)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:pe.code}),e.jsx("td",{className:"px-4 py-2",children:pe.description}),e.jsx("td",{className:"px-4 py-2",children:pe.head}),e.jsx("td",{className:"px-4 py-2",children:pe.position}),e.jsx("td",{className:"px-4 py-2",children:pe.deviceName}),(le("Edit")||le("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[le("Edit")&&e.jsx("button",{onClick:()=>je(pe,Je),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),le("Edit")&&le("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),le("Delete")&&e.jsx("button",{onClick:()=>De(pe),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Je))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),le("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",St.length===0?0:Et+1," ","to ",Math.min(Te,St.length)," of"," ",St.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(pe=>Math.max(pe-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:dt},(pe,Je)=>Je+1).map(pe=>e.jsx("button",{onClick:()=>h(pe),className:`px-3 py-1 rounded transition-colors ${u===pe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:pe},pe)),e.jsx("button",{onClick:()=>h(pe=>Math.min(pe+1,dt)),disabled:u===dt||dt===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Pay House":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Pay House Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:pe=>Qe(pe.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:pe=>f(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:pe=>N(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Position :"}),e.jsx("input",{type:"text",value:I,onChange:pe=>k(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:A,onChange:pe=>F(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>K(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:qe,disabled:U,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:U?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:U,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:G,onClose:()=>re(!1),onSelect:Ye,employees:ne,loading:Y,error:D}),e.jsx(Ac,{isOpen:ye,onClose:()=>K(!1),onSelect:ht,devices:se,loading:P,error:ee})]})]})}),e.jsx(ls,{})]})}const jb="Online Approval SetUp";function see(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(null),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState({}),ue=Te=>ee[Te]===!0;o.useEffect(()=>{oe()},[]);const oe=()=>{const Te=localStorage.getItem("loginPayload");if(Te)try{const Je=(JSON.parse(Te).permissions||[]).filter(Mt=>Ss(Mt.formName)==="OnlineApprovalSetup"),pt={};Je.forEach(Mt=>{const Wt=Ss(Mt.accessTypeName);Wt&&(pt[Wt]=!0)}),Se(pt)}catch(Ee){console.error("Error parsing or decrypting payload",Ee)}},[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState("");o.useEffect(()=>{We()},[]);const We=async()=>{Ce(!0),Ae("");try{const Te=await z.get("/Fs/Employment/OnlineApprovalSetUp");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.id||"",code:pe.onlineAppCode||"",description:pe.onlineAppDesc||"",head:pe.onlineAppMngr||"",headCode:pe.onlineAppMngr||"",deviceName:pe.deviceName||"",createdBy:pe.createdBy||"",createdDate:pe.createdDate||"",editedBy:pe.editedBy||"",editedDate:pe.editedDate||""}));Q(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load online approvals";Ae(Ee),console.error("Error fetching online approvals:",Te)}finally{Ce(!1)}};o.useEffect(()=>{Re()},[]);const Re=async()=>{we(!0),V("");try{const Te=await z.get("/Maintenance/EmployeeMasterFile");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({empCode:pe.empCode||pe.code||"",name:`${pe.lName||""}, ${pe.fName||""} ${pe.mName||""}`.trim(),groupCode:pe.grpCode||""}));K(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load employees";V(Ee),console.error("Error fetching employees:",Te)}finally{we(!1)}};o.useEffect(()=>{et()},[]);const et=async()=>{E(!0),R("");try{const Te=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.id||"",code:pe.code||"",description:pe.description||""}));H(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load devices";R(Ee),console.error("Error fetching devices:",Te)}finally{E(!1)}};o.useEffect(()=>{const Te=Ee=>{Ee.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",Te),()=>{document.removeEventListener("keydown",Te)}},[t]);const B=()=>{l(!1),c(null),F(null),g(""),p(""),f(""),N(""),S(""),k(""),a(!0)},q=(Te,Ee)=>{l(!0),c(Ee),F(Te.id||null),g(Te.code),p(""),f(Te.description),N(Te.headCode),S(Te.head),k(Te.deviceName),a(!0)},Z=async Te=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete online approval ${Te.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/OnlineApprovalSetUp/${Te.id}`),await ts.log({accessType:"Delete",trans:`Deleted online approval ${Te.code}`,messages:`Online approval deleted: ${Te.code} - ${Te.onlineAppDesc}`,formName:jb}),await xe.fire({icon:"success",title:"Success",text:"Online approval deleted successfully.",timer:2e3,showConfirmButton:!1}),await We()}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to delete online approval";await xe.fire({icon:"error",title:"Error",text:Je}),console.error("Error deleting online approval:",pe)}},je=Te=>{g(Te),Te.length>10?p("Code maximum 10 characters"):p("")},De=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(le.some((Ee,pe)=>n&&i===pe?!1:Ee.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}M(!0);try{const Ee=localStorage.getItem("userData"),pe=Ee?JSON.parse(Ee):{},Je=pe.userName||pe.username||pe.name||"Guest",pt={id:n&&A?parseInt(A):0,onlineAppCode:b,onlineAppDesc:v,onlineAppMngr:y,createdBy:n?null:Je,createdDate:n?null:new Date().toISOString(),editedBy:n?Je:null,editedDate:n?new Date().toISOString():null,deviceName:I};n&&A?(await z.put(`/Fs/Employment/OnlineApprovalSetUp/${A}`,pt),await ts.log({accessType:"Edit",trans:`Edited online approval ${pt.onlineAppCode}`,messages:`Online approval updated: ${pt.onlineAppCode} - ${pt.onlineAppDesc}`,formName:jb}),await xe.fire({icon:"success",title:"Success",text:"Online approval updated successfully.",timer:2e3,showConfirmButton:!1}),await We()):(await z.post("/Fs/Employment/OnlineApprovalSetUp",pt),await ts.log({accessType:"Add",trans:`Added online approval ${pt.onlineAppCode}`,messages:`Online approval created: ${pt.onlineAppCode} - ${pt.onlineAppDesc}`,formName:jb}),await xe.fire({icon:"success",title:"Success",text:"Online approval created successfully.",timer:2e3,showConfirmButton:!1}),await We()),a(!1),g(""),p(""),f(""),N(""),S(""),k(""),F(null),l(!1),c(null)}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:pe}),console.error("Error submitting form:",Ee)}finally{M(!1)}},Qe=(Te,Ee)=>{N(Te),S(Ee),L(!1)},qe=(Te,Ee)=>{k(Ee),re(!1)},Ye=le.filter(Te=>Te.code.toLowerCase().includes(s.toLowerCase())||Te.description.toLowerCase().includes(s.toLowerCase())||Te.head.toLowerCase().includes(s.toLowerCase())||Te.deviceName.toLowerCase().includes(s.toLowerCase())),ht=Math.ceil(Ye.length/m),St=(u-1)*m,dt=St+m,Et=Ye.slice(St,dt);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Online Approval Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure online approval settings with designated approvers and device configurations for streamlined digital approval workflows and time record authorization management."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Online approval code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Approver assignment and tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Digital workflow authorization"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ue("Add")&&ue("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:B,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:Te=>r(Te.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:ve?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading online approvals..."})}):$e?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:$e})}):ue("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(ue("Edit")||ue("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Et.map((Te,Ee)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Te.code}),e.jsx("td",{className:"px-4 py-2",children:Te.description}),e.jsx("td",{className:"px-4 py-2",children:Te.head}),e.jsx("td",{className:"px-4 py-2",children:Te.deviceName}),(ue("Edit")||ue("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[ue("Edit")&&e.jsx("button",{onClick:()=>q(Te,Ee),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),ue("Edit")&&ue("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ue("Delete")&&e.jsx("button",{onClick:()=>Z(Te),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Ee))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ue("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ye.length===0?0:St+1," ","to ",Math.min(dt,Ye.length)," of"," ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Te=>Math.max(Te-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ht},(Te,Ee)=>Ee+1).map(Te=>e.jsx("button",{onClick:()=>h(Te),className:`px-3 py-1 rounded transition-colors ${u===Te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te},Te)),e.jsx("button",{onClick:()=>h(Te=>Math.min(Te+1,ht)),disabled:u===ht||ht===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Online Approval":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Online Approval Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:Te=>je(Te.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Te=>f(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:y,onChange:Te=>N(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>L(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Name :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:I,onChange:Te=>k(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:De,disabled:O,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:O?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:O,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:U,onClose:()=>L(!1),onSelect:Qe,employees:ye,loading:se,error:P}),e.jsx(Ac,{isOpen:G,onClose:()=>re(!1),onSelect:qe,devices:ne,loading:Y,error:D})]})]})}),e.jsx(ls,{})]})}const Cb="Section SetUp";function aee(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(null),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState([]),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState({}),ue=Te=>ee[Te]===!0;o.useEffect(()=>{oe()},[]);const oe=()=>{const Te=localStorage.getItem("loginPayload");if(Te)try{const Je=(JSON.parse(Te).permissions||[]).filter(Mt=>Ss(Mt.formName)==="SectionSetUp"),pt={};Je.forEach(Mt=>{const Wt=Ss(Mt.accessTypeName);Wt&&(pt[Wt]=!0)}),Se(pt)}catch(Ee){console.error("Error parsing or decrypting payload",Ee)}},[le,Q]=o.useState([]),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState("");o.useEffect(()=>{We()},[]);const We=async()=>{Ce(!0),Ae("");try{const Te=await z.get("/Fs/Employment/SectionSetUp");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.secID||pe.id||"",code:pe.secCode||pe.code||"",description:pe.secDesc||pe.description||"",head:pe.secHead||pe.head||"",headCode:pe.secHeadCode||pe.headCode||"",deviceName:pe.deviceName||""}));Q(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load sections";Ae(Ee),console.error("Error fetching sections:",Te)}finally{Ce(!1)}};o.useEffect(()=>{Re()},[]);const Re=async()=>{we(!0),V("");try{const Te=await z.get("/Maintenance/EmployeeMasterFile");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({empCode:pe.empCode||pe.code||"",name:`${pe.lName||""}, ${pe.fName||""} ${pe.mName||""}`.trim(),groupCode:pe.grpCode||""}));K(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load employees";V(Ee),console.error("Error fetching employees:",Te)}finally{we(!1)}};o.useEffect(()=>{et()},[]);const et=async()=>{E(!0),R("");try{const Te=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(Te.status===200&&Te.data){const Ee=Te.data.map(pe=>({id:pe.id||"",code:pe.code||"",description:pe.description||""}));H(Ee)}}catch(Te){const Ee=Te.response?.data?.message||Te.message||"Failed to load devices";R(Ee),console.error("Error fetching devices:",Te)}finally{E(!1)}};o.useEffect(()=>{const Te=Ee=>{Ee.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",Te),()=>{document.removeEventListener("keydown",Te)}},[t]);const B=()=>{l(!1),c(null),F(null),g(""),p(""),f(""),N(""),S(""),k(""),a(!0)},q=(Te,Ee)=>{l(!0),c(Ee),F(Te.id||null),g(Te.code),p(""),f(Te.description),N(Te.headCode),S(Te.head),k(Te.deviceName),a(!0)},Z=async Te=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete section ${Te.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/SectionSetUp/${Te.id}`),await ts.log({accessType:"Delete",trans:`Deleted section ${Te.code}`,messages:`Section deleted: ${Te.code} - ${Te.secDesc}`,formName:Cb}),await xe.fire({icon:"success",title:"Success",text:"Section deleted successfully.",timer:2e3,showConfirmButton:!1}),await We()}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to delete section";await xe.fire({icon:"error",title:"Error",text:Je}),console.error("Error deleting section:",pe)}},je=Te=>{g(Te),Te.length>10?p("Code maximum 10 characters"):p("")},De=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(le.some((Ee,pe)=>n&&i===pe?!1:Ee.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}M(!0);try{const Ee={secID:n&&A?parseInt(A):0,secCode:b,depCode:"",secDesc:v,secHead:C,secHeadCode:y,deviceName:I};n&&A?(await z.put(`/Fs/Employment/SectionSetUp/${A}`,Ee),await ts.log({accessType:"Edit",trans:`Edited section ${Ee.secCode}`,messages:`Section updated: ${Ee.secCode} - ${Ee.secDesc}`,formName:Cb}),await xe.fire({icon:"success",title:"Success",text:"Section updated successfully.",timer:2e3,showConfirmButton:!1}),await We()):(await z.post("/Fs/Employment/SectionSetUp",Ee),await ts.log({accessType:"Add",trans:`Added section ${Ee.secCode}`,messages:`Section created: ${Ee.secCode} - ${Ee.secDesc}`,formName:Cb}),await xe.fire({icon:"success",title:"Success",text:"Section created successfully.",timer:2e3,showConfirmButton:!1}),await We()),a(!1),g(""),p(""),f(""),N(""),S(""),k(""),F(null),l(!1),c(null)}catch(Ee){const pe=Ee.response?.data?.message||Ee.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:pe}),console.error("Error submitting form:",Ee)}finally{M(!1)}},Qe=(Te,Ee)=>{N(Te),S(Ee),L(!1)},qe=(Te,Ee)=>{k(Ee),re(!1)},Ye=le.filter(Te=>Te.code.toLowerCase().includes(s.toLowerCase())||Te.description.toLowerCase().includes(s.toLowerCase())||Te.head.toLowerCase().includes(s.toLowerCase())||Te.deviceName.toLowerCase().includes(s.toLowerCase())),ht=Math.ceil(Ye.length/m),St=(u-1)*m,dt=St+m,Et=Ye.slice(St,dt);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Section Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational sections with designated heads and device assignments for comprehensive departmental structure management and employee categorization across the company."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Section code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Section head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Organizational structure tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ue("Add")&&ue("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:B,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:Te=>r(Te.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:ve?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading sections..."})}):$e?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:$e})}):ue("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(ue("Edit")||ue("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Et.map((Te,Ee)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:Te.code}),e.jsx("td",{className:"px-4 py-2",children:Te.description}),e.jsx("td",{className:"px-4 py-2",children:Te.head}),e.jsx("td",{className:"px-4 py-2",children:Te.deviceName}),(ue("Edit")||ue("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[ue("Edit")&&e.jsx("button",{onClick:()=>q(Te,Ee),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),ue("Edit")&&ue("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ue("Delete")&&e.jsx("button",{onClick:()=>Z(Te),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Ee))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ue("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",Ye.length===0?0:St+1," ","to ",Math.min(dt,Ye.length)," of"," ",Ye.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(Te=>Math.max(Te-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ht},(Te,Ee)=>Ee+1).map(Te=>e.jsx("button",{onClick:()=>h(Te),className:`px-3 py-1 rounded transition-colors ${u===Te?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Te},Te)),e.jsx("button",{onClick:()=>h(Te=>Math.min(Te+1,ht)),disabled:u===ht||ht===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Section":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Section Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:Te=>je(Te.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:Te=>f(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:Te=>N(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>L(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:I,onChange:Te=>k(Te.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:De,disabled:O,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:O?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:O,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:U,onClose:()=>L(!1),onSelect:Qe,employees:ye,loading:se,error:P}),e.jsx(Ac,{isOpen:G,onClose:()=>re(!1),onSelect:qe,devices:ne,loading:Y,error:D})]})]})}),e.jsx(ls,{})]})}const Sb="Unit SetUp";function ree(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=100,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(null),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState(!1),[D,R]=o.useState(""),[ee,Se]=o.useState(""),[ue,oe]=o.useState({}),le=pe=>ue[pe]===!0;o.useEffect(()=>{Q()},[]);const Q=()=>{const pe=localStorage.getItem("loginPayload");if(pe)try{const Mt=(JSON.parse(pe).permissions||[]).filter($t=>Ss($t.formName)==="UnitSetUp"),Wt={};Mt.forEach($t=>{const lt=Ss($t.accessTypeName);lt&&(Wt[lt]=!0)}),oe(Wt)}catch(Je){console.error("Error parsing or decrypting payload",Je)}},[ve,Ce]=o.useState([]),[$e,Ae]=o.useState(!1),[We,Re]=o.useState("");o.useEffect(()=>{et()},[]);const et=async()=>{Ae(!0),Re("");try{const pe=await z.get("/Fs/Employment/UnitSetUp");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({id:pt.unitID||"",code:pt.unitCode||"",description:pt.unitDesc||"",head:pt.head||"",position:pt.position||"",deviceName:pt.deviceName||""}));Ce(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load units";Re(Je),console.error("Error fetching units:",pe)}finally{Ae(!1)}};o.useEffect(()=>{B()},[]);const B=async()=>{E(!0),R("");try{const pe=await z.get("/Maintenance/EmployeeMasterFile");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({empCode:pt.empCode||pt.code||"",name:`${pt.lName||""}, ${pt.fName||""} ${pt.mName||""}`.trim(),groupCode:pt.grpCode||""}));H(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load employees";R(Je),console.error("Error fetching employees:",pe)}finally{E(!1)}};o.useEffect(()=>{q()},[]);const q=async()=>{V(!0),Se("");try{const pe=await z.get("/Fs/Process/Device/BorrowedDeviceName");if(pe.status===200&&pe.data){const Je=pe.data.map(pt=>({id:pt.id||"",code:pt.code||"",description:pt.description||""}));we(Je)}}catch(pe){const Je=pe.response?.data?.message||pe.message||"Failed to load devices";Se(Je),console.error("Error fetching devices:",pe)}finally{V(!1)}};o.useEffect(()=>{const pe=Je=>{Je.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",pe),()=>{document.removeEventListener("keydown",pe)}},[t]);const Z=()=>{l(!1),c(null),M(null),g(""),p(""),f(""),N(""),S(""),k(""),F(""),a(!0)},je=(pe,Je)=>{console.log("Editing unit:",pe),l(!0),c(Je),M(pe.id||null),g(pe.code),p(""),f(pe.description);let pt=pe.headCode||"";if(!pt&&pe.head){const Mt=ne.find(Wt=>Wt.name===pe.head);Mt&&(console.log("Found employee for head:",Mt),pt=Mt.empCode,console.log("Set headCode to:",Mt.empCode))}N(pt),console.log("Final headCode value:",pt),S(pe.head||""),k(pe.position||""),F(pe.deviceName||""),a(!0)},De=async pe=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete unit ${pe.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Employment/UnitSetUp/${pe.id}`),await ts.log({accessType:"Delete",trans:`Deleted unit ${pe.code}`,messages:`Unit deleted: ${pe.code} - ${pe.unitDesc}`,formName:Sb}),await xe.fire({icon:"success",title:"Success",text:"Unit deleted successfully.",timer:2e3,showConfirmButton:!1}),await et()}catch(pt){const Mt=pt.response?.data?.message||pt.message||"Failed to delete unit";await xe.fire({icon:"error",title:"Error",text:Mt}),console.error("Error deleting unit:",pt)}},Qe=pe=>{g(pe),pe.length>10?p("Code maximum 10 characters"):p("")},qe=async()=>{if(!b.trim()||b.length>10){await xe.fire({icon:"warning",title:"Validation Error",text:"Code must be between 1 and 10 characters."});return}if(ve.some((Je,pt)=>n&&i===pt?!1:Je.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}L(!0);try{const Je={unitID:n&&O?parseInt(O):0,unitCode:b,unitDesc:v,head:C,headCode:y,position:I,deviceName:A};n&&O?(await z.put(`/Fs/Employment/UnitSetUp/${O}`,Je),await ts.log({accessType:"Edit",trans:`Edited unit ${Je.unitCode}`,messages:`Unit updated: ${Je.unitCode} - ${Je.unitDesc}`,formName:Sb}),await xe.fire({icon:"success",title:"Success",text:"Unit updated successfully.",timer:2e3,showConfirmButton:!1}),await et()):(await z.post("/Fs/Employment/UnitSetUp",Je),await ts.log({accessType:"Add",trans:`Added unit ${Je.unitCode}`,messages:`Unit created: ${Je.unitCode} - ${Je.unitDesc}`,formName:Sb}),await xe.fire({icon:"success",title:"Success",text:"Unit created successfully.",timer:2e3,showConfirmButton:!1}),await et()),a(!1),g(""),p(""),f(""),N(""),S(""),k(""),F(""),M(null),l(!1),c(null)}catch(Je){const pt=Je.response?.data?.message||Je.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:pt}),console.error("Error submitting form:",Je)}finally{L(!1)}},Ye=(pe,Je)=>{N(pe),S(Je),re(!1)},ht=(pe,Je)=>{F(Je),K(!1)},St=ve.filter(pe=>pe.code.toLowerCase().includes(s.toLowerCase())||pe.description.toLowerCase().includes(s.toLowerCase())||pe.head.toLowerCase().includes(s.toLowerCase())||pe.position.toLowerCase().includes(s.toLowerCase())||pe.deviceName.toLowerCase().includes(s.toLowerCase())),dt=Math.ceil(St.length/m),Et=(u-1)*m,Te=Et+m,Ee=St.slice(Et,Te);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unit Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure organizational units with designated heads and device configurations for streamlined unit management and employee grouping within departments and divisions."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Unit code and description management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Unit head assignment"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device name configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work unit organization tracking"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[(le("Add")||le("View"))&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Z,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),le("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:pe=>r(pe.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:$e?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading units..."})}):We?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:We})}):le("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Position"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Device Name"}),(le("Edit")||le("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Ee.map((pe,Je)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:pe.code}),e.jsx("td",{className:"px-4 py-2",children:pe.description}),e.jsx("td",{className:"px-4 py-2",children:pe.head}),e.jsx("td",{className:"px-4 py-2",children:pe.position}),e.jsx("td",{className:"px-4 py-2",children:pe.deviceName}),(le("Edit")||le("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[le("Edit")&&e.jsx("button",{onClick:()=>je(pe,Je),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),le("Edit")&&le("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),le("Delete")&&e.jsx("button",{onClick:()=>De(pe),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Je))})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),le("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",St.length===0?0:Et+1," to ",Math.min(Te,St.length)," of ",St.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(pe=>Math.max(pe-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:dt},(pe,Je)=>Je+1).map(pe=>e.jsx("button",{onClick:()=>h(pe),className:`px-3 py-1 rounded transition-colors ${u===pe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:pe},pe)),e.jsx("button",{onClick:()=>h(pe=>Math.min(pe+1,dt)),disabled:u===dt||dt===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Unit":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Unit Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:pe=>Qe(pe.target.value),maxLength:10,className:`flex-1 px-3 py-1.5 border rounded focus:outline-none focus:ring-2 text-sm ${w?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`})]}),w&&e.jsx("p",{className:"ml-32 text-red-500 text-xs mt-1",children:w}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:v,onChange:pe=>f(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head Code :"}),e.jsx("input",{type:"text",value:y,onChange:pe=>N(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{N(""),S("")},className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Head :"}),e.jsx("input",{type:"text",value:C,readOnly:!0,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded bg-gray-50 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Position :"}),e.jsx("input",{type:"text",value:I,onChange:pe=>k(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Device Name :"}),e.jsx("input",{type:"text",value:A,onChange:pe=>F(pe.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:()=>K(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:qe,disabled:U,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:U?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:U,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:G,onClose:()=>re(!1),onSelect:Ye,employees:ne,loading:Y,error:D}),e.jsx(Ac,{isOpen:ye,onClose:()=>K(!1),onSelect:ht,devices:se,loading:P,error:ee})]})]})}),e.jsx(ls,{})]})}function nee(){const[t,a]=o.useState("128PC-85\\SQL2022"),[s,r]=o.useState(""),[n,l]=o.useState(!0),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState("results"),[f,y]=o.useState(""),[N,C]=o.useState(!1),S=()=>{if(!s||!m||!g){alert("Please fill in all required fields");return}C(!0),v("results"),y(`Creating database...
Initializing tables...
Setting up company information...
Database created successfully!`),setTimeout(()=>{C(!1)},2e3)};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Create New Database"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(og,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create a new database for a company with all required tables, stored procedures, and initial configurations. This process will set up the complete timekeeping system structure."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Initialize database schema and tables"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set up stored procedures and functions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure company information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"SQL Server Authentication support"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Database Configuration"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Server Name"}),e.jsxs("select",{value:t,onChange:I=>a(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"128PC-87\\SQL2022",children:"128PC-87\\SQL2022"}),e.jsx("option",{value:"localhost",children:"localhost"}),e.jsx("option",{value:".\\SQLEXPRESS",children:".\\SQLEXPRESS"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Database Name"}),e.jsx("input",{type:"text",value:s,onChange:I=>r(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter database name"})]}),e.jsxs("div",{className:"bg-white rounded border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-gray-700 text-sm mb-3",children:"Authentication"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",checked:n,onChange:()=>l(!0),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Use SQL Server Authentication"})]}),n&&e.jsxs("div",{className:"ml-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Username"}),e.jsx("input",{type:"text",value:i,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Password"}),e.jsx("input",{type:"password",value:u,onChange:I=>h(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter password"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded border border-gray-200 p-4",children:[e.jsx("h4",{className:"text-gray-700 text-sm mb-3",children:"Company Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Code"}),e.jsx("input",{type:"text",value:m,onChange:I=>b(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter company code"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 text-sm mb-1",children:"Name"}),e.jsx("input",{type:"text",value:g,onChange:I=>w(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Enter company name"})]})]})]}),e.jsx("div",{className:"flex justify-center pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:S,disabled:N,className:"px-8 py-2.5 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx(og,{className:"w-4 h-4"}),N?"Creating...":"Create"]})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>v("results"),className:`px-4 py-2 text-sm transition-colors ${p==="results"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Results"}),e.jsx("button",{onClick:()=>v("scripts"),className:`px-4 py-2 text-sm transition-colors ${p==="scripts"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Scripts"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 h-[500px] overflow-auto",children:[p==="results"&&e.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:f||'No results yet. Click "Create" to initialize the database.'}),p==="scripts"&&e.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-wrap font-mono",children:`-- Database Creation Script
CREATE DATABASE [${s||"DatabaseName"}]
GO

USE [${s||"DatabaseName"}]
GO

-- Create Company Table
CREATE TABLE Company (
  CompanyCode VARCHAR(10) PRIMARY KEY,
  CompanyName VARCHAR(100) NOT NULL
)
GO

-- Create Employee Table
CREATE TABLE Employee (
  EmployeeID INT PRIMARY KEY IDENTITY(1,1),
  EmployeeCode VARCHAR(20) NOT NULL,
  FirstName VARCHAR(50),
  LastName VARCHAR(50),
  CompanyCode VARCHAR(10)
)
GO`})]})]})]})]})]})})})}function oee(){const[t,a]=o.useState(!1),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(!0),m=o.useRef(null),[b,g]=o.useState({id:0,emailSender:"",password:"",smtpServer:"",targetName:"",sendOption:"",username:"",port:"587",encryptionConnection:"None"}),w=async()=>{const N=await z.get("/Security/EmailConfiguration/128TCI");if(console.log("API response:",N.data),!ra.isApiSuccess(N)){zt("Failed to load email configuration. Please try again later.");return}m.current=N.data,g(N.data)};o.useEffect(()=>{(async()=>{await w(),h(!1)})()},[]);const p=N=>{const{name:C,value:S}=N.target;g(I=>({...I,[C]:S}))},v=async()=>{try{const N={Id:b.id,Username:b.username,EmailSender:b.emailSender,Password:b.password,SmtpServer:b.smtpServer,SendOption:b.sendOption,Port:b.port,TargetName:b.targetName,EncryptionConnection:b.encryptionConnection},C=await z.put(`/Security/EmailConfiguration/Update/${b.username}`,N);if(console.log("API response:",C.data),!ra.isApiSuccess(C)){zt("Failed to save email configuration. Please try again later.");return}m.current=b,a(!1),Zs("Email configuration saved successfully!")}catch(N){console.error("Save error:",N),zt("Failed to save email configuration. Please try again later.")}},f=()=>{a(!1),m.current&&g(m.current)},y=async()=>{r(!0);try{const N={toEmail:b.emailSender,subject:"Test Email Configuration",body:"This is a test email to verify your email configuration is working correctly."},C=await z.post("/Security/EmailConfiguration/Test",N);console.log("Test email API response:",C.data),ra.isApiSuccess(C)?Zs(`Test email sent successfully to ${b.emailSender}!`):zt(`Failed to send test email to ${b.emailSender}.`)}catch{zt(`Failed to send test email to ${b.emailSender}.`)}finally{r(!1)}};return u?e.jsx("div",{className:"p-6 text-gray-500",children:"Loading email configuration..."}):e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Email Configuration"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(tu,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure email server settings to enable system notifications, alerts, and automated reports. Set up SMTP server details and test connectivity."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure SMTP server settings"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Support for SSL/TLS encryption"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Test email configuration instantly"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Secure authentication support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsxs("button",{onClick:()=>a(!t),className:"px-6 py-2.5 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors flex items-center gap-2",children:[e.jsx(Is,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:y,className:"px-6 py-2.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(HS,{className:"w-4 h-4"}),s?"Sending...":"Test Email Configuration"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"EmailSender"}),t?e.jsx("input",{type:"email",value:b.emailSender,name:"emailSender",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:b.emailSender})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"SmtpServer"}),t?e.jsx("input",{type:"text",value:b.smtpServer,name:"smtpServer",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:b.smtpServer})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"SendOption"}),t?e.jsxs("select",{value:b.sendOption,name:"sendOption",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"Others",children:"Others"}),e.jsx("option",{value:"Gmail",children:"Gmail"}),e.jsx("option",{value:"Outlook",children:"Outlook"}),e.jsx("option",{value:"Yahoo",children:"Yahoo"})]}):e.jsx("p",{className:"text-gray-600",children:b.sendOption})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"Port"}),t?e.jsx("input",{type:"text",value:b.port,name:"port",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:b.port})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"TargetName"}),t?e.jsx("input",{type:"text",value:b.targetName,name:"targetName",onChange:p,placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}):e.jsx("p",{className:"text-gray-600",children:b.targetName||"(empty)"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"EncryptionConnection"}),t?e.jsxs("select",{value:b.encryptionConnection,name:"encryptionConnection",onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"SSL",children:"SSL"}),e.jsx("option",{value:"TLS",children:"TLS"}),e.jsx("option",{value:"STARTTLS",children:"STARTTLS"})]}):e.jsx("p",{className:"text-gray-600",children:b.encryptionConnection})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:b.username,name:"username",onChange:p,placeholder:"SMTP username",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),t&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-gray-900 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:b.password,name:"password",onChange:p,placeholder:"SMTP password",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]})]}),t&&e.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[e.jsxs("button",{onClick:v,className:"px-6 py-2.5 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4"}),"Save Configuration"]}),e.jsx("button",{onClick:f,className:"px-6 py-2.5 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Cancel"})]})]})]})})})}function lee({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function iee({value:t,onChange:a,onClose:s,position:r}){const n=o.useRef(null),[l,i]=o.useState("10"),[c,u]=o.useState("00"),[h,m]=o.useState("00");o.useEffect(()=>{const g=w=>{n.current&&!n.current.contains(w.target)&&s()};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[s]);const b=()=>{const g=`${l.padStart(2,"0")}:${c.padStart(2,"0")}:${h.padStart(2,"0")}`;a(g),s()};return e.jsxs("div",{ref:n,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"200px"},children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"Time"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:"0",max:"23",value:l,onChange:g=>i(g.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"HH"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",value:c,onChange:g=>u(g.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"MM"}),e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("input",{type:"number",min:"0",max:"59",value:h,onChange:g=>m(g.target.value),className:"w-14 px-2 py-1 border border-gray-300 rounded text-sm text-center",placeholder:"SS"})]})]}),e.jsx("button",{onClick:b,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:"OK"})]})}function cee(){const[t,a]=o.useState("12/26/2025"),[s,r]=o.useState("10:00:00"),[n,l]=o.useState("12/26/2025"),[i,c]=o.useState("10:00:00"),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState("date"),[f,y]=o.useState("desc"),[N,C]=o.useState(null),[S,I]=o.useState(null),[k,A]=o.useState({top:0,left:0}),[F,O]=o.useState({top:0,left:0}),M=[{id:1,date:"12/26/2025 10:30:15",user:"admin",pcName:"WORKSTATION-01",formName:"EmployeeForm",accessType:"Edit",activity:"Update Record",message:"Updated employee #12345 information"},{id:2,date:"12/26/2025 10:25:42",user:"jdoe",pcName:"WORKSTATION-02",formName:"AttendanceForm",accessType:"View",activity:"View Record",message:"Viewed attendance logs for 12/26/2025"},{id:3,date:"12/26/2025 10:20:33",user:"admin",pcName:"WORKSTATION-01",formName:"PayrollForm",accessType:"Create",activity:"Create Record",message:"Created new payroll batch #2025-12"}],[U,L]=o.useState(M),G=()=>{let ne=M;u&&(ne=ne.filter(H=>H.formName.toLowerCase().includes(u.toLowerCase()))),m&&(ne=ne.filter(H=>H.activity.toLowerCase().includes(m.toLowerCase()))),g&&(ne=ne.filter(H=>H.user.toLowerCase().includes(g.toLowerCase()))),L(ne)},re=()=>{a("12/26/2025"),r("10:00:00"),l("12/26/2025"),c("10:00:00"),h(""),b(""),w(""),L(M)},ye=ne=>{p===ne?y(f==="asc"?"desc":"asc"):(v(ne),y("asc"))},K=({field:ne})=>p!==ne?e.jsxs("div",{className:"ml-1 flex flex-col",children:[e.jsx(zu,{className:"w-3 h-3 text-gray-400"}),e.jsx(ii,{className:"w-3 h-3 text-gray-400 -mt-1"})]}):f==="asc"?e.jsx(zu,{className:"w-4 h-4 ml-1"}):e.jsx(ii,{className:"w-4 h-4 ml-1"});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Audit Trail"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(cd,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Monitor and review all system activities including user logins, form access, data modifications, and administrative actions. Filter by date range, user, form, or activity type."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Track all user activities and access logs"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by date range, user, or activity type"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Monitor data modifications and changes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export audit reports for compliance"})]})]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:ne=>a(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:ne=>{const H=ne.currentTarget.getBoundingClientRect();A({top:H.bottom,left:H.left}),C("dateFrom")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Time From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:ne=>r(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:ne=>{const H=ne.currentTarget.getBoundingClientRect();O({top:H.bottom,left:H.left}),I("timeFrom")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(ur,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:ne=>l(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:ne=>{const H=ne.currentTarget.getBoundingClientRect();A({top:H.bottom,left:H.left}),C("dateTo")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Time To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:ne=>c(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",readOnly:!0}),e.jsx("button",{onClick:ne=>{const H=ne.currentTarget.getBoundingClientRect();O({top:H.bottom,left:H.left}),I("timeTo")},className:"absolute top-0 right-0 p-2 bg-gray-200 text-gray-500 rounded hover:bg-gray-300 transition-colors",children:e.jsx(ur,{className:"w-4 h-4"})})]})]})]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Form Name"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:u,onChange:ne=>h(ne.target.value),placeholder:"FormName",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:G,className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>h(""),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Activity"}),e.jsx("input",{type:"text",value:m,onChange:ne=>b(ne.target.value),placeholder:"Activity",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"User"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:ne=>w(ne.target.value),placeholder:"Users",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:G,className:"p-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>w(""),className:"p-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs("button",{onClick:re,className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(ax,{className:"w-4 h-4"}),"Reset"]}),e.jsxs("button",{onClick:()=>alert("Export functionality would be implemented here"),className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(In,{className:"w-4 h-4"}),"Export"]}),e.jsxs("button",{onClick:G,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>ye("date"),className:"flex items-center hover:text-gray-900",children:["Date",e.jsx(K,{field:"date"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>ye("user"),className:"flex items-center hover:text-gray-900",children:["User",e.jsx(K,{field:"user"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>ye("pcName"),className:"flex items-center hover:text-gray-900",children:["PC Name",e.jsx(K,{field:"pcName"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>ye("formName"),className:"flex items-center hover:text-gray-900",children:["Form Name",e.jsx(K,{field:"formName"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>ye("accessType"),className:"flex items-center hover:text-gray-900",children:["Access Type",e.jsx(K,{field:"accessType"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:e.jsxs("button",{onClick:()=>ye("activity"),className:"flex items-center hover:text-gray-900",children:["Activity",e.jsx(K,{field:"activity"})]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Message"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:U.length>0?U.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ne.date}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ne.user}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ne.pcName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ne.formName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ne.accessType}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ne.activity}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ne.message})]},ne.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-12 text-center text-gray-500 text-sm",children:"No data available in table"})})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing ",U.length," ",U.length===1?"entry":"entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]})]})}),N&&e.jsx(lee,{value:N==="dateFrom"?t:n,onChange:ne=>{N==="dateFrom"?a(ne):l(ne),C(null)},onClose:()=>C(null),position:k}),S&&e.jsx(iee,{value:S==="timeFrom"?s:i,onChange:ne=>{S==="timeFrom"?r(ne):c(ne),I(null)},onClose:()=>I(null),position:F})]})}const Dn="/Security",gn={async getUsers(t=1,a=10){const s=await z.get("/User",{params:{page:t,pageSize:a}}),r=Array.isArray(s.data)?s.data:s.data.data??[],n=s.data.totalCount??r.length,l=r.map(u=>({id:u.userID??u.id??0,username:u.userName??u.username??"",expiration:(()=>{const h=u.expirationDate??u.expiration??"";if(!h)return"";const m=new Date(h);if(isNaN(m.getTime()))return h;const b=String(m.getMonth()+1).padStart(2,"0"),g=String(m.getDate()).padStart(2,"0"),w=m.getFullYear();return`${b}/${g}/${w}`})(),logIn:u.isLoggedIn??u.logIn??!1,machineName:u.machineName??"",suspended:u.isSuspended??u.suspended??!1,isWindowsAuth:u.isWindowsAuthenticate??!1,windowsLoginName:u.windowsLoginName??""})),i=(t-1)*a;return{data:n===r.length?l.slice(i,i+a):l,totalCount:n,page:t,pageSize:a}},async createUser(t){return(await z.post(`${Dn}/SecurityManager/users`,{Username:t.username,Password:t.password,Expiration:t.expiration||null,MachineName:t.machineName,Suspended:t.suspended,IsWindowsAuthenticate:t.isWindowsAuthenticate,WindowsLoginName:t.windowsLoginName})).data},async updateUser(t,a){return(await z.put(`${Dn}/SecurityManager/users/${t}`,{Expiration:a.expiration||null,MachineName:a.machineName,Suspended:a.suspended,IsWindowsAuthenticate:a.isWindowsAuthenticate,WindowsLoginName:a.windowsLoginName})).data},async changePassword(t,a){return(await z.put(`${Dn}/SecurityManager/users/${t}/change-password`,{OldPassword:a.oldPassword,NewPassword:a.newPassword})).data},async resetPassword(t,a){return(await z.put(`${Dn}/SecurityManager/users/${t}/reset-password`,{})).data},async removeUser(t){return(await z.delete(`${Dn}/SecurityManager/users/${t}`)).data},async getUserGroups(){return(await z.get(`${Dn}/SecurityManager/groups`)).data},async createUserGroup(t,a){return(await z.post(`${Dn}/SecurityManager/groups`,{GroupName:t,Description:a})).data},async removeUserGroup(t){return(await z.delete(`${Dn}/SecurityManager/groups/${t}`)).data},async getMembers(t){return(await z.get(`${Dn}/GroupMember/members/${t}`)).data},async getNonMembers(t){return(await z.get(`${Dn}/GroupMember/non-members/${t}`)).data},async updateMembers(t,a){return(await z.post(`${Dn}/GroupMember/update`,{GroupName:t,Usernames:a})).data},async getFormAccessTypes(){return(await z.get(`${Dn}/SecurityControl/access-types`)).data.map(a=>({id:a.id,accessTypeName:a.accessTypeName,description:a.description??null,sortOrder:a.sortOrder??0}))},async getForms(){return(await z.get(`${Dn}/SecurityControl/forms`)).data.map(a=>({id:a.id,formName:a.formName,formDescription:a.formDesc??a.formDescription??a.description??null}))},async getGroupAccess(t){return(await z.get(`${Dn}/SecurityControl/group-access/${t}`)).data.map(s=>({id:s.id,formName:s.formName,accessFlags:s.accessFlags??{}}))},async saveGroupAccess(t){return(await z.post(`${Dn}/SecurityControl/group-access`,{GroupName:t.groupName,FormName:t.formName,AccessFlags:t.accessFlags})).data},async getTksGroups(){return(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(a=>({id:a.ID||a.id,code:a.groupCode||a.code,description:a.groupDescription||a.description}))},async getTksGroupAccess(t){return(await z.get(`${Dn}/SecurityControl/tks-group-access/${t}`)).data.map(s=>({id:s.id,tksGroupName:s.tksGroupName,description:s.description??"",userGroup:s.groupName}))},async saveTksGroupAccess(t,a){return(await z.post(`${Dn}/SecurityControl/tks-group-access`,{TksGroupName:t,GroupName:a})).data},async removeTksGroupAccess(t){return(await z.delete(`${Dn}/SecurityControl/tks-group-access/${t}`)).data}};function u4(){const[t,a]=o.useState("security-manager"),[s,r]=o.useState("Administrator"),[n,l]=o.useState([]),[i,c]=o.useState([]),[u,h]=o.useState("access-type"),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState([]),[f,y]=o.useState([]),[N,C]=o.useState(null),[S,I]=o.useState(null),k=10,[A,F]=o.useState(!1),[O,M]=o.useState(!1),[U,L]=o.useState(!1),[G,re]=o.useState(!1),[ye,K]=o.useState(!1),[ne,H]=o.useState(null),[se,we]=o.useState(null),[Y,E]=o.useState(1),[P,V]=o.useState({username:"",password:"",confirmPassword:"",expiration:"",machineName:"",suspended:!1,isWindowsAuth:!1,windowsLoginName:""}),[D,R]=o.useState({groupName:"",description:""}),[ee,Se]=o.useState({oldPassword:"",newPassword:"",confirmNewPassword:""}),[ue,oe]=o.useState([]),[le,Q]=o.useState([]),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState([]),[We,Re]=o.useState([]),[et,B]=o.useState([]),[q,Z]=o.useState([]),[je,De]=o.useState(1),[Qe,qe]=o.useState(1),[Ye,ht]=o.useState(!1),[St,dt]=o.useState(!1),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState(!1),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState(!1),[$t,lt]=o.useState([]),[bt,Nt]=o.useState(1),[wt,It]=o.useState([]),[Dt,Ke]=o.useState([]),[tt,Le]=o.useState([]),[He,ge]=o.useState([]),st=o.useCallback(async(at=1)=>{ht(!0);try{const Qt=await gn.getUsers(at,k);oe(Qt.data),qe(Math.ceil(Qt.totalCount/Qt.pageSize))}catch{zt("Failed to load users.")}finally{ht(!1)}},[]),Ze=o.useCallback(async()=>{dt(!0);try{const at=await gn.getUserGroups();Q(at),at.length>0&&!s&&r(at[0].description)}catch{zt("Failed to load user groups.")}finally{dt(!1)}},[]),Rt=o.useCallback(async at=>{if(at){Te(!0);try{const[Qt,_s]=await Promise.all([gn.getMembers(at),gn.getNonMembers(at)]);Ce(Qt),Ae(_s)}catch{zt("Failed to load group members.")}finally{Te(!1)}}},[]),ft=o.useCallback(async at=>{if(at){pe(!0);try{const Qt=await gn.getGroupAccess(at);Re(Qt),E(1)}catch{zt("Failed to load group access.")}finally{pe(!1)}}},[]),kt=o.useCallback(async()=>{try{const at=await gn.getForms();It(at)}catch{zt("Failed to load forms.")}},[]),he=o.useCallback(async()=>{try{const at=await gn.getFormAccessTypes();Ke(at)}catch{zt("Failed to load access types.")}},[]),be=o.useCallback(async()=>{pt(!0);try{const at=await gn.getTksGroups();B(at)}catch{zt("Failed to load TKS groups.")}finally{pt(!1)}},[]),ie=o.useCallback(async at=>{if(at)try{const Qt=await gn.getTksGroupAccess(at);Z(Qt)}catch{zt("Failed to load TKS group access.")}},[]);o.useEffect(()=>{st(1),Ze(),be(),kt(),he()},[]),o.useEffect(()=>{s&&(t==="group-member"&&Rt(s),t==="security-control"&&(ft(s),ie(s)))},[s,t]);const de=et.filter(at=>at.code.toLowerCase().includes(m.toLowerCase())||at.description.toLowerCase().includes(m.toLowerCase())),J=Math.ceil(de.length/k),_=(bt-1)*k,Fe=_+k,Oe=de.slice((bt-1)*k,bt*k),ke=()=>{const at=[];if(J<=7)for(let Qt=1;Qt<=J;Qt++)at.push(Qt);else if(bt<=4){for(let Qt=1;Qt<=5;Qt++)at.push(Qt);at.push("..."),at.push(J)}else if(bt>=J-3){at.push(1),at.push("...");for(let Qt=J-4;Qt<=J;Qt++)at.push(Qt)}else{at.push(1),at.push("...");for(let Qt=bt-1;Qt<=bt+1;Qt++)at.push(Qt);at.push("..."),at.push(J)}return at},Ie=at=>{lt(at?de.map(Qt=>Qt.id):[])},te=(at,Qt)=>{lt(_s=>Qt?[..._s,at]:_s.filter(Us=>Us!==at))},ae=q.filter(at=>at.tksGroupName.toLowerCase().includes(g.toLowerCase())||at.description.toLowerCase().includes(g.toLowerCase())),[me,ce]=o.useState(1),Ge=Math.ceil(ae.length/k),yt=ae.slice((me-1)*k,me*k),Gt=at=>{y(at?ae.map(Qt=>Qt.id):[])},W=(at,Qt)=>{y(_s=>Qt?[..._s,at]:_s.filter(Us=>Us!==at))},Be=()=>{const at=[];if(Ge<=7)for(let Qt=1;Qt<=Ge;Qt++)at.push(Qt);else if(me<=4){for(let Qt=1;Qt<=5;Qt++)at.push(Qt);at.push("..."),at.push(Ge)}else if(me>=Ge-3){at.push(1),at.push("...");for(let Qt=Ge-4;Qt<=Ge;Qt++)at.push(Qt)}else{at.push(1),at.push("...");for(let Qt=me-1;Qt<=me+1;Qt++)at.push(Qt);at.push("..."),at.push(Ge)}return at},rt=We.filter(at=>at.formName.toLowerCase().includes(g.toLowerCase())),ns=Math.ceil(rt.length/k),ps=rt.slice((Y-1)*k,Y*k),ct=at=>E(at),ss=()=>{const at=[];for(let Qt=1;Qt<=ns;Qt++)at.push(e.jsx("button",{onClick:()=>ct(Qt),className:`px-3 py-1 rounded border text-xs ${Y===Qt?"border-blue-500 bg-blue-500 text-white":"border-gray-300 bg-white hover:bg-gray-100"}`,children:Qt},Qt));return at},Ft=()=>{i.length!==0&&(Ce(at=>[...at,...i]),Ae(at=>at.filter(Qt=>!i.includes(Qt))),c([]))},Jt=()=>{n.length!==0&&(Ae(at=>[...at,...n]),Ce(at=>at.filter(Qt=>!n.includes(Qt))),l([]))},vt=()=>{$e.length!==0&&(Ce(at=>[...at,...$e]),Ae([]),c([]))},Kt=()=>{ve.length!==0&&(Ae(at=>[...at,...ve]),Ce([]),l([]))},jt=async()=>{try{const at=await gn.updateMembers(s,ve);at.success?Zs(at.message):zt(at.message)}catch{zt("Failed to save members.")}},Vt=()=>{K(!1),H(null),V({username:"",password:"",confirmPassword:"",expiration:"",machineName:"",suspended:!1,isWindowsAuth:!1,windowsLoginName:""}),F(!0)},cs=at=>{K(!0),H(at),V({username:at.username,password:"",confirmPassword:"",expiration:at.expiration,machineName:at.machineName,suspended:at.suspended,isWindowsAuth:at.isWindowsAuth,windowsLoginName:at.windowsLoginName}),F(!0)},sa=async at=>{if(!await ra.showDeleteUserConfirmDialog())return;const _s=ue.find(Us=>Us.id===at);if(_s)try{const Us=await gn.removeUser(_s.username);Us.success?(Zs(Us.message),st(je)):zt(Us.message)}catch{zt("Failed to remove user.")}},ua=async()=>{if(!P.username.trim()){zt("Please enter a username.");return}if(!ye&&!P.password.trim()){zt("Please enter a password.");return}if(!ye&&P.password!==P.confirmPassword){zt("Passwords do not match.");return}try{ye&&ne?(await gn.updateUser(ne.username,{expiration:P.expiration||void 0,machineName:P.machineName,suspended:P.suspended,isWindowsAuthenticate:P.isWindowsAuth,windowsLoginName:P.windowsLoginName}),Zs("User updated successfully.")):(await gn.createUser({username:P.username,password:P.password,expiration:P.expiration||void 0,machineName:P.machineName,suspended:P.suspended,isWindowsAuthenticate:P.isWindowsAuth,windowsLoginName:P.windowsLoginName}),Zs("User created successfully.")),F(!1),st(je)}catch{zt("Failed to save user.")}},ka=at=>{H(at),Se({oldPassword:"",newPassword:"",confirmNewPassword:""}),L(!0)},Ea=async()=>{if(!ee.oldPassword.trim()){zt("Please enter your old password.");return}if(!ee.newPassword.trim()){zt("Please enter a new password.");return}if(ee.newPassword!==ee.confirmNewPassword){zt("New passwords do not match.");return}try{const at=await gn.changePassword(ne.username,{oldPassword:ee.oldPassword,newPassword:ee.newPassword});at.success?(Zs(at.message),L(!1)):zt(at.message)}catch{zt("Failed to change password.")}},Ra=at=>{H(at),Se({oldPassword:"",newPassword:"",confirmNewPassword:""}),re(!0)},oa=async()=>{if(!ee.newPassword.trim()){zt("Please enter a new password.");return}if(ee.newPassword!==ee.confirmNewPassword){zt("Passwords do not match.");return}try{const at=await gn.resetPassword(ne.username,{newPassword:ee.newPassword});at.success?(Zs(at.message),re(!1)):zt(at.message)}catch{zt("Failed to reset password.")}},xa=()=>{R({groupName:"",description:""}),M(!0)},Ka=async at=>{if(!await ra.showDeleteGroupConfirmDialog("Are you sure you want to remove this user group?","Confirm Delete"))return;const _s=le.find(Us=>Us.id===at);if(_s)try{const Us=await gn.removeUserGroup(_s.groupName);Us.success?(Zs(Us.message),Ze()):zt(Us.message)}catch{zt("Failed to remove group.")}},Ha=async()=>{if(!D.groupName.trim()){zt("Please enter a group name.");return}try{await gn.createUserGroup(D.groupName,D.description),Zs("Group created successfully."),M(!1),Ze()}catch{zt("Failed to create group.")}},Ws=async at=>{Wt(!0);try{const Qt=await gn.saveGroupAccess({groupName:s,formName:at.formName,accessFlags:at.accessFlags});Qt.success?(Re(We.map(_s=>_s.id===at.id?at:_s)),Zs("Access saved.")):zt(Qt.message)}catch{zt("Failed to save access.")}finally{Wt(!1)}},Ta=async()=>{if(f.length)try{await Promise.all(f.map(at=>gn.removeTksGroupAccess(at))),Zs("Removed successfully."),y([]),ie(s)}catch{zt("Failed to remove TKS group access.")}};return o.useEffect(()=>{const at=Qt=>{Qt.key==="Escape"&&(A&&F(!1),O&&M(!1),U&&L(!1),G&&re(!1))};return(A||O||U||G)&&document.addEventListener("keydown",at),()=>{document.removeEventListener("keydown",at)}},[A,O,U,G]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-blue-600 text-white px-6 py-4 rounded-lg mb-1",children:e.jsxs("h1",{className:"text-white",children:[t==="security-manager"&&"User SetUp",t==="group-member"&&"Group Member SetUp",t==="security-control"&&"Security Control"]})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(lg,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure user accounts, manage user groups, and set up security permissions for forms and features. Control access levels and authentication methods for system security."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Create and manage user accounts"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure user group memberships"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set form-level access permissions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Windows authentication support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-1 mb-6 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>a("security-manager"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t ${t==="security-manager"?"text-white bg-blue-600 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(lg,{className:"w-4 h-4"})," Security Manager"]}),e.jsxs("button",{onClick:()=>a("group-member"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t ${t==="group-member"?"text-white bg-blue-600 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Js,{className:"w-4 h-4"})," Group Member SetUp"]}),e.jsxs("button",{onClick:()=>a("security-control"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t ${t==="security-control"?"text-white bg-blue-600 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(rx,{className:"w-4 h-4"})," Security Control"]})]}),t==="security-manager"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Users"}),e.jsxs("button",{onClick:Vt,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(u1,{className:"w-4 h-4"})," Add"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Username"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Expiration"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Log In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Machine Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Suspended"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"IsWindowsAuthenticate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"WindowsLoginName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ye?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-6 text-center text-gray-400 text-sm",children:"Loading..."})}):ue.map(at=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:at.username}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:at.expiration}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:at.logIn,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:at.machineName}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:at.suspended,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:at.isWindowsAuth,readOnly:!0,className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:at.windowsLoginName}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>ka(at),className:"px-3 py-1 text-xs text-blue-600 hover:text-blue-700 border border-blue-600 rounded hover:bg-blue-50",children:"Change Password"}),e.jsx("button",{onClick:()=>Ra(at),className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-700 border border-gray-600 rounded hover:bg-gray-50",children:"Reset"}),e.jsx("button",{onClick:()=>sa(at.id),className:"px-3 py-1 text-xs text-red-600 hover:text-red-700 border border-red-600 rounded hover:bg-red-50",children:"Remove"}),e.jsx("button",{onClick:()=>cs(at),className:"px-3 py-1 text-xs text-green-600 hover:text-green-700 border border-green-600 rounded hover:bg-green-50",children:"Edit"})]})})]},at.id))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{const at=Math.max(1,je-1);De(at),st(at)},disabled:je===1,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-blue-500 bg-blue-500 text-white text-xs",children:je}),e.jsx("button",{onClick:()=>{const at=Math.min(Qe,je+1);De(at),st(at)},disabled:je===Qe,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"User Group"}),e.jsxs("button",{onClick:xa,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(u1,{className:"w-4 h-4"})," Add"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"GroupName"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:St?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-400 text-sm",children:"Loading..."})}):le.map(at=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:at.groupName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:at.description}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{onClick:()=>Ka(at.id),className:"px-3 py-1 text-xs text-red-600 hover:text-red-700 border border-red-600 rounded hover:bg-red-50",children:"Remove"})})]},at.id))})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 rounded border border-blue-500 bg-blue-500 text-white text-xs",children:"1"}),e.jsx("button",{className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs",children:"Next"})]})]})]})]}),t==="group-member"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"User Group"}),e.jsx("select",{value:s,onChange:at=>{r(at.target.value),Rt(at.target.value)},className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:le.map(at=>e.jsx("option",{value:at.groupName,children:at.groupName},at.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3 text-sm",children:"Group Members"}),Et?e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-400 text-sm",children:"Loading..."}):e.jsx("select",{multiple:!0,value:n,onChange:at=>l(Array.from(at.target.selectedOptions,Qt=>Qt.value)),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:ve.map(at=>e.jsx("option",{value:at,children:at},at))})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsx("button",{onClick:Jt,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(vc,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Ft,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(a0,{className:"w-5 h-5"})}),e.jsx("button",{onClick:Kt,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(yP,{className:"w-5 h-5"})}),e.jsx("button",{onClick:vt,className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-gray-700 transition-colors",children:e.jsx(gP,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-gray-700 mb-3 text-sm",children:"Users"}),e.jsx("select",{multiple:!0,value:i,onChange:at=>c(Array.from(at.target.selectedOptions,Qt=>Qt.value)),className:"w-full h-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:$e.map(at=>e.jsx("option",{value:at,children:at},at))})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:jt,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 text-sm flex items-center gap-2",children:[e.jsx(za,{className:"w-4 h-4"})," Save Changes"]})})]}),t==="security-control"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-1 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>h("access-type"),className:`px-4 py-2 text-sm transition-colors ${u==="access-type"?"bg-gray-100 text-gray-900 border border-gray-300 border-b-white":"text-gray-600 hover:text-gray-900"}`,children:"Set Up AccessType"}),e.jsx("button",{onClick:()=>h("tks-group"),className:`px-4 py-2 text-sm transition-colors ${u==="tks-group"?"bg-gray-100 text-gray-900 border border-gray-300 border-b-white":"text-gray-600 hover:text-gray-900"}`,children:"Set Up TKS Group"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("label",{className:"block text-gray-700 mb-2",children:"User Group"}),e.jsx("select",{value:s,onChange:at=>{r(at.target.value),w(""),E(1)},className:"w-full md:w-64 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:le.map(at=>e.jsx("option",{value:at.description,children:at.description},at.id))})]}),u==="access-type"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-3",children:"Forms"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 h-96 overflow-y-auto",children:e.jsx("div",{className:"space-y-2",children:wt.map(at=>e.jsxs("label",{className:"flex items-center gap-2 hover:bg-gray-50 p-1 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:tt.includes(at.formName),onChange:Qt=>Le(_s=>Qt.target.checked?[..._s,at.formName]:_s.filter(Us=>Us!==at.formName)),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("div",{className:"flex flex-col min-w-0",children:e.jsx("span",{className:"text-sm text-gray-700 leading-tight",children:at.formDescription})})]},at.id))})})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-3",children:"Access Type"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsx("div",{className:"space-y-2",children:Dt.map(at=>e.jsxs("label",{className:"flex items-center gap-2 hover:bg-gray-50 p-1 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:He.includes(at.accessTypeName),onChange:Qt=>ge(_s=>Qt.target.checked?[..._s,at.accessTypeName]:_s.filter(Us=>Us!==at.accessTypeName)),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:at.description??at.accessTypeName})]},at.id))}),e.jsxs("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4"})," Add"]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"User Group Access"}),e.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 rounded px-3 py-1.5 bg-white w-64",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),e.jsx("input",{type:"text",placeholder:"Search form name...",value:g,onChange:at=>{w(at.target.value),E(1)},className:"flex-1 text-sm outline-none bg-transparent"}),g&&e.jsx("button",{onClick:()=>{w(""),E(1)},children:e.jsx(ot,{className:"w-3 h-3 text-gray-400 hover:text-gray-600"})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600",children:"Form Name"}),Dt.map(at=>e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:at.description??at.accessTypeName},at.id)),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Ee?e.jsx("tr",{children:e.jsx("td",{colSpan:Dt.length+2,className:"px-4 py-6 text-center text-gray-400 text-sm",children:"Loading..."})}):ps.map(at=>{const Qt=N===at.id,_s=Qt&&S?S:at;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:at.formName}),Dt.map(Us=>e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsx("input",{type:"checkbox",checked:_s.accessFlags[Us.accessTypeName]??!1,disabled:!Qt,onChange:nr=>{Qt&&S&&I({...S,accessFlags:{...S.accessFlags,[Us.accessTypeName]:nr.target.checked}})},className:"w-4 h-4 cursor-pointer"})},Us.id)),e.jsx("td",{className:"px-4 py-3 text-center",children:Qt?e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsxs("button",{onClick:async()=>{S&&await Ws(S),C(null),I(null)},disabled:Mt,className:"px-3 py-1 text-xs text-blue-600 hover:text-blue-700 border border-blue-600 rounded hover:bg-blue-50 flex items-center gap-1 disabled:opacity-50",children:[e.jsx(za,{className:"w-3 h-3"})," Save"]}),e.jsxs("button",{onClick:()=>{C(null),I(null)},className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-700 border border-gray-600 rounded hover:bg-gray-50 flex items-center gap-1",children:[e.jsx(ot,{className:"w-3 h-3"})," Cancel"]})]}):e.jsx("button",{onClick:()=>{C(at.id),I({...at})},className:"px-3 py-1 text-xs text-green-600 hover:text-green-700 border border-green-600 rounded hover:bg-green-50",children:"Edit"})})]},at.id)})})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>Y>1&&ct(Y-1),disabled:Y===1,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),ss(),e.jsx("button",{onClick:()=>Y<ns&&ct(Y+1),disabled:Y===ns,className:"px-3 py-1 rounded border border-gray-300 bg-white hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Es,{className:"w-4 h-4"})," Add"]})]}),e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:m,onChange:at=>{b(at.target.value),Nt(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:$t.length===et.length&&et.length>0,onChange:at=>Ie(at.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"TKS Group Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Je?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-gray-400 text-sm",children:"Loading..."})}):Oe.map(at=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:$t.includes(at.id),onChange:Qt=>te(at.id,Qt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:at.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:at.description})]},at.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",de.length===0?0:_+1," to ",Math.min(Fe,de.length)," of ",de.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Nt(at=>Math.max(at-1,1)),disabled:bt===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ke().map((at,Qt)=>at==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Qt}`):e.jsx("button",{onClick:()=>Nt(at),className:`px-2 py-1 rounded text-xs ${bt===at?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:at},at)),e.jsx("button",{onClick:()=>Nt(at=>Math.min(at+1,J)),disabled:bt===J||J===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-gray-900",children:"TKS Group Access"}),e.jsxs("button",{onClick:Ta,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Ns,{className:"w-4 h-4"})," Remove"]})]}),e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search...",value:g,onChange:at=>{w(at.target.value),ce(1)},className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:f.length===ae.length&&ae.length>0,onChange:at=>Gt(at.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"TKS Group Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"User Group"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:yt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-6 text-center text-gray-400 text-sm",children:"No records found."})}):yt.map(at=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:f.includes(at.id),onChange:Qt=>W(at.id,Qt.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:at.tksGroupCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:at.description}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:at.userGroup})]},at.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-2 pb-2",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ae.length===0?0:(me-1)*k+1," to ",Math.min(me*k,ae.length)," of ",ae.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ce(at=>Math.max(at-1,1)),disabled:me===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Be().map((at,Qt)=>at==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Qt}`):e.jsx("button",{onClick:()=>ce(at),className:`px-2 py-1 rounded text-xs ${me===at?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:at},at)),e.jsx("button",{onClick:()=>ce(at=>Math.min(at+1,Ge)),disabled:me===Ge||Ge===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]})]})]})}),A&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>F(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:ye?"Edit Area":"Create New"}),e.jsx("button",{onClick:()=>F(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Username *"}),e.jsx("input",{type:"text",value:P.username,onChange:at=>V({...P,username:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Expiration Date"}),e.jsx("input",{type:"text",value:P.expiration,onChange:at=>V({...P,expiration:at.target.value}),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),!ye&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password *"}),e.jsx("input",{type:"password",value:P.password,onChange:at=>V({...P,password:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Confirm Password *"}),e.jsx("input",{type:"password",value:P.confirmPassword,onChange:at=>V({...P,confirmPassword:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Machine Name"}),e.jsx("input",{type:"text",value:P.machineName,onChange:at=>V({...P,machineName:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Windows Login Name"}),e.jsx("input",{type:"text",value:P.windowsLoginName,onChange:at=>V({...P,windowsLoginName:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.suspended,onChange:at=>V({...P,suspended:at.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Suspended"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.isWindowsAuth,onChange:at=>V({...P,isWindowsAuth:at.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Windows Authentication"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:ua,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(za,{className:"w-4 h-4"})," Save"]}),e.jsx("button",{onClick:()=>F(!1),className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:"Cancel"})]})]})]})})]}),U&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>L(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Change Password"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Changing password for user: ",e.jsx("strong",{children:ne?.username})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Old Password *"}),e.jsx("input",{type:"password",value:ee.oldPassword,onChange:at=>Se({...ee,oldPassword:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"New Password *"}),e.jsx("input",{type:"password",value:ee.newPassword,onChange:at=>Se({...ee,newPassword:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Confirm New Password *"}),e.jsx("input",{type:"password",value:ee.confirmNewPassword,onChange:at=>Se({...ee,confirmNewPassword:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:Ea,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(d1,{className:"w-4 h-4"})," Change Password"]}),e.jsx("button",{onClick:()=>L(!1),className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:"Cancel"})]})]})]})})]}),G&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>re(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Reset Password"}),e.jsx("button",{onClick:()=>re(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Resetting password for user: ",e.jsx("strong",{children:ne?.username})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"New Password *"}),e.jsx("input",{type:"password",value:ee.newPassword,onChange:at=>Se({...ee,newPassword:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Confirm New Password *"}),e.jsx("input",{type:"password",value:ee.confirmNewPassword,onChange:at=>Se({...ee,confirmNewPassword:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:oa,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(d1,{className:"w-4 h-4"})," Reset Password"]}),e.jsx("button",{onClick:()=>re(!1),className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:"Cancel"})]})]})]})})]}),O&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:()=>M(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:"Add User Group"}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Group Name *"}),e.jsx("input",{type:"text",value:D.groupName,onChange:at=>R({...D,groupName:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",value:D.description,onChange:at=>R({...D,description:at.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs("button",{onClick:Ha,className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(za,{className:"w-4 h-4"})," Save"]}),e.jsx("button",{onClick:()=>M(!1),className:"px-6 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:"Cancel"})]})]})]})})]})]})}function dee({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function uee(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,c]=o.useState("05/05/2021"),[u,h]=o.useState(!1),[m,b]=o.useState("12/26/2025"),[g,w]=o.useState(""),[p,v]=o.useState(!1),[f,y]=o.useState(null),[N,C]=o.useState({top:0,left:0}),[S,I]=o.useState(""),[k,A]=o.useState([]),[F,O]=o.useState(1),[M,U]=o.useState(""),[L,G]=o.useState([]),[re,ye]=o.useState(1),K=10,[ne,H]=o.useState(!1),[se,we]=o.useState([]),[Y,E]=o.useState(!1),[P,V]=o.useState([]),D=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Qe=>({id:Qe.ID||Qe.id,code:Qe.groupCode||Qe.code,description:Qe.groupDescription||Qe.description}));o.useEffect(()=>{(async()=>{const Qe=await D();we(Qe)})()},[]);const R=async()=>{const De=await z.get("/EmployeeMasterFile");return(Array.isArray(De.data)?De.data:[]).map(qe=>({id:qe.empID??qe.ID??qe.id,code:qe.empCode||qe.code||"",name:`${qe.lName||""}, ${qe.fName||""} ${qe.mName||""}`.trim()}))};o.useEffect(()=>{(async()=>{const Qe=await R();V(Qe)})()},[]);const ee=se.filter(De=>De.code.toLowerCase().includes(S.toLowerCase())||De.description.toLowerCase().includes(S.toLowerCase())),Se=P.filter(De=>De.code.toLowerCase().includes(M.toLowerCase())||De.name.toLowerCase().includes(M.toLowerCase())),ue=Math.ceil(ee.length/K),oe=(F-1)*K,le=oe+K,Q=ee.slice((F-1)*K,F*K),ve=()=>{const De=[];if(ue<=7)for(let Qe=1;Qe<=ue;Qe++)De.push(Qe);else if(F<=4){for(let Qe=1;Qe<=5;Qe++)De.push(Qe);De.push("..."),De.push(ue)}else if(F>=ue-3){De.push(1),De.push("...");for(let Qe=ue-4;Qe<=ue;Qe++)De.push(Qe)}else{De.push(1),De.push("...");for(let Qe=F-1;Qe<=F+1;Qe++)De.push(Qe);De.push("..."),De.push(ue)}return De},Ce=Math.ceil(Se.length/K),$e=(re-1)*K,Ae=$e+K,We=Se.slice((re-1)*K,re*K),Re=()=>{const De=[];if(Ce<=5)return Array.from({length:Ce},(ht,St)=>St+1);De.push(1),re>3&&De.push("...");const qe=Math.max(2,re-1),Ye=Math.min(Ce-1,re+1);for(let ht=qe;ht<=Ye;ht++)De.push(ht);return re<Ce-2&&De.push("..."),De.push(Ce),De},et=De=>{A(De?se.map(Qe=>Qe.id):[])},B=(De,Qe)=>{A(qe=>Qe?[...qe,De]:qe.filter(Ye=>Ye!==De))},q=De=>{G(Qe=>Qe.includes(De)?Qe.filter(qe=>qe!==De):[...Qe,De])},Z=()=>{L.length===Se.length?G([]):G(Se.map(De=>De.id))},je=De=>{f==="dateRangeFrom"?l(De):f==="dateRangeTo"?c(De):f==="transactionDate"?b(De):f==="assumedDate"&&w(De)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export DTR Allowance"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(In,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Export Daily Time Record (DTR) and allowance data for payroll processing. Select employees by group, filter by status, and configure transaction dates."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export DTR and allowances"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by employee status"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Configure date ranges"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Leave and absence options"})]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:De=>I(De.target.value),placeholder:"",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:k.length===se.length,onChange:De=>et(De.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Q.map(De=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:k.includes(De.id),onChange:Qe=>B(De.id,Qe.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:De.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:De.description})]},De.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",ee.length===0?0:oe+1," to ",Math.min(le,ee.length)," of ",ee.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>O(De=>Math.max(De-1,1)),disabled:F===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ve().map((De,Qe)=>De==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Qe}`):e.jsx("button",{onClick:()=>O(De),className:`px-2 py-1 rounded text-xs ${F===De?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De},De)),e.jsx("button",{onClick:()=>O(De=>Math.min(De+1,ue)),disabled:F===ue||ue===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:M,onChange:De=>U(De.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===Se.length&&Se.length>0,onChange:Z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:We.map(De=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(De.id),onChange:()=>q(De.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:De.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:De.name})]},De.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",$e+1," to ",Math.min(Ae,Se.length)," of ",Se.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ye(De=>Math.max(1,De-1)),disabled:re===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Re().map((De,Qe)=>typeof De=="number"?e.jsx("button",{onClick:()=>ye(De),className:`px-2 py-1 rounded text-xs ${re===De?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:De},Qe):e.jsx("span",{className:"px-2",children:De},Qe)),e.jsx("button",{onClick:()=>ye(De=>Math.min(Ce,De+1)),disabled:re===Ce,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:s==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:s==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:s==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:De=>l(De.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:n,onChange:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:De=>c(De.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:i,onChange:c})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Transaction Date"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:De=>b(De.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:m,onChange:l})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:De=>h(De.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apply"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Assumed Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:De=>w(De.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:g,onChange:w})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:De=>v(De.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave WithOut Pay And Absences"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Export"]})})]})]})]})]})}),f&&e.jsx(dee,{value:f==="dateRangeFrom"?n:f==="dateRangeTo"?i:f==="transactionDate"?m:g,onChange:je,onClose:()=>y(null),position:N})]})}function xee({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const p=v=>{i.current&&!i.current.contains(v.target)&&s()};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=()=>{l(new Date(n.getFullYear(),n.getMonth()-1))},b=()=>{l(new Date(n.getFullYear(),n.getMonth()+1))},g=p=>{const v=n.getMonth()+1,f=n.getFullYear(),y=`${v}/${p}/${f}`;a(y),s()},w=()=>{const p=[],v=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let y=u-1;y>=0;y--)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v-y},`prev-${y}`));for(let y=1;y<=c;y++)p.push(e.jsx("div",{onClick:()=>g(y),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:y},y));const f=42-p.length;for(let y=1;y<=f;y++)p.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:y},`next-${y}`));return p};return e.jsxs("div",{ref:i,className:"absolute bg-white border border-gray-200 rounded-lg shadow-xl p-4 z-50",style:{top:r.top,left:r.left,width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:p},p))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:w()})]})}function hee(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState({top:0,left:0}),[n,l]=o.useState(null),[i,c]=o.useState("5/5/2021"),[u,h]=o.useState("05/05/2021"),[m,b]=o.useState("12/26/2025"),[g,w]=o.useState(""),[p,v]=o.useState([]),[f,y]=o.useState(1),N=10;o.useEffect(()=>{y(1)},[t]);const[C,S]=o.useState(!1),[I,k]=o.useState([]),[A,F]=o.useState(!1),[O,M]=o.useState([]),[U,L]=o.useState(!1),[G,re]=o.useState([]),[ye,K]=o.useState(!1),[ne,H]=o.useState([]),[se,we]=o.useState(!1),[Y,E]=o.useState([]),[P,V]=o.useState(!1),[D,R]=o.useState([]),ee=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ye=>({id:Ye.ID||Ye.id,code:Ye.groupCode||Ye.code,description:Ye.groupDescription||Ye.description}));o.useEffect(()=>{(async()=>{const Ye=await ee();k(Ye)})()},[]);const Se=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Ye=>({id:Ye.braID||Ye.ID,code:Ye.braCode||Ye.code,description:Ye.braDesc||Ye.description}));o.useEffect(()=>{(async()=>{const Ye=await Se();M(Ye)})()},[]);const ue=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Ye=>({id:Ye.depID||Ye.ID,code:Ye.depCode||Ye.code,description:Ye.depDesc||Ye.description}));o.useEffect(()=>{(async()=>{const Ye=await ue();re(Ye)})()},[]);const oe=async()=>{const qe=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(qe.data)?qe.data:[]).map(ht=>({id:ht.grpSchID||ht.id||ht.ID,code:ht.grpCode||ht.code,description:ht.grpDesc||ht.description}))};o.useEffect(()=>{(async()=>{const Ye=await oe();H(Ye)})()},[]);const le=async()=>{const qe=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(qe.data)?qe.data:[]).map(ht=>({id:ht.lineID??ht.ID??ht.id,code:ht.lineCode??ht.code,description:ht.lineDesc??ht.Description??ht.description}))};o.useEffect(()=>{(async()=>{const Ye=await le();E(Ye)})()},[]);const Q=async()=>{const qe=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(qe.data)?qe.data:[]).map(ht=>({id:ht.secID??ht.ID??ht.id,code:ht.secCode??ht.sectionCode??ht.code,description:ht.secDesc??ht.Description??ht.description}))};o.useEffect(()=>{(async()=>{const Ye=await Q();R(Ye)})()},[]);const $e=(()=>{switch(t){case"Branch":return O;case"Department":return G;case"Group Schedule":return ne;case"Pay House":return Y;case"Section":return D;default:return I}})().filter(qe=>qe.code.toLowerCase().includes(g.toLowerCase())||qe.description.toLowerCase().includes(g.toLowerCase())),Ae=Math.ceil($e.length/N),We=(f-1)*N,Re=We+N,et=$e.slice((f-1)*N,f*N),B=()=>{const qe=[];if(Ae<=7)for(let Ye=1;Ye<=Ae;Ye++)qe.push(Ye);else if(f<=4){for(let Ye=1;Ye<=5;Ye++)qe.push(Ye);qe.push("..."),qe.push(Ae)}else if(f>=Ae-3){qe.push(1),qe.push("...");for(let Ye=Ae-4;Ye<=Ae;Ye++)qe.push(Ye)}else{qe.push(1),qe.push("...");for(let Ye=f-1;Ye<=f+1;Ye++)qe.push(Ye);qe.push("..."),qe.push(Ae)}return qe},q=qe=>{v(Ye=>Ye.includes(qe)?Ye.filter(ht=>ht!==qe):[...Ye,qe])},Z=()=>{p.length===$e.length?v([]):v($e.map(qe=>qe.id))},je=qe=>{const Ye=qe.currentTarget.getBoundingClientRect();r({top:Ye.bottom,left:Ye.left}),l(qe.currentTarget.name)},De=qe=>{n==="dateFrom"?c(qe):n==="dateTo"?h(qe):n==="postingDate"&&b(qe),l(null)},Qe=()=>{l(null)};return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export NAV"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Br,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Export payroll and timekeeping data to NAV (Navision) accounting system. Select the date range and posting date, then choose the groups to export."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Export to NAV accounting system"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Select groups and departments"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Set posting dates"})]})]})]})]})}),e.jsx("div",{className:"mb-6 bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"flex items-center gap-6 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date From"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:i,onChange:qe=>c(qe.target.value),onClick:je,name:"dateFrom",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:qe=>{const ht=qe.currentTarget.previousElementSibling.getBoundingClientRect();r({top:ht.bottom+5,left:ht.left}),l("dateFrom")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Date To"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:u,onChange:qe=>h(qe.target.value),onClick:je,name:"dateTo",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:qe=>{const ht=qe.currentTarget.previousElementSibling.getBoundingClientRect();r({top:ht.bottom+5,left:ht.left}),l("dateTo")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Posting Date"}),e.jsxs("div",{className:"relative flex items-center gap-1",children:[e.jsx("input",{type:"text",value:m,onChange:qe=>b(qe.target.value),onClick:je,name:"postingDate",className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32"}),e.jsx("button",{onClick:qe=>{const ht=qe.currentTarget.previousElementSibling.getBoundingClientRect();r({top:ht.bottom+5,left:ht.left}),l("postingDate")},className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-4 h-4"})})]})]}),e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Export"]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar}].map(qe=>e.jsxs("button",{onClick:()=>a(qe.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===qe.name?"bg-blue-600 text-white":"text-gray-600 hover:bg-blue-50"}`,children:[e.jsx(qe.icon,{className:"w-4 h-4"}),qe.name]},qe.name))})}),e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:qe=>w(qe.target.value),placeholder:"",className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm text-gray-700 w-12",children:e.jsx("input",{type:"checkbox",onChange:Z,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsxs("th",{className:"px-4 py-3 text-left text-sm text-gray-700 cursor-pointer",children:["Code",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]}),e.jsxs("th",{className:"px-4 py-3 text-left text-sm text-gray-700 cursor-pointer",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:et.map(qe=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:p.includes(qe.id),onChange:Ye=>q(qe.id),className:"w-4 h-4"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:qe.code}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:qe.description})]},qe.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",$e.length===0?0:We+1," to ",Math.min(Re,$e.length)," of ",$e.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>y(qe=>Math.max(qe-1,1)),disabled:f===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),B().map((qe,Ye)=>qe==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ye}`):e.jsx("button",{onClick:()=>y(qe),className:`px-2 py-1 rounded text-xs ${f===qe?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:qe},qe)),e.jsx("button",{onClick:()=>y(qe=>Math.min(qe+1,Ae)),disabled:f===Ae||Ae===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),n&&e.jsx(xee,{value:n==="dateFrom"?i:n==="dateTo"?u:m,onChange:De,onClose:Qe,position:s})]})}function mee(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("active"),[n,l]=o.useState("5/5/2021"),[i,c]=o.useState("05/05/2021"),[u,h]=o.useState("12/26/2025"),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState("date"),[f,y]=o.useState("perfect"),[N,C]=o.useState("sql"),[S,I]=o.useState(""),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState(1),[L,G]=o.useState(1),[re,ye]=o.useState([]),[K,ne]=o.useState([]),[H,se]=o.useState([]),[we,Y]=o.useState([]),[E,P]=o.useState([]),[V,D]=o.useState([]),[R,ee]=o.useState([]),[Se,ue]=o.useState([]),[oe,le]=o.useState([]),Q=10,[ve,Ce]=o.useState({lates:!1,overtime:!1,otherEarnings:!1,undertime:!1,leaveAbsences:!1,daysAndHours:!1,selectAll:!1});o.useEffect(()=>{U(1)},[t]);const[$e,Ae]=o.useState(!1),[We,Re]=o.useState([]),[et,B]=o.useState(!1),[q,Z]=o.useState([]),[je,De]=o.useState(!1),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState(!1),[St,dt]=o.useState([]),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState([]),[$t,lt]=o.useState(!1),[bt,Nt]=o.useState([]),[wt,It]=o.useState(!1),[Dt,Ke]=o.useState([]),[tt,Le]=o.useState(!1),[He,ge]=o.useState([]),[st,Ze]=o.useState(""),Rt=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Kt=>({id:Kt.ID||Kt.id,code:Kt.groupCode||Kt.code,description:Kt.groupDescription||Kt.description}));o.useEffect(()=>{(async()=>{const Kt=await Rt();Re(Kt)})()},[]);const ft=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Kt=>({id:Kt.braID||Kt.ID,code:Kt.braCode||Kt.code,description:Kt.braDesc||Kt.description}));o.useEffect(()=>{(async()=>{const Kt=await ft();Z(Kt)})()},[]);const kt=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Kt=>({id:Kt.depID||Kt.ID,code:Kt.depCode||Kt.code,description:Kt.depDesc||Kt.description}));o.useEffect(()=>{(async()=>{const Kt=await kt();qe(Kt)})()},[]);const he=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Kt=>({id:Kt.divID||Kt.ID,code:Kt.divCode||Kt.code,description:Kt.divDesc||Kt.description}));o.useEffect(()=>{(async()=>{const Kt=await he();dt(Kt)})()},[]);const be=async()=>{const vt=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(vt.data)?vt.data:[]).map(jt=>({id:jt.grpSchID||jt.id||jt.ID,code:jt.grpCode||jt.code,description:jt.grpDesc||jt.description}))};o.useEffect(()=>{(async()=>{const Kt=await be();pe(Kt)})()},[]);const ie=async()=>{const vt=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(vt.data)?vt.data:[]).map(jt=>({id:jt.lineID??jt.ID??jt.id,code:jt.lineCode??jt.code,description:jt.lineDesc??jt.Description??jt.description}))};o.useEffect(()=>{(async()=>{const Kt=await ie();Wt(Kt)})()},[]);const de=async()=>{const vt=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(vt.data)?vt.data:[]).map(jt=>({id:jt.secID??jt.ID??jt.id,code:jt.secCode??jt.sectionCode??jt.code,description:jt.secDesc??jt.Description??jt.description}))};o.useEffect(()=>{(async()=>{const Kt=await de();Nt(Kt)})()},[]);const J=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Kt=>({id:Kt.unitID||Kt.ID,code:Kt.unitCode||Kt.code,description:Kt.unitDesc||Kt.description}));o.useEffect(()=>{(async()=>{const Kt=await J();Ke(Kt)})()},[]);const _={"TK Group":K,Branch:H,Department:we,Division:E,"Group Schedule":V,"Pay House":R,Section:Se,Unit:oe},Fe={"TK Group":ne,Branch:se,Department:Y,Division:P,"Group Schedule":D,"Pay House":ee,Section:ue,Unit:le},Oe=async()=>{const vt={groupCode:K.length?K:[""],braCode:H.length?H:[""],depCode:we.length?we:[""],divCode:E.length?E:[""],grpCode:V.length?V:[""],payCode:R.length?R:[""],secCode:Se.length?Se:[""],unitCode:oe.length?oe:[""],active:s==="active"?"1":s==="inactive"?"0":""},Kt=new URLSearchParams;Object.entries(vt).forEach(([cs,sa])=>{Array.isArray(sa)?sa.forEach(ua=>Kt.append(cs,ua)):sa&&Kt.append(cs,sa)});const jt=await z.get(`Maintenance/EmployeeMasterFile/GetByGroupCodeAndStatus?${Kt.toString()}`);return Array.isArray(jt.data)?jt.data.map(cs=>({id:cs.empID,code:cs.empCode,name:`${cs.fName} ${cs.mName?cs.mName+" ":""}${cs.lName}${cs.suffix?", "+cs.suffix:""}`})):[]};o.useEffect(()=>{(async()=>{const Kt=await Oe();ge(Kt)})()},[K,H,we,E,V,R,Se,oe,t,s]);const te=(()=>{switch(t){case"Branch":return q;case"Department":return Qe;case"Division":return St;case"Group Schedule":return Ee;case"Pay House":return Mt;case"Section":return bt;case"Unit":return Dt;default:return We}})().filter(vt=>(vt.code?.toLowerCase().includes(S.toLowerCase())??!1)||(vt.description?.toLowerCase().includes(S.toLowerCase())??!1)),Pe=(k||"").trim().toLowerCase(),ae=He.filter(vt=>{const Kt=(vt.code||"").toString().toLowerCase(),jt=(vt.name||"").toString().toLowerCase();return Kt.includes(Pe)||jt.includes(Pe)}),me=Math.ceil(te.length/Q),ce=(M-1)*Q,Ge=ce+Q,yt=te.slice((M-1)*Q,M*Q),Gt=()=>{const vt=[];if(me<=7)for(let Kt=1;Kt<=me;Kt++)vt.push(Kt);else if(M<=4){for(let Kt=1;Kt<=5;Kt++)vt.push(Kt);vt.push("..."),vt.push(me)}else if(M>=me-3){vt.push(1),vt.push("...");for(let Kt=me-4;Kt<=me;Kt++)vt.push(Kt)}else{vt.push(1),vt.push("...");for(let Kt=M-1;Kt<=M+1;Kt++)vt.push(Kt);vt.push("..."),vt.push(me)}return vt},W=Math.ceil(ae.length/Q),Be=(L-1)*Q,rt=Be+Q,ns=ae.slice((L-1)*Q,L*Q),ps=()=>{const vt=[];if(W<=5)return Array.from({length:W},(cs,sa)=>sa+1);vt.push(1),L>3&&vt.push("...");const jt=Math.max(2,L-1),Vt=Math.min(W-1,L+1);for(let cs=jt;cs<=Vt;cs++)vt.push(cs);return L<W-2&&vt.push("..."),vt.push(W),vt},ct=vt=>{ye(Kt=>Kt.includes(vt)?Kt.filter(jt=>jt!==vt):[...Kt,vt])},ss=()=>{const vt=_[t]||[],Kt=Fe[t];if(!Kt)return;const jt=te.map(cs=>cs.code),Vt=jt.every(cs=>vt.includes(cs));Kt(Vt?[]:jt)},Ft=()=>{re.length===ae.length?ye([]):ye(ae.map(vt=>vt.id))},Jt=vt=>{Ce({lates:vt,overtime:vt,otherEarnings:vt,undertime:vt,leaveAbsences:vt,daysAndHours:vt,selectAll:vt})};return e.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Export Payroll Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 rounded-lg p-5",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(In,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Export payroll and timekeeping data to external systems. Select the date range and transaction date, then choose the groups to export."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Export to SQL or Text File"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Filter by date range"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select groups and departments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Set transaction dates"})]})]})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-1 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>a("TK Group"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="TK Group"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Js,{className:"w-4 h-4"}),"TK Group"]}),e.jsxs("button",{onClick:()=>a("Branch"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="Branch"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(da,{className:"w-4 h-4"}),"Branch"]}),e.jsxs("button",{onClick:()=>a("Department"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Department"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ia,{className:"w-4 h-4"}),"Department"]}),e.jsxs("button",{onClick:()=>a("Division"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Division"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Kx,{className:"w-4 h-4"}),"Division"]}),e.jsxs("button",{onClick:()=>a("Group Schedule"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Group Schedule"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(OS,{className:"w-4 h-4"}),"Group Schedule"]}),e.jsxs("button",{onClick:()=>a("Pay House"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Pay House"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ca,{className:"w-4 h-4"}),"Pay House"]}),e.jsxs("button",{onClick:()=>a("Section"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Section"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(rr,{className:"w-4 h-4"}),"Section"]}),e.jsxs("button",{onClick:()=>a("Unit"),className:`px-4 py-2.5 text-sm transition-all flex items-center gap-2 rounded-t-lg ${t==="Unit"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(RS,{className:"w-4 h-4"}),"Unit"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:S,onChange:vt=>I(vt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:te.length>0&&te.every(vt=>(_[t]||[]).includes(vt.code)),onChange:ss,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:yt.map(vt=>{const Kt=_[t]||[],jt=Fe[t],Vt=Kt.includes(vt.code),cs=()=>{jt&&jt(Vt?Kt.filter(sa=>sa!==vt.code):[...Kt,vt.code])};return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:Vt,onChange:cs,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:vt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:vt.description})]},vt.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",ae.length===0?0:ce+1," ","to ",Math.min(Ge,te.length)," of"," ",te.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>U(vt=>Math.max(vt-1,1)),disabled:M===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Gt().map((vt,Kt)=>vt==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Kt}`):e.jsx("button",{onClick:()=>U(vt),className:`px-2 py-1 rounded text-xs ${M===vt?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:vt},vt)),e.jsx("button",{onClick:()=>U(vt=>Math.min(vt+1,me)),disabled:M===me||me===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:k,onChange:vt=>A(vt.target.value),placeholder:"",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:re.length===ae.length&&ae.length>0,onChange:Ft,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ns.map((vt,Kt)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:re.includes(vt.id),onChange:()=>ct(vt.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:vt.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:vt.name})]},vt.id??Kt))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",Be+1," to"," ",Math.min(rt,ae.length)," of"," ",ae.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>G(vt=>Math.max(1,vt-1)),disabled:L===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ps().map((vt,Kt)=>typeof vt=="number"?e.jsx("button",{onClick:()=>G(vt),className:`px-2 py-1 rounded text-xs ${L===vt?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:vt},Kt):e.jsx("span",{className:"px-2",children:vt},Kt)),e.jsx("button",{onClick:()=>G(vt=>Math.min(W,vt+1)),disabled:L===W,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-6",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"active",checked:s==="active",onChange:()=>r("active"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"inactive",checked:s==="inactive",onChange:()=>r("inactive"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"In Active"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"statusFilter",value:"all",checked:s==="all",onChange:()=>r("all"),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"All"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Date Range"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:n,onChange:vt=>l(vt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:n,onChange:l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:i,onChange:vt=>c(vt.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:i,onChange:c})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Transaction Date"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:u,onChange:vt=>h(vt.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:u,onChange:h})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer whitespace-nowrap",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:vt=>b(vt.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Apply"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Assumed Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:g,onChange:vt=>w(vt.target.value),className:"w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx(ys,{date:g,onChange:w})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Compute Per"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computePer",value:"date",checked:p==="date",onChange:()=>v("date"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Date"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computePer",value:"sum",checked:p==="sum",onChange:()=>v("sum"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Sum Per Cut Off"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Option"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.lates,onChange:vt=>Ce({...ve,lates:vt.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Lates"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.undertime,onChange:vt=>Ce({...ve,undertime:vt.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Undertime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.overtime,onChange:vt=>Ce({...ve,overtime:vt.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Overtime"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.leaveAbsences,onChange:vt=>Ce({...ve,leaveAbsences:vt.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Leave And Absences"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.otherEarnings,onChange:vt=>Ce({...ve,otherEarnings:vt.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Other Earnings"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.daysAndHours,onChange:vt=>Ce({...ve,daysAndHours:vt.target.checked}),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Days and No. of Hrs Worked"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ve.selectAll,onChange:vt=>Jt(vt.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select All Processes"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Email Status"}),e.jsx("div",{className:"h-20"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Compute As [Applies To Daily Paid Only]"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computeAs",value:"perfect",checked:f==="perfect",onChange:()=>y("perfect"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Perfect Hours"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"computeAs",value:"net",checked:f==="net",onChange:()=>y("net"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Net Of Unworked w/o pay Hours"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Export To"}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportTo",value:"sql",checked:N==="sql",onChange:()=>C("sql"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"SQL"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"exportTo",value:"text",checked:N==="text",onChange:()=>C("text"),className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Text File"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm flex items-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),"Export"]})})]})]})]})]})})})}const kb="Group Schedule SetUp";function pee(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(1),[i,c]=o.useState(null),[u,h]=o.useState(!1),[m,b]=o.useState({groupScheduleCode:"",groupScheduleDesc:""}),[g,w]=o.useState([]),[p,v]=o.useState(!1),[f,y]=o.useState("");o.useEffect(()=>{N()},[]);const N=async()=>{v(!0),y("");try{const se=await z.get("/Fs/Process/GroupScheduleSetUp");se.status===200&&se.data&&w(se.data)}catch(se){const we=se.response?.data?.message||se.message||"Failed to load group schedules";y(we),console.error("Error fetching group schedules:",se)}finally{v(!1)}},C=10,[S,I]=o.useState({}),k=se=>S[se]===!0;o.useEffect(()=>{A()},[]);const A=()=>{const se=localStorage.getItem("loginPayload");if(se)try{const E=(JSON.parse(se).permissions||[]).filter(V=>Ss(V.formName)==="GroupScheduleSetUp"),P={};E.forEach(V=>{const D=Ss(V.accessTypeName);D&&(P[D]=!0)}),I(P)}catch(we){console.error("Error parsing or decrypting payload",we)}},F=g.filter(se=>se.groupScheduleCode.toLowerCase().includes(t.toLowerCase())||se.groupScheduleDesc.toLowerCase().includes(t.toLowerCase())),O=Math.ceil(F.length/C),M=(n-1)*C,U=F.slice(M,M+C);o.useEffect(()=>{l(1)},[t]);const L=()=>{b({groupScheduleCode:"",groupScheduleDesc:""}),c(null),r(!0)},G=se=>{c(se),b({groupScheduleCode:se.groupScheduleCode,groupScheduleDesc:se.groupScheduleDesc}),r(!0)},re=async se=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${se.groupScheduleCode} - ${se.groupScheduleDesc}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/GroupScheduleSetUp/${se.groupScheduleID}`),await ts.log({accessType:"Delete",trans:`Deleted Group Schedule "${se.groupScheduleCode} - ${se.groupScheduleDesc}"`,messages:"Group schedule deleted successfully",formName:kb}),await xe.fire({icon:"success",title:"Success",text:"Group schedule deleted successfully.",timer:2e3,showConfirmButton:!1}),await N()}catch(Y){const E=Y.response?.data?.message||Y.message||"Failed to delete group schedule";await xe.fire({icon:"error",title:"Error",text:E}),console.error("Error deleting group schedule:",Y)}},ye=async se=>{if(se.preventDefault(),!m.groupScheduleCode.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(g.some(Y=>Y.groupScheduleCode.toLowerCase()===m.groupScheduleCode.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This group schedule code is already in use. Please use a different code."});return}h(!0);try{const Y={groupScheduleID:0,groupScheduleCode:m.groupScheduleCode,groupScheduleDesc:m.groupScheduleDesc};await z.post("/Fs/Process/GroupScheduleSetUp",Y),await ts.log({accessType:"Add",trans:`Created Group Schedule "${Y.groupScheduleCode} - ${Y.groupScheduleDesc}"`,messages:"Group schedule created successfully",formName:kb}),await xe.fire({icon:"success",title:"Success",text:"Group schedule created successfully.",timer:2e3,showConfirmButton:!1}),await N(),r(!1)}catch(Y){const E=Y.response?.data?.message||Y.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:E}),console.error("Error creating group schedule:",Y)}finally{h(!1)}},K=async se=>{if(se.preventDefault(),!i)return;if(!m.groupScheduleCode.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(g.some(Y=>Y.groupScheduleID!==i.groupScheduleID&&Y.groupScheduleCode.toLowerCase()===m.groupScheduleCode.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This group schedule code is already in use. Please use a different code."});return}h(!0);try{const Y={groupScheduleID:i.groupScheduleID,groupScheduleCode:m.groupScheduleCode,groupScheduleDesc:m.groupScheduleDesc};await z.put(`/Fs/Process/GroupScheduleSetUp/${i.groupScheduleID}`,Y),await ts.log({accessType:"Edit",trans:`Updated Group Schedule "${Y.groupScheduleCode} - ${Y.groupScheduleDesc}"`,messages:"Group schedule updated successfully",formName:kb}),await xe.fire({icon:"success",title:"Success",text:"Group schedule updated successfully.",timer:2e3,showConfirmButton:!1}),await N(),r(!1),c(null)}catch(Y){const E=Y.response?.data?.message||Y.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:E}),console.error("Error updating group schedule:",Y)}finally{h(!1)}},ne=se=>{i?K(se):ye(se)},H=()=>{r(!1),c(null)};return o.useEffect(()=>{const se=we=>{we.key==="Escape"&&s&&(r(!1),c(null))};return s&&document.addEventListener("keydown",se),()=>{document.removeEventListener("keydown",se)}},[s]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Group Schedule Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create and manage group schedule codes and descriptions for organizing employee schedules. Group schedules allow you to efficiently manage multiple employees with similar shift patterns."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Define group schedule codes"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Custom schedule descriptions"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Efficient schedule management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Team-based organization"})]})]})]})]})}),k("Add")&&k("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[k("Add")&&e.jsxs("button",{onClick:L,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),k("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:se=>a(se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),k("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),(k("Edit")||k("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:U.length>0?U.map(se=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:se.groupScheduleCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:se.groupScheduleDesc}),(k("Edit")||k("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[k("Edit")&&e.jsx("button",{onClick:()=>G(se),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),k("Edit")&&k("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),k("Delete")&&e.jsx("button",{onClick:()=>re(se),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},se.groupScheduleID)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),k("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",F.length>0?M+1:0," to ",Math.min(M+C,F.length)," of ",F.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>l(se=>Math.max(1,se-1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:O},(se,we)=>we+1).map(se=>e.jsx("button",{onClick:()=>l(se),className:`px-3 py-1 rounded transition-colors ${n===se?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:se},se)),e.jsx("button",{onClick:()=>l(se=>Math.min(O||1,se+1)),disabled:n>=O||F.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:i?"Edit":"Create New"}),e.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ne,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Group Schedule Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:m.groupScheduleCode,onChange:se=>b({...m,groupScheduleCode:se.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:m.groupScheduleDesc,onChange:se=>b({...m,groupScheduleDesc:se.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:u?i?"Updating...":"Submitting...":i?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:H,disabled:u,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(ls,{})]})}const Db="Help SetUp",Eb=z.defaults.uploadedBaseURL||"https://localhost:7264/uploaded/HelpSetUp";function gee(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState(null),[m,b]=o.useState(!1),[g,w]=o.useState({code:"",description:"",fileName:""}),[p,v]=o.useState(null),[f,y]=o.useState([]),[N,C]=o.useState(!1),[S,I]=o.useState(""),k=10,[A,F]=o.useState({}),O=R=>A[R]===!0;o.useEffect(()=>{M()},[]);const M=()=>{const R=localStorage.getItem("loginPayload");if(R)try{const ue=(JSON.parse(R).permissions||[]).filter(le=>Ss(le.formName)==="HelpSetUp"),oe={};ue.forEach(le=>{const Q=Ss(le.accessTypeName);Q&&(oe[Q]=!0)}),F(oe)}catch(ee){console.error("Error parsing or decrypting payload",ee)}};o.useEffect(()=>{U()},[]);const U=async()=>{C(!0),I("");try{const R=await z.get("/Fs/Process/HelpSetUp");R.status===200&&R.data&&y(R.data)}catch(R){const ee=R.response?.data?.message||R.message||"Failed to load help items";I(ee),console.error("Error fetching help items:",R)}finally{C(!1)}},L=R=>`${Eb}/${R}`,G=R=>{R&&window.open(L(R),"_blank","noopener,noreferrer")},re=f.filter(R=>R.code.toLowerCase().includes(t.toLowerCase())||R.description.toLowerCase().includes(t.toLowerCase())||R.fileName.toLowerCase().includes(t.toLowerCase())),ye=Math.ceil(re.length/k),K=(i-1)*k,ne=re.slice(K,K+k);o.useEffect(()=>{c(1)},[t]);const H=()=>{w({code:"",description:"",fileName:""}),v(null),r(!0)},se=R=>{h(R),w({code:R.code,description:R.description,fileName:R.fileName}),v(null),l(!0)},we=async R=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete help item "${R.code}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/HelpSetUp/${R.id}`),await ts.log({accessType:"Delete",trans:`Deleted Help Item "${R.code}"`,messages:"Help item deleted successfully",formName:Db}),await xe.fire({icon:"success",title:"Success",text:"Help item deleted successfully.",timer:2e3,showConfirmButton:!1}),await U()}catch(Se){await xe.fire({icon:"error",title:"Error",text:Se.response?.data?.message||Se.message||"Failed to delete help item"})}},Y=R=>{const ee=R.target.files?.[0];ee&&(v(ee),w(Se=>({...Se,fileName:ee.name})))},E=async R=>{if(R.preventDefault(),!g.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(f.some(ee=>ee.code.toLowerCase()===g.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different one."});return}b(!0);try{const ee=new FormData;ee.append("id","0"),ee.append("code",g.code),ee.append("description",g.description),ee.append("fileName",g.fileName),p&&ee.append("file",p),await z.post("/Fs/Process/HelpSetUp",ee,{headers:{"Content-Type":"multipart/form-data"}}),await ts.log({accessType:"Add",trans:`Created Help Item "${g.code}"`,messages:"Help item created successfully",formName:Db}),await xe.fire({icon:"success",title:"Success",text:"Help item created successfully.",timer:2e3,showConfirmButton:!1}),await U(),r(!1)}catch(ee){await xe.fire({icon:"error",title:"Error",text:ee.response?.data?.message||ee.message||"An error occurred"})}finally{b(!1)}},P=async R=>{if(R.preventDefault(),!!u){if(!g.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(f.some(ee=>ee.id!==u.id&&ee.code.toLowerCase()===g.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different one."});return}b(!0);try{const ee=new FormData;ee.append("id",String(u.id)),ee.append("code",g.code),ee.append("description",g.description),ee.append("fileName",g.fileName),p&&ee.append("file",p),await z.put(`/Fs/Process/HelpSetUp/${u.id}`,ee,{headers:{"Content-Type":"multipart/form-data"}}),await ts.log({accessType:"Edit",trans:`Updated Help Item "${g.code}"`,messages:"Help item updated successfully",formName:Db}),await xe.fire({icon:"success",title:"Success",text:"Help item updated successfully.",timer:2e3,showConfirmButton:!1}),await U(),l(!1),h(null)}catch(ee){await xe.fire({icon:"error",title:"Error",text:ee.response?.data?.message||ee.message||"An error occurred"})}finally{b(!1)}}},V=()=>{r(!1),l(!1),h(null),v(null)};o.useEffect(()=>{const R=ee=>{ee.key==="Escape"&&(s?r(!1):n&&(l(!1),h(null)))};return(s||n)&&document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[s,n]);const D=(R,ee)=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:R?"Edit Help Item":"Create New"}),e.jsx("button",{onClick:V,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ee,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Help Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:g.code,onChange:Se=>w({...g,code:Se.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:g.description,onChange:Se=>w({...g,description:Se.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap w-32",children:"File Name :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"file",onChange:Y,id:R?"file-upload-edit":"file-upload-create",className:"hidden"}),e.jsx("label",{htmlFor:R?"file-upload-edit":"file-upload-create",className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 cursor-pointer text-sm text-gray-700 transition-colors",children:"Choose File"}),e.jsx("span",{className:"text-sm text-gray-600",children:p?p.name:g.fileName||"No file chosen"}),R&&g.fileName&&e.jsxs("button",{type:"button",onClick:()=>G(g.fileName),className:"ml-2 px-3 py-1.5 bg-blue-50 border border-blue-300 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-1.5 text-sm flex-shrink-0",title:`Open: ${Eb}/${g.fileName}`,children:[e.jsx(c1,{className:"w-3.5 h-3.5"}),"View File"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:m?R?"Updating...":"Submitting...":R?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:V,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm text-sm",children:"Back to List"})]})]})]})});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Help Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Create and manage help documentation, user guides, and reference materials for the timekeeping system to assist users with various features and functionalities."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Comprehensive help documentation","Custom topic organization","Detailed content management","User-friendly reference system"].map(R=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:R})]},R))})]})]})}),O("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[O("Add")&&e.jsxs("button",{onClick:H,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"})," Create New"]}),O("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:R=>a(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:N?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading help items..."})}):S?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:S})}):O("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"File"}),(O("Edit")||O("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ne.length>0?ne.map(R=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:R.description}),e.jsx("td",{className:"px-6 py-4 text-sm",children:R.fileName?e.jsxs("button",{type:"button",onClick:()=>G(R.fileName),className:"text-blue-600 hover:text-blue-800 hover:underline flex items-center gap-1 transition-colors",title:`Open: ${Eb}/${R.fileName}`,children:[R.fileName,e.jsx(c1,{className:"w-3.5 h-3.5"})]}):e.jsx("span",{className:"text-gray-400 italic",children:"No file"})}),(O("Edit")||O("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[O("Edit")&&e.jsx("button",{onClick:()=>se(R),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),O("Edit")&&O("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),O("Delete")&&e.jsx("button",{onClick:()=>we(R),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},R.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),O("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",re.length>0?K+1:0," to ",Math.min(K+k,re.length)," of ",re.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(R=>Math.max(1,R-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ye},(R,ee)=>ee+1).map(R=>e.jsx("button",{onClick:()=>c(R),className:`px-3 py-1 rounded transition-colors ${i===R?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:R},R)),e.jsx("button",{onClick:()=>c(R=>Math.min(ye||1,R+1)),disabled:i>=ye||re.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),s&&D(!1,E),n&&u&&D(!0,P),e.jsx(ls,{})]})}function fee(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(!1),[u,h]=o.useState(1),[m,b]=o.useState(null),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState({code:"",description:"",chargeableTo:"",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}),[N,C]=o.useState([{id:1,code:"BL",description:"Birthday Leave",chargeableTo:"BL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:2,code:"HL",description:"Home Leave",chargeableTo:"HL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:3,code:"PL",description:"Paternity Leave",chargeableTo:"PL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:4,code:"SL",description:"Sick Leave",chargeableTo:"SL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:5,code:"SPL",description:"Solo Parent Leave",chargeableTo:"SPL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:6,code:"VL",description:"Vacation Leave",chargeableTo:"VL",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1},{id:7,code:"WN",description:"Leave with notice",chargeableTo:"WN",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}]),S=10,[I,k]=o.useState({}),A=E=>I[E]===!0;o.useEffect(()=>{F()},[]);const F=()=>{const E=localStorage.getItem("loginPayload");if(E)try{const D=(JSON.parse(E).permissions||[]).filter(ee=>Ss(ee.formName)==="LeaveTypeSetUp"),R={};D.forEach(ee=>{const Se=Ss(ee.accessTypeName);Se&&(R[Se]=!0)}),k(R)}catch(P){console.error("Error parsing or decrypting payload",P)}},O=N.filter(E=>E.code.toLowerCase().includes(t.toLowerCase())||E.description.toLowerCase().includes(t.toLowerCase())||E.chargeableTo.toLowerCase().includes(t.toLowerCase())),M=Math.ceil(O.length/S),U=(u-1)*S,L=O.slice(U,U+S),G=()=>{y({code:"",description:"",chargeableTo:"",withPay:!1,noBalance:!1,requiredAdvancedFiling:!1,exemptedFromAllowanceDeduction:!1,legal:!1,special:!1,special2:!1,doubleLegal:!1,nonWorking:!1}),w(""),r(!0)},re=E=>{b(E),y({code:E.code,description:E.description,chargeableTo:E.chargeableTo,withPay:E.withPay,noBalance:E.noBalance,requiredAdvancedFiling:E.requiredAdvancedFiling,exemptedFromAllowanceDeduction:E.exemptedFromAllowanceDeduction,legal:E.legal,special:E.special,special2:E.special2,doubleLegal:E.doubleLegal,nonWorking:E.nonWorking}),w(""),l(!0)},ye=E=>{confirm("Are you sure you want to delete this leave type?")&&C(P=>P.filter(V=>V.id!==E))},K=E=>{E.preventDefault();const P={id:Math.max(...N.map(V=>V.id),0)+1,code:f.code,description:f.description,chargeableTo:f.chargeableTo,withPay:f.withPay,noBalance:f.noBalance,requiredAdvancedFiling:f.requiredAdvancedFiling,exemptedFromAllowanceDeduction:f.exemptedFromAllowanceDeduction,legal:f.legal,special:f.special,special2:f.special2,doubleLegal:f.doubleLegal,nonWorking:f.nonWorking};C(V=>[...V,P]),r(!1)},ne=E=>{E.preventDefault(),m&&(C(P=>P.map(V=>V.id===m.id?{...V,code:f.code,description:f.description,chargeableTo:f.chargeableTo,withPay:f.withPay,noBalance:f.noBalance,requiredAdvancedFiling:f.requiredAdvancedFiling,exemptedFromAllowanceDeduction:f.exemptedFromAllowanceDeduction,legal:f.legal,special:f.special,special2:f.special2,doubleLegal:f.doubleLegal,nonWorking:f.nonWorking}:V)),l(!1),b(null))},H=()=>{r(!1),l(!1),b(null)},se=()=>{v(""),c(!0)},we=E=>{y({...f,chargeableTo:E}),c(!1),v("")},Y=N.filter(E=>E.code.toLowerCase().includes(p.toLowerCase())||E.description.toLowerCase().includes(p.toLowerCase()));return o.useEffect(()=>{const E=P=>{P.key==="Escape"&&(i?c(!1):s?r(!1):n&&(l(!1),b(null)))};return(i||s||n)&&document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[i,s,n]),e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-slate-700 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-white-700 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-20 left-1/2 transform -translate-x-1/2 w-96 h-96 bg-slate-600 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-[1600px] mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Leave Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define and configure different types of employee leaves including vacation, sick leave, emergency leave, and other leave categories with specific rules and earning code mappings."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple leave type categories"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Earning code integration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Flexible leave policies"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Comprehensive leave management"})]})]})]})]})}),A("View")&&e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[A("Add")&&e.jsxs("button",{onClick:G,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),A("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:E=>a(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),A("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Description"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Chargeable To"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"With Pay"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"No Balance"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Required Advanced Filing"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Exempted From Allowance Deduction"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Legal"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Special"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Special 2"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Double Legal"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Non-Working"}),(A("Edit")||A("Delete"))&&e.jsx("th",{className:"px-4 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:L.length>0?L.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 text-sm text-gray-900",children:E.code}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:E.description}),e.jsx("td",{className:"px-4 py-4 text-sm text-gray-600",children:E.chargeableTo}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.withPay,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.noBalance,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.requiredAdvancedFiling,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.exemptedFromAllowanceDeduction,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.legal,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.special,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.special2,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.doubleLegal,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4 text-center",children:e.jsx("input",{type:"checkbox",checked:E.nonWorking,readOnly:!0,className:"w-4 h-4 rounded border-gray-300 pointer-events-none"})}),e.jsx("td",{className:"px-4 py-4",children:(A("Edit")||A("Delete"))&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[A("Edit")&&e.jsx("button",{onClick:()=>re(E),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),A("Edit")&&A("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),A("Delete")&&e.jsx("button",{onClick:()=>ye(E.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},E.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:13,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),A("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",O.length>0?U+1:0," to ",Math.min(U+S,O.length)," of ",O.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(E=>Math.max(1,E-1)),disabled:u===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{className:`px-3 py-1 rounded ${u===1?"bg-blue-500 text-white":"text-blue-600 hover:bg-gray-100"}`,onClick:()=>h(1),children:"1"}),e.jsx("button",{onClick:()=>h(E=>Math.min(M||1,E+1)),disabled:u>=M||O.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:K,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Type Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Code :"}),e.jsx("input",{type:"text",value:f.code,onChange:E=>y({...f,code:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Description :"}),e.jsx("input",{type:"text",value:f.description,onChange:E=>y({...f,description:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Chargeable To :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f.chargeableTo,onChange:E=>y({...f,chargeableTo:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:se,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>y({...f,chargeableTo:""}),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:f.withPay,onChange:E=>y({...f,withPay:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"No Balance :"}),e.jsx("input",{type:"checkbox",checked:f.noBalance,onChange:E=>y({...f,noBalance:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Required Advanced Filing :"}),e.jsx("input",{type:"checkbox",checked:f.requiredAdvancedFiling,onChange:E=>y({...f,requiredAdvancedFiling:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Exempted From Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:f.exemptedFromAllowanceDeduction,onChange:E=>y({...f,exemptedFromAllowanceDeduction:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.legal,onChange:E=>y({...f,legal:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.special,onChange:E=>y({...f,special:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday 2 Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.special2,onChange:E=>y({...f,special2:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Double Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.doubleLegal,onChange:E=>y({...f,doubleLegal:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Non-Working Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.nonWorking,onChange:E=>y({...f,nonWorking:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Submit"}),e.jsx("button",{type:"button",onClick:H,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit Leave Type"}),e.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ne,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Type Setup"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Code :"}),e.jsx("input",{type:"text",value:f.code,onChange:E=>y({...f,code:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Description :"}),e.jsx("input",{type:"text",value:f.description,onChange:E=>y({...f,description:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-2 flex-shrink-0",children:"Chargeable To :"}),e.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[e.jsx("input",{type:"text",value:f.chargeableTo,onChange:E=>y({...f,chargeableTo:E.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{type:"button",onClick:se,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>y({...f,chargeableTo:""}),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:f.withPay,onChange:E=>y({...f,withPay:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"No Balance :"}),e.jsx("input",{type:"checkbox",checked:f.noBalance,onChange:E=>y({...f,noBalance:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Required Advanced Filing :"}),e.jsx("input",{type:"checkbox",checked:f.requiredAdvancedFiling,onChange:E=>y({...f,requiredAdvancedFiling:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Exempted From Allowance Deduction :"}),e.jsx("input",{type:"checkbox",checked:f.exemptedFromAllowanceDeduction,onChange:E=>y({...f,exemptedFromAllowanceDeduction:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.legal,onChange:E=>y({...f,legal:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.special,onChange:E=>y({...f,special:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Special Holiday 2 Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.special2,onChange:E=>y({...f,special2:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Double Legal Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.doubleLegal,onChange:E=>y({...f,doubleLegal:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm w-60 pt-1 flex-shrink-0",children:"Non-Working Holiday Filed As Leave :"}),e.jsx("input",{type:"checkbox",checked:f.nonWorking,onChange:E=>y({...f,nonWorking:E.target.checked}),className:"w-4 h-4 mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Update"}),e.jsx("button",{type:"button",onClick:H,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[110vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Search"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-600 hover:text-gray-800 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-blue-600",children:"Leave Type"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-900 text-sm whitespace-nowrap",children:"Search:"}),e.jsx("input",{type:"text",value:p,onChange:E=>v(E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"",autoFocus:!0})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-900",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm text-gray-900",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:Y.length>0?Y.map(E=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors cursor-pointer",onClick:()=>we(E.code),children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:E.code}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:E.description})]},E.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-12 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available"})})})})]})})]})})]})}),e.jsx(ls,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const Tb="Payroll Location SetUp";function yee(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(1),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(null),[p,v]=o.useState({key:null,direction:"asc"}),[f,y]=o.useState({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),[N,C]=o.useState([]),S=[{value:"M",label:"Monthly"},{value:"S",label:"Semi-Monthly"},{value:"D",label:"Daily"},{value:"W",label:"Weekly"}],I=D=>{const R=S.find(ee=>ee.value===D);return R?R.label:D};o.useEffect(()=>{k()},[]);const k=async()=>{b(!0);try{const D=await z.get("/Fs/Process/PayRollLocationSetUp");D.status===200&&D.data&&C(D.data)}catch(D){const R=D.response?.data?.message||D.message||"Failed to load payroll locations";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error fetching payroll locations:",D)}finally{b(!1)}},A=D=>{let R="asc";p.key===D&&p.direction==="asc"&&(R="desc"),v({key:D,direction:R})},F=D=>p.key!==D?"":p.direction==="asc"?"":"",M=[...N.filter(D=>D.locCode?.toLowerCase().includes(s.toLowerCase())||D.locName?.toLowerCase().includes(s.toLowerCase())||I(D.payCode)?.toLowerCase().includes(s.toLowerCase()))].sort((D,R)=>{if(!p.key)return 0;const ee=D[p.key],Se=R[p.key];return ee==null?1:Se==null?-1:ee<Se?p.direction==="asc"?-1:1:ee>Se?p.direction==="asc"?1:-1:0}),U=20,L=Math.ceil(M.length/U),G=(n-1)*U,re=G+U,ye=M.slice(G,re),K=()=>{const D=[];if(L<=5)return Array.from({length:L},(Se,ue)=>ue+1);D.push(1),n>3&&D.push("...");const R=Math.max(2,n-1),ee=Math.min(L-1,n+1);for(let Se=R;Se<=ee;Se++)D.push(Se);return n<L-2&&D.push("..."),D.push(L),D};o.useEffect(()=>{l(1)},[s]);const[ne,H]=o.useState({}),se=D=>ne[D]===!0;o.useEffect(()=>{we()},[]);const we=()=>{const D=localStorage.getItem("loginPayload");if(D)try{const Se=(JSON.parse(D).permissions||[]).filter(oe=>Ss(oe.formName)==="PayrollLocationSetup"),ue={};Se.forEach(oe=>{const le=Ss(oe.accessTypeName);le&&(ue[le]=!0)}),H(ue)}catch(R){console.error("Error parsing or decrypting payload",R)}},Y=()=>{y({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),c(!1),w(null),a(!0)},E=D=>{y({locCode:D.locCode||"",locName:D.locName||"",payCode:D.payCode||"M",noOfDays:D.noOfDays?.toString()||"0",noOfHours:D.noOfHours?.toString()||"0",totalPeriod:D.totalPeriod?.toString()||"0"}),c(!0),w(D.id),a(!0)},P=async D=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${D.locName}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/PayRollLocationSetUp/${D.id}`),await ts.log({accessType:"Delete",trans:`Deleted Payroll Location "${D.locCode}"`,messages:"Payroll location deleted successfully",formName:Tb}),await xe.fire({icon:"success",title:"Success",text:"Payroll location deleted successfully.",timer:2e3,showConfirmButton:!1}),await k()}catch(ee){const Se=ee.response?.data?.message||ee.message||"Failed to delete payroll location";await xe.fire({icon:"error",title:"Error",text:Se})}},V=async()=>{if(!f.locCode.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a Location Code."});return}h(!0);try{const D={id:0,locId:0,locCode:f.locCode,locName:f.locName||null,payCode:f.payCode||null,noOfDays:parseInt(f.noOfDays)||0,noOfHours:parseInt(f.noOfHours)||0,totalPeriod:parseInt(f.totalPeriod)||0,confidential:null,notedBy:null,preparedBy:null,reviewedBy:null,approvedBy:null,nonTaxAccum:0,header:null,desc1:null,desc2:null,desc3:null,desc4:null,contribFormula:null,contribPayPer:0,ins:null,insPayPer:0,pagIbig:null,pagPayPer:0,sssContrib:null,sssPayPer:0,philContrib:null,philPayPer:0,companyCode:null,clsCode:null,rateCode:null,costCenter1:null,costCenter2:null};if(i&&g!==null){const R={...D,id:g};await z.put(`/Fs/Process/PayRollLocationSetUp/${g}`,R),await ts.log({accessType:"Edit",trans:`Updated Payroll Location "${f.locCode}"`,messages:"Payroll location updated successfully",formName:Tb}),await xe.fire({icon:"success",title:"Success",text:"Payroll location updated successfully.",timer:2e3,showConfirmButton:!1})}else await z.post("/Fs/Process/PayRollLocationSetUp",D),await ts.log({accessType:"Add",trans:`Created Payroll Location "${f.locCode}"`,messages:"Payroll location created successfully",formName:Tb}),await xe.fire({icon:"success",title:"Success",text:"Payroll location created successfully.",timer:2e3,showConfirmButton:!1});a(!1),y({locCode:"",locName:"",payCode:"M",noOfDays:"0",noOfHours:"0",totalPeriod:"0"}),c(!1),w(null),await k()}catch(D){console.error("Error details:",D.response?.data||D.message);const R=D.response?.data?.message||D.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:R})}finally{h(!1)}};return o.useEffect(()=>{const D=R=>{R.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Payroll Location Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define payroll locations with specific pay schedules and period configurations. Set up location-based payroll processing parameters including pay codes, working days, hours, and total periods."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Location-specific pay schedules","Daily and semi-monthly configurations","Working days and hours setup","Total period definitions"].map(D=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:D})]},D))})]})]})}),se("View")&&e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[se("Add")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Y,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),se("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:D=>r(D.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),se("View")?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>A("locCode"),children:["Loc Code ",F("locCode")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>A("locName"),children:["Loc Name ",F("locName")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>A("payCode"),children:["Pay Code ",F("payCode")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>A("noOfDays"),children:["No. of Days ",F("noOfDays")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>A("noOfHours"),children:["No. of Hours ",F("noOfHours")]}),e.jsxs("th",{className:"px-4 py-2 text-left text-gray-700 cursor-pointer hover:bg-gray-200 select-none",onClick:()=>A("totalPeriod"),children:["Total Period ",F("totalPeriod")]}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:m?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):ye.length>0?ye.map(D=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:D.locCode}),e.jsx("td",{className:"px-4 py-2",children:D.locName}),e.jsx("td",{className:"px-4 py-2",children:I(D.payCode)}),e.jsx("td",{className:"px-4 py-2",children:D.noOfDays}),e.jsx("td",{className:"px-4 py-2",children:D.noOfHours}),e.jsx("td",{className:"px-4 py-2",children:D.totalPeriod}),(se("Edit")||se("Delete"))&&e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[se("Edit")&&e.jsx("button",{onClick:()=>E(D),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),se("Delete")&&e.jsx("button",{onClick:()=>P(D),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},D.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available"})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."}),se("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",M.length===0?0:G+1," to ",Math.min(re,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(D=>Math.max(D-1,1)),disabled:n===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),K().map((D,R)=>D==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${R}`):e.jsx("button",{onClick:()=>l(D),className:`px-4 py-2 rounded text-sm font-medium ${n===D?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:D},D)),e.jsx("button",{onClick:()=>l(D=>Math.min(D+1,L)),disabled:n===L||L===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:i?"Edit Payroll Location":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Payroll Location Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Loc Code :"}),e.jsx("input",{type:"text",value:f.locCode,onChange:D=>y({...f,locCode:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Loc Name :"}),e.jsx("input",{type:"text",value:f.locName,onChange:D=>y({...f,locName:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Pay Code :"}),e.jsx("select",{value:f.payCode,onChange:D=>y({...f,payCode:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:S.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"No. Of Days :"}),e.jsx("input",{type:"number",value:f.noOfDays,onChange:D=>y({...f,noOfDays:D.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"No. Of Hours :"}),e.jsx("input",{type:"number",value:f.noOfHours,onChange:D=>y({...f,noOfHours:D.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-36 text-gray-700 text-sm",children:"Total Period :"}),e.jsx("input",{type:"number",value:f.totalPeriod,onChange:D=>y({...f,totalPeriod:D.target.value}),className:"w-32 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:V,disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Processing...":i?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:u,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})})]})]})}),e.jsx(ls,{})]})}const Lx=25,Ab="Unpaid Lunch Deduction Bracket SetUp",Fb={otHours:"",lunchDeduction:""};function ad(t){if(t==null)return"";const a=Math.round(t*60),s=Math.floor(a/60).toString().padStart(2,"0"),r=(a%60).toString().padStart(2,"0");return`${s}:${r}`}function x4(t){if(!t||!t.includes(":"))return null;const[a,s]=t.split(":").map(Number);return isNaN(a)||isNaN(s)?null:a+s/60}function h4(t){const a=t.replace(/[^\d]/g,"").slice(0,4);return a.length>=3?`${a.slice(0,2)}:${a.slice(2)}`:a}function bee(){const[t,a]=o.useState([]),[s,r]=o.useState(0),[n,l]=o.useState(!1),[i,c]=o.useState(""),[u,h]=o.useState(1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(null),[f,y]=o.useState(Fb),N=o.useRef(null),C=o.useCallback(async()=>{l(!0);try{const L=(u-1)*Lx,G=await z.get("/Fs/Process/UnpaidLunchDeductionBracketSetUp",{params:{start:L,length:Lx}});a(G.data.data),r(G.data.totalCount)}catch(L){console.error("Failed to fetch unpaid lunch deduction brackets:",L),xe.fire({icon:"error",title:"Error",text:"Failed to load records. Please try again."})}finally{l(!1)}},[u]);o.useEffect(()=>{C()},[C]);const S=t.filter(L=>{if(!i)return!0;const G=i.toLowerCase();return ad(L.otHours).includes(G)||ad(L.lunchDeduction).includes(G)}),I=Math.max(1,Math.ceil(s/Lx)),k=(u-1)*Lx,A=Math.min(k+Lx,s);o.useEffect(()=>{if(!m)return;const L=G=>{G.key==="Escape"&&b(!1)};return document.addEventListener("keydown",L),setTimeout(()=>N.current?.focus(),100),()=>document.removeEventListener("keydown",L)},[m]);const F=()=>{y(Fb),w(!1),v(null),b(!0)},O=L=>{y({otHours:ad(L.otHours),lunchDeduction:ad(L.lunchDeduction)}),v(L.id),w(!0),b(!0)},M=async L=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete this bracket (OT: ${ad(L.otHours)})?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/UnpaidLunchDeductionBracketSetUp/${L.id}`),await ts.log({accessType:"Delete",trans:`Deleted unpaid lunch deduction bracket ID ${L.id}`,messages:`Bracket deleted  OTHours: ${ad(L.otHours)}, LunchDeduction: ${ad(L.lunchDeduction)}`,formName:Ab}),await C(),xe.fire({icon:"success",title:"Deleted",text:"Record has been deleted.",timer:1500,showConfirmButton:!1})}catch(re){const ye=re?.response?.data?.message||re.message||"Failed to delete the record.";console.error("Failed to delete bracket:",re),xe.fire({icon:"error",title:"Error",text:ye})}},U=async()=>{if(!f.otHours.trim()){xe.fire({icon:"warning",title:"Validation",text:"Please enter OT Hours."});return}if(!f.lunchDeduction.trim()){xe.fire({icon:"warning",title:"Validation",text:"Please enter Lunch Deduction."});return}const L={otHours:x4(f.otHours),lunchDeduction:x4(f.lunchDeduction)};if(g&&!(await xe.fire({icon:"question",title:"Confirm Update",text:"Are you sure you want to update this record?",showCancelButton:!0,confirmButtonColor:"#2563eb",cancelButtonColor:"#6b7280",confirmButtonText:"Update",cancelButtonText:"Cancel"})).isConfirmed)return;const G=()=>{b(!1),y(Fb),w(!1),v(null)};try{g&&p!==null?(await z.put(`/Fs/Process/UnpaidLunchDeductionBracketSetUp/${p}`,L),await ts.log({accessType:"Edit",trans:`Edited unpaid lunch deduction bracket ID ${p}`,messages:`Bracket updated  OTHours: ${f.otHours}, LunchDeduction: ${f.lunchDeduction}`,formName:Ab}),G(),await C(),xe.fire({icon:"success",title:"Updated",text:"Record updated successfully.",timer:1500,showConfirmButton:!1})):(await z.post("/Fs/Process/UnpaidLunchDeductionBracketSetUp",L),await ts.log({accessType:"Add",trans:"Added unpaid lunch deduction bracket",messages:`Bracket created  OTHours: ${f.otHours}, LunchDeduction: ${f.lunchDeduction}`,formName:Ab}),G(),await C(),xe.fire({icon:"success",title:"Created",text:"Record created successfully.",timer:1500,showConfirmButton:!1}))}catch(re){const ye=re?.response?.data?.message||re.message||"Failed to save the record.";console.error("Failed to save bracket:",re),xe.fire({icon:"error",title:"Error",text:ye})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Unpaid Lunch Deduction Bracket Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define unpaid lunch deduction brackets based on overtime hours worked. Configure automatic lunch break deductions that apply when employees exceed specified overtime thresholds."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Overtime-based deductions","Automated lunch calculations","Time-based brackets","Flexible deduction rules"].map(L=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:L})]},L))})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:F,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:i,onChange:L=>c(L.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64",placeholder:"hh:mm"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Overtime [hh:mm] "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Lunch Deduction [hh:mm]"}),e.jsx("th",{className:"px-4 py-2 text-center text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsxs("td",{colSpan:3,className:"text-center py-8 text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline-block mr-2"}),"Loading..."]})}):S.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"text-center py-8 text-gray-500",children:"No data available in table"})}):S.map(L=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ad(L.otHours)}),e.jsx("td",{className:"px-4 py-2",children:ad(L.lunchDeduction)}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>O(L),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>M(L),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},L.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600",children:s===0?"No entries":`Showing ${k+1} to ${A} of ${s} entries`}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>h(L=>Math.max(1,L-1)),disabled:u===1,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:u}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",onClick:()=>h(L=>Math.min(I,L+1)),disabled:u===I||I===0,children:"Next"})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:g?"Edit":"Create New"}),e.jsx("button",{onClick:()=>b(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Unpaid Lunch Deduction Bracket Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"OTHours :"}),e.jsx("input",{ref:N,type:"text",value:f.otHours,onChange:L=>y({...f,otHours:h4(L.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"hh:mm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Lunch Deduction :"}),e.jsx("input",{type:"text",value:f.lunchDeduction,onChange:L=>y({...f,lunchDeduction:h4(L.target.value)}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"hh:mm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:U,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:g?"Update":"Submit"}),e.jsx("button",{onClick:()=>b(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})}),e.jsx(ls,{})]})}function no(t,a,s,r=10){const[n,l]=o.useState(1),i=a.trim().toLowerCase(),c=t.filter(g=>i===""?!0:s(g,i)),u=Math.max(1,Math.ceil(c.length/r)),h=(n-1)*r,m=c.slice(h,h+r);return o.useEffect(()=>{l(1)},[a]),{filteredData:c,paginatedData:m,totalPages:u,currentPage:n,setCurrentPage:l,getPageNumbers:()=>{const g=[];for(let w=1;w<=u;w++)w===1||w===u||w>=n-1&&w<=n+1?g.push(w):g[g.length-1]!=="..."&&g.push("...");return g},startIndex:h}}function vee({tksGroupCode:t,tksGroupDescription:a,isEditMode:s,regularDayOT:r,setRegularDayOT:n,restDayOT:l,setRestDayOT:i,legalHolidayOT:c,setLegalHolidayOT:u,specialHolidayOT:h,setSpecialHolidayOT:m,doubleLegalHolidayOT:b,setDoubleLegalHolidayOT:g,specialHolidayOT2:w,setSpecialHolidayOT2:p,nonWorkingHolidayOT:v,setNonWorkingHolidayOT:f,regularDayOTLateFiling:y,setRegularDayOTLateFiling:N,restDayOTLateFiling:C,setRestDayOTLateFiling:S,legalHolidayOTLateFiling:I,setLegalHolidayOTLateFiling:k,specialHolidayOTLateFiling:A,setSpecialHolidayOTLateFiling:F,doubleLegalHolidayOTLateFiling:O,setDoubleLegalHolidayOTLateFiling:M,specialHoliday2OTLateFiling:U,setSpecialHoliday2OTLateFiling:L,nonWorkingHolidayOTLateFiling:G,setNonWorkingHolidayOTLateFiling:re,otBreakMinHours:ye,setOtBreakMinHours:K}){const ne="px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",H="px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",[se,we]=o.useState(!1),[Y,E]=o.useState(""),[P,V]=o.useState(""),[D,R]=o.useState(!1),[ee,Se]=o.useState(""),[ue,oe]=o.useState(!1),[le,Q]=o.useState(""),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState(""),[We,Re]=o.useState(!1),[et,B]=o.useState(""),[q,Z]=o.useState(!1),[je,De]=o.useState(""),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState(""),[St,dt]=o.useState(!1),[Et,Te]=o.useState(""),[Ee,pe]=o.useState(!1),[Je,pt]=o.useState(""),[Mt,Wt]=o.useState(""),[$t,lt]=o.useState(""),[bt,Nt]=o.useState(""),[wt,It]=o.useState(""),[Dt,Ke]=o.useState([]),tt=10,[Le,He]=o.useState(!1),[ge,st]=o.useState([]),[Ze,Rt]=o.useState([]),[ft,kt]=o.useState([]),[he,be]=o.useState([]),[ie,de]=o.useState([]),[J,_]=o.useState([]),[Fe,Oe]=o.useState([]),ke=[{code:"E01",description:"Regular Pay"},{code:"E02",description:"Overtime"},{code:"E03",description:"Charge SL/VL"},{code:"E04",description:"Absences"},{code:"E05",description:"UT/Tardiness"},{code:"E06",description:"13th Month Pay NonTax"},{code:"E07",description:"COLA"},{code:"E08",description:"Transportation Expense Reimbursement Allowance"},{code:"E09",description:"Onsite Rollform Allowance"},{code:"E10",description:"Overwithheld"}],{paginatedData:Ie,totalPages:te,currentPage:Pe,setCurrentPage:ae,getPageNumbers:me}=no(ge,le,(it,qt)=>it.code?.toLowerCase().includes(qt)||it.description?.toLowerCase().includes(qt),tt),ce=(Pe-1)*tt,Ge=ce+tt,{paginatedData:yt,totalPages:Gt,currentPage:W,setCurrentPage:Be,getPageNumbers:rt}=no(Ze,$e,(it,qt)=>it.code?.toLowerCase().includes(qt)||it.description?.toLowerCase().includes(qt),tt),ns=(W-1)*tt,ps=ns+tt,{paginatedData:ct,totalPages:ss,currentPage:Ft,setCurrentPage:Jt,getPageNumbers:vt}=no(ft,et,(it,qt)=>it.code?.toLowerCase().includes(qt)||it.description?.toLowerCase().includes(qt),tt),Kt=(Ft-1)*tt,jt=Kt+tt,{paginatedData:Vt,totalPages:cs,currentPage:sa,setCurrentPage:ua,getPageNumbers:ka}=no(he,je,(it,qt)=>it.code?.toLowerCase().includes(qt)||it.description?.toLowerCase().includes(qt),tt),Ea=(sa-1)*tt,Ra=Ea+tt,{paginatedData:oa,totalPages:xa,currentPage:Ka,setCurrentPage:Ha,getPageNumbers:Ws}=no(ie,Ye,(it,qt)=>it.code?.toLowerCase().includes(qt)||it.description?.toLowerCase().includes(qt),tt),Ta=(Ka-1)*tt,at=Ta+tt,{paginatedData:Qt,totalPages:_s,currentPage:Us,setCurrentPage:nr,getPageNumbers:Ma}=no(J,Et,(it,qt)=>it.code?.toLowerCase().includes(qt)||it.description?.toLowerCase().includes(qt),tt),wa=(Us-1)*tt,ya=wa+tt,{paginatedData:gt,totalPages:bs,currentPage:_e,setCurrentPage:nt,getPageNumbers:xs}=no(Fe,Je,(it,qt)=>it.code?.toLowerCase().includes(qt)||it.description?.toLowerCase().includes(qt),tt),Bs=(_e-1)*tt,Ue=Bs+tt,_t=async()=>(await z.get("/Fs/Process/Overtime/RegularDayOTRateSetUp")).data.map(qt=>({id:qt.id,code:qt.code,description:qt.desc,afterTheShift:qt.afterTheShift,withinTheShiftND:qt.withinTheShiftND,afterTheShiftND:qt.afterTheShiftND,oTPremiumAfterTheShift:qt.otPremiumAfterTheShift,oTPremiumWithinTheShift:qt.otPremiumWithinTheShift,doleRegDay:qt.doleRegDay})),Ve=async()=>(await z.get("/Fs/Process/Overtime/RestDayOTRateSetUp")).data.map(qt=>({id:qt.id,code:qt.code,description:qt.desc,withinTheShift:qt.withinTheShift,afterTheShift:qt.afterTheShift,withinTheShiftWithND:qt.withinTheShiftWithND,afterTheShiftWithND:qt.afterTheShiftWithND,oTPremiumWithinTheShiftWithND:qt.otPremiumWithinTheShiftWithND,oTPremiumAfterTheShiftWithND:qt.otPremiumAfterTheShiftWithND,equiOTCode:qt.equiOTCode,eqOTCodeAfterShiftForNoOfHours:qt.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAfterShiftNDForNoOfHours:qt.eqOTCodeAftrShfNDForNoOfHrs})),ds=async()=>(await z.get("/Fs/Process/Overtime/HolidayOTRateSetUp")).data.map(qt=>({id:qt.id,code:qt.code,description:qt.desc,withinTheShift:qt.withintheShift,afterTheShift:qt.aftetheShift,withinTheShiftWithND:qt.withintheShiftwithND,afterTheShiftWithND:qt.aftertheShiftwithND,withinTheShiftAndRestday:qt.withintheShiftandRestday,afterTheShiftAndRestday:qt.aftertheShiftandRestday,withinTheShiftAndRestdayWithND:qt.withintheShiftandRestdaywithND,afterTheShiftAndRestdayWithND:qt.aftertheShiftandRestdaywithND,unworkedHolidayPay:qt.unworkedHolidayPay,unworkedHolidayPayRestday:qt.unworkedHolidayPayRestday,holidayType:qt.holidayType,unprodWorkHolidayRegDay:qt.unprodWorkHolidayRegDay,unprodWorkHolidayRestDay:qt.unprodWorkHolidayRestDay,otPremiumWithinTheShiftWithND:qt.otPremiumWithintheShiftwithND,otPremiumAfterTheShiftWithND:qt.otPremiumAftertheShiftwithND,otPremiumWithinTheShiftAndRestdayWithND:qt.otPremiumWithintheShiftandRestdaywithND,otPremiumAfterTheShiftAndRestdayWithND:qt.otPremiumAftertheShiftandRestdaywithND,eqOTCodeWinShf:qt.eqOTCodeWinShf,eqOTCodeWinShfRest:qt.eqOTCodeWinShfRest,eqOTCodeAftrShfForNoOfHrs:qt.eqOTCodeAftrShfForNoOfHrs,eqOTCodeAftrShfRDForNoOfHrs:qt.eqOTCodeAftrShfRDForNoOfHrs,eqOTCodeAftrShfNDForNoOfHrs:qt.eqOTCodeAftrShfNDForNoOfHrs,eqOTCodeAftrShfRDNDForNoOfHrs:qt.eqOTCodeAftrShfRDNDForNoOfHrs}));o.useEffect(()=>{const it=async()=>{const ba=await _t();st(ba)},qt=async()=>{const ba=await Ve();Rt(ba)},or=async()=>{const br=(await ds()).filter(ut=>ut.code==="LEGAL"||ut.code==="LEGAL_D");kt(br)},Hr=async()=>{const br=(await ds()).filter(ut=>ut.code==="SPECIAL"||ut.code==="SPECIAL_D");be(br)},Nr=async()=>{const br=(await ds()).filter(ut=>ut.code==="DOUBLE LEGAL");de(br),console.log("Double Legal Holiday OT Rates:",br)},jr=async()=>{const br=(await ds()).filter(ut=>ut.code==="SPECIAL2");_(br)},Ya=async()=>{const br=(await ds()).filter(ut=>ut.code==="NON WORKING");Oe(br)};it(),qt(),or(),Hr(),Nr(),jr(),Ya()},[]),o.useEffect(()=>{const it=qt=>{qt.key==="Escape"&&(se?we(!1):D&&R(!1))};return(se||D)&&document.addEventListener("keydown",it),()=>{document.removeEventListener("keydown",it)}},[se,D]);const ws=()=>{if(s){if(!Mt||!$t||!bt||!wt){alert("Please fill in all fields before adding.");return}Ke([...Dt,{minOTHrs:Mt,accumOTHrs:$t,amount:bt,earningCode:wt}]),Wt(""),lt(""),Nt(""),It("")}},ea=it=>{It(it),we(!1)},er=()=>{It("")},qa=it=>{s&&Ke(Dt.filter((qt,or)=>or!==it))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:t,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded text-sm bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Definition"}),e.jsx("input",{type:"text",value:a,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded text-sm bg-gray-100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Regular Day Overtime Rates"}),e.jsx("input",{type:"text",value:r,onChange:it=>n(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>oe(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>n(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Rest Day Overtime Rates"}),e.jsx("input",{type:"text",value:l,onChange:it=>i(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{Ce(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>i(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Legal Holiday Overtime Rates"}),e.jsx("input",{type:"text",value:c,onChange:it=>u(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Re(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>u(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Special Holiday Overtime Rates"}),e.jsx("input",{type:"text",value:h,onChange:it=>m(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Z(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>m(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Double Legal Holiday"}),e.jsx("input",{type:"text",value:b,onChange:it=>g(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>qe(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>g(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Special Holiday 2"}),e.jsx("input",{type:"text",value:w,onChange:it=>p(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>dt(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>p(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Non-Working Holiday"}),e.jsx("input",{type:"text",value:v,onChange:it=>f(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>pe(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>f(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56",children:"Use OT Premium BreakDown"}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56",children:"Use Actual Day Type"}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56",children:"Holiday With Workshift"}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56",children:"Deduct MealBreak in OT Comp."}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56",children:"Compute OT for Break2Out/Break2In"}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56",children:"Enable 24-hr OT"}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s})]}),e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56 pt-1",children:"Include Unworked Holiday Pay in the Regular Days/Hours"}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0})]}),e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-gray-700 text-sm w-56 pt-1",children:"Sunday Work is considered OT if Worked on Saturday"}),e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-300",children:[e.jsx("h4",{className:"text-gray-700 mb-4",children:"Overtime Code for Late Filing"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Regular Day Overtime Rates"}),e.jsx("input",{type:"text",value:y,onChange:it=>N(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{oe(!0),He(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>N(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Rest Day Overtime Rates"}),e.jsx("input",{type:"text",value:C,onChange:it=>S(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{Ce(!0),He(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>S(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Legal Holiday Overtime Rates"}),e.jsx("input",{type:"text",value:I,onChange:it=>k(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{Re(!0),He(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Special Holiday Overtime Rates"}),e.jsx("input",{type:"text",value:A,onChange:it=>F(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{Z(!0),He(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>F(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Double Legal Holiday"}),e.jsx("input",{type:"text",value:O,onChange:it=>M(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{qe(!0),He(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Special Holiday 2"}),e.jsx("input",{type:"text",value:U,onChange:it=>L(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{dt(!0),He(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>L(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm text-right",children:"Non-Working Holiday"}),e.jsx("input",{type:"text",value:G,onChange:it=>re(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{pe(!0),He(!0)},className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>re(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-300",children:[e.jsx("h4",{className:"text-red-600 mb-4",children:"OT Break"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Minimum Hours"}),e.jsx("input",{type:"text",value:ye,onChange:it=>K(it.target.value),readOnly:!s,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"No. of Hrs Deductible"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.hh]"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-gray-700 text-sm mb-2 block",children:"Applies To:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4 pl-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Regular Day"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Rest Day"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Legal Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Legal Holiday Falling On Restday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Special Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Special Holiday Falling On Restday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Double Legal Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Double Legal Holiday Falling On Restday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Special 2 Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Special 2 Holiday Falling On Restday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Non-Working Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Non-Working Holiday Falling On Restday"})]})]})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-300",children:[e.jsx("h4",{className:"text-gray-700 mb-4",children:"Minimum Hrs To Compute OT"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Regular Day"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Rest Day"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Legal Holiday"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Special Holiday"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Special 2 Holiday"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Double Legal Holiday"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm text-right",children:"Non-Working Holiday"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]})]})]})}),e.jsx("div",{children:e.jsx("div",{className:"bg-gray-50 p-4 rounded border border-gray-300",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"RestDay to be Computed as Other Rate"}),e.jsx("select",{disabled:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`,children:e.jsx("option",{value:""})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"RestDay Other Rate"}),e.jsx("input",{type:"text",readOnly:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Overtime Per CutOff"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Overtime Code"}),e.jsx("input",{type:"text",readOnly:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Required Hours"}),e.jsx("input",{type:"text",readOnly:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm",children:"Overtime Code for 2Shifts In A Day"}),e.jsx("input",{type:"text",defaultValue:"ADJ_PAY",readOnly:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border-t border-gray-300 pt-3 mt-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm text-right",children:"OT Rounding Down to the Nearest Hour/Min"}),e.jsx("input",{type:"text",defaultValue:"1.00",readOnly:!s,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm text-right",children:"Birthday Pay"}),e.jsx("input",{type:"text",value:P,onChange:it=>V(it.target.value),readOnly:!s,className:`w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>R(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>V(""),className:H,children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm text-right",children:"ND Basic Rounding Down to the Nearest Hour/Min"}),e.jsx("input",{type:"text",defaultValue:"0.30",readOnly:!s,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"border-t border-gray-300 pt-3 mt-3 space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0}),e.jsxs("span",{className:"text-gray-700 text-sm",children:["Use Over Time Authorization",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-500",children:"[if checked, Overtime computation is based on the entry Overtime Application]"})]})]}),e.jsxs("label",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsxs("span",{className:"text-gray-700 text-sm",children:["Special OT Computation",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-gray-500",children:"[if checked, Excess OT is based on the Day Type of Date Out; this applies if rendered more than one day]"})]})]})]})]})})})]}),e.jsxs("div",{className:"space-y-6 border-t pt-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-300",children:[e.jsx("h4",{className:"text-gray-700 mb-4",children:"OT Allowances"}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("button",{disabled:!s,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm disabled:opacity-50 disabled:cursor-not-allowed",onClick:ws,children:"Add"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Min. OT Hrs."}),e.jsx("input",{type:"text",value:Mt,onChange:it=>Wt(it.target.value),readOnly:!s,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Accum. OT Hrs. To Earn Meal Allow."}),e.jsx("input",{type:"text",value:$t,onChange:it=>lt(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Amount"}),e.jsx("input",{type:"text",value:bt,onChange:it=>Nt(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700 whitespace-nowrap",children:"Earning Code"}),e.jsx("input",{type:"text",value:wt,onChange:it=>It(it.target.value),readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>we(!0),className:ne,children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:H,onClick:er,children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-300 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-5 gap-4 bg-gray-100 p-3 border-b border-gray-300",children:[e.jsx("div",{className:"text-gray-700 text-sm font-medium",children:"Minimum OT Hours"}),e.jsx("div",{className:"text-gray-700 text-sm font-medium",children:"Accumulated OT Hours To Earn Meal Allowance"}),e.jsx("div",{className:"text-gray-700 text-sm font-medium",children:"Earning Code"}),e.jsx("div",{className:"text-gray-700 text-sm font-medium",children:"Amount"}),s&&e.jsx("div",{className:"text-gray-700 text-sm font-medium",children:"Actions"})]}),Dt.length===0?e.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No data available"}):e.jsx("div",{className:"divide-y divide-gray-200",children:Dt.map((it,qt)=>e.jsxs("div",{className:"grid grid-cols-5 gap-4 p-3 hover:bg-gray-50",children:[e.jsx("div",{className:"text-sm text-gray-700",children:it.minOTHrs}),e.jsx("div",{className:"text-sm text-gray-700",children:it.accumOTHrs}),e.jsx("div",{className:"text-sm text-gray-700",children:it.earningCode}),e.jsx("div",{className:"text-sm text-gray-700",children:it.amount}),s&&e.jsx("div",{children:e.jsx("button",{onClick:()=>qa(qt),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})})]},qt))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Holiday Pay"}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Legal"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Special"})]})]}),e.jsxs("div",{className:"pl-8 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute Holiday Pay for Monthly"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0}),e.jsx("span",{className:"text-gray-700 text-sm",children:"No Pay if Absent Before Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute Holiday Pay If Worked Before Holiday Even on RestDay"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute Holiday Pay If Worked Before Holiday Even on Legal Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute Holiday Pay If Worked Before Holiday Even on Special Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"No Pay If Absent After Holiday"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s,defaultChecked:!0}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute Holiday Pay If With Paid Leave Prior To Holiday"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Minimum Hours Rendered If Worked Prior To Holiday For Holiday Pay"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.hh]"})]})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1",disabled:!s}),e.jsx("span",{className:"text-gray-700 text-sm",children:"First 8 Hours Base on Shift during Restday and Holidays"})]})]})]}),se&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Search Earning Code"}),e.jsx("button",{onClick:()=>we(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:Y,onChange:it=>E(it.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Search by code or description..."})]})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-b",children:"Earning Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-b",children:"Description"})]})}),e.jsx("tbody",{children:ke.filter(it=>it.code.toLowerCase().includes(Y.toLowerCase())||it.description.toLowerCase().includes(Y.toLowerCase())).map((it,qt)=>e.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ea(it.code)},children:[e.jsx("td",{className:"px-4 py-2 text-sm border-b",children:it.code}),e.jsx("td",{className:"px-4 py-2 text-sm border-b",children:it.description})]},it.code))})]})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t",children:[e.jsx("button",{onClick:()=>we(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors text-sm",children:"Close"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm",children:"1"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"2"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"3"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"4"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"5"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"6"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 text-sm",children:"Next"})]})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>R(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:ee,onChange:it=>Se(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Rate"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Default Amount"})]})}),e.jsx("tbody",{children:[{code:"ADJ_PAY",desc:"Adjustment",rate:"100.00",defaultAmount:"0.00"},{code:"ATESTOT1",desc:"TEST OT 11",rate:"123.00",defaultAmount:"0.00"},{code:"BASC_RATE",desc:"Basic Rate",rate:"100.00",defaultAmount:"0.00"},{code:"HOLIDAY",desc:"Unworked Holiday Pay",rate:"100.00",defaultAmount:"0.00"},{code:"HOLMON",desc:"Holiday Monthly",rate:"0.00",defaultAmount:"0.00"},{code:"ND_BASIC",desc:"Night Differential Basic Rate",rate:"10.00",defaultAmount:"0.00"},{code:"ND_LHF8",desc:"ND Legal Holiday First 8 Hours",rate:"20.00",defaultAmount:"0.00"},{code:"ND_LHRDF8",desc:"ND Legal Holiday falls on Rest Day First 8 Hours",rate:"26.00",defaultAmount:"0.00"},{code:"ND_LHRDX8",desc:"ND Legal Holiday falls on Rest Day Excess of 8 Hours",rate:"33.80",defaultAmount:"0.00"},{code:"ND_LHX8",desc:"ND Legal Holiday Excess of 8 Hours",rate:"26.00",defaultAmount:"0.00"}].filter(it=>ee===""||it.code.toLowerCase().includes(ee.toLowerCase())||it.desc.toLowerCase().includes(ee.toLowerCase())).map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{V(it.code),R(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.desc}),e.jsx("td",{className:"py-2 text-gray-800",children:it.rate}),e.jsx("td",{className:"py-2 text-gray-800",children:it.defaultAmount})]},it.code))})]})}),e.jsx("div",{className:"px-6 py-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Showing 1 to 10 of 68 entries"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",children:"1"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"2"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"3"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"4"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"5"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"6"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"7"}),e.jsx("button",{className:"px-3 py-1 text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"Next"})]})]})})]})}),ue&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>oe(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>oe(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Regular Day OT Rates"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:le,onChange:it=>Q(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:Ie.map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Le?N(it.code):n(it.code),oe(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.description})]},`${it.id}-${qt}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",Ie.length===0?0:ce+1," to"," ",Math.min(Ge,Ie.length)," of"," ",Ie.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ae(it=>Math.max(it-1,1)),disabled:Pe===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),me().map((it,qt)=>typeof it=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${qt}`):e.jsx("button",{onClick:()=>ae(it),className:`px-2 py-1 rounded text-xs ${Pe===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>ae(it=>Math.min(it+1,te)),disabled:Pe===te||te===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),We&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>Re(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>Re(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Legal Holiday OT Rates"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:et,onChange:it=>B(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:ct.map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Le?k(it.code):u(it.code),Re(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.description})]},`${it.id}-${qt}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",ct.length===0?0:Kt+1," to"," ",Math.min(jt,ct.length)," of"," ",ct.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Jt(it=>Math.max(it-1,1)),disabled:Ft===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),vt().map((it,qt)=>typeof it=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${qt}`):e.jsx("button",{onClick:()=>Jt(it),className:`px-2 py-1 rounded text-xs ${Ft===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>Jt(it=>Math.min(it+1,ss)),disabled:Ft===ss||ss===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>Z(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>Z(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Special Holiday OT Rates"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:je,onChange:it=>De(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:Vt.map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Le?F(it.code):m(it.code),Z(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.description})]},`${it.id}-${qt}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",Vt.length===0?0:Ea+1," to"," ",Math.min(Ra,Vt.length)," of"," ",Vt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ua(it=>Math.max(it-1,1)),disabled:sa===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ka().map((it,qt)=>typeof it=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${qt}`):e.jsx("button",{onClick:()=>ua(it),className:`px-2 py-1 rounded text-xs ${sa===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>ua(it=>Math.min(it+1,cs)),disabled:sa===cs||cs===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),Qe&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>qe(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>qe(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Double Legal Holiday OT Rates"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:Ye,onChange:it=>ht(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:oa.map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Le?M(it.code):g(it.code),qe(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.description})]},`${it.id}-${qt}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",oa.length===0?0:Ta+1," to"," ",Math.min(at,oa.length)," of"," ",oa.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ha(it=>Math.max(it-1,1)),disabled:Ka===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ws().map((it,qt)=>typeof it=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${qt}`):e.jsx("button",{onClick:()=>Ha(it),className:`px-2 py-1 rounded text-xs ${Ka===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>Ha(it=>Math.min(it+1,xa)),disabled:Ka===xa||xa===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),St&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>dt(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>dt(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Special Holiday 2 OT Rates"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:Et,onChange:it=>Te(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:Qt.map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Le?L(it.code):p(it.code),dt(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.description})]},`${it.id}-${qt}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",Qt.length===0?0:wa+1," to"," ",Math.min(ya,Qt.length)," of"," ",Qt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>nr(it=>Math.max(it-1,1)),disabled:Us===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ma().map((it,qt)=>typeof it=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${qt}`):e.jsx("button",{onClick:()=>nr(it),className:`px-2 py-1 rounded text-xs ${Us===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>nr(it=>Math.min(it+1,_s)),disabled:Us===_s||_s===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),Ee&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>pe(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>pe(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Non Working Holiday OT Rates"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:Je,onChange:it=>pt(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:gt.map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Le?re(it.code):f(it.code),pe(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.description})]},`${it.id}-${qt}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",gt.length===0?0:Bs+1," to"," ",Math.min(Ue,gt.length)," of"," ",gt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>nt(it=>Math.max(it-1,1)),disabled:_e===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),xs().map((it,qt)=>typeof it=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"`` ..."},`ellipsis-${qt}`):e.jsx("button",{onClick:()=>nt(it),className:`px-2 py-1 rounded text-xs ${_e===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>nt(it=>Math.min(it+1,bs)),disabled:_e===bs||bs===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),ve&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>Ce(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:it=>it.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>Ce(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Rest Day OT Rates"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:$e,onChange:it=>Ae(it.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:yt.map((it,qt)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${qt%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Le?S(it.code):i(it.code),Ce(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:it.code}),e.jsx("td",{className:"py-2 text-gray-800",children:it.description})]},`${it.id}-${qt}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",yt.length===0?0:ns+1," to"," ",Math.min(ps,yt.length)," of"," ",yt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Be(it=>Math.max(it-1,1)),disabled:W===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),rt().map((it,qt)=>typeof it=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${qt}`):e.jsx("button",{onClick:()=>Be(it),className:`px-2 py-1 rounded text-xs ${W===it?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:it},it)),e.jsx("button",{onClick:()=>Be(it=>Math.min(it+1,Gt)),disabled:W===Gt||Gt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})]})}function wee({tksGroupCode:t,tksGroupDescription:a,isEditMode:s}){const r="w-4 h-4 appearance-none border-2 border-gray-400 rounded bg-white checked:bg-blue-600 checked:border-blue-600 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:t,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded text-sm bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Definition"}),e.jsx("input",{type:"text",value:a,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded text-sm bg-gray-100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Use Default Restday"}),e.jsx("input",{type:"checkbox",disabled:!s,className:r}),e.jsx("label",{className:"text-gray-700 text-sm ml-4",children:"Restday With Workshift"}),e.jsx("input",{type:"checkbox",disabled:!s,defaultChecked:!0,className:r})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Default Restday 1"}),s?e.jsxs("select",{className:"w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]}):e.jsx("input",{type:"text",readOnly:!0,className:"w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Default Restday 2"}),s?e.jsxs("select",{className:"w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]}):e.jsx("input",{type:"text",readOnly:!0,className:"w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Default Restday 3"}),s?e.jsxs("select",{className:"w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]}):e.jsx("input",{type:"text",readOnly:!0,className:"w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-gray-50"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Use Tardiness Bracket"}),e.jsx("input",{type:"checkbox",disabled:!s,className:r}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-8",children:"Deduct 1st Half Leave Before Bracket"}),e.jsx("input",{type:"checkbox",disabled:!s,className:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Use Undertime Bracket"}),e.jsx("input",{type:"checkbox",disabled:!s,className:r}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsx("label",{className:"text-gray-700 text-sm ml-8",children:"Deduct 2nd Half Leave Before Bracket"}),e.jsx("input",{type:"checkbox",disabled:!s,className:r})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Use Accumulation Bracket"}),e.jsx("input",{type:"checkbox",disabled:!s,className:r}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-8 ml-12",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",className:r,disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Accumulate Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",className:r,disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Accumulate Undertime"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm",children:"Compute Undertime to Absences"}),e.jsx("input",{type:"checkbox",disabled:!s,defaultChecked:!0,className:r}),e.jsx("input",{type:"text",defaultValue:"3.00",readOnly:!s,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"hh.hh"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-64 text-gray-700 text-sm",children:"Compute Tardiness to Absences"}),e.jsx("input",{type:"checkbox",disabled:!s,defaultChecked:!0,className:r}),e.jsx("input",{type:"text",defaultValue:"4.00",readOnly:!s,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"hh.hh"})]}),e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-64 text-gray-700",children:"Compute No Of Hours Even Without Logs"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-64 text-gray-700",children:"Compute Absences in Middle of Cut off Dates"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-64 text-gray-700",children:"Compute No Of Hours For Rest Day"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-64 text-gray-700",children:"Compute No Of Hours For Legal"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-64 text-gray-700",children:"Compute No Of Hours For Special"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-64 text-gray-700",children:"Compute No Of Hours For Non-Working Holiday"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"w-64 text-gray-700",children:"No Absences before Date Hired"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"text-gray-700 mb-4",children:"Calamity2 Allowance Policy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Years of Service"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Min Hrs for Allowance"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Allowance Amount"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm",children:"Allowance Code"}),e.jsx("input",{type:"text",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:e.jsx(Ut,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm",children:"Allowance Per Classification"}),e.jsx("input",{type:"text",readOnly:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors text-sm",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",className:r,disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"Enable Classification in Allowance Per Classification Computation"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm",children:"Allowance Bracket Code"}),e.jsx("input",{type:"text",defaultValue:"ALLOW1",readOnly:!s,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:e.jsx(Ut,{className:"w-4 h-4"})})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",className:r,disabled:!s}),e.jsx("span",{className:"text-gray-700",children:"By Employment Status"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm",children:"Allowance by Status"}),e.jsx("input",{type:"text",readOnly:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-gray-50"}`}),s&&e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors text-sm",children:e.jsx(Ut,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"text-gray-700 mb-3",children:"Exemptions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Tardiness"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Undertime"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Night Differential"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Overtime"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Absences"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Other Earnings and Allowance"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Holiday Pay"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Unpaid Work on holiday"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"text-gray-700 mb-3",children:"Leave/Absences Exemption"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Apply Leave For First Half"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s,defaultChecked:!0})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Apply Leave For Second Half"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s,defaultChecked:!0})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"text-gray-700 mb-3",children:"Birthday Leave"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-32",children:"Birthday Leave"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Daily Schedule"}),e.jsx("input",{type:"text",readOnly:!s,className:`flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${s?"":"bg-white"}`}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"text-gray-700 mb-3",children:"Exclude Suspension"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Rest Day"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Legal Holiday"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Special Holiday"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-700 w-56",children:"Non-Working Holiday"}),e.jsx("input",{type:"checkbox",className:r,disabled:!s})]})]})]})]})]})]})}function Nee(){const t="w-4 h-4 appearance-none border-2 border-gray-400 rounded bg-white checked:bg-blue-600 checked:border-blue-600 cursor-pointer disabled:cursor-not-allowed disabled:opacity-50",[a,s]=o.useState("definition"),[r,n]=o.useState(!1),[l,i]=o.useState(""),[c,u]=o.useState("1"),[h,m]=o.useState(""),[b,g]=o.useState(!1),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(""),[A,F]=o.useState(""),[O,M]=o.useState(""),[U,L]=o.useState(""),[G,re]=o.useState(!1),[ye,K]=o.useState(""),[ne,H]=o.useState(!1),[se,we]=o.useState(""),[Y,E]=o.useState(!1),[P,V]=o.useState(""),[D,R]=o.useState(!1),[ee,Se]=o.useState(""),[ue,oe]=o.useState(!1),[le,Q]=o.useState(""),[ve,Ce]=o.useState(!1),[$e,Ae]=o.useState(""),[We,Re]=o.useState(!1),[et,B]=o.useState(""),[q,Z]=o.useState("09/29/2025"),[je,De]=o.useState("09/29/2025"),[Qe,qe]=o.useState(!1),[Ye,ht]=o.useState(""),[St,dt]=o.useState(!1),[Et,Te]=o.useState(!1),[Ee,pe]=o.useState(!1),[Je,pt]=o.useState(""),[Mt,Wt]=o.useState(""),[$t,lt]=o.useState(""),[bt,Nt]=o.useState(""),[wt,It]=o.useState(""),[Dt,Ke]=o.useState(!0),[tt,Le]=o.useState(""),[He,ge]=o.useState(!1),[st,Ze]=o.useState(!1),[Rt,ft]=o.useState("10:00 PM"),[kt,he]=o.useState("6:00 AM"),[be,ie]=o.useState(!1),[de,J]=o.useState(!0),[_,Fe]=o.useState("2.00"),[Oe,ke]=o.useState("3"),[Ie,te]=o.useState(!1),[Pe,ae]=o.useState(!0),[me,ce]=o.useState(!0),[Ge,yt]=o.useState("3.00"),[Gt,W]=o.useState(""),[Be,rt]=o.useState(!1),[ns,ps]=o.useState(""),[ct,ss]=o.useState(!1),[Ft,Jt]=o.useState("12"),[vt,Kt]=o.useState(""),[jt,Vt]=o.useState(""),[cs,sa]=o.useState(""),[ua,ka]=o.useState("tardiness"),[Ea,Ra]=o.useState(""),[oa,xa]=o.useState("ABSENT"),[Ka,Ha]=o.useState("NOLOGIN"),[Ws,Ta]=o.useState("NOLOGOUT"),[at,Qt]=o.useState(""),[_s,Us]=o.useState(""),[nr,Ma]=o.useState("ROT"),[wa,ya]=o.useState("RDOT"),[gt,bs]=o.useState("LEGAL"),[_e,nt]=o.useState("SPECIAL"),[xs,Bs]=o.useState("DOUBLE LEGAL"),[Ue,_t]=o.useState("SPECIAL2"),[Ve,ds]=o.useState("NON WORKING"),[ws,ea]=o.useState("ROT"),[er,qa]=o.useState("RDOT"),[it,qt]=o.useState("LEGAL"),[or,Hr]=o.useState("SPECIAL"),[Nr,jr]=o.useState("DOUBLE LEGAL"),[Ya,ba]=o.useState("SPECIAL2"),[br,ut]=o.useState("NON WORKING"),[Ts,aa]=o.useState(!1),[cn,Cr]=o.useState(!1),[Ar,Fr]=o.useState(!1),[tr,Zr]=o.useState("0.00"),[qn,_n]=o.useState("0.00"),[dn,Ao]=o.useState("0.00"),[Yi,Fo]=o.useState("0.00"),[hi,Ki]=o.useState("0.00"),[qi,fd]=o.useState("0.00"),[bn,Po]=o.useState("0.00"),[Fc,Pc]=o.useState("0.00"),[yd,mi]=o.useState(!1),[bd,pi]=o.useState(!1),[Ml,Xi]=o.useState(!1),[vd,Ji]=o.useState("3.00"),[Qi,Ic]=o.useState(!1),[Mc,Lc]=o.useState(!1),[Oc,wd]=o.useState("0"),[Ll,Zi]=o.useState("0"),[_c,Ol]=o.useState("0"),[Nd,Bc]=o.useState("0"),[Xn,Io]=o.useState(""),[rs,al]=o.useState(!1),[cr,gi]=o.useState({}),[Rc,Hc]=o.useState(!1),[Pr,ec]=o.useState([]),[rl,go]=o.useState(1),[Mo,Lo]=o.useState([]),[_l,nl]=o.useState([]),[tc,Bl]=o.useState(""),[Rl,Ir]=o.useState([]),[ol,fi]=o.useState([]),[Oo,Hl]=o.useState([]),[jd,sc]=o.useState([]),[Cd,Sd]=o.useState([]),[kd,Dd]=o.useState([]),[vn,Ul]=o.useState([]),[Uc,$c]=o.useState([]),pa=10,[ll,yi]=o.useState(""),[fo,ac]=o.useState([]),[Ur,$l]=o.useState(1),Wl=10,$r=Pr.filter(Ne=>ll===""||Ne.tksGroupCode.toLowerCase().includes(ll.toLowerCase())||Ne.description.toLowerCase().includes(ll.toLowerCase())),Jn=Math.max(1,Math.ceil($r.length/Wl)),il=(Ur-1)*Wl,un=il+Wl,bi=$r.slice(il,un);o.useEffect(()=>{$l(1)},[ll]);const Wc=()=>{const Ne=[];if(Jn<=7)for(let Ot=1;Ot<=Jn;Ot++)Ne.push(Ot);else{Ne.push(1),Ur>3&&Ne.push("...");for(let Ot=Math.max(2,Ur-1);Ot<=Math.min(Jn-1,Ur+1);Ot++)Ne.push(Ot);Ur<Jn-2&&Ne.push("..."),Ne.push(Jn)}return Ne},vi=[{id:"definition",label:"TKS Group Definition",icon:Js},{id:"login-policy",label:"Login Policy",icon:lg},{id:"overtime",label:"Overtime Rates",icon:ur},{id:"other",label:"Other Policies",icon:cd},{id:"system",label:"SystemConfiguration",icon:rx}],wi=["January","February","March","April","May","June","July","August","September","October","November","December"],cl=Pr.filter(Ne=>(Ne.tksGroupCode?.toLowerCase().includes(l.toLowerCase())??!1)||(Ne.description?.toLowerCase().includes(l.toLowerCase())??!1));o.useEffect(()=>{go(1)},[l]);const _o=Math.ceil(cl.length/pa),Ni=(rl-1)*pa,yo=Ni+pa,Gl=cl.slice(Ni,yo),en=()=>{const Ne=[];for(let Ot=1;Ot<=_o;Ot++)Ot===1||Ot===_o||Ot>=rl-1&&Ot<=rl+1?Ne.push(Ot):Ne[Ne.length-1]!=="..."&&Ne.push("...");return Ne},{paginatedData:Wr,totalPages:dl,currentPage:ji,setCurrentPage:zl,getPageNumbers:Vl}=no(Pr,tc,(Ne,Ot)=>Ne.tksGroupCode?.toLowerCase().includes(Ot)||Ne.description?.toLowerCase().includes(Ot),pa),Ci=(ji-1)*pa,Yl=Ci+pa;o.useEffect(()=>{zl(1)},[tc]);const{paginatedData:bo,totalPages:Na,currentPage:Bo,setCurrentPage:Ro}=no(ol,$e,(Ne,Ot)=>Ne.tksGroupCode?.toLowerCase().includes(Ot)||Ne.description?.toLowerCase().includes(Ot),pa),ul=()=>{const Ne=[];for(let Ot=1;Ot<=Na;Ot++)Ne.push(Ot);return Ne},Gc=(Bo-1)*pa,zc=Gc+pa,{filteredData:Ho,paginatedData:xl,totalPages:Mr,currentPage:hl,setCurrentPage:Vc,getPageNumbers:Si}=no(Oo,et,(Ne,Ot)=>Ne.oTFileSetupCode.toLowerCase().includes(Ot)||Ne.description.toLowerCase().includes(Ot)||Object.values(Ne).some(Cs=>typeof Cs=="number"&&Cs.toFixed(2).includes(Ot)),pa),rc=(hl-1)*pa,Kl=rc+pa,{filteredData:Uo,paginatedData:$o,totalPages:vo,currentPage:Wo,setCurrentPage:ml,getPageNumbers:Yc}=no(Mo,w,(Ne,Ot)=>Ne.locationCode.toLowerCase().includes(Ot)||Ne.locationName.toLowerCase().includes(Ot)||Object.values(Ne).some(Cs=>typeof Cs=="number"&&Cs.toFixed(2).includes(Ot)),pa),nc=(Wo-1)*pa,Kc=nc+pa;o.useEffect(()=>{ml(1)},[w]);const{filteredData:pl,paginatedData:qc,totalPages:Qn,currentPage:ki,setCurrentPage:Go,getPageNumbers:tn}=no(jd,ye,(Ne,Ot)=>Ne.code.toLowerCase().includes(Ot)||Ne.description.toLowerCase().includes(Ot)||Object.values(Ne).some(Cs=>typeof Cs=="number"&&Cs.toFixed(2).includes(Ot)),pa),ql=(ki-1)*pa,wo=ql+pa,{filteredData:Di,paginatedData:gu,totalPages:gl,currentPage:At,setCurrentPage:Lt,getPageNumbers:Ms}=no(Cd,se,(Ne,Ot)=>Ne.code.toLowerCase().includes(Ot)||Ne.description.toLowerCase().includes(Ot)||Object.values(Ne).some(Cs=>typeof Cs=="number"&&Cs.toFixed(2).includes(Ot)),pa),Sr=(At-1)*pa,vr=Sr+pa,{filteredData:lr,paginatedData:ta,totalPages:ja,currentPage:na,setCurrentPage:Gr,getPageNumbers:Ua}=no(kd,P,(Ne,Ot)=>Ne.code.toLowerCase().includes(Ot)||Ne.description.toLowerCase().includes(Ot)||Object.values(Ne).some(Cs=>typeof Cs=="number"&&Cs.toFixed(2).includes(Ot)),pa),$a=(na-1)*pa,wn=$a+pa,{filteredData:fl,paginatedData:xn,totalPages:oc,currentPage:Xc,setCurrentPage:Ed,getPageNumbers:Td}=no(vn,ee,(Ne,Ot)=>Ne.code.toLowerCase().includes(Ot)||Ne.description.toLowerCase().includes(Ot)||Object.values(Ne).some(Cs=>typeof Cs=="number"&&Cs.toFixed(2).includes(Ot)),pa),fu=(Xc-1)*pa,yl=fu+pa,{filteredData:lc,paginatedData:yu,totalPages:Ad,currentPage:Fd,setCurrentPage:sn,getPageNumbers:Bn}=no(Uc,le,(Ne,Ot)=>Ne.code.toLowerCase().includes(Ot)||Ne.description.toLowerCase().includes(Ot)||Object.values(Ne).some(Cs=>typeof Cs=="number"&&Cs.toFixed(2).includes(Ot)),pa),Ei=(Fd-1)*pa,Pd=Ei+pa,Ti=Ne=>{if(!Ne)return"";const Ot=new Date(Ne);if(isNaN(Ot.getTime()))return"";const Cs=(Ot.getMonth()+1).toString().padStart(2,"0"),ir=Ot.getDate().toString().padStart(2,"0"),Ls=Ot.getFullYear();return`${Cs}/${ir}/${Ls}`},Zn=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Ot=>({id:Ot.ID||Ot.id,tksGroupCode:Ot.groupCode??"",description:Ot.groupDescription??"",cutOffDateMonth:Ot.cutOffDateMonth??"",cutOffDateFrom:Ot.cutOffDateFrom??"",cutOffDateTo:Ot.cutOffDateTo??"",cutOffDatePeriod:Ot.cutOffDatePeriod??"",terminalID:Ot.terminalID??"",autoPairLogsDateFrom:Ot.autoPairLogsDateFrom??"",autoPairLogsDateTo:Ot.autoPairLogsDateTo??""})),eo=async()=>(await z.get("/Fs/Process/Overtime/OverTimeFileSetUp")).data.map(Ot=>({oTFileSetupID:Ot.otfid,oTFileSetupCode:Ot.otfCode,earnCode:Ot.earnCode,rateOne:Ot.rate1,description:Ot.description,defaultAmount:Ot.defAmt}));o.useEffect(()=>{(async()=>{const Ot=await eo();Hl(Ot)})()},[]);const Ai=async()=>(await z.get("/Fs/Process/PayrollLocationSetUp")).data.map(Ot=>({id:Ot.ID||Ot.id,locationCode:Ot.locCode??"",locationName:Ot.locName??""}));o.useEffect(()=>{(async()=>{const Ot=await Ai();Lo(Ot)})()},[]);const Rn=async Ne=>(await z.get(Ne)).data.map(Cs=>({id:Cs.ID,code:Cs.code,description:Cs.desc,monday:Cs.monday,tuesday:Cs.tuesday,wednesday:Cs.wednesday,thursday:Cs.thursday,friday:Cs.friday,saturday:Cs.saturday,sunday:Cs.sunday}));o.useEffect(()=>{(async()=>{const Ot=await Rn("/Fs/Process/Device/EquivHoursDeductionSetUp/ForAbsent");sc(Ot);const Cs=await Rn("/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogin");Sd(Cs);const ir=await Rn("/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoLogout");Dd(ir);const Ls=await Rn("/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2In");Ul(Ls);const Id=await Rn("/Fs/Process/Device/EquivHoursDeductionSetUp/ForNoBreak2Out");$c(Id)})()},[]);const bl=Ne=>{u(Ne.tksGroupCode??""),m(Ne.description??""),f(Ne.tksGroupCode??""),N(Ne.description??""),S(Ti(Ne.cutOffDateFrom)??""),k(Ti(Ne.cutOffDateTo)??"");const Ot=parseInt(Ne.cutOffDateMonth??"0",10)-1;F(wi[Ot]||""),M(Ne.cutOffDatePeriod??""),L(Ne.terminalID??""),Z(Ti(Ne.autoPairLogsDateFrom)??""),De(Ti(Ne.autoPairLogsDateTo)??"")};o.useEffect(()=>{(async()=>{const Ot=await Zn();ec(Ot),fi(Ot),Ot.length>0&&bl(Ot[0])})()},[]);const Me=Ne=>{if(!Ne)return"";const Ot=new Date(Ne);let Cs=Ot.getHours();const ir=Ot.getMinutes(),Ls=Cs>=12?"PM":"AM";Cs=Cs%12||12;const Id=ir.toString().padStart(2,"0");return`${Cs}:${Id} ${Ls}`},xt=Ne=>{qe(Ne.gracePerSemiAnnualFlag??!1),ht(Ne.gracePeriod?.toString()??""),dt(Ne.gracePeriodIncTard??!1),Te(Ne.incldBrk2??!1),pe(Ne.dedEvnWGrace??!1),pt(Ne.graceSemiNoofHours?.toString()??""),Wt(Ne.firstHalfFrom??""),lt(Ne.firstHalfTo??""),Nt(Ne.secondHalfFrom??""),It(Ne.secondHalfTo??""),Ke(Ne.deductOverbreak??!1),Le(Ne.calamityWFlood?.toString()??""),ge(Ne.combineTardiOfTimeInBrk2??!1),Ze(Ne.compTardinessForNoLogout??!1),ft(Me(Ne.nightDiffStartTime??null)),he(Me(Ne.nightDiffEndTime??null)),ie(Ne.deductMealBreakinNDComput??!1),J(Ne.twoShiftsInADay??!1),Fe(Ne.twoShiftsInADayInterval?.toString()??""),ke(Ne.numberAllowGracePrdInAMonth?.toString()??""),te(Ne.excludeAllowGracePrdFlag??!1),ae(Ne.allowableGracePrdInAMonthBasedActualMonthFlag??!1),ce(Ne.saturdayPdRegHrsFlag??!1),yt(Ne.maxDaysPerWeekSatWrk?.toString()??""),W(Ne.numberAllowTardyExcessGracePrd?.toString()??""),rt(Ne.excludeTardywGracePrdInCountAllowableGracePrdInAMonthFlag??!1),ps(Ne.supGroupCode??""),ss(Ne.computeShrtBrkTardy??!1),Jt(Ne.maxTimePerMonth?.toString()??""),Kt(Ne.shrtBrkGracePeriod?.toString()??""),Vt(Ne.hrsCompleteWeek?.toString()??""),sa(Ne.startWkToComplete??""),ka(Ne.compAsPerWeek??""),Ra(Ne.otCodePerWeek??""),xa(Ne.dedForAbsent??""),Ha(Ne.dedForNoLogin??""),Ta(Ne.dedForNoLogout??""),Qt(Ne.dedForNoBrk2out??""),Us(Ne.dedForNoBrk2In??"")},Pt=async Ne=>{try{const Cs=await z.get("/Fs/Process/GroupSetupLoginPolicy");if(!Cs.data)return Ne?null:[];const ir=Cs.data.map(Ls=>({id:Ls.id??0,groupCode:Ls.groupCode??"",gracePeriod:Ls.gracePeriod??null,gracePeriodIncTard:Ls.gracePeriodIncTard??!1,dedExcessGPInAMonth:Ls.dedExcessGPInAMonth??!1,maxGPInMonth:Ls.maxGPInMonth??null,empLogsConfig:Ls.empLogsConfig??"",nightDiffStartTime:Ls.nightDiffStartTime??null,nightDiffEndTime:Ls.nightDiffEndTime??null,otInandOTOut:Ls.otInandOTOut??!1,dedForAbsent:Ls.dedForAbsent??"",dedForNoLogin:Ls.dedForNoLogin??"",dedForNoLogout:Ls.dedForNoLogout??"",deductMealBreakinNDComput:Ls.deductMealBreakinNDComput??!1,incRestdayinNDComput:Ls.incRestdayinNDComput??!1,incHolidayinNDComput:Ls.incHolidayinNDComput??!1,restdayNDComputBasedOnDateIn:Ls.restdayNDComputBasedOnDateIn??!1,holidayNDComputbasedOnDateIn:Ls.holidayNDComputbasedOnDateIn??!1,tardinessMaxHours:Ls.tardinessMaxHours??null,undertimeMaxHours:Ls.undertimeMaxHours??null,undertimeHoursFromTardy:Ls.undertimeHoursFromTardy??null,deductOverbreak:Ls.deductOverbreak??!1,gracePerSemiAnnualFlag:Ls.gracePerSemiAnnualFlag??!1,graceSemiNoofHours:Ls.graceSemiNoofHours??null,firstHalfFrom:Ls.firstHalfFrom??"",firstHalfTo:Ls.firstHalfTo??"",secondHalfFrom:Ls.secondHalfFrom??"",secondHalfTo:Ls.secondHalfTo??"",dedForNoBrk2out:Ls.dedForNoBrk2out??"",dedForNoBrk2In:Ls.dedForNoBrk2In??"",useTardinessBracketNDD:Ls.useTardinessBracketNDD??!1,computeShrtBrkTardy:Ls.computeShrtBrkTardy??!1,maxTimePerMonth:Ls.maxTimePerMonth??null,shrtBrkGracePeriod:Ls.shrtBrkGracePeriod??null,incldBrk2:Ls.incldBrk2??!1,dedEvnWGrace:Ls.dedEvnWGrace??!1,calamityWFlood:Ls.calamityWFlood??null,hrsCompleteWeek:Ls.hrsCompleteWeek??null,startWkToComplete:Ls.startWkToComplete??"",compAsPerWeek:Ls.compAsPerWeek??"",otCodePerWeek:Ls.otCodePerWeek??"",combineTardiOfTimeInBrk2:Ls.combineTardiOfTimeInBrk2??!1,compTardinessForNoLogout:Ls.compTardinessForNoLogout??!1,twoShiftsInADay:Ls.twoShiftsInADay??!1,twoShiftsInADayInterval:Ls.twoShiftsInADayInterval??null,numberAllowGracePrdInAMonth:Ls.numberAllowGracePrdInAMonth??null,maxDaysPerWeekSatWrk:Ls.maxDaysPerWeekSatWrk??null,saturdayPdRegHrsFlag:Ls.saturdayPdRegHrsFlag??!1,excludeAllowGracePrdFlag:Ls.excludeAllowGracePrdFlag??!1,allowableGracePrdInAMonthBasedActualMonthFlag:Ls.allowableGracePrdInAMonthBasedActualMonthFlag??!1,excludeTardywGracePrdInCountAllowableGracePrdInAMonthFlag:Ls.excludeTardywGracePrdInCountAllowableGracePrdInAMonthFlag??!1,numberAllowTardyExcessGracePrd:Ls.numberAllowTardyExcessGracePrd??null,supGroupCode:Ls.supGroupCode??""}));return Ne?ir.find(Id=>Id.groupCode===Ne)??null:ir}catch(Ot){return console.error("Error fetching group login policy data",Ot),Ne?null:[]}};o.useEffect(()=>{(async()=>{const Ot=await Pt();nl(Ot),Ot.length>0&&xt(Ot[0])})()},[]),o.useEffect(()=>{const Ne=Ot=>{Ot.key==="Escape"&&(b?g(!1):r?n(!1):G?re(!1):ne?H(!1):Y?E(!1):ve?Ce(!1):We&&Re(!1))};return document.addEventListener("keydown",Ne),()=>{document.removeEventListener("keydown",Ne)}},[r,b,G,ne,Y,ve,We]);const gs=()=>{console.log("Creating new record..."),u(""),m(""),f(""),N(""),S(""),k(""),F("January"),M(""),L(""),Z(""),De(""),qe(!1),ht(""),dt(!1),Te(!1),pe(!1),pt(""),Wt(""),lt(""),Nt(""),It(""),Ke(!1),Le(""),ge(!1),Ze(!1),ft(""),he(""),ie(!1),J(!1),Fe(""),ke(""),te(!1),ae(!1),ce(!1),yt(""),W(""),rt(!1),ps(""),ss(!1),Jt(""),Kt(""),Vt(""),sa(""),ka(""),Ra(""),xa(""),Ha(""),Ta(""),Qt(""),Us(""),Ma(""),ya(""),bs(""),nt(""),aa(!1),Cr(!1),Fr(!1),Zr(""),mi(!1),pi(!1),Xi(!1),Ji(""),Lc(!1),wd(""),Zi(""),Ol(""),Bc(""),Io(""),al(!0),s("definition")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Time Keep Group"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure time keeping groups with detailed policies including login rules, overtime rates, grace periods, and system configurations for automated payroll processing."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Group definitions and payroll location setup"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Login policies and grace period rules"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Overtime rates and special calculations"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Cut-off dates and terminal configurations"})]})]})]})]})}),e.jsx("div",{className:"flex items-center gap-3 mb-6",children:rs?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{al(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(za,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{onClick:()=>{f(cr.payrollLocationCode??""),N(cr.payrollDescription??""),u(cr.tksGroupCode??""),m(cr.tksGroupDescription??""),S(cr.dateFrom??""),k(cr.dateTo??""),F(cr.cutOffMonth??""),M(cr.cutOffPeriod??""),L(cr.terminalId??""),Z(cr.autoPairingFrom??""),De(cr.autoPairingTo??""),al(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(ot,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:gs,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("button",{onClick:()=>{gi({payrollLocationCode:v,payrollDescription:y,tksGroupCode:c,tksGroupDescription:h,dateFrom:C,dateTo:I,cutOffMonth:A,cutOffPeriod:O,terminalId:U,autoPairingFrom:q,autoPairingTo:je}),al(!0)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ri,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]}),e.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-gray-300",children:vi.map(Ne=>{const Ot=Ne.icon;return e.jsxs("button",{onClick:()=>s(Ne.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${a===Ne.id?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(Ot,{className:"w-4 h-4"}),Ne.label]},Ne.id)})}),a==="definition"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4 max-w-full",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:c,onChange:Ne=>u(Ne.target.value),readOnly:!rs,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Description"}),e.jsx("input",{type:"text",value:h,onChange:Ne=>m(Ne.target.value),readOnly:!rs,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"Payroll Location Code"}),e.jsxs("div",{className:"flex-1 min-w-0 flex gap-2",children:[e.jsx("input",{type:"text",value:v,onChange:Ne=>f(Ne.target.value),readOnly:!rs,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>g(!0),className:"px-3 py-2 rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm bg-blue-600 text-white hover:bg-blue-700 hover:shadow-md active:scale-95",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-3 py-2 rounded-lg transition-all duration-200 flex-shrink-0 shadow-sm bg-red-600 text-white hover:bg-red-700 hover:shadow-md active:scale-95",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"Payroll Description"}),e.jsx("input",{type:"text",value:y,onChange:Ne=>N(Ne.target.value),readOnly:!rs,className:`flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("h3",{className:"text-gray-700",children:"Time Keep Cut Off Dates"}),rs&&e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:tc,onChange:Ne=>Bl(Ne.target.value),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-48"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"Month"}),e.jsx("select",{value:A,onChange:Ne=>F(Ne.target.value),disabled:!rs,className:`w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"bg-white":"bg-gray-50"}`,children:wi.map(Ne=>e.jsx("option",{value:Ne,children:Ne},Ne))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"Period"}),e.jsx("input",{type:"text",value:O,onChange:Ne=>M(Ne.target.value),readOnly:!rs,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Date From"}),e.jsx(zn,{value:C,onChange:Ne=>S(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Date To"}),e.jsx(zn,{value:I,onChange:Ne=>k(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-20 text-gray-700 text-sm flex-shrink-0",children:"Terminal ID"}),e.jsx("input",{type:"text",value:U,onChange:Ne=>L(Ne.target.value),readOnly:!rs,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]})]})}),rs&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5 flex flex-col",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex-1",children:e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"180px"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 w-10",children:e.jsx("input",{type:"checkbox",checked:Wr.length>0&&Wr.every(Ne=>Rl.includes(Ne.id.toString())),onChange:Ne=>{Ne.target.checked?Ir(Wr.map(Ot=>Ot.id.toString())):Ir([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code"," ",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 font-semibold",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[Wr.map((Ne,Ot)=>e.jsxs("tr",{className:`hover:bg-gray-50 ${Ot%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:Rl.includes(Ne.id.toString()),onChange:()=>{Ir(Cs=>Cs.includes(Ne.id.toString())?Cs.filter(ir=>ir!==Ne.id.toString()):[...Cs,Ne.id.toString()])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ne.tksGroupCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ne.description})]},Ne.id)),Wr.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found."})})]})]})})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing"," ",Wr.length===0?0:Ci+1," ","to"," ",Math.min(Yl,Wr.length)," ","of ",Wr.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>zl(Ne=>Math.max(1,Ne-1)),disabled:ji===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Vl().map((Ne,Ot)=>Ne==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`e-${Ot}`):e.jsx("button",{onClick:()=>zl(Ne),className:`px-2 py-1 rounded text-xs ${ji===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>zl(Ne=>Math.min(dl,Ne+1)),disabled:ji===dl||dl===0,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),Rl.length>0&&e.jsxs("p",{className:"mt-1.5 text-xs text-blue-600",children:[Rl.length," row",Rl.length>1?"s":""," ","selected"]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("h3",{className:"text-gray-700",children:"Auto Pairing Logs Cut-Off Dates"}),rs&&e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("label",{className:"text-sm text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:ll,onChange:Ne=>yi(Ne.target.value),className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-48"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"From:"}),e.jsx(zn,{value:q,onChange:Ne=>Z(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-16 text-gray-700 text-sm flex-shrink-0",children:"To:"}),e.jsx(zn,{value:je,onChange:Ne=>De(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]})]})}),rs&&e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5 flex flex-col",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex-1",children:e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"180px"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 w-10",children:e.jsx("input",{type:"checkbox",checked:$r.length>0&&$r.every(Ne=>fo.includes(Ne.id.toString())),onChange:Ne=>{Ne.target.checked?ac($r.map(Ot=>Ot.id.toString())):ac([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code"," ",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600 font-semibold",children:"Description"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[bi.map((Ne,Ot)=>e.jsxs("tr",{className:`hover:bg-gray-50 ${Ot%2===0?"bg-white":"bg-gray-50"}`,children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:fo.includes(Ne.id.toString()),onChange:()=>{ac(Cs=>Cs.includes(Ne.id.toString())?Cs.filter(ir=>ir!==Ne.id.toString()):[...Cs,Ne.id.toString()])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:Ne.tksGroupCode}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:Ne.description})]},Ne.id)),bi.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-6 text-center text-sm text-gray-400",children:"No records found."})})]})]})})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing"," ",$r.length===0?0:il+1," ","to"," ",Math.min(un,$r.length)," ","of ",$r.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>$l(Ne=>Math.max(1,Ne-1)),disabled:Ur===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Wc().map((Ne,Ot)=>Ne==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`e-${Ot}`):e.jsx("button",{onClick:()=>$l(Ne),className:`px-2 py-1 rounded text-xs ${Ur===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>$l(Ne=>Math.min(Jn,Ne+1)),disabled:Ur===Jn||Jn===0,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),fo.length>0&&e.jsxs("p",{className:"mt-1.5 text-xs text-blue-600",children:[fo.length," row",fo.length>1?"s":""," ","selected"]})]})]})]})]})}),a==="login-policy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Code"}),e.jsx("input",{type:"text",value:c,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none text-sm bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-48 text-gray-700 text-sm flex-shrink-0",children:"TKS Group Definition"}),e.jsx("input",{type:"text",value:h,disabled:!0,className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded focus:outline-none text-sm bg-gray-100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Semi-Annual"}),e.jsx("input",{type:"checkbox",checked:Qe,onChange:Ne=>qe(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Per Day"}),e.jsx("input",{type:"text",value:Ye,onChange:Ne=>ht(Ne.target.value),readOnly:!rs,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Include in Tardiness"}),e.jsx("input",{type:"checkbox",checked:St,onChange:Ne=>dt(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Include Break 2 in Grace Period"}),e.jsx("input",{type:"checkbox",checked:Et,onChange:Ne=>Te(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Deductible even within grace period"}),e.jsx("input",{type:"checkbox",checked:Ee,onChange:Ne=>pe(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period Per Semi-Annual"}),e.jsx("input",{type:"text",value:Je,onChange:Ne=>pt(Ne.target.value),readOnly:!rs,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"1st Half Semi-Annual Date From"}),e.jsx(zn,{value:Mt,onChange:Ne=>Wt(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"1st Half Semi-Annual Date To"}),e.jsx(zn,{value:$t,onChange:Ne=>lt(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"2nd Half Semi-Annual Date From"}),e.jsx(zn,{value:bt,onChange:Ne=>Nt(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"2nd Half Semi-Annual Date To"}),e.jsx(zn,{value:wt,onChange:Ne=>It(Ne),disabled:!rs,className:"w-52",placeholder:"MM/DD/YYYY"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Deduct Over Break"}),e.jsx("input",{type:"checkbox",checked:Dt,onChange:Ne=>Ke(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Grace Period for Calamity 2"}),e.jsx("input",{type:"text",value:tt,onChange:Ne=>Le(Ne.target.value),className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:!rs})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Combine Tardiness for TimeIn and Break2"}),e.jsx("input",{type:"checkbox",checked:He,onChange:Ne=>ge(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-56 text-gray-700 text-sm flex-shrink-0",children:"Compute Tardiness For No Logout"}),e.jsx("input",{type:"checkbox",checked:st,onChange:Ne=>Ze(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Night Diff. Start Time"}),e.jsx("input",{type:"text",value:Rt,onChange:Ne=>ft(Ne.target.value),readOnly:!rs,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Night Diff. End Time"}),e.jsx("input",{type:"text",value:kt,onChange:Ne=>he(Ne.target.value),readOnly:!rs,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Deduct Meal Break in ND Comp."}),e.jsx("input",{type:"checkbox",checked:be,onChange:Ne=>ie(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"2 Shifts In A Day"}),e.jsx("input",{type:"checkbox",checked:de,onChange:Ne=>J(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Hours Interval for 2 Shifts in A Day"}),e.jsx("input",{type:"text",value:_,onChange:Ne=>Fe(Ne.target.value),readOnly:!rs,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),e.jsx("span",{className:"text-gray-500 text-sm pt-1",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Allowable Grace Period in a Month"}),e.jsx("input",{type:"text",value:Oe,onChange:Ne=>ke(Ne.target.value),readOnly:!rs,className:`w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Exclude the no. of Allowable Grace Period in Bracket"}),e.jsx("input",{type:"checkbox",checked:Ie,onChange:Ne=>te(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Allowable Grace Period in a Month Based on Actual Month"}),e.jsx("input",{type:"checkbox",checked:Pe,onChange:Ne=>ae(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Consider Saturday as Paid Regular Hours"}),e.jsx("input",{type:"checkbox",checked:me,onChange:Ne=>ce(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"w-60 text-gray-700 text-sm break-words",children:["Max. Days Per Week to Consider UnWorked Saturday As Paid",e.jsx("br",{}),"Regular Hours"]}),e.jsx("input",{type:"text",value:Ge,onChange:Ne=>yt(Ne.target.value),disabled:!rs,className:"w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No. of Allowable Tardy in Excess of Grace Period in a Month"}),e.jsx("input",{type:"text",value:Gt,onChange:Ne=>W(Ne.target.value),disabled:!rs,className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsxs("label",{className:"w-60 text-gray-700 text-sm leading-snug",children:["Exclude Tardiness Within Grace Period in Count for",e.jsx("br",{}),"Allowable Tardy in Excess of Grace Period in a Month"]}),e.jsx("input",{type:"checkbox",checked:Be,onChange:Ne=>rt(Ne.target.checked),disabled:!rs,className:"w-4 h-4 self-start mt-1"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Supervisory GroupCode"}),e.jsx("input",{type:"text",value:ns,onChange:Ne=>ps(Ne.target.value),readOnly:!0,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Ce(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ps(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Apply Occurances to Break1 and Break3"}),e.jsx("input",{type:"checkbox",checked:ct,onChange:Ne=>ss(Ne.target.checked),disabled:!rs,className:"w-4 h-4 mt-1"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Max No. of Occurances for no deduction"}),e.jsx("input",{type:"text",value:Ft,onChange:Ne=>Jt(Ne.target.value),disabled:!rs,className:"w-20 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Grace Period"}),e.jsx("input",{type:"text",value:vt,onChange:Ne=>Kt(Ne.target.value),disabled:!rs,className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh:mm]"})]})]}),e.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1",children:"No of Hrs Required to Complete Per Week"}),e.jsx("input",{type:"text",value:jt,onChange:Ne=>Vt(Ne.target.value),disabled:!rs,className:"w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("span",{className:"text-gray-500 text-sm pt-1",children:"[hh:hh]"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"Start of Week"}),e.jsxs("select",{value:cs,onChange:Ne=>sa(Ne.target.value),disabled:!rs,className:"w-40 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm bg-white disabled:bg-gray-50",children:[e.jsx("option",{value:"",children:"Select a day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0 pt-1"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"computeType",value:"tardiness",checked:ua==="tardiness",onChange:Ne=>ka(Ne.target.value),className:"w-4 h-4",disabled:!rs}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute as Tardiness"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"computeType",value:"undertime",checked:ua==="undertime",onChange:Ne=>ka(Ne.target.value),className:"w-4 h-4",disabled:!rs}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compute as Undertime"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-60 text-gray-700 text-sm flex-shrink-0",children:"OT Code Per Week"}),e.jsx("input",{type:"text",value:Ea,onChange:Ne=>Ra(Ne.target.value),readOnly:!rs,className:`w-28 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ra(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-gray-700 mb-4",children:"Default Equivalent Hours To Be Deducted for Absent, No Login, and No Logout if No Shift Defined"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For Absent"}),e.jsx("input",{type:"text",value:oa,onChange:Ne=>xa(Ne.target.value),readOnly:!rs,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>re(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>xa(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Break 2 Out"}),e.jsx("input",{type:"text",value:at,onChange:Ne=>Qt(Ne.target.value),readOnly:!rs,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>oe(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Qt(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Login"}),e.jsx("input",{type:"text",value:Ka,onChange:Ne=>Ha(Ne.target.value),readOnly:!rs,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>H(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ha(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Break 2 In"}),e.jsx("input",{type:"text",value:_s,onChange:Ne=>Us(Ne.target.value),readOnly:!rs,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>R(!0),children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Us(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-40 text-gray-700 text-sm flex-shrink-0",children:"For No Logout"}),e.jsx("input",{type:"text",value:Ws,onChange:Ne=>Ta(Ne.target.value),readOnly:!rs,className:`w-32 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`}),rs&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>E(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>Ta(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})]})]}),a==="overtime"&&e.jsx(vee,{tksGroupCode:c,tksGroupDescription:h,isEditMode:rs,regularDayOT:nr,setRegularDayOT:Ma,restDayOT:wa,setRestDayOT:ya,legalHolidayOT:gt,setLegalHolidayOT:bs,specialHolidayOT:_e,setSpecialHolidayOT:nt,doubleLegalHolidayOT:xs,setDoubleLegalHolidayOT:Bs,specialHolidayOT2:Ue,setSpecialHolidayOT2:_t,nonWorkingHolidayOT:Ve,setNonWorkingHolidayOT:ds,regularDayOTLateFiling:ws,setRegularDayOTLateFiling:ea,restDayOTLateFiling:er,setRestDayOTLateFiling:qa,legalHolidayOTLateFiling:it,setLegalHolidayOTLateFiling:qt,specialHolidayOTLateFiling:or,setSpecialHolidayOTLateFiling:Hr,doubleLegalHolidayOTLateFiling:Nr,setDoubleLegalHolidayOTLateFiling:jr,specialHoliday2OTLateFiling:Ya,setSpecialHoliday2OTLateFiling:ba,nonWorkingHolidayOTLateFiling:br,setNonWorkingHolidayOTLateFiling:ut,otBreakMinHours:tr,setOtBreakMinHours:Zr}),a==="other"&&e.jsx(wee,{tksGroupCode:c,tksGroupDescription:h,isEditMode:rs}),a==="system"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Use Timekeeping System Config :"}),e.jsx("input",{type:"checkbox",checked:Mc,onChange:Ne=>Lc(Ne.target.checked),disabled:!rs,className:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. Before the Shift :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!rs,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsxs("li",{className:"text-green-600 text-sm",children:[" Used in Validate Logs in Import ",">"," Update Raw Data"]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. to Ignore Multiple Break Out/In :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!rs,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]}),e.jsxs("ul",{className:"ml-6 space-y-1",children:[e.jsx("li",{className:"text-green-600 text-sm",children:" This will be triggered when your Device Policy is Device 4"}),e.jsx("li",{className:"text-green-600 text-sm",children:"During pairing of Breaks The system will ignore Multiple breaks when the difference of break is equal or less than to defined policy."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No. of Min. Before Midnight Shift :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!rs,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" This will be triggered when Midnight Shift is check in workshift."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"No of Min. to Consider Break2 In :"}),e.jsx("input",{type:"text",defaultValue:"0",readOnly:!rs,className:`w-24 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" This is the number of minutes to consider as the pair of Break 2 Out, this is used in Device 5."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Device Policy :"}),e.jsx("input",{type:"text",readOnly:!rs,className:`w-48 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm ${rs?"":"bg-gray-50"}`})]}),e.jsx("ul",{className:"ml-6 space-y-1",children:e.jsx("li",{className:"text-green-600 text-sm",children:" Leave blank if you want the default pairing of logs."})})]}),e.jsxs("div",{className:"ml-6 space-y-3 text-sm",children:[e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 1"})," - First In Last Out Regardless of flagging"]})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 2"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First In = Time In"}),e.jsx("div",{children:"Second In = Break2 In"}),e.jsx("div",{children:"First Out = Break2 Out"}),e.jsx("div",{children:"Second Out = Time Out (if no second out First Out will become Time Out)"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 3"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First Flag for Break1Out = Break1Out"}),e.jsx("div",{children:"Second Flag for Break1Out = Break3Out"}),e.jsx("div",{children:"First flag for Break1In = Break1In"}),e.jsx("div",{children:"Last flag for break1In = Break3In"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-green-600 mb-1",children:e.jsx("strong",{children:"Device 4"})}),e.jsxs("div",{className:"ml-4 space-y-1 text-green-600",children:[e.jsx("div",{children:"First Flag for BreakIn = Break1In"}),e.jsx("div",{children:"Second Flag for BreakIn = Break2In"}),e.jsx("div",{children:"Third Flag for BreakIn = Break3In"}),e.jsx("div",{children:"First Flag for BreakOut = Break1Out"}),e.jsx("div",{children:"Second Flag for BreakOut = Break2Out"}),e.jsx("div",{children:"Third Flag for BreakOut = Break3Out"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 5"}),e.jsx("br",{}),"If there is First Flag of any Break before Any flag of In/Out, Flagging of In/Out will always be Out."]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 6"}),e.jsx("br",{}),"From Windows Validation."]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 7"}),e.jsx("br",{}),"All Logs that falls on 6:00am Current Date to 5:59am the next day will be paired to Current Date"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 8"}),e.jsx("br",{}),"24 Hours Pairing"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 9"}),e.jsx("br",{}),"Standard pairing but First Time Out will pair"]})}),e.jsx("div",{children:e.jsxs("div",{className:"text-green-600",children:[e.jsx("strong",{children:"Device 10"}),e.jsx("br",{}),"First In of the current day and last out before first in of next day"]})})]})]})]}),r&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>n(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"TKS Group"}),e.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:Ne=>i(Ne.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code or description..."})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Desc"})]})}),e.jsx("tbody",{children:Gl.map((Ne,Ot)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ot%2===0?"bg-white":"bg-gray-50"}`,onClick:async()=>{u(Ne.tksGroupCode),m(Ne.description),N(Ne.description),f(Ne.tksGroupCode),M(Ne.cutOffDatePeriod);const Cs=parseInt(Ne.cutOffDateMonth,10)-1;F(wi[Cs]||"");const ir=await Pt(Ne.tksGroupCode);ir&&xt(ir),n(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.tksGroupCode}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description})]},Ne.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",cl.length===0?0:Ni+1," to"," ",Math.min(yo,cl.length)," of"," ",cl.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>go(Ne=>Math.max(Ne-1,1)),disabled:rl===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),en().map((Ne,Ot)=>Ne==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>go(Ne),className:`px-2 py-1 rounded text-xs ${rl===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>go(Ne=>Math.min(Ne+1,_o)),disabled:rl===_o||_o===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>n(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Close"})})]})}),b&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>g(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Payroll Location"}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Search:"}),e.jsx("input",{type:"text",value:w,onChange:Ne=>p(Ne.target.value),className:"flex-1 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code or description..."})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Desc"})]})}),e.jsx("tbody",{children:$o.map((Ne,Ot)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ot%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{N(Ne.locationName),f(Ne.locationCode),g(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.locationCode}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.locationName})]},Ne.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",Uo.length===0?0:nc+1," to"," ",Math.min(Kc,Uo.length)," of"," ",Uo.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ml(Ne=>Math.max(Ne-1,1)),disabled:Wo===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Yc().map((Ne,Ot)=>Ne==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>ml(Ne),className:`px-2 py-1 rounded text-xs ${Wo===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>ml(Ne=>Math.min(Ne+1,vo)),disabled:Wo===vo||vo===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>g(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors",children:"Close"})})]})}),G&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>re(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>re(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:ye,onChange:Ne=>K(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code, description, or hours..."})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Code"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:qc.map((Ne,Ot)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>{xa(Ne.code),re(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.code}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.monday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.tuesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.wednesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.thursday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.friday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.saturday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.sunday??0).toFixed(2)})]},`${Ne.id}-${Ot}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",pl.length===0?0:ql+1," ","to ",Math.min(wo,pl.length)," ","of ",pl.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Go(Ne=>Math.max(Ne-1,1)),disabled:ki===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),tn().map((Ne,Ot)=>typeof Ne=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>Go(Ne),className:`px-2 py-1 rounded text-xs ${ki===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>Go(Ne=>Math.min(Ne+1,Qn)),disabled:ki===Qn||Qn===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),ne&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>H(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>H(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:se,onChange:Ne=>we(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:gu.map((Ne,Ot)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>{Ha(Ne.code),H(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.code}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.monday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.tuesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.wednesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.thursday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.friday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.saturday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.sunday??0).toFixed(2)})]},`${Ne.id}-${Ot}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",Di.length===0?0:Sr+1," ","to ",Math.min(vr,Di.length)," ","of ",Di.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Lt(Ne=>Math.max(Ne-1,1)),disabled:At===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ms().map((Ne,Ot)=>typeof Ne=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>Lt(Ne),className:`px-2 py-1 rounded text-xs ${At===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>Lt(Ne=>Math.min(Ne+1,gl)),disabled:At===gl||gl===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),Y&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>E(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:P,onChange:Ne=>V(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:ta.map((Ne,Ot)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>{Ta(Ne.code),E(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.code}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.monday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.tuesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.wednesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.thursday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.friday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.saturday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.sunday??0).toFixed(2)})]},`${Ne.id}-${Ot}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",lr.length===0?0:$a+1," ","to ",Math.min(wn,lr.length)," ","of ",lr.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Gr(Ne=>Math.max(Ne-1,1)),disabled:na===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Ua().map((Ne,Ot)=>typeof Ne=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>Gr(Ne),className:`px-2 py-1 rounded text-xs ${na===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>Gr(Ne=>Math.min(Ne+1,ja)),disabled:na===ja||ja===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>R(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:ee,onChange:Ne=>Se(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:xn.map((Ne,Ot)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>{Us(Ne.code),R(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.code}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.monday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.tuesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.wednesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.thursday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.friday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.saturday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.sunday??0).toFixed(2)})]},`${Ne.id}-${Ot}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",fl.length===0?0:fu+1," ","to ",Math.min(yl,fl.length)," ","of ",fl.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ed(Ne=>Math.max(Ne-1,1)),disabled:Xc===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Td().map((Ne,Ot)=>typeof Ne=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>Ed(Ne),className:`px-2 py-1 rounded text-xs ${Xc===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>Ed(Ne=>Math.min(Ne+1,oc)),disabled:Xc===oc||oc===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),ue&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>oe(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Select Code"}),e.jsx("button",{onClick:()=>oe(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:le,onChange:Ne=>Q(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Monday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Tuesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Wednesday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Thursday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Friday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Saturday"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Sunday"})]})}),e.jsx("tbody",{children:yu.map((Ne,Ot)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>{Qt(Ne.code),oe(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.code}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.monday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.tuesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.wednesday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.thursday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.friday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.saturday??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.sunday??0).toFixed(2)})]},`${Ne.id}-${Ot}`))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",lc.length===0?0:Ei+1," ","to ",Math.min(Pd,lc.length)," ","of ",lc.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>sn(Ne=>Math.max(Ne-1,1)),disabled:Fd===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Bn().map((Ne,Ot)=>typeof Ne=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>sn(Ne),className:`px-2 py-1 rounded text-xs ${Fd===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>sn(Ne=>Math.min(Ne+1,Ad)),disabled:Fd===Ad||Ad===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}),ve&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>Ce(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Supervisory Group"}),e.jsx("button",{onClick:()=>Ce(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-medium",children:"Search:"}),e.jsx("input",{type:"text",value:$e,onChange:Ne=>{Ae(Ne.target.value),Ro(1)},className:"flex-1 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by code or description..."})]})}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Code"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"})]})}),e.jsx("tbody",{children:bo.map((Ne,Ot)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${Ot%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ps(Ne.tksGroupCode),Ce(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.tksGroupCode}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description})]},Ne.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",bo.length===0?0:Gc+1," ","to"," ",Math.min(zc,bo.length)," ","of ",bo.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ro(Ne=>Math.max(Ne-1,1)),disabled:Bo===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),ul().map(Ne=>e.jsx("button",{onClick:()=>Ro(Ne),className:`px-2 py-1 rounded text-xs ${Bo===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>Ro(Ne=>Math.min(Ne+1,Na)),disabled:Bo===Na||Na===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsx("button",{onClick:()=>Ce(!1),className:"px-6 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Close"})})]})}),We&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)"},onClick:()=>Re(!1),children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl",onClick:Ne=>Ne.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Search"}),e.jsx("button",{onClick:()=>Re(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Overtime Code"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:et,onChange:Ne=>B(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),e.jsx("div",{className:"px-6 py-4",style:{maxHeight:"400px",overflowY:"auto"},children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b-2 border-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:e.jsxs("div",{className:"flex items-center gap-1",children:["Code",e.jsx("span",{className:"text-blue-600",children:""})]})}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Description"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Rate"}),e.jsx("th",{className:"text-left py-2 text-gray-700 font-semibold",children:"Default Amount"})]})}),e.jsx("tbody",{children:xl.map((Ne,Ot)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer transition-colors ${Ot%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{Ra(Ne.oTFileSetupCode),Re(!1)},children:[e.jsx("td",{className:"py-2 text-gray-800",children:Ne.oTFileSetupCode}),e.jsx("td",{className:"py-2 text-gray-800",children:Ne.description}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.rateOne??0).toFixed(2)}),e.jsx("td",{className:"py-2 text-gray-800",children:Number(Ne.defaultAmount??0).toFixed(2)})]},Ne.oTFileSetupID))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3 px-6 pb-4",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing"," ",Ho.length===0?0:rc+1," to"," ",Math.min(Kl,Ho.length)," of"," ",Ho.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Vc(Ne=>Math.max(Ne-1,1)),disabled:hl===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Si().map((Ne,Ot)=>typeof Ne=="string"?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`ellipsis-${Ot}`):e.jsx("button",{onClick:()=>Vc(Ne),className:`px-2 py-1 rounded text-xs ${hl===Ne?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Ne},Ne)),e.jsx("button",{onClick:()=>Vc(Ne=>Math.min(Ne+1,Mr)),disabled:hl===Mr||Mr===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})]})}),e.jsx(ls,{})]})}const jee="Borrowed Device Name SetUp",Qm="/Fs/Process/Device/BorrowedDeviceName";function Cee(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=10,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(null),[y,N]=o.useState(!1),[C,S]=o.useState([]),[I,k]=o.useState(!1),[A,F]=o.useState("");o.useEffect(()=>{O()},[]);const O=async()=>{k(!0),F("");try{const P=await z.get(Qm);P.status===200&&P.data&&S(P.data)}catch(P){const V=P.response?.data?.message||P.message||"Failed to load devices";F(V),console.error("Error fetching devices:",P)}finally{k(!1)}},[M,U]=o.useState({}),L=P=>M[P]===!0;o.useEffect(()=>{G()},[]);const G=()=>{const P=localStorage.getItem("loginPayload");if(P)try{const R=(JSON.parse(P).permissions||[]).filter(Se=>Ss(Se.formName)==="BorrowedDeviceNameSetUp"),ee={};R.forEach(Se=>{const ue=Ss(Se.accessTypeName);ue&&(ee[ue]=!0)}),U(ee)}catch(V){console.error("Error parsing or decrypting payload",V)}};o.useEffect(()=>{const P=V=>{V.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[t]);const re=()=>{l(!1),c(null),f(null),g(""),p(""),a(!0)},ye=(P,V)=>{l(!0),c(V),f(P.id),g(P.code),p(P.description),a(!0)},K=async P=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete device ${P.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`${Qm}/${P.id}`),await ts.log({accessType:"Delete",trans:`Device ${P.code} deleted`,messages:`Device ${P.code} deleted`,formName:jee}),await xe.fire({icon:"success",title:"Success",text:"Device deleted successfully.",timer:2e3,showConfirmButton:!1}),await O()}catch(D){const R=D.response?.data?.message||D.message||"Failed to delete device";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error deleting device:",D)}},ne=async()=>{if(!b.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(C.some((V,D)=>n&&i===D?!1:V.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}N(!0);try{const V={id:n&&v?v:0,code:b,description:w};n&&v?(await z.put(`${Qm}/${v}`,V),await xe.fire({icon:"success",title:"Success",text:"Device updated successfully.",timer:2e3,showConfirmButton:!1}),await O()):(await z.post(Qm,V),await xe.fire({icon:"success",title:"Success",text:"Device created successfully.",timer:2e3,showConfirmButton:!1}),await O()),a(!1),g(""),p(""),f(null),l(!1),c(null)}catch(V){const D=V.response?.data?.message||V.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:D}),console.error("Error submitting form:",V)}finally{N(!1)}},H=C.filter(P=>P.code.toLowerCase().includes(s.toLowerCase())||P.description.toLowerCase().includes(s.toLowerCase())),se=Math.ceil(H.length/m),we=(u-1)*m,Y=we+m,E=H.slice(we,Y);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Borrowed Device Name"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage borrowed biometric devices used temporarily across different locations. Track device codes and maintain descriptions for loaned equipment to ensure proper time log attribution."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location flexibility"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Quick device lookup"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Temporary assignments"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[L("Add")&&L("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:re,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),L("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:P=>r(P.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:I?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading devices..."})}):A?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:A})}):L("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),(L("Edit")||L("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:E.length>0?E.map((P,V)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:P.code}),e.jsx("td",{className:"px-4 py-2",children:P.description}),(L("Edit")||L("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[L("Edit")&&e.jsx("button",{onClick:()=>ye(P,V),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),L("Edit")&&L("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),L("Delete")&&e.jsx("button",{onClick:()=>K(P),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},P.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),L("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",H.length===0?0:we+1," to ",Math.min(Y,H.length)," of ",H.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(P=>Math.max(P-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:se},(P,V)=>V+1).map(P=>e.jsx("button",{onClick:()=>h(P),className:`px-3 py-1 rounded transition-colors ${u===P?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:P},P)),e.jsx("button",{onClick:()=>h(P=>Math.min(P+1,se)),disabled:u===se||se===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Device":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Borrowed Device Name"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,onChange:P=>g(P.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:w,onChange:P=>p(P.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:ne,disabled:y,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:y?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:y,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(ls,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const Pb="DTR Flag SetUp";function See(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState(null),[m,b]=o.useState(!1),[g,w]=o.useState({flagCode:"",timeIn:"",timeOut:"",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:""}),[p,v]=o.useState(!1),[f,y]=o.useState(!1),[N,C]=o.useState(!1),[S,I]=o.useState(!1),[k,A]=o.useState(!1),[F,O]=o.useState(!1),[M,U]=o.useState(!1),[L,G]=o.useState(!1),[re,ye]=o.useState([]),[K,ne]=o.useState(!1),[H,se]=o.useState(""),we=10,[Y,E]=o.useState({}),P=et=>Y[et]===!0;o.useEffect(()=>{V()},[]);const V=()=>{const et=localStorage.getItem("loginPayload");if(et)try{const Z=(JSON.parse(et).permissions||[]).filter(De=>Ss(De.formName)==="DTRFlagSetup"),je={};Z.forEach(De=>{const Qe=Ss(De.accessTypeName);Qe&&(je[Qe]=!0)}),E(je)}catch(B){console.error("Error parsing or decrypting payload",B)}};o.useEffect(()=>{D()},[]);const D=async()=>{ne(!0),se("");try{const et=await z.get("/Fs/Process/Device/DTRFlagSetUp");et.status===200&&et.data&&ye(et.data)}catch(et){const B=et.response?.data?.message||et.message||"Failed to load DTR flags";se(B),console.error("Error fetching DTR flags:",et)}finally{ne(!1)}},R=re.filter(et=>et.flagCode?.toLowerCase().includes(t.toLowerCase())||et.timeIn?.toLowerCase().includes(t.toLowerCase())||et.timeOut?.toLowerCase().includes(t.toLowerCase())||et.break1Out?.toLowerCase().includes(t.toLowerCase())||et.break1In?.toLowerCase().includes(t.toLowerCase())||et.break2Out?.toLowerCase().includes(t.toLowerCase())||et.break2In?.toLowerCase().includes(t.toLowerCase())||et.break3Out?.toLowerCase().includes(t.toLowerCase())||et.break3In?.toLowerCase().includes(t.toLowerCase())),ee=Math.ceil(R.length/we),Se=(i-1)*we,ue=R.slice(Se,Se+we),oe=()=>{v(!1),y(!1),C(!1),I(!1),A(!1),O(!1),U(!1),G(!1)},le=()=>{w({flagCode:"",timeIn:"",timeOut:"",break1Out:"",break1In:"",break2Out:"",break2In:"",break3Out:"",break3In:""}),oe(),r(!0)},Q=et=>{h(et),w({flagCode:et.flagCode,timeIn:et.timeIn,timeOut:et.timeOut,break1Out:et.break1Out,break1In:et.break1In,break2Out:et.break2Out,break2In:et.break2In,break3Out:et.break3Out,break3In:et.break3In}),oe(),l(!0)},ve=async et=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete DTR flag "${et.flagCode}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Device/DTRFlagSetUp/${et.id}`),await ts.log({accessType:"Delete",trans:`DTR flag "${et.flagCode}" deleted`,messages:`DTRFlag ID: ${et.id}`,formName:Pb}),await xe.fire({icon:"success",title:"Success",text:"DTR flag deleted successfully.",timer:2e3,showConfirmButton:!1}),await D()}catch(q){const Z=q.response?.data?.message||q.message||"Failed to delete DTR flag";await xe.fire({icon:"error",title:"Error",text:Z}),console.error("Error deleting DTR flag:",q)}},Ce=async et=>{if(et.preventDefault(),!g.flagCode.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Flag Code is required."});return}if(re.some(q=>q.flagCode.toLowerCase()===g.flagCode.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Flag Code",text:"This flag code is already in use. Please use a different code."});return}b(!0);try{const q={id:0,flagCode:g.flagCode,timeIn:g.timeIn,timeOut:g.timeOut,break1Out:g.break1Out,break1In:g.break1In,break2Out:g.break2Out,break2In:g.break2In,break3Out:g.break3Out,break3In:g.break3In};await z.post("/Fs/Process/Device/DTRFlagSetUp",q),await ts.log({accessType:"Add",trans:`DTR flag "${g.flagCode}" created`,messages:`Payload: ${JSON.stringify(q)}`,formName:Pb}),await xe.fire({icon:"success",title:"Success",text:"DTR flag created successfully.",timer:2e3,showConfirmButton:!1}),await D(),r(!1)}catch(q){const Z=q.response?.data?.message||q.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Z}),console.error("Error creating DTR flag:",q)}finally{b(!1)}},$e=async et=>{if(et.preventDefault(),!u)return;if(!g.flagCode.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Flag Code is required."});return}if(re.some(q=>q.id!==u.id&&q.flagCode.toLowerCase()===g.flagCode.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Flag Code",text:"This flag code is already in use. Please use a different code."});return}b(!0);try{const q={id:u.id,flagCode:g.flagCode,timeIn:g.timeIn,timeOut:g.timeOut,break1Out:g.break1Out,break1In:g.break1In,break2Out:g.break2Out,break2In:g.break2In,break3Out:g.break3Out,break3In:g.break3In};await z.put(`/Fs/Process/Device/DTRFlagSetUp/${u.id}`,q),await ts.log({accessType:"Edit",trans:`DTR flag "${g.flagCode}" updated`,messages:`Payload: ${JSON.stringify(q)}`,formName:Pb}),await xe.fire({icon:"success",title:"Success",text:"DTR flag updated successfully.",timer:2e3,showConfirmButton:!1}),await D(),l(!1),h(null)}catch(q){const Z=q.response?.data?.message||q.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Z}),console.error("Error updating DTR flag:",q)}finally{b(!1)}},Ae=()=>{r(!1),l(!1),h(null),oe()};o.useEffect(()=>{const et=B=>{B.key==="Escape"&&(s?(r(!1),oe()):n&&(l(!1),h(null),oe()))};return(s||n)&&document.addEventListener("keydown",et),()=>{document.removeEventListener("keydown",et)}},[s,n]);const We=(et,B,q,Z)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:[et," :"]}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:g[B],onChange:je=>w({...g,[B]:je.target.value}),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-10"}),e.jsx("button",{type:"button",onClick:()=>Z(!q),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",title:"Pick time",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),q&&e.jsx(va,{initialTime:g[B],onTimeSelect:je=>{w({...g,[B]:je}),Z(!1)},onClose:()=>Z(!1)})]})]}),Re=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-28",children:"Flag Code :"}),e.jsx("input",{type:"text",value:g.flagCode,maxLength:10,onChange:et=>w({...g,flagCode:et.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),We("Time In","timeIn",p,v),We("Time Out","timeOut",f,y),We("Break1 Out","break1Out",N,C),We("Break1 In","break1In",S,I),We("Break2 Out","break2Out",k,A),We("Break2 In","break2In",F,O),We("Break3 Out","break3Out",M,U),We("Break3 In","break3In",L,G)]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"DTR Flag Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure DTR (Daily Time Record) flag codes that identify different types of attendance transactions. Map flag values from biometric devices to corresponding time log actions like clock-in, clock-out, and break periods."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Transaction identification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Break time tracking"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-flag support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device compatibility"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[P("Add")&&P("View")&&e.jsxs("button",{onClick:le,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),P("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:et=>{a(et.target.value),c(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden overflow-x-auto",children:K?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading DTR flags..."})}):H?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:H})}):P("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Flag Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Time In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Time Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break1 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break1 In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break2 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break2 In"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break3 Out"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase whitespace-nowrap",children:"Break3 In"}),(P("Edit")||P("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:ue.length>0?ue.map(et=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 whitespace-nowrap",children:et.flagCode}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.timeIn}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.timeOut}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.break1Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.break1In}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.break2Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.break2In}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.break3Out}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:et.break3In}),(P("Edit")||P("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[P("Edit")&&e.jsx("button",{onClick:()=>Q(et),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),P("Edit")&&P("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),P("Delete")&&e.jsx("button",{onClick:()=>ve(et),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},et.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),P("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",R.length>0?Se+1:0," to ",Math.min(Se+we,R.length)," of ",R.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(et=>Math.max(1,et-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:ee},(et,B)=>B+1).map(et=>e.jsx("button",{onClick:()=>c(et),className:`px-3 py-1 rounded transition-colors ${i===et?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:et},et)),e.jsx("button",{onClick:()=>c(et=>Math.min(ee||1,et+1)),disabled:i>=ee||R.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:Ce,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag Setup"}),Re(),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:Ae,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit DTR Flag"}),e.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:$e,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag Setup"}),Re(),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:m?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:Ae,disabled:m,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(ls,{})]})}const Ib="DTR Log Fields SetUp";function kee(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState(null),[m,b]=o.useState(!1),[g,w]=o.useState({code:"",description:"",deviceType:"Excel File",deviceFormat:"Excel Format",flagCode:"",dateFormat:"MM DD YYYY",dateSeparator:"/",empCodePos:0,empCodeNoOfChar:0,datePos:0,dateNoOfChar:0,timePos:0,timeNoOfChar:0,flagPos:0,flagNoOfChar:0,terminalPos:0,terminalNoOfChar:0,monthPos:0,monthNoOfChar:0,dayPos:0,dayNoOfChar:0,yearPos:0,yearNoOfChar:0,hourPos:0,hourNoOfChar:0,minutesPos:0,minutesNoOfChar:0,timePeriodPos:0,timePeriodNoOfChar:0,combineDateTime:!0,identifierPos:0,identifierNoOfChar:0}),[p,v]=o.useState([]),[f,y]=o.useState(!1),[N,C]=o.useState(""),[S,I]=o.useState(!1),[k,A]=o.useState(""),[F,O]=o.useState([]),[M,U]=o.useState(!1),L=10,[G,re]=o.useState({}),ye=ve=>G[ve]===!0;o.useEffect(()=>{K()},[]);const K=()=>{const ve=localStorage.getItem("loginPayload");if(ve)try{const Ae=(JSON.parse(ve).permissions||[]).filter(Re=>Ss(Re.formName)==="DTRLogFieldsSetup"),We={};Ae.forEach(Re=>{const et=Ss(Re.accessTypeName);et&&(We[et]=!0)}),re(We)}catch(Ce){console.error("Error parsing or decrypting payload",Ce)}};o.useEffect(()=>{ne()},[]);const ne=async()=>{y(!0),C("");try{const ve=await z.get("/Fs/Process/Device/DTRLogFIeldsSetUp");ve.status===200&&ve.data&&v(ve.data)}catch(ve){const Ce=ve.response?.data?.message||ve.message||"Failed to load DTR log fields";C(Ce),console.error("Error fetching DTR log fields:",ve)}finally{y(!1)}},H=async()=>{U(!0);try{const ve=await z.get("/Fs/Process/Device/DTRFlagSetUp");ve.status===200&&ve.data&&O(ve.data)}catch(ve){console.error("Error fetching DTR flags:",ve)}finally{U(!1)}},se=()=>{A(""),H(),I(!0)},we=p.filter(ve=>ve.code.toLowerCase().includes(t.toLowerCase())||ve.description.toLowerCase().includes(t.toLowerCase())||ve.deviceType.toLowerCase().includes(t.toLowerCase())||ve.deviceFormat.toLowerCase().includes(t.toLowerCase())||ve.flagCode.toLowerCase().includes(t.toLowerCase())),Y=Math.ceil(we.length/L),E=(i-1)*L,P=we.slice(E,E+L);o.useEffect(()=>{c(1)},[t]);const V=()=>{w({code:"",description:"",deviceType:"Excel File",deviceFormat:"Excel Format",flagCode:"",dateFormat:"MM DD YYYY",dateSeparator:"/",empCodePos:0,empCodeNoOfChar:0,datePos:0,dateNoOfChar:0,timePos:0,timeNoOfChar:0,flagPos:0,flagNoOfChar:0,terminalPos:0,terminalNoOfChar:0,monthPos:0,monthNoOfChar:0,dayPos:0,dayNoOfChar:0,yearPos:0,yearNoOfChar:0,hourPos:0,hourNoOfChar:0,minutesPos:0,minutesNoOfChar:0,timePeriodPos:0,timePeriodNoOfChar:0,combineDateTime:!0,identifierPos:0,identifierNoOfChar:0}),r(!0)},D=ve=>{h(ve),w({code:ve.code,description:ve.description,deviceType:ve.deviceType,deviceFormat:ve.deviceFormat,flagCode:ve.flagCode,dateFormat:ve.dateFormat,dateSeparator:ve.dateSeparator,empCodePos:ve.empCodePos,empCodeNoOfChar:ve.empCodeNoOfChar,datePos:ve.datePos,dateNoOfChar:ve.dateNoOfChar,timePos:ve.timePos,timeNoOfChar:ve.timeNoOfChar,flagPos:ve.flagPos,flagNoOfChar:ve.flagNoOfChar,terminalPos:ve.terminalPos,terminalNoOfChar:ve.terminalNoOfChar,monthPos:ve.monthPos,monthNoOfChar:ve.monthNoOfChar,dayPos:ve.dayPos,dayNoOfChar:ve.dayNoOfChar,yearPos:ve.yearPos,yearNoOfChar:ve.yearNoOfChar,hourPos:ve.hourPos,hourNoOfChar:ve.hourNoOfChar,minutesPos:ve.minutesPos,minutesNoOfChar:ve.minutesNoOfChar,timePeriodPos:ve.timePeriodPos,timePeriodNoOfChar:ve.timePeriodNoOfChar,combineDateTime:ve.combineDateTime,identifierPos:ve.identifierPos,identifierNoOfChar:ve.identifierNoOfChar}),l(!0)},R=async ve=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete DTR log field "${ve.code}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Device/DTRLogFIeldsSetUp/${ve.id}`),await ts.log({accessType:"Delete",trans:`DTR log field "${ve.code}" (ID: ${ve.id}) has been removed from the system`,messages:`Deleted DTR log field "${ve.code}"`,formName:Ib}),await xe.fire({icon:"success",title:"Success",text:"DTR log field deleted successfully.",timer:2e3,showConfirmButton:!1}),await ne()}catch($e){const Ae=$e.response?.data?.message||$e.message||"Failed to delete DTR log field";await xe.fire({icon:"error",title:"Error",text:Ae}),console.error("Error deleting DTR log field:",$e)}},ee=async ve=>{if(ve.preventDefault(),!g.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(p.some($e=>$e.code.toLowerCase()===g.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}b(!0);try{const $e={id:0,...g};await z.post("/Fs/Process/Device/DTRLogFIeldsSetUp",{id:0,...g}),await ts.log({accessType:"Add",trans:`DTR log field "${g.code}" created with details: ${JSON.stringify(g)}`,messages:`Created DTR log field "${g.code}"`,formName:Ib}),await xe.fire({icon:"success",title:"Success",text:"DTR log field created successfully.",timer:2e3,showConfirmButton:!1}),await ne(),r(!1)}catch($e){const Ae=$e.response?.data?.message||$e.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Ae}),console.error("Error creating DTR log field:",$e)}finally{b(!1)}},Se=async ve=>{if(ve.preventDefault(),!u)return;if(!g.code.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(p.some($e=>$e.id!==u.id&&$e.code.toLowerCase()===g.code.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use. Please use a different code."});return}b(!0);try{const $e={id:u.id,...g};await z.put(`/Fs/Process/Device/DTRLogFIeldsSetUp/${u.id}`,{id:u.id,...g}),await ts.log({accessType:"Edit",trans:`DTR log field "${g.code}" (ID: ${u.id}) updated with new values: ${JSON.stringify(g)}`,messages:`Updated DTR log field "${g.code}"`,formName:Ib}),await xe.fire({icon:"success",title:"Success",text:"DTR log field updated successfully.",timer:2e3,showConfirmButton:!1}),await ne(),l(!1),h(null)}catch($e){const Ae=$e.response?.data?.message||$e.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:Ae}),console.error("Error updating DTR log field:",$e)}finally{b(!1)}},ue=()=>{r(!1),l(!1),h(null),I(!1)};o.useEffect(()=>{const ve=Ce=>{Ce.key==="Escape"&&(S?I(!1):s?r(!1):n&&(l(!1),h(null)))};return(s||n||S)&&document.addEventListener("keydown",ve),()=>{document.removeEventListener("keydown",ve)}},[s,n,S]);const oe=["Excel File","Text File","DAT File","CSV File"],le=["Excel Format","Comma Separated","Tab Delimited","Pipe Delimited"],Q=["MM DD YYYY","DD MM YYYY","YYYY MM DD","MM/DD/YYYY","DD/MM/YYYY"];return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"DTR Log Fields Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure field mappings for importing DTR logs from various file formats. Define data positions, formats, and separators to ensure accurate parsing of employee attendance records from external sources."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Flexible import formats","Custom field mapping","Date format configuration","Multi-device support"].map(ve=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:ve})]},ve))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[ye("Add")&&ye("View")&&e.jsxs("button",{onClick:V,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),ye("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:ve=>a(ve.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:f?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading DTR log fields..."})}):N?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:N})}):ye("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Device Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Device Format"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),(ye("Edit")||ye("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:P.length>0?P.map(ve=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:ve.code}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.deviceType}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.deviceFormat}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ve.flagCode}),(ye("Edit")||ye("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ye("Edit")&&e.jsx("button",{onClick:()=>D(ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),ye("Edit")&&ye("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ye("Delete")&&e.jsx("button",{onClick:()=>R(ve),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},ve.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ye("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",we.length>0?E+1:0," to ",Math.min(E+L,we.length)," of ",we.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>c(ve=>Math.max(1,ve-1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:Y},(ve,Ce)=>Ce+1).map(ve=>e.jsx("button",{onClick:()=>c(ve),className:`px-3 py-1 rounded transition-colors ${i===ve?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ve},ve)),e.jsx("button",{onClick:()=>c(ve=>Math.min(Y||1,ve+1)),disabled:i>=Y||we.length===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})}),(s||n)&&e.jsx(Dee,{isEdit:n,formData:g,setFormData:w,onSubmit:n?Se:ee,onClose:ue,submitting:m,deviceTypes:oe,deviceFormats:le,dateFormats:Q,showFlagModal:S,onOpenFlagModal:se,onCloseFlagModal:()=>I(!1),flagSearchTerm:k,setFlagSearchTerm:A,dtrFlags:F,loadingFlags:M}),e.jsx(ls,{})]})}function Dee({isEdit:t,formData:a,setFormData:s,onSubmit:r,onClose:n,submitting:l,deviceTypes:i,deviceFormats:c,dateFormats:u,showFlagModal:h,onOpenFlagModal:m,onCloseFlagModal:b,flagSearchTerm:g,setFlagSearchTerm:w,dtrFlags:p,loadingFlags:v}){return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto relative",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-900",children:t?"Edit DTR Log Field":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:r,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Log Fields Setup"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Code :"}),e.jsx("input",{type:"text",value:a.code,maxLength:10,onChange:f=>s({...a,code:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-32",children:"Description :"}),e.jsx("input",{type:"text",value:a.description,onChange:f=>s({...a,description:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Flag Code :"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:a.flagCode,readOnly:!0,placeholder:"Select flag code...",className:"flex-1 min-w-0 px-3 py-1.5 border border-gray-300 rounded-lg bg-gray-50 text-sm cursor-default focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:m,className:"w-8 h-8 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center flex-shrink-0",children:e.jsx(Ut,{className:"w-3.5 h-3.5"})}),e.jsx("button",{type:"button",onClick:()=>s({...a,flagCode:""}),className:"w-8 h-8 bg-red-600 text-white rounded hover:bg-red-700 transition-colors flex items-center justify-center flex-shrink-0",children:e.jsx(ot,{className:"w-3.5 h-3.5"})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Device Type :"}),e.jsx("select",{value:a.deviceType,onChange:f=>s({...a,deviceType:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:i.map(f=>e.jsx("option",{value:f,children:f},f))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Device Format :"}),e.jsx("select",{value:a.deviceFormat,onChange:f=>s({...a,deviceFormat:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:c.map(f=>e.jsx("option",{value:f,children:f},f))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Date Format :"}),e.jsx("select",{value:a.dateFormat,onChange:f=>s({...a,dateFormat:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:u.map(f=>e.jsx("option",{value:f,children:f},f))})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Date Separator :"}),e.jsx("input",{type:"text",value:a.dateSeparator,onChange:f=>s({...a,dateSeparator:f.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36",children:"Combine Date/Time :"}),e.jsx("input",{type:"checkbox",checked:a.combineDateTime,onChange:f=>s({...a,combineDateTime:f.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-gray-700 mb-4 font-medium",children:"Field Positions & Character Counts"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"EmpCode Position"}),e.jsx("input",{type:"number",value:a.empCodePos,onChange:f=>s({...a,empCodePos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"EmpCode Chars"}),e.jsx("input",{type:"number",value:a.empCodeNoOfChar,onChange:f=>s({...a,empCodeNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Date Position"}),e.jsx("input",{type:"number",value:a.datePos,onChange:f=>s({...a,datePos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Date Chars"}),e.jsx("input",{type:"number",value:a.dateNoOfChar,onChange:f=>s({...a,dateNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Position"}),e.jsx("input",{type:"number",value:a.timePos,onChange:f=>s({...a,timePos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Chars"}),e.jsx("input",{type:"number",value:a.timeNoOfChar,onChange:f=>s({...a,timeNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Month Position"}),e.jsx("input",{type:"number",value:a.monthPos,onChange:f=>s({...a,monthPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Month Chars"}),e.jsx("input",{type:"number",value:a.monthNoOfChar,onChange:f=>s({...a,monthNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Day Position"}),e.jsx("input",{type:"number",value:a.dayPos,onChange:f=>s({...a,dayPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Day Chars"}),e.jsx("input",{type:"number",value:a.dayNoOfChar,onChange:f=>s({...a,dayNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Year Position"}),e.jsx("input",{type:"number",value:a.yearPos,onChange:f=>s({...a,yearPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Year Chars"}),e.jsx("input",{type:"number",value:a.yearNoOfChar,onChange:f=>s({...a,yearNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Hour Position"}),e.jsx("input",{type:"number",value:a.hourPos,onChange:f=>s({...a,hourPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Hour Chars"}),e.jsx("input",{type:"number",value:a.hourNoOfChar,onChange:f=>s({...a,hourNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Minutes Position"}),e.jsx("input",{type:"number",value:a.minutesPos,onChange:f=>s({...a,minutesPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Minutes Chars"}),e.jsx("input",{type:"number",value:a.minutesNoOfChar,onChange:f=>s({...a,minutesNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Period Position"}),e.jsx("input",{type:"number",value:a.timePeriodPos,onChange:f=>s({...a,timePeriodPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Time Period Chars"}),e.jsx("input",{type:"number",value:a.timePeriodNoOfChar,onChange:f=>s({...a,timePeriodNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Flag Position"}),e.jsx("input",{type:"number",value:a.flagPos,onChange:f=>s({...a,flagPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Flag Chars"}),e.jsx("input",{type:"number",value:a.flagNoOfChar,onChange:f=>s({...a,flagNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Terminal Position"}),e.jsx("input",{type:"number",value:a.terminalPos,onChange:f=>s({...a,terminalPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Terminal Chars"}),e.jsx("input",{type:"number",value:a.terminalNoOfChar,onChange:f=>s({...a,terminalNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Identifier Position"}),e.jsx("input",{type:"number",value:a.identifierPos,onChange:f=>s({...a,identifierPos:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-700 text-xs mb-1 block",children:"Identifier Chars"}),e.jsx("input",{type:"number",value:a.identifierNoOfChar,onChange:f=>s({...a,identifierNoOfChar:parseInt(f.target.value)||0}),className:"w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:l?t?"Updating...":"Creating...":t?"Update":"Submit"}),e.jsx("button",{type:"button",onClick:n,disabled:l,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]}),h&&e.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-[10] rounded-lg",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-2xl w-full max-w-2xl max-h-[95%] flex flex-col mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-900 font-semibold",children:"Search DTR Flag"}),e.jsx("button",{type:"button",onClick:b,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Select a Flag Code"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",autoFocus:!0,value:g,onChange:f=>w(f.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-48 md:w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden flex-1 flex flex-col",children:e.jsx("div",{className:"overflow-y-auto max-h-[400px]",children:v?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0 z-20",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-xs font-bold text-gray-600 uppercase",children:"Break 1"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{const f=p.filter(y=>y.flagCode.toLowerCase().includes(g.toLowerCase()));return f.length>0?f.map(y=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors group",onClick:()=>{s({...a,flagCode:y.flagCode}),b()},children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-blue-600 group-hover:underline",children:y.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.timeOut}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-500",children:[y.break1Out," - ",y.break1In]})]},y.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"px-4 py-12 text-center text-gray-500",children:["No flag codes found",g?` matching "${g}"`:""]})})})()})]})})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{type:"button",onClick:b,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm transition-colors",children:"Cancel"})})]})]})})]})})}const Zm="Device Type SetUp",Eee="/Fs/Process/Device/DeviceTypeSetUp",Ox="/Fs/Process/Device/DeviceTypeSetUp/DeviceType2";function Tee(){const[t,a]=o.useState(""),[s,r]=o.useState(1),[n,l]=o.useState("asc"),[i,c]=o.useState([]),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(""),[p,v]=o.useState(null),f=25,[y,N]=o.useState({}),C=K=>y[K]===!0;o.useEffect(()=>{S()},[]);const S=()=>{const K=localStorage.getItem("loginPayload");if(K)try{const se=(JSON.parse(K).permissions||[]).filter(Y=>Ss(Y.formName)==="DeviceTypeSetUp"),we={};se.forEach(Y=>{const E=Ss(Y.accessTypeName);E&&(we[E]=!0)}),N(we)}catch(ne){console.error("Error parsing or decrypting payload",ne)}};o.useEffect(()=>{I()},[]);const I=async()=>{h(!0),w("");try{const K=await z.get(Eee);if(K.status===200&&K.data){const ne=K.data.map((H,se)=>({id:se+1,deviceName:H.deviceName,isChecked:!1,deviceType2Id:null}));console.log("Fetched device types:",ne),c(ne),await k(ne)}}catch(K){const ne=K.response?.data?.message||K.message||"Failed to load device types";w(ne),console.error("Error fetching device types:",K)}finally{h(!1)}},k=async K=>{b(!0);try{const ne=await z.get(Ox);if(ne.status===200&&ne.data){const H=new Map;ne.data.forEach(Y=>{H.set(Y.deviceName,Y.id)}),console.log("Active devices map:",Object.fromEntries(H));const we=(K||i).map(Y=>({...Y,isChecked:H.has(Y.deviceName),deviceType2Id:H.get(Y.deviceName)||null}));console.log("Updated devices with active status"),c(we)}}catch(ne){console.error("Error fetching active devices:",ne)}finally{b(!1)}},A=async(K,ne)=>{if(console.log("handleToggleDevice called with:",{deviceId:K,deviceName:ne}),p!==null){console.log("Already processing, skipping...");return}const H=i.findIndex(we=>we.deviceName===ne);if(H===-1){console.error("Device not found with deviceName:",ne);return}const se=i[H];console.log("Found device at index",H,":",{id:se.id,deviceName:se.deviceName,isChecked:se.isChecked,deviceType2Id:se.deviceType2Id}),v(K);try{if(se.isChecked&&se.deviceType2Id){console.log("Deleting active device:",{deviceType2Id:se.deviceType2Id,deviceName:se.deviceName});const we=`${Ox}/${se.deviceType2Id}`;console.log("DELETE URL:",we),await z.delete(we),await ts.log({accessType:"Delete",trans:`Device ${se.deviceName} removed from active devices`,messages:`Device ID: ${se.deviceType2Id}`,formName:Zm}),c(Y=>{const E=Y.findIndex(V=>V.deviceName===ne);if(E===-1)return Y;const P=[...Y];return P[E]={...P[E],isChecked:!1,deviceType2Id:null},console.log("Updated device to unchecked:",P[E]),P})}else{const we={id:0,deviceName:se.deviceName};console.log("POST payload:",we);const Y=await z.post(Ox,we);console.log("POST response:",Y.data);const E=Y.data?.id||null;console.log("New DeviceType2 ID:",E),await ts.log({accessType:"Add",trans:`Device ${se.deviceName} added to active devices`,messages:`DeviceType2 ID: ${E}`,formName:Zm}),c(P=>{const V=P.findIndex(R=>R.deviceName===ne);if(V===-1)return P;const D=[...P];return D[V]={...D[V],isChecked:!0,deviceType2Id:E},console.log("Updated device to checked:",D[V]),D}),await k()}}catch(we){const Y=we.response?.data?.message||we.message||"Failed to update device";await xe.fire({icon:"error",title:"Error",text:Y}),console.error("Error toggling device:",we),await k()}finally{v(null)}},F=async()=>{if(p!==null)return;const K=G.every(H=>H.isChecked),ne=G;v(-1);try{if(K){for(const H of ne)if(H.deviceType2Id){console.log("Deleting active device with ID:",H.deviceType2Id);try{await z.delete(`${Ox}/${H.deviceType2Id}`),await ts.log({accessType:"Delete",trans:`Device ${H.deviceName} removed from active devices (bulk)`,messages:`DeviceType2 ID: ${H.deviceType2Id}`,formName:Zm}),c(se=>{const we=se.findIndex(E=>E.deviceName===H.deviceName);if(we===-1)return se;const Y=[...se];return Y[we]={...Y[we],isChecked:!1,deviceType2Id:null},Y})}catch(se){console.error(`Failed to delete device ${H.deviceName}:`,se)}}}else{for(const H of ne)if(!H.isChecked)try{const se={id:0,deviceName:H.deviceName},Y=(await z.post(Ox,se)).data?.id||null;await ts.log({accessType:"Add",trans:`Device ${H.deviceName} added to active devices (bulk)`,messages:`DeviceType2 ID: ${Y}`,formName:Zm}),c(E=>{const P=E.findIndex(D=>D.deviceName===H.deviceName);if(P===-1)return E;const V=[...E];return V[P]={...V[P],isChecked:!0,deviceType2Id:Y},V})}catch(se){console.error(`Failed to add device ${H.deviceName}:`,se)}await k()}}catch(H){const se=H.response?.data?.message||H.message||"Failed to update devices";await xe.fire({icon:"error",title:"Error",text:se}),console.error("Error toggling all devices:",H),await k()}finally{v(null)}},M=[...i.filter(K=>K.deviceName.toLowerCase().includes(t.toLowerCase()))].sort((K,ne)=>n==="asc"?K.deviceName.localeCompare(ne.deviceName):ne.deviceName.localeCompare(K.deviceName)),U=Math.ceil(M.length/f),L=(s-1)*f,G=M.slice(L,L+f),re=()=>{l(K=>K==="asc"?"desc":"asc")},ye=G.length>0&&G.every(K=>K.isChecked);return o.useEffect(()=>{r(1)},[t]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Device Type Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage biometric device types and models used throughout your organization. Configure device classifications for proper integration with different hardware manufacturers and attendance capture systems."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multi-vendor support"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device classification"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Hardware compatibility"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Centralized configuration"})]})]})]})]})}),e.jsx("div",{className:"flex items-center justify-end mb-6",children:C("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:K=>a(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})}),e.jsx("div",{className:"overflow-x-auto",children:u||m?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading device types..."})}):g?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:g})}):C("View")?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left w-12",children:e.jsx("input",{type:"checkbox",checked:ye,onChange:F,disabled:p!==null,className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-2 focus:ring-blue-500 cursor-pointer disabled:opacity-50"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase cursor-pointer hover:text-gray-900 select-none",onClick:re,children:e.jsxs("div",{className:"flex items-center gap-2",children:["DeviceName",e.jsx("span",{className:"text-gray-400",children:n==="asc"?"":""})]})})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:G.length>0?G.map(K=>e.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${K.isChecked?"bg-blue-50":""} ${p===K.id?"opacity-50":""}`,children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:K.isChecked,onChange:ne=>{ne.stopPropagation(),A(K.id,K.deviceName)},disabled:p!==null,className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-2 focus:ring-blue-500 cursor-pointer disabled:opacity-50"})}),e.jsx("td",{className:`px-6 py-4 text-sm cursor-pointer ${K.isChecked?"text-blue-700":"text-gray-900"}`,onClick:()=>A(K.id,K.deviceName),children:K.deviceName})]},K.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]})}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),C("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",M.length>0?L+1:0," to ",Math.min(L+f,M.length)," of ",M.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>r(K=>Math.max(1,K-1)),disabled:s===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:U},(K,ne)=>ne+1).map(K=>e.jsx("button",{className:`px-3 py-1 rounded ${s===K?"bg-blue-500 text-white":"text-blue-600 hover:bg-gray-100"}`,onClick:()=>r(K),children:K},K)),e.jsx("button",{onClick:()=>r(K=>Math.min(U||1,K+1)),disabled:s>=U||M.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),e.jsx(ls,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const Mb="Coordinates SetUp",ep="/Fs/Process/Device/CoordinatesSetUp";function Aee(){const[t,a]=o.useState(!1),[s,r]=o.useState(""),[n,l]=o.useState(!1),[i,c]=o.useState(null),[u,h]=o.useState(1),m=10,[b,g]=o.useState(""),[w,p]=o.useState(""),[v,f]=o.useState(""),[y,N]=o.useState(""),[C,S]=o.useState(""),[I,k]=o.useState(null),[A,F]=o.useState(!1),[O,M]=o.useState([]),[U,L]=o.useState(!1),[G,re]=o.useState("");o.useEffect(()=>{ye()},[]);const ye=async()=>{L(!0),re("");try{const ue=await z.get(ep);ue.status===200&&ue.data&&M(ue.data)}catch(ue){const oe=ue.response?.data?.message||ue.message||"Failed to load coordinates";re(oe),console.error("Error fetching coordinates:",ue)}finally{L(!1)}},[K,ne]=o.useState({}),H=ue=>K[ue]===!0;o.useEffect(()=>{se()},[]);const se=()=>{const ue=localStorage.getItem("loginPayload");if(ue)try{const Q=(JSON.parse(ue).permissions||[]).filter(Ce=>Ss(Ce.formName)==="CoordinatesSetUp"),ve={};Q.forEach(Ce=>{const $e=Ss(Ce.accessTypeName);$e&&(ve[$e]=!0)}),ne(ve)}catch(oe){console.error("Error parsing or decrypting payload",oe)}};o.useEffect(()=>{const ue=oe=>{oe.key==="Escape"&&t&&a(!1)};return t&&document.addEventListener("keydown",ue),()=>{document.removeEventListener("keydown",ue)}},[t]);const we=()=>{l(!1),c(null),k(null),g(""),p(""),f(""),N(""),S(""),a(!0)},Y=(ue,oe)=>{l(!0),c(oe),k(ue.id),g(ue.code),p(ue.description),f(ue.latitude.toString()),N(ue.longitude.toString()),S(ue.distance.toString()),a(!0)},E=async ue=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete coordinate ${ue.code}?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`${ep}/${ue.id}`),await ts.log({accessType:"Delete",trans:`Coordinate ${ue.code} deleted`,messages:`Coordinate ${ue.code} deleted`,formName:Mb}),await xe.fire({icon:"success",title:"Success",text:"Coordinate deleted successfully.",timer:2e3,showConfirmButton:!1}),await ye()}catch(le){const Q=le.response?.data?.message||le.message||"Failed to delete coordinate";await xe.fire({icon:"error",title:"Error",text:Q}),console.error("Error deleting coordinate:",le)}},P=async()=>{if(!b.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Code is required."});return}if(O.some((oe,le)=>n&&i===le?!1:oe.code.toLowerCase()===b.trim().toLowerCase())){await xe.fire({icon:"error",title:"Duplicate Code",text:"This code is already in use."});return}F(!0);try{const oe={id:n&&I?I:0,code:b,description:w,latitude:parseFloat(v)||0,longitude:parseFloat(y)||0,distance:parseFloat(C)||0};n&&I?(await z.put(`${ep}/${I}`,oe),await ts.log({accessType:"Edit",trans:`Coordinate ${b} updated`,messages:`Coordinate ${b} updated`,formName:Mb}),await xe.fire({icon:"success",title:"Success",text:"Coordinate updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post(ep,oe),await ts.log({accessType:"Add",trans:`Coordinate ${b} created`,messages:`Coordinate ${b} created`,formName:Mb}),await xe.fire({icon:"success",title:"Success",text:"Coordinate created successfully.",timer:2e3,showConfirmButton:!1})),await ye(),a(!1),g(""),p(""),f(""),N(""),S(""),k(null),l(!1),c(null)}catch(oe){const le=oe.response?.data?.message||oe.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:le}),console.error("Error submitting form:",oe)}finally{F(!1)}},V=O.filter(ue=>ue.code.toLowerCase().includes(s.toLowerCase())||ue.description.toLowerCase().includes(s.toLowerCase())||ue.latitude.toString().includes(s.toLowerCase())||ue.longitude.toString().includes(s.toLowerCase())||ue.distance.toString().includes(s.toLowerCase())),D=Math.ceil(V.length/m),R=(u-1)*m,ee=R+m,Se=V.slice(R,ee);return o.useEffect(()=>{h(1)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Coordinates Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Define geographic coordinates for workplace locations to enable location-based attendance tracking. Configure latitude and longitude parameters for geofencing and proximity validation."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"GPS-based validation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Location boundaries"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Multiple work sites"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Geofencing support"})]})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[H("Add")&&H("View")&&e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:we,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),H("View")&&e.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:s,onChange:ue=>r(ue.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:U?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading coordinates..."})}):G?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:G})}):H("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Latitude"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Longitude"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Distance"}),(H("Edit")||H("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:Se.length>0?Se.map((ue,oe)=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:ue.code}),e.jsx("td",{className:"px-4 py-2",children:ue.description}),e.jsx("td",{className:"px-4 py-2",children:ue.latitude}),e.jsx("td",{className:"px-4 py-2",children:ue.longitude}),e.jsx("td",{className:"px-4 py-2",children:ue.distance}),(H("Edit")||H("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[H("Edit")&&e.jsx("button",{onClick:()=>Y(ue,oe),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),H("Edit")&&H("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),H("Delete")&&e.jsx("button",{onClick:()=>E(ue),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),H("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600",children:["Showing ",V.length===0?0:R+1," to ",Math.min(ee,V.length)," of ",V.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>h(ue=>Math.max(ue-1,1)),disabled:u===1,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),Array.from({length:D},(ue,oe)=>oe+1).map(ue=>e.jsx("button",{onClick:()=>h(ue),className:`px-3 py-1 rounded transition-colors ${u===ue?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:ue},ue)),e.jsx("button",{onClick:()=>h(ue=>Math.min(ue+1,D)),disabled:u===D||D===0,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:()=>a(!1)}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit Coordinate":"Create New"}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-blue-600 mb-3",children:"Coordinates Setup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Code :"}),e.jsx("input",{type:"text",value:b,maxLength:10,onChange:ue=>g(ue.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Description :"}),e.jsx("input",{type:"text",value:w,onChange:ue=>p(ue.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Latitude :"}),e.jsx("input",{type:"number",step:"any",value:v,onChange:ue=>f(ue.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Longitude :"}),e.jsx("input",{type:"number",step:"any",value:y,onChange:ue=>N(ue.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-32 text-gray-700 text-sm",children:"Distance :"}),e.jsx("input",{type:"number",step:"any",value:C,onChange:ue=>S(ue.target.value),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:P,disabled:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:A?"Saving...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>a(!1),disabled:A,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]})]})]})}),e.jsx(ls,{}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const Fee="AMS Database Configuration SetUp";function Pee(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(!1),[u,h]=o.useState(1),[m,b]=o.useState(null),[g,w]=o.useState(""),[p,v]=o.useState(null),[f,y]=o.useState(!1),[N,C]=o.useState({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",tableName:"",empCodeColumn:"",timeStampColumn:"",flagColumn:"",flagCode:"",automaticEmpCode:!1,empCodeTableName:"",empCodeColumnName:"",empCodeIDColumn:"",daysToDeduct:"",specificRange:!1,lastDateUpdatedFrom:"",lastDateUpdatedTo:"",deviceNameColumn:""}),[S,I]=o.useState([]),[k,A]=o.useState(!1),[F,O]=o.useState(""),[M,U]=o.useState([]),[L,G]=o.useState(!1),re=10,[ye,K]=o.useState({}),ne=Re=>ye[Re]===!0;o.useEffect(()=>{H()},[]);const H=()=>{const Re=localStorage.getItem("loginPayload");if(Re)try{const q=(JSON.parse(Re).permissions||[]).filter(je=>Ss(je.formName)==="AMSDbConfigSetup"),Z={};q.forEach(je=>{const De=Ss(je.accessTypeName);De&&(Z[De]=!0)}),K(Z)}catch(et){console.error("Error parsing or decrypting payload",et)}};o.useEffect(()=>{se(),we()},[]);const se=async()=>{A(!0),O("");try{const Re=await z.get("/Fs/Process/Device/AMSDbConfigSetUp");Re.status===200&&Re.data&&I(Re.data)}catch(Re){const et=Re.response?.data?.message||Re.message||"Failed to load AMS databases";O(et)}finally{A(!1)}},we=async()=>{G(!0);try{const Re=await z.get("/Fs/Process/Device/DTRFlagSetUp");Re.status===200&&Re.data&&U(Re.data)}catch(Re){console.error("Error fetching flag codes:",Re),U([])}finally{G(!1)}},Y=S.filter(Re=>Re.description.toLowerCase().includes(t.toLowerCase())||Re.server.toLowerCase().includes(t.toLowerCase())||Re.databaseName.toLowerCase().includes(t.toLowerCase())||Re.username.toLowerCase().includes(t.toLowerCase())),E=Math.ceil(Y.length/re),P=(u-1)*re,V=Y.slice(P,P+re),D=M.filter(Re=>Re.flagCode.toLowerCase().includes(g.toLowerCase()));o.useEffect(()=>{h(1)},[t]);const R=()=>{C({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",tableName:"",empCodeColumn:"",timeStampColumn:"",flagColumn:"",flagCode:"",automaticEmpCode:!1,empCodeTableName:"",empCodeColumnName:"",empCodeIDColumn:"",daysToDeduct:"",specificRange:!1,lastDateUpdatedFrom:"",lastDateUpdatedTo:"",deviceNameColumn:""}),v(null),r(!0)},ee=Re=>{b(Re),C({description:Re.description,server:Re.server,databaseName:Re.databaseName,username:Re.username,password:"",withDeviceCode:Re.withDeviceCode,lastDateUpdated:Re.lastDateUpdated,tableName:Re.tableName,empCodeColumn:Re.empCode,timeStampColumn:Re.timeStamp,flagColumn:Re.flag,flagCode:Re.flagCode,automaticEmpCode:Re.isAutomaticEmpCode,empCodeTableName:Re.employeeCodeTable,empCodeColumnName:Re.employeeCodeCol,empCodeIDColumn:Re.empoyeeCodeIDCol,daysToDeduct:Re.dateDaysAhead.toString(),specificRange:Re.lastDateUpdateFlag,lastDateUpdatedFrom:Re.lastDateUpdateFrom,lastDateUpdatedTo:Re.lastDateUpdateTo,deviceNameColumn:Re.deviceNameCol}),v(null),l(!0)},Se=async Re=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete database configuration "${Re.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Device/AMSDbConfigSetUp/${Re.id}`),await ts.log({accessType:"Delete",trans:`Database configuration "${Re.description}" deleted.`,messages:`Database configuration "${Re.description}" deleted.`,formName:Fee}),await xe.fire({icon:"success",title:"Success",text:"Database configuration deleted successfully.",timer:2e3,showConfirmButton:!1}),await se()}catch(B){const q=B.response?.data?.message||B.message||"Failed to delete database configuration";await xe.fire({icon:"error",title:"Error",text:q})}},ue=async Re=>{if(Re.preventDefault(),!N.description.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(!N.server.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Server is required."});return}if(!N.databaseName.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Database Name is required."});return}if(!N.username.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Username is required."});return}y(!0);try{const et={id:0,description:N.description,server:N.server,databaseName:N.databaseName,username:N.username,password:N.password,lastDateUpdated:N.lastDateUpdated||new Date().toISOString(),withDeviceCode:N.withDeviceCode,tableName:N.tableName,empCode:N.empCodeColumn,timeStamp:N.timeStampColumn,flag:N.flagColumn,flagCode:N.flagCode,isAutomaticEmpCode:N.automaticEmpCode,employeeCodeTable:N.empCodeTableName,employeeCodeCol:N.empCodeColumnName,empoyeeCodeIDCol:N.empCodeIDColumn,dateDaysAhead:parseInt(N.daysToDeduct)||0,lastDateUpdateReplica:"",lastDateUpdateTo:N.lastDateUpdatedTo||new Date().toISOString(),lastDateUpdateFlag:N.specificRange,lastDateUpdateFrom:N.lastDateUpdatedFrom||new Date().toISOString(),deviceNameCol:N.deviceNameColumn};await z.post("/Fs/Process/Device/AMSDbConfigSetUp",et),await xe.fire({icon:"success",title:"Success",text:"Database configuration created successfully.",timer:2e3,showConfirmButton:!1}),await se(),r(!1)}catch(et){const B=et.response?.data?.message||et.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:B})}finally{y(!1)}},oe=async Re=>{if(Re.preventDefault(),!!m){if(!N.description.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Description is required."});return}if(!N.server.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Server is required."});return}if(!N.databaseName.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Database Name is required."});return}if(!N.username.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Username is required."});return}y(!0);try{const et={id:m.id,description:N.description,server:N.server,databaseName:N.databaseName,username:N.username,password:N.password||m.password,lastDateUpdated:N.lastDateUpdated||m.lastDateUpdated,withDeviceCode:N.withDeviceCode,tableName:N.tableName,empCode:N.empCodeColumn,timeStamp:N.timeStampColumn,flag:N.flagColumn,flagCode:N.flagCode,isAutomaticEmpCode:N.automaticEmpCode,employeeCodeTable:N.empCodeTableName,employeeCodeCol:N.empCodeColumnName,empoyeeCodeIDCol:N.empCodeIDColumn,dateDaysAhead:parseInt(N.daysToDeduct)||0,lastDateUpdateReplica:m.lastDateUpdateReplica,lastDateUpdateTo:N.lastDateUpdatedTo||m.lastDateUpdateTo,lastDateUpdateFlag:N.specificRange,lastDateUpdateFrom:N.lastDateUpdatedFrom||m.lastDateUpdateFrom,deviceNameCol:N.deviceNameColumn};await z.put(`/Fs/Process/Device/AMSDbConfigSetUp/${m.id}`,et),await xe.fire({icon:"success",title:"Success",text:"Database configuration updated successfully.",timer:2e3,showConfirmButton:!1}),await se(),l(!1),b(null)}catch(et){const B=et.response?.data?.message||et.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:B})}finally{y(!1)}}},le=()=>{r(!1),l(!1),c(!1),v(null),b(null)},Q=Re=>{C(et=>({...et,flagCode:Re})),c(!1),w("")},ve=(Re,et)=>{C(B=>({...B,[Re]:et})),v(null)};o.useEffect(()=>{const Re=et=>{et.key==="Escape"&&(p?v(null):i?c(!1):s?r(!1):n&&(l(!1),b(null)))};return(s||n||i||p)&&document.addEventListener("keydown",Re),()=>document.removeEventListener("keydown",Re)},[s,n,i,p]);const Ce="text-gray-700 text-sm whitespace-nowrap w-40 shrink-0",$e="flex-1 min-w-0 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",Ae=(Re,et,B="w-40")=>e.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0 relative",children:[e.jsx("input",{type:"text",value:N[et],onChange:q=>C({...N,[et]:q.target.value}),placeholder:"MM/DD/YYYY",className:$e}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors shrink-0",onClick:()=>v(p===et?null:et),children:e.jsx(hs,{className:"w-4 h-4"})}),p===et&&e.jsx(Ga,{onDateSelect:q=>ve(et,q),onClose:()=>v(null)})]}),We=()=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Description :"}),e.jsx("input",{type:"text",value:N.description,onChange:Re=>C({...N,description:Re.target.value}),className:$e,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Server :"}),e.jsx("input",{type:"text",value:N.server,onChange:Re=>C({...N,server:Re.target.value}),className:$e,required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Database Name :"}),e.jsx("input",{type:"text",value:N.databaseName,onChange:Re=>C({...N,databaseName:Re.target.value}),className:$e,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Username :"}),e.jsx("input",{type:"text",value:N.username,onChange:Re=>C({...N,username:Re.target.value}),className:$e,required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Password :"}),e.jsx("input",{type:"password",value:N.password,onChange:Re=>C({...N,password:Re.target.value}),className:$e})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:N.withDeviceCode,onChange:Re=>C({...N,withDeviceCode:Re.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Last Date Updated :"}),Ae("Last Date Updated","lastDateUpdated","w-36")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Table Name :"}),e.jsx("input",{type:"text",value:N.tableName,onChange:Re=>C({...N,tableName:Re.target.value}),className:$e})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"EmpCode Column :"}),e.jsx("input",{type:"text",value:N.empCodeColumn,onChange:Re=>C({...N,empCodeColumn:Re.target.value}),className:$e})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Time Stamp Column :"}),e.jsx("input",{type:"text",value:N.timeStampColumn,onChange:Re=>C({...N,timeStampColumn:Re.target.value}),className:$e})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Flag Column :"}),e.jsx("input",{type:"text",value:N.flagColumn,onChange:Re=>C({...N,flagColumn:Re.target.value}),className:$e})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Flag Code :"}),e.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[e.jsx("input",{type:"text",value:N.flagCode,onChange:Re=>C({...N,flagCode:Re.target.value}),className:$e,readOnly:!0}),e.jsx("button",{type:"button",onClick:()=>c(!0),className:"w-8 h-8 bg-green-600 text-white rounded hover:bg-green-700 transition-colors flex items-center justify-center shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>C({...N,flagCode:""}),className:"w-8 h-8 bg-red-500 text-white rounded hover:bg-red-600 transition-colors flex items-center justify-center shrink-0",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Automatic EmpCode :"}),e.jsx("input",{type:"checkbox",checked:N.automaticEmpCode,onChange:Re=>C({...N,automaticEmpCode:Re.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"EmpCode Table Name :"}),e.jsx("input",{type:"text",value:N.empCodeTableName,onChange:Re=>C({...N,empCodeTableName:Re.target.value}),className:$e})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"EmpCode Column :"}),e.jsx("input",{type:"text",value:N.empCodeColumnName,onChange:Re=>C({...N,empCodeColumnName:Re.target.value}),className:$e})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"EmpCode ID Column :"}),e.jsx("input",{type:"text",value:N.empCodeIDColumn,onChange:Re=>C({...N,empCodeIDColumn:Re.target.value}),className:$e})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-56 shrink-0",children:"Days to Deduct to Convert Date :"}),e.jsx("input",{type:"text",value:N.daysToDeduct,onChange:Re=>C({...N,daysToDeduct:Re.target.value}),className:$e})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Specific Range :"}),e.jsx("input",{type:"checkbox",checked:N.specificRange,onChange:Re=>C({...N,specificRange:Re.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-40 shrink-0",children:"Last Date Updated From :"}),Ae("Last Date Updated From","lastDateUpdatedFrom","w-40")]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-36 shrink-0",children:"Date Updated To :"}),Ae("Date Updated To","lastDateUpdatedTo","w-36")]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:Ce,children:"Device Name Column :"}),e.jsx("input",{type:"text",value:N.deviceNameColumn,onChange:Re=>C({...N,deviceNameColumn:Re.target.value}),className:$e})]})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"AMS Database Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure database connections for Attendance Management System (AMS) integration. Set up server details, credentials, and field mappings to synchronize employee time logs from external biometric systems."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["External database connectivity","Field mapping configuration","Device code support","Automatic synchronization"].map(Re=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Re})]},Re))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[ne("Add")&&ne("View")&&e.jsxs("button",{onClick:R,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),ne("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:Re=>a(Re.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:k?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading database configurations..."})}):F?e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded",children:e.jsx("p",{className:"text-red-700 text-sm",children:F})}):ne("View")?e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Server"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Database Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"With Device Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs text-gray-600 uppercase",children:"Last Date Updated"}),(ne("Edit")||ne("Delete"))&&e.jsx("th",{className:"px-6 py-3 text-center text-xs text-gray-600 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:V.length>0?V.map(Re=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:Re.description}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Re.server}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Re.databaseName}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Re.username}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Re.withDeviceCode?"Yes":"No"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(Re.lastDateUpdated).toLocaleDateString()}),(ne("Edit")||ne("Delete"))&&e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ne("Edit")&&e.jsx("button",{onClick:()=>ee(Re),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),ne("Edit")&&ne("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),ne("Delete")&&e.jsx("button",{onClick:()=>Se(Re),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Re.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-16 text-center",children:e.jsx("div",{className:"text-gray-500",children:"No data available in table"})})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),ne("View")&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Showing ",Y.length>0?P+1:0," to ",Math.min(P+re,Y.length)," of ",Y.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(Re=>Math.max(1,Re-1)),disabled:u===1,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white rounded",children:u}),e.jsx("button",{onClick:()=>h(Re=>Math.min(E||1,Re+1)),disabled:u>=E||Y.length===0,className:"px-4 py-2 text-blue-600 hover:text-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Create New"}),e.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:ue,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"AMS Database Configuration Setup"}),We(),e.jsxs("div",{className:"flex gap-3 mt-5 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Submitting...":"Submit"}),e.jsx("button",{type:"button",onClick:le,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),n&&m&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Edit"}),e.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:oe,className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"AMS Database Configuration Setup"}),We(),e.jsxs("div",{className:"flex gap-3 mt-5 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:f?"Updating...":"Update"}),e.jsx("button",{type:"button",onClick:le,disabled:f,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-transparent flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50 rounded-t-lg sticky top-0",children:[e.jsx("h2",{className:"text-gray-900",children:"Search"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"DTR Flag"}),e.jsxs("div",{className:"flex items-center justify-end gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:g,onChange:Re=>w(Re.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden max-h-96 overflow-y-auto",children:L?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-600 text-sm",children:"Loading flag codes..."})}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Flag Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break1 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break2 In"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs text-gray-600 uppercase",children:"Break3 In"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:D.length>0?D.map((Re,et)=>e.jsxs("tr",{className:"hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>Q(Re.flagCode),children:[e.jsx("td",{className:"px-4 py-3 text-sm text-blue-600 hover:underline",children:Re.flagCode}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.timeIn}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.timeOut}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.break1Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.break1In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.break2Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.break2In}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.break3Out}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Re.break3In})]},et)):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No flag codes available"})})})]})})]})]})}),e.jsx(ls,{})]})}const Lb="MySQL Database Configuration SetUp";function Iee({value:t,onChange:a,onClose:s,position:r}){const[n,l]=o.useState(new Date),i=o.useRef(null);o.useEffect(()=>{const g=w=>{i.current&&!i.current.contains(w.target)&&s()};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[s]);const c=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),u=new Date(n.getFullYear(),n.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=g=>{const w=String(n.getMonth()+1).padStart(2,"0"),p=n.getFullYear(),v=String(g).padStart(2,"0");a(`${p}-${w}-${v}T00:00:00.000Z`),s()},b=()=>{const g=[],w=new Date(n.getFullYear(),n.getMonth(),0).getDate();for(let v=u-1;v>=0;v--)g.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:w-v},`prev-${v}`));for(let v=1;v<=c;v++)g.push(e.jsx("div",{onClick:()=>m(v),className:"text-center py-2 text-sm cursor-pointer hover:bg-blue-100 rounded transition-colors",children:v},v));const p=42-g.length;for(let v=1;v<=p;v++)g.push(e.jsx("div",{className:"text-center py-2 text-gray-400 text-sm",children:v},`next-${v}`));return g};return e.jsx("div",{ref:i,className:"fixed inset-0 flex items-center justify-center z-[100]",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-xl p-4",style:{width:"280px"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>l(new Date(n.getFullYear(),n.getMonth()-1)),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"font-medium",children:[h[n.getMonth()]," ",n.getFullYear()]}),e.jsx("button",{onClick:()=>l(new Date(n.getFullYear(),n.getMonth()+1)),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(g=>e.jsx("div",{className:"text-center text-xs text-gray-600 font-medium",children:g},g))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:b()})]})})}const tp=t=>{if(!t)return"";try{const a=new Date(t),s=a.getMonth()+1,r=a.getDate(),n=a.getFullYear();return`${s}/${r}/${n}`}catch{return t}};function Mee(){const[t,a]=o.useState(""),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(1),[u,h]=o.useState(!1),[m,b]=o.useState(null),[g,w]=o.useState({top:0,left:0}),[p,v]=o.useState({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",lastDateUpdateReplica:"",lastDateUpdateFlag:!1,lastDateUpdateFrom:"",lastDateUpdateTo:""}),[f,y]=o.useState([]),[N,C]=o.useState(!1),[S,I]=o.useState(null),k=20,[A,F]=o.useState({}),O=D=>A[D]===!0;o.useEffect(()=>{M()},[]);const M=()=>{const D=localStorage.getItem("loginPayload");if(D)try{const Se=(JSON.parse(D).permissions||[]).filter(oe=>Ss(oe.formName)==="MySQLDbConfigSetup"),ue={};Se.forEach(oe=>{const le=Ss(oe.accessTypeName);le&&(ue[le]=!0)}),F(ue)}catch(R){console.error("Error parsing or decrypting payload",R)}};o.useEffect(()=>{U()},[]);const U=async()=>{C(!0);try{const D=await z.get("/Fs/Process/Device/MySQLDbConfigSetUp");D.status===200&&D.data&&y(D.data)}catch(D){const R=D.response?.data?.message||D.message||"Failed to load configurations";await xe.fire({icon:"error",title:"Error",text:R}),console.error("Error fetching MySQL configs:",D)}finally{C(!1)}},L=f.filter(D=>D.description.toLowerCase().includes(t.toLowerCase())||D.server.toLowerCase().includes(t.toLowerCase())||D.databaseName.toLowerCase().includes(t.toLowerCase())||D.username.toLowerCase().includes(t.toLowerCase())),G=Math.ceil(L.length/k),re=(i-1)*k,ye=re+k,K=L.slice(re,ye),ne=()=>{const D=[];if(G<=5)return Array.from({length:G},(Se,ue)=>ue+1);D.push(1),i>3&&D.push("...");const R=Math.max(2,i-1),ee=Math.min(G-1,i+1);for(let Se=R;Se<=ee;Se++)D.push(Se);return i<G-2&&D.push("..."),D.push(G),D};o.useEffect(()=>{c(1)},[t]);const H=()=>{v({description:"",server:"",databaseName:"",username:"",password:"",withDeviceCode:!1,lastDateUpdated:"",lastDateUpdateReplica:"",lastDateUpdateFlag:!1,lastDateUpdateFrom:"",lastDateUpdateTo:""})},se=()=>{l(!1),I(null),H(),r(!0)},we=D=>{l(!0),I(D.id),v({description:D.description||"",server:D.server||"",databaseName:D.databaseName||"",username:D.username||"",password:D.password||"",withDeviceCode:D.withDeviceCode||!1,lastDateUpdated:D.lastDateUpdated||"",lastDateUpdateReplica:D.lastDateUpdateReplica||"",lastDateUpdateFlag:D.lastDateUpdateFlag||!1,lastDateUpdateFrom:D.lastDateUpdateFrom||"",lastDateUpdateTo:D.lastDateUpdateTo||""}),r(!0)},Y=async D=>{if((await xe.fire({icon:"warning",title:"Confirm Delete",text:`Are you sure you want to delete "${D.description}"?`,showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await z.delete(`/Fs/Process/Device/MySQLDbConfigSetUp/${D.id}`),await ts.log({accessType:"Delete",trans:`Deleted MySQL config "${D.description}" (ID: ${D.id})`,messages:`Configuration "${D.description}" deleted`,formName:Lb}),await xe.fire({icon:"success",title:"Success",text:"Configuration deleted successfully.",timer:2e3,showConfirmButton:!1}),await U()}catch(ee){const Se=ee.response?.data?.message||ee.message||"Failed to delete configuration";await xe.fire({icon:"error",title:"Error",text:Se})}},E=async()=>{if(!p.description.trim()){await xe.fire({icon:"warning",title:"Validation Error",text:"Please enter a Description."});return}h(!0);try{const D={description:p.description,server:p.server||null,databaseName:p.databaseName||null,username:p.username||null,password:p.password||null,withDeviceCode:p.withDeviceCode,lastDateUpdated:p.lastDateUpdated||null,lastDateUpdateReplica:p.lastDateUpdateReplica||null,lastDateUpdateFlag:p.lastDateUpdateFlag,lastDateUpdateFrom:p.lastDateUpdateFrom||null,lastDateUpdateTo:p.lastDateUpdateTo||null};n&&S!==null?(await z.put(`/Fs/Process/Device/MySQLDbConfigSetUp/${S}`,D),await ts.log({accessType:"Edit",trans:`Updated MySQL config "${p.description}" (ID: ${S})`,messages:`Configuration "${p.description}" updated`,formName:Lb}),await xe.fire({icon:"success",title:"Success",text:"Configuration updated successfully.",timer:2e3,showConfirmButton:!1})):(await z.post("/Fs/Process/Device/MySQLDbConfigSetUp",D),await ts.log({accessType:"Add",trans:`Created MySQL config "${p.description}"`,messages:`Configuration "${p.description}" created`,formName:Lb}),await xe.fire({icon:"success",title:"Success",text:"Configuration created successfully.",timer:2e3,showConfirmButton:!1})),r(!1),H(),l(!1),I(null),await U()}catch(D){const R=D.response?.data?.message||D.message||"An error occurred";await xe.fire({icon:"error",title:"Error",text:R})}finally{h(!1)}},P=(D,R)=>{const ee=R.currentTarget.getBoundingClientRect();w({top:ee.bottom+window.scrollY+5,left:ee.left+window.scrollX}),b(D)},V=D=>{m&&v({...p,[m]:D})};return o.useEffect(()=>{const D=R=>{R.key==="Escape"&&s&&r(!1)};return s&&document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[s]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"MySQL Database Configuration Setup"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure MySQL database connections for alternative attendance data storage. Set up server credentials, connection parameters, and date range filters for MySQL-based time log synchronization and backup."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["MySQL connectivity","Date range filtering","Backup configuration","Cross-platform support"].map(D=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:D})]},D))})]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-6 gap-4 flex-wrap",children:[O("Add")&&O("View")&&e.jsxs("button",{onClick:se,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),O("View")&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:t,onChange:D=>a(D.target.value),className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-64"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:O("View")?e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Server"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Database Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Username"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm",children:"Last Date Updated"}),(O("Edit")||O("Delete"))&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 text-sm whitespace-nowrap",children:"Actions"})]})}),e.jsx("tbody",{children:N?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"Loading..."})}):K.length>0?K.map(D=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:D.description}),e.jsx("td",{className:"px-4 py-2 text-sm",children:D.server}),e.jsx("td",{className:"px-4 py-2 text-sm",children:D.databaseName}),e.jsx("td",{className:"px-4 py-2 text-sm",children:D.username}),e.jsx("td",{className:"px-4 py-2 text-sm",children:tp(D.lastDateUpdated)}),(O("Edit")||O("Delete"))&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[O("Edit")&&e.jsx("button",{onClick:()=>we(D),className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),O("Edit")&&O("Delete")&&e.jsx("span",{className:"text-gray-300",children:"|"}),O("Delete")&&e.jsx("button",{onClick:()=>Y(D),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},D.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No data available in table"})})})]}):e.jsx("div",{className:"text-center py-10 text-gray-500",children:"You do not have permission to view this list."})}),O("View")&&e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-gray-600 text-sm",children:["Showing ",L.length===0?0:re+1," to ",Math.min(ye,L.length)," of ",L.length," entries"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c(D=>Math.max(D-1,1)),disabled:i===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Previous"}),ne().map((D,R)=>D==="..."?e.jsx("span",{className:"px-2 flex items-center text-gray-500 text-sm",children:"..."},`ellipsis-${R}`):e.jsx("button",{onClick:()=>c(D),className:`px-4 py-2 rounded text-sm font-medium ${i===D?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:D},D)),e.jsx("button",{onClick:()=>c(D=>Math.min(D+1,G)),disabled:i===G||G===0,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Next"})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl sticky top-0 z-10",children:[e.jsx("h2",{className:"text-gray-800",children:n?"Edit MySQL Configuration":"Create New"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"MySQL Database Configuration Setup"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Description :"}),e.jsx("input",{type:"text",value:p.description,onChange:D=>v({...p,description:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Server :"}),e.jsx("input",{type:"text",value:p.server,onChange:D=>v({...p,server:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Database Name :"}),e.jsx("input",{type:"text",value:p.databaseName,onChange:D=>v({...p,databaseName:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Username :"}),e.jsx("input",{type:"text",value:p.username,onChange:D=>v({...p,username:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Password :"}),e.jsx("input",{type:"password",value:p.password,onChange:D=>v({...p,password:D.target.value}),className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"With Device Code :"}),e.jsx("input",{type:"checkbox",checked:p.withDeviceCode,onChange:D=>v({...p,withDeviceCode:D.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated :"}),e.jsx("input",{type:"text",value:tp(p.lastDateUpdated),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:D=>P("lastDateUpdated",D),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdated:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Specific Range :"}),e.jsx("input",{type:"checkbox",checked:p.lastDateUpdateFlag,onChange:D=>v({...p,lastDateUpdateFlag:D.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-blue-600"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated From :"}),e.jsx("input",{type:"text",value:tp(p.lastDateUpdateFrom),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:D=>P("lastDateUpdateFrom",D),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdateFrom:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap w-48",children:"Last Date Updated To :"}),e.jsx("input",{type:"text",value:tp(p.lastDateUpdateTo),readOnly:!0,className:"px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm w-32 bg-gray-50"}),e.jsx("button",{type:"button",className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded flex items-center justify-center transition-colors",onClick:D=>P("lastDateUpdateTo",D),children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>v({...p,lastDateUpdateTo:""}),className:"w-8 h-8 bg-red-600 hover:bg-red-700 text-white rounded flex items-center justify-center transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:E,disabled:u,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Processing...":n?"Update":"Submit"}),e.jsx("button",{onClick:()=>r(!1),disabled:u,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Back to List"})]})]})]})}),m&&e.jsx(Iee,{value:p[m],onChange:V,onClose:()=>b(null),position:g})]})]})}),e.jsx(ls,{})]})}function Fu({date:t,onChange:a,disabled:s}){const[r,n]=o.useState(!1),[l,i]=o.useState(new Date),c=new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),u=new Date(l.getFullYear(),l.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],m=new Date().getFullYear(),b=[];for(let C=1900;C<=m+10;C++)b.push(C);const g=()=>{i(new Date(l.getFullYear(),l.getMonth()-1))},w=()=>{i(new Date(l.getFullYear(),l.getMonth()+1))},p=C=>{i(new Date(l.getFullYear(),C,1))},v=C=>{i(new Date(C,l.getMonth(),1))},f=C=>{const S=(l.getMonth()+1).toString().padStart(2,"0"),I=C.toString().padStart(2,"0"),k=l.getFullYear();a(`${S}/${I}/${k}`),n(!1)},y=()=>{const C=new Date,S=(C.getMonth()+1).toString().padStart(2,"0"),I=C.getDate().toString().padStart(2,"0"),k=C.getFullYear();a(`${S}/${I}/${k}`),n(!1)},N=[];for(let C=0;C<u;C++)N.push(e.jsx("div",{className:"h-8"},`empty-${C}`));for(let C=1;C<=c;C++)N.push(e.jsx("button",{onClick:()=>f(C),type:"button",className:"h-8 flex items-center justify-center rounded hover:bg-blue-100 text-sm text-gray-700 hover:text-blue-600 transition-colors",children:C},C));return e.jsxs(Sh,{open:r,onOpenChange:n,children:[e.jsx(kh,{asChild:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:C=>a(C.target.value),disabled:s,className:"w-full pl-9 pr-3 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 cursor-pointer",readOnly:!0}),e.jsx(hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})}),e.jsx(Dh,{children:e.jsxs(Eh,{className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-xl p-4 w-72 animate-in fade-in-0 zoom-in-95",align:"start",sideOffset:5,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:g,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(a0,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("select",{value:l.getMonth(),onChange:C=>p(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:h.map((C,S)=>e.jsx("option",{value:S,children:C},C))}),e.jsx("select",{value:l.getFullYear(),onChange:C=>v(Number(C.target.value)),className:"px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",children:b.map(C=>e.jsx("option",{value:C,children:C},C))})]}),e.jsx("button",{onClick:w,type:"button",className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(vc,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(C=>e.jsx("div",{className:"h-8 flex items-center justify-center text-xs text-gray-500",children:C},C))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:N}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsx("button",{onClick:y,type:"button",className:"w-full px-3 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm transition-colors",children:"Today"})})]})})]})}function Lee(){const[t,a]=o.useState("employment"),[s,r]=o.useState(!1),[n,l]=o.useState(!1),[i,c]=o.useState(!1),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(!1),[f,y]=o.useState(!1),[N,C]=o.useState(!1),[S,I]=o.useState(!1),[k,A]=o.useState(!1),[F,O]=o.useState(!1),[M,U]=o.useState(!1),[L,G]=o.useState(!1),[re,ye]=o.useState(!1),[K,ne]=o.useState([]),[H,se]=o.useState(null),[we,Y]=o.useState(!1),[E,P]=o.useState(""),[V,D]=o.useState(""),[R,ee]=o.useState(""),[Se,ue]=o.useState(null),[oe,le]=o.useState(""),Q=o.useRef(null),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState([]),[We,Re]=o.useState([]),[et,B]=o.useState([]),[q,Z]=o.useState([]),[je,De]=o.useState([]),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState([]),[St,dt]=o.useState([]),[Et,Te]=o.useState([]),[Ee,pe]=o.useState([]),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState(!1),[$t,lt]=o.useState(!1),[bt,Nt]=o.useState(!1),[wt,It]=o.useState(!1),[Dt,Ke]=o.useState(!1),[tt,Le]=o.useState(!1),[He,ge]=o.useState(!1),[st,Ze]=o.useState(!1),[Rt,ft]=o.useState(!1),[kt,he]=o.useState(!1),[be,ie]=o.useState(""),[de,J]=o.useState(""),[_,Fe]=o.useState(""),[Oe,ke]=o.useState(""),[Ie,te]=o.useState(""),[Pe,ae]=o.useState(""),[me,ce]=o.useState(""),[Ge,yt]=o.useState(""),[Gt,W]=o.useState(""),[Be,rt]=o.useState(""),[ns,ps]=o.useState(""),[ct,ss]=o.useState({empID:0,empCode:"",empStatCode:"",courtesy:"",lastName:"",firstName:"",middleName:"",suffix:"",dateHired:"",regularized:"",probeStart:"",probeEnd:"",dateResigned:"",suspended:"",suspend:!1,separated:!1,contractual:!1,sss:"",pagibig:"",philhealth:"",tin:"",gsisNo:"",branch:"",branchCode:"",division:"",divisionCode:"",department:"",departmentCode:"",section:"",sectionCode:"",unit:"",unitCode:"",payHouse:"",payHouseCode:"",area:"",areaCode:"",location:"",locationCode:"",onlineApplication:"",onlineAppCode:"",designation:"",jobLevel:"",jobLevelCode:"",homeAddress:"",presentAddress:"",city:"",province:"",postalCode:"",mobilePhone:"",presentPhone:"",homePhone:"",civilStatus:"",citizenship:"",religion:"",weight:"0",height:"0",gender:"M",email:"",birthDate:"",age:"0",birthPlace:""}),Ft=async()=>{Y(!0),P("");try{const Ue=await z.get("/Maintenance/EmployeeMasterFile");Ue.status===200&&Ue.data&&ne(Ue.data)}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load employees";P(_t),console.error("Error fetching employees:",Ue)}finally{Y(!1)}},Jt=async Ue=>{Y(!0),P("");try{const _t=await z.get(`/Maintenance/EmployeeMasterFile/${Ue}`);if(_t.status===200&&_t.data)return se(_t.data),_t.data}catch(_t){const Ve=_t.response?.data?.message||_t.message||"Failed to load employee";P(Ve),console.error("Error fetching employee:",_t)}finally{Y(!1)}},vt=async Ue=>{Y(!0),P("");try{const _t=new FormData;Se&&_t.append("Photo",Se),Object.keys(Ue).forEach(ds=>{const ws=Ue[ds];ws!=null&&(ws instanceof Date?_t.append(ds,ws.toISOString()):_t.append(ds,ws.toString()))});const Ve=await z.post("/Maintenance/EmployeeMasterFile",_t,{headers:{"Content-Type":"multipart/form-data"}});if(Ve.status===200||Ve.status===201)return await Ft(),await xe.fire({icon:"success",title:"Success",text:"Employee created successfully.",timer:2e3,showConfirmButton:!1}),ue(null),le(""),Ve.data}catch(_t){const Ve=_t.response?.data?.message||_t.message||"Failed to create employee";throw P(Ve),await xe.fire({icon:"error",title:"Oops...",text:Ve}),_t}finally{Y(!1)}},Kt=async(Ue,_t)=>{Y(!0);try{_t.EmpID&&Number(_t.EmpID)!==Ue&&console.error("ID Mismatch: URL has "+Ue+" but Body has "+_t.EmpID);const Ve=new FormData;Se&&Ve.append("photo",Se),Object.keys(_t).forEach(ws=>{const ea=_t[ws];ea!=null&&(ea instanceof Date?Ve.append(ws,ea.toISOString()):Ve.append(ws,ea.toString()))});const ds=await z.put(`/Maintenance/EmployeeMasterFile/${Ue}`,Ve,{headers:{"Content-Type":"multipart/form-data"}});if(ds.status===200||ds.status===204)return await Ft(),await xe.fire({icon:"success",title:"Updated!",text:"Employee record has been updated successfully.",timer:2e3,showConfirmButton:!1}),ue(null),ds.data}catch(Ve){console.error("Error updating employee:",Ve);const ds=Ve.response?.data?.message||Ve.message||"An error occurred during update.";throw await xe.fire({icon:"error",title:"Update Failed",text:ds}),Ve}finally{Y(!1)}},jt=async Ue=>{Y(!0),P("");try{const _t=await z.delete(`/Maintenance/EmployeeMasterFile/${Ue}`);if(_t.status===200||_t.status===204)return await Ft(),se(null),!0}catch(_t){const Ve=_t.response?.data?.message||_t.message||"Failed to delete employee";throw P(Ve),console.error("Error deleting employee:",_t),_t}finally{Y(!1)}},Vt=async()=>{pt(!0),ie("");try{const Ue=await z.get("/Fs/Employment/BranchSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({branchId:Ve.braID||Ve.id||"",code:Ve.braCode||Ve.code||"",description:Ve.braDesc||Ve.description||"",branchManager:Ve.braMngr||Ve.branchManager||"",branchManagerCode:Ve.braMngrCode||"",deviceName:Ve.deviceName||Ve.DeviceName||""}));Ce(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load branches";ie(_t),console.error("Error fetching branches:",Ue)}finally{pt(!1)}},cs=async()=>{Wt(!0),J("");try{const Ue=await z.get("/Fs/Employment/DivisionSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.divID||"",code:Ve.divCode||"",description:Ve.divDesc||"",head:Ve.divHead||"",headCode:Ve.divHeadCode||"",deviceName:Ve.deviceName||""}));Ae(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load divisions";J(_t),console.error("Error fetching divisions:",Ue)}finally{Wt(!1)}},sa=async()=>{lt(!0),Fe("");try{const Ue=await z.get("/Fs/Employment/DepartmentSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({departmentId:Ve.depID||"",code:Ve.depCode||"",departmentCode:Ve.depCode||"",departmentHeadCode:Ve.depHeadCode||"",description:Ve.depDesc||"",divisionCode:Ve.divCode||"",head:Ve.depHead||"",deviceName:Ve.deviceName||"",head1:Ve.head1||"",email1:Ve.email1||"",head2:Ve.head2||"",email2:Ve.email2||""}));Re(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load departments";Fe(_t),console.error("Error fetching departments:",Ue)}finally{lt(!1)}},ua=async()=>{Nt(!0),ke("");try{const Ue=await z.get("/Fs/Employment/SectionSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.secID||Ve.id||"",code:Ve.secCode||Ve.code||"",description:Ve.secDesc||Ve.description||"",head:Ve.secHead||Ve.head||"",headCode:Ve.secHeadCode||Ve.headCode||"",deviceName:Ve.deviceName||""}));B(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load sections";ke(_t),console.error("Error fetching sections:",Ue)}finally{Nt(!1)}},ka=async()=>{It(!0),te("");try{const Ue=await z.get("/Fs/Employment/UnitSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.unitID||"",code:Ve.unitCode||"",description:Ve.unitDesc||"",head:Ve.head||"",position:Ve.position||"",deviceName:Ve.deviceName||""}));Z(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load units";te(_t),console.error("Error fetching units:",Ue)}finally{It(!1)}},Ea=async()=>{Ke(!0),ae("");try{const Ue=await z.get("/Fs/Employment/PayHouseSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.lineID||"",code:Ve.lineCode||"",description:Ve.lineDesc||"",head:Ve.head||"",headCode:Ve.headCode||"",position:Ve.position||"",deviceName:Ve.deviceName||""}));De(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load pay houses";ae(_t),console.error("Error fetching pay houses:",Ue)}finally{Ke(!1)}},Ra=async()=>{Le(!0),ce("");try{const Ue=await z.get("/Fs/EmploymentAreaSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.id||Ve.ID||"",code:Ve.areaCode||Ve.AreaCode||"",description:Ve.areaDesc||Ve.AreaDesc||"",head:Ve.head||Ve.Head||"",headCode:Ve.headCode||Ve.HeadCode||"",deviceName:Ve.deviceName||Ve.DeviceName||""}));qe(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load areas";ce(_t),console.error("Error fetching areas:",Ue)}finally{Le(!1)}},oa=async()=>{ge(!0),yt("");try{const Ue=await z.get("/Fs/Employment/LocationSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.locID||"",code:Ve.locationCode||"",description:Ve.locationDesc||"",head:Ve.head||"",headCode:Ve.headCode||"",acctCode:Ve.acctCode||"",createdBy:Ve.createdBy||"",createdDate:Ve.createdDate||"",editedBy:Ve.editedBy||"",editedDate:Ve.editedDate||"",deviceName:Ve.deviceName||""}));ht(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load locations";yt(_t),console.error("Error fetching locations:",Ue)}finally{ge(!1)}},xa=async()=>{Ze(!0),W("");try{const Ue=await z.get("/Fs/Employment/OnlineApprovalSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.id||"",code:Ve.onlineAppCode||"",description:Ve.onlineAppDesc||"",head:Ve.onlineAppMngr||"",headCode:Ve.onlineAppMngr||"",deviceName:Ve.deviceName||"",createdBy:Ve.createdBy||"",createdDate:Ve.createdDate||"",editedBy:Ve.editedBy||"",editedDate:Ve.editedDate||""}));dt(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load online approvals";W(_t),console.error("Error fetching online approvals:",Ue)}finally{Ze(!1)}},Ka=async()=>{ft(!0),rt("");try{const Ue=await z.get("/Fs/Employment/JobLevelSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.jobLevelID||"",code:Ve.jobLevelCode||"",description:Ve.jobLevelDesc||""}));Te(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load job levels";rt(_t),console.error("Error fetching job levels:",Ue)}finally{ft(!1)}},Ha=async()=>{he(!0),ps("");try{const Ue=await z.get("/Fs/Employment/JobLevelSetUp");if(Ue.status===200&&Ue.data){const _t=Ue.data.map(Ve=>({id:Ve.jobLevelID||"",code:Ve.jobLevelCode||"",description:Ve.jobLevelDesc||""}));pe(_t)}}catch(Ue){const _t=Ue.response?.data?.message||Ue.message||"Failed to load employee statuses";ps(_t),console.error("Error fetching employee statuses:",Ue)}finally{he(!1)}},Ws=()=>({empID:ct.empID,empCode:ct.empCode,empStatCode:ct.empStatCode,courtesy:ct.courtesy,lName:ct.lastName,fName:ct.firstName,mName:ct.middleName,suffix:ct.suffix,dateHired:ct.dateHired||null,dateRegularized:ct.regularized||null,probeStart:ct.probeStart||null,probeEnd:ct.probeEnd||null,dateResigned:ct.dateResigned||null,dateSuspended:ct.suspended||null,suspend:ct.suspend,separated:ct.separated,contractual:ct.contractual,sssNo:ct.sss,pagIbigNo:ct.pagibig,pHilHealthNo:ct.philhealth,tin:ct.tin,gsisNo:ct.gsisNo,braCode:ct.branchCode,divCode:ct.divisionCode,depCode:ct.departmentCode,secCode:ct.sectionCode,unitCode:ct.unitCode,payCode:ct.payHouseCode,areaCode:ct.areaCode,locCode:ct.locationCode,onlineAppCode:ct.onlineAppCode,desCode:ct.designation,grdCode:ct.jobLevelCode,hAddress:ct.homeAddress,pAddress:ct.presentAddress,city:ct.city,province:ct.province,postalCode:ct.postalCode,mobilePhone:ct.mobilePhone,presentPhone:ct.presentPhone,homePhone:ct.homePhone,civilStatus:ct.civilStatus,citizenship:ct.citizenship,religion:ct.religion,weight:ct.weight,height:ct.height,sex:ct.gender,email:ct.email,birthDate:ct.birthDate||null,age:parseInt(ct.age)||0,birthPlace:ct.birthPlace,unionMember:!1,agency:!1,subAcctCode:"",shiftCode:"",superior:"",clsCode:"",locId:0,rateCode:"",taxID:0,taxCode:"",bankAccount:"",bankCode:"",pagibigCode:"",photo:"",catCode:"",nickName:""}),Ta=Ue=>{if(ss({empID:Ue.empID,empCode:Ue.empCode,empStatCode:Ue.empStatCode,courtesy:Ue.courtesy,lastName:Ue.lName,firstName:Ue.fName,middleName:Ue.mName,suffix:Ue.suffix,dateHired:Ue.dateHired||"",regularized:Ue.dateRegularized||"",probeStart:Ue.probeStart||"",probeEnd:Ue.probeEnd||"",dateResigned:Ue.dateResigned||"",suspended:Ue.dateSuspended||"",suspend:Ue.suspend,separated:Ue.separated,contractual:Ue.contractual,sss:Ue.sssNo,pagibig:Ue.pagIbigNo,philhealth:Ue.pHilHealthNo,tin:Ue.tin,gsisNo:Ue.gsisNo,branch:ve.find(_t=>_t.code===Ue.braCode)?.description||"",branchCode:Ue.braCode,division:$e.find(_t=>_t.code===Ue.divCode)?.description||"",divisionCode:Ue.divCode,department:We.find(_t=>_t.code===Ue.depCode)?.description||"",departmentCode:Ue.depCode,section:et.find(_t=>_t.code===Ue.secCode)?.description||"",sectionCode:Ue.secCode,unit:q.find(_t=>_t.code===Ue.unitCode)?.description||"",unitCode:Ue.unitCode,payHouse:je.find(_t=>_t.code===Ue.payCode)?.description||"",payHouseCode:Ue.payCode,area:Qe.find(_t=>_t.code===Ue.areaCode)?.description||"",areaCode:Ue.areaCode,location:Ye.find(_t=>_t.code===Ue.locCode)?.description||"",locationCode:Ue.locCode,onlineApplication:St.find(_t=>_t.code===Ue.onlineAppCode)?.description||"",onlineAppCode:Ue.onlineAppCode,designation:Ue.desCode,jobLevel:Et.find(_t=>_t.code===Ue.grdCode)?.description||"",jobLevelCode:Ue.grdCode,homeAddress:Ue.hAddress,presentAddress:Ue.pAddress,city:Ue.city,province:Ue.province,postalCode:Ue.postalCode,mobilePhone:Ue.mobilePhone,presentPhone:Ue.presentPhone,homePhone:Ue.homePhone,civilStatus:Ue.civilStatus,citizenship:Ue.citizenship,religion:Ue.religion,weight:Ue.weight,height:Ue.height,gender:Ue.sex,email:Ue.email,birthDate:Ue.birthDate||"",age:Ue.age.toString(),birthPlace:Ue.birthPlace}),Ue.photo||Ue.photoBytes){const _t=Ue.photoBytes||Ue.photo;_t.startsWith("data:image")?le(_t):le(`data:image/jpeg;base64,${_t}`)}else le("");ue(null)},at=Ue=>{const _t=Ue.target.files?.[0];if(_t){if(!_t.type.startsWith("image/")){xe.fire({icon:"error",title:"Invalid File",text:"Please select an image file (JPG, PNG, etc.)"});return}if(_t.size>5*1024*1024){xe.fire({icon:"error",title:"File Too Large",text:"Please select an image smaller than 5MB"});return}ue(_t);const Ve=new FileReader;Ve.onloadend=()=>{le(Ve.result)},Ve.readAsDataURL(_t)}},Qt=()=>{ue(null),le(""),Q.current&&(Q.current.value="")},_s=()=>{s&&Q.current?.click()},Us=()=>{r(!0),l(!0),ue(null),le(""),ss({empID:0,empCode:"",empStatCode:"",courtesy:"",lastName:"",firstName:"",middleName:"",suffix:"",dateHired:"",regularized:"",probeStart:"",probeEnd:"",dateResigned:"",suspended:"",suspend:!1,separated:!1,contractual:!1,sss:"",pagibig:"",philhealth:"",tin:"",gsisNo:"",branch:"",branchCode:"",division:"",divisionCode:"",department:"",departmentCode:"",section:"",sectionCode:"",unit:"",unitCode:"",payHouse:"",payHouseCode:"",area:"",areaCode:"",location:"",locationCode:"",onlineApplication:"",onlineAppCode:"",designation:"",jobLevel:"",jobLevelCode:"",homeAddress:"",presentAddress:"",city:"",province:"",postalCode:"",mobilePhone:"",presentPhone:"",homePhone:"",civilStatus:"",citizenship:"",religion:"",weight:"0",height:"0",gender:"M",email:"",birthDate:"",age:"0",birthPlace:""})},nr=()=>{r(!0)},Ma=async()=>{try{const Ue=Ws();n?await vt(Ue):await Kt(ct.empID,Ue),r(!1),l(!1)}catch(Ue){console.error("Error saving employee:",Ue),alert("Failed to save employee. Please try again.")}},wa=()=>{r(!1),l(!1),H&&!n&&Ta(H)},ya=()=>{b(!0)},gt=async()=>{try{await jt(ct.empID),alert("Employee deleted successfully!"),b(!1),Us()}catch(Ue){console.error("Error deleting employee:",Ue),alert("Failed to delete employee. Please try again.")}},bs=()=>{b(!1)},_e=()=>{c(!0)},nt=o.useMemo(()=>K.map(Ue=>({...Ue,name:`${Ue.lName}, ${Ue.fName}`,groupCode:Ue.grpCode})),[K]),xs=async(Ue,_t)=>{try{const Ve=K.find(ws=>ws.empCode===Ue);if(!Ve){console.error("Employee not found:",Ue),alert("Employee not found");return}const ds=await Jt(Ve.empID);ds&&Ta(ds),c(!1)}catch(Ve){console.error("Error loading employee:",Ve),alert("Failed to load employee details")}};o.useEffect(()=>{Ft(),Vt(),cs(),sa(),ua(),ka(),Ea(),Ra(),oa(),xa(),Ka(),Ha()},[]),o.useEffect(()=>{const Ue=_t=>{_t.key==="Escape"&&(i&&c(!1),u&&h(!1),m&&b(!1),g&&w(!1),p&&v(!1),f&&y(!1),N&&C(!1),S&&I(!1),k&&A(!1),F&&O(!1),M&&U(!1),L&&G(!1),re&&ye(!1))};return document.addEventListener("keydown",Ue),()=>{document.removeEventListener("keydown",Ue)}},[i,u,m,g,p,f,N,S,k,F,M,L,re]),K.filter(Ue=>Ue.empCode.toLowerCase().includes(V.toLowerCase())||`${Ue.lName}, ${Ue.fName}`.toLowerCase().includes(V.toLowerCase()));const Bs=Ee.filter(Ue=>Ue.code.toLowerCase().includes(R.toLowerCase())||Ue.description.toLowerCase().includes(R.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Employee Master File"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage employee records including personal information, employment details, organizational assignments, and government ID numbers. This master file serves as the central repository for all employee data."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employment and organizational information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Personal details and contact information"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Government IDs (SSS, PAG-IBIG, PhilHealth, TIN)"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Status tracking and employment history"})]})]})]})]})}),E&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-red-600",children:E})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[!n&&!s&&e.jsxs("button",{onClick:Us,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),s?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Ma,disabled:we,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(za,{className:"w-4 h-4"}),we?"Saving...":"Save"]}),e.jsxs("button",{onClick:wa,disabled:we,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(ot,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:nr,disabled:ct.empID===0,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ri,{className:"w-4 h-4"}),"Edit"]}),!n&&!s&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ya,disabled:ct.empID===0,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ns,{className:"w-4 h-4"}),"Delete"]}),e.jsxs("button",{onClick:_e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})]}),e.jsx("div",{className:"mb-6 space-y-4",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Emp. Code"}),e.jsx("input",{type:"text",value:ct.empCode,onChange:Ue=>ss({...ct,empCode:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Emp. Stat Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.empStatCode,onChange:Ue=>ss({...ct,empStatCode:Ue.target.value}),disabled:!s,className:"flex-1 px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsx("button",{onClick:()=>h(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Courtesy"}),e.jsxs("select",{value:ct.courtesy,onChange:Ue=>ss({...ct,courtesy:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Engr",children:"Engr (Engineer)"}),e.jsx("option",{value:"Dr",children:"Dr (Doctor)"}),e.jsx("option",{value:"Mr",children:"Mr (Mister)"}),e.jsx("option",{value:"Mrs",children:"Mrs (Mrs)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:ct.lastName,onChange:Ue=>ss({...ct,lastName:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:ct.firstName,onChange:Ue=>ss({...ct,firstName:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Middle Name"}),e.jsx("input",{type:"text",value:ct.middleName,onChange:Ue=>ss({...ct,middleName:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Suffix"}),e.jsx("input",{type:"text",value:ct.suffix,onChange:Ue=>ss({...ct,suffix:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 text-blue-700 font-bold bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:()=>a("employment"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="employment"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ia,{className:"w-4 h-4"}),"Employment Information"]}),e.jsxs("button",{onClick:()=>a("personal"),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t==="personal"?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"} transition-colors`,children:[e.jsx(ig,{className:"w-4 h-4"}),"Personal Information"]})]})}),t==="employment"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Position"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Designation"}),e.jsx("input",{type:"text",value:ct.designation,onChange:Ue=>ss({...ct,designation:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Job Level"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.jobLevel,onChange:Ue=>ss({...ct,jobLevel:Ue.target.value}),disabled:!s,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ye(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,jobLevel:"",jobLevelCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Employment Dates"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Date Hired"}),e.jsx(Fu,{date:ct.dateHired,onChange:Ue=>ss({...ct,dateHired:Ue}),disabled:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Regularized"}),e.jsx(Fu,{date:ct.regularized,onChange:Ue=>ss({...ct,regularized:Ue}),disabled:!s})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ct.contractual,onChange:Ue=>ss({...ct,contractual:Ue.target.checked}),disabled:!s,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Contractual"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Probe Start"}),e.jsx(Fu,{date:ct.probeStart,onChange:Ue=>ss({...ct,probeStart:Ue}),disabled:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Probe End"}),e.jsx(Fu,{date:ct.probeEnd,onChange:Ue=>ss({...ct,probeEnd:Ue}),disabled:!s})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ct.separated,onChange:Ue=>ss({...ct,separated:Ue.target.checked}),disabled:!s,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Separated"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Date Resigned"}),e.jsx(Fu,{date:ct.dateResigned,onChange:Ue=>ss({...ct,dateResigned:Ue}),disabled:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Suspended"}),e.jsx(Fu,{date:ct.suspended,onChange:Ue=>ss({...ct,suspended:Ue}),disabled:!s})]}),e.jsx("div",{className:"flex items-center h-[42px]",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ct.suspend,onChange:Ue=>ss({...ct,suspend:Ue.target.checked}),disabled:!s,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700",children:"Suspend"})]})})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Government IDs"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"SSS"}),e.jsx("input",{type:"text",value:ct.sss,onChange:Ue=>ss({...ct,sss:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"PAG-IBIG"}),e.jsx("input",{type:"text",value:ct.pagibig,onChange:Ue=>ss({...ct,pagibig:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Philhealth"}),e.jsx("input",{type:"text",value:ct.philhealth,onChange:Ue=>ss({...ct,philhealth:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"TIN"}),e.jsx("input",{type:"text",value:ct.tin,onChange:Ue=>ss({...ct,tin:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"GSIS/No"}),e.jsx("input",{type:"text",value:ct.gsisNo,onChange:Ue=>ss({...ct,gsisNo:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Organizational Assignment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Branch"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.branch,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>w(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,branch:"",branchCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Division"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.division,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>v(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,division:"",divisionCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Department"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.department,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>y(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,department:"",departmentCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Section"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.section,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>C(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,section:"",sectionCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Unit"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.unit,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>I(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,unit:"",unitCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Pay House"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.payHouse,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>A(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,payHouse:"",payHouseCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Area"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.area,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>O(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,area:"",areaCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Location"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.location,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>U(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,location:"",locationCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Online Application"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:ct.onlineApplication,disabled:!0,className:"flex-1 px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>G(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ss({...ct,onlineApplication:"",onlineAppCode:""}),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]})]})]})]})]})]}),t==="personal"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Address Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Home Address"}),e.jsx("textarea",{value:ct.homeAddress,onChange:Ue=>ss({...ct,homeAddress:Ue.target.value}),disabled:!s,rows:3,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Present Address"}),e.jsx("textarea",{value:ct.presentAddress,onChange:Ue=>ss({...ct,presentAddress:Ue.target.value}),disabled:!s,rows:3,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60 resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"City"}),e.jsx("input",{type:"text",value:ct.city,onChange:Ue=>ss({...ct,city:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Province"}),e.jsx("input",{type:"text",value:ct.province,onChange:Ue=>ss({...ct,province:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Postal Code"}),e.jsx("input",{type:"text",value:ct.postalCode,onChange:Ue=>ss({...ct,postalCode:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Mobile Phone"}),e.jsx("input",{type:"text",value:ct.mobilePhone,onChange:Ue=>ss({...ct,mobilePhone:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Present Phone"}),e.jsx("input",{type:"text",value:ct.presentPhone,onChange:Ue=>ss({...ct,presentPhone:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Home Phone"}),e.jsx("input",{type:"text",value:ct.homePhone,onChange:Ue=>ss({...ct,homePhone:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Personal Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Civil Status"}),e.jsx("input",{type:"text",value:ct.civilStatus,onChange:Ue=>ss({...ct,civilStatus:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Citizenship"}),e.jsx("input",{type:"text",value:ct.citizenship,onChange:Ue=>ss({...ct,citizenship:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Religion"}),e.jsx("input",{type:"text",value:ct.religion,onChange:Ue=>ss({...ct,religion:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Weight"}),e.jsx("input",{type:"text",value:ct.weight,onChange:Ue=>ss({...ct,weight:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Height"}),e.jsx("input",{type:"text",value:ct.height,onChange:Ue=>ss({...ct,height:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Gender"}),e.jsx("input",{type:"text",value:ct.gender,onChange:Ue=>ss({...ct,gender:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Email"}),e.jsx("input",{type:"text",value:ct.email,onChange:Ue=>ss({...ct,email:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Birth Date"}),e.jsx(Fu,{date:ct.birthDate,onChange:Ue=>ss({...ct,birthDate:Ue}),disabled:!s})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Age"}),e.jsx("input",{type:"text",value:ct.age,onChange:Ue=>ss({...ct,age:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 font-bold text-sm mb-2",children:"Birth Place"}),e.jsx("input",{type:"text",value:ct.birthPlace,onChange:Ue=>ss({...ct,birthPlace:Ue.target.value}),disabled:!s,className:"w-full px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60"})]})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Photo"}),e.jsx("input",{ref:Q,type:"file",accept:"image/*",onChange:at,disabled:!s,className:"hidden"}),e.jsx("div",{className:`relative flex items-center justify-center w-full h-64 bg-gradient-to-br from-blue-100 to-blue-200 rounded-lg border-2 border-dashed border-blue-300 overflow-hidden ${s?"cursor-pointer hover:border-blue-500 transition-colors":""}`,onClick:_s,children:oe?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:oe,alt:"Employee",className:"w-full h-full object-cover"}),s&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 hover:opacity-100 transition-opacity",children:e.jsx(iP,{className:"w-12 h-12 text-white"})})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center text-blue-400",children:[e.jsx(ig,{className:"w-32 h-32 mb-2"}),s&&e.jsx("p",{className:"text-sm text-blue-600",children:"Click to upload photo"})]})}),s&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("button",{type:"button",onClick:()=>Q.current?.click(),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Br,{className:"w-4 h-4"}),oe?"Change Photo":"Upload Photo"]}),(oe||Se)&&e.jsxs("button",{type:"button",onClick:Qt,className:"w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ot,{className:"w-4 h-4"}),"Remove Photo"]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Max size: 5MB  Formats: JPG, PNG, GIF"})]})]})})]})})]})]})}),e.jsx(ls,{}),e.jsx(wr,{isOpen:i,onClose:()=>c(!1),onSelect:xs,employees:nt,loading:we,error:E}),u&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Employee Status"}),e.jsx("button",{onClick:()=>h(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Emp Stat Code"}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("label",{className:"text-gray-700",children:"Search:"}),e.jsx("input",{type:"text",value:R,onChange:Ue=>ee(Ue.target.value),placeholder:"Type status code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),kt?e.jsx("div",{className:"text-center py-8",children:"Loading employee statuses..."}):ns?e.jsx("div",{className:"text-center py-8 text-red-600",children:ns}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:Bs.length>0?Bs.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,empStatCode:Ue.code}),h(!1),ee("")},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description})]},Ue.code)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-8 text-center text-gray-500",children:"No employee statuses found"})})})]})}),e.jsx("div",{className:"flex items-center justify-between mt-4 text-sm text-gray-700",children:e.jsxs("div",{children:["Showing ",Bs.length," status(es)"]})})]})]})]})}),g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>w(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Branch"}),e.jsx("button",{onClick:()=>w(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Branch"}),Je?e.jsx("div",{className:"text-center py-8",children:"Loading branches..."}):be?e.jsx("div",{className:"text-center py-8 text-red-600",children:be}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Manager"})]})}),e.jsx("tbody",{children:ve.length>0?ve.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,branch:Ue.description,branchCode:Ue.code}),w(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.branchManager})]},Ue.branchId)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No branches found"})})})]})})]})]})})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>v(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Division"}),e.jsx("button",{onClick:()=>v(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Division"}),Mt?e.jsx("div",{className:"text-center py-8",children:"Loading divisions..."}):de?e.jsx("div",{className:"text-center py-8 text-red-600",children:de}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:$e.length>0?$e.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,division:Ue.description,divisionCode:Ue.code}),v(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No divisions found"})})})]})})]})]})})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>y(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Department"}),e.jsx("button",{onClick:()=>y(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Department"}),$t?e.jsx("div",{className:"text-center py-8",children:"Loading departments..."}):_?e.jsx("div",{className:"text-center py-8 text-red-600",children:_}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Division"})]})}),e.jsx("tbody",{children:We.length>0?We.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,department:Ue.description,departmentCode:Ue.code}),y(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.divisionCode})]},Ue.departmentId)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"No departments found"})})})]})})]})]})})]}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>C(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Section"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Section"}),bt?e.jsx("div",{className:"text-center py-8",children:"Loading sections..."}):Oe?e.jsx("div",{className:"text-center py-8 text-red-600",children:Oe}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:et.length>0?et.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,section:Ue.description,sectionCode:Ue.code}),C(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No sections found"})})})]})})]})]})})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>I(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Unit"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Unit"}),wt?e.jsx("div",{className:"text-center py-8",children:"Loading units..."}):Ie?e.jsx("div",{className:"text-center py-8 text-red-600",children:Ie}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:q.length>0?q.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,unit:Ue.description,unitCode:Ue.code}),I(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No units found"})})})]})})]})]})})]}),k&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>A(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Pay House"}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Pay House"}),Dt?e.jsx("div",{className:"text-center py-8",children:"Loading pay houses..."}):Pe?e.jsx("div",{className:"text-center py-8 text-red-600",children:Pe}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:je.length>0?je.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,payHouse:Ue.description,payHouseCode:Ue.code}),A(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No pay houses found"})})})]})})]})]})})]}),F&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>O(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Area"}),e.jsx("button",{onClick:()=>O(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Area"}),tt?e.jsx("div",{className:"text-center py-8",children:"Loading areas..."}):me?e.jsx("div",{className:"text-center py-8 text-red-600",children:me}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Qe.length>0?Qe.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,area:Ue.description,areaCode:Ue.code}),O(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No areas found"})})})]})})]})]})})]}),M&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>U(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Location"}),e.jsx("button",{onClick:()=>U(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Location"}),He?e.jsx("div",{className:"text-center py-8",children:"Loading locations..."}):Ge?e.jsx("div",{className:"text-center py-8 text-red-600",children:Ge}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Head"})]})}),e.jsx("tbody",{children:Ye.length>0?Ye.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,location:Ue.description,locationCode:Ue.code}),U(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No locations found"})})})]})})]})]})})]}),L&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>G(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Online Approval"}),e.jsx("button",{onClick:()=>G(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Online Approval"}),st?e.jsx("div",{className:"text-center py-8",children:"Loading online approvals..."}):Gt?e.jsx("div",{className:"text-center py-8 text-red-600",children:Gt}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Manager"})]})}),e.jsx("tbody",{children:St.length>0?St.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,onlineApplication:Ue.description,onlineAppCode:Ue.code}),G(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.head})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-4 py-8 text-center text-gray-500",children:"No online approvals found"})})})]})})]})]})})]}),re&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[99] bg-black bg-opacity-50",onClick:()=>ye(!1)}),e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[85vh] overflow-hidden pointer-events-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-3 flex items-center justify-between border-b border-gray-300",children:[e.jsx("h2",{className:"text-gray-800",children:"Search Job Level"}),e.jsx("button",{onClick:()=>ye(!1),className:"text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 max-h-[calc(85vh-60px)] overflow-y-auto",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Job Level"}),Rt?e.jsx("div",{className:"text-center py-8",children:"Loading job levels..."}):Be?e.jsx("div",{className:"text-center py-8 text-red-600",children:Be}):e.jsx("div",{className:"border border-gray-300 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:Et.length>0?Et.map((Ue,_t)=>e.jsxs("tr",{className:`border-b border-gray-200 hover:bg-blue-50 cursor-pointer ${_t%2===0?"bg-white":"bg-gray-50"}`,onClick:()=>{ss({...ct,jobLevel:Ue.description,jobLevelCode:Ue.code}),ye(!1)},children:[e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.code}),e.jsx("td",{className:"px-4 py-2 text-gray-800",children:Ue.description})]},Ue.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-8 text-center text-gray-500",children:"No job levels found"})})})]})})]})]})})]}),m&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-md",children:[e.jsx("div",{className:"bg-gray-100 px-4 py-3 border-b border-gray-300",children:e.jsx("h2",{className:"text-gray-800",children:"Confirm Delete"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-gray-800 mb-6",children:"Are you sure you want to delete this employee?"}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:gt,className:"px-8 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-sm",children:"OK"}),e.jsx("button",{onClick:bs,className:"px-6 py-2 bg-gray-200 text-gray-800 rounded-full hover:bg-gray-300 transition-colors shadow-sm",children:"Cancel"})]})]})]})})]})}function Oee({isOpen:t,isEditMode:a,empCode:s,date:r,hoursApproved:n,leaveCode:l,period:i,reason:c,remarks:u,withPay:h,sssNotification:m,isLateFiling:b,onClose:g,onDateChange:w,onHoursApprovedChange:p,onLeaveCodeChange:v,onPeriodChange:f,onReasonChange:y,onRemarksChange:N,onWithPayChange:C,onSssNotificationChange:S,onIsLateFilingChange:I,onSubmit:k}){const[A,F]=o.useState(!1);return o.useEffect(()=>{const O=M=>{M.key==="Escape"&&t&&!A&&g()};return t&&document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[t,A,g]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-30",onClick:g}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Leave":"Create New"}),e.jsx("button",{onClick:g,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Leave Applications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date :"}),e.jsx("input",{type:"date",value:r,onChange:O=>w(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"No of Hours Approved :"}),e.jsx("input",{type:"text",value:n,onChange:O=>p(O.target.value),className:"w-32 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"[hh.mm]"}),e.jsx("span",{className:"text-gray-500 text-sm",children:"[hh.mm]"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"LeaveCode :"}),e.jsx("input",{type:"text",value:l,onChange:O=>v(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),e.jsx("button",{className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",onClick:()=>F(!0),children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(""),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Period :"}),e.jsxs("select",{value:i,onChange:O=>f(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[e.jsx("option",{value:""}),e.jsx("option",{value:"1ST HALF",children:"1ST HALF"}),e.jsx("option",{value:"2ND HALF",children:"2ND HALF"}),e.jsx("option",{value:"WITHIN THE SHIFT",children:"WITHIN THE SHIFT"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Reason :"}),e.jsx("input",{type:"text",value:c,onChange:O=>y(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Remarks :"}),e.jsx("input",{type:"text",value:u,onChange:O=>N(O.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"With Pay :"}),e.jsx("input",{type:"checkbox",checked:h,onChange:O=>C(O.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"SSS Notification :"}),e.jsx("input",{type:"checkbox",checked:m,onChange:O=>S(O.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:b,onChange:O=>I(O.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:k,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:g,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})}),e.jsx(D5,{isOpen:A,onClose:()=>F(!1),onSelect:v,leaveCodeItems:[],loading:!1,error:""})]}):null}function _ee({isOpen:t,isEditMode:a,dateFrom:s,dateTo:r,onClose:n,onDateFromChange:l,onDateToChange:i,onSubmit:c}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:n}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Record":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Employee Contractual"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx(zn,{value:s,onChange:u=>l(u),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx(zn,{value:r,onChange:u=>i(u),className:"flex-1"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Bee({isOpen:t,isEditMode:a,dateFrom:s,dateTo:r,onClose:n,onDateFromChange:l,onDateToChange:i,onSubmit:c}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/30 z-10",onClick:n}),e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Suspension":"Create New"}),e.jsx("button",{onClick:n,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Suspension"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx(zn,{value:s,onChange:u=>l(u),className:"flex-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx(zn,{value:r,onChange:u=>i(u),className:"flex-1"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Submit"}),e.jsx("button",{onClick:n,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Back to List"})]})]})]})})]}):null}function Ree({isOpen:t,onClose:a,onSelect:s,groupSchedules:r,loading:n}){const[l,i]=o.useState(""),[c,u]=o.useState(1),h=10;o.useEffect(()=>{t&&(i(""),u(1))},[t]);const m=r.filter(C=>(C.groupScheduleCode?.toLowerCase()||"").includes(l.toLowerCase())||(C.groupScheduleDesc?.toLowerCase()||"").includes(l.toLowerCase())),b=Math.ceil(m.length/h),g=(c-1)*h,w=g+h,p=m.slice(g,w),v=()=>{const C=[];if(b<=5)for(let I=1;I<=b;I++)C.push(I);else if(c<=3){for(let I=1;I<=4;I++)C.push(I);C.push("..."),C.push(b)}else if(c>=b-2){C.push(1),C.push("...");for(let I=b-3;I<=b;I++)C.push(I)}else C.push(1),C.push("..."),C.push(c-1),C.push(c),C.push(c+1),C.push("..."),C.push(b);return C},f=C=>{u(C)},y=()=>{c>1&&u(c-1)},N=()=>{c<b&&u(c+1)};return o.useEffect(()=>{u(1)},[l]),o.useEffect(()=>{const C=S=>{S.key==="Escape"&&t&&a()};return t&&document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[t,a]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:a}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Group Schedule"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Group Schedule Setup"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:C=>i(C.target.value),placeholder:"Search by code or description...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),n?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading group schedules..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Group Schedule Code",e.jsx("span",{className:"ml-1 text-blue-500",children:""})]}),e.jsxs("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:["Description",e.jsx("span",{className:"ml-1 text-gray-400",children:""})]})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-3 py-8 text-center text-gray-500",children:"No group schedules found"})}):p.map(C=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(C.groupScheduleCode),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:C.groupScheduleCode}),e.jsx("td",{className:"px-3 py-1.5",children:C.groupScheduleDesc})]},C.groupScheduleID))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",m.length>0?g+1:0," to ",Math.min(w,m.length)," of ",m.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:y,disabled:c===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),v().map((C,S)=>typeof C=="number"?e.jsx("button",{onClick:()=>f(C),className:`px-2 py-1 rounded text-xs ${c===C?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:C},S):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:C},S)),e.jsx("button",{onClick:N,disabled:c===b||b===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}):null}function Hee({isOpen:t,isEditMode:a,empCode:s,code:r,password:n,effectivityDate:l,expiryDate:i,onClose:c,onCodeChange:u,onPasswordChange:h,onEffectivityDateChange:m,onExpiryDateChange:b,onSubmit:g}){return o.useEffect(()=>{const w=p=>{p.key==="Escape"&&t&&c()};return t&&document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}},[t,c]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:c}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Device Code":"Add Device Code"}),e.jsx("button",{onClick:c,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Device Code Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Code :"}),e.jsx("input",{type:"text",value:r,onChange:w=>u(w.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Password :"}),e.jsx("input",{type:"password",value:n,onChange:w=>h(w.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Effectivity Date :"}),e.jsx("input",{type:"date",value:l,onChange:w=>m(w.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Expiry Date :"}),e.jsx("input",{type:"date",value:i,onChange:w=>b(w.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:g,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Add"}),e.jsx("button",{onClick:c,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]}):null}function Uee({isOpen:t,isEditMode:a,empCode:s,dateFrom:r,dateTo:n,restDay1:l,restDay2:i,restDay3:c,onClose:u,onDateFromChange:h,onDateToChange:m,onRestDay1Change:b,onRestDay2Change:g,onRestDay3Change:w,onSubmit:p}){if(o.useEffect(()=>{const f=y=>{y.key==="Escape"&&t&&u()};return t&&document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[t,u]),!t)return null;const v=[{value:"",label:"Select Day"},{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"},{value:"Sunday",label:"Sunday"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:u}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800",children:a?"Edit Variable Rest Day":"Add Variable Rest Day"}),e.jsx("button",{onClick:u,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-blue-600 mb-4",children:"Variable Rest Day Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"EmpCode :"}),e.jsx("input",{type:"text",value:s,readOnly:!0,className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date From :"}),e.jsx("input",{type:"date",value:r,onChange:f=>h(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Date To :"}),e.jsx("input",{type:"date",value:n,onChange:f=>m(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 1 :"}),e.jsx("select",{value:l,onChange:f=>b(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 2 :"}),e.jsx("select",{value:i,onChange:f=>g(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"w-40 text-gray-700",children:"Rest Day 3 :"}),e.jsx("select",{value:c,onChange:f=>w(f.target.value),className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:v.map(f=>e.jsx("option",{value:f.value,children:f.label},f.value))})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:p,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm text-sm",children:a?"Update":"Add"}),e.jsx("button",{onClick:u,className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 shadow-sm text-sm",children:"Cancel"})]})]})]})})]})}function $ee({isOpen:t,isEditMode:a,empCode:s,dateFrom:r,dateTo:n,shiftCode:l,dailyScheduleCode:i,glCode:c,onClose:u,onDateFromChange:h,onDateToChange:m,onShiftCodeChange:b,onDailyScheduleCodeChange:g,onGLCodeChange:w,onSubmit:p}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:u}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-gray-800 text-sm",children:[a?"Edit":"Add"," Variable Workshift"]}),e.jsx("button",{onClick:u,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Employee Code"}),e.jsx("input",{type:"text",value:s,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date From"}),e.jsx("input",{type:"date",value:r,onChange:v=>h(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date To"}),e.jsx("input",{type:"date",value:n,onChange:v=>m(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Shift Code"}),e.jsx("input",{type:"text",value:l,onChange:v=>b(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Daily Schedule Code"}),e.jsx("input",{type:"text",value:i,onChange:v=>g(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"GL Code"}),e.jsx("input",{type:"text",value:c,onChange:v=>w(v.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:u,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:a?"Update":"Save"})]})]})]})})]}):null}function Wee({isOpen:t,isEditMode:a,empCode:s,dateFrom:r,dateTo:n,classificationCode:l,onClose:i,onDateFromChange:c,onDateToChange:u,onClassificationCodeChange:h,onSubmit:m}){return t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:i}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-2xl",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-gray-800 text-sm",children:[a?"Edit":"Add"," Variable Classification"]}),e.jsx("button",{onClick:i,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Employee Code"}),e.jsx("input",{type:"text",value:s,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-gray-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date From"}),e.jsx("input",{type:"date",value:r,onChange:b=>c(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Date To"}),e.jsx("input",{type:"date",value:n,onChange:b=>u(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Classification Code"}),e.jsx("input",{type:"text",value:l,onChange:b=>h(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx("button",{onClick:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:a?"Update":"Save"})]})]})]})})]}):null}function Gee({isOpen:t,onClose:a,onSelect:s,dailySchedules:r,loading:n}){const[l,i]=o.useState("");if(o.useEffect(()=>{t&&i("")},[t]),!t)return null;const c=r.filter(u=>(u.referenceNo?.toLowerCase()||"").includes(l.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:a}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select Daily Schedule"}),e.jsx("button",{onClick:a,className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:l,onChange:u=>i(u.target.value),placeholder:"Search by reference number...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),n?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading daily schedules..."}):e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Reference No"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Mon"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Tue"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Wed"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Thu"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Fri"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Sat"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Sun"})]})}),e.jsx("tbody",{children:c.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-3 py-8 text-center text-gray-500",children:"No daily schedules found"})}):c.map(u=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>{s(u.referenceNo),a()},children:[e.jsx("td",{className:"px-3 py-1.5",children:u.referenceNo}),e.jsx("td",{className:"px-3 py-1.5",children:u.monday}),e.jsx("td",{className:"px-3 py-1.5",children:u.tuesday}),e.jsx("td",{className:"px-3 py-1.5",children:u.wednesday}),e.jsx("td",{className:"px-3 py-1.5",children:u.thursday}),e.jsx("td",{className:"px-3 py-1.5",children:u.friday}),e.jsx("td",{className:"px-3 py-1.5",children:u.saturday}),e.jsx("td",{className:"px-3 py-1.5",children:u.sunday})]},u.dailyScheduleID))})]})})]})]})})]})}function zee(){const[t,a]=o.useState("basic-config"),[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState(""),[u,h]=o.useState(""),[m,b]=o.useState(""),[g,w]=o.useState(""),[p,v]=o.useState(""),[f,y]=o.useState(!1),[N,C]=o.useState(!1),[S,I]=o.useState(!1),[k,A]=o.useState(!1),[F,O]=o.useState([]),[M,U]=o.useState(!1),[L,G]=o.useState(""),[re,ye]=o.useState(null),[K,ne]=o.useState(!1),[H,se]=o.useState(""),[we,Y]=o.useState([]),[E,P]=o.useState(!1),[V,D]=o.useState(null),[R,ee]=o.useState(!1),[Se,ue]=o.useState(!1),[oe,le]=o.useState(!1),[Q,ve]=o.useState(0),[Ce,$e]=o.useState(""),[Ae,We]=o.useState(""),[Re,et]=o.useState(""),[B,q]=o.useState(""),[Z,je]=o.useState(""),[De,Qe]=o.useState(""),[qe,Ye]=o.useState(!1),[ht,St]=o.useState(!1),[dt,Et]=o.useState(!1),[Te,Ee]=o.useState(!1),[pe,Je]=o.useState(!1),[pt,Mt]=o.useState(null),[Wt,$t]=o.useState(""),[lt,bt]=o.useState(""),[Nt,wt]=o.useState(""),[It,Dt]=o.useState(""),[Ke,tt]=o.useState(""),[Le,He]=o.useState(""),[ge,st]=o.useState(!1),[Ze,Rt]=o.useState(!1),[ft,kt]=o.useState(null),[he,be]=o.useState(""),[ie,de]=o.useState(""),[J,_]=o.useState(!1),[Fe,Oe]=o.useState(!1),[ke,Ie]=o.useState(null),[te,Pe]=o.useState(""),[ae,me]=o.useState(""),[ce,Ge]=o.useState([]),[yt,Gt]=o.useState(!1),[W,Be]=o.useState([]),[rt,ns]=o.useState(!1),[ps,ct]=o.useState(!1),[ss,Ft]=o.useState(!1),[Jt,vt]=o.useState(null),[Kt,jt]=o.useState(""),[Vt,cs]=o.useState(""),[sa,ua]=o.useState(""),[ka,Ea]=o.useState(""),[Ra,oa]=o.useState(!1),[xa,Ka]=o.useState("variable"),[Ha,Ws]=o.useState(null),[Ta,at]=o.useState([]),[Qt,_s]=o.useState(!1),[Us,nr]=o.useState(!1),[Ma,wa]=o.useState(null),[ya,gt]=o.useState(""),[bs,_e]=o.useState(""),[nt,xs]=o.useState(""),[Bs,Ue]=o.useState(""),[_t,Ve]=o.useState(""),[ds,ws]=o.useState(!1),[ea,er]=o.useState("variable"),[qa,it]=o.useState(null),[qt,or]=o.useState([]),[Hr,Nr]=o.useState(!1),[jr,Ya]=o.useState(!1),[ba,br]=o.useState(null),[ut,Ts]=o.useState(""),[aa,cn]=o.useState(""),[Cr,Ar]=o.useState(""),[Fr,tr]=o.useState(""),[Zr,qn]=o.useState(""),[_n,dn]=o.useState(""),[Ao,Yi]=o.useState([]),[Fo,hi]=o.useState(!1),[Ki,qi]=o.useState(!1),[fd,bn]=o.useState(!1),[Po,Fc]=o.useState("variable"),[Pc,yd]=o.useState(null),[mi,bd]=o.useState([]),[pi,Ml]=o.useState(!1),[Xi,vd]=o.useState(!1),[Ji,Qi]=o.useState(null),[Ic,Mc]=o.useState(""),[Lc,Oc]=o.useState(""),[wd,Ll]=o.useState(""),[Zi,_c]=o.useState(""),[Ol,Nd]=o.useState([]),[Bc,Xn]=o.useState(!1),[Io,rs]=o.useState([]),[al,cr]=o.useState(!1),[gi,Rc]=o.useState([]),[Hc,Pr]=o.useState(!1),ec="Last122, First A",rl="Main Monthly",[go,Mo]=o.useState(!1),[Lo,_l]=o.useState(""),[nl,tc]=o.useState([]),[Bl,Rl]=o.useState(!1),[Ir,ol]=o.useState(1),[fi]=o.useState(10),[Oo,Hl]=o.useState(""),[jd,sc]=o.useState(""),[Cd,Sd]=o.useState(""),[kd,Dd]=o.useState(""),[vn,Ul]=o.useState(""),[Uc,$c]=o.useState(""),[pa,ll]=o.useState(""),[yi,fo]=o.useState(""),[ac,Ur]=o.useState(""),[$l,Wl]=o.useState(""),[$r,Jn]=o.useState(""),[il,un]=o.useState(!1),[bi,Wc]=o.useState(""),[vi,wi]=o.useState(!1),cl=async()=>{Rl(!0);try{const Me=await z.get("/Fs/Process/PayRollLocationSetUp");Me.status===200&&Me.data&&(console.log("Payroll locations fetched successfully:",Me.data),tc(Me.data))}catch(Me){const xt=Me.response?.data?.message||Me.message||"Failed to load payroll locations";await xe.fire({icon:"error",title:"Error",text:xt}),console.error("Error fetching payroll locations:",Me)}finally{Rl(!1)}},_o=async()=>{P(!0);try{const Me=await z.get("/Fs/Process/GroupScheduleSetUp");Me.status===200&&Me.data&&Y(Me.data)}catch(Me){const xt=Me.response?.data?.message||Me.message||"Failed to load group schedules";console.error("Error fetching group schedules:",Me),await xe.fire({icon:"error",title:"Error",text:xt})}finally{P(!1)}},Ni=async()=>{U(!0),G("");try{const Me=await z.get("/Maintenance/EmployeeMasterFile");Me.status===200&&Me.data&&O(Me.data)}catch(Me){const xt=Me.response?.data?.message||Me.message||"Failed to load employees";G(xt),console.error("Error fetching employees:",Me)}finally{U(!1)}},yo=async Me=>{if(Me){ne(!0),se("");try{const xt=await z.get("/Maintenance/EmployeeBasicConfiguration",{params:{empCode:Me}});if(xt.status===200&&xt.data)if(xt.data.items&&xt.data.items.length>0){const Pt=xt.data.items[0];ye(Pt),A(!1)}else ye(null),A(!0)}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to load basic configuration";se(Pt),console.error("Error fetching basic configuration:",xt),xt.response?.status===404&&(ye(null),A(!0))}finally{ne(!1)}}},Gl=async Me=>{if(Me){ee(!0);try{const xt=await z.get("/Maintenance/EmployeeExemptions");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).find(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());gs?(console.log(gs),D(gs)):D({id:0,empCode:Me,tardiness:!1,undertime:!1,nightDiffBasic:!1,overtime:!1,absences:!1,otherEarnAndAllow:!1,holidayPay:!1,unprodWorkHoliday:!1})}}catch(xt){console.error("Error fetching exemptions:",xt),D({id:0,empCode:Me,tardiness:!1,undertime:!1,nightDiffBasic:!1,overtime:!1,absences:!1,otherEarnAndAllow:!1,holidayPay:!1,unprodWorkHoliday:!1})}finally{ee(!1)}}},en=async Me=>{if(Me){Gt(!0);try{const xt=await z.get("/Maintenance/EmployeeLeaveApplication");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase()).map(Ne=>({id:Ne.id,empCode:Ne.empCode?.trim()??"",leaveDate:Ne.date?new Date(Ne.date).toLocaleDateString():"N/A",leaveCode:Ne.leaveCode?.trim()??"",hours:Ne.hoursApprovedNum??0,reason:Ne.reason??"No reason provided",remarks:Ne.remarks??"",withPay:Ne.withPay??!1,isLate:Ne.isLateFiling??!1,status:Ne.hoursApprovedNum>0?"Approved":"Pending"}));Ge(gs)}}catch(xt){console.error("Error fetching/filtering leave applications:",xt),Ge([])}finally{Gt(!1)}}},Wr=async Me=>{if(Me){ns(!0);try{const xt=await z.get("/Maintenance/EmployeeDeviceCode");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());Be(gs)}}catch(xt){console.error("Error fetching device codes:",xt),Be([])}finally{ns(!1)}}},dl=async Me=>{ns(!0);try{const xt=await z.post("/Maintenance/EmployeeDeviceCode",Me);(xt.status===200||xt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Device code created successfully.",timer:2e3,showConfirmButton:!1}),await Wr(s),ct(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create device code";throw await xe.fire({icon:"error",title:"Error",text:Pt}),xt}finally{ns(!1)}},ji=async(Me,xt)=>{ns(!0);try{const Pt=await z.put(`/Maintenance/EmployeeDeviceCode/${Me}`,xt);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Device code updated successfully.",timer:2e3,showConfirmButton:!1}),await Wr(s),ct(!1))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update device code";throw await xe.fire({icon:"error",title:"Error",text:gs}),Pt}finally{ns(!1)}},zl=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){ns(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeDeviceCode/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Device code has been deleted.",timer:2e3,showConfirmButton:!1}),await Wr(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete device code";await xe.fire({icon:"error",title:"Error",text:gs})}finally{ns(!1)}}},Vl=async()=>{try{const Me={empCode:s,timeInAndOutCode:Kt,timeInAndOutPass:Vt,timeInAndOutEffectDate:sa,timeInAndOutExpiryDate:ka};ss&&Jt!==null?await ji(Jt,Me):await dl(Me)}catch(Me){console.error("Error submitting device code:",Me)}},Ci=async Me=>{if(Me){oa(!0);try{const xt=await z.get("/Maintenance/EmployeeRestDay/Fixed");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).find(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());gs&&(Ws(gs),Ka(gs.isFixed===!0?"fixed":"variable"),console.log(gs),xs(gs.fixedRestDay1?.trim()??""),Ue(gs.fixedRestDay2?.trim()??""),Ve(gs.fixedRestDay3?.trim()??""))}}catch(xt){console.error("Error fetching rest day fixed:",xt),Ws(null)}finally{oa(!1)}}},Yl=async Me=>{if(Me){oa(!0);try{const xt=await z.get("/Maintenance/EmployeeRestDay/Variable");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());at(gs)}}catch(xt){console.error("Error fetching rest day variable:",xt),at([])}finally{oa(!1)}}},bo=async Me=>{await Promise.all([Ci(Me),Yl(Me)])},Na=async()=>{const Me={id:Ha?.id||0,empCode:s,fixedRestDay1:nt,fixedRestDay2:Bs,fixedRestDay3:_t,isFixed:!0};oa(!0);try{let xt;Me.id===0||!Me.id?xt=await z.post("/Maintenance/EmployeeRestDay/Fixed",Me):xt=await z.put(`/Maintenance/EmployeeRestDay/Fixed/${Me.id}`,Me),(xt.status===200||xt.status===201||xt.status===204)&&(await xe.fire({icon:"success",title:"Success",text:"Fixed rest day saved successfully.",timer:2e3,showConfirmButton:!1}),await Ci(s),I(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to save fixed rest day";await xe.fire({icon:"error",title:"Error",text:Pt})}finally{oa(!1)}},Bo=async Me=>{oa(!0);try{const xt=await z.post("/Maintenance/EmployeeRestDay/Variable",Me);(xt.status===200||xt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Variable rest day created successfully.",timer:2e3,showConfirmButton:!1}),await Yl(s),_s(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create variable rest day";await xe.fire({icon:"error",title:"Error",text:Pt})}finally{oa(!1)}},Ro=async(Me,xt)=>{oa(!0);try{const Pt=await z.put(`/Maintenance/EmployeeRestDay/Variable/${Me}`,xt);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Variable rest day updated successfully.",timer:2e3,showConfirmButton:!1}),await Yl(s),_s(!1))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update variable rest day";await xe.fire({icon:"error",title:"Error",text:gs})}finally{oa(!1)}},ul=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){oa(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeRestDay/Variable/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Variable rest day has been deleted.",timer:2e3,showConfirmButton:!1}),await Yl(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete variable rest day";await xe.fire({icon:"error",title:"Error",text:gs})}finally{oa(!1)}}},Gc=async()=>{try{const Me={empCode:s,datefrom:ya,dateTo:bs,restDay1:nt,restDay2:Bs,restDay3:_t};Us&&Ma!==null?await Ro(Ma,Me):await Bo(Me)}catch(Me){console.error("Error submitting rest day:",Me)}},zc=async()=>{hi(!0);try{const Me=await z.get("/Fs/Process/DailyScheduleSetup");Me.status===200&&Me.data&&Yi(Me.data)}catch(Me){console.error("Error fetching daily schedules:",Me)}finally{hi(!1)}},Ho=async Me=>{if(Me){ws(!0);try{const xt=await z.get("/Maintenance/EmployeeWorkshiftFixed");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).find(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());gs&&(it(gs),er(gs.isFixed===!0?"fixed":"variable"),dn(gs.dailySched||""))}}catch(xt){console.error("Error fetching workshift fixed:",xt),it(null)}finally{ws(!1)}}},xl=async Me=>{if(Me){ws(!0);try{const xt=await z.get("/Maintenance/EmployeeWorkshiftVariable");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());or(gs)}}catch(xt){console.error("Error fetching workshift variable:",xt),or([])}finally{ws(!1)}}},Mr=async Me=>{await Promise.all([Ho(Me),xl(Me)])},hl=async()=>{const Me={id:qa?.id||0,empCode:s,dailySched:_n,isFixed:!0};ws(!0);try{let xt;Me.id===0||!Me.id?xt=await z.post("/Maintenance/EmployeeWorkshiftFixed",Me):xt=await z.put(`/Maintenance/EmployeeWorkshiftFixed/${Me.id}`,Me),(xt.status===200||xt.status===201||xt.status===204)&&(await xe.fire({icon:"success",title:"Success",text:"Fixed workshift saved successfully.",timer:2e3,showConfirmButton:!1}),await Ho(s),I(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to save fixed workshift";await xe.fire({icon:"error",title:"Error",text:Pt})}finally{ws(!1)}},Vc=async Me=>{ws(!0);try{const xt=await z.post("/Maintenance/EmployeeWorkshiftVariable",Me);(xt.status===200||xt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Variable workshift created successfully.",timer:2e3,showConfirmButton:!1}),await xl(s),Nr(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create variable workshift";await xe.fire({icon:"error",title:"Error",text:Pt})}finally{ws(!1)}},Si=async(Me,xt)=>{ws(!0);try{const Pt=await z.put(`/Maintenance/EmployeeWorkshiftVariable/${Me}`,xt);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Variable workshift updated successfully.",timer:2e3,showConfirmButton:!1}),await xl(s),Nr(!1))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update variable workshift";await xe.fire({icon:"error",title:"Error",text:gs})}finally{ws(!1)}},rc=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){ws(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeWorkshiftVariable/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Variable workshift has been deleted.",timer:2e3,showConfirmButton:!1}),await xl(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete variable workshift";await xe.fire({icon:"error",title:"Error",text:gs})}finally{ws(!1)}}},Kl=async()=>{try{const Me={empCode:s,dateFrom:ut,dateTo:aa,shiftCode:Cr,dailyScheduleCode:Fr,glCode:Zr,updateDate:new Date().toISOString()};jr&&ba!==null?await Si(ba,Me):await Vc(Me)}catch(Me){console.error("Error submitting workshift:",Me)}},Uo=async Me=>{if(Me){bn(!0);try{const xt=await z.get("/Maintenance/EmployeeClassification/Fixed");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).find(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());gs&&(yd(gs),Fc(gs.isFixed===!0?"fixed":"variable"),Ll(gs.classCode||""))}}catch(xt){console.error("Error fetching classification fixed:",xt),yd(null)}finally{bn(!1)}}},$o=async Me=>{if(Me){bn(!0);try{const xt=await z.get("/Maintenance/EmployeeClassification/Variable");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());bd(gs)}}catch(xt){console.error("Error fetching classification variable:",xt),bd([])}finally{bn(!1)}}},vo=async Me=>{await Promise.all([Uo(Me),$o(Me)])},Wo=async()=>{const Me={id:Pc?.id||0,empCode:s,classCode:wd,isFixed:!0};bn(!0);try{let xt;Me.id===0||!Me.id?xt=await z.post("/Maintenance/EmployeeClassification/Fixed",Me):xt=await z.put(`/Maintenance/EmployeeClassification/Fixed/${Me.id}`,Me),(xt.status===200||xt.status===201||xt.status===204)&&(await xe.fire({icon:"success",title:"Success",text:"Fixed classification saved successfully.",timer:2e3,showConfirmButton:!1}),await Uo(s),I(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to save fixed classification";await xe.fire({icon:"error",title:"Error",text:Pt})}finally{bn(!1)}},ml=async Me=>{bn(!0);try{const xt=await z.post("/Maintenance/EmployeeClassification/Variable",Me);(xt.status===200||xt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Variable classification created successfully.",timer:2e3,showConfirmButton:!1}),await $o(s),Ml(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create variable classification";await xe.fire({icon:"error",title:"Error",text:Pt})}finally{bn(!1)}},Yc=async(Me,xt)=>{bn(!0);try{const Pt=await z.put(`/Maintenance/EmployeeClassification/Variable/${Me}`,xt);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Variable classification updated successfully.",timer:2e3,showConfirmButton:!1}),await $o(s),Ml(!1))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update variable classification";await xe.fire({icon:"error",title:"Error",text:gs})}finally{bn(!1)}},nc=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){bn(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeClassification/Variable/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Variable classification has been deleted.",timer:2e3,showConfirmButton:!1}),await $o(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete variable classification";await xe.fire({icon:"error",title:"Error",text:gs})}finally{bn(!1)}}},Kc=async()=>{try{const Me={empCode:s,dateFrom:Ic,dateTo:Lc,classCode:Zi};Xi&&Ji!==null?await Yc(Ji,Me):await ml(Me)}catch(Me){console.error("Error submitting classification:",Me)}},pl=async Me=>{if(Me){Xn(!0);try{const xt=await z.get("/Maintenance/EmployeeOvertimeApplication");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());Nd(gs)}}catch(xt){console.error("Error fetching overtime applications:",xt),Nd([])}finally{Xn(!1)}}},qc=async Me=>{Xn(!0);try{const xt=await z.post("/Maintenance/EmployeeOvertimeApplication",Me);(xt.status===200||xt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Overtime application created successfully.",timer:2e3,showConfirmButton:!1}),await pl(s))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create overtime application";throw await xe.fire({icon:"error",title:"Error",text:Pt}),xt}finally{Xn(!1)}},Qn=async(Me,xt)=>{Xn(!0);try{const Pt=await z.put(`/Maintenance/EmployeeOvertimeApplication/${Me}`,xt);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Overtime application updated successfully.",timer:2e3,showConfirmButton:!1}),await pl(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update overtime application";throw await xe.fire({icon:"error",title:"Error",text:gs}),Pt}finally{Xn(!1)}},ki=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Xn(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeOvertimeApplication/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Overtime application has been deleted.",timer:2e3,showConfirmButton:!1}),await pl(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete overtime application";await xe.fire({icon:"error",title:"Error",text:gs})}finally{Xn(!1)}}},Go=async()=>{try{const Me={empCode:s,date:Oo,numOTHoursApproved:parseFloat(jd)||0,earlyOTStartTime:Cd,earlyTimeIn:kd,startOTPM:vn,minHRSOTBreak:parseFloat(Uc)||0,earlyOTStartTimeRestHol:pa,reason:yi,remarks:ac,approvedOTBreaksHrs:parseFloat($l)||0,stotats:$r,isLateFiling:il,isLateFilingProcessed:!1,appliedBeforeShiftDate:bi,isOTBeforeShiftNextDay:vi};pe&&pt!==null?await Qn(pt,Me):await qc(Me),Ee(!1)}catch(Me){console.error("Error submitting overtime application:",Me)}},tn=async Me=>{if(Me){cr(!0);try{const xt=await z.get("/Maintenance/EmployeeContractual");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());rs(gs)}}catch(xt){console.error("Error fetching contractual records:",xt),rs([])}finally{cr(!1)}}},ql=async Me=>{cr(!0);try{const xt={id:0,empCode:Me.empCode,dateFr:Me.dateFr?new Date(Me.dateFr).toISOString():null,dateTo:Me.dateTo?new Date(Me.dateTo).toISOString():null},Pt=await z.post("/Maintenance/EmployeeContractual",xt);(Pt.status===200||Pt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Contractual record created successfully.",timer:2e3,showConfirmButton:!1}),await tn(s))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create contractual record";throw await xe.fire({icon:"error",title:"Error",text:Pt}),xt}finally{cr(!1)}},wo=async(Me,xt)=>{cr(!0);try{const Pt=await z.put(`/Maintenance/EmployeeContractual/${Me}`,xt);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Contractual record updated successfully.",timer:2e3,showConfirmButton:!1}),await tn(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update contractual record";throw await xe.fire({icon:"error",title:"Error",text:gs}),Pt}finally{cr(!1)}},Di=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){cr(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeContractual/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Contractual record has been deleted.",timer:2e3,showConfirmButton:!1}),await tn(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete contractual record";await xe.fire({icon:"error",title:"Error",text:gs})}finally{cr(!1)}}},gu=async()=>{try{const Me={empCode:s,dateFr:he,dateTo:ie};Ze&&ft!==null?await wo(ft,Me):await ql(Me),st(!1)}catch(Me){console.error("Error submitting contractual:",Me)}},gl=async Me=>{if(Me){Pr(!0);try{const xt=await z.get("/Maintenance/EmployeeSuspension");if(xt.status===200&&xt.data){const gs=(Array.isArray(xt.data)?xt.data:xt.data.items||[]).filter(Ne=>(Ne.empCode?.trim()||"").toLowerCase()===Me.trim().toLowerCase());Rc(gs)}}catch(xt){console.error("Error fetching suspension records:",xt),Rc([])}finally{Pr(!1)}}},At=async Me=>{Pr(!0);try{const xt={id:0,empCode:Me.empCode,dateFrom:Me.dateFrom?new Date(Me.dateFrom).toISOString():null,dateTo:Me.dateTo?new Date(Me.dateTo).toISOString():null},Pt=await z.post("/Maintenance/EmployeeSuspension",xt);(Pt.status===200||Pt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Suspension record created successfully.",timer:2e3,showConfirmButton:!1}),await gl(s))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create suspension record";throw await xe.fire({icon:"error",title:"Error",text:Pt}),xt}finally{Pr(!1)}},Lt=async(Me,xt)=>{Pr(!0);try{const Pt=await z.put(`/Maintenance/EmployeeSuspension/${Me}`,xt);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Suspension record updated successfully.",timer:2e3,showConfirmButton:!1}),await gl(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update suspension record";throw await xe.fire({icon:"error",title:"Error",text:gs}),Pt}finally{Pr(!1)}},Ms=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Pr(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeSuspension/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Suspension record has been deleted.",timer:2e3,showConfirmButton:!1}),await gl(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete suspension record";await xe.fire({icon:"error",title:"Error",text:gs})}finally{Pr(!1)}}},Sr=async()=>{try{const Me={empCode:s,dateFrom:te,dateTo:ae};Fe&&ke!==null?await Lt(ke,Me):await At(Me),_(!1)}catch(Me){console.error("Error submitting suspension:",Me)}},vr=async Me=>{ne(!0);try{const xt=await z.post("/Maintenance/EmployeeBasicConfiguration",Me);(xt.status===200||xt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Basic configuration created successfully.",timer:2e3,showConfirmButton:!1}),await yo(s),I(!1),A(!1))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create basic configuration";throw await xe.fire({icon:"error",title:"Oops...",text:Pt}),xt}finally{ne(!1)}},lr=async(Me,xt)=>{ne(!0);try{const Pt={...xt,id:Me},gs=await z.put(`/Maintenance/EmployeeBasicConfiguration/${Me}`,xt);(gs.status===200||gs.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Basic configuration updated successfully.",timer:2e3,showConfirmButton:!1}),await yo(s),I(!1))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to update basic configuration";throw await xe.fire({icon:"error",title:"Update Failed",text:gs}),Pt}finally{ne(!1)}},ta=async()=>{if(V){ee(!0);try{let Me;V.id===0?Me=await z.post("/Maintenance/EmployeeExemptions",V):Me=await z.put(`/Maintenance/EmployeeExemptions/${V.id}`,{id:V.id,empCode:V.empCode,tardiness:V.tardiness,undertime:V.undertime,nightDiffBasic:V.nightDiffBasic,overtime:V.overtime,absences:V.absences,otherEarnAndAllow:V.otherEarnAndAllow,holidayPay:V.holidayPay,unprodWorkHoliday:V.unprodWorkHoliday}),(Me.status===200||Me.status===201||Me.status===204)&&(await xe.fire({icon:"success",title:"Success",text:"Exemptions saved successfully.",timer:2e3,showConfirmButton:!1}),await Gl(s),I(!1))}catch(Me){const xt=Me.response?.data?.message||Me.message||"Failed to save exemptions";await xe.fire({icon:"error",title:"Error",text:xt})}finally{ee(!1)}}},ja=async Me=>{Gt(!0);try{const xt=await z.post("/Maintenance/EmployeeLeaveApplication",Me);(xt.status===200||xt.status===201)&&(await xe.fire({icon:"success",title:"Success",text:"Leave application created successfully.",timer:2e3,showConfirmButton:!1}),await en(s))}catch(xt){const Pt=xt.response?.data?.message||xt.message||"Failed to create leave application";throw await xe.fire({icon:"error",title:"Error",text:Pt}),xt}finally{Gt(!1)}},na=async(Me,xt)=>{Gt(!0);try{const Pt={...xt,id:Me,balanceID:xt.balanceID===""?null:xt.balanceID,date:xt.date?new Date(xt.date).toISOString():null};console.log("Sending Cleaned Payload:",Pt);const gs=await z.put(`/Maintenance/EmployeeLeaveApplication/${Me}`,Pt);(gs.status===200||gs.status===204)&&(await xe.fire({icon:"success",title:"Updated!",text:"Leave application updated successfully.",timer:2e3,showConfirmButton:!1}),await en(s))}catch(Pt){console.error("Backend Error Details:",Pt.response?.data?.errors);const gs=Pt.response?.data?.message||Pt.message||"Failed to update leave application";throw await xe.fire({icon:"error",title:"Error",text:gs}),Pt}finally{Gt(!1)}},Gr=async Me=>{if((await xe.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed){Gt(!0);try{const Pt=await z.delete(`/Maintenance/EmployeeLeaveApplication/${Me}`);(Pt.status===200||Pt.status===204)&&(await xe.fire({icon:"success",title:"Deleted!",text:"Leave application has been deleted.",timer:2e3,showConfirmButton:!1}),await en(s))}catch(Pt){const gs=Pt.response?.data?.message||Pt.message||"Failed to delete leave application";await xe.fire({icon:"error",title:"Error",text:gs})}finally{Gt(!1)}}},Ua=nl.filter(Me=>(Me.locCode?.toLowerCase()||"").includes(Lo.toLowerCase())||(Me.locName?.toLowerCase()||"").includes(Lo.toLowerCase())),$a=Math.ceil(Ua.length/fi),wn=(Ir-1)*fi,fl=wn+fi,xn=Ua.slice(wn,fl),oc=()=>{const Me=[];if($a<=5)for(let Pt=1;Pt<=$a;Pt++)Me.push(Pt);else if(Ir<=3){for(let Pt=1;Pt<=4;Pt++)Me.push(Pt);Me.push("..."),Me.push($a)}else if(Ir>=$a-2){Me.push(1),Me.push("...");for(let Pt=$a-3;Pt<=$a;Pt++)Me.push(Pt)}else Me.push(1),Me.push("..."),Me.push(Ir-1),Me.push(Ir),Me.push(Ir+1),Me.push("..."),Me.push($a);return Me},Xc=(Me,xt)=>{l(Me),c(xt),Mo(!1),_l(""),ol(1)},Ed=Me=>{ol(Me)},Td=()=>{Ir>1&&ol(Ir-1)},fu=()=>{Ir<$a&&ol(Ir+1)},yl=o.useMemo(()=>F.map(Me=>({...Me,name:`${Me.lName}, ${Me.fName}`,groupCode:Me.grpCode})),[F]),lc=async(Me,xt)=>{try{const Pt=F.find(gs=>gs.empCode===Me);if(!Pt){console.error("Employee not found:",Me),await xe.fire({icon:"error",title:"Error",text:"Employee not found"});return}r(Me),l(Pt.grpCode),y(!1),await Promise.all([yo(Me),Gl(Me),en(Me),Wr(Me),bo(Me),Mr(Me),vo(Me),pl(Me),tn(Me),gl(Me),Mr(Me),vo(Me)])}catch(Pt){console.error("Error loading employee:",Pt),await xe.fire({icon:"error",title:"Error",text:"Failed to load employee details"})}},yu=async()=>{try{if(!s){await xe.fire({icon:"warning",title:"Warning",text:"Please select an employee first"});return}if(t==="basic-config"){const Me={empCode:s,groupCode:n,groupScheduleCode:re?.groupScheduleCode||"",allowOTDefault:re?.allowOTDefault||!1,active:re?.active??!0,compAllowFrRDExmpOT:re?.compAllowFrRDExmpOT||!1,compAllowFrHolExmpOT:re?.compAllowFrHolExmpOT||!1,timeAttendanceStatus:re?.timeAttendanceStatus||!1};k||!re?await vr(Me):await lr(re.id,Me)}else t==="exemptions"?await ta():t==="rest-day"&&xa==="fixed"?await Na():t==="workshift"&&ea==="fixed"?await hl():t==="classification"&&Po==="fixed"&&await Wo()}catch(Me){console.error("Error saving:",Me)}},Ad=()=>{I(!1),s&&(t==="basic-config"?yo(s):t==="exemptions"?Gl(s):t==="rest-day"?bo(s):t==="workshift"?Mr(s):t==="classification"&&vo(s))},Fd=()=>{I(!0)},sn=(Me,xt)=>{ye(Pt=>Pt?{...Pt,[Me]:xt}:{id:0,empCode:s,groupCode:n,groupScheduleCode:"",allowOTDefault:!1,active:!0,compAllowFrRDExmpOT:!1,compAllowFrHolExmpOT:!1,timeAttendanceStatus:!1,[Me]:xt})},Bn=(Me,xt)=>{D(Pt=>Pt?{...Pt,[Me]:xt}:null)},Ei=async()=>{try{const Me={empCode:s,date:Ce,hoursApprovedNum:parseFloat(Ae)||0,leaveCode:Re,period:B,reason:Z,remarks:De,withPay:qe,sssNotif:ht,isProcSSSNotif:!1,balanceID:"",isLateFiling:dt,isLateFilingProcessed:!1,exemptAllowFlag:!1};oe&&Q!==0?await na(Q,Me):await ja(Me),ue(!1)}catch(Me){console.error("Error submitting leave application:",Me)}},Pd=async Me=>{await Gr(Me)},Ti=async Me=>{await ki(Me)},Zn=async Me=>{await Di(Me)},eo=async Me=>{await Ms(Me)};o.useEffect(()=>{cl(),Ni(),_o(),zc()},[]),o.useEffect(()=>{if(s)switch(t){case"basic-config":yo(s);break;case"exemptions":Gl(s);break;case"device-code":Wr(s);break;case"rest-day":bo(s);break;case"workshift":Mr(s);break;case"classification":vo(s);break;case"leave-applications":en(s);break;case"overtime-applications":pl(s);break;case"contractual":tn(s);break;case"suspension":gl(s);break}},[s,t]),o.useEffect(()=>{ol(1)},[Lo]),o.useEffect(()=>{const Me=xt=>{xt.key==="Escape"&&(f?y(!1):go?Mo(!1):N?C(!1):ps?ct(!1):Qt?_s(!1):Te?Ee(!1):ge?st(!1):J?_(!1):Hr?Nr(!1):pi?Ml(!1):Ki&&qi(!1))};return(f||go||N||ps||Qt||Te||ge||J)&&document.addEventListener("keydown",Me),()=>{document.removeEventListener("keydown",Me)}},[f,go,N,ps,Qt,Te,ge,J]);const Ai=[{id:"basic-config",label:"Basic Configuration",icon:rx},{id:"exemptions",label:"Exemptions",icon:BP},{id:"device-code",label:"Device Code",icon:b7},{id:"rest-day",label:"Rest Day",icon:hs},{id:"workshift",label:"Workshift",icon:ur},{id:"classification",label:"Classification",icon:US},{id:"leave-applications",label:"Leave Applications",icon:cd},{id:"overtime-applications",label:"Overtime Applications",icon:Rv},{id:"contractual",label:"Contractual",icon:LP},{id:"suspension",label:"Suspension",icon:BS}],Rn=()=>{switch(t){case"basic-config":return"Employee Basic Configuration";case"exemptions":return"Employee Exemptions";case"device-code":return"Employee Device Code";case"rest-day":return"Employee Rest Day";case"workshift":return"Employee Workshift";case"classification":return"Employee Classification";case"leave-applications":return"Employee Leave Applications";case"overtime-applications":return"Employee Overtime Applications";case"contractual":return"Employee Contractual";case"suspension":return"Employee Suspension";default:return"Employee Timekeep Configuration"}},bl=()=>{switch(t){case"basic-config":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:K?e.jsx("div",{className:"text-center py-8",children:"Loading configuration..."}):H?e.jsx("div",{className:"text-center py-8 text-red-600",children:H}):e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"GroupScheduleCode"}),e.jsx("input",{type:"text",value:re?.groupScheduleCode||"",onChange:Me=>sn("groupScheduleCode",Me.target.value),disabled:!0,className:"w-64 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 cursor-pointer",onClick:()=>S&&C(!0)}),S&&e.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Browse"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"AllowOTDefault"}),e.jsx("input",{type:"checkbox",checked:re?.allowOTDefault||!1,onChange:Me=>sn("allowOTDefault",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Active"}),e.jsx("input",{type:"checkbox",checked:re?.active??!0,onChange:Me=>sn("active",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Worked Rest Day Allowance Not based on Computed OT"}),e.jsx("input",{type:"checkbox",checked:re?.compAllowFrRDExmpOT||!1,onChange:Me=>sn("compAllowFrRDExmpOT",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"Worked Holiday Allowance Not based on Computed OT"}),e.jsx("input",{type:"checkbox",checked:re?.compAllowFrHolExmpOT||!1,onChange:Me=>sn("compAllowFrHolExmpOT",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-80",children:"TimeAttendanceStatus"}),e.jsx("input",{type:"checkbox",checked:re?.timeAttendanceStatus||!1,onChange:Me=>sn("timeAttendanceStatus",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"})]}),k&&e.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-yellow-800 text-sm",children:"No configuration found for this employee. Click Save to create a new configuration."})})]})});case"exemptions":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:R?e.jsx("div",{className:"text-center py-8",children:"Loading exemptions..."}):e.jsxs("div",{className:"grid grid-cols-2 gap-x-24 gap-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.tardiness||!1,onChange:Me=>Bn("tardiness",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Tardiness"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.absences||!1,onChange:Me=>Bn("absences",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Absences"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.undertime||!1,onChange:Me=>Bn("undertime",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Undertime"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.otherEarnAndAllow||!1,onChange:Me=>Bn("otherEarnAndAllow",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Other Earn And Allowance"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.nightDiffBasic||!1,onChange:Me=>Bn("nightDiffBasic",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Night Diff Basic"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.holidayPay||!1,onChange:Me=>Bn("holidayPay",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"HolidayPay"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.overtime||!1,onChange:Me=>Bn("overtime",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Overtime"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:V?.unprodWorkHoliday||!1,onChange:Me=>Bn("unprodWorkHoliday",Me.target.checked),disabled:!S,className:"w-4 h-4 accent-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-100"}),e.jsx("label",{className:"text-gray-700",children:"Unproductive Work Holiday"})]})]})});case"leave-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{le(!1),ve(0),$e(""),We(""),et(""),q(""),je(""),Qe(""),Ye(!1),St(!1),Et(!1),ue(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:yt?e.jsx("div",{className:"text-center py-8",children:"Loading leave applications..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Leave Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Period"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"With Pay"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"SSS Notification"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:ce.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"px-6 py-8 text-center text-gray-500",children:"No leave applications found"})}):ce.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:new Date(Me.date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.hoursApprovedNum}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.leaveCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.period}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.withPay?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.sssNotif?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>{const xt=Me.date?new Date(Me.date):null,Pt=xt&&!isNaN(xt.getTime());le(!0),ve(Me.id),$e(Pt?xt.toISOString().split("T")[0]:""),We(Me.hoursApprovedNum?.toString()??"0"),et(Me.leaveCode?.trim()??""),q(Me.period??""),je(Me.reason??""),Qe(Me.remarks??""),Ye(Me.withPay??!1),St(Me.sssNotif??!1),Et(Me.isLateFiling??!1),ue(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Pd(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})})]})});case"device-code":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:rt?e.jsx("div",{className:"text-center py-8",children:"Loading device codes..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ft(!1),vt(null),jt(""),cs(""),ua(""),Ea(""),ct(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:W.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No device codes found"})}):W.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.timeInAndOutEffectDate?new Date(Me.timeInAndOutEffectDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.timeInAndOutExpiryDate?new Date(Me.timeInAndOutExpiryDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.timeInAndOutCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ft(!0),vt(Me.id),jt(Me.timeInAndOutCode||""),cs(Me.timeInAndOutPass||""),ua(Me.timeInAndOutEffectDate?new Date(Me.timeInAndOutEffectDate).toISOString().split("T")[0]:""),Ea(Me.timeInAndOutExpiryDate?new Date(Me.timeInAndOutExpiryDate).toISOString().split("T")[0]:""),ct(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>zl(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})]})});case"rest-day":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:Ra?e.jsx("div",{className:"text-center py-8",children:"Loading rest days..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"rest-day-fixed",checked:xa==="fixed",onChange:()=>Ka("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"rest-day-fixed",className:"text-gray-700",children:"Fixed"})]}),xa==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 1"}),e.jsxs("select",{value:nt,onChange:Me=>xs(Me.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 2"}),e.jsxs("select",{value:Bs,onChange:Me=>Ue(Me.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 w-24",children:"Rest Day 3"}),e.jsxs("select",{value:_t,onChange:Me=>Ve(Me.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Day"}),e.jsx("option",{value:"Monday",children:"Monday"}),e.jsx("option",{value:"Tuesday",children:"Tuesday"}),e.jsx("option",{value:"Wednesday",children:"Wednesday"}),e.jsx("option",{value:"Thursday",children:"Thursday"}),e.jsx("option",{value:"Friday",children:"Friday"}),e.jsx("option",{value:"Saturday",children:"Saturday"}),e.jsx("option",{value:"Sunday",children:"Sunday"})]})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"rest-day-variable",checked:xa==="variable",onChange:()=>Ka("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"rest-day-variable",className:"text-gray-700",children:"Variable"})]}),xa==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{nr(!1),wa(null),gt(""),_e(""),xs(""),Ue(""),Ve(""),_s(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 1"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 2"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Rest Day 3"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Ta.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No variable rest day records found"})}):Ta.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.datefrom?new Date(Me.datefrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateTo?new Date(Me.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.restDay1}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.restDay2}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.restDay3}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{nr(!0),wa(Me.id),gt(Me.datefrom?new Date(Me.datefrom).toISOString().split("T")[0]:""),_e(Me.dateTo?new Date(Me.dateTo).toISOString().split("T")[0]:""),xs(Me.restDay1||""),Ue(Me.restDay2||""),Ve(Me.restDay3||""),_s(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>ul(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})]})]})]})});case"workshift":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:ds?e.jsx("div",{className:"text-center py-8",children:"Loading workshifts..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-fixed",checked:ea==="fixed",onChange:()=>er("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"workshift-fixed",className:"text-gray-700",children:"Fixed"})]}),ea==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-32",children:"Daily Schedule"}),e.jsx("input",{type:"text",value:_n,disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 cursor-pointer",onClick:()=>S&&qi(!0)}),S&&e.jsxs("button",{onClick:()=>qi(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"workshift-variable",checked:ea==="variable",onChange:()=>er("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"workshift-variable",className:"text-gray-700",children:"Variable"})]}),ea==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Ya(!1),br(null),Ts(""),cn(""),Ar(""),tr(""),qn(""),Nr(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Shift Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Daily Schedule Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"GL Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:qt.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No variable workshift records found"})}):qt.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateFrom?new Date(Me.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateTo?new Date(Me.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.shiftCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dailyScheduleCode}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.glCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Ya(!0),br(Me.id),Ts(Me.dateFrom?new Date(Me.dateFrom).toISOString().split("T")[0]:""),cn(Me.dateTo?new Date(Me.dateTo).toISOString().split("T")[0]:""),Ar(Me.shiftCode||""),tr(Me.dailyScheduleCode||""),qn(Me.glCode||""),Nr(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>rc(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})]})]})]})});case"classification":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:fd?e.jsx("div",{className:"text-center py-8",children:"Loading classifications..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"classification-fixed",checked:Po==="fixed",onChange:()=>Fc("fixed"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"classification-fixed",className:"text-gray-700",children:"Fixed"})]}),Po==="fixed"&&e.jsx("div",{className:"ml-7 bg-gray-50 rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center gap-3 max-w-md",children:[e.jsx("label",{className:"text-gray-700 w-40",children:"Classification Code"}),e.jsx("input",{type:"text",value:wd,onChange:Me=>Ll(Me.target.value),disabled:!S,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",id:"classification-variable",checked:Po==="variable",onChange:()=>Fc("variable"),disabled:!S,className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"classification-variable",className:"text-gray-700",children:"Variable"})]}),Po==="variable"&&e.jsxs("div",{className:"ml-7 space-y-4",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{vd(!1),Qi(null),Mc(""),Oc(""),_c(""),Ml(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Add"]})}),e.jsx("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Classification Code"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:mi.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-gray-500",children:"No variable classification records found"})}):mi.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateFrom?new Date(Me.dateFrom).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateTo?new Date(Me.dateTo).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.classCode}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{vd(!0),Qi(Me.id),Mc(Me.dateFrom?new Date(Me.dateFrom).toISOString().split("T")[0]:""),Oc(Me.dateTo?new Date(Me.dateTo).toISOString().split("T")[0]:""),_c(Me.classCode||""),Ml(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>nc(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})]})]})]})});case"overtime-applications":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Je(!1),Mt(null),Hl(""),$t(""),bt(""),wt(""),Dt(""),tt(""),He(""),fo(""),Ur(""),un(!1),Ee(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:Bc?e.jsx("div",{className:"text-center py-8",children:"Loading overtime applications..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Hours Approved"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Start Time OT Before"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Approved OT Break"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Remarks"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Late Filing"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Ol.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-6 py-8 text-center text-gray-500",children:"No overtime applications found"})}):Ol.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.date}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.hoursApproved}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.startTimeOTBefore}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.approvedOTBreak}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.reason}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.remarks}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.isLateFiling?"Yes":"No"}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Je(!0),Mt(Me.id),Hl(Me.date),$t(Me.hoursApproved),bt(Me.actualDateInOTBefore),wt(Me.startTimeOTBefore),Dt(Me.startOvertimeDate),tt(Me.startOvertimeTime),He(Me.approvedOTBreak),fo(Me.reason),Ur(Me.remarks),un(Me.isLateFiling),Ee(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Ti(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})})]})});case"contractual":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Rt(!1),kt(null),be(""),de(""),st(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:al?e.jsx("div",{className:"text-center py-8",children:"Loading contractual records..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:Io.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No contractual records found"})}):Io.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateFrom}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateTo}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Rt(!0),kt(Me.id),be(Me.dateFrom),de(Me.dateTo),st(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>Zn(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})})]})});case"suspension":return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("button",{onClick:()=>{Oe(!1),Ie(null),Pe(""),me(""),_(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:Hc?e.jsx("div",{className:"text-center py-8",children:"Loading suspension records..."}):e.jsx(e.Fragment,{children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date From"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Date To"}),e.jsx("th",{className:"px-6 py-3 text-left text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:gi.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:"No suspension records found"})}):gi.map(Me=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateFrom}),e.jsx("td",{className:"px-6 py-3 text-gray-900",children:Me.dateTo}),e.jsx("td",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{Oe(!0),Ie(Me.id),Pe(Me.dateFrom),me(Me.dateTo),_(!0)},className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{onClick:()=>eo(Me.id),className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",children:e.jsx(Ns,{className:"w-4 h-4"})})]})})]},Me.id))})]})})})]})});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:Rn()})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Configure comprehensive employee timekeeping settings including basic information, exemptions, device codes, rest days, work shifts, classifications, and leave/overtime applications for accurate time tracking."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Employee timekeeping configuration"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Device code management"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Work shift and rest day setup"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:"Leave and overtime tracking"})]})]})]})]})}),e.jsxs("div",{className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[!["leave-applications","overtime-applications","contractual","suspension"].includes(t)&&e.jsx(e.Fragment,{children:S?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:yu,disabled:K||R,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(za,{className:"w-4 h-4"}),K||R?"Saving...":"Save"]}),e.jsxs("button",{onClick:Ad,disabled:K||R,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50",children:[e.jsx(ot,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:Fd,disabled:!s||!re&&!k&&t==="basic-config"||t==="exemptions"&&!V,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ri,{className:"w-4 h-4"}),"Edit"]})}),["leave-applications","overtime-applications","contractual","suspension"].includes(t)&&e.jsx("div",{className:"px-4 py-2",children:""})]}),e.jsx("div",{className:"mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"TKS Group"}),e.jsx("div",{onClick:()=>Mo(!0),className:"flex-1 min-w-0 px-3 py-2 border border-gray-300 rounded-lg bg-white cursor-pointer hover:bg-gray-50 transition-colors",children:n?e.jsx("span",{className:"text-sm font-medium text-gray-900 truncate block",children:n}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Select..."})}),e.jsxs("button",{onClick:()=>Mo(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 flex-shrink-0",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Browse"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"Location Name"}),e.jsx("input",{type:"text",value:i,disabled:!0,placeholder:"Auto-filled from selection",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-sm"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-gray-700 font-bold w-32 flex-shrink-0",children:"EmpCode"}),e.jsx("input",{type:"text",value:s,onChange:Me=>r(Me.target.value),disabled:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100"}),e.jsxs("button",{onClick:()=>y(!0),className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 flex-shrink-0",children:[e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-blue-700 mb-1",children:ec}),e.jsx("div",{className:"text-blue-600",children:rl})]})]}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:Ai.map(Me=>e.jsxs("button",{onClick:()=>a(Me.id),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===Me.id?"text-white bg-blue-600 font-medium":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(Me.icon,{className:"w-4 h-4"}),e.jsx("span",{children:Me.label})]},Me.id))}),go&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>Mo(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl border border-gray-300 w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-200 px-4 py-2 border-b border-gray-300 flex items-center justify-between",children:[e.jsx("h2",{className:"text-gray-800 text-sm",children:"Select TKS Group"}),e.jsx("button",{onClick:()=>Mo(!1),className:"text-gray-600 hover:text-gray-800",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-3 overflow-y-auto",style:{maxHeight:"calc(90vh - 50px)"},children:[e.jsx("h3",{className:"text-blue-600 mb-2 text-sm",children:"Payroll Location"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("label",{className:"text-gray-700 text-sm",children:"Search:"}),e.jsx("input",{type:"text",value:Lo,onChange:Me=>_l(Me.target.value),placeholder:"Search by code or name...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),Bl?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading payroll locations..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border border-gray-200 rounded overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"bg-white",children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Location Code"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Location Name"}),e.jsx("th",{className:"px-3 py-1.5 text-left text-gray-700 text-sm",children:"Company Code"})]})}),e.jsx("tbody",{children:xn.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-3 py-8 text-center text-gray-500",children:"No payroll locations found"})}):xn.map(Me=>e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-blue-50 cursor-pointer",onClick:()=>Xc(Me.locCode,Me.locName),children:[e.jsx("td",{className:"px-3 py-1.5",children:Me.locCode}),e.jsx("td",{className:"px-3 py-1.5",children:Me.locName}),e.jsx("td",{className:"px-3 py-1.5",children:Me.companyCode})]},Me.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",Ua.length>0?wn+1:0," to ",Math.min(fl,Ua.length)," of ",Ua.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:Td,disabled:Ir===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),oc().map((Me,xt)=>typeof Me=="number"?e.jsx("button",{onClick:()=>Ed(Me),className:`px-2 py-1 rounded text-xs ${Ir===Me?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:Me},xt):e.jsx("span",{className:"px-2 py-1 text-xs text-gray-500",children:Me},xt)),e.jsx("button",{onClick:fu,disabled:Ir===$a||$a===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})})]}),bl()]})]})}),e.jsx(wr,{isOpen:f,onClose:()=>y(!1),onSelect:lc,employees:yl,loading:M,error:L}),e.jsx(Ree,{isOpen:N,onClose:()=>C(!1),onSelect:Me=>sn("groupScheduleCode",Me),groupSchedules:we,loading:E}),e.jsx(Oee,{isOpen:Se,isEditMode:oe,empCode:s,date:Ce,hoursApproved:Ae,leaveCode:Re,period:B,reason:Z,remarks:De,withPay:qe,sssNotification:ht,isLateFiling:dt,onClose:()=>ue(!1),onDateChange:$e,onHoursApprovedChange:We,onLeaveCodeChange:et,onPeriodChange:q,onReasonChange:je,onRemarksChange:Qe,onWithPayChange:Ye,onSssNotificationChange:St,onIsLateFilingChange:Et,onSubmit:Ei}),e.jsx(k5,{isOpen:Te,isEditMode:pe,empCode:s,date:Oo,hoursApproved:Wt,actualDateInOTBefore:lt,startTimeBefore:Nt,startOvertimeDate:It,startOvertimeTime:Ke,approvedBreak:Le,reason:yi,remarks:ac,isLateFiling:il,onClose:()=>Ee(!1),onDateChange:Hl,onHoursApprovedChange:$t,onActualDateInOTBeforeChange:bt,onStartTimeBeforeChange:wt,onStartOvertimeDateChange:Dt,onStartOvertimeTimeChange:tt,onApprovedBreakChange:He,onReasonChange:fo,onRemarksChange:Ur,onIsLateFilingChange:un,onSubmit:Go}),e.jsx(_ee,{isOpen:ge,isEditMode:Ze,dateFrom:he,dateTo:ie,onClose:()=>st(!1),onDateFromChange:be,onDateToChange:de,onSubmit:gu}),e.jsx(Bee,{isOpen:J,isEditMode:Fe,dateFrom:te,dateTo:ae,onClose:()=>_(!1),onDateFromChange:Pe,onDateToChange:me,onSubmit:Sr}),e.jsx(Hee,{isOpen:ps,isEditMode:ss,empCode:s,code:Kt,password:Vt,effectivityDate:sa,expiryDate:ka,onClose:()=>ct(!1),onCodeChange:jt,onPasswordChange:cs,onEffectivityDateChange:ua,onExpiryDateChange:Ea,onSubmit:Vl}),e.jsx(Uee,{isOpen:Qt,isEditMode:Us,empCode:s,dateFrom:ya,dateTo:bs,restDay1:nt,restDay2:Bs,restDay3:_t,onClose:()=>_s(!1),onDateFromChange:gt,onDateToChange:_e,onRestDay1Change:xs,onRestDay2Change:Ue,onRestDay3Change:Ve,onSubmit:Gc}),e.jsx(Gee,{isOpen:Ki,onClose:()=>qi(!1),onSelect:Me=>dn(Me),dailySchedules:Ao,loading:Fo}),e.jsx($ee,{isOpen:Hr,isEditMode:jr,empCode:s,dateFrom:ut,dateTo:aa,shiftCode:Cr,dailyScheduleCode:Fr,glCode:Zr,onClose:()=>Nr(!1),onDateFromChange:Ts,onDateToChange:cn,onShiftCodeChange:Ar,onDailyScheduleCodeChange:tr,onGLCodeChange:qn,onSubmit:Kl}),"// Update the modal import at the end (before Footer)",e.jsx(Wee,{isOpen:pi,isEditMode:Xi,empCode:s,dateFrom:Ic,dateTo:Lc,classificationCode:Zi,onClose:()=>Ml(!1),onDateFromChange:Mc,onDateToChange:Oc,onClassificationCodeChange:_c,onSubmit:Kc}),e.jsx(ls,{})]})}const sp="/Maintenance/EmployeeRawData",Vee="/Fs/Process/Device/BorrowedDeviceName",Yee="/Maintenance/WorkShift",Kee="/Maintenance/EmployeeMasterFile",En=(t,a="")=>{if(!t)return new Date().toISOString();try{let s=t;if(t.includes("/")){const[r,n,l]=t.split("/");s=`${l}-${r.padStart(2,"0")}-${n.padStart(2,"0")}`}if(a){const n=a.toUpperCase().trim().match(/^(\d{1,2}):(\d{2})\s?(AM|PM)$/);if(n){let l=parseInt(n[1]);const i=n[2],c=n[3];return c==="PM"&&l!==12&&(l+=12),c==="AM"&&l===12&&(l=0),`${s}T${String(l).padStart(2,"0")}:${i}:00.000Z`}}return`${s}T00:00:00.000Z`}catch{return new Date().toISOString()}},pr=t=>{if(!t)return{date:"",time:""};try{const a=new Date(t),s=String(a.getUTCMonth()+1).padStart(2,"0"),r=String(a.getUTCDate()).padStart(2,"0"),n=a.getUTCFullYear();let l=a.getUTCHours();const i=String(a.getUTCMinutes()).padStart(2,"0"),c=l>=12?"PM":"AM";return l>12&&(l-=12),l===0&&(l=12),{date:`${s}/${r}/${n}`,time:`${String(l).padStart(2,"0")}:${i} ${c}`}}catch{return{date:"",time:""}}},qee=t=>{const a=t.trim().toUpperCase();if(!a)return"";const s=/^(0?[1-9]|1[0-2]):([0-5][0-9])\s?(AM|PM)$/i;if(s.test(a)){const r=a.match(s);return`${r[1].padStart(2,"0")}:${r[2]} ${r[3].toUpperCase()}`}return t},m4=()=>{const t=new Date;return`${String(t.getMonth()+1).padStart(2,"0")}/${String(t.getDate()).padStart(2,"0")}/${t.getFullYear()}`};function Xee(){const[t,a]=o.useState(m4()),[s,r]=o.useState(m4()),[n,l]=o.useState(!0),[i,c]=o.useState("all"),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState([]),[p,v]=o.useState(!1),[f,y]=o.useState(""),[N,C]=o.useState("empCode"),[S,I]=o.useState("asc"),k=Ve=>{N===Ve?I(ds=>ds==="asc"?"desc":"asc"):(C(Ve),I("asc"))},[A,F]=o.useState({break1Out:!0,break1In:!0,break2Out:!1,break2In:!1,break3Out:!0,break3In:!0,terminalId:!1,secondDayType:!1,remarks:!1,entryFlag:!1,isLateFiling:!1,borrowedDeviceName:!1,approvedOvertime:!1,deviceName:!1,selectAll:!1}),[O,M]=o.useState(!1),[U,L]=o.useState(null),[G,re]=o.useState(!1),[ye,K]=o.useState(""),[ne,H]=o.useState(""),[se,we]=o.useState(""),[Y,E]=o.useState(""),[P,V]=o.useState(""),[D,R]=o.useState(""),[ee,Se]=o.useState(""),[ue,oe]=o.useState(""),[le,Q]=o.useState(""),[ve,Ce]=o.useState(""),[$e,Ae]=o.useState(""),[We,Re]=o.useState(""),[et,B]=o.useState(""),[q,Z]=o.useState(""),[je,De]=o.useState(""),[Qe,qe]=o.useState(""),[Ye,ht]=o.useState(!1),[St,dt]=o.useState(!1),[Et,Te]=o.useState(""),[Ee,pe]=o.useState(""),[Je,pt]=o.useState(!1),[Mt,Wt]=o.useState(!1),[$t,lt]=o.useState(!1),[bt,Nt]=o.useState(!1),[wt,It]=o.useState(!1),[Dt,Ke]=o.useState(!1),[tt,Le]=o.useState(!1),[He,ge]=o.useState(!1),[st,Ze]=o.useState(!1),[Rt,ft]=o.useState(!1),[kt,he]=o.useState(!1),[be,ie]=o.useState(!1),[de,J]=o.useState(!1),[_,Fe]=o.useState([]),[Oe,ke]=o.useState(!1),[Ie,te]=o.useState(""),[Pe,ae]=o.useState(""),[me,ce]=o.useState(""),[Ge,yt]=o.useState(!1),[Gt,W]=o.useState(!1),[Be,rt]=o.useState(""),[ns,ps]=o.useState([]),[ct,ss]=o.useState(!1),[Ft,Jt]=o.useState(""),[vt,Kt]=o.useState(!1),[jt,Vt]=o.useState(""),[cs,sa]=o.useState([]),[ua,ka]=o.useState(!1),[Ea,Ra]=o.useState(""),oa=o.useCallback(async()=>{v(!0),y("");try{const Ve={dateFrom:En(t),dateTo:En(s)};i==="specific"&&Pe&&(Ve.empCode=Pe);const ds=await z.get(sp,{params:Ve});if(ds.status===200&&ds.data){const ws=Array.isArray(ds.data)?ds.data:[],ea=new Date(En(t)).setUTCHours(0,0,0,0),er=new Date(En(s)).setUTCHours(23,59,0,0),qa=ws.filter(it=>{if(!it.rawDateIn)return!1;const qt=new Date(it.rawDateIn).getTime();if(qt<ea||qt>er)return!1;const or=!!it.rawDateOut&&it.rawDateOut.trim()!=="",Hr=!!it.rawTimeIn,Nr=!!it.rawTimeOut,jr=or&&Hr&&Nr;return n?!jr:jr});w(qa)}}catch(Ve){const ds=Ve.response?.data?.message||Ve.message||"Failed to load raw data";y(ds),console.error("Error fetching raw data:",Ve)}finally{v(!1)}},[t,s,n,i,Pe]),xa=o.useCallback(async()=>{ka(!0),Ra("");try{const Ve=await z.get(Vee);Ve.status===200&&Ve.data&&sa(Array.isArray(Ve.data)?Ve.data:[])}catch(Ve){const ds=Ve.response?.data?.message||Ve.message||"Failed to load devices";Ra(ds),console.error("Error fetching devices:",Ve)}finally{ka(!1)}},[]),Ka=o.useCallback(async()=>{ss(!0),Jt("");try{const Ve=await z.get(Yee);if(Ve.status===200&&Ve.data){const ds=Array.isArray(Ve.data)?Ve.data:[];ps(ds.map(ws=>({code:ws.code||ws.workShiftCode||ws.workshiftCode||"",description:ws.description||ws.workShiftDescription||""})))}}catch(Ve){const ds=Ve.response?.data?.message||Ve.message||"Failed to load workshifts";Jt(ds),console.error("Error fetching workshifts:",Ve)}finally{ss(!1)}},[]),Ha=async()=>{ke(!0),te("");try{const Ve=await z.get(Kee);if(Ve.status===200&&Ve.data){const ds=Ve.data.map(ws=>({empCode:ws.empCode||ws.code||"",name:`${ws.lName||""}, ${ws.fName||""} ${ws.mName||""}`.trim(),groupCode:ws.grpCode||""}));Fe(ds)}}catch(Ve){const ds=Ve.response?.data?.message||Ve.message||"Failed to load employees";te(ds),console.error("Error fetching employees:",Ve)}finally{ke(!1)}},Ws=async()=>{if(!ne.trim()){K("Please select an Employee Code.");return}if(!P.trim()){K("Date In is required.");return}K(""),re(!0);const Ve={empCode:ne,workShiftCode:Y,dayType:"Regular",rawDateIn:En(P),rawTimeIn:En(P,D),actualDateIn:En(ee||P),actualTimeIn2:En(ee||P,ue),rawBreak1Out:En(P,le),rawBreak1In:En(P,ve),rawBreak2Out:En(P,$e),rawBreak2In:En(P,We),rawBreak3Out:En(P,et),rawBreak3In:En(P,q),rawDateOut:En(je||P),rawTimeOut:En(je||P,Qe),rawotApproved:Ye,rawRemarks:Et,isLateFiling:St,bDeviceName:Ee,rawTardiness:!1,rawUndertime:!1,rawOT:!1,rawNightDiff:!1,rawOtherEarnings:!1,rawUnproductive:!1,rawDisplDateFrom:En(t),rawDisplDateTo:En(s),isSuspended:!1,rawNoofDays:!1,dayType2:"",actualDateIn2:"",entryFlag:"",terminalID:"",dayTypeDOLE:"",aprOTTime:"",deviceNameIn:"",deviceNameOut:"",isLateFilingProcessed:!1,post_Tardy:!1,post_UT:!1,post_OT:!1,post_Earn:!1,post_ND:!1,post_NoOfDays:!1,otAppApprovalFlag:!1,sdWorkShiftCodeFlag:!1,flexiBreakFlag:!1};try{U!==null?await z.put(`${sp}/${U}`,{...Ve,id:U}):await z.post(sp,Ve),M(!1),L(null),await oa()}catch(ds){const ws=ds.response?.data?.message||ds.message||"Failed to save entry";K(ws),console.error("Error saving raw data:",ds)}finally{re(!1)}},Ta=Ve=>{L(Ve.id),H(Ve.empCode),E(Ve.workShiftCode);const ds=pr(Ve.rawDateIn),ws=pr(Ve.rawTimeIn),ea=pr(Ve.actualDateIn),er=pr(Ve.actualTimeIn2),qa=pr(Ve.rawBreak1Out),it=pr(Ve.rawBreak1In),qt=pr(Ve.rawBreak2Out),or=pr(Ve.rawBreak2In),Hr=pr(Ve.rawBreak3Out),Nr=pr(Ve.rawBreak3In),jr=pr(Ve.rawDateOut),Ya=pr(Ve.rawTimeOut);V(ds.date),R(ws.time),Se(ea.date),oe(er.time),Q(qa.time),Ce(it.time),Ae(qt.time),Re(or.time),B(Hr.time),Z(Nr.time),De(jr.date),qe(Ya.time),ht(Ve.rawotApproved),dt(Ve.isLateFiling),Te(Ve.rawRemarks),pe(Ve.bDeviceName),K(""),M(!0)},at=async Ve=>{if(confirm("Are you sure you want to delete this entry?"))try{await z.delete(`${sp}/${Ve}`),w(ds=>ds.filter(ws=>ws.id!==Ve))}catch(ds){const ws=ds.response?.data?.message||ds.message||"Failed to delete entry";alert(ws),console.error("Error deleting raw data:",ds)}},Qt=()=>{L(null),H(""),we(""),E(""),V(""),R(""),Se(""),oe(""),Q(""),Ce(""),Ae(""),Re(""),B(""),Z(""),De(""),qe(""),ht(!1),dt(!1),Te(""),pe(""),K(""),M(!0)},_s=(Ve,ds)=>{H(Ve),we(ds),J(!1)},Us=(Ve,ds)=>{ae(Ve),ce(ds),yt(!1)},nr=Ve=>{E(Ve),W(!1)},Ma=Ve=>{pe(Ve),Kt(!1)},wa=ns.filter(Ve=>Ve.code.toLowerCase().includes(Be.toLowerCase())||Ve.description.toLowerCase().includes(Be.toLowerCase())),ya=cs.filter(Ve=>Ve.code.toLowerCase().includes(jt.toLowerCase())||Ve.description.toLowerCase().includes(jt.toLowerCase())),gt=Ve=>{F(ds=>({...ds,[Ve]:!ds[Ve]}))},bs=()=>{const Ve=!A.selectAll;F({break1Out:Ve,break1In:Ve,break2Out:Ve,break2In:Ve,break3Out:Ve,break3In:Ve,terminalId:Ve,secondDayType:Ve,remarks:Ve,entryFlag:Ve,isLateFiling:Ve,borrowedDeviceName:Ve,approvedOvertime:Ve,deviceName:Ve,selectAll:Ve})};o.useEffect(()=>{Ha()},[]),o.useEffect(()=>{const Ve=ds=>{if(ds.key==="Escape"){if(de){J(!1);return}if(Ge){yt(!1);return}if(Gt){W(!1);return}if(vt){Kt(!1);return}if(O){M(!1);return}h(!1),b(!1),pt(!1),Wt(!1),lt(!1),Nt(!1),It(!1),Ke(!1),Le(!1),ge(!1),Ze(!1),ft(!1),he(!1),ie(!1)}};return document.addEventListener("keydown",Ve),()=>document.removeEventListener("keydown",Ve)},[de,Ge,Gt,vt,O]),o.useEffect(()=>{Gt&&ns.length===0&&Ka()},[Gt,ns.length,Ka]),o.useEffect(()=>{vt&&xa()},[vt,xa]);const _e=Ve=>ds=>Ve(ds.target.value),nt=(Ve,ds)=>()=>ds(qee(Ve)),xs=({col:Ve})=>N!==Ve?e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-400",children:""})]}):e.jsxs("span",{className:"inline-flex flex-col ml-1 leading-none",style:{fontSize:"8px",verticalAlign:"middle"},children:[e.jsx("span",{className:S==="asc"?"text-blue-600":"text-gray-300",children:""}),e.jsx("span",{className:S==="desc"?"text-blue-600":"text-gray-300",children:""})]}),Ue=[...i==="specific"&&Pe?g.filter(Ve=>Ve.empCode===Pe):g].sort((Ve,ds)=>{let ws="",ea="";return N==="rawotApproved"?(ws=Ve.rawotApproved?1:0,ea=ds.rawotApproved?1:0):["rawDateIn","rawTimeIn","actualDateIn","rawDateOut","rawTimeOut"].includes(N)?(ws=Ve[N]?new Date(Ve[N]).getTime():0,ea=ds[N]?new Date(ds[N]).getTime():0):(ws=Ve[N]??"",ea=ds[N]??""),ws<ea?S==="asc"?-1:1:ws>ea?S==="asc"?1:-1:0}),_t=(Ve,ds,ws,ea,er)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:[Ve," :"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ds,onChange:qa=>ws(qa.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>er(!ea),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),ea&&e.jsx(Ga,{onDateSelect:qa=>{ws(qa),er(!1)},onClose:()=>er(!1)})]})]});return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white text-xl font-semibold",children:"Raw Data"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Manage and view employee raw time data including clock in/out times, breaks, and overtime approvals."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Employee time tracking","Break time management","Overtime approval tracking","Workshift assignment"].map(Ve=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:Ve})]},Ve))})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",onClick:Qt,children:[e.jsx(Es,{className:"w-4 h-4"}),"Create New"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:Ve=>l(Ve.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"Incomplete Logs"})]}),e.jsx("div",{className:"flex items-center gap-4",children:["all","specific"].map(Ve=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",checked:i===Ve,onChange:()=>{c(Ve),Ve==="all"&&(ae(""),ce(""))},className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-gray-700 capitalize",children:Ve})]},Ve))})]}),i==="specific"&&e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700 whitespace-nowrap",children:"Employee:"}),e.jsx("input",{type:"text",value:Pe,readOnly:!0,placeholder:"Select employee...",className:"w-32 px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsx("input",{type:"text",value:me,readOnly:!0,placeholder:"Employee name",className:"flex-1 min-w-[160px] px-3 py-1.5 border border-gray-300 rounded text-sm bg-white"}),e.jsxs("button",{onClick:()=>yt(!0),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Ut,{className:"w-3.5 h-3.5"}),"Browse"]}),Pe&&e.jsxs("button",{onClick:()=>{ae(""),ce("")},className:"px-3 py-1.5 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(ot,{className:"w-3.5 h-3.5"}),"Clear"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[_t("Date From",t,a,u,h),_t("Date To",s,r,m,b),e.jsxs("button",{onClick:oa,disabled:p,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-60",children:[p?e.jsx(_a,{className:"w-4 h-4 animate-spin"}):e.jsx(Ut,{className:"w-4 h-4"}),"Search"]})]}),f&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),f]}),e.jsxs("div",{className:"mb-6 bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:"Hide Column"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-3",children:[[{key:"break1Out",label:"Break 1 Out"},{key:"break1In",label:"Break 1 In"},{key:"break2Out",label:"Break 2 Out"},{key:"break2In",label:"Break 2 In"},{key:"break3Out",label:"Break 3 Out"},{key:"break3In",label:"Break 3 In"},{key:"remarks",label:"Remarks"},{key:"entryFlag",label:"Entry Flag"},{key:"terminalId",label:"TerminalID"},{key:"secondDayType",label:"2nd Day Type"},{key:"approvedOvertime",label:"Approved Overtime"},{key:"deviceName",label:"Device Name"},{key:"isLateFiling",label:"Is Late Filing"},{key:"borrowedDeviceName",label:"BDevice Name"}].map(Ve=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:A[Ve.key],onChange:()=>gt(Ve.key),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm",children:Ve.label})]},Ve.key)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:A.selectAll,onChange:bs,className:"w-4 h-4 text-blue-600 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:"Select All"})]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b-2 border-gray-300",children:[e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Actions"}),[{key:"empCode",label:"Emp Code"},{key:"workShiftCode",label:"Workshift"},{key:"rawDateIn",label:"Date-In"},{key:"rawTimeIn",label:"Time-In"},{key:"actualDateIn",label:"Actual Date/Time In"}].map(({key:Ve,label:ds})=>e.jsxs("th",{onClick:()=>k(Ve),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[ds,e.jsx(xs,{col:Ve})]},Ve)),!A.break1Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-Out"}),!A.break1In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break1-In"}),!A.break2Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-Out"}),!A.break2In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break2-In"}),!A.break3Out&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-Out"}),!A.break3In&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Break3-In"}),[{key:"rawDateOut",label:"Date-Out"},{key:"rawTimeOut",label:"Time-Out"},{key:"dayType",label:"Day Type"},{key:"rawotApproved",label:"OT Approved"}].map(({key:Ve,label:ds})=>e.jsxs("th",{onClick:()=>k(Ve),className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap cursor-pointer select-none hover:bg-gray-200 transition-colors",children:[ds,e.jsx(xs,{col:Ve})]},Ve)),!A.remarks&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Remarks"}),!A.entryFlag&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Entry Flag"}),!A.terminalId&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Terminal ID"}),!A.secondDayType&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"2nd Day Type"}),!A.approvedOvertime&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Approved OT"}),!A.deviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Device In/Out"}),!A.isLateFiling&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"Late Filing"}),!A.borrowedDeviceName&&e.jsx("th",{className:"px-4 py-2 text-left text-gray-700 whitespace-nowrap",children:"BDevice"})]})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin"}),"Loading data..."]})})}):Ue.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:25,className:"px-6 py-8 text-center text-gray-500",children:"No data available. Use the Search button to load records."})}):Ue.map(Ve=>{const ds=pr(Ve.rawDateIn),ws=pr(Ve.rawTimeIn),ea=pr(Ve.actualDateIn),er=pr(Ve.actualTimeIn2),qa=pr(Ve.rawBreak1Out),it=pr(Ve.rawBreak1In),qt=pr(Ve.rawBreak2Out),or=pr(Ve.rawBreak2In),Hr=pr(Ve.rawBreak3Out),Nr=pr(Ve.rawBreak3In),jr=pr(Ve.rawDateOut),Ya=pr(Ve.rawTimeOut),ba=pr(Ve.aprOTTime);return e.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>Ta(Ve),className:"p-1 text-blue-600 hover:bg-blue-100 rounded",title:"Edit",children:e.jsx(Is,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>at(Ve.id),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Delete",children:e.jsx(Ns,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.empCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.workShiftCode}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ds.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ws.time}),e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[ea.date," ",er.time]}),!A.break1Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:qa.time}),!A.break1In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:it.time}),!A.break2Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:qt.time}),!A.break2In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:or.time}),!A.break3Out&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Hr.time}),!A.break3In&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Nr.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:jr.date}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ya.time}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.dayType}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.rawotApproved?"Yes":"No"}),!A.remarks&&e.jsx("td",{className:"px-4 py-2 text-sm max-w-xs truncate",children:Ve.rawRemarks}),!A.entryFlag&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.entryFlag}),!A.terminalId&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.terminalID}),!A.secondDayType&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.dayType2}),!A.approvedOvertime&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:ba.time}),!A.deviceName&&e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-xs",children:[Ve.deviceNameIn,"/",Ve.deviceNameOut]}),!A.isLateFiling&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.isLateFiling?"Yes":"No"}),!A.borrowedDeviceName&&e.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Ve.bDeviceName})]},Ve.id)})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"text-gray-600 text-sm",children:g.length>0?`Showing 1 to ${g.length} of ${g.length} entries`:"No entries"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Previous"}),e.jsx("button",{className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-100 text-sm disabled:opacity-50",disabled:!0,children:"Next"})]})]}),O&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>M(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white px-5 py-3 border-b border-gray-200 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-gray-800 font-semibold",children:U!==null?"Edit Entry":"Create New Entry"}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:"Raw Data"}),ye&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded flex items-center gap-2 text-red-700 text-sm",children:[e.jsx(Ba,{className:"w-4 h-4 flex-shrink-0"}),ye]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Emp Code :"}),e.jsx("input",{type:"text",value:ne,readOnly:!0,placeholder:"Select employee...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>J(!0),className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Workshift Code :"}),e.jsx("input",{type:"text",value:Y,readOnly:!0,placeholder:"Select workshift...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{rt(""),W(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{className:"px-4 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm flex-shrink-0",children:"Get Shift"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:P,onChange:Ve=>V(Ve.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>pt(!Je),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Je&&e.jsx(Ga,{onDateSelect:Ve=>{V(Ve),pt(!1)},onClose:()=>pt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:D,onChange:_e(R),onBlur:nt(D,R),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Wt(!Mt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Mt&&e.jsx(va,{initialTime:D,onTimeSelect:Ve=>{R(Ve),Wt(!1)},onClose:()=>Wt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Actual Date In :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:ee,onChange:Ve=>Se(Ve.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>lt(!$t),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),$t&&e.jsx(Ga,{onDateSelect:Ve=>{Se(Ve),lt(!1)},onClose:()=>lt(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Actual Time In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ue,onChange:_e(oe),onBlur:nt(ue,oe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Nt(!bt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),bt&&e.jsx(va,{initialTime:ue,onTimeSelect:Ve=>{oe(Ve),Nt(!1)},onClose:()=>Nt(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 1 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:le,onChange:_e(Q),onBlur:nt(le,Q),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>It(!wt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),wt&&e.jsx(va,{initialTime:le,onTimeSelect:Ve=>{Q(Ve),It(!1)},onClose:()=>It(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Break 1 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:ve,onChange:_e(Ce),onBlur:nt(ve,Ce),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Ke(!Dt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Dt&&e.jsx(va,{initialTime:ve,onTimeSelect:Ve=>{Ce(Ve),Ke(!1)},onClose:()=>Ke(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 2 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:$e,onChange:_e(Ae),onBlur:nt($e,Ae),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Le(!tt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),tt&&e.jsx(va,{initialTime:$e,onTimeSelect:Ve=>{Ae(Ve),Le(!1)},onClose:()=>Le(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Break 2 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:We,onChange:_e(Re),onBlur:nt(We,Re),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>ge(!He),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),He&&e.jsx(va,{initialTime:We,onTimeSelect:Ve=>{Re(Ve),ge(!1)},onClose:()=>ge(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Break 3 Out :"}),e.jsxs("div",{className:"relative w-32",children:[e.jsx("input",{type:"text",value:et,onChange:_e(B),onBlur:nt(et,B),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>Ze(!st),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),st&&e.jsx(va,{initialTime:et,onTimeSelect:Ve=>{B(Ve),Ze(!1)},onClose:()=>Ze(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Break 3 In :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:q,onChange:_e(Z),onBlur:nt(q,Z),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>ft(!Rt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Rt&&e.jsx(va,{initialTime:q,onTimeSelect:Ve=>{Z(Ve),ft(!1)},onClose:()=>ft(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Date Out :"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:je,onChange:Ve=>De(Ve.target.value),placeholder:"MM/DD/YYYY",className:"w-36 px-3 py-1.5 border border-gray-300 rounded text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>he(!kt),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),kt&&e.jsx(Ga,{onDateSelect:Ve=>{De(Ve),he(!1)},onClose:()=>he(!1)})]}),e.jsx("label",{className:"text-gray-700 text-sm whitespace-nowrap",children:"Time Out :"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",value:Qe,onChange:_e(qe),onBlur:nt(Qe,qe),placeholder:"HH:MM AM/PM",className:"w-full px-3 py-1.5 border border-gray-300 rounded text-sm pr-9 focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"button",onClick:()=>ie(!be),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),be&&e.jsx(va,{initialTime:Qe,onTimeSelect:Ve=>{qe(Ve),ie(!1)},onClose:()=>ie(!1)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"OT Approved :"}),e.jsx("input",{type:"checkbox",checked:Ye,onChange:Ve=>ht(Ve.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Is Late Filing :"}),e.jsx("input",{type:"checkbox",checked:St,onChange:Ve=>dt(Ve.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0 pt-1",children:"Remarks :"}),e.jsx("textarea",{value:Et,onChange:Ve=>Te(Ve.target.value),rows:3,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"w-44 text-gray-700 text-sm flex-shrink-0",children:"Borrowed Device :"}),e.jsx("input",{type:"text",value:Ee,readOnly:!0,placeholder:"Select device...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm bg-gray-50"}),e.jsx("button",{onClick:()=>{Vt(""),Kt(!0)},className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex-shrink-0",children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>pe(""),className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 flex-shrink-0",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex gap-3 pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:Ws,disabled:G,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm disabled:opacity-60",children:[G&&e.jsx(_a,{className:"w-4 h-4 animate-spin"}),U!==null?"Update":"Submit"]}),e.jsx("button",{onClick:()=>M(!1),className:"px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors text-sm",children:"Back to List"})]})]})]})})]}),e.jsx(wr,{isOpen:de,onClose:()=>J(!1),onSelect:Ve=>{const ds=_.find(ws=>ws.empCode===Ve);_s(Ve,ds?.name??"")},employees:_,loading:Oe,error:Ie}),Gt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>W(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Workshift Code"}),e.jsx("button",{onClick:()=>W(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:Be,autoFocus:!0,onChange:Ve=>rt(Ve.target.value),placeholder:"Search workshifts...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),Ft&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",Ft]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:ct?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):wa.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No workshifts found"})}):wa.map(Ve=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>nr(Ve.code),children:[e.jsx("td",{className:"px-3 py-2 font-mono font-medium",children:Ve.code}),e.jsx("td",{className:"px-3 py-2",children:Ve.description})]},Ve.code))})]})})]})]})})]}),vt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>Kt(!1)}),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gray-100 px-4 py-2.5 border-b border-gray-200 flex items-center justify-between rounded-t-lg",children:[e.jsx("h2",{className:"text-gray-800 font-medium text-sm",children:"Search  Borrowed Device Name"}),e.jsx("button",{onClick:()=>Kt(!1),className:"text-gray-500 hover:text-gray-700",children:e.jsx(ot,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:jt,autoFocus:!0,onChange:Ve=>Vt(Ve.target.value),placeholder:"Search devices...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),Ea&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded text-red-700 text-sm flex items-center gap-2",children:[e.jsx(Ba,{className:"w-4 h-4"})," ",Ea]}),e.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 rounded",children:e.jsxs("table",{className:"w-full border-collapse text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-white",children:e.jsxs("tr",{className:"bg-gray-50 border-b-2 border-gray-200",children:[e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Code "}),e.jsx("th",{className:"px-3 py-2 text-left text-gray-700",children:"Description"})]})}),e.jsx("tbody",{children:ua?e.jsx("tr",{children:e.jsxs("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:[e.jsx(_a,{className:"w-5 h-5 animate-spin inline mr-2"}),"Loading..."]})}):ya.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-4 py-6 text-center text-gray-500",children:"No devices found"})}):ya.map(Ve=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-blue-50 cursor-pointer transition-colors",onClick:()=>Ma(Ve.description),children:[e.jsx("td",{className:"px-3 py-2 font-mono",children:Ve.code}),e.jsx("td",{className:"px-3 py-2",children:Ve.description})]},Ve.id))})]})})]})]})})]}),e.jsx(wr,{isOpen:Ge,onClose:()=>yt(!1),onSelect:Ve=>{const ds=_.find(ws=>ws.empCode===Ve);Us(Ve,ds?.name??"")},employees:_,loading:Oe,error:Ie})]})]})}),e.jsx(ls,{})]})}function Jee(){const[t,a]=o.useState("TK Group"),[s,r]=o.useState("3/1/2020"),[n,l]=o.useState("03/15/2020"),[i,c]=o.useState("7/7/2021"),[u,h]=o.useState(!1),[m,b]=o.useState(!1),[g,w]=o.useState(!1),[p,v]=o.useState(!1),[f,y]=o.useState("tardiness"),N=o.useRef(null),[C,S]=o.useState(1),I=50,[k,A]=o.useState(""),[F,O]=o.useState(""),[M,U]=o.useState([]),[L,G]=o.useState([]),[re,ye]=o.useState(1),[K,ne]=o.useState(1),H=10,[se,we]=o.useState(!1),[Y,E]=o.useState(!1),[P,V]=o.useState(!1),[D,R]=o.useState(null),[ee,Se]=o.useState(null),[ue,oe]=o.useState({tardiness:!1,leaveAbsences:!1,allowances:!1,nightDifferentials:!1,undertime:!1,regularWorking:!1,overtime:!1,selectAll:!1});o.useEffect(()=>{ye(1)},[t]);const[le,Q]=o.useState([]),[ve,Ce]=o.useState([]),[$e,Ae]=o.useState([]),[We,Re]=o.useState([]),[et,B]=o.useState([]),[q,Z]=o.useState([]),[je,De]=o.useState([]),[Qe,qe]=o.useState([]),[Ye,ht]=o.useState([]),St=async()=>(await z.get("/Fs/Process/TimeKeepGroupSetUp")).data.map(Be=>({id:Be.ID||Be.id,code:Be.groupCode||Be.code,description:Be.groupDescription||Be.description})),dt=async()=>(await z.get("/Fs/Employment/BranchSetUp")).data.map(Be=>({id:Be.braID||Be.ID,code:Be.braCode||Be.code,description:Be.braDesc||Be.description})),Et=async()=>(await z.get("/Fs/Employment/DepartmentSetUp")).data.map(Be=>({id:Be.depID||Be.ID,code:Be.depCode||Be.code,description:Be.depDesc||Be.description})),Te=async()=>(await z.get("/Fs/Employment/DivisionSetUp")).data.map(Be=>({id:Be.divID||Be.ID,code:Be.divCode||Be.code,description:Be.divDesc||Be.description})),Ee=async()=>{const W=await z.get("/Fs/Employment/GroupSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.grpSchID||rt.id||rt.ID,code:rt.grpCode||rt.code,description:rt.grpDesc||rt.description}))},pe=async()=>{const W=await z.get("/Fs/Employment/PayHouseSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.lineID??rt.ID??rt.id,code:rt.lineCode??rt.code,description:rt.lineDesc??rt.Description??rt.description}))},Je=async()=>{const W=await z.get("/Fs/Employment/SectionSetUp");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.secID??rt.ID??rt.id,code:rt.secCode??rt.sectionCode??rt.code,description:rt.secDesc??rt.Description??rt.description}))},pt=async()=>(await z.get("/Fs/Employment/UnitSetUp")).data.map(Be=>({id:Be.unitID||Be.ID,code:Be.unitCode||Be.code,description:Be.unitDesc||Be.description})),Mt=async()=>{const W=await z.get("/Maintenance/EmployeeMasterFile");return(Array.isArray(W.data)?W.data:[]).map(rt=>({id:rt.empID??rt.ID??rt.id,code:rt.empCode||rt.code||"",name:`${rt.lName||""}, ${rt.fName||""} ${rt.mName||""}`.trim(),tkGroup:rt.tkGroup??rt.tKGroup??rt.groupCode??rt.tkGroupCode??"",branchCode:rt.braCode??rt.branchCode??rt.branch??"",departmentCode:rt.depCode??rt.departmentCode??rt.department??"",divisionCode:rt.divCode??rt.divisionCode??rt.division??"",groupScheduleCode:rt.grpCode??rt.groupSchedule??rt.grpSchCode??"",payHouseCode:rt.lineCode??rt.payCode??rt.payHouseCode??rt.payHouse??"",sectionCode:rt.secCode??rt.sectionCode??rt.section??"",unitCode:rt.unitCode??rt.unit??""}))};o.useEffect(()=>{St().then(Q)},[]),o.useEffect(()=>{dt().then(Ce)},[]),o.useEffect(()=>{Et().then(Ae)},[]),o.useEffect(()=>{Te().then(Re)},[]),o.useEffect(()=>{Ee().then(B)},[]),o.useEffect(()=>{pe().then(Z)},[]),o.useEffect(()=>{Je().then(De)},[]),o.useEffect(()=>{pt().then(qe)},[]),o.useEffect(()=>{Mt().then(ht)},[]);const $t=(()=>{switch(t){case"Branch":return ve;case"Department":return $e;case"Division":return We;case"Group Schedule":return et;case"Pay House":return q;case"Section":return je;case"Unit":return Qe;default:return le}})(),lt=()=>{switch(t){case"TK Group":return"TK Group Selection";case"Branch":return"Branch Selection";case"Department":return"Department Selection";case"Division":return"Division Selection";case"Group Schedule":return"Group Schedule Selection";case"Pay House":return"Pay House Selection";case"Section":return"Section Selection";case"Unit":return"Unit Selection";default:return"Selection"}},bt=$t.filter(W=>W.code.toLowerCase().includes(k.toLowerCase())||W.description.toLowerCase().includes(k.toLowerCase())),Nt=()=>{switch(t){case"TK Group":return"tkGroup";case"Branch":return"branchCode";case"Department":return"departmentCode";case"Division":return"divisionCode";case"Group Schedule":return"groupScheduleCode";case"Pay House":return"payHouseCode";case"Section":return"sectionCode";case"Unit":return"unitCode";default:return null}},wt=new Set($t.filter(W=>M.includes(W.id)).map(W=>W.code.trim().toLowerCase())),It=Ye.filter(W=>{if(!(W.code.toLowerCase().includes(F.toLowerCase())||W.name.toLowerCase().includes(F.toLowerCase())))return!1;if(wt.size===0)return!0;const rt=Nt();if(!rt)return!0;const ns=W[rt]?.trim().toLowerCase()??"";return wt.has(ns)}),Dt=Math.ceil(bt.length/H),Ke=(re-1)*H,tt=Ke+H,Le=bt.slice(Ke,tt),He=()=>{const W=[];if(Dt<=7)for(let Be=1;Be<=Dt;Be++)W.push(Be);else if(re<=4){for(let Be=1;Be<=5;Be++)W.push(Be);W.push("..."),W.push(Dt)}else if(re>=Dt-3){W.push(1),W.push("...");for(let Be=Dt-4;Be<=Dt;Be++)W.push(Be)}else{W.push(1),W.push("...");for(let Be=re-1;Be<=re+1;Be++)W.push(Be);W.push("..."),W.push(Dt)}return W},ge=Math.ceil(It.length/H),st=(K-1)*H,Ze=st+H,Rt=It.slice(st,Ze),ft=()=>{const W=[];if(ge<=5)return Array.from({length:ge},(ns,ps)=>ps+1);W.push(1),K>3&&W.push("...");const Be=Math.max(2,K-1),rt=Math.min(ge-1,K+1);for(let ns=Be;ns<=rt;ns++)W.push(ns);return K<ge-2&&W.push("..."),W.push(ge),W},kt=W=>{U(Be=>Be.includes(W)?Be.filter(rt=>rt!==W):[...Be,W])},he=W=>{G(Be=>Be.includes(W)?Be.filter(rt=>rt!==W):[...Be,W])},be=()=>{M.length===bt.length?U([]):U(bt.map(W=>W.id))},ie=()=>{L.length===It.length?G([]):G(It.map(W=>W.id))},de=W=>{if(W==="selectAll"){const Be=!ue.selectAll;oe({tardiness:Be,leaveAbsences:Be,allowances:Be,nightDifferentials:Be,undertime:Be,regularWorking:Be,overtime:Be,selectAll:Be})}else oe(Be=>({...Be,[W]:!Be[W]}))},J=()=>L.length>0?Ye.filter(W=>L.includes(W.id)).map(W=>W.code):Ye.map(W=>W.code),_=W=>{if(!W)return new Date().toISOString();try{if(W.includes("/")){const[Be,rt,ns]=W.split("/"),ps=Be.padStart(2,"0"),ct=rt.padStart(2,"0");return`${ns}-${ps}-${ct}T00:00:00.000Z`}return new Date(W).toISOString()}catch{return new Date().toISOString()}},Fe=W=>{const Be=Math.floor(W/1e3),rt=Math.floor(Be/3600),ns=Math.floor(Be%3600/60),ps=Be%60;return{h:rt,m:ns,s:ps}},Oe=async()=>{const W=J();if(W.length===0){xe.fire({icon:"warning",title:"No Employees",text:"Please select at least one employee or group."});return}const Be={dateFrom:_(s),dateTo:_(n),dateApplied:_(i),empCode:"",empCodes:W,tardiness:ue.tardiness,undertime:ue.undertime,leaveAndAbsences:ue.leaveAbsences,regularWorkingDays:ue.regularWorking,allowances:ue.allowances,overtime:ue.overtime,nightDiff:ue.nightDifferentials,holidayPay:!1,unprodWorkOnHoliday:!1,lateFiling:u,oldOvertimeProcess:!1,oldNighDiffProcess:!1,oldTardinessProcess:!1,userName:"currentUser"};v(!0),b(!1),R(null),Se(null);const rt=Date.now();try{const ns=await z.post("/Populate2Shifts/Populate",Be),ps=Fe(Date.now()-rt),ct=ns.data;console.log(ns),R(ct),Se({...Be,allowances:ue.allowances,undertime:ue.undertime,overtime:ue.overtime,nightDiff:ue.nightDifferentials,holidayPay:!1,regularWorkingDays:ue.regularWorking,tardiness:ue.tardiness,leaveAndAbsences:ue.leaveAbsences,lateFiling:u,dataAllowance:ct.allowance??[],dataUndertime:ct.undertime??[],dataOvertime:ct.overtime??[],dataNightDiff:ct.nightDiff??[],dataHolidayPay:[],dataRegularWorkingHours:ct.regularWorkingHours??[],dataTardiness:ct.tardiness??[],dataLeaveAbsences:ct.leaveAbsences??[],tardinessBelowThreshold:ct.tardinessBelowThreshold??[],tardinessAboveThreshold:ct.tardinessAboveThreshold??[],undertimeBelowThreshold:ct.undertimeBelowThreshold??[],undertimeAboveThreshold:ct.undertimeAboveThreshold??[]}),b(!0),y("tardiness"),await xe.fire({icon:"success",title:"Done Populating",html:`
          <div style="text-align:center">
            <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
            <p style="font-size:1.25rem;font-weight:600;color:#1d4ed8">
              ${ps.h} hour(s), ${ps.m} minute(s) and ${ps.s} second(s)
            </p>
          </div>
        `,confirmButtonText:"View Results",confirmButtonColor:"#2563eb"}),setTimeout(()=>{N.current?.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(ns){const ps=ns?.response?.data?.message??ns?.message??"An unexpected error occurred.";xe.fire({icon:"error",title:"Populate Failed",text:ps})}finally{v(!1)}},ke=async()=>{if(!ee){xe.fire({icon:"warning",title:"Populate First",text:"Please run Populate before Process."});return}w(!0);const W=Date.now();try{const Be=await z.post("/Populate2Shifts/Process",ee),rt=Fe(Date.now()-W),ns=Be.data;ns?.isSuccessful===!1?xe.fire({icon:"error",title:"Process Error",text:ns.message??"Process failed."}):await xe.fire({icon:"success",title:"Done Processing",html:`
            <div style="text-align:center">
              <p style="font-size:1rem;color:#374151;margin-bottom:8px">Elapsed time:</p>
              <p style="font-size:1.25rem;font-weight:600;color:#16a34a">
                ${rt.h} hour(s), ${rt.m} minute(s) and ${rt.s} second(s)
              </p>
            </div>
          `,confirmButtonText:"OK",confirmButtonColor:"#16a34a"})}catch(Be){const rt=Be?.response?.data?.message??Be?.message??"An unexpected error occurred.";xe.fire({icon:"error",title:"Process Failed",text:rt})}finally{w(!1)}};o.useEffect(()=>{S(1)},[f]);const Ie=[{id:"tardiness",label:"Tardiness"},{id:"undertime",label:"Undertime"},{id:"leave-absences",label:"Leave and Absences"},{id:"regular-working",label:"Regular Working Days/Hours"},{id:"allowances",label:"Allowances"},{id:"overtime",label:"Overtime"},{id:"night-differentials",label:"Night Differentials"}],Pe=(()=>{if(!D)return[];switch(f){case"tardiness":return D.tardiness??[];case"undertime":return D.undertime??[];case"leave-absences":return D.leaveAbsences??[];case"regular-working":return D.regularWorkingHours??[];case"allowances":return D.allowance??[];case"overtime":return D.overtime??[];case"night-differentials":return D.nightDiff??[];default:return[]}})(),ae=Math.ceil(Pe.length/I),me=Pe.slice((C-1)*I,C*I),ce=()=>{const W=[];if(ae<=7)for(let Be=1;Be<=ae;Be++)W.push(Be);else if(C<=4){for(let Be=1;Be<=5;Be++)W.push(Be);W.push("..."),W.push(ae)}else if(C>=ae-3){W.push(1),W.push("...");for(let Be=ae-4;Be<=ae;Be++)W.push(Be)}else{W.push(1),W.push("...");for(let Be=C-1;Be<=C+1;Be++)W.push(Be);W.push("..."),W.push(ae)}return W},Ge=W=>{if(!W)return"";try{return new Date(W).toLocaleDateString()}catch{return W}},yt=W=>{if(!W)return"";try{return new Date(W).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return W}},Gt=W=>W!=null?W.toFixed(4):"";return e.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[e.jsx("div",{className:"flex-1 relative z-10 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto relative",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-lg shadow-lg",children:e.jsx("h1",{className:"text-white",children:"Processing 2 Shifts In A Day"})}),e.jsxs("div",{className:"bg-white rounded-b-lg shadow-lg p-6 relative",children:[e.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"Process employee timekeeping data by various criteria including TK Group, branch, department, and more."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:["Process by multiple organizational groups","Generate comprehensive attendance reports","Track tardiness, undertime, and overtime","Monitor leave and absences efficiently"].map(W=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:W})]},W))})]})]})}),e.jsx("div",{className:"mb-6 flex items-center gap-1 border-b border-gray-200 flex-wrap",children:[{name:"TK Group",icon:Js},{name:"Branch",icon:da},{name:"Department",icon:ia},{name:"Division",icon:rr},{name:"Group Schedule",icon:Da},{name:"Pay House",icon:Ca},{name:"Section",icon:ar},{name:"Unit",icon:Kn}].map(W=>e.jsxs("button",{onClick:()=>a(W.name),className:`px-4 py-2 text-sm transition-colors flex items-center gap-2 rounded-t-lg ${t===W.name?"font-medium bg-blue-600 text-white -mb-px":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(W.icon,{className:"w-4 h-4"}),W.name]},W.name))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:lt()}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:k,onChange:W=>A(W.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:M.length===bt.length&&bt.length>0,onChange:be,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Description"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Le.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:M.includes(W.id),onChange:()=>kt(W.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:W.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:W.description})]},W.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("div",{className:"text-gray-600 text-xs",children:["Showing ",bt.length===0?0:Ke+1," to ",Math.min(tt,bt.length)," of ",bt.length," entries"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>ye(W=>Math.max(W-1,1)),disabled:re===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),He().map((W,Be)=>W==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`g-ellipsis-${Be}`):e.jsx("button",{onClick:()=>ye(W),className:`px-2 py-1 rounded text-xs ${re===W?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},W)),e.jsx("button",{onClick:()=>ye(W=>Math.min(W+1,Dt)),disabled:re===Dt||Dt===0,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-gray-900",children:"Employees"}),e.jsxs("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm",children:[L.length," selected"]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:F,onChange:W=>O(W.target.value),className:"w-full pl-9 pr-4 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-100 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:e.jsx("input",{type:"checkbox",checked:L.length===It.length&&It.length>0,onChange:ie,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-600",children:"Name"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Rt.map(W=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"checkbox",checked:L.includes(W.id),onChange:()=>he(W.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:W.code}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:W.name})]},W.id))})]})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Showing ",st+1," to ",Math.min(Ze,It.length)," of ",It.length," entries"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>ne(W=>Math.max(1,W-1)),disabled:K===1,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Previous"}),ft().map((W,Be)=>typeof W=="number"?e.jsx("button",{onClick:()=>ne(W),className:`px-2 py-1 rounded text-xs ${K===W?"bg-blue-500 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},Be):e.jsx("span",{className:"px-2",children:W},Be)),e.jsx("button",{onClick:()=>ne(W=>Math.min(ge,W+1)),disabled:K===ge,className:"px-2 py-1 rounded border border-gray-300 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Next"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 mb-4",children:e.jsx("h2",{className:"text-gray-900",children:"Processing Options"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date From"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:s,onChange:W=>r(W.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>we(!se),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),se&&e.jsx(Ga,{onDateSelect:W=>{r(W),we(!1)},onClose:()=>we(!1)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date To"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n,onChange:W=>l(W.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>E(!Y),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),Y&&e.jsx(Ga,{onDateSelect:W=>{l(W),E(!1)},onClose:()=>E(!1)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 text-sm mb-2",children:"Date Applied"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:W=>c(W.target.value),placeholder:"MM/DD/YYYY",className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm pr-9"}),e.jsx("button",{type:"button",onClick:()=>V(!P),className:"absolute right-1 top-1/2 -translate-y-1/2 p-1.5 bg-blue-500 text-white rounded hover:bg-blue-600",children:e.jsx(hs,{className:"w-3.5 h-3.5"})}),P&&e.jsx(Ga,{onDateSelect:W=>{c(W),V(!1)},onClose:()=>V(!1)})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:W=>h(W.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Include Late Filing"})]})})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3 pb-3 border-b border-blue-200",children:[["tardiness","Tardiness"],["leaveAbsences","Leave/Absences"],["allowances","Allowances"],["nightDifferentials","Night Differential"]].map(([W,Be])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ue[W],onChange:()=>de(W),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Be})]},W))}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[[["undertime","Undertime"],["regularWorking","Regular Working"],["overtime","Overtime"]].map(([W,Be])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ue[W],onChange:()=>de(W),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:Be})]},W)),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ue.selectAll,onChange:()=>de("selectAll"),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-900 font-medium",children:"Select All"})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx("button",{onClick:Oe,disabled:p||g,className:"px-6 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4 animate-spin"}),"Populating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Js,{className:"w-4 h-4"}),"Populate"]})}),e.jsx("button",{onClick:ke,disabled:p||g||!ee,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:ee?"":"Run Populate first",children:g?e.jsxs(e.Fragment,{children:[e.jsx(Xr,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Hv,{className:"w-4 h-4"}),"Process"]})})]}),!ee&&e.jsxs("p",{className:"text-xs text-amber-600 mt-2",children:[" Run ",e.jsx("strong",{children:"Populate"})," first to enable the Process button."]})]}),m&&D&&e.jsxs("div",{ref:N,className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-gray-900",children:"Populate Results"}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs",children:"Completed"})]}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"flex overflow-x-auto",children:Ie.map(W=>e.jsx("button",{onClick:()=>y(W.id),className:`px-4 py-3 whitespace-nowrap transition-all border-b-2 text-sm ${f===W.id?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:W.label},W.id))})}),e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[f==="tardiness"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Tardiness"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),f==="undertime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Undertime"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Within Grace"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Actual"})]}),f==="leave-absences"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Leave Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"With Pay"})]}),f==="regular-working"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),f==="allowances"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Allowance Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Amount"})]}),f==="overtime"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Reason"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Remarks"})]}),f==="night-differentials"&&e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Emp Code"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date From"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Date To"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time In"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Time Out"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"Workshift"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"ND Hours"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600",children:"OT Code"})]})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[f==="tardiness"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||"",e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.tardiness)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.tardinessWithInGrace)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.actualTardiness)})]},Be)),f==="undertime"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||"",e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShift}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.undertime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.undertimeWithinGracePeriod)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.actualUndertime)})]},Be)),f==="leave-absences"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateL)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.leaveCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.hoursLeaveAbsent)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.remarks}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("input",{type:"checkbox",checked:!!W.withPay,readOnly:!0,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded"})})]},Be)),f==="regular-working"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.noOfHours)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.remarks})]},Be)),f==="allowances"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.allowanceCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.date)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workshiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.amount?.toFixed(2)})]},Be)),f==="overtime"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.otCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.reason}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.remarks})]},Be)),f==="night-differentials"&&me.map((W,Be)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empCode}),e.jsx("td",{className:"px-4 py-3 text-gray-900",children:W.empName||W.formattedName||Ye.find(rt=>rt.code===W.empCode)?.name||""}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateFrom)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Ge(W.dateTo)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeIn)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:yt(W.timeOut)}),e.jsx("td",{className:"px-4 py-3 text-blue-600",children:W.workShiftCode}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:Gt(W.overtime)}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:W.otCode})]},Be)),Pe.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:11,className:"px-4 py-12 text-center text-gray-400 text-sm",children:"No data available for this category."})})]})]})}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Showing"," ",Pe.length===0?0:(C-1)*I+1," ",""," ",Math.min(C*I,Pe.length)," ","of"," ",Pe.length," entries"]}),ae>1&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>S(W=>Math.max(1,W-1)),disabled:C===1,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),ce().map((W,Be)=>W==="..."?e.jsx("span",{className:"px-1 text-gray-500 text-xs",children:"..."},`rp-ellipsis-${Be}`):e.jsx("button",{onClick:()=>S(W),className:`px-2 py-1 rounded text-xs ${C===W?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-100"}`,children:W},W)),e.jsx("button",{onClick:()=>S(W=>Math.min(ae,W+1)),disabled:C===ae,className:"px-2 py-1 border border-gray-300 rounded hover:bg-gray-100 text-xs disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})}),e.jsx(ls,{})]})}function Qee({activeSection:t}){return t==="workshift-variable"?e.jsx(y2,{}):t==="import-workshift-variable"?e.jsx(y2,{}):t==="import-adjustment"?e.jsx(p8,{}):t==="import-logs-from-device-v2"?e.jsx(pY,{}):t==="import-device-code"?e.jsx(gY,{}):t==="import-employee-masterfile"?e.jsx(fY,{}):t==="overtime-application"?e.jsx(EC,{}):t==="import-overtime-application"?e.jsx(EC,{}):t==="leave-application"?e.jsx(TC,{}):t==="import-leave-application"?e.jsx(TC,{}):t==="logs-from-device-v2"?e.jsx(yY,{}):t==="overtime-application-2-shifts"?e.jsx(dJ,{}):t==="workshift-variable-2-shifts"?e.jsx(uJ,{}):t==="logs-from-device-2-shifts"?e.jsx(xJ,{}):t==="update-raw-data"||t==="update-rawdata-import"?e.jsx(bY,{}):t==="raw-data-ot-group"?e.jsx(qX,{}):t==="rawdata-ot-gap"?e.jsx(QX,{}):t==="rawdata-on-straight-duty"?e.jsx(aJ,{}):t==="2-shifts-rawdata"?e.jsx(iJ,{}):t==="2-shifts-employee-timekeep-config"?e.jsx(cJ,{}):t==="raw-data"?e.jsx(Xee,{}):t==="process"||t==="process-data"?e.jsx(VQ,{}):t==="2-shifts-payroll"||t==="process-2-shifts-payroll"?e.jsx(Jee,{}):t==="processed-data"?e.jsx(CJ,{}):t==="daily-time-record-monitoring"?e.jsx(YQ,{}):t==="update-status"?e.jsx(kJ,{}):t==="update-employee-overtime-application"?e.jsx(EJ,{}):t==="update-employee-workshift"?e.jsx(AJ,{}):t==="update-employee-leave-application"?e.jsx(PJ,{}):t==="update-employee-pay-house"?e.jsx(MJ,{}):t==="update-employee-classification"?e.jsx(_J,{}):t==="update-batch-rest-day"?e.jsx(BJ,{}):t==="delete-employee-transactions"?e.jsx(RJ,{}):t==="update-rawdata-online"?e.jsx(HJ,{}):t==="update-daytype-rawdata"?e.jsx($J,{}):t==="update-workshift-rawdata"?e.jsx(GJ,{}):t==="delete-incomplete-logs"?e.jsx(VJ,{}):t==="delete-rawdata"?e.jsx(KJ,{}):t==="unpost-transaction"?e.jsx(XJ,{}):t==="additional-hours-per-week"?e.jsx(QJ,{}):t==="apply-ot-allowances"?e.jsx(eQ,{}):t==="apply-break-overbreak"?e.jsx(sQ,{}):t==="update-allowance-per-bracket"?e.jsx(rQ,{}):t==="update-gl-code-utility"?e.jsx(oQ,{}):t==="update-flexi-break"?e.jsx(iQ,{}):t==="update-sss-notification"?e.jsx(dQ,{}):t==="update-hours-per-week"?e.jsx(xQ,{}):t==="update-tardiness-penalty"?e.jsx(mQ,{}):t==="delete-ot-restday-absent"?e.jsx(gQ,{}):t==="process-overtime-cutoff"?e.jsx(yQ,{}):t==="update-assumed-days"?e.jsx(vQ,{}):t==="deduct-absences-excess"?e.jsx(NQ,{}):t==="process-overtime-24hours"?e.jsx(CQ,{}):t==="post-processed-timekeeping"?e.jsx(kQ,{}):t==="update-time-flag-breaks"?e.jsx(EQ,{}):t==="unpaid-lunch-deduction"?e.jsx(AQ,{}):t==="deduct-tardiness-to-overtime"?e.jsx(PQ,{}):t==="timekeep-group"||t==="tks-group-setup"||t==="timekeep-group-setup"?e.jsx(Nee,{}):t==="tks-group-setup-definition"?e.jsx(KQ,{}):t==="company-information"?e.jsx(XQ,{}):t==="calendar-setup"?e.jsx(JQ,{}):t==="holiday-ot-rates-setup"?e.jsx(ZQ,{}):t==="overtime-setup"?e.jsx(eZ,{}):t==="employee-master-file"?e.jsx(Lee,{}):t==="employee-timekeep-configuration"?e.jsx(zee,{}):t==="allowance-bracket-code-setup"?e.jsx(tZ,{}):t==="allowance-bracketing-setup"?e.jsx(sZ,{}):t==="allowance-per-classification-setup"?e.jsx(aZ,{}):t==="classification-setup"?e.jsx(rZ,{}):t==="earning-setup"?e.jsx(nZ,{}):t==="day-type-setup"?e.jsx(lZ,{}):t==="ams-database-configuration-setup"?e.jsx(Pee,{}):t==="borrowed-device-name"?e.jsx(Cee,{}):t==="coordinates-setup"?e.jsx(Aee,{}):t==="device-type-setup"?e.jsx(Tee,{}):t==="dtr-flag-setup"?e.jsx(See,{}):t==="dtr-log-fields-setup"?e.jsx(kee,{}):t==="sdk-list-setup"?e.jsx(iZ,{}):t==="mysql-database-configuration-setup"?e.jsx(Mee,{}):t==="equivalent-hours-deduction-setup"?e.jsx(cZ,{}):t==="group-schedule-setup"?e.jsx(pee,{}):t==="help-setup"?e.jsx(gee,{}):t==="leave-type-setup"?e.jsx(fee,{}):t==="additional-ot-hours-per-week"?e.jsx(yZ,{}):t==="regular-overtime-setup"?e.jsx(bZ,{}):t==="rest-day-overtime-setup"?e.jsx(vZ,{}):t==="payroll-location-setup"?e.jsx(yee,{}):t==="daily-schedule-setup"?e.jsx(wZ,{}):t==="rest-day-setup"?e.jsx(NZ,{}):t==="workshift-setup"?e.jsx($Z,{}):t==="unpaid-lunch-deduction-bracket-setup"?e.jsx(bee,{}):t==="bracket-code-setup"?e.jsx(WZ,{}):t==="tardiness-undertime-accumulation-table-setup"?e.jsx(GZ,{}):t==="area-setup"?e.jsx(zZ,{}):t==="branch-setup"?e.jsx(VZ,{}):t==="department-setup"?e.jsx(KZ,{}):t==="division-setup"?e.jsx(qZ,{}):t==="employee-designation-setup"?e.jsx(XZ,{}):t==="employee-status-setup"?e.jsx(JZ,{}):t==="group-setup"?e.jsx(QZ,{}):t==="job-level-setup"?e.jsx(ZZ,{}):t==="location-setup"?e.jsx(eee,{}):t==="pay-house-setup"?e.jsx(tee,{}):t==="online-approval-setup"?e.jsx(see,{}):t==="section-setup"?e.jsx(aee,{}):t==="unit-setup"?e.jsx(ree,{}):t==="create-new-database"?e.jsx(nee,{}):t==="email-configuration"?e.jsx(oee,{}):t==="audit-trail"?e.jsx(cee,{}):t==="security-manager"?e.jsx(u4,{}):t==="security"?e.jsx(u4,{}):t==="export-nav"?e.jsx(hee,{}):t==="export-payroll-data"?e.jsx(mee,{}):t==="payroll-dtr-allowance"?e.jsx(uee,{}):t==="timekeep-email-distribution"?e.jsx(BQ,{}):t==="include-unworked-holiday-pay-regular-days-hours"?e.jsx(RQ,{}):t==="nd-basic-round-down"?e.jsx(HQ,{}):t==="saturday-unworked-paid-regular-hours"?e.jsx(UQ,{}):t==="sunday-work-ot-if-worked-saturday"?e.jsx($Q,{}):t==="unpost-2-shifts-transaction"?e.jsx(WQ,{}):t==="delete-incomplete-logs-2-shifts"?e.jsx(GQ,{}):t==="delete-records-raw-data-2-shifts"?e.jsx(zQ,{}):t!=="home"?e.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-gray-900 mb-2",children:p4(t)}),e.jsxs("p",{className:"text-gray-600",children:["Content for ",p4(t)," will be displayed here."]})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 lg:px-6 py-8 flex-1",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Welcome back, Admin"}),e.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your timekeeping today"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(ap,{icon:Js,label:"Active Employees",value:"247",change:"+12 this month",changeType:"positive",color:"blue"}),e.jsx(ap,{icon:ur,label:"Hours This Week",value:"9,845",change:"+5.2% vs last week",changeType:"positive",color:"cyan"}),e.jsx(ap,{icon:Ba,label:"Pending Exceptions",value:"18",change:"Needs attention",changeType:"warning",color:"amber"}),e.jsx(ap,{icon:Sc,label:"Approved Time Cards",value:"229",change:"92.7% completion",changeType:"positive",color:"green"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(P0,{icon:cd,title:"Review Time Cards",description:"View and approve pending time cards",action:"Go to Time Cards"}),e.jsx(P0,{icon:Js,title:"Manage Employees",description:"Add, edit, or deactivate employees",action:"Manage Employees"}),e.jsx(P0,{icon:_S,title:"Generate Reports",description:"Create custom reports and exports",action:"View Reports"}),e.jsx(P0,{icon:Ba,title:"Exception Review",description:"Handle exceptions and discrepancies",action:"Review Exceptions"}),e.jsx(P0,{icon:hs,title:"Schedule Management",description:"Update shifts and schedules",action:"Manage Schedules"}),e.jsx(P0,{icon:A7,title:"Process Payroll",description:"Calculate and post payroll data",action:"Process Now"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(rp,{type:"success",title:"Payroll Posted",description:"Period ending 11/30/2025 successfully posted",time:"2 hours ago"}),e.jsx(rp,{type:"info",title:"New Employee Added",description:"Sarah Johnson added to Sales department",time:"4 hours ago"}),e.jsx(rp,{type:"warning",title:"Exception Created",description:"Missing punch for employee #1247",time:"Yesterday"}),e.jsx(rp,{type:"success",title:"Data Backup Complete",description:"Automated backup finished successfully",time:"Yesterday"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-gray-900 mb-4",children:"Upcoming Tasks"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(np,{title:"Weekly Payroll Processing",due:"Due in 2 days",priority:"high"}),e.jsx(np,{title:"Monthly Report Generation",due:"Due in 5 days",priority:"medium"}),e.jsx(np,{title:"Employee Schedule Update",due:"Due in 1 week",priority:"low"}),e.jsx(np,{title:"Quarterly Data Backup",due:"Due in 2 weeks",priority:"medium"})]})]})]})]})}function ap({icon:t,label:a,value:s,change:r,changeType:n,color:l}){const i={blue:"from-blue-500 to-blue-600",cyan:"from-cyan-500 to-cyan-600",amber:"from-amber-500 to-amber-600",green:"from-green-500 to-green-600"},c={positive:"text-green-600",warning:"text-amber-600",negative:"text-red-600"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:`p-3 bg-gradient-to-br ${i[l]} rounded-xl shadow-lg`,children:e.jsx(t,{className:"w-6 h-6 text-white"})})}),e.jsx("div",{className:"mb-1",children:e.jsx("div",{className:"text-gray-900",style:{fontSize:"1.875rem",lineHeight:"2.25rem"},children:s})}),e.jsx("div",{className:"text-gray-600 mb-2",children:a}),e.jsx("div",{className:`${c[n]}`,style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:r})]})}function P0({icon:t,title:a,description:s,action:r}){return e.jsxs("button",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md hover:border-blue-200 transition-all duration-200 text-left group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:e.jsx(t,{className:"w-5 h-5 text-blue-600"})}),e.jsx(KF,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h4",{className:"text-gray-900 mb-1",children:a}),e.jsx("p",{className:"text-gray-600 mb-3",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:s}),e.jsxs("div",{className:"text-blue-600",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:[r," "]})]})}function rp({type:t,title:a,description:s,time:r}){const n={success:"bg-green-100 text-green-600",info:"bg-blue-100 text-blue-600",warning:"bg-amber-100 text-amber-600"};return e.jsxs("div",{className:"flex items-start space-x-3 pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${n[t].replace("text-","bg-")}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900",children:a}),e.jsx("div",{className:"text-gray-600",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:s}),e.jsx("div",{className:"text-gray-500 mt-1",style:{fontSize:"0.75rem",lineHeight:"1rem"},children:r})]})]})}function np({title:t,due:a,priority:s}){const r={high:"bg-red-100 text-red-700",medium:"bg-amber-100 text-amber-700",low:"bg-blue-100 text-blue-700"};return e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-gray-900",children:t}),e.jsx("div",{className:"text-gray-600 mt-1",style:{fontSize:"0.875rem",lineHeight:"1.25rem"},children:a})]}),e.jsx("span",{className:`px-3 py-1 rounded-full ${r[s]}`,style:{fontSize:"0.75rem",lineHeight:"1rem"},children:s.charAt(0).toUpperCase()+s.slice(1)})]})}function p4(t){return{home:"Home","file-setup":"File Setup","timekeep-group-setup":"TimeKeep Group Setup","holiday-calendar":"Holiday Calendar",maintenance:"Maintenance","employee-master-file":"Employee Master File","employee-timekeep-configuration":"Employee Timekeep Configuration","raw-data":"Raw Data","raw-data-ot-group":"Raw Data OT Group","processed-data":"Processed Data",process:"Process",reports:"Reports",import:"Import","workshift-variable":"Workshift Variable","leave-application":"Leave Application","overtime-application":"Overtime Application","rawdata-ot-gap":"Rawdata OT Gap","rawdata-on-straight-duty":"Rawdata On Straight Duty","2-shifts-rawdata":"Two Shifts Raw Data","2-shifts-employee-timekeep-config":"Two Shifts Employee Timekeep Config",export:"Export",utilities:"Utilities",security:"Security","daily-time-record-monitoring":"Daily Time Record Monitoring","tks-group-setup-definition":"TKS Group Setup Definition","company-information":"Company Information","calendar-setup":"Calendar Setup","holiday-ot-rates-setup":"Holiday OT Rates Setup","overtime-setup":"Overtime Setup","allowance-bracket-code-setup":"Allowance Bracket Code Setup","allowance-bracketing-setup":"Allowance Bracketing Setup","allowance-per-classification-setup":"Allowance Per Classification Setup","classification-setup":"Classification Setup","earning-setup":"Earning Setup","day-type-setup":"Day Type Setup","ams-database-configuration-setup":"AMS Database Configuration Setup","borrowed-device-name":"Borrowed Device Name","coordinates-setup":"Coordinates Setup","device-type-setup":"Device Type Setup","dtr-flag-setup":"DTR Flag Setup","dtr-log-fields-setup":"DTR Log Fields Setup","sdk-list-setup":"SDK List Setup","mysql-database-configuration-setup":"MySQL Database Configuration Setup","equivalent-hours-deduction-setup":"Equivalent Hours Deduction Setup","group-schedule-setup":"Group Schedule Setup","help-setup":"Help Setup","leave-type-setup":"Leave Type Setup","additional-ot-hours-per-week":"Additional OT Hours Per Week","regular-overtime-setup":"Regular Overtime Setup","rest-day-overtime-setup":"Rest Day Overtime Setup","payroll-location-setup":"Payroll Location Setup","system-configuration-setup":"System Configuration Setup","daily-schedule-setup":"Daily Schedule Setup","rest-day-setup":"Rest Day Setup","workshift-setup":"Workshift Setup","unpaid-lunch-deduction-bracket-setup":"Unpaid Lunch Deduction Bracket Setup","bracket-code-setup":"Bracket Code Setup","tardiness-undertime-accumulation-table-setup":"Tardiness Undertime Accumulation Table Setup","area-setup":"Area Setup","branch-setup":"Branch Setup","department-setup":"Department Setup","division-setup":"Division Setup","employee-designation-setup":"Employee Designation Setup","employee-status-setup":"Employee Status Setup","group-setup":"Group Setup","job-level-setup":"Job Level Setup","location-setup":"Location Setup","pay-house-setup":"Pay House Setup","online-approval-setup":"Online Approval Setup","section-setup":"Section Setup","unit-setup":"Unit Setup","create-new-database":"Create New Database","email-configuration":"Email Configuration","audit-trail":"Audit Trail","export-nav":"Export NAV","export-payroll-data":"Export Payroll Data","payroll-dtr-allowance":"Payroll DTR Allowance"}[t]||t}function Zee({onLogout:t}){const[a,s]=o.useState("home"),n=["workshift-variable","import-workshift-variable","import-adjustment","import-device-code","import-employee-masterfile","overtime-application","import-overtime-application","leave-application","import-leave-application","logs-from-device-v2","import-logs-from-device-v2","update-raw-data","update-rawdata-import","raw-data-ot-group","rawdata-ot-gap","rawdata-on-straight-duty","2-shifts-rawdata","raw-data","process","2-shifts-payroll","process-data","process-2-shifts-payroll","processed-data","daily-time-record-monitoring","timekeep-group","timekeep-group-setup","tks-group-setup","tks-group-setup-definition","company-information","calendar-setup","holiday-ot-rates-setup","overtime-setup","employee-master-file","employee-timekeep-configuration","allowance-bracket-code-setup","allowance-bracketing-setup","allowance-per-classification-setup","classification-setup","earning-setup","day-type-setup","ams-database-configuration-setup","borrowed-device-name","coordinates-setup","device-type-setup","dtr-flag-setup","dtr-log-fields-setup","sdk-list-setup","mysql-database-configuration-setup","equivalent-hours-deduction-setup","group-schedule-setup","help-setup","leave-type-setup","additional-ot-hours-per-week","regular-overtime-setup","rest-day-overtime-setup","payroll-location-setup","system-configuration-setup","daily-schedule-setup","rest-day-setup","workshift-setup","unpaid-lunch-deduction-bracket-setup","bracket-code-setup","tardiness-undertime-accumulation-table-setup","area-setup","branch-setup","department-setup","division-setup","employee-designation-setup","employee-status-setup","group-setup","job-level-setup","location-setup","pay-house-setup","online-approval-setup","section-setup","unit-setup","2-shifts-employee-timekeep-config","overtime-application-2-shifts","workshift-variable-2-shifts","logs-from-device-2-shifts","update-status","update-employee-overtime-application","update-employee-workshift","update-employee-leave-application","update-employee-pay-house","update-employee-classification","update-batch-rest-day","delete-employee-transactions","update-rawdata-online","update-daytype-rawdata","update-workshift-rawdata","delete-incomplete-logs","delete-rawdata","unpost-transaction","additional-hours-per-week","apply-ot-allowances","apply-break-overbreak","update-allowance-per-bracket","update-gl-code-utility","update-sss-notification","process-overtime-24hours","post-processed-timekeeping","update-time-flag-breaks","unpaid-lunch-deduction","update-flexi-break","deduct-tardiness-to-overtime","timekeep-email-distribution","include-unworked-holiday-pay-regular-days-hours","nd-basic-round-down","saturday-unworked-paid-regular-hours","sunday-work-ot-if-worked-saturday","unpost-2-shifts-transaction","delete-incomplete-logs-2-shifts","delete-records-raw-data-2-shifts"].includes(a);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-lime-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"})]}),e.jsx(lM,{onLogout:t,activeSection:a,setActiveSection:s}),e.jsx(Qee,{activeSection:a}),!n&&e.jsx(ls,{})]})}const ete="128bl3$$1ng$",tte="bl3$$1ng$128";let op=null;function ste(){if(op)return op;const t=An.enc.Utf16LE.parse(tte),a=An.PBKDF2(ete,t,{keySize:12,iterations:1e3,hasher:An.algo.SHA1});return op={iv:An.lib.WordArray.create(a.words.slice(0,4)),key:An.lib.WordArray.create(a.words.slice(4,12))},op}function Ob(t){if(!t)return"";try{const{key:a,iv:s}=ste(),r=An.enc.Utf16LE.parse(t);return An.AES.encrypt(r,a,{iv:s,mode:An.mode.CBC,padding:An.pad.Pkcs7}).toString()}catch(a){return console.error("Encryption Error:",a),""}}function ate({onLogin:t,onForgotPassword:a}){const[s,r]=o.useState(""),[n,l]=o.useState(""),[i,c]=o.useState(""),[u,h]=o.useState([]),[m,b]=o.useState(!0),[g,w]=o.useState(!1),[p,v]=o.useState(!1),[f,y]=o.useState("");o.useEffect(()=>{(async()=>{try{const k=(await z.get("Security/DatabaseConfiguration/databases")).data?.servers??[];h(k),k.length>0&&c(k[0])}catch(I){console.error("Failed to fetch companies:",I);const k=["DEMO COMPANY INC"];h(k),c(k[0])}finally{b(!1)}})()},[]);const N=async S=>{S.preventDefault(),y(""),v(!0);try{const I=Ob(s),k=Ob(n),A=Ob(i),F=await z.post("UserLogin/login",{username:I,password:k,company:A,windowsAuth:g});F.status===200&&(F.data.token&&(localStorage.setItem("authToken",F.data.token),localStorage.setItem("loginTimestamp",new Date().getTime().toString())),F.data&&localStorage.setItem("loginPayload",JSON.stringify(F.data)),F.data.user&&localStorage.setItem("userData",JSON.stringify(F.data.user)),await xe.fire({icon:"success",title:"Login Successful",text:"Welcome back!",timer:2e3,showConfirmButton:!1}),t())}catch(I){C(I)}finally{v(!1)}},C=async S=>{const I=S.response?.status,k=S.response?.data?.message||S.message||"Login failed. Please try again.";y(k),I===401?await xe.fire({icon:"error",title:"Invalid Credentials",text:"Invalid username or password.",confirmButtonColor:"#dc2626"}):I===403?await xe.fire({icon:"warning",title:"Account Suspended",text:k,confirmButtonColor:"#dc2626"}):I===400?await xe.fire({icon:"warning",title:"Invalid Input",text:k,confirmButtonColor:"#dc2626"}):I>=500?await xe.fire({icon:"error",title:"Server Error",text:"Server error. Please try again later.",confirmButtonColor:"#dc2626"}):S.message==="Network Error"||!S.response?await xe.fire({icon:"error",title:"Connection Error",text:"Unable to connect to the server.",confirmButtonColor:"#dc2626"}):await xe.fire({icon:"error",title:"Login Failed",text:k,confirmButtonColor:"#dc2626"})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-20 -left-20 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob"}),e.jsx("div",{className:"absolute top-40 -right-20 w-96 h-96 bg-lime-200 rounded-full mix-blend-multiply filter blur-3xl opacity-60 animate-blob animation-delay-2000"})]}),e.jsx("div",{className:"w-full bg-green-600 text-white py-3",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-white tracking-wide",children:"DEMO ACCOUNT"})})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-6 relative z-10",children:e.jsxs("div",{className:"w-full max-w-md relative",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8 pt-16",children:[e.jsx("div",{className:"flex flex-col items-center mb-8",children:e.jsx("h2",{className:"text-gray-900 text-center",children:"Login"})}),e.jsxs("form",{onSubmit:N,className:"space-y-5",children:[f&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-700 text-sm",children:f})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ig,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:s,onChange:S=>r(S.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"Username"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(XP,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"password",value:n,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-700 placeholder-gray-400",placeholder:"Password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-600 mb-2",style:{fontSize:"0.875rem"},children:"Company Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(da,{className:"h-5 w-5 text-gray-400"})}),e.jsx("select",{value:i,onChange:S=>c(S.target.value),disabled:m,className:"w-full pl-10 pr-10 py-3 bg-white border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 appearance-none cursor-pointer text-gray-700 disabled:opacity-60 disabled:cursor-not-allowed",children:m?e.jsx("option",{value:"",children:"Loading companies"}):u.map(S=>e.jsx("option",{value:S,children:S},S))}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:m?e.jsxs("svg",{className:"h-5 w-5 text-gray-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{className:"flex items-center pt-2",children:[e.jsx("input",{type:"checkbox",id:"windowsAuth",checked:g,onChange:S=>w(S.target.checked),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsx("label",{htmlFor:"windowsAuth",className:"ml-3 text-gray-700 cursor-pointer select-none",children:"Windows Authentication"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{type:"submit",disabled:p||m,className:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-md hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 uppercase tracking-wider disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-red-500 disabled:hover:to-red-600 disabled:hover:shadow-lg disabled:transform-none",children:p?"Logging in...":"Log in"}),e.jsx("button",{type:"button",onClick:a,disabled:p,className:"text-blue-600 hover:text-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Forgot Password?"})]})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-gray-500",style:{fontSize:"0.875rem"},children:"v7.3  Secure Login"})})]})}),e.jsx("div",{className:"bg-green-700 text-white px-6 py-4 relative z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto text-center",children:e.jsx("p",{className:"text-white",style:{fontSize:"0.875rem"},children:" 128 Tech Consulting Inc. 2025. All Rights Reserved."})})}),e.jsx("style",{children:`
        @keyframes blob {
          0%   { transform: translate(0px, 0px) scale(1); }
          33%  { transform: translate(30px, -50px) scale(1.1); }
          66%  { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
      `})]})}const rte="/TKS_128_TEST/assets/61938a0d79b7addf7705f197066d189cda2ff9a9-C5CCugB1.png";function nte({onBack:t}){const[a,s]=o.useState(""),[r,n]=o.useState(!1),l=i=>{i.preventDefault(),n(!0)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsx("img",{src:rte,alt:"LifeBank Foundation",className:"h-12 object-contain"})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-6 py-3 shadow-md",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-white/95",children:"LIFEBANK MICROFINANCE FOUNDATION, INC."})})}),e.jsxs("div",{className:"flex-1 flex items-center justify-center p-6",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 right-10 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),e.jsx("div",{className:"absolute bottom-20 left-10 w-96 h-96 bg-cyan-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"})]}),e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(Sc,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-gray-900 mb-2",children:"Check Your Email"}),e.jsx("p",{className:"text-gray-600",children:"If an account exists with the provided email or username, you will receive password reset instructions shortly."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-blue-800",style:{fontSize:"0.875rem"},children:[e.jsx("strong",{children:"Note:"})," The email may take a few minutes to arrive. Please check your spam folder if you don't see it in your inbox."]})}),e.jsx("button",{type:"button",onClick:t,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40",children:"Back to Login"}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>n(!1),className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Didn't receive the email? Try again"})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-gray-900 mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-gray-600",children:"Enter your email address or username and we'll send you instructions to reset your password."})]}),e.jsxs("form",{onSubmit:l,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:"Email or Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(tu,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",id:"email",value:a,onChange:i=>s(i.target.value),className:"w-full pl-12 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email or username",required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 px-6 rounded-xl hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 transform hover:-translate-y-0.5",children:"Send Reset Instructions"}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{type:"button",onClick:t,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(VF,{className:"w-4 h-4"}),e.jsx("span",{children:"Back to Login"})]})})]})]})}),e.jsx("div",{className:"text-center mt-6",children:e.jsx("p",{className:"text-gray-500",style:{fontSize:"0.875rem"},children:"v7.3  Secure Login"})})]})]}),e.jsx("style",{children:`
        @keyframes blob {
          0% {
            transform: translate(0px, 0px) scale(1);
          }
          33% {
            transform: translate(30px, -50px) scale(1.1);
          }
          66% {
            transform: translate(-20px, 20px) scale(0.9);
          }
          100% {
            transform: translate(0px, 0px) scale(1);
          }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function ote(){const[t,a]=o.useState(!1),[s,r]=o.useState(!1),[n,l]=o.useState(!0);return o.useEffect(()=>{localStorage.getItem("authToken")&&a(!0),l(!1)},[]),n?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-lime-200 via-green-400 to-lime-200 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Loading..."})]})}):t?e.jsx(Zee,{onLogout:()=>a(!1)}):s?e.jsx(nte,{onBack:()=>r(!1)}):e.jsx(ate,{onLogin:()=>a(!0),onForgotPassword:()=>r(!0)})}N6.createRoot(document.getElementById("root")).render(e.jsx(ote,{}));
